{"version":3,"sources":["dijit-all.js"],"names":["define","require","module","has","isBrowser","window","location","document","global","this","doc","element","createElement","cache","config","name","add","test","now","force","process","versions","node","v8","load","Packages","addEventListener","navigator","maxTouchPoints","msMaxTouchPoints","screen","availWidth","innerWidth","form","attributes","length","clearElement","innerHTML","normalize","id","toAbsMid","tokens","match","i","get","skip","term","req","onLoad","parentRequire","loaded","result","p","src","rawConfig","adviseHas","featureSet","prefix","booting","dojoConfig","djConfig","locale","language","userLanguage","toLowerCase","item","dijit","dojox","dojo","scopeMap","packageMap","map","_scopeName","noGlobals","baseUrl","isAsync","async","rev","version","major","minor","patch","flag","revision","NaN","toString","v","Function","exit","exitcode","quit","console","tn","cn","tcn","a","Array","prototype","slice","call","arguments","unshift","join","_fake","isDebug","deprecated","experimental","behaviour","extra","removal","message","warn","moduleName","modulePaths","paths","replace","moduleUrl","url","toUrl","_hasResource","n","dua","userAgent","dav","appVersion","tv","parseFloat","indexOf","split","undefined","compatMode","RegExp","$1","os","SVGAngle","all","isIE","mode","documentMode","Math","floor","opera","wiiremote","_extraNames","_extraLen","getProp","parts","create","context","shift","e","opts","Object","efficient","obj","offset","startWith","concat","_pattern","lang","_mixin","dest","source","copyFunc","s","empty","mixin","sources","l","setObject","value","pop","getObject","exists","isString","it","String","isArray","isFunction","isObject","isArrayLike","tagName","isFinite","isAlien","extend","ctor","props","_hitchArgs","scope","method","pre","_toArray","named","args","f","apply","hitch","delegate","TMP","tmp","arr","x","push","partial","clone","nodeType","cloneNode","Date","getTime","r","constructor","trim","str","tmpl","pattern","_","k","u","buildFn","fn","everyOrSome","some","every","o","index","up","delta","lOver","uOver","from","last","array","lastIndexOf","end","forEach","callback","thisObject","Ctr","out","filter","clearCache","ret","body","getElementsByTagName","setContext","globalObject","globalDocument","withGlobal","cbArguments","oldGlob","withDoc","documentObject","pwin","oldDoc","oldQ","oldIE","isQuirks","parentWindow","win","execCommand","dom","byId","_d","te","getElementById","eles","nodeName","isDescendant","ancestor","parentNode","style","prefixes","cssUserSelect","setSelectable","selectable","nodes","removeAttribute","setAttribute","getComputedStyle","toPixel","dv","ownerDocument","defaultView","display","currentStyle","avalue","rs","runtimeStyle","cs","sLeft","left","rsLeft","pixelLeft","toPixelValue","astr","af","filters","_getOpacity","Opacity","opacity","_setOpacity","ov","fullyOpaque","zoom","Enabled","td","firstChild","nextSibling","_pixelNamesCache","top","_pixelRegExp","_floatAliases","cssFloat","styleFloat","float","op","type","offsetHeight","offsetWidth","_toStyleValue","set","exports","attr","html5domfix","tagWrap","option","tbody","thead","tfoot","tr","th","legend","caption","colgroup","col","li","reTag","masterNode","masterNum","masterName","param","hasOwnProperty","tw","post","reverse","_insertBefore","ref","parent","insertBefore","__dojo_html5_tested","div","visibility","childNodes","destroy","toDom","frag","masterId","wrap","fc","df","tag","master","removeChild","createDocumentFragment","appendChild","place","refNode","position","lastChild","_insertAfter","replaceChild","attrs","pos","_empty","c","canHaveChildren","removeNode","_destroy","aspect","ScriptEngineMajorVersion","ScriptEngineMinorVersion","Event","stopImmediatePropagation","EventDelegate","createEvent","eventDelegate","target","on","listener","dontFix","parse","addListener","pausable","paused","signal","pause","resume","once","remove","matchesTarget","events","eventName","handles","touchEvents","selector","fixTouchListener","addStopImmediate","capture","captures","adjustedType","removeEventListener","fixAttach","attachEvent","Error","syntheticPreventDefault","cancelable","defaultPrevented","syntheticStopPropagation","bubbles","matches","children","query","eventType","bubble","select","eventTarget","event","syntheticDispatch","emit","newEvent","preventDefault","stopPropagation","focusin","focusout","immediatelyStopped","modified","dispatchEvent","nativeEvent","initEvent","_fixEvent","evt","sender","w","lastEvent","srcElement","currentTarget","relatedTarget","fromElement","toElement","charCode","keyCode","_setKeyChar","IESignal","handle","_dojoIEListeners_","setTimeout","fixListener","emitter","listeners","oldListener","after","keyChar","fromCharCode","charOrCode","cancelBubble","_preventDefault","bubbledKeyCode","ctrlKey","returnValue","windowOrientation","orientation","originalEvent","corrected","rotation","scale","firstChangeTouch","changedTouches","nextId","methodName","advice","receiveArguments","dispatcher","existing","executionId","before","next","around","results","newResults","previous","advised","advise","Evented","hub","publish","topic","subscribe","geom","boxModel","getPadExtents","computedStyle","px","paddingLeft","t","paddingTop","paddingRight","b","paddingBottom","h","none","setBox","isNaN","width","height","isButtonTag","getAttribute","usesBorderBox","getBorderExtents","borderLeftStyle","borderLeftWidth","borderTopStyle","borderTopWidth","borderRightStyle","borderRightWidth","borderBottomStyle","borderBottomWidth","getPadBorderExtents","getMarginExtents","marginLeft","marginTop","marginRight","marginBottom","getMarginBox","pcs","me","offsetLeft","offsetTop","sl","st","overflow","getContentBox","clientWidth","pe","be","clientHeight","setContentSize","box","pb","nilExtents","setMarginBox","mb","ns","max","isBodyLtr","dir","documentElement","docScroll","pageXOffset","y","pageYOffset","fixIeBiDiScrollLeft","scrollLeft","scrollTop","getIeDocumentElementOffset","de","getBoundingClientRect","clientLeft","clientTop","ie","qk","frameElement","scrollHeight","scrollWidth","includeScroll","db","right","bottom","scroll","getMarginSize","size","normalizeEvent","layerX","offsetX","layerY","offsetY","se","docBody","pageX","clientX","pageY","clientY","fixEvent","fix","stop","stopEvent","mouseButtons","wheel","eventHandler","selectHandler","handler","LEFT","MIDDLE","RIGHT","isButton","button","isLeft","isMiddle","isRight","wheelDelta","detail","_eventHandler","enter","leave","_name","isFF","isKhtml","isWebKit","isMozilla","isMoz","isOpera","isSafari","isChrome","isMac","isIos","isAndroid","isWii","isAir","keys","BACKSPACE","TAB","CLEAR","ENTER","SHIFT","CTRL","ALT","META","PAUSE","CAPS_LOCK","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","INSERT","DELETE","HELP","LEFT_WINDOW","RIGHT_WINDOW","SELECT","NUMPAD_0","NUMPAD_1","NUMPAD_2","NUMPAD_3","NUMPAD_4","NUMPAD_5","NUMPAD_6","NUMPAD_7","NUMPAD_8","NUMPAD_9","NUMPAD_MULTIPLY","NUMPAD_PLUS","NUMPAD_ENTER","NUMPAD_MINUS","NUMPAD_PERIOD","NUMPAD_DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","NUM_LOCK","SCROLL_LOCK","UP_DPAD","DOWN_DPAD","LEFT_DPAD","RIGHT_DPAD","copyKey","eventModule","mouse","testKeyEvent","initKeyboardEvent","initKeyEvent","keypress","_punctMap","106","111","186","187","188","189","190","191","192","219","220","221","222","229","evtCopyKey","_synthesizeEvent","faux","setKeyChar","object","keydownSignal","unprintable","shiftKey","code","_trySetKeyCode","keypressSignal","which","connect","_keypress","a1","substring","disconnect","connectPublisher","pf","isCopyKey","unsubscribe","ctr","conn","_evtHdlrMap","_ctr","_attrId","names","class","for","tabindex","readonly","colspan","frameborder","rowspan","textcontent","valuetype","lc","propName","getText","text","ch","nodeValue","table","title","createTextNode","attrId","prop","forcePropNames","textContent","className","htmlFor","attrNames","classname","htmlfor","_hasAttr","getAttributeNode","specified","forceProp","attrName","getNodeProp","domAttr","domStyle","a11y","_isElementShown","elem","hasDefaultTabStop","contentDocument","designMode","e1","contentWindow","e2","contentEditable","effectiveTabIndex","isTabNavigable","isFocusable","_getTabNavigable","root","first","lowest","lowestTabindex","highest","highestTabindex","radioSelected","radioName","shown","walkTree","child","scopeName","rn","toUpperCase","getFirstInTabbingOrder","elems","getLastInTabbingOrder","mix","xtor","counter","cname","err","msg","cls","inherited","chains","bases","caller","meta","base","proto","opf","_inherited","callee","nom","declaredClass","_meta","hidden","getInherited","__inherited","inheritedImpl","a2","isInstanceOf","mixOwn","extraNames","declare","safeMixin","createSubclass","mixins","chain","reversed","m","step","forceNew","applyNew","superclass","parents","j","lin","rec","refs","roots","nameMap","clsCount","count","c3mro","postscript","simpleConstructor","ctorSpecial","a0","preamble","singleConstructor","preArgs","chainedConstructor","_widgetTypeCtr","hash","registry","widget","byNode","toArray","ar","getUniqueId","widgetType","findWidgets","skipNode","outAry","getChildrenHelper","widgetId","_destroyAll","_curFocus","_prevFocus","_activeStack","_destroyed","destroyRecursive","getEnclosingWidget","_hash","kernel","WidgetSet","func","thisObj","res","byClass","spaces","str2array","fakeNode","contains","classStr","oldLen","len","substr","addClassStr","removeClassStr","toggle","condition","recursiveGuard","readyStates","complete","fixReadyState","readyState","ready","readyQ","domReady","processQ","error","stack","_onQEmpty","_Q","tests","detectReady","detachEvent","doScroll","poller","ErrorCtor","captureStackTrace","dojoType","throwAbstract","TypeError","then","errback","progback","cancel","reason","strict","isResolved","isRejected","isFulfilled","isCanceled","always","callbackOrErrback","otherwise","trace","traceRejected","CancelError","Promise","instrumentation","FULFILLED_ERROR_MESSAGE","freezeObject","freeze","signalWaiting","waiting","rejection","deferred","Deferred","instrumentRejected","signalListener","newResult","signalDeferred","makeDeferredSignaler","promise","progress","resolve","reject","canceler","fulfilled","canceled","update","returnedReason","valueOrPromise","receivedPromise","nativePromise","when","_attrPairNames","_getAttrNames","apn","g","params","_get","oldValue","setter","_watchCallbacks","self","_changeAttrValue","watch","callbacks","ignoreCatchall","notify","propertyCallbacks","unwatch","splice","baseWindow","domConstruct","scrollable","overflowX","direction","outer","inner","getBox","scrollRoot","uiWindow","innerHeight","execScript","_parentWindow","scrollIntoView","html","isWK","backCompat","rootWidth","min","rootHeight","nodePos","el","isFixed","scrollElementBy","scrollBy","elPos","fixedPos","rtl","clientSize","scrollBarSize","old","bot","ceil","domClass","Stateful","winUtils","lastFocusin","lastTouchOrFocusin","FocusManager","curNode","activeStack","check","prevNode","registerIframe","iframe","registerWin","targetWindow","effectiveNode","_this","mdh","_onTouchNode","fih","_onFocusNode","foh","_onBlurNode","_clearFocusTimer","clearTimeout","_clearActiveWidgetsTimer","_setStack","by","newStack","popupParent","domNode","oldStack","lastOldIdx","lastNewIdx","_hasBeenBlurred","_focusManager","_onBlur","_onFocus","focus","singleton","oldVal","newVal","SelectionManager","getType","getSelection","oSel","stype","rangeCount","oRange","getRangeAt","startContainer","endContainer","endOffset","startOffset","selection","getSelectedText","createRange","getSelectedHtml","cloneContents","htmlText","getSelectedElement","anchorNode","anchorOffset","range","getParentElement","collapse","parentElement","hasAncestorElement","getAncestorElement","getParentOfType","isTag","tags","_nlc","_tlc","beginning","removeAllRanges","collapseToStart","collapseToEnd","sel","deleteFromDocument","clear","selectElementChildren","nochangefocus","setStart","setEnd","addRange","selectAllChildren","createTextRange","moveToElementText","selectElement","selectNode","tg","createControlRange","addElement","inSelection","newRange","compareBoundaryPoints","START_TO_END","compareEndPoints","getBookmark","bm","rg","cf","isCollapsed","start","selectionStart","selectionEnd","pRange","mark","cloneRange","moveToBookmark","bookmark","getFocus","menu","openedForWindow","unregisterIframe","unregisterWin","collapsed","focusNode","defaultDuration","focusedNode","Viewport","oldBox","_rlh","newBox","deviceXDPI","setInterval","getEffectiveBox","readOnly","rect","domGeometry","_place","choices","layoutNode","aroundNodeCoords","view","best","choice","corner","spaceAvailable","L","R","M","charAt","T","B","aroundCorner","oldDisplay","oldVis","bb","startXpos","startYpos","startX","startY","endX","endY","side","TL","TR","BL","BR","at","corners","padding","anchor","positions","leftToRight","aroundNodePos","anchorBorder","anchorChildBorder","nodeBorder","nodeChildBorder","sawPosAbsolute","parentPos","bottomYCoord","rightXCoord","ltr","windowUtils","getViewport","placeOnScreen","placeOnScreenAroundElement","aroundNode","aroundCorners","key","placeOnScreenAroundNode","placeOnScreenAroundRectangle","getPopupAroundAlignment","align","_frames","queue","burl","tabIndex","BackgroundIframe","resize","_conn","destroyWrapper","_popupWrapper","PopupManager","_stack","_beginZIndex","_idGen","_repositionAll","_firstAroundNode","oldPos","_firstAroundPosition","newPos","dx","dy","wrapper","_aroundMoveListener","_createWrapper","role","aria-label","label","ownerDocumentBody","moveOffScreen","hide","border","cssText","_originalStyle","getTopPopup","pi","open","popup","orient","isLeftToRight","close","startup","_started","maxHeight","popupSize","Infinity","viewport","aroundPos","borderStyle","borderLeftColor","overflowY","zIndex","baseClass","dijitPopupParent","bgIframe","layoutFunc","handlers","onCancel","topPopup","onExecute","onClose","onOpen","origCreateWrapper","origOpen","ary","geometry","maj","ff","classes","dj_quirks","dj_opera","dj_khtml","dj_webkit","dj_safari","dj_chrome","dj_gecko","dj_ios","dj_android","clz","rtlClassStr","typematic","_fireEventAndReload","_timer","_callback","_count","_node","_evt","_currentTimeout","_initialDelay","_subsequentDelay","round","_minDelay","trigger","subsequentDelay","initialDelay","minDelay","_obj","addKeyListener","keyObject","altKey","metaKey","addMouseListener","mouseNode","keyNode","blankGif","bkImg","backgroundImage","hc","borderTopColor","borderRightColor","outerHTML","hasWaiRole","waiRole","getWaiRole","setWaiRole","removeWaiRole","roleValue","hasWaiState","state","hasAttribute","getWaiState","setWaiState","removeWaiState","getDocumentWindow","_base","ore","ire","_Url","_a","uri","relobj","uriobj","path","scheme","authority","segs","fragment","user","password","host","port","objectOrArray","keyLookup","stamp","fromISOString","formattedString","defaultTime","_isoRegExp","exec","setFullYear","zoneSign","Number","getTimezoneOffset","setTime","toISOString","dateObject","options","formattedDate","getter","zulu","date","year","time","millis","milliseconds","timezoneOffset","absOffset","abs","fullEngine","testDiv","querySelectorAll","optionalLoad","engine","loader","defaultEngine","ap","aps","apc","loopBody","NodeList","isNew","nl","nodeArray","sort","nlp","_NodeListCtor","queryForEngine","search","_wrap","NodeListCtor","nodeList","_stash","_adaptAsMap","_adaptAsForEach","_adaptAsFilter","_adaptWithCondition","_parent","items","_filterResult","instantiate","properties","_filterQueryResult","isDomReady","loadQ","onLoadRecursiveGuard","handleDomReady","_postLoad","afterOnLoad","onEvent","idle","info","addOnLoad","priority","hitchArgs","dca","parseOnLoad","parser","dlang","darray","dwindow","dates","don","myEval","eval","extendCnt","getNameMap","_nameCaseMap","_extendCnt","_ctorMap","getCtor","types","contextRequire","ts","_clearCache","_functionFromScript","script","attrData","suffix","argsStr","withStr","fnArgs","part","dataDojoType","dataDojoMixins","list","mixinsValue","_instantiate","returnPromise","thelist","construct","scripts","onConstruct","noStart","instance","defaults","lcName","jsname","funcAttrs","dojoAttachPoint","dojoAttachEvent","pVal","lcfname","propsThis","_noScript","aspects","calls","watches","ons","scriptType","nf","markupFactory","onInstantiate","scan","mids","midsHash","dataDojoTextDir","findAncestorAttr","textDir","scriptsOnly","getEffective","grandparent","current","childScripts","stopParser","d","instantiateChildren","_require","vars","_scanAmd","rootNode","template","instances","parsedNodes","_instances","preserveDom","own","cleanupMethods","destroyMethodName","odh","hdhs","onManualDestroy","hdh","cleanupMethod","Destroyable","_BidiMixin","tagAttrs","nonEmptyAttrToDom","val","_set","_WidgetBase","_setIdAttr","_setLangAttr","_setDirAttr","_setClassAttr","_setTypeAttr","tooltip","srcNodeRef","containerNode","_setOwnerDocumentAttr","attributeMap","_blankGif","_introspect","_setterAttrs","onMap","_onMap","deleteSrcNodeRef","_connects","_supportingWidgets","postMixInProperties","buildRendering","_applyAttributes","postCreate","_created","getChildren","_beingDestroyed","destroyDescendants","uninitialize","destroyRendering","_setStyleAttr","mapNode","_attrToDom","commands","command","attribute","defaultNode","attrsForTag","getAttrs","uc","prevValue","newValue","eventObj","callbackArgs","widgetMethod","getParent","placeAt","reference","refWidget","addChild","defer","fcn","delay","timer","clicksInited","clickTracker","clickTarget","clickX","clickY","clickDx","clickDy","clickTime","lastTouch","hoveredNode","ios4","hasPointer","pointer","down","move","over","hasTouch","useTarget","dualEvent","mouseType","touchType","pointerType","handle1","handle2","doClicks","moveType","endType","markedNode","dojoClick","marked","disabled","updateClickTracker","elementFromPoint","stopNativeEvents","_dojo_click","clickEvt","initMouseEvent","screenX","screenY","copyEventProps","touches","targetTouches","oldNode","newNode","touch","press","release","clickKey","lastKeyDownNode","_origType","click","touchListener","keyListener","a11yclick","focused","onFocus","onBlur","_OnDijitClickMixin","_FocusMixin","connectToDomNode","aroundAdvice","originalConnect","_Widget","onClick","onDblClick","onKeyDown","onKeyPress","onKeyUp","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseLeave","onMouseEnter","onMouseUp","_toConnect","_setFocusedAttr","_focused","getDescendants","_onShow","onShow","onHide","request","sync","headers","X-Requested-With","theCache","strip","notFound","pending","sanitize","dynamic","stripFlag","absMid","requireCacheUrl","finish","pendingList","ESCAPE_REGEXP","ESCAPE_MAP","&","<",">","\"","'","/","string","escape","rep","num","buf","pad","substitute","transform","format","synthEvents","mouseenter","mouseleave","_AttachMixin","_attachPoints","_attachEvents","_attachTemplateNodes","_beforeFillContent","_processTemplateNode","_attach","searchContainerNode","baseNode","getAttrFunc","attachFunc","_attachScope","attachScope","attachPoint","point","points","thisFunc","funcNameArr","_detachTemplateNodes","_TemplatedMixin","templateString","templatePath","_skipNodeCache","_stringRepl","_escapeValue","_rendered","cached","getCachedTemplate","_fillContent","hasChildNodes","_templateCache","alwaysUseString","tmplts","insertIndex","hasChildren","_getSiblingOfChild","idx","getIndexOfChild","_getSibling","getPreviousSibling","getNextSibling","getIndexInParent","_Container","_Contained","isLayoutContainer","_setTitleAttr","changeSize","resultSize","_borderBox","_contentBox","layout","_setupChild","CssStateMixin","hovering","active","cssStateNodes","_trackMouseState","_setStateClass","_cssMouseEvent","_mouseDown","newStateClasses","multiply","modifier","checkedState","checked","selected","_opened","stateNode","classHash","_stateClasses","newClasses","_subnodeCssMouseEvent","clazz","hover","isHovering","isActive","isFocused","_cssState","pointerHandler","activeNode","alt","_setTabIndexAttr","intermediateChanges","scrollOnFocus","_setDisabledAttr","valueNode","attachPointNames","attachPointName","focusHandle","mouseUpHandle","compare","val1","val2","onChange","_onChangeActive","_handleOnChange","priorityChange","_lastValueReported","_resetValue","_pendingOnChange","_onChangeHandle","_CssStateMixin","_FormWidgetMixin","setDisabled","setValue","getValue","nameAttrSetting","_setReadOnlyAttr","_setValueAttr","undo","reset","_FormWidget","_FormValueMixin","_layoutHackIE7","pingNode","origFilter","disconnectHandle","getMilliseconds","PaletteMixin","defaultTimeout","timeoutChangeRate","_selectedCell","cellClass","dyeClass","_dyeFactory","dyeClassObj","_preparePalette","titles","_cells","gridNode","row","rowNode","cellObject","cellNode","fillCell","dye","_xDim","_yDim","keyIncrementMap","increment","_navigateByKey","_setCurrent","_currentFocus","_onCellClick","_getDye","typeCount","newFocusIndex","cell","hasJSON","JSON","stringify","escapeString","SyntaxError","replacer","spacer","undef","indent","objtype","toJSON","plus","valueOf","nextIndent","sep","newLine","itl","output","keyStr","xhr","json","thisModule","i18n","nlsRe","getBundleName","bundleName","getL10nName","preloadDemand","preloadL10n","waitForPreloads","bundlePath","bundlePathAndName","localeSpecified","targetLocale","loadTarget","loadList","extraLocale","getLocalesToLoad","remaining","checkForLegacyModules","ROOT","availableLocales","localeParts","specificity","getAvailableLocales","_v1x","$locale","doLoad","unitTests","normalizeLocale","isXd","mid","isXdUrl","preloading","preloadWaitQueue","_preloadLocalizations","bundlePrefix","localesGenerated","guaranteedAmdFormat","forEachLocale","preloadingAddLock","preloadingRelLock","cacheId","loc","preload","syncRequire","doRequire","rollup","bundle","localized","_localized","improveBundle","requiredBundles","cacheIds","amdValue","evalBundle","deps","syncLoadNls","getLocalization","l10nName","result_","doh","register","is","prop-x","ArrayUtil","Color","color","setColor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","transparent","transparentColor","fromString","fromArray","toRgb","toRgba","toHex","toCss","includeAlpha","rgb","blendColors","weight","fromRgb","colorFromRgb","fromHex","colorFromHex","bits","mask","colorFromArray","colorFromString","ColorExt","hue2rgb","m1","m2","h6","H","S","confine","low","high","makeGrey","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","_PaletteMixin","ColorPalette","palette","_palettes","7x10","3x4","_dyeClass","_Color","hcTemplate","_imagePaths","alias","_title","_row","_col","image","_earlyTemplatedStartup","widgetsInTemplate","widgets","_startupWidgets","domCls","domCtr","domGeom","magicGuard","orphan","awc","aafe","aam","getSet","_normalize","content","templateFunc","_runParse","_cloneNode","useClone","tempNode","rNode","addClass","removeClass","toggleClass","replaceClass","removeAttr","marginBox","queryOrNode","adopt","queryOrListOrNode","queryStr","subNode","addContent","_WidgetsInTemplateMixin","widgetClass","methods","connects","srcType","propList","wc","basefx","_Line","Animation","curve","duration","repeat","rate","_percent","_startRepeatCount","_getStep","_p","_e","easing","_fire","debugAtAllCosts","play","gotoStart","_t","_delayTimer","_clearTimer","_stopTimer","_active","_paused","_play","_startTime","_cycle","gotoPercent","percent","andPlay","gotoEnd","status","curr","_startTimer","runner","run","clearInterval","_makeFadeable","_fade","fArgs","anim","animateProperty","fadeIn","fadeOut","_defaultEasing","sin","PI","PropLine","_properties","tempColor","units","pm","isColor","getStyle","onEnd","_Animation","getCopyKeyState","_uniqueId","isFormElement","V_TRIGGER_AUTOSCROLL","H_TRIGGER_AUTOSCROLL","V_AUTOSCROLL_VALUE","H_AUTOSCROLL_VALUE","maxScrollTop","maxScrollLeft","autoScrollStart","autoScroll","_validNodes","_validOverflow","auto","autoScrollNodes","rx","ry","dnd","autoscroll","mouseButton","onMoveStart","onMove","onFirstMove","bs","bc","onMoveStop","Mover","Moveable","mover","Ctor","_lastX","_lastY","onDragDetected","onSelectStart","leftTop","onMoving","onMoved","oldOnMove","timeout","_leftTop","_getDescendantFormWidgets","validate","didFocus","valid","setValues","entry","values","multiple","getValues","_getValueAttr","prev","isValid","onValidStateChange","_getState","states","_descendants","disconnectChildren","connectChildren","inStartup","_onChildChange","_onChangeDelayTimer","actionBarTemplate","execute","_onSubmit","_getFocusItems","_firstFocusItem","closeButtonNode","_lastFocusItem","DialogUnderlay","dialogId","_modalConnects","_setDialogIdAttr","show","_onKeyDown","underlay","_singleton","_underlay","dim","newSize","utils","marginBox2contentBox","layoutChildren","container","changedRegionId","changedRegionSize","region","layoutAlign","elm","word","elmStyle","sizeSetting","layoutUtils","doLayout","_childOfLayoutWidget","_needLayout","_isShown","_checkIfSingleChild","candidateWidgets","otherVisibleNodes","_singleChild","_resizeCalled","_scheduleLayout","_layout","_changeSize","_resultSize","_wasShown","_layoutChildren","cb","idCounter","_secureForInnerHtml","cont","_emptyNode","_setNodeContent","startlen","_ContentSetter","cleanContent","extractContent","parseContent","parserScope","onBegin","setContent","errMess","onContentError","parseDeferred","parseResults","_parse","tearDown","onExecError","_onError","consoleText","errText","NewDeferred","mutator","canceller","finished","fired","isError","head","nextListener","mutated","resolved","unchanged","addCallbacks","resolvedCallback","errorCallback","progressCallback","returnDeferred","log","addCallback","addErrback","addBoth","enclosed","backstop","objectToQuery","enc","encodeURIComponent","pairs","assign","queryToObject","dec","decodeURIComponent","qp","ioq","fieldToObject","inputNode","_in","toObject","formNode","elements","toQuery","toJson","prettyPrint","fromJson","js","_escapeString","toJsonIndentStr","tf","__json__","response","RequestError","ioQuery","deepCopy","tval","sval","deepCreate","okHandler","dataHandler","data","isReady","handleResponse","def","responsePromise","dataPromise","addCommonMethods","provider","parseArgs","skipData","preventCache","getHeader","headerName","checkStatus","stat","util","RequestTimeoutError","_inFlightIntvl","_inFlight","watchInFlight","dfd","_onAction","startTime","_onInFlight","cancelAll","handleXML","ActiveXObject","lastParser","dp","createDocument","loadXML","DOMParser","parseFromString","handleNativeResponse","handleAs","Blob","getResponseHeader","javascript","xml","blob","arraybuffer","XMLHttpRequest","protocol","FormData","responseType","abort","addListeners","nativeResponseTypes","_xhr","responseText","responseXML","onError","onProgress","lengthComputable","total","_at","defaultOptions","isFormData","remover","_create","withCredentials","contentType","hdr","setRequestHeader","send","domForm","_xhrObj","cfg","formToObject","formToQuery","formToJson","_blockAsync","_contentHandlers","contentHandlers","json-comment-filtered","useCommentedJson","cStartIdx","cEndIdx","ms","json-comment-optional","_ioSetArgs","errHandler","ioArgs","formObject","actnNode","miArgs","dojo.preventCache","ld","ioPublish","_deferredOk","_deferError","failOk","_checkPubCount","_pubCount","_ioCancelAll","_ioNotifyStart","_ioWatch","validCheck","ioCheck","resHandle","_ioAddQueryToUrl","hasBody","rDfd","postData","putData","rawBody","xhrGet","rawXhrPost","xhrPost","rawXhrPut","xhrPut","xhrDelete","_isDocumentOk","_getText","put","del","_ContentPaneResizeMixin","nlsLoading","href","refreshOnShow","loadingMessage","errorMessage","isLoaded","onLoadDeferred","_contentSetter","messages","_startChildren","setHref","_setHrefAttr","_load","_hrefChanged","_setContentAttr","_setContent","_isDownloaded","_getContentAttr","_xhrDfd","refresh","onDownloadStart","getArgs","returnedHtml","hand","ioMethod","onDownloadEnd","_onLoadHandler","_onUnloadHandler","onUnload","isFakeContent","setterParams","_contentSetterParams","onDownloadError","fx","TimedMoveable","manager","_FormMixin","_DialogMixin","ContentPane","resolvedDeferred","_DialogBase","refocus","autofocus","draggable","_setDraggableAttr","maxRatio","closable","_setClosableAttr","_nlsResources","_modalconnects","_position","DialogLevelManager","isTop","_endDrag","nodePosition","_relativePosition","_setup","titleBar","_moveable","underlayAttrs","_size","_onKey","_alreadyInitialized","_fadeOutDeferred","_fadeInDeferred","beforeBegin","_scrollConnected","_shrunk","_singleChildOriginalStyle","actionBarNode","layoutNodes","centerSize","contentDim","titleNode","applyTextDir","_setTextDirAttr","Dialog","_DialogLevelManager","dialog","ds","pd","_dialogStack","topDialog","TooltipDialog","tooltipCorner","newC","MR-ML","ML-MR","TM-BM","BM-TM","BL-TL","TL-BL","BR-TR","TR-BR","BR-BL","BL-BR","BR-TL","BL-TR","TL-BR","TR-BL","_currentOrientClass","connectorNode","enforceTextDirWithUcc","childSelector","_keyNavCodes","keyCodes","_onChildFocus","_onLeftArrow","_onRightArrow","_onUpArrow","_onDownArrow","focusFirstChild","_getFirstFocusableChild","_getNextFocusableChild","_getLastFocusableChild","focusChild","focusLastChild","focusedChild","_onChildBlur","_onContainerFocus","lastFocusedChild","lastFocused","_searchString","multiCharSearchDuration","onKeyboardSearch","searchString","numMatches","_keyboardSearchCompare","innerText","currentString","_onContainerKeydown","_searchTimer","_keyboardSearch","_onContainerKeypress","matchedItem","allSameLetter","searchLen","currentItem","rc","wrappedValue","_getNext","_getFirst","_getLast","_KeyNavMixin","connectKeyNavHandlers","prevKeyCodes","nextKeyCodes","startupKeyNavChildren","_startupChild","focusNext","focusPrev","_KeyNavContainer","ButtonMixin","__onClick","_onClick","cancelled","_setLabelAttr","labelNode","_ButtonMixin","Button","showLabel","iconClass","_setIconClassAttr","_setNameAttr","sourceLabel","_setShowLabelAttr","setLabel","_aria_attr","original","_setCheckedAttr","_ToggleButtonMixin","setChecked","_Plugin","editor","iconClassPrefix","useDefaultCommand","buttonClass","getLabel","_initButton","dropDown","updateState","enabled","queryCommandEnabled","queryCommandState","setEditor","queryCommandAvailable","commandArg","setToolbar","toolbar","unload","addOnWindowUnload","functionName","windowUnloaded","addOnUnload","rangeapi","getIndex","pnode","retR","onode","previousSibling","getNode","getCommonAncestor","n1","n2","getAncestors","as","n1as","n2as","com","getAncestor","regex","BlockTagNames","getBlockAncestor","blockContainer","block","blockNode","atBeginningOfContainer","atBeginning","offsetAtBeginning","cnode","atEndOfContainer","atEnd","offsetAtEnd","adjacentNoneTextNode","startnode","W3CRange","ignoreUpdate","_getCurrentSelection","cachedSelection","_ranges","internal","_select","decomposeControlRange","decomposeTextRange","_initCurrentRange","firstnode","lastnode","getEndPoint","atmrange","duplicate","lastNode","cmpstr","calOffset","prevnode","prevnodeobj","lenoffset","setEndPoint","nextnode","tmpary","setRange","commonAncestorContainer","_updateInternal","parseInt","_cachedBookmark","setStartAfter","_setPoint","setStartBefore","setEndAfter","setEndBefore","what","ext","_getIERange","_body","deleteContents","pasteHTML","detach","escapeXml","noSingleQuotes","getNodeHtml","getNodeHtmlHelper","lName","attrarray","attrhash","attrSplit","getChildrenHtmlHelper","getChildrenHtml","checkParent","selectionapi","htmlapi","RichText","contentPreFilters","contentPostFilters","contentDomPreFilters","contentDomPostFilters","editingAreaStyleSheets","_keyHandlers","inheritWidth","focusOnLoad","styleSheets","minHeight","isClosed","_SEPARATOR","_NAME_CONTENT_SEP","isTabIndent","disableSpellCheck","_normalizeFontStyle","_removeMozBogus","_removeWebkitBogus","setupDefaultShortcuts","cmd","arg","ctrlKeyHandlers","save","1","2","3","4","\\","Z","addKeyHandler","captureEvents","_editorCommandsLocalized","_localizeEditorCommands","_local2NativeFormatNames","_native2LocalFormatNames","formats","localhtml","inject","nativename","queryCommandValue","dn","ta","textarea","tmpFunc","__overflow","resetValue","replaceValue","header","editingArea","footer","saveTextarea","dat","datas","_globalSaveHandler","ifr","editorObject","_layoutMode","frameBorder","_loadFunc","_getIframeDocTxt","domain","_cs","font","fontWeight","fontSize","fontFamily","lineHeight","userStyle","sC","_applyEditingAreaStyleSheets","files","ownerWindow","abstring","addStyleSheet","createStyleSheet","stylesheet","rel","removeStyleSheet","_mozSettingProps","styleWithCSS","preventIEfocus","editNode","unselectable","ps","_disabledOK","__registeredWindow","_iframeRegHandle","beforeIframeNode","afterIframeNode","onfocus","_webkitListener","onDisplayChanged","updateInterval","setValueDeferred","ctrl","_setDisableSpellCheckAttr","charCodeAt","onKeyPressed","_onIEMouseDown","blur","fireEvent","createEventObject","_updateTimer","onNormalizedDisplayChanged","_normalizeCommand","argument","_qcaCache","ca","_queryCommandAvailable","mozilla","webkit","isSupportedBy","browsers","Boolean","supportedBy","implFunc","_browserQueryCommandEnabled","_sCall","placeCursorAtStart","isvalid","placeCursorAtEnd","nonDestructive","_postFilterContent","_preFilterContent","_preDomFilterContent","ec","ef","_saveContent","getNodeChildrenHtml","interval","_frameElement","_preFixUrlAttributes","_createlinkEnabledImpl","_unlinkEnabledImpl","_inserttableEnabledImpl","_cutEnabledImpl","_copyEnabledImpl","_pasteEnabledImpl","_inserthorizontalruleImpl","_inserthtmlImpl","_unlinkImpl","_hilitecolorImpl","isApplied","_handleTextColorOrProperties","_backcolorImpl","_forecolorImpl","rv","insertRange","insertNode","_boldImpl","applied","_adaptIESelection","_adaptIEFormatAreaAndExec","_italicImpl","_underlineImpl","_strikethroughImpl","_superscriptImpl","_subscriptImpl","_fontnameImpl","_fontsizeImpl","_insertorderedlistImpl","_adaptIEList","_insertunorderedlistImpl","getHeaderHeight","_getNodeChildrenHeight","getFooterHeight","_isNodeEmpty","_removeStartingRangeFromRange","firstNode","txt","startNode","endNode","breaker","sNode","topNode","nNames","_tagNamesForCommand","fs","_adjustNodeAndOffset","tName","newblock","nodeToMove","tNode","endText","tagData","parentC","tagList","newTg","face","newContTag","newTgNode","newrange","sc","lType","extraSpan","_stripBreakerNodes","_stripTrailingEmptyNodes","isEmpty","blockNodeForEnter","customUndo","ne","handleEnterKey","_checkListLater","liparent","bogusHtmlContent","_pressedEnterInBlock","removeTrailingBr","blockNodes","br","brNode","targetNode","_letBrowserHandle","firstNodeMoved","nodeForCursor","innerMostFirstNodeMoved","para","Toolbar","ToolbarSeparator","_LayoutWidget","ToggleButton","EnterKeyHandling","Editor","plugins","extraPlugins","_plugins","_editInterval","editActionInterval","_steps","_undoedSteps","addPlugin","plugin","pc","areaHeight","outsideClientArea","_cursorToStart","_savedSelection","onBeforeActivate","_restoreSelection","onBeforeDeactivate","endEditing","_saveSelection","beginEditing","_inEditing","_beginEditing","_editTimer","_endEditing","_pasteImpl","_clipboardCommand","_cutImpl","_copyImpl","sub","alert","systemShortcut","cut","copy","paste","_moveToBookmark","eNode","_changeToStep","to","_undoRedoActive","redo","ignore_caret","_getBookmark","tabIndent","_buttonEnabledPlugins","simplePluginFactory","togglePluginFactory","insertOrderedList","insertUnorderedList","outdent","justifyCenter","justifyFull","justifyLeft","justifyRight","delete","selectAll","removeFormat","unlink","insertHorizontalRule","bold","italic","underline","strikethrough","subscript","superscript","|","QueryResults","isPromise","addIterativeMethod","arrayUtil","queryObject","required","sortSet","aValue","bValue","descending","SimpleQueryEngine","setData","idProperty","queryEngine","getIdentity","random","overwrite","identifier","_TextBoxMixin","uppercase","lowercase","propercase","maxLength","selectOnClick","placeHolder","constraints","formattedValue","filteredValue","textbox","displayedValue","_getDisplayedValueAttr","_setDisplayedValueAttr","_refreshState","onInput","__skipInputEvent","_onInput","_processInput","_wasConsumed","_blankValue","_setBlurValue","_isTextSelected","_selectOnClickHandle","selectInputText","_setSelectionRange","setSelectionRange","_FormValueWidget","TextBox","_singleNodeTemplate","_buttonInputDisabled","inputs","_setPlaceHolderAttr","_phspan","_updatePlaceHolder","getDisplayedValue","setDisplayedValue","moveStart","moveEnd","MasterTooltip","Tooltip","defaultPosition","isShowingNow","noop","_onDeck","heightAvailable","widthAvailable","tooltipConnectorHeight","aroundNodePlacement","_onHide","_setAutoTextDir","showTooltip","_masterTT","hideTooltip","DORMANT","showDelay","hideDelay","connectId","_setConnectIdAttr","newId","_connections","nested","_connectIds","delegatedEvent","_onHover","addTarget","removeTarget","ids","getContent","_setStateAttr","_hideTimer","_showTimer","_connectNode","_onUnHover","_MasterTooltip","ValidationTextBox","promptMessage","invalidMessage","missingMessage","regExp","regExpGen","tooltipPosition","_deprecateRegExp","_setRegExpGenAttr","newFcn","_computeRegexp","_setRegExpAttr","validator","_isEmpty","_isValidSubset","_partialre","getErrorMessage","invalid","missing","getPromptMessage","_maskValidSubsetError","isValidSubset","displayMessage","_setConstraintsAttr","_setPatternAttr","_lastRegExp","partialre","re","_setRequiredAttr","_setMessageAttr","serialize","regexp","except","buildGroupRE","nonCapture","group","expression","MemoryStore","toItem","fetchSelectedItem","pageSize","store","fetchProperties","_setListAttr","searchDelay","searchAttr","queryExpr","ignoreCase","_patternToRegExp","literal","star","question","_abortQuery","searchTimer","_queryDeferHandle","_fetchHandle","_cancelingQuery","doSearch","_prev_key_backspace","onSearch","_startSearchFromInput","_startSearch","q","queryOptions","deep","qs","startQuery","resPromise","_lastQuery","nextPage","_oldAPI","DataList","SearchMixin","AutoCompleterMixin","autoComplete","highlightMatch","labelAttr","labelType","_stopClickEvents","_getCaretPos","ntr","_setCaretPos","pw","highlighted","getHighlightedOption","_announceOption","nextButton","_nextSearch","previousButton","newvalue","_messages","_selectOption","closeDropDown","_autoCompleteText","caseFilter","cpos","_openResultList","wasSelected","clearResultList","onPage","createOptions","_showResultList","highlightFirstOption","highlightLastOption","openDropDown","loadDropDown","_startSearchAll","_setItemAttr","_getValueField","_lastInput","popupId","dropDownConstructor","dropDownClass","valueField","_getMenuLabelFromItem","labelFunc","doHighlight","find","modifiers","_escapeHtml","ComboBoxMenuMixin","_setSelectedAttr","_createOption","menuitem","_createMenuItem","labelObject","displayMore","selectFirstNode","selectLastNode","selectNextNode","selectPreviousNode","_listConnect","callbackFuncName","selectedNode","onDeselect","onSelect","_ListBase","_deferredClick","_onMouseDown","_hoveredNode","onUnhover","_isDragging","_onMouseUp","_onMouseOut","_cancelDrag","_onMouseOver","onHover","_ComboBoxMenuMixin","_ListMouseMixin","_page","scrollamount","oldscroll","highlighted_option","newscroll","handleKey","_buttonNode","_arrowWrapperNode","_popupStateNode","_aroundNode","autoWidth","forceWidth","dropDownPosition","_onDropDownMouseDown","toggleDropDown","_onDropDownMouseUp","overMenu","onItemClick","menuItem","autoFocus","_focusDropDownTimer","_onDropDownClick","defaultPos","above","below","keyboardEventNode","_toggleOnKeyUp","_onKeyUp","loadCallback","loadAndOpenDropDown","afterLoad","ddNode","retVal","widthAdjust","resizeArgs","_AutoCompleterMixin","_ComboBoxMenu","_HasDropDown","hasDownArrow","_setHasDownArrowAttr","_setStoreAttr","fetchItemByIdentity","identity","onItem","fetchHandle","fetch","onComplete","ObjectStore","objectStore","MappedTextBox","ComboBoxMixin","_lastDisplayedValue","_callbackSetLabel","_getDisplayQueryString","FilteringSelect","_FontDropDown","plainText","strings","selectId","_FontNameDropDown","generic","comboClass","Arial","Helvetica","Myriad","Times","Times New Roman","Comic Sans MS","Apple Chancery","Courier","Courier New","Papyrus","Estrangelo Edessa","Gabriola","_FontSizeDropDown","pixels","10","13","16","18","24","32","48","_FormatBlockDropDown","_execCommand","processChildren","unformatNodes","_removeFormat","clearNodes","FontChoice","fontName","formatBlock","custom","_c","quoted","dropDownContainer","dropDownNode","DropDownButton","LinkDialog","urlRegExp","emailRegExp","htmlTemplate","_hostRxp","_userAtRxp","linkDialogTemplate","_connectTagEvents","_loadDropDown","_onOpenDialog","_urlInput","_textInput","_setButton","_urlRegExp","_emailRegExp","_checkAndFixInput","_delayedCheck","appendHttp","appendMailto","_isValid","fixupUrl","staticPanel","_checkValues","urlInput","_onCloseDialog","_getCurrentValues","textInput","targetSelect","_onDblClick","ImgLinkDialog","img","_selectTag","_setSelected","_onChildDeselect","activated","_setActivatedAttr","parentMenu","popupDelay","passivePopupDelay","onItemHover","onItemUnhover","_onItemFocus","shortcutKey","_moveToPopup","topMenu","_getTopMenu","_isMenuBar","_onPopupHover","currentPopupItem","_stopPendingCloseTimer","hover_timer","_openItemPopup","passive_hover_timer","_hoveredChild","_stopPopupTimer","_pendingClose_timer","_closePopup","byKeyboard","from_item","_mouseoverHandle","_openPopup","_orient","_cleanUp","_closeChild","clearSelectedItem","_MenuBase","DropDownMenu","_bindings","targetNodeIds","contextMenuForWindow","leftClickToOpen","bindDomNode","_iframeContentWindow","iframe_el","_iframeContentDocument","frames","binding","doConnects","_lastKeyDown","_scheduleOpen","onloadHandler","unBindDomNode","bid","delegatedTarget","coords","_openTimer","_openMyself","ifc","tp","prevFocusNode","curFocusNode","savedFocusNode","closeAndRestoreFocus","MenuItem","ndx","accelKey","accelKeyNode","_setAccelKeyAttr","textDirNode","arrowWrapper","checkedChar","_MenuBarItemMixin","MenuBarItem","PopupMenuItem","nlsNumber","dstring","dregexp","number","customs","_applyPattern","_numberPatternRE","decimal","patternList","positivePattern","currencyGroup","currencyDecimal","currency","numberPatternRE","numberPattern","fractional","places","_formatAbsolute","factor","toFixed","pow","patternParts","comma","maxPlaces","valueParts","patternDigits","groupSize","groupSize2","remainder","pieces","whole","off","_parseInfo","isCurrency","flags","signed","separator","exponent","groups","_realNumberRegexp","symbol","absoluteMatch","eSigned","integerRE","_integerRegexp","decimalRE","exponentRE","realRE","signRE","numberRE","grp","grp2","grp2RE","maximum","indeterminate","_indeterminateHighContrastImagePath","indeterminateHighContrastImage","tip","internalProgress","report","_setIndeterminateAttr","baseFx","coreFx","_baseObj","_chain","animations","_index","_animations","_current","_onAnimateCtx","_onEndCtx","_onAnimate","_onEnd","onPlay","_combine","_finished","_pseudoAnimation","_doAction","action","_call","combine","wipeIn","fini","wipeOut","slideTo","init","fxUtils","TitlePane","toggleable","_setTooltipAttr","titleBarNode","hideNode","wipeNode","_wipeIn","_wipeOut","_setOpenAttr","animate","animation","_setCss","_setToggleableAttr","canToggle","oldCls","_titleBarClass","arrowNodeInner","_onTitleKey","_onTitleClick","setTitle","cookie","exp","expires","toUTCString","updatedCookie","propValue","isSupported","cookieEnabled","childrenAttrs","newItemIdAttr","deferItemLoadingUntilExpand","getFeatures","getRoot","mayHaveChildren","parentItem","isItemLoaded","childItems","vals","_waitCount","loadItem","isItem","something","keywordArgs","newItem","LnewItem","pInfo","pasteItem","childItem","oldParentItem","newParentItem","bCopy","parentAttr","containsValue","onChildrenChange","onDelete","onNewItem","parentInfo","onDeleteItem","onSetItem","TreeStoreModel","rootId","rootLabel","rootChildren","onNewRootItem","onLeaveRoot","onAddToRoot","_requeryTop","oldChildren","newChildren","tree","containerState","_changeState","newState","_addItemClass","_removeItemClass","onOverEvent","onOutEvent","dndCommon","_dndContainer","singular","getSelectedTreeNodes","selectNone","setSelection","addTreeNode","isAnchor","removeTreeNode","newSelection","isTreeNodeSelected","oldSelection","_setDifference","setSelected","_updateSelectionProperties","xs","ys","__exclude__","getTreePath","onClickPress","isExpandable","isExpandoNode","treeNode","_doDeselect","userSelect","onClickRelease","_compareNodes","sourceIndex","compareDocumentPosition","r1","r2","END_TO_END","multi","begin","cr","getItem","forInSelectedItems","createError","treeNodeTemplate","treeTemplate","ForestStoreModel","_dndSelector","shimmedPromise","TreeNode","isTreeNode","isExpanded","_setExpando","_updateItemClasses","_setIndentAttr","_nodePixelIndent","markProcessing","unmarkProcessing","model","_v10Compat","_applyClassAndStyle","_startPaint","lower","upper","clsName","_updateLayout","markAsRoot","processing","styles","expandoNode","expandoNodeText","expand","_expandDeferred","_collapseDeferred","showRoot","contentNode","setChildItems","defs","dndController","_itemNodesMap","persist","destroyedPath","_openedNodes","_saveExpandedNodes","existingNodes","_createTreeNode","getTooltip","autoExpand","_state","_expandNode","makeExpandable","childNode","Tree","childrenAttr","selectedItems","selectedItem","openOnClick","openOnDblClick","dndParams","onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold","_publish","topicName","cookieName","expandChildrenDeferred","pendingCommandsPromise","_initState","_onNodeMouseEnter","_onNodeMouseLeave","_onNodePress","_store2model","modelParams","getItemChildren","rootLoadingIndicator","getNodesByItem","_setSelectedItemAttr","_setSelectedItemsAttr","identities","_setPathAttr","_setPathsAttr","selectPath","nextPath","nextNode","PathError","newNodes","_setSelectedNodeAttr","_setSelectedNodesAttr","expandAll","childBranches","collapseAll","_collapseNode","getIconClass","opened","getLabelClass","getRowClass","getIconStyle","getLabelStyle","getRowStyle","returnNode","nodeWidget","__click","doOpen","domElement","isExpandoClick","_onExpandoClick","_getNextNode","_getRootOrFirstNode","_expandNodeDeferred","_loadDeferred","def2","_onItemChange","_onItemChildrenChange","newChildrenList","parentNodes","_onItemDelete","oreo","expanded","_curSearch","indentDetector","_adjustWidths","_outstandingPaintOperations","_adjustWidthsTimer","oc","_TreeNode","fm","InlineEditor","Cls","srcStyle","sourceStyle","editStyle","destStyle","textStyle","wrapperStyle","inlineEditBox","editorParams","editWidget","editorPlaceholder","autoSave","saveButton","cancelButton","buttonContainer","ew","_onIntermediateChange","enableSave","editing","_onChange","displayNode","InlineEditBox","buttonSave","buttonCancel","renderAsHtml","editorWrapper","noValueIndicator","edit","_savedTabIndex","wrapperWidget","placeholder","Ewc","ww","_showText","renderVal","_InlineEditor","encType","accept-charset","accept","_setEncTypeAttr","encoding","onReset","_onReset","fp","onSubmit","submit","optionsTitle","buttonNode","_focusedNode","_onButtonKeyDown","_onArrowKeyDown","_getSubmitValue","_CheckBoxMixin","checkedAttrSetting","_getRelatedWidgets","CheckBox","_RadioButtonMixin","monetary","getData","ADP","AFN","ALL","AMD","BHD","BIF","BYR","CLF","CLP","COP","CRC","DJF","ESP","GNF","GYD","HUF","IDR","IQD","IRR","ISK","ITL","JOD","JPY","KMF","KPW","KRW","KWD","LAK","LBP","LUF","LYD","MGA","MGF","MMK","MNT","MRO","MUR","OMR","PKR","PYG","RSD","RWF","SLL","SOS","STD","SYP","TMM","TND","TRL","TZS","UGX","UZS","VND","VUV","XAF","XOF","XPF","YER","ZMK","ZWD","dnumber","nlsCurrency","cldrMonetary","_mixInDefaults","iso","RangeBoundTextBox","rangeMessage","rangeCheck","primitive","isInRange","_isDefinitelyOutOfRange","outOfRange","getDecimalInfo","NumberTextBoxMixin","editOptions","_regExpGenerator","_formatter","_decimalInfo","_parser","hasMinConstraint","hasMaxConstraint","curVal","integerDigits","valNegative","hasDecimal","maxDigits","remainingDigitsCount","fractionalDigitStr","normalizedValueStr","ninePaddingStr","minPossibleValue","maxPossibleValue","NumberTextBox","Mixin","getDaysInMonth","month","getMonth","isLeapYear","getFullYear","getTimezoneName","tz","pat","toLocaleString","date1","date2","portion","setHours","amount","sum","fixOvershoot","property","days","weeks","mod","strt","getDay","adj","trgt","getDate","setDate","difference","yearDiff","q1","q2","aDay","bDay","dtMark","dayMark","supplemental","getFirstDayOfWeek","country","_region","dow","bd","mv","ae","bh","dj","dz","eg","iq","ir","jo","kw","ly","ma","om","qa","sa","sd","sy","ye","ag","au","bt","bw","bz","co","dm","do","et","gt","gu","hk","hn","il","in","jm","jp","ke","kh","kr","la","mh","mm","mo","mt","mx","mz","ni","np","nz","pa","ph","pk","pr","py","sg","sv","tt","um","us","ve","vi","ws","za","zw","aa","ab","ak","am","av","ay","az","ba","bg","bi","bn","bo","ce","cv","cy","da","ee","en","es","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","gv","ha","he","hi","ho","hr","ht","hu","hy","ia","ig","ii","ik","iu","iw","ja","ji","jv","jw","ka","kg","ki","kj","kk","kl","km","kn","ko","ks","ku","kv","ky","lb","lg","ln","lo","lt","lu","lv","mg","mi","mk","ml","mn","mr","my","na","nb","nd","ng","nn","no","nr","nv","ny","or","pl","pt","qu","rm","ro","ru","rw","si","sk","sm","sn","so","sq","sr","ss","su","sw","ti","tk","tl","ty","ug","uk","ur","uz","wa","wo","xh","yi","yo","zh","zu","ace","ady","agq","amo","asa","ast","awa","bal","ban","bas","bax","bbc","bem","bez","bfq","bft","bfy","bhb","bho","bik","bin","bjj","bku","bqv","bra","brx","bss","btv","bua","buc","bug","bya","byn","cch","ccp","ceb","cgg","chk","chm","chp","chr","cja","cjm","ckb","crk","csb","dar","den","dgr","dje","doi","dsb","dyo","dyu","ebu","efi","ewo","fan","fil","fon","fur","gaa","gag","gbm","gcr","gez","gil","gon","gor","grt","gsw","guz","gwi","haw","hil","hne","hnn","hoc","hoj","ibb","ilo","inh","jgo","jmc","kaa","kab","kaj","kam","kbd","kcg","kde","kdt","kea","ken","kfo","kfr","kha","khb","khq","kht","kkj","kln","kmb","koi","kok","kos","kpe","krc","kri","krl","kru","ksb","ksf","ksh","kum","lag","lah","lbe","lcp","lep","lez","lif","lis","lki","lmn","lol","lua","luo","luy","lwl","mad","mag","mai","mak","man","mas","mdf","mdr","men","mer","mfe","mgh","mgo","mni","mnk","mnw","mos","mua","mwr","myv","nap","naq","nds","new","niu","nmg","nnh","nod","nso","nus","nym","nyn","pag","pam","pap","pau","pon","prd","raj","rcf","rej","rjs","rkt","rof","rwk","saf","sah","saq","sas","sat","saz","sbp","scn","sco","sdh","seh","ses","shi","shn","sid","sma","smj","smn","sms","snk","srn","srr","ssy","suk","sus","swb","swc","syl","syr","tbw","tcy","tdd","tem","teo","tet","tig","tiv","tkl","tmh","tpi","trv","tsg","tts","tum","tvl","twq","tyv","tzm","udm","uli","umb","unr","unx","vai","vun","wae","wal","war","xog","xsr","yao","yap","yav","zza","getWeekend","gregorian","formatPattern","widthList","fullYear","propM","_getWeekOfYear","_getDayOfYear","propD","timePeriod","getHours","getMinutes","getSeconds","_getZone","_processPattern","applyPattern","applyLiteral","applyAll","chunks","chunk","_buildDateTimeRE","p2","p3","getName","formatLength","_getGregorianBundle","sauce","timePattern","datePattern","controlChars","amPm","token","century","cutoff","months","period","hours","allTokens","dateToken","monthToken","_customFormats","addCustomFormats","packageName","pkg","desc","getNames","lookup","isWeekend","weekend","day","firstDayOfWeek","firstDayOfYear","week","cldrSupplemental","CalendarLite","dowTemplateString","dateTemplateString","weekTemplateString","datePackage","dayWidth","currentFocus","_setSummaryAttr","_isValidDate","storedVal","dateClassObj","dateModule","_patchDate","isDisabledDate","_markSelectedDates","_setText","_populateGrid","firstDay","daysInMonth","daysInPreviousMonth","today","dayOffset","summary","monthNames","dateLocaleModule","_date2cell","dateCells","clazz2","getClassForDate","dateVal","dijitDateValue","dateLabels","getDateLocalized","_populateControls","monthWidget","goToToday","_createMonthWidget","_MonthWidget","monthNode","dayNames","dayCellsHtml","dateRowsHtml","dateObj","_connectControls","nodeProp","_setCurrentFocusAttr","forceFocus","oldFocus","oldCell","_getNodeByDate","newCell","_onDayClick","_selectedCells","_setMonthAttr","local","Calendar","decrementMonth","incrementMonth","previousYearLabelNode","nextYearLabelNode","_MonthDropDownButton","onMonthSelect","dateRowsNode","_onMonthSelect","newMonth","setMonth","currentDate","_onDayMouseOver","_currentNode","_onDayMouseOut","_onDayMouseDown","_onDayMouseUp","onValueSelected","_MonthDropDown","_setMonthsAttr","_DateTimeTextBox","_unboundedConstraints","isInvalid1","_isInvalidDate","isInvalid2","fval1","fval2","pval1","pval2","_selector","toGregorian","dropDownDefaultValue","popupClass","_invalidDate","fromISO","filterString","_setDropDownDefaultValueAttr","PopupProto","textBox","ddate","TimePicker","pickerMin","pickerMax","clickableIncrement","visibleIncrement","_visibleIncrement","_clickableIncrement","_totalIncrements","timeMenu","_setFilterStringAttr","_getFilteredNodes","maxNum","_maxIncrement","fromIso","_clickableIncrementDate","_visibleIncrementDate","sinceMidnight","clickableIncrementSeconds","visibleIncrementSeconds","_refDate","endDate","visibleRange","incrementDate","dateString","_selectedDiv","_highlightOption","_onOptionSelected","tgt","tdate","_highlighted_option","highlight","_keyboardSelected","_TimePicker","minimumTimeout","smallDelta","largeDelta","upArrowNode","downArrowNode","adjust","_arrowPressed","nodePressed","_arrowReleased","_wheelTimer","_typematicCallback","inc","_mouseWheeled","scrollAmount","_Spinner","tc","gotMax","gotMin","newval","MultiSelect","addSelected","getSelected","_setMultipleAttr","originalText","invertSelection","restoreOriginalText","sorter","basicComparator","createSortFunction","sortSpec","sortAttribute","sortFunctions","comp","itemA","itemB","comparatorMap","rowA","rowB","_FormSelectWidget","_deprecatedSetStore","_setQueryAttr","selectedValue","_setQueryOptionsAttr","onFetch","sortByLabel","loadChildrenOnOpen","getOptions","valueOrIdx","addOption","_loadChildren","removeOption","oldOpts","_removeOptionItem","updateOption","newOption","oldOpt","setStore","fetchArgs","oStore","_notifyConnections","_queryRes","_observeHandle","_loadingStore","getLabelAttributes","_addOptionForItem","observe","deletedFrom","insertedInto","_onSetItem","_onDeleteItem","_onNewItem","_pendingValue","_pseudoLoadChildren","onSetStore","opt","disp","_setDisplay","_updateSelection","_getChildren","_addOptionItem","_getValueFromOpts","isSelected","_getOptionObjForItem","newOpt","_oValue","_storeInitialized","_getSelectedOptionsAttr","MenuSeparator","_SelectMenu","found","parentWidget","Select","emptyLabel","_isLoaded","_childrenLoaded","selectedIndex","_getMenuItemForOption","loadMenuItems","_setOptionsAttr","newDisplay","lbl","_missingMsg","keyNavCodes","_onEventAfterLoad","_Menu","constrainedMoveable","within","constraintBox","boxConstrainedMoveable","parentConstrainedMoveable","area","_SliderMover","abspos","_abspos","sliderBarContainer","_setPixelValue_","_isReversed_","_isReversed","pixelValue","_mousePixelCoord","_startingPixelCoord","_pixelCount","HorizontalSlider","showButtons","minimum","discreteValues","pageIncrement","clickSelect","slideDuration","incrementButton","decrementButton","_handleOffsetCoord","_progressPixelSize","_descending","decrement","_onHandleClick","sliderHandle","_onBarClick","_setPixelValue","_movable","maxPixels","pixelsPerValue","wholeIncrements","progressBar","remainingBar","_inProgressAnim","onAnimate","_bumpValue","signedChange","_onClkBumper","_onClkIncBumper","_onClkDecBumper","_Mover","ruleStyle","_positionPrefix","_positionSuffix","_suffix","_genHTML","_isHorizontal","HorizontalRule","HorizontalRuleLabels","labelStyle","labels","numericMargin","_labelPrefix","_calcPosition","_genDirectionHTML","getLabels","getTextDir","rows","cols","margin","boxSizing","MsBoxSizing","WebkitBoxSizing","MozBoxSizing","needsHelpShrinking","_resizeLater","_estimateHeight","textareaScrollHeight","sh","busyResizing","newH","newHpx","thisScrollHeight","origScrollHeight","newScrollHeight","origMinHeight","origScrollTop","change","_ExpandingTextAreaMixin","SimpleTextarea","StackContainer","selectedChildWidget","_hasBeenShown","_showChild","_wrapper","selectChild","page","_descendantsBeingDestroyed","_transition","newWidget","oldWidget","_hideChild","_containerContentBox","_adjacent","forward","back","isFirstChild","isLastChild","closeChild","ChildWidgetProperties","showTitle","AccordionButton","iconClassAttr","titleTextNodeId","titleTextNode","getTitleHeight","contentWidget","_onTitleKeyDown","AccordionInnerContainer","buttonWidget","_buttonWidget","cw","_contentWidgetWatches","onSelected","_wrapperWidget","AccordionContainer","openPane","wrapperDomNode","wrapperDomNodeMargin","wrapperDomNodePadBorder","wrapperContainerNode","wrapperContainerNodeMargin","wrapperContainerNodePadBorder","mySize","totalCollapsedHeight","_verticalSpace","_animation","newContents","oldContents","animationHeightOverhead","onStop","fromTitle","_InnerContainer","_Button","LayoutContainer","design","_getOrderedChildren","wrappers","pane","layoutPriority","aw","_Splitter","live","_handlers","horizontal","_factor","_cookieName","persistSize","_computeMaxSize","childSize","center","maxSize","_startDrag","cover","fake","_resize","isHorizontal","axis","pageStart","splitterStyle","childCS","childStart","minSize","splitterAttr","splitterStart","_drag","forceResize","boundChildSize","_onMouse","_stopDrag","_cleanupHandlers","tick","_Gutter","BorderContainer","gutters","liveSplitters","_splitterClass","splitter","_splitterWidget","isSplitter","getSplitter","currentSize","changedChildId","changedChildSize","childrenAndSplitters","SplitContainer","activeSizing","sizerWidth","sizers","sizer","virtualSizer","_ownconnects","_addSizer","_restoreState","_onSizerMouseDown","beginSizing","thumb","paneWidth","paneHeight","space","outOf","sizeShare","pixPerUnit","totalSize","sizeActual","_checkSizes","_movePanel","_moveSlider","panel","slider","_growPane","growth","sizeMin","totalMinSize","isDraggingLeft","paneBefore","paneAfter","sizeBeforeDrag","positionBeforeDrag","isSizing","sizingSplitter","startPoint","lastPoint","maxDelta","minDelta","_showSizingLine","changeSizing","_updateSize","_moveSizingLine","endSizing","_hideSizingLine","_saveState","_getCookieName","cookieValue","tabPosition","tabStrip","tablist","_makeController","tablistNode","tablistSpacer","tab","titleAlign","pane2button","StackButton","closeButton","StackController","containerId","buttonWidgetCloseClass","onCloseButtonClick","onButtonClick","onStartup","onAddChild","onSelectChild","paneToButtonAttr","showtitle","iconclass","textdir","connectFunc","buttonAttr","controlButton","_currentChild","labelledby","onRemoveChild","oldButton","newButton","adjacent","onkeydown","fromContainer","_djpage","onContainerKeyDown","Menu","TabButton","closeNode","_setCloseButtonAttr","itemClose","iconNode","TabController","closeMenu","controller","tabControllerTemplate","buttonTemplate","ScrollingTabController","useMenu","useSlider","tabStripClass","_minScroll","scrollNode","tablistWrapper","_initButtons","_postStartup","_dim","_selectedTab","_btnWidth","_buttons","btn","_menuBtn","_rightBtn","_leftBtn","_getTabsWidth","leftTab","rightTab","_enableBtn","tabsWidth","enable","_anim","_convertToScrollLeft","_getScrollForSelectedTab","_setButtonClass","_getScroll","_postResize","maxScroll","createSmoothScroll","_getScrollBounds","scrollNodeWidth","containerWidth","maxPossibleScroll","onlyScrollPosition","scrollBounds","oldS","newS","_getBtnNode","doSlideRight","doSlide","doSlideLeft","sWidth","ScrollingTabControllerButtonMixin","_TabContainerBase","controllerWidget","srcNode","CheckedMenuItem","_setGroupAttr","menuItemNode","FullScreen","_origState","_origiFrameState","_resizeHandle","isFullscreen","_containFocus","ed","_fullscreen_oldOnKeyDown","avn","_getAltViewNode","_resizeEditor","vp","hHeight","fHeight","extents","fcpExtents","fcmExtents","cHeight","_setFullScreen","full","editorParent","_editorResizeHolder","rawStyle","iframeStyle","backgroundColor","_oldOverflow","_oldBodyParentOverflow","_prevW","_prevH","_resizer","_resizeHandle2","_rst","oh","pWidget","TabIndent","colors","TextColor","colorPicker","onColorPaletteLoad","ViewSource","stripScripts","stripComments","stripIFrames","_fsPlugin","_vsFocused","_ieFixNode","_showSource","edPlugins","_sourceShown","sourceArea","_createSourceView","_sourceQueryCommandEnabled","_filter","__oldGetValue","_setListener","htmlTxt","_readOnly","tbH","fH","eb","containerPadding","containerMargin","edb","_ie7zoom","borderWidth","_viewsource_oldFocus","setSourceAreaCaret","_viewsource_getAltViewNode","_stripScripts","_stripComments","_stripIFrames","childrenCache","removedFrom","oldParentChildren","oldParent","main"],"mappings":"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AAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAvjI,IAAA,KAAAwjI,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACA9jI,IAAA,KAAA+jI,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAA/vG,IAAA,KAAAgwG,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAApyG,IAAA,KAAAqyG,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KACAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAAA,KAAAC,IAA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","file":"../dijit-all.js","sourcesContent":["define('dojo/has',[\"require\", \"module\"], function(require, module){\r\n\r\n\t// module:\r\n\t//\t\tdojo/has\r\n\t// summary:\r\n\t//\t\tDefines the has.js API and several feature tests used by dojo.\r\n\t// description:\r\n\t//\t\tThis module defines the has API as described by the project has.js with the following additional features:\r\n\t//\r\n\t//\t\t- the has test cache is exposed at has.cache.\r\n\t//\t\t- the method has.add includes a forth parameter that controls whether or not existing tests are replaced\r\n\t//\t\t- the loader's has cache may be optionally copied into this module's has cahce.\r\n\t//\r\n\t//\t\tThis module adopted from https://github.com/phiggins42/has.js; thanks has.js team!\r\n\r\n\t// try to pull the has implementation from the loader; both the dojo loader and bdLoad provide one\r\n\t// if using a foreign loader, then the has cache may be initialized via the config object for this module\r\n\t// WARNING: if a foreign loader defines require.has to be something other than the has.js API, then this implementation fail\r\n\tvar has = require.has || function(){};\r\n\tif(!has(\"dojo-has-api\")){\r\n\t\tvar\r\n\t\t\tisBrowser =\r\n\t\t\t\t// the most fundamental decision: are we in the browser?\r\n\t\t\t\ttypeof window != \"undefined\" &&\r\n\t\t\t\ttypeof location != \"undefined\" &&\r\n\t\t\t\ttypeof document != \"undefined\" &&\r\n\t\t\t\twindow.location == location && window.document == document,\r\n\r\n\t\t\t// has API variables\r\n\t\t\tglobal = (function () { return this; })(),\r\n\t\t\tdoc = isBrowser && document,\r\n\t\t\telement = doc && doc.createElement(\"DiV\"),\r\n\t\t\tcache = (module.config && module.config()) || {};\r\n\r\n\t\thas = function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the current value of the named feature.\r\n\t\t\t//\r\n\t\t\t// name: String|Integer\r\n\t\t\t//\t\tThe name (if a string) or identifier (if an integer) of the feature to test.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns the value of the feature named by name. The feature must have been\r\n\t\t\t//\t\tpreviously added to the cache by has.add.\r\n\r\n\t\t\treturn typeof cache[name] == \"function\" ? (cache[name] = cache[name](global, doc, element)) : cache[name]; // Boolean\r\n\t\t};\r\n\r\n\t\thas.cache = cache;\r\n\r\n\t\thas.add = function(name, test, now, force){\r\n\t\t\t// summary:\r\n\t\t\t//\t \tRegister a new feature test for some named feature.\r\n\t\t\t// name: String|Integer\r\n\t\t\t//\t \tThe name (if a string) or identifier (if an integer) of the feature to test.\r\n\t\t\t// test: Function\r\n\t\t\t//\t\t A test function to register. If a function, queued for testing until actually\r\n\t\t\t//\t\t needed. The test function should return a boolean indicating\r\n\t\t\t//\t \tthe presence of a feature or bug.\r\n\t\t\t// now: Boolean?\r\n\t\t\t//\t\t Optional. Omit if `test` is not a function. Provides a way to immediately\r\n\t\t\t//\t\t run the test and cache the result.\r\n\t\t\t// force: Boolean?\r\n\t\t\t//\t \tOptional. If the test already exists and force is truthy, then the existing\r\n\t\t\t//\t \ttest will be replaced; otherwise, add does not replace an existing test (that\r\n\t\t\t//\t \tis, by default, the first test advice wins).\r\n\t\t\t// example:\r\n\t\t\t//\t\tA redundant test, testFn with immediate execution:\r\n\t\t\t//\t|\thas.add(\"javascript\", function(){ return true; }, true);\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAgain with the redundantness. You can do this in your tests, but we should\r\n\t\t\t//\t\tnot be doing this in any internal has.js tests\r\n\t\t\t//\t|\thas.add(\"javascript\", true);\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tThree things are passed to the testFunction. `global`, `document`, and a generic element\r\n\t\t\t//\t\tfrom which to work your test should the need arise.\r\n\t\t\t//\t|\thas.add(\"bug-byid\", function(g, d, el){\r\n\t\t\t//\t|\t\t// g\t== global, typically window, yadda yadda\r\n\t\t\t//\t|\t\t// d\t== document object\r\n\t\t\t//\t|\t\t// el == the generic element. a `has` element.\r\n\t\t\t//\t|\t\treturn false; // fake test, byid-when-form-has-name-matching-an-id is slightly longer\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\t(typeof cache[name]==\"undefined\" || force) && (cache[name]= test);\r\n\t\t\treturn now && has(name);\r\n\t\t};\r\n\r\n\t\t// since we're operating under a loader that doesn't provide a has API, we must explicitly initialize\r\n\t\t// has as it would have otherwise been initialized by the dojo loader; use has.add to the builder\r\n\t\t// can optimize these away iff desired\r\n\t\thas.add(\"host-browser\", isBrowser);\r\n\t\thas.add(\"host-node\", (typeof process == \"object\" && process.versions && process.versions.node && process.versions.v8));\r\n\t\thas.add(\"host-rhino\", (typeof load == \"function\" && (typeof Packages == \"function\" || typeof Packages == \"object\")));\r\n\t\thas.add(\"dom\", isBrowser);\r\n\t\thas.add(\"dojo-dom-ready-api\", 1);\r\n\t\thas.add(\"dojo-sniff\", 1);\r\n\t}\r\n\r\n\tif(has(\"host-browser\")){\r\n\t\t// Common application level tests\r\n\t\thas.add(\"dom-addeventlistener\", !!document.addEventListener);\r\n\r\n\t\t// Do the device and browser have touch capability?\r\n\t\thas.add(\"touch\", \"ontouchstart\" in document\r\n\t\t\t|| (\"onpointerdown\" in document && navigator.maxTouchPoints > 0)\r\n\t\t\t|| window.navigator.msMaxTouchPoints);\r\n\r\n\t\t// Touch events support\r\n\t\thas.add(\"touch-events\", \"ontouchstart\" in document);\r\n\r\n\t\t// Pointer Events support\r\n\t\thas.add(\"pointer-events\", \"onpointerdown\" in document);\r\n\t\thas.add(\"MSPointer\", \"msMaxTouchPoints\" in navigator); //IE10 (+IE11 preview)\r\n\r\n\t\t// I don't know if any of these tests are really correct, just a rough guess\r\n\t\thas.add(\"device-width\", screen.availWidth || innerWidth);\r\n\r\n\t\t// Tests for DOMNode.attributes[] behavior:\r\n\t\t//\t - dom-attributes-explicit - attributes[] only lists explicitly user specified attributes\r\n\t\t//\t - dom-attributes-specified-flag (IE8) - need to check attr.specified flag to skip attributes user didn't specify\r\n\t\t//\t - Otherwise, in IE6-7. attributes[] will list hundreds of values, so need to do outerHTML to get attrs instead.\r\n\t\tvar form = document.createElement(\"form\");\r\n\t\thas.add(\"dom-attributes-explicit\", form.attributes.length == 0); // W3C\r\n\t\thas.add(\"dom-attributes-specified-flag\", form.attributes.length > 0 && form.attributes.length < 40);\t// IE8\r\n\t}\r\n\r\n\thas.clearElement = function(element){\r\n\t\t// summary:\r\n\t\t//\t Deletes the contents of the element passed to test functions.\r\n\t\telement.innerHTML= \"\";\r\n\t\treturn element;\r\n\t};\r\n\r\n\thas.normalize = function(id, toAbsMid){\r\n\t\t// summary:\r\n\t\t//\t Resolves id into a module id based on possibly-nested tenary expression that branches on has feature test value(s).\r\n\t\t//\r\n\t\t// toAbsMid: Function\r\n\t\t//\t Resolves a relative module id into an absolute module id\r\n\t\tvar\r\n\t\t\ttokens = id.match(/[\\?:]|[^:\\?]*/g), i = 0,\r\n\t\t\tget = function(skip){\r\n\t\t\t\tvar term = tokens[i++];\r\n\t\t\t\tif(term == \":\"){\r\n\t\t\t\t\t// empty string module name, resolves to 0\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// postfixed with a ? means it is a feature to branch on, the term is the name of the feature\r\n\t\t\t\t\tif(tokens[i++] == \"?\"){\r\n\t\t\t\t\t\tif(!skip && has(term)){\r\n\t\t\t\t\t\t\t// matched the feature, get the first value from the options\r\n\t\t\t\t\t\t\treturn get();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// did not match, get the second value, passing over the first\r\n\t\t\t\t\t\t\tget(true);\r\n\t\t\t\t\t\t\treturn get(skip);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// a module\r\n\t\t\t\t\treturn term || 0;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tid = get();\r\n\t\treturn id && toAbsMid(id);\r\n\t};\r\n\r\n\tif (require.isBrowser===false) { // for build,will be changed with better implementation. by LWF\r\n\t\thas.load = function (name, req, onLoad, config) {\r\n\t        onLoad();\r\n\t    };\t\t\r\n\t} else {\r\n\t\thas.load = function(id, parentRequire, loaded){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConditional loading of AMD modules based on a has feature test value.\r\n\t\t\t// id: String\r\n\t\t\t//\t\tGives the resolved module id to load.\r\n\t\t\t// parentRequire: Function\r\n\t\t\t//\t\tThe loader require function with respect to the module that contained the plugin resource in it's\r\n\t\t\t//\t\tdependency list.\r\n\t\t\t// loaded: Function\r\n\t\t\t//\t Callback to loader that consumes result of plugin demand.\r\n\r\n\t\t\tif(id){\r\n\t\t\t\tparentRequire([id], loaded);\r\n\t\t\t}else{\r\n\t\t\t\tloaded();\r\n\t\t\t}\r\n\t\t};\t\t\r\n\t}\r\n\r\n\r\n\treturn has;\r\n});\r\n\ndefine('dojo/_base/config',[\"../has\", \"require\"], function(has, require){\r\n\t// module:\r\n\t//\t\tdojo/_base/config\r\n\r\n/*=====\r\nreturn {\r\n\t// summary:\r\n\t//\t\tThis module defines the user configuration during bootstrap.\r\n\t// description:\r\n\t//\t\tBy defining user configuration as a module value, an entire configuration can be specified in a build,\r\n\t//\t\tthereby eliminating the need for sniffing and or explicitly setting in the global variable dojoConfig.\r\n\t//\t\tAlso, when multiple instances of dojo exist in a single application, each will necessarily be located\r\n\t//\t\tat an unique absolute module identifier as given by the package configuration. Implementing configuration\r\n\t//\t\tas a module allows for specifying unique, per-instance configurations.\r\n\t// example:\r\n\t//\t\tCreate a second instance of dojo with a different, instance-unique configuration (assume the loader and\r\n\t//\t\tdojo.js are already loaded).\r\n\t//\t\t|\t// specify a configuration that creates a new instance of dojo at the absolute module identifier \"myDojo\"\r\n\t//\t\t|\trequire({\r\n\t//\t\t|\t\tpackages:[{\r\n\t//\t\t|\t\t\tname:\"myDojo\",\r\n\t//\t\t|\t\t\tlocation:\".\", //assume baseUrl points to dojo.js\r\n\t//\t\t|\t\t}]\r\n\t//\t\t|\t});\r\n\t//\t\t|\r\n\t//\t\t|\t// specify a configuration for the myDojo instance\r\n\t//\t\t|\tdefine(\"myDojo/config\", {\r\n\t//\t\t|\t\t// normal configuration variables go here, e.g.,\r\n\t//\t\t|\t\tlocale:\"fr-ca\"\r\n\t//\t\t|\t});\r\n\t//\t\t|\r\n\t//\t\t|\t// load and use the new instance of dojo\r\n\t//\t\t|\trequire([\"myDojo\"], function(dojo){\r\n\t//\t\t|\t\t// dojo is the new instance of dojo\r\n\t//\t\t|\t\t// use as required\r\n\t//\t\t|\t});\r\n\r\n\t// isDebug: Boolean\r\n\t//\t\tDefaults to `false`. If set to `true`, ensures that Dojo provides\r\n\t//\t\textended debugging feedback via Firebug. If Firebug is not available\r\n\t//\t\ton your platform, setting `isDebug` to `true` will force Dojo to\r\n\t//\t\tpull in (and display) the version of Firebug Lite which is\r\n\t//\t\tintegrated into the Dojo distribution, thereby always providing a\r\n\t//\t\tdebugging/logging console when `isDebug` is enabled. Note that\r\n\t//\t\tFirebug's `console.*` methods are ALWAYS defined by Dojo. If\r\n\t//\t\t`isDebug` is false and you are on a platform without Firebug, these\r\n\t//\t\tmethods will be defined as no-ops.\r\n\tisDebug: false,\r\n\r\n\t// locale: String\r\n\t//\t\tThe locale to assume for loading localized resources in this page,\r\n\t//\t\tspecified according to [RFC 3066](http://www.ietf.org/rfc/rfc3066.txt).\r\n\t//\t\tMust be specified entirely in lowercase, e.g. `en-us` and `zh-cn`.\r\n\t//\t\tSee the documentation for `dojo.i18n` and `dojo.requireLocalization`\r\n\t//\t\tfor details on loading localized resources. If no locale is specified,\r\n\t//\t\tDojo assumes the locale of the user agent, according to `navigator.userLanguage`\r\n\t//\t\tor `navigator.language` properties.\r\n\tlocale: undefined,\r\n\r\n\t// extraLocale: Array\r\n\t//\t\tNo default value. Specifies additional locales whose\r\n\t//\t\tresources should also be loaded alongside the default locale when\r\n\t//\t\tcalls to `dojo.requireLocalization()` are processed.\r\n\textraLocale: undefined,\r\n\r\n\t// baseUrl: String\r\n\t//\t\tThe directory in which `dojo.js` is located. Under normal\r\n\t//\t\tconditions, Dojo auto-detects the correct location from which it\r\n\t//\t\twas loaded. You may need to manually configure `baseUrl` in cases\r\n\t//\t\twhere you have renamed `dojo.js` or in which `<base>` tags confuse\r\n\t//\t\tsome browsers (e.g. IE 6). The variable `dojo.baseUrl` is assigned\r\n\t//\t\teither the value of `djConfig.baseUrl` if one is provided or the\r\n\t//\t\tauto-detected root if not. Other modules are located relative to\r\n\t//\t\tthis path. The path should end in a slash.\r\n\tbaseUrl: undefined,\r\n\r\n\t// modulePaths: [deprecated] Object\r\n\t//\t\tA map of module names to paths relative to `dojo.baseUrl`. The\r\n\t//\t\tkey/value pairs correspond directly to the arguments which\r\n\t//\t\t`dojo.registerModulePath` accepts. Specifying\r\n\t//\t\t`djConfig.modulePaths = { \"foo\": \"../../bar\" }` is the equivalent\r\n\t//\t\tof calling `dojo.registerModulePath(\"foo\", \"../../bar\");`. Multiple\r\n\t//\t\tmodules may be configured via `djConfig.modulePaths`.\r\n\tmodulePaths: {},\r\n\r\n\t// addOnLoad: Function|Array\r\n\t//\t\tAdds a callback via dojo/ready. Useful when Dojo is added after\r\n\t//\t\tthe page loads and djConfig.afterOnLoad is true. Supports the same\r\n\t//\t\targuments as dojo/ready. When using a function reference, use\r\n\t//\t\t`djConfig.addOnLoad = function(){};`. For object with function name use\r\n\t//\t\t`djConfig.addOnLoad = [myObject, \"functionName\"];` and for object with\r\n\t//\t\tfunction reference use\r\n\t//\t\t`djConfig.addOnLoad = [myObject, function(){}];`\r\n\taddOnLoad: null,\r\n\r\n\t// parseOnLoad: Boolean\r\n\t//\t\tRun the parser after the page is loaded\r\n\tparseOnLoad: false,\r\n\r\n\t// require: String[]\r\n\t//\t\tAn array of module names to be loaded immediately after dojo.js has been included\r\n\t//\t\tin a page.\r\n\trequire: [],\r\n\r\n\t// defaultDuration: Number\r\n\t//\t\tDefault duration, in milliseconds, for wipe and fade animations within dijits.\r\n\t//\t\tAssigned to dijit.defaultDuration.\r\n\tdefaultDuration: 200,\r\n\r\n\t// dojoBlankHtmlUrl: String\r\n\t//\t\tUsed by some modules to configure an empty iframe. Used by dojo/io/iframe and\r\n\t//\t\tdojo/back, and dijit/popup support in IE where an iframe is needed to make sure native\r\n\t//\t\tcontrols do not bleed through the popups. Normally this configuration variable\r\n\t//\t\tdoes not need to be set, except when using cross-domain/CDN Dojo builds.\r\n\t//\t\tSave dojo/resources/blank.html to your domain and set `djConfig.dojoBlankHtmlUrl`\r\n\t//\t\tto the path on your domain your copy of blank.html.\r\n\tdojoBlankHtmlUrl: undefined,\r\n\r\n\t// ioPublish: Boolean?\r\n\t//\t\tSet this to true to enable publishing of topics for the different phases of\r\n\t//\t\tIO operations. Publishing is done via dojo/topic.publish(). See dojo/main.__IoPublish for a list\r\n\t//\t\tof topics that are published.\r\n\tioPublish: false,\r\n\r\n\t// useCustomLogger: Anything?\r\n\t//\t\tIf set to a value that evaluates to true such as a string or array and\r\n\t//\t\tisDebug is true and Firebug is not available or running, then it bypasses\r\n\t//\t\tthe creation of Firebug Lite allowing you to define your own console object.\r\n\tuseCustomLogger: undefined,\r\n\r\n\t// transparentColor: Array\r\n\t//\t\tArray containing the r, g, b components used as transparent color in dojo.Color;\r\n\t//\t\tif undefined, [255,255,255] (white) will be used.\r\n\ttransparentColor: undefined,\r\n\t\r\n\t// deps: Function|Array\r\n\t//\t\tDefines dependencies to be used before the loader has been loaded.\r\n\t//\t\tWhen provided, they cause the loader to execute require(deps, callback) \r\n\t//\t\tonce it has finished loading. Should be used with callback.\r\n\tdeps: undefined,\r\n\t\r\n\t// callback: Function|Array\r\n\t//\t\tDefines a callback to be used when dependencies are defined before \r\n\t//\t\tthe loader has been loaded. When provided, they cause the loader to \r\n\t//\t\texecute require(deps, callback) once it has finished loading. \r\n\t//\t\tShould be used with deps.\r\n\tcallback: undefined,\r\n\t\r\n\t// deferredInstrumentation: Boolean\r\n\t//\t\tWhether deferred instrumentation should be loaded or included\r\n\t//\t\tin builds.\r\n\tdeferredInstrumentation: true,\r\n\r\n\t// useDeferredInstrumentation: Boolean|String\r\n\t//\t\tWhether the deferred instrumentation should be used.\r\n\t//\r\n\t//\t\t* `\"report-rejections\"`: report each rejection as it occurs.\r\n\t//\t\t* `true` or `1` or `\"report-unhandled-rejections\"`: wait 1 second\r\n\t//\t\t\tin an attempt to detect unhandled rejections.\r\n\tuseDeferredInstrumentation: \"report-unhandled-rejections\"\r\n};\r\n=====*/\r\n\r\n\tvar result = {};\r\n\tif(has(\"dojo-config-api\")){\r\n\t\t// must be the dojo loader; take a shallow copy of require.rawConfig\r\n\t\tvar src = require.rawConfig, p;\r\n\t\tfor(p in src){\r\n\t\t\tresult[p] = src[p];\r\n\t\t}\r\n\t}else{\r\n\t\tvar adviseHas = function(featureSet, prefix, booting){\r\n\t\t\tfor(p in featureSet){\r\n\t\t\t\tp!=\"has\" && has.add(prefix + p, featureSet[p], 0, booting);\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar global = (function () { return this; })();\r\n\t\tresult = has(\"dojo-loader\") ?\r\n\t\t\t// must be a built version of the dojo loader; all config stuffed in require.rawConfig\r\n\t\t\trequire.rawConfig :\r\n\t\t\t// a foreign loader\r\n\t\t\tglobal.dojoConfig || global.djConfig || {};\r\n\t\tadviseHas(result, \"config\", 1);\r\n\t\tadviseHas(result.has, \"\", 1);\r\n\t}\r\n\r\n\tif(!result.locale && typeof navigator != \"undefined\"){\r\n\t\t// Default locale for browsers.\r\n\t\tvar language = (navigator.language || navigator.userLanguage);\r\n\t\tif(language){\r\n\t\t\tresult.locale = language.toLowerCase();\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n});\r\n\r\n\ndefine('dojo/_base/kernel',[\"../has\", \"./config\", \"require\", \"module\"], function(has, config, require, module){\r\n\t// module:\r\n\t//\t\tdojo/_base/kernel\r\n\r\n\t// This module is the foundational module of the dojo boot sequence; it defines the dojo object.\r\n\r\n\tvar\r\n\t\t// loop variables for this module\r\n\t\ti, p,\r\n\r\n\t\t// create dojo, dijit, and dojox\r\n\t\t// FIXME: in 2.0 remove dijit, dojox being created by dojo\r\n\t\tglobal = (function () { return this; })(),\r\n\t\tdijit = {},\r\n\t\tdojox = {},\r\n\t\tdojo = {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis module is the foundational module of the dojo boot sequence; it defines the dojo object.\r\n\r\n\t\t\t// notice dojo takes ownership of the value of the config module\r\n\t\t\tconfig:config,\r\n\t\t\tglobal:global,\r\n\t\t\tdijit:dijit,\r\n\t\t\tdojox:dojox\r\n\t\t};\r\n\r\n\r\n\t// Configure the scope map. For a 100% AMD application, the scope map is not needed other than to provide\r\n\t// a _scopeName property for the dojo, dijit, and dojox root object so those packages can create\r\n\t// unique names in the global space.\r\n\t//\r\n\t// Built, legacy modules use the scope map to allow those modules to be expressed as if dojo, dijit, and dojox,\r\n\t// where global when in fact they are either global under different names or not global at all. In v1.6-, the\r\n\t// config variable \"scopeMap\" was used to map names as used within a module to global names. This has been\r\n\t// subsumed by the AMD map configuration variable which can relocate packages to different names. For backcompat,\r\n\t// only the \"*\" mapping is supported. See http://livedocs.dojotoolkit.org/developer/design/loader#legacy-cross-domain-mode for details.\r\n\t//\r\n\t// The following computations contort the packageMap for this dojo instance into a scopeMap.\r\n\tvar scopeMap =\r\n\t\t\t// a map from a name used in a legacy module to the (global variable name, object addressed by that name)\r\n\t\t\t// always map dojo, dijit, and dojox\r\n\t\t\t{\r\n\t\t\t\tdojo:[\"dojo\", dojo],\r\n\t\t\t\tdijit:[\"dijit\", dijit],\r\n\t\t\t\tdojox:[\"dojox\", dojox]\r\n\t\t\t},\r\n\r\n\t\tpackageMap =\r\n\t\t\t// the package map for this dojo instance; note, a foreign loader or no pacakgeMap results in the above default config\r\n\t\t\t(require.map && require.map[module.id.match(/[^\\/]+/)[0]]),\r\n\r\n\t\titem;\r\n\r\n\r\n\t// process all mapped top-level names for this instance of dojo\r\n\tfor(p in packageMap){\r\n\t\tif(scopeMap[p]){\r\n\t\t\t// mapped dojo, dijit, or dojox\r\n\t\t\tscopeMap[p][0] = packageMap[p];\r\n\t\t}else{\r\n\t\t\t// some other top-level name\r\n\t\t\tscopeMap[p] = [packageMap[p], {}];\r\n\t\t}\r\n\t}\r\n\r\n\t// publish those names to _scopeName and, optionally, the global namespace\r\n\tfor(p in scopeMap){\r\n\t\titem = scopeMap[p];\r\n\t\titem[1]._scopeName = item[0];\r\n\t\tif(!config.noGlobals){\r\n\t\t\tglobal[item[0]] = item[1];\r\n\t\t}\r\n\t}\r\n\tdojo.scopeMap = scopeMap;\r\n\r\n\t/*===== dojo.__docParserConfigureScopeMap(scopeMap); =====*/\r\n\r\n\t// FIXME: dojo.baseUrl and dojo.config.baseUrl should be deprecated\r\n\tdojo.baseUrl = dojo.config.baseUrl = require.baseUrl;\r\n\tdojo.isAsync = !has(\"dojo-loader\") || require.async;\r\n\tdojo.locale = config.locale;\r\n\r\n\tvar rev = \"$Rev: f4fef70 $\".match(/[0-9a-f]{7,}/);\r\n\tdojo.version = {\r\n\t\t// summary:\r\n\t\t//\t\tVersion number of the Dojo Toolkit\r\n\t\t// description:\r\n\t\t//\t\tHash about the version, including\r\n\t\t//\r\n\t\t//\t\t- major: Integer: Major version. If total version is \"1.2.0beta1\", will be 1\r\n\t\t//\t\t- minor: Integer: Minor version. If total version is \"1.2.0beta1\", will be 2\r\n\t\t//\t\t- patch: Integer: Patch version. If total version is \"1.2.0beta1\", will be 0\r\n\t\t//\t\t- flag: String: Descriptor flag. If total version is \"1.2.0beta1\", will be \"beta1\"\r\n\t\t//\t\t- revision: Number: The Git rev from which dojo was pulled\r\n\r\n\t\tmajor: 1, minor: 10, patch: 4, flag: \"\",\r\n\t\trevision: rev ? rev[0] : NaN,\r\n\t\ttoString: function(){\r\n\t\t\tvar v = dojo.version;\r\n\t\t\treturn v.major + \".\" + v.minor + \".\" + v.patch + v.flag + \" (\" + v.revision + \")\";\t// String\r\n\t\t}\r\n\t};\r\n\r\n\t// If has(\"extend-dojo\") is truthy, then as a dojo module is defined it should push it's definitions\r\n\t// into the dojo object, and conversely. In 2.0, it will likely be unusual to augment another object\r\n\t// as a result of defining a module. This has feature gives a way to force 2.0 behavior as the code\r\n\t// is migrated. Absent specific advice otherwise, set extend-dojo to truthy.\r\n\thas.add(\"extend-dojo\", 1);\r\n\r\n\r\n\t(Function(\"d\", \"d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}\"))(dojo);\r\n\t/*=====\r\n\tdojo.eval = function(scriptText){\r\n\t\t// summary:\r\n\t\t//\t\tA legacy method created for use exclusively by internal Dojo methods. Do not use this method\r\n\t\t//\t\tdirectly unless you understand its possibly-different implications on the platforms your are targeting.\r\n\t\t// description:\r\n\t\t//\t\tMakes an attempt to evaluate scriptText in the global scope. The function works correctly for browsers\r\n\t\t//\t\tthat support indirect eval.\r\n\t\t//\r\n\t\t//\t\tAs usual, IE does not. On IE, the only way to implement global eval is to\r\n\t\t//\t\tuse execScript. Unfortunately, execScript does not return a value and breaks some current usages of dojo.eval.\r\n\t\t//\t\tThis implementation uses the technique of executing eval in the scope of a function that is a single scope\r\n\t\t//\t\tframe below the global scope; thereby coming close to the global scope. Note carefully that\r\n\t\t//\r\n\t\t//\t\tdojo.eval(\"var pi = 3.14;\");\r\n\t\t//\r\n\t\t//\t\twill define global pi in non-IE environments, but define pi only in a temporary local scope for IE. If you want\r\n\t\t//\t\tto define a global variable using dojo.eval, write something like\r\n\t\t//\r\n\t\t//\t\tdojo.eval(\"window.pi = 3.14;\")\r\n\t\t// scriptText:\r\n\t\t//\t\tThe text to evaluation.\r\n\t\t// returns:\r\n\t\t//\t\tThe result of the evaluation. Often `undefined`\r\n\t};\r\n\t=====*/\r\n\r\n\r\n\tif(has(\"host-rhino\")){\r\n\t\tdojo.exit = function(exitcode){\r\n\t\t\tquit(exitcode);\r\n\t\t};\r\n\t}else{\r\n\t\tdojo.exit = function(){\r\n\t\t};\r\n\t}\r\n\r\n\thas.add(\"dojo-guarantee-console\",\r\n\t\t// ensure that console.log, console.warn, etc. are defined\r\n\t\t1\r\n\t);\r\n\tif(has(\"dojo-guarantee-console\")){\r\n\t\ttypeof console != \"undefined\" || (console = {});\r\n\t\t//\tBe careful to leave 'log' always at the end\r\n\t\tvar cn = [\r\n\t\t\t\"assert\", \"count\", \"debug\", \"dir\", \"dirxml\", \"error\", \"group\",\r\n\t\t\t\"groupEnd\", \"info\", \"profile\", \"profileEnd\", \"time\", \"timeEnd\",\r\n\t\t\t\"trace\", \"warn\", \"log\"\r\n\t\t];\r\n\t\tvar tn;\r\n\t\ti = 0;\r\n\t\twhile((tn = cn[i++])){\r\n\t\t\tif(!console[tn]){\r\n\t\t\t\t(function(){\r\n\t\t\t\t\tvar tcn = tn + \"\";\r\n\t\t\t\t\tconsole[tcn] = ('log' in console) ? function(){\r\n\t\t\t\t\t\tvar a = Array.prototype.slice.call(arguments);\r\n\t\t\t\t\t\ta.unshift(tcn + \":\");\r\n\t\t\t\t\t\tconsole[\"log\"](a.join(\" \"));\r\n\t\t\t\t\t} : function(){};\r\n\t\t\t\t\tconsole[tcn]._fake = true;\r\n\t\t\t\t})();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thas.add(\"dojo-debug-messages\",\r\n\t\t// include dojo.deprecated/dojo.experimental implementations\r\n\t\t!!config.isDebug\r\n\t);\r\n\tdojo.deprecated = dojo.experimental =  function(){};\r\n\tif(has(\"dojo-debug-messages\")){\r\n\t\tdojo.deprecated = function(/*String*/ behaviour, /*String?*/ extra, /*String?*/ removal){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLog a debug message to indicate that a behavior has been\r\n\t\t\t//\t\tdeprecated.\r\n\t\t\t// behaviour: String\r\n\t\t\t//\t\tThe API or behavior being deprecated. Usually in the form\r\n\t\t\t//\t\tof \"myApp.someFunction()\".\r\n\t\t\t// extra: String?\r\n\t\t\t//\t\tText to append to the message. Often provides advice on a\r\n\t\t\t//\t\tnew function or facility to achieve the same goal during\r\n\t\t\t//\t\tthe deprecation period.\r\n\t\t\t// removal: String?\r\n\t\t\t//\t\tText to indicate when in the future the behavior will be\r\n\t\t\t//\t\tremoved. Usually a version number.\r\n\t\t\t// example:\r\n\t\t\t//\t| dojo.deprecated(\"myApp.getTemp()\", \"use myApp.getLocaleTemp() instead\", \"1.0\");\r\n\r\n\t\t\tvar message = \"DEPRECATED: \" + behaviour;\r\n\t\t\tif(extra){ message += \" \" + extra; }\r\n\t\t\tif(removal){ message += \" -- will be removed in version: \" + removal; }\r\n\t\t\tconsole.warn(message);\r\n\t\t};\r\n\r\n\t\tdojo.experimental = function(/* String */ moduleName, /* String? */ extra){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMarks code as experimental.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis can be used to mark a function, file, or module as\r\n\t\t\t//\t\texperimental.\t Experimental code is not ready to be used, and the\r\n\t\t\t//\t\tAPIs are subject to change without notice.\tExperimental code may be\r\n\t\t\t//\t\tcompleted deleted without going through the normal deprecation\r\n\t\t\t//\t\tprocess.\r\n\t\t\t// moduleName: String\r\n\t\t\t//\t\tThe name of a module, or the name of a module file or a specific\r\n\t\t\t//\t\tfunction\r\n\t\t\t// extra: String?\r\n\t\t\t//\t\tsome additional message for the user\r\n\t\t\t// example:\r\n\t\t\t//\t| dojo.experimental(\"dojo.data.Result\");\r\n\t\t\t// example:\r\n\t\t\t//\t| dojo.experimental(\"dojo.weather.toKelvin()\", \"PENDING approval from NOAA\");\r\n\r\n\t\t\tvar message = \"EXPERIMENTAL: \" + moduleName + \" -- APIs subject to change without notice.\";\r\n\t\t\tif(extra){ message += \" \" + extra; }\r\n\t\t\tconsole.warn(message);\r\n\t\t};\r\n\t}\r\n\r\n\thas.add(\"dojo-modulePaths\",\r\n\t\t// consume dojo.modulePaths processing\r\n\t\t1\r\n\t);\r\n\tif(has(\"dojo-modulePaths\")){\r\n\t\t// notice that modulePaths won't be applied to any require's before the dojo/_base/kernel factory is run;\r\n\t\t// this is the v1.6- behavior.\r\n\t\tif(config.modulePaths){\r\n\t\t\tdojo.deprecated(\"dojo.modulePaths\", \"use paths configuration\");\r\n\t\t\tvar paths = {};\r\n\t\t\tfor(p in config.modulePaths){\r\n\t\t\t\tpaths[p.replace(/\\./g, \"/\")] = config.modulePaths[p];\r\n\t\t\t}\r\n\t\t\trequire({paths:paths});\r\n\t\t}\r\n\t}\r\n\r\n\thas.add(\"dojo-moduleUrl\",\r\n\t\t// include dojo.moduleUrl\r\n\t\t1\r\n\t);\r\n\tif(has(\"dojo-moduleUrl\")){\r\n\t\tdojo.moduleUrl = function(/*String*/module, /*String?*/url){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a URL relative to a module.\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar pngPath = dojo.moduleUrl(\"acme\",\"images/small.png\");\r\n\t\t\t//\t|\tconsole.dir(pngPath); // list the object properties\r\n\t\t\t//\t|\t// create an image and set it's source to pngPath's value:\r\n\t\t\t//\t|\tvar img = document.createElement(\"img\");\r\n\t\t\t//\t|\timg.src = pngPath;\r\n\t\t\t//\t|\t// add our image to the document\r\n\t\t\t//\t|\tdojo.body().appendChild(img);\r\n\t\t\t// example:\r\n\t\t\t//\t\tyou may de-reference as far as you like down the package\r\n\t\t\t//\t\thierarchy.  This is sometimes handy to avoid lengthy relative\r\n\t\t\t//\t\turls or for building portable sub-packages. In this example,\r\n\t\t\t//\t\tthe `acme.widget` and `acme.util` directories may be located\r\n\t\t\t//\t\tunder different roots (see `dojo.registerModulePath`) but the\r\n\t\t\t//\t\tthe modules which reference them can be unaware of their\r\n\t\t\t//\t\trelative locations on the filesystem:\r\n\t\t\t//\t|\t// somewhere in a configuration block\r\n\t\t\t//\t|\tdojo.registerModulePath(\"acme.widget\", \"../../acme/widget\");\r\n\t\t\t//\t|\tdojo.registerModulePath(\"acme.util\", \"../../util\");\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t// ...\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t// code in a module using acme resources\r\n\t\t\t//\t|\tvar tmpltPath = dojo.moduleUrl(\"acme.widget\",\"templates/template.html\");\r\n\t\t\t//\t|\tvar dataPath = dojo.moduleUrl(\"acme.util\",\"resources/data.json\");\r\n\r\n\t\t\tdojo.deprecated(\"dojo.moduleUrl()\", \"use require.toUrl\", \"2.0\");\r\n\r\n\t\t\t// require.toUrl requires a filetype; therefore, just append the suffix \"/*.*\" to guarantee a filetype, then\r\n\t\t\t// remove the suffix from the result. This way clients can request a url w/out a filetype. This should be\r\n\t\t\t// rare, but it maintains backcompat for the v1.x line (note: dojo.moduleUrl will be removed in v2.0).\r\n\t\t\t// Notice * is an illegal filename so it won't conflict with any real path map that may exist the paths config.\r\n\t\t\tvar result = null;\r\n\t\t\tif(module){\r\n\t\t\t\tresult = require.toUrl(module.replace(/\\./g, \"/\") + (url ? (\"/\" + url) : \"\") + \"/*.*\").replace(/\\/\\*\\.\\*/, \"\") + (url ? \"\" : \"/\");\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t}\r\n\r\n\tdojo._hasResource = {}; // for backward compatibility with layers built with 1.6 tooling\r\n\r\n\treturn dojo;\r\n});\r\n\ndefine('dojo/sniff',[\"./has\"], function(has){\r\n\t// module:\r\n\t//\t\tdojo/sniff\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tThis module sets has() flags based on the current browser.\r\n\t\t//\t\tIt returns the has() function.\r\n\t};\r\n\t=====*/\r\n\r\n\tif(has(\"host-browser\")){\r\n\t\tvar n = navigator,\r\n\t\t\tdua = n.userAgent,\r\n\t\t\tdav = n.appVersion,\r\n\t\t\ttv = parseFloat(dav);\r\n\r\n\t\thas.add(\"air\", dua.indexOf(\"AdobeAIR\") >= 0);\r\n\t\thas.add(\"msapp\", parseFloat(dua.split(\"MSAppHost/\")[1]) || undefined);\r\n\t\thas.add(\"khtml\", dav.indexOf(\"Konqueror\") >= 0 ? tv : undefined);\r\n\t\thas.add(\"webkit\", parseFloat(dua.split(\"WebKit/\")[1]) || undefined);\r\n\t\thas.add(\"chrome\", parseFloat(dua.split(\"Chrome/\")[1]) || undefined);\r\n\t\thas.add(\"safari\", dav.indexOf(\"Safari\")>=0 && !has(\"chrome\") ? parseFloat(dav.split(\"Version/\")[1]) : undefined);\r\n\t\thas.add(\"mac\", dav.indexOf(\"Macintosh\") >= 0);\r\n\t\thas.add(\"quirks\", document.compatMode == \"BackCompat\");\r\n\t\tif(dua.match(/(iPhone|iPod|iPad)/)){\r\n\t\t\tvar p = RegExp.$1.replace(/P/, \"p\");\r\n\t\t\tvar v = dua.match(/OS ([\\d_]+)/) ? RegExp.$1 : \"1\";\r\n\t\t\tvar os = parseFloat(v.replace(/_/, \".\").replace(/_/g, \"\"));\r\n\t\t\thas.add(p, os);\t\t// \"iphone\", \"ipad\" or \"ipod\"\r\n\t\t\thas.add(\"ios\", os);\r\n\t\t}\r\n\t\thas.add(\"android\", parseFloat(dua.split(\"Android \")[1]) || undefined);\r\n\t\thas.add(\"bb\", (dua.indexOf(\"BlackBerry\") >= 0 || dua.indexOf(\"BB10\") >= 0) && parseFloat(dua.split(\"Version/\")[1]) || undefined);\r\n\t\thas.add(\"trident\", parseFloat(dav.split(\"Trident/\")[1]) || undefined);\r\n\r\n\t\thas.add(\"svg\", typeof SVGAngle !== \"undefined\");\r\n\r\n\t\tif(!has(\"webkit\")){\r\n\t\t\t// Opera\r\n\t\t\tif(dua.indexOf(\"Opera\") >= 0){\r\n\t\t\t\t// see http://dev.opera.com/articles/view/opera-ua-string-changes and http://www.useragentstring.com/pages/Opera/\r\n\t\t\t\t// 9.8 has both styles; <9.8, 9.9 only old style\r\n\t\t\t\thas.add(\"opera\", tv >= 9.8 ? parseFloat(dua.split(\"Version/\")[1]) || tv : tv);\r\n\t\t\t}\r\n\r\n\t\t\t// Mozilla and firefox\r\n\t\t\tif(dua.indexOf(\"Gecko\") >= 0 && !has(\"khtml\") && !has(\"webkit\") && !has(\"trident\")){\r\n\t\t\t\thas.add(\"mozilla\", tv);\r\n\t\t\t}\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t//We really need to get away from this. Consider a sane isGecko approach for the future.\r\n\t\t\t\thas.add(\"ff\", parseFloat(dua.split(\"Firefox/\")[1] || dua.split(\"Minefield/\")[1]) || undefined);\r\n\t\t\t}\r\n\r\n\t\t\t// IE\r\n\t\t\tif(document.all && !has(\"opera\")){\r\n\t\t\t\tvar isIE = parseFloat(dav.split(\"MSIE \")[1]) || undefined;\r\n\r\n\t\t\t\t//In cases where the page has an HTTP header or META tag with\r\n\t\t\t\t//X-UA-Compatible, then it is in emulation mode.\r\n\t\t\t\t//Make sure isIE reflects the desired version.\r\n\t\t\t\t//document.documentMode of 5 means quirks mode.\r\n\t\t\t\t//Only switch the value if documentMode's major version\r\n\t\t\t\t//is different from isIE's major version.\r\n\t\t\t\tvar mode = document.documentMode;\r\n\t\t\t\tif(mode && mode != 5 && Math.floor(isIE) != mode){\r\n\t\t\t\t\tisIE = mode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\thas.add(\"ie\", isIE);\r\n\t\t\t}\r\n\r\n\t\t\t// Wii\r\n\t\t\thas.add(\"wii\", typeof opera != \"undefined\" && opera.wiiremote);\r\n\t\t}\r\n\t}\r\n\r\n\treturn has;\r\n});\r\n\ndefine('dojo/_base/lang',[\"./kernel\", \"../has\", \"../sniff\"], function(dojo, has){\r\n\t// module:\r\n\t//\t\tdojo/_base/lang\r\n\r\n\thas.add(\"bug-for-in-skips-shadowed\", function(){\r\n\t\t// if true, the for-in iterator skips object properties that exist in Object's prototype (IE 6 - ?)\r\n\t\tfor(var i in {toString: 1}){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn 1;\r\n\t});\r\n\r\n\t// Helper methods\r\n\tvar _extraNames =\r\n\t\t\thas(\"bug-for-in-skips-shadowed\") ?\r\n\t\t\t\t\"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor\".split(\".\") : [],\r\n\r\n\t\t_extraLen = _extraNames.length,\r\n\r\n\t\tgetProp = function(/*Array*/parts, /*Boolean*/create, /*Object*/context){\r\n\t\t\tif(!context){\r\n\t\t\t\tif(parts[0] && dojo.scopeMap[parts[0]]) {\r\n\t\t\t\t\t// Voodoo code from the old days where \"dojo\" or \"dijit\" maps to some special object\r\n\t\t\t\t\t// rather than just window.dojo\r\n\t\t\t\t\tcontext = dojo.scopeMap[parts.shift()][1];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcontext = dojo.global;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttry{\r\n\t\t\t\tfor(var i = 0; i < parts.length; i++){\r\n\t\t\t\t\tvar p = parts[i];\r\n\t\t\t\t\tif(!(p in context)){\r\n\t\t\t\t\t\tif(create){\r\n\t\t\t\t\t\t\tcontext[p] = {};\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn;\t\t// return undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext = context[p];\r\n\t\t\t\t}\r\n\t\t\t\treturn context; // mixed\r\n\t\t\t}catch(e){\r\n\t\t\t\t// \"p in context\" throws an exception when context is a number, boolean, etc. rather than an object,\r\n\t\t\t\t// so in that corner case just return undefined (by having no return statement)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topts = Object.prototype.toString,\r\n\r\n\t\tefficient = function(obj, offset, startWith){\r\n\t\t\treturn (startWith||[]).concat(Array.prototype.slice.call(obj, offset||0));\r\n\t\t},\r\n\r\n\t\t_pattern = /\\{([^\\}]+)\\}/g;\r\n\r\n\t// Module export\r\n\tvar lang = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines Javascript language extensions.\r\n\r\n\t\t// _extraNames: String[]\r\n\t\t//\t\tLists property names that must be explicitly processed during for-in iteration\r\n\t\t//\t\tin environments that have has(\"bug-for-in-skips-shadowed\") true.\r\n\t\t_extraNames:_extraNames,\r\n\r\n\t\t_mixin: function(dest, source, copyFunc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCopies/adds all properties of source to dest; returns dest.\r\n\t\t\t// dest: Object\r\n\t\t\t//\t\tThe object to which to copy/add all properties contained in source.\r\n\t\t\t// source: Object\r\n\t\t\t//\t\tThe object from which to draw all properties to copy into dest.\r\n\t\t\t// copyFunc: Function?\r\n\t\t\t//\t\tThe process used to copy/add a property in source; defaults to the Javascript assignment operator.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tdest, as modified\r\n\t\t\t// description:\r\n\t\t\t//\t\tAll properties, including functions (sometimes termed \"methods\"), excluding any non-standard extensions\r\n\t\t\t//\t\tfound in Object.prototype, are copied/added to dest. Copying/adding each particular property is\r\n\t\t\t//\t\tdelegated to copyFunc (if any); copyFunc defaults to the Javascript assignment operator if not provided.\r\n\t\t\t//\t\tNotice that by default, _mixin executes a so-called \"shallow copy\" and aggregate types are copied/added by reference.\r\n\t\t\tvar name, s, i, empty = {};\r\n\t\t\tfor(name in source){\r\n\t\t\t\t// the (!(name in empty) || empty[name] !== s) condition avoids copying properties in \"source\"\r\n\t\t\t\t// inherited from Object.prototype.\t For example, if dest has a custom toString() method,\r\n\t\t\t\t// don't overwrite it with the toString() method that source inherited from Object.prototype\r\n\t\t\t\ts = source[name];\r\n\t\t\t\tif(!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))){\r\n\t\t\t\t\tdest[name] = copyFunc ? copyFunc(s) : s;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"bug-for-in-skips-shadowed\")){\r\n\t\t\t\tif(source){\r\n\t\t\t\t\tfor(i = 0; i < _extraLen; ++i){\r\n\t\t\t\t\t\tname = _extraNames[i];\r\n\t\t\t\t\t\ts = source[name];\r\n\t\t\t\t\t\tif(!(name in dest) || (dest[name] !== s && (!(name in empty) || empty[name] !== s))){\r\n\t\t\t\t\t\t\tdest[name] = copyFunc ? copyFunc(s) : s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn dest; // Object\r\n\t\t},\r\n\r\n\t\tmixin: function(dest, sources){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCopies/adds all properties of one or more sources to dest; returns dest.\r\n\t\t\t// dest: Object\r\n\t\t\t//\t\tThe object to which to copy/add all properties contained in source. If dest is falsy, then\r\n\t\t\t//\t\ta new object is manufactured before copying/adding properties begins.\r\n\t\t\t// sources: Object...\r\n\t\t\t//\t\tOne of more objects from which to draw all properties to copy into dest. sources are processed\r\n\t\t\t//\t\tleft-to-right and if more than one of these objects contain the same property name, the right-most\r\n\t\t\t//\t\tvalue \"wins\".\r\n\t\t\t// returns: Object\r\n\t\t\t//\t\tdest, as modified\r\n\t\t\t// description:\r\n\t\t\t//\t\tAll properties, including functions (sometimes termed \"methods\"), excluding any non-standard extensions\r\n\t\t\t//\t\tfound in Object.prototype, are copied/added from sources to dest. sources are processed left to right.\r\n\t\t\t//\t\tThe Javascript assignment operator is used to copy/add each property; therefore, by default, mixin\r\n\t\t\t//\t\texecutes a so-called \"shallow copy\" and aggregate types are copied/added by reference.\r\n\t\t\t// example:\r\n\t\t\t//\t\tmake a shallow copy of an object\r\n\t\t\t//\t|\tvar copy = lang.mixin({}, source);\r\n\t\t\t// example:\r\n\t\t\t//\t\tmany class constructors often take an object which specifies\r\n\t\t\t//\t\tvalues to be configured on the object. In this case, it is\r\n\t\t\t//\t\toften simplest to call `lang.mixin` on the `this` object:\r\n\t\t\t//\t|\tdeclare(\"acme.Base\", null, {\r\n\t\t\t//\t|\t\tconstructor: function(properties){\r\n\t\t\t//\t|\t\t\t// property configuration:\r\n\t\t\t//\t|\t\t\tlang.mixin(this, properties);\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t\t\tconsole.log(this.quip);\r\n\t\t\t//\t|\t\t\t//\t...\r\n\t\t\t//\t|\t\t},\r\n\t\t\t//\t|\t\tquip: \"I wasn't born yesterday, you know - I've seen movies.\",\r\n\t\t\t//\t|\t\t// ...\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t// create an instance of the class and configure it\r\n\t\t\t//\t|\tvar b = new acme.Base({quip: \"That's what it does!\" });\r\n\t\t\t// example:\r\n\t\t\t//\t\tcopy in properties from multiple objects\r\n\t\t\t//\t|\tvar flattened = lang.mixin(\r\n\t\t\t//\t|\t\t{\r\n\t\t\t//\t|\t\t\tname: \"Frylock\",\r\n\t\t\t//\t|\t\t\tbraces: true\r\n\t\t\t//\t|\t\t},\r\n\t\t\t//\t|\t\t{\r\n\t\t\t//\t|\t\t\tname: \"Carl Brutanananadilewski\"\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t|\t);\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t// will print \"Carl Brutanananadilewski\"\r\n\t\t\t//\t|\tconsole.log(flattened.name);\r\n\t\t\t//\t|\t// will print \"true\"\r\n\t\t\t//\t|\tconsole.log(flattened.braces);\r\n\r\n\t\t\tif(!dest){ dest = {}; }\r\n\t\t\tfor(var i = 1, l = arguments.length; i < l; i++){\r\n\t\t\t\tlang._mixin(dest, arguments[i]);\r\n\t\t\t}\r\n\t\t\treturn dest; // Object\r\n\t\t},\r\n\r\n\t\tsetObject: function(name, value, context){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet a property from a dot-separated string, such as \"A.B.C\"\r\n\t\t\t// description:\r\n\t\t\t//\t\tUseful for longer api chains where you have to test each object in\r\n\t\t\t//\t\tthe chain, or when you have an object reference in string format.\r\n\t\t\t//\t\tObjects are created as needed along `path`. Returns the passed\r\n\t\t\t//\t\tvalue if setting is successful or `undefined` if not.\r\n\t\t\t// name: String\r\n\t\t\t//\t\tPath to a property, in the form \"A.B.C\".\r\n\t\t\t// value: anything\r\n\t\t\t//\t\tvalue or object to place at location given by name\r\n\t\t\t// context: Object?\r\n\t\t\t//\t\tOptional. Object to use as root of path. Defaults to\r\n\t\t\t//\t\t`dojo.global`.\r\n\t\t\t// example:\r\n\t\t\t//\t\tset the value of `foo.bar.baz`, regardless of whether\r\n\t\t\t//\t\tintermediate objects already exist:\r\n\t\t\t//\t| lang.setObject(\"foo.bar.baz\", value);\r\n\t\t\t// example:\r\n\t\t\t//\t\twithout `lang.setObject`, we often see code like this:\r\n\t\t\t//\t| // ensure that intermediate objects are available\r\n\t\t\t//\t| if(!obj[\"parent\"]){ obj.parent = {}; }\r\n\t\t\t//\t| if(!obj.parent[\"child\"]){ obj.parent.child = {}; }\r\n\t\t\t//\t| // now we can safely set the property\r\n\t\t\t//\t| obj.parent.child.prop = \"some value\";\r\n\t\t\t//\t\twhereas with `lang.setObject`, we can shorten that to:\r\n\t\t\t//\t| lang.setObject(\"parent.child.prop\", \"some value\", obj);\r\n\r\n\t\t\tvar parts = name.split(\".\"), p = parts.pop(), obj = getProp(parts, true, context);\r\n\t\t\treturn obj && p ? (obj[p] = value) : undefined; // Object\r\n\t\t},\r\n\r\n\t\tgetObject: function(name, create, context){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet a property from a dot-separated string, such as \"A.B.C\"\r\n\t\t\t// description:\r\n\t\t\t//\t\tUseful for longer api chains where you have to test each object in\r\n\t\t\t//\t\tthe chain, or when you have an object reference in string format.\r\n\t\t\t// name: String\r\n\t\t\t//\t\tPath to an property, in the form \"A.B.C\".\r\n\t\t\t// create: Boolean?\r\n\t\t\t//\t\tOptional. Defaults to `false`. If `true`, Objects will be\r\n\t\t\t//\t\tcreated at any point along the 'path' that is undefined.\r\n\t\t\t// context: Object?\r\n\t\t\t//\t\tOptional. Object to use as root of path. Defaults to\r\n\t\t\t//\t\t'dojo.global'. Null may be passed.\r\n\t\t\treturn getProp(name ? name.split(\".\") : [], create, context); // Object\r\n\t\t},\r\n\r\n\t\texists: function(name, obj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdetermine if an object supports a given method\r\n\t\t\t// description:\r\n\t\t\t//\t\tuseful for longer api chains where you have to test each object in\r\n\t\t\t//\t\tthe chain. Useful for object and method detection.\r\n\t\t\t// name: String\r\n\t\t\t//\t\tPath to an object, in the form \"A.B.C\".\r\n\t\t\t// obj: Object?\r\n\t\t\t//\t\tObject to use as root of path. Defaults to\r\n\t\t\t//\t\t'dojo.global'. Null may be passed.\r\n\t\t\t// example:\r\n\t\t\t//\t| // define an object\r\n\t\t\t//\t| var foo = {\r\n\t\t\t//\t|\t\tbar: { }\r\n\t\t\t//\t| };\r\n\t\t\t//\t|\r\n\t\t\t//\t| // search the global scope\r\n\t\t\t//\t| lang.exists(\"foo.bar\"); // true\r\n\t\t\t//\t| lang.exists(\"foo.bar.baz\"); // false\r\n\t\t\t//\t|\r\n\t\t\t//\t| // search from a particular scope\r\n\t\t\t//\t| lang.exists(\"bar\", foo); // true\r\n\t\t\t//\t| lang.exists(\"bar.baz\", foo); // false\r\n\t\t\treturn lang.getObject(name, false, obj) !== undefined; // Boolean\r\n\t\t},\r\n\r\n\t\t// Crockford (ish) functions\r\n\r\n\t\tisString: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn true if it is a String\r\n\t\t\t// it: anything\r\n\t\t\t//\t\tItem to test.\r\n\t\t\treturn (typeof it == \"string\" || it instanceof String); // Boolean\r\n\t\t},\r\n\r\n\t\tisArray: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn true if it is an Array.\r\n\t\t\t//\t\tDoes not work on Arrays created in other windows.\r\n\t\t\t// it: anything\r\n\t\t\t//\t\tItem to test.\r\n\t\t\treturn it && (it instanceof Array || typeof it == \"array\"); // Boolean\r\n\t\t},\r\n\r\n\t\tisFunction: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn true if it is a Function\r\n\t\t\t// it: anything\r\n\t\t\t//\t\tItem to test.\r\n\t\t\treturn opts.call(it) === \"[object Function]\";\r\n\t\t},\r\n\r\n\t\tisObject: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if it is a JavaScript object (or an Array, a Function\r\n\t\t\t//\t\tor null)\r\n\t\t\t// it: anything\r\n\t\t\t//\t\tItem to test.\r\n\t\t\treturn it !== undefined &&\r\n\t\t\t\t(it === null || typeof it == \"object\" || lang.isArray(it) || lang.isFunction(it)); // Boolean\r\n\t\t},\r\n\r\n\t\tisArrayLike: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsimilar to isArray() but more permissive\r\n\t\t\t// it: anything\r\n\t\t\t//\t\tItem to test.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tIf it walks like a duck and quacks like a duck, return `true`\r\n\t\t\t// description:\r\n\t\t\t//\t\tDoesn't strongly test for \"arrayness\".  Instead, settles for \"isn't\r\n\t\t\t//\t\ta string or number and has a length property\". Arguments objects\r\n\t\t\t//\t\tand DOM collections will return true when passed to\r\n\t\t\t//\t\tisArrayLike(), but will return false when passed to\r\n\t\t\t//\t\tisArray().\r\n\t\t\treturn it && it !== undefined && // Boolean\r\n\t\t\t\t// keep out built-in constructors (Number, String, ...) which have length\r\n\t\t\t\t// properties\r\n\t\t\t\t!lang.isString(it) && !lang.isFunction(it) &&\r\n\t\t\t\t!(it.tagName && it.tagName.toLowerCase() == 'form') &&\r\n\t\t\t\t(lang.isArray(it) || isFinite(it.length));\r\n\t\t},\r\n\r\n\t\tisAlien: function(it){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if it is a built-in function or some other kind of\r\n\t\t\t//\t\toddball that *should* report as a function but doesn't\r\n\t\t\treturn it && !lang.isFunction(it) && /\\{\\s*\\[native code\\]\\s*\\}/.test(String(it)); // Boolean\r\n\t\t},\r\n\r\n\t\textend: function(ctor, props){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds all properties and methods of props to constructor's\r\n\t\t\t//\t\tprototype, making them available to all instances created with\r\n\t\t\t//\t\tconstructor.\r\n\t\t\t// ctor: Object\r\n\t\t\t//\t\tTarget constructor to extend.\r\n\t\t\t// props: Object\r\n\t\t\t//\t\tOne or more objects to mix into ctor.prototype\r\n\t\t\tfor(var i=1, l=arguments.length; i<l; i++){\r\n\t\t\t\tlang._mixin(ctor.prototype, arguments[i]);\r\n\t\t\t}\r\n\t\t\treturn ctor; // Object\r\n\t\t},\r\n\r\n\t\t_hitchArgs: function(scope, method){\r\n\t\t\tvar pre = lang._toArray(arguments, 2);\r\n\t\t\tvar named = lang.isString(method);\r\n\t\t\treturn function(){\r\n\t\t\t\t// arrayify arguments\r\n\t\t\t\tvar args = lang._toArray(arguments);\r\n\t\t\t\t// locate our method\r\n\t\t\t\tvar f = named ? (scope||dojo.global)[method] : method;\r\n\t\t\t\t// invoke with collected args\r\n\t\t\t\treturn f && f.apply(scope || this, pre.concat(args)); // mixed\r\n\t\t\t}; // Function\r\n\t\t},\r\n\r\n\t\thitch: function(scope, method){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a function that will only ever execute in the given scope.\r\n\t\t\t//\t\tThis allows for easy use of object member functions\r\n\t\t\t//\t\tin callbacks and other places in which the \"this\" keyword may\r\n\t\t\t//\t\totherwise not reference the expected scope.\r\n\t\t\t//\t\tAny number of default positional arguments may be passed as parameters\r\n\t\t\t//\t\tbeyond \"method\".\r\n\t\t\t//\t\tEach of these values will be used to \"placehold\" (similar to curry)\r\n\t\t\t//\t\tfor the hitched function.\r\n\t\t\t// scope: Object\r\n\t\t\t//\t\tThe scope to use when method executes. If method is a string,\r\n\t\t\t//\t\tscope is also the object containing method.\r\n\t\t\t// method: Function|String...\r\n\t\t\t//\t\tA function to be hitched to scope, or the name of the method in\r\n\t\t\t//\t\tscope to be hitched.\r\n\t\t\t// example:\r\n\t\t\t//\t|\tlang.hitch(foo, \"bar\")();\r\n\t\t\t//\t\truns foo.bar() in the scope of foo\r\n\t\t\t// example:\r\n\t\t\t//\t|\tlang.hitch(foo, myFunction);\r\n\t\t\t//\t\treturns a function that runs myFunction in the scope of foo\r\n\t\t\t// example:\r\n\t\t\t//\t\tExpansion on the default positional arguments passed along from\r\n\t\t\t//\t\thitch. Passed args are mixed first, additional args after.\r\n\t\t\t//\t|\tvar foo = { bar: function(a, b, c){ console.log(a, b, c); } };\r\n\t\t\t//\t|\tvar fn = lang.hitch(foo, \"bar\", 1, 2);\r\n\t\t\t//\t|\tfn(3); // logs \"1, 2, 3\"\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar foo = { bar: 2 };\r\n\t\t\t//\t|\tlang.hitch(foo, function(){ this.bar = 10; })();\r\n\t\t\t//\t\texecute an anonymous function in scope of foo\r\n\t\t\tif(arguments.length > 2){\r\n\t\t\t\treturn lang._hitchArgs.apply(dojo, arguments); // Function\r\n\t\t\t}\r\n\t\t\tif(!method){\r\n\t\t\t\tmethod = scope;\r\n\t\t\t\tscope = null;\r\n\t\t\t}\r\n\t\t\tif(lang.isString(method)){\r\n\t\t\t\tscope = scope || dojo.global;\r\n\t\t\t\tif(!scope[method]){ throw(['lang.hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\r\n\t\t\t\treturn function(){ return scope[method].apply(scope, arguments || []); }; // Function\r\n\t\t\t}\r\n\t\t\treturn !scope ? method : function(){ return method.apply(scope, arguments || []); }; // Function\r\n\t\t},\r\n\r\n\t\tdelegate: (function(){\r\n\t\t\t// boodman/crockford delegation w/ cornford optimization\r\n\t\t\tfunction TMP(){}\r\n\t\t\treturn function(obj, props){\r\n\t\t\t\tTMP.prototype = obj;\r\n\t\t\t\tvar tmp = new TMP();\r\n\t\t\t\tTMP.prototype = null;\r\n\t\t\t\tif(props){\r\n\t\t\t\t\tlang._mixin(tmp, props);\r\n\t\t\t\t}\r\n\t\t\t\treturn tmp; // Object\r\n\t\t\t};\r\n\t\t})(),\r\n\t\t/*=====\r\n\t\tdelegate: function(obj, props){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new object which \"looks\" to obj for properties which it\r\n\t\t\t//\t\tdoes not have a value for. Optionally takes a bag of properties to\r\n\t\t\t//\t\tseed the returned object with initially.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis is a small implementation of the Boodman/Crockford delegation\r\n\t\t\t//\t\tpattern in JavaScript. An intermediate object constructor mediates\r\n\t\t\t//\t\tthe prototype chain for the returned object, using it to delegate\r\n\t\t\t//\t\tdown to obj for property lookup when object-local lookup fails.\r\n\t\t\t//\t\tThis can be thought of similarly to ES4's \"wrap\", save that it does\r\n\t\t\t//\t\tnot act on types but rather on pure objects.\r\n\t\t\t// obj: Object\r\n\t\t\t//\t\tThe object to delegate to for properties not found directly on the\r\n\t\t\t//\t\treturn object or in props.\r\n\t\t\t// props: Object...\r\n\t\t\t//\t\tan object containing properties to assign to the returned object\r\n\t\t\t// returns:\r\n\t\t\t//\t\tan Object of anonymous type\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar foo = { bar: \"baz\" };\r\n\t\t\t//\t|\tvar thinger = lang.delegate(foo, { thud: \"xyzzy\"});\r\n\t\t\t//\t|\tthinger.bar == \"baz\"; // delegated to foo\r\n\t\t\t//\t|\tfoo.thud == undefined; // by definition\r\n\t\t\t//\t|\tthinger.thud == \"xyzzy\"; // mixed in from props\r\n\t\t\t//\t|\tfoo.bar = \"thonk\";\r\n\t\t\t//\t|\tthinger.bar == \"thonk\"; // still delegated to foo's bar\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\t_toArray: has(\"ie\") ?\r\n\t\t\t(function(){\r\n\t\t\t\tfunction slow(obj, offset, startWith){\r\n\t\t\t\t\tvar arr = startWith||[];\r\n\t\t\t\t\tfor(var x = offset || 0; x < obj.length; x++){\r\n\t\t\t\t\t\tarr.push(obj[x]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}\r\n\t\t\t\treturn function(obj){\r\n\t\t\t\t\treturn ((obj.item) ? slow : efficient).apply(this, arguments);\r\n\t\t\t\t};\r\n\t\t\t})() : efficient,\r\n\t\t/*=====\r\n\t\t _toArray: function(obj, offset, startWith){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tConverts an array-like object (i.e. arguments, DOMCollection) to an\r\n\t\t\t //\t\tarray. Returns a new Array with the elements of obj.\r\n\t\t\t // obj: Object\r\n\t\t\t //\t\tthe object to \"arrayify\". We expect the object to have, at a\r\n\t\t\t //\t\tminimum, a length property which corresponds to integer-indexed\r\n\t\t\t //\t\tproperties.\r\n\t\t\t // offset: Number?\r\n\t\t\t //\t\tthe location in obj to start iterating from. Defaults to 0.\r\n\t\t\t //\t\tOptional.\r\n\t\t\t // startWith: Array?\r\n\t\t\t //\t\tAn array to pack with the properties of obj. If provided,\r\n\t\t\t //\t\tproperties in obj are appended at the end of startWith and\r\n\t\t\t //\t\tstartWith is the returned array.\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\tpartial: function(/*Function|String*/ method /*, ...*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsimilar to hitch() except that the scope object is left to be\r\n\t\t\t//\t\twhatever the execution context eventually becomes.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalling lang.partial is the functional equivalent of calling:\r\n\t\t\t//\t\t|\tlang.hitch(null, funcName, ...);\r\n\t\t\t// method:\r\n\t\t\t//\t\tThe function to \"wrap\"\r\n\t\t\tvar arr = [ null ];\r\n\t\t\treturn lang.hitch.apply(dojo, arr.concat(lang._toArray(arguments))); // Function\r\n\t\t},\r\n\r\n\t\tclone: function(/*anything*/ src){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClones objects (including DOM nodes) and all children.\r\n\t\t\t//\t\tWarning: do not clone cyclic structures.\r\n\t\t\t// src:\r\n\t\t\t//\t\tThe object to clone\r\n\t\t\tif(!src || typeof src != \"object\" || lang.isFunction(src)){\r\n\t\t\t\t// null, undefined, any non-object, or function\r\n\t\t\t\treturn src;\t// anything\r\n\t\t\t}\r\n\t\t\tif(src.nodeType && \"cloneNode\" in src){\r\n\t\t\t\t// DOM Node\r\n\t\t\t\treturn src.cloneNode(true); // Node\r\n\t\t\t}\r\n\t\t\tif(src instanceof Date){\r\n\t\t\t\t// Date\r\n\t\t\t\treturn new Date(src.getTime());\t// Date\r\n\t\t\t}\r\n\t\t\tif(src instanceof RegExp){\r\n\t\t\t\t// RegExp\r\n\t\t\t\treturn new RegExp(src);   // RegExp\r\n\t\t\t}\r\n\t\t\tvar r, i, l;\r\n\t\t\tif(lang.isArray(src)){\r\n\t\t\t\t// array\r\n\t\t\t\tr = [];\r\n\t\t\t\tfor(i = 0, l = src.length; i < l; ++i){\r\n\t\t\t\t\tif(i in src){\r\n\t\t\t\t\t\tr.push(lang.clone(src[i]));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// we don't clone functions for performance reasons\r\n\t\t\t\t//\t\t}else if(d.isFunction(src)){\r\n\t\t\t\t//\t\t\t// function\r\n\t\t\t\t//\t\t\tr = function(){ return src.apply(this, arguments); };\r\n\t\t\t}else{\r\n\t\t\t\t// generic objects\r\n\t\t\t\tr = src.constructor ? new src.constructor() : {};\r\n\t\t\t}\r\n\t\t\treturn lang._mixin(r, src, lang.clone);\r\n\t\t},\r\n\r\n\r\n\t\ttrim: String.prototype.trim ?\r\n\t\t\tfunction(str){ return str.trim(); } :\r\n\t\t\tfunction(str){ return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); },\r\n\t\t/*=====\r\n\t\t trim: function(str){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTrims whitespace from both sides of the string\r\n\t\t\t // str: String\r\n\t\t\t //\t\tString to be trimmed\r\n\t\t\t // returns: String\r\n\t\t\t //\t\tReturns the trimmed string\r\n\t\t\t // description:\r\n\t\t\t //\t\tThis version of trim() was selected for inclusion into the base due\r\n\t\t\t //\t\tto its compact size and relatively good performance\r\n\t\t\t //\t\t(see [Steven Levithan's blog](http://blog.stevenlevithan.com/archives/faster-trim-javascript)\r\n\t\t\t //\t\tUses String.prototype.trim instead, if available.\r\n\t\t\t //\t\tThe fastest but longest version of this function is located at\r\n\t\t\t //\t\tlang.string.trim()\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\treplace: function(tmpl, map, pattern){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPerforms parameterized substitutions on a string. Throws an\r\n\t\t\t//\t\texception if any parameter is unmatched.\r\n\t\t\t// tmpl: String\r\n\t\t\t//\t\tString to be used as a template.\r\n\t\t\t// map: Object|Function\r\n\t\t\t//\t\tIf an object, it is used as a dictionary to look up substitutions.\r\n\t\t\t//\t\tIf a function, it is called for every substitution with following parameters:\r\n\t\t\t//\t\ta whole match, a name, an offset, and the whole template\r\n\t\t\t//\t\tstring (see https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/String/replace\r\n\t\t\t//\t\tfor more details).\r\n\t\t\t// pattern: RegEx?\r\n\t\t\t//\t\tOptional regular expression objects that overrides the default pattern.\r\n\t\t\t//\t\tMust be global and match one item. The default is: /\\{([^\\}]+)\\}/g,\r\n\t\t\t//\t\twhich matches patterns like that: \"{xxx}\", where \"xxx\" is any sequence\r\n\t\t\t//\t\tof characters, which doesn't include \"}\".\r\n\t\t\t// returns: String\r\n\t\t\t//\t\tReturns the substituted string.\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// uses a dictionary for substitutions:\r\n\t\t\t//\t|\tlang.replace(\"Hello, {name.first} {name.last} AKA {nick}!\",\r\n\t\t\t//\t|\t\t{\r\n\t\t\t//\t|\t\t\tnick: \"Bob\",\r\n\t\t\t//\t|\t\t\tname: {\r\n\t\t\t//\t|\t\t\t\tfirst:\t\"Robert\",\r\n\t\t\t//\t|\t\t\t\tmiddle: \"X\",\r\n\t\t\t//\t|\t\t\t\tlast:\t\t\"Cringely\"\r\n\t\t\t//\t|\t\t\t}\r\n\t\t\t//\t|\t\t});\r\n\t\t\t//\t|\t// returns: Hello, Robert Cringely AKA Bob!\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// uses an array for substitutions:\r\n\t\t\t//\t|\tlang.replace(\"Hello, {0} {2}!\",\r\n\t\t\t//\t|\t\t[\"Robert\", \"X\", \"Cringely\"]);\r\n\t\t\t//\t|\t// returns: Hello, Robert Cringely!\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// uses a function for substitutions:\r\n\t\t\t//\t|\tfunction sum(a){\r\n\t\t\t//\t|\t\tvar t = 0;\r\n\t\t\t//\t|\t\tarrayforEach(a, function(x){ t += x; });\r\n\t\t\t//\t|\t\treturn t;\r\n\t\t\t//\t|\t}\r\n\t\t\t//\t|\tlang.replace(\r\n\t\t\t//\t|\t\t\"{count} payments averaging {avg} USD per payment.\",\r\n\t\t\t//\t|\t\tlang.hitch(\r\n\t\t\t//\t|\t\t\t{ payments: [11, 16, 12] },\r\n\t\t\t//\t|\t\t\tfunction(_, key){\r\n\t\t\t//\t|\t\t\t\tswitch(key){\r\n\t\t\t//\t|\t\t\t\t\tcase \"count\": return this.payments.length;\r\n\t\t\t//\t|\t\t\t\t\tcase \"min\":\t\treturn Math.min.apply(Math, this.payments);\r\n\t\t\t//\t|\t\t\t\t\tcase \"max\":\t\treturn Math.max.apply(Math, this.payments);\r\n\t\t\t//\t|\t\t\t\t\tcase \"sum\":\t\treturn sum(this.payments);\r\n\t\t\t//\t|\t\t\t\t\tcase \"avg\":\t\treturn sum(this.payments) / this.payments.length;\r\n\t\t\t//\t|\t\t\t\t}\r\n\t\t\t//\t|\t\t\t}\r\n\t\t\t//\t|\t\t)\r\n\t\t\t//\t|\t);\r\n\t\t\t//\t|\t// prints: 3 payments averaging 13 USD per payment.\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// uses an alternative PHP-like pattern for substitutions:\r\n\t\t\t//\t|\tlang.replace(\"Hello, ${0} ${2}!\",\r\n\t\t\t//\t|\t\t[\"Robert\", \"X\", \"Cringely\"], /\\$\\{([^\\}]+)\\}/g);\r\n\t\t\t//\t|\t// returns: Hello, Robert Cringely!\r\n\r\n\t\t\treturn tmpl.replace(pattern || _pattern, lang.isFunction(map) ?\r\n\t\t\t\tmap : function(_, k){ return lang.getObject(k, false, map); });\r\n\t\t}\r\n\t};\r\n\r\n\thas(\"extend-dojo\") && lang.mixin(dojo, lang);\r\n\r\n\treturn lang;\r\n});\r\n\r\n\ndefine('dojo/_base/array',[\"./kernel\", \"../has\", \"./lang\"], function(dojo, has, lang){\r\n\t// module:\r\n\t//\t\tdojo/_base/array\r\n\r\n\t// our old simple function builder stuff\r\n\tvar cache = {}, u;\r\n\r\n\tfunction buildFn(fn){\r\n\t\treturn cache[fn] = new Function(\"item\", \"index\", \"array\", fn); // Function\r\n\t}\r\n\t// magic snippet: if(typeof fn == \"string\") fn = cache[fn] || buildFn(fn);\r\n\r\n\t// every & some\r\n\r\n\tfunction everyOrSome(some){\r\n\t\tvar every = !some;\r\n\t\treturn function(a, fn, o){\r\n\t\t\tvar i = 0, l = a && a.length || 0, result;\r\n\t\t\tif(l && typeof a == \"string\") a = a.split(\"\");\r\n\t\t\tif(typeof fn == \"string\") fn = cache[fn] || buildFn(fn);\r\n\t\t\tif(o){\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tresult = !fn.call(o, a[i], i, a);\r\n\t\t\t\t\tif(some ^ result){\r\n\t\t\t\t\t\treturn !result;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tresult = !fn(a[i], i, a);\r\n\t\t\t\t\tif(some ^ result){\r\n\t\t\t\t\t\treturn !result;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn every; // Boolean\r\n\t\t};\r\n\t}\r\n\r\n\t// indexOf, lastIndexOf\r\n\r\n\tfunction index(up){\r\n\t\tvar delta = 1, lOver = 0, uOver = 0;\r\n\t\tif(!up){\r\n\t\t\tdelta = lOver = uOver = -1;\r\n\t\t}\r\n\t\treturn function(a, x, from, last){\r\n\t\t\tif(last && delta > 0){\r\n\t\t\t\t// TODO: why do we use a non-standard signature? why do we need \"last\"?\r\n\t\t\t\treturn array.lastIndexOf(a, x, from);\r\n\t\t\t}\r\n\t\t\tvar l = a && a.length || 0, end = up ? l + uOver : lOver, i;\r\n\t\t\tif(from === u){\r\n\t\t\t\ti = up ? lOver : l + uOver;\r\n\t\t\t}else{\r\n\t\t\t\tif(from < 0){\r\n\t\t\t\t\ti = l + from;\r\n\t\t\t\t\tif(i < 0){\r\n\t\t\t\t\t\ti = lOver;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\ti = from >= l ? l + uOver : from;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(l && typeof a == \"string\") a = a.split(\"\");\r\n\t\t\tfor(; i != end; i += delta){\r\n\t\t\t\tif(a[i] == x){\r\n\t\t\t\t\treturn i; // Number\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1; // Number\r\n\t\t};\r\n\t}\r\n\r\n\tvar array = {\r\n\t\t// summary:\r\n\t\t//\t\tThe Javascript v1.6 array extensions.\r\n\r\n\t\tevery: everyOrSome(false),\r\n\t\t/*=====\r\n\t\t every: function(arr, callback, thisObject){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tDetermines whether or not every item in arr satisfies the\r\n\t\t\t //\t\tcondition implemented by callback.\r\n\t\t\t // arr: Array|String\r\n\t\t\t //\t\tthe array to iterate on. If a string, operates on individual characters.\r\n\t\t\t // callback: Function|String\r\n\t\t\t //\t\ta function is invoked with three arguments: item, index,\r\n\t\t\t //\t\tand array and returns true if the condition is met.\r\n\t\t\t // thisObject: Object?\r\n\t\t\t //\t\tmay be used to scope the call to callback\r\n\t\t\t // returns: Boolean\r\n\t\t\t // description:\r\n\t\t\t //\t\tThis function corresponds to the JavaScript 1.6 Array.every() method, with one difference: when\r\n\t\t\t //\t\trun over sparse arrays, this implementation passes the \"holes\" in the sparse array to\r\n\t\t\t //\t\tthe callback function with a value of undefined. JavaScript 1.6's every skips the holes in the sparse array.\r\n\t\t\t //\t\tFor more details, see:\r\n\t\t\t //\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/every\r\n\t\t\t // example:\r\n\t\t\t //\t|\t// returns false\r\n\t\t\t //\t|\tarray.every([1, 2, 3, 4], function(item){ return item>1; });\r\n\t\t\t // example:\r\n\t\t\t //\t|\t// returns true\r\n\t\t\t //\t|\tarray.every([1, 2, 3, 4], function(item){ return item>0; });\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\tsome: everyOrSome(true),\r\n\t\t/*=====\r\n\t\tsome: function(arr, callback, thisObject){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetermines whether or not any item in arr satisfies the\r\n\t\t\t//\t\tcondition implemented by callback.\r\n\t\t\t// arr: Array|String\r\n\t\t\t//\t\tthe array to iterate over. If a string, operates on individual characters.\r\n\t\t\t// callback: Function|String\r\n\t\t\t//\t\ta function is invoked with three arguments: item, index,\r\n\t\t\t//\t\tand array and returns true if the condition is met.\r\n\t\t\t// thisObject: Object?\r\n\t\t\t//\t\tmay be used to scope the call to callback\r\n\t\t\t// returns: Boolean\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis function corresponds to the JavaScript 1.6 Array.some() method, with one difference: when\r\n\t\t\t//\t\trun over sparse arrays, this implementation passes the \"holes\" in the sparse array to\r\n\t\t\t//\t\tthe callback function with a value of undefined. JavaScript 1.6's some skips the holes in the sparse array.\r\n\t\t\t//\t\tFor more details, see:\r\n\t\t\t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/some\r\n\t\t\t// example:\r\n\t\t\t//\t| // is true\r\n\t\t\t//\t| array.some([1, 2, 3, 4], function(item){ return item>1; });\r\n\t\t\t// example:\r\n\t\t\t//\t| // is false\r\n\t\t\t//\t| array.some([1, 2, 3, 4], function(item){ return item<1; });\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tindexOf: index(true),\r\n\t\t/*=====\r\n\t\tindexOf: function(arr, value, fromIndex, findLast){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tlocates the first index of the provided value in the\r\n\t\t\t//\t\tpassed array. If the value is not found, -1 is returned.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method corresponds to the JavaScript 1.6 Array.indexOf method, with two differences:\r\n\t\t\t//\r\n\t\t\t//\t\t1. when run over sparse arrays, the Dojo function invokes the callback for every index\r\n\t\t\t//\t\t   whereas JavaScript 1.6's indexOf skips the holes in the sparse array.\r\n\t\t\t//\t\t2. uses equality (==) rather than strict equality (===)\r\n\t\t\t//\r\n\t\t\t//\t\tFor details on this method, see:\r\n\t\t\t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/indexOf\r\n\t\t\t// arr: Array\r\n\t\t\t// value: Object\r\n\t\t\t// fromIndex: Integer?\r\n\t\t\t// findLast: Boolean?\r\n\t\t\t//\t\tMakes indexOf() work like lastIndexOf().  Used internally; not meant for external usage.\r\n\t\t\t// returns: Number\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tlastIndexOf: index(false),\r\n\t\t/*=====\r\n\t\tlastIndexOf: function(arr, value, fromIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tlocates the last index of the provided value in the passed\r\n\t\t\t//\t\tarray. If the value is not found, -1 is returned.\r\n\t\t\t// description:\r\n\t\t \t//\t\tThis method corresponds to the JavaScript 1.6 Array.lastIndexOf method, with two differences:\r\n\t\t \t//\r\n\t\t \t//\t\t1. when run over sparse arrays, the Dojo function invokes the callback for every index\r\n\t\t \t//\t\t   whereas JavaScript 1.6's lasIndexOf skips the holes in the sparse array.\r\n\t\t \t//\t\t2. uses equality (==) rather than strict equality (===)\r\n\t\t \t//\r\n\t\t \t//\t\tFor details on this method, see:\r\n\t\t \t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/lastIndexOf\r\n\t\t\t// arr: Array,\r\n\t\t\t// value: Object,\r\n\t\t\t// fromIndex: Integer?\r\n\t\t\t// returns: Number\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tforEach: function(arr, callback, thisObject){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tfor every item in arr, callback is invoked. Return values are ignored.\r\n\t\t\t//\t\tIf you want to break out of the loop, consider using array.every() or array.some().\r\n\t\t\t//\t\tforEach does not allow breaking out of the loop over the items in arr.\r\n\t\t\t// arr:\r\n\t\t\t//\t\tthe array to iterate over. If a string, operates on individual characters.\r\n\t\t\t// callback:\r\n\t\t\t//\t\ta function is invoked with three arguments: item, index, and array\r\n\t\t\t// thisObject:\r\n\t\t\t//\t\tmay be used to scope the call to callback\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis function corresponds to the JavaScript 1.6 Array.forEach() method, with one difference: when\r\n\t\t\t//\t\trun over sparse arrays, this implementation passes the \"holes\" in the sparse array to\r\n\t\t\t//\t\tthe callback function with a value of undefined. JavaScript 1.6's forEach skips the holes in the sparse array.\r\n\t\t\t//\t\tFor more details, see:\r\n\t\t\t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/forEach\r\n\t\t\t// example:\r\n\t\t\t//\t| // log out all members of the array:\r\n\t\t\t//\t| array.forEach(\r\n\t\t\t//\t|\t\t[ \"thinger\", \"blah\", \"howdy\", 10 ],\r\n\t\t\t//\t|\t\tfunction(item){\r\n\t\t\t//\t|\t\t\tconsole.log(item);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t| );\r\n\t\t\t// example:\r\n\t\t\t//\t| // log out the members and their indexes\r\n\t\t\t//\t| array.forEach(\r\n\t\t\t//\t|\t\t[ \"thinger\", \"blah\", \"howdy\", 10 ],\r\n\t\t\t//\t|\t\tfunction(item, idx, arr){\r\n\t\t\t//\t|\t\t\tconsole.log(item, \"at index:\", idx);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t| );\r\n\t\t\t// example:\r\n\t\t\t//\t| // use a scoped object member as the callback\r\n\t\t\t//\t|\r\n\t\t\t//\t| var obj = {\r\n\t\t\t//\t|\t\tprefix: \"logged via obj.callback:\",\r\n\t\t\t//\t|\t\tcallback: function(item){\r\n\t\t\t//\t|\t\t\tconsole.log(this.prefix, item);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t| };\r\n\t\t\t//\t|\r\n\t\t\t//\t| // specifying the scope function executes the callback in that scope\r\n\t\t\t//\t| array.forEach(\r\n\t\t\t//\t|\t\t[ \"thinger\", \"blah\", \"howdy\", 10 ],\r\n\t\t\t//\t|\t\tobj.callback,\r\n\t\t\t//\t|\t\tobj\r\n\t\t\t//\t| );\r\n\t\t\t//\t|\r\n\t\t\t//\t| // alternately, we can accomplish the same thing with lang.hitch()\r\n\t\t\t//\t| array.forEach(\r\n\t\t\t//\t|\t\t[ \"thinger\", \"blah\", \"howdy\", 10 ],\r\n\t\t\t//\t|\t\tlang.hitch(obj, \"callback\")\r\n\t\t\t//\t| );\r\n\t\t\t// arr: Array|String\r\n\t\t\t// callback: Function|String\r\n\t\t\t// thisObject: Object?\r\n\r\n\t\t\tvar i = 0, l = arr && arr.length || 0;\r\n\t\t\tif(l && typeof arr == \"string\") arr = arr.split(\"\");\r\n\t\t\tif(typeof callback == \"string\") callback = cache[callback] || buildFn(callback);\r\n\t\t\tif(thisObject){\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tcallback.call(thisObject, arr[i], i, arr);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tcallback(arr[i], i, arr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmap: function(arr, callback, thisObject, Ctr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapplies callback to each element of arr and returns\r\n\t\t\t//\t\tan Array with the results\r\n\t\t\t// arr: Array|String\r\n\t\t\t//\t\tthe array to iterate on. If a string, operates on\r\n\t\t\t//\t\tindividual characters.\r\n\t\t\t// callback: Function|String\r\n\t\t\t//\t\ta function is invoked with three arguments, (item, index,\r\n\t\t\t//\t\tarray),\t and returns a value\r\n\t\t\t// thisObject: Object?\r\n\t\t\t//\t\tmay be used to scope the call to callback\r\n\t\t\t// returns: Array\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis function corresponds to the JavaScript 1.6 Array.map() method, with one difference: when\r\n\t\t\t//\t\trun over sparse arrays, this implementation passes the \"holes\" in the sparse array to\r\n\t\t\t//\t\tthe callback function with a value of undefined. JavaScript 1.6's map skips the holes in the sparse array.\r\n\t\t\t//\t\tFor more details, see:\r\n\t\t\t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\r\n\t\t\t// example:\r\n\t\t\t//\t| // returns [2, 3, 4, 5]\r\n\t\t\t//\t| array.map([1, 2, 3, 4], function(item){ return item+1 });\r\n\r\n\t\t\t// TODO: why do we have a non-standard signature here? do we need \"Ctr\"?\r\n\t\t\tvar i = 0, l = arr && arr.length || 0, out = new (Ctr || Array)(l);\r\n\t\t\tif(l && typeof arr == \"string\") arr = arr.split(\"\");\r\n\t\t\tif(typeof callback == \"string\") callback = cache[callback] || buildFn(callback);\r\n\t\t\tif(thisObject){\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tout[i] = callback.call(thisObject, arr[i], i, arr);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tout[i] = callback(arr[i], i, arr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn out; // Array\r\n\t\t},\r\n\r\n\t\tfilter: function(arr, callback, thisObject){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new Array with those items from arr that match the\r\n\t\t\t//\t\tcondition implemented by callback.\r\n\t\t\t// arr: Array\r\n\t\t\t//\t\tthe array to iterate over.\r\n\t\t\t// callback: Function|String\r\n\t\t\t//\t\ta function that is invoked with three arguments (item,\r\n\t\t\t//\t\tindex, array). The return of this function is expected to\r\n\t\t\t//\t\tbe a boolean which determines whether the passed-in item\r\n\t\t\t//\t\twill be included in the returned array.\r\n\t\t\t// thisObject: Object?\r\n\t\t\t//\t\tmay be used to scope the call to callback\r\n\t\t\t// returns: Array\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis function corresponds to the JavaScript 1.6 Array.filter() method, with one difference: when\r\n\t\t\t//\t\trun over sparse arrays, this implementation passes the \"holes\" in the sparse array to\r\n\t\t\t//\t\tthe callback function with a value of undefined. JavaScript 1.6's filter skips the holes in the sparse array.\r\n\t\t\t//\t\tFor more details, see:\r\n\t\t\t//\t\thttps://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\r\n\t\t\t// example:\r\n\t\t\t//\t| // returns [2, 3, 4]\r\n\t\t\t//\t| array.filter([1, 2, 3, 4], function(item){ return item>1; });\r\n\r\n\t\t\t// TODO: do we need \"Ctr\" here like in map()?\r\n\t\t\tvar i = 0, l = arr && arr.length || 0, out = [], value;\r\n\t\t\tif(l && typeof arr == \"string\") arr = arr.split(\"\");\r\n\t\t\tif(typeof callback == \"string\") callback = cache[callback] || buildFn(callback);\r\n\t\t\tif(thisObject){\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tvalue = arr[i];\r\n\t\t\t\t\tif(callback.call(thisObject, value, i, arr)){\r\n\t\t\t\t\t\tout.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(; i < l; ++i){\r\n\t\t\t\t\tvalue = arr[i];\r\n\t\t\t\t\tif(callback(value, i, arr)){\r\n\t\t\t\t\t\tout.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn out; // Array\r\n\t\t},\r\n\r\n\t\tclearCache: function(){\r\n\t\t\tcache = {};\r\n\t\t}\r\n\t};\r\n\r\n\r\n\thas(\"extend-dojo\") && lang.mixin(dojo, array);\r\n\r\n\treturn array;\r\n});\r\n\ndefine('dojo/_base/window',[\"./kernel\", \"./lang\", \"../sniff\"], function(dojo, lang, has){\r\n// module:\r\n//\t\tdojo/_base/window\r\n\r\nvar ret = {\r\n\t// summary:\r\n\t//\t\tAPI to save/set/restore the global/document scope.\r\n\r\n\tglobal: dojo.global,\r\n\t/*=====\r\n\t global: {\r\n\t\t // summary:\r\n\t\t //\t\tAlias for the current window. 'global' can be modified\r\n\t\t //\t\tfor temporary context shifting. See also withGlobal().\r\n\t\t // description:\r\n\t\t //\t\tUse this rather than referring to 'window' to ensure your code runs\r\n\t\t //\t\tcorrectly in managed contexts.\r\n\t },\r\n\t =====*/\r\n\r\n\tdoc: dojo.global[\"document\"] || null,\r\n\t/*=====\r\n\tdoc: {\r\n\t\t// summary:\r\n\t\t//\t\tAlias for the current document. 'doc' can be modified\r\n\t\t//\t\tfor temporary context shifting. See also withDoc().\r\n\t\t// description:\r\n\t\t//\t\tUse this rather than referring to 'window.document' to ensure your code runs\r\n\t\t//\t\tcorrectly in managed contexts.\r\n\t\t// example:\r\n\t\t//\t|\tn.appendChild(dojo.doc.createElement('div'));\r\n\t},\r\n\t=====*/\r\n\r\n\tbody: function(/*Document?*/ doc){\r\n\t\t// summary:\r\n\t\t//\t\tReturn the body element of the specified document or of dojo/_base/window::doc.\r\n\t\t// example:\r\n\t\t//\t|\twin.body().appendChild(dojo.doc.createElement('div'));\r\n\r\n\t\t// Note: document.body is not defined for a strict xhtml document\r\n\t\t// Would like to memoize this, but dojo.doc can change vi dojo.withDoc().\r\n\t\tdoc = doc || dojo.doc;\r\n\t\treturn doc.body || doc.getElementsByTagName(\"body\")[0]; // Node\r\n\t},\r\n\r\n\tsetContext: function(/*Object*/ globalObject, /*DocumentElement*/ globalDocument){\r\n\t\t// summary:\r\n\t\t//\t\tchanges the behavior of many core Dojo functions that deal with\r\n\t\t//\t\tnamespace and DOM lookup, changing them to work in a new global\r\n\t\t//\t\tcontext (e.g., an iframe). The varibles dojo.global and dojo.doc\r\n\t\t//\t\tare modified as a result of calling this function and the result of\r\n\t\t//\t\t`dojo.body()` likewise differs.\r\n\t\tdojo.global = ret.global = globalObject;\r\n\t\tdojo.doc = ret.doc = globalDocument;\r\n\t},\r\n\r\n\twithGlobal: function(\t/*Object*/ globalObject,\r\n\t\t\t\t\t\t\t/*Function*/ callback,\r\n\t\t\t\t\t\t\t/*Object?*/ thisObject,\r\n\t\t\t\t\t\t\t/*Array?*/ cbArguments){\r\n\t\t// summary:\r\n\t\t//\t\tInvoke callback with globalObject as dojo.global and\r\n\t\t//\t\tglobalObject.document as dojo.doc.\r\n\t\t// description:\r\n\t\t//\t\tInvoke callback with globalObject as dojo.global and\r\n\t\t//\t\tglobalObject.document as dojo.doc. If provided, globalObject\r\n\t\t//\t\twill be executed in the context of object thisObject\r\n\t\t//\t\tWhen callback() returns or throws an error, the dojo.global\r\n\t\t//\t\tand dojo.doc will be restored to its previous state.\r\n\r\n\t\tvar oldGlob = dojo.global;\r\n\t\ttry{\r\n\t\t\tdojo.global = ret.global = globalObject;\r\n\t\t\treturn ret.withDoc.call(null, globalObject.document, callback, thisObject, cbArguments);\r\n\t\t}finally{\r\n\t\t\tdojo.global = ret.global = oldGlob;\r\n\t\t}\r\n\t},\r\n\r\n\twithDoc: function(\t/*DocumentElement*/ documentObject,\r\n\t\t\t\t\t\t/*Function*/ callback,\r\n\t\t\t\t\t\t/*Object?*/ thisObject,\r\n\t\t\t\t\t\t/*Array?*/ cbArguments){\r\n\t\t// summary:\r\n\t\t//\t\tInvoke callback with documentObject as dojo/_base/window::doc.\r\n\t\t// description:\r\n\t\t//\t\tInvoke callback with documentObject as dojo/_base/window::doc. If provided,\r\n\t\t//\t\tcallback will be executed in the context of object thisObject\r\n\t\t//\t\tWhen callback() returns or throws an error, the dojo/_base/window::doc will\r\n\t\t//\t\tbe restored to its previous state.\r\n\r\n\t\tvar oldDoc = ret.doc,\r\n\t\t\toldQ = has(\"quirks\"),\r\n\t\t\toldIE = has(\"ie\"), isIE, mode, pwin;\r\n\r\n\t\ttry{\r\n\t\t\tdojo.doc = ret.doc = documentObject;\r\n\t\t\t// update dojo.isQuirks and the value of the has feature \"quirks\".\r\n\t\t\t// remove setting dojo.isQuirks and dojo.isIE for 2.0\r\n\t\t\tdojo.isQuirks = has.add(\"quirks\", dojo.doc.compatMode == \"BackCompat\", true, true); // no need to check for QuirksMode which was Opera 7 only\r\n\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\tif((pwin = documentObject.parentWindow) && pwin.navigator){\r\n\t\t\t\t\t// re-run IE detection logic and update dojo.isIE / has(\"ie\")\r\n\t\t\t\t\t// (the only time parentWindow/navigator wouldn't exist is if we were not\r\n\t\t\t\t\t// passed an actual legitimate document object)\r\n\t\t\t\t\tisIE = parseFloat(pwin.navigator.appVersion.split(\"MSIE \")[1]) || undefined;\r\n\t\t\t\t\tmode = documentObject.documentMode;\r\n\t\t\t\t\tif(mode && mode != 5 && Math.floor(isIE) != mode){\r\n\t\t\t\t\t\tisIE = mode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdojo.isIE = has.add(\"ie\", isIE, true, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(thisObject && typeof callback == \"string\"){\r\n\t\t\t\tcallback = thisObject[callback];\r\n\t\t\t}\r\n\r\n\t\t\treturn callback.apply(thisObject, cbArguments || []);\r\n\t\t}finally{\r\n\t\t\tdojo.doc = ret.doc = oldDoc;\r\n\t\t\tdojo.isQuirks = has.add(\"quirks\", oldQ, true, true);\r\n\t\t\tdojo.isIE = has.add(\"ie\", oldIE, true, true);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nhas(\"extend-dojo\") && lang.mixin(dojo, ret);\r\n\r\nreturn ret;\r\n\r\n});\r\n\ndefine('dojo/dom',[\"./sniff\", \"./_base/window\"],\r\n\t\tfunction(has, win){\r\n\t// module:\r\n\t//\t\tdojo/dom\r\n\r\n\t// FIXME: need to add unit tests for all the semi-public methods\r\n\r\n\tif(has(\"ie\") <= 7){\r\n\t\ttry{\r\n\t\t\tdocument.execCommand(\"BackgroundImageCache\", false, true);\r\n\t\t}catch(e){\r\n\t\t\t// sane browsers don't have cache \"issues\"\r\n\t\t}\r\n\t}\r\n\r\n\t// =============================\r\n\t// DOM Functions\r\n\t// =============================\r\n\r\n\t// the result object\r\n\tvar dom = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines the core dojo DOM API.\r\n\t};\r\n\r\n\tif(has(\"ie\")){\r\n\t\tdom.byId = function(id, doc){\r\n\t\t\tif(typeof id != \"string\"){\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t\tvar _d = doc || win.doc, te = id && _d.getElementById(id);\r\n\t\t\t// attributes.id.value is better than just id in case the\r\n\t\t\t// user has a name=id inside a form\r\n\t\t\tif(te && (te.attributes.id.value == id || te.id == id)){\r\n\t\t\t\treturn te;\r\n\t\t\t}else{\r\n\t\t\t\tvar eles = _d.all[id];\r\n\t\t\t\tif(!eles || eles.nodeName){\r\n\t\t\t\t\teles = [eles];\r\n\t\t\t\t}\r\n\t\t\t\t// if more than 1, choose first with the correct id\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\twhile((te = eles[i++])){\r\n\t\t\t\t\tif((te.attributes && te.attributes.id && te.attributes.id.value == id) || te.id == id){\r\n\t\t\t\t\t\treturn te;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}else{\r\n\t\tdom.byId = function(id, doc){\r\n\t\t\t// inline'd type check.\r\n\t\t\t// be sure to return null per documentation, to match IE branch.\r\n\t\t\treturn ((typeof id == \"string\") ? (doc || win.doc).getElementById(id) : id) || null; // DOMNode\r\n\t\t};\r\n\t}\r\n\t/*=====\r\n\t dom.byId = function(id, doc){\r\n\t\t// summary:\r\n\t\t//\t\tReturns DOM node with matching `id` attribute or falsy value (ex: null or undefined)\r\n\t\t//\t\tif not found.  If `id` is a DomNode, this function is a no-op.\r\n\t\t//\r\n\t\t// id: String|DOMNode\r\n\t\t//\t\tA string to match an HTML id attribute or a reference to a DOM Node\r\n\t\t//\r\n\t\t// doc: Document?\r\n\t\t//\t\tDocument to work in. Defaults to the current value of\r\n\t\t//\t\tdojo/_base/window.doc.  Can be used to retrieve\r\n\t\t//\t\tnode references from other documents.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tLook up a node by ID:\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tvar n = dom.byId(\"foo\");\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tCheck if a node exists, and use it.\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tvar n = dom.byId(\"bar\");\r\n\t\t//\t|\t\tif(n){ doStuff() ... }\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tAllow string or DomNode references to be passed to a custom function:\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tvar foo = function(nodeOrId){\r\n\t\t//\t|\t\t\tnodeOrId = dom.byId(nodeOrId);\r\n\t\t//\t|\t\t\t// ... more stuff\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t };\r\n\t =====*/\r\n\r\n\tdom.isDescendant = function(/*DOMNode|String*/ node, /*DOMNode|String*/ ancestor){\r\n\t\t// summary:\r\n\t\t//\t\tReturns true if node is a descendant of ancestor\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tstring id or node reference to test\r\n\t\t// ancestor: DOMNode|String\r\n\t\t//\t\tstring id or node reference of potential parent to test against\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tTest is node id=\"bar\" is a descendant of node id=\"foo\"\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tif(dom.isDescendant(\"bar\", \"foo\")){ ... }\r\n\t\t//\t|\t});\r\n\r\n\t\ttry{\r\n\t\t\tnode = dom.byId(node);\r\n\t\t\tancestor = dom.byId(ancestor);\r\n\t\t\twhile(node){\r\n\t\t\t\tif(node == ancestor){\r\n\t\t\t\t\treturn true; // Boolean\r\n\t\t\t\t}\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t}catch(e){ /* squelch, return false */ }\r\n\t\treturn false; // Boolean\r\n\t};\r\n\r\n\r\n\t// TODO: do we need setSelectable in the base?\r\n\r\n\t// Add feature test for user-select CSS property\r\n\t// (currently known to work in all but IE < 10 and Opera)\r\n\t// TODO: The user-select CSS property as of May 2014 is no longer part of\r\n\t// any CSS specification. In IE, -ms-user-select does not do the same thing\r\n\t// as the unselectable attribute on elements; namely, dijit Editor buttons\r\n\t// do not properly prevent the content of the editable content frame from\r\n\t// unblurring. As a result, the -ms- prefixed version is omitted here.\r\n\thas.add(\"css-user-select\", function(global, doc, element){\r\n\t\t// Avoid exception when dom.js is loaded in non-browser environments\r\n\t\tif(!element){ return false; }\r\n\t\t\r\n\t\tvar style = element.style;\r\n\t\tvar prefixes = [\"Khtml\", \"O\", \"Moz\", \"Webkit\"],\r\n\t\t\ti = prefixes.length,\r\n\t\t\tname = \"userSelect\",\r\n\t\t\tprefix;\r\n\r\n\t\t// Iterate prefixes from most to least likely\r\n\t\tdo{\r\n\t\t\tif(typeof style[name] !== \"undefined\"){\r\n\t\t\t\t// Supported; return property name\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t}while(i-- && (name = prefixes[i] + \"UserSelect\"));\r\n\r\n\t\t// Not supported if we didn't return before now\r\n\t\treturn false;\r\n\t});\r\n\r\n\t/*=====\r\n\tdom.setSelectable = function(node, selectable){\r\n\t\t// summary:\r\n\t\t//\t\tEnable or disable selection on a node\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to node\r\n\t\t// selectable: Boolean\r\n\t\t//\t\tstate to put the node in. false indicates unselectable, true\r\n\t\t//\t\tallows selection.\r\n\t\t// example:\r\n\t\t//\t\tMake the node id=\"bar\" unselectable\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tdom.setSelectable(\"bar\");\r\n\t\t//\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tMake the node id=\"bar\" selectable\r\n\t\t//\t|\trequire([\"dojo/dom\"], function(dom){\r\n\t\t//\t|\t\tdom.setSelectable(\"bar\", true);\r\n\t\t//\t|\t});\r\n\t};\r\n\t=====*/\r\n\r\n\tvar cssUserSelect = has(\"css-user-select\");\r\n\tdom.setSelectable = cssUserSelect ? function(node, selectable){\r\n\t\t// css-user-select returns a (possibly vendor-prefixed) CSS property name\r\n\t\tdom.byId(node).style[cssUserSelect] = selectable ? \"\" : \"none\";\r\n\t} : function(node, selectable){\r\n\t\tnode = dom.byId(node);\r\n\r\n\t\t// (IE < 10 / Opera) Fall back to setting/removing the\r\n\t\t// unselectable attribute on the element and all its children\r\n\t\tvar nodes = node.getElementsByTagName(\"*\"),\r\n\t\t\ti = nodes.length;\r\n\r\n\t\tif(selectable){\r\n\t\t\tnode.removeAttribute(\"unselectable\");\r\n\t\t\twhile(i--){\r\n\t\t\t\tnodes[i].removeAttribute(\"unselectable\");\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tnode.setAttribute(\"unselectable\", \"on\");\r\n\t\t\twhile(i--){\r\n\t\t\t\tnodes[i].setAttribute(\"unselectable\", \"on\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn dom;\r\n});\r\n\ndefine('dojo/dom-style',[\"./sniff\", \"./dom\"], function(has, dom){\r\n\t// module:\r\n\t//\t\tdojo/dom-style\r\n\r\n\t// =============================\r\n\t// Style Functions\r\n\t// =============================\r\n\r\n\t// getComputedStyle drives most of the style code.\r\n\t// Wherever possible, reuse the returned object.\r\n\t//\r\n\t// API functions below that need to access computed styles accept an\r\n\t// optional computedStyle parameter.\r\n\t// If this parameter is omitted, the functions will call getComputedStyle themselves.\r\n\t// This way, calling code can access computedStyle once, and then pass the reference to\r\n\t// multiple API functions.\r\n\r\n\t// Although we normally eschew argument validation at this\r\n\t// level, here we test argument 'node' for (duck)type,\r\n\t// by testing nodeType, ecause 'document' is the 'parentNode' of 'body'\r\n\t// it is frequently sent to this function even\r\n\t// though it is not Element.\r\n\tvar getComputedStyle, style = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines the core dojo DOM style API.\r\n\t};\r\n\tif(has(\"webkit\")){\r\n\t\tgetComputedStyle = function(/*DomNode*/ node){\r\n\t\t\tvar s;\r\n\t\t\tif(node.nodeType == 1){\r\n\t\t\t\tvar dv = node.ownerDocument.defaultView;\r\n\t\t\t\ts = dv.getComputedStyle(node, null);\r\n\t\t\t\tif(!s && node.style){\r\n\t\t\t\t\tnode.style.display = \"\";\r\n\t\t\t\t\ts = dv.getComputedStyle(node, null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn s || {};\r\n\t\t};\r\n\t}else if(has(\"ie\") && (has(\"ie\") < 9 || has(\"quirks\"))){\r\n\t\tgetComputedStyle = function(node){\r\n\t\t\t// IE (as of 7) doesn't expose Element like sane browsers\r\n\t\t\t// currentStyle can be null on IE8!\r\n\t\t\treturn node.nodeType == 1 /* ELEMENT_NODE*/ && node.currentStyle ? node.currentStyle : {};\r\n\t\t};\r\n\t}else{\r\n\t\tgetComputedStyle = function(node){\r\n\t\t\treturn node.nodeType == 1 /* ELEMENT_NODE*/ ?\r\n\t\t\t\tnode.ownerDocument.defaultView.getComputedStyle(node, null) : {};\r\n\t\t};\r\n\t}\r\n\tstyle.getComputedStyle = getComputedStyle;\r\n\t/*=====\r\n\tstyle.getComputedStyle = function(node){\r\n\t\t// summary:\r\n\t\t//\t\tReturns a \"computed style\" object.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tGets a \"computed style\" object which can be used to gather\r\n\t\t//\t\tinformation about the current state of the rendered node.\r\n\t\t//\r\n\t\t//\t\tNote that this may behave differently on different browsers.\r\n\t\t//\t\tValues may have different formats and value encodings across\r\n\t\t//\t\tbrowsers.\r\n\t\t//\r\n\t\t//\t\tNote also that this method is expensive.  Wherever possible,\r\n\t\t//\t\treuse the returned object.\r\n\t\t//\r\n\t\t//\t\tUse the dojo/dom-style.get() method for more consistent (pixelized)\r\n\t\t//\t\treturn values.\r\n\t\t//\r\n\t\t// node: DOMNode\r\n\t\t//\t\tA reference to a DOM node. Does NOT support taking an\r\n\t\t//\t\tID string for speed reasons.\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/dom\"], function(domStyle, dom){\r\n\t\t//\t|\t\tdomStyle.getComputedStyle(dom.byId('foo')).borderWidth;\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tReusing the returned object, avoiding multiple lookups:\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/dom\"], function(domStyle, dom){\r\n\t\t//\t|\t\tvar cs = domStyle.getComputedStyle(dom.byId(\"someNode\"));\r\n\t\t//\t|\t\tvar w = cs.width, h = cs.height;\r\n\t\t//\t|\t});\r\n\t\treturn; // CSS2Properties\r\n\t};\r\n\t=====*/\r\n\r\n\tvar toPixel;\r\n\tif(!has(\"ie\")){\r\n\t\ttoPixel = function(element, value){\r\n\t\t\t// style values can be floats, client code may want\r\n\t\t\t// to round for integer pixels.\r\n\t\t\treturn parseFloat(value) || 0;\r\n\t\t};\r\n\t}else{\r\n\t\ttoPixel = function(element, avalue){\r\n\t\t\tif(!avalue){ return 0; }\r\n\t\t\t// on IE7, medium is usually 4 pixels\r\n\t\t\tif(avalue == \"medium\"){ return 4; }\r\n\t\t\t// style values can be floats, client code may\r\n\t\t\t// want to round this value for integer pixels.\r\n\t\t\tif(avalue.slice && avalue.slice(-2) == 'px'){ return parseFloat(avalue); }\r\n\t\t\tvar s = element.style, rs = element.runtimeStyle, cs = element.currentStyle,\r\n\t\t\t\tsLeft = s.left, rsLeft = rs.left;\r\n\t\t\trs.left = cs.left;\r\n\t\t\ttry{\r\n\t\t\t\t// 'avalue' may be incompatible with style.left, which can cause IE to throw\r\n\t\t\t\t// this has been observed for border widths using \"thin\", \"medium\", \"thick\" constants\r\n\t\t\t\t// those particular constants could be trapped by a lookup\r\n\t\t\t\t// but perhaps there are more\r\n\t\t\t\ts.left = avalue;\r\n\t\t\t\tavalue = s.pixelLeft;\r\n\t\t\t}catch(e){\r\n\t\t\t\tavalue = 0;\r\n\t\t\t}\r\n\t\t\ts.left = sLeft;\r\n\t\t\trs.left = rsLeft;\r\n\t\t\treturn avalue;\r\n\t\t};\r\n\t}\r\n\tstyle.toPixelValue = toPixel;\r\n\t/*=====\r\n\tstyle.toPixelValue = function(node, value){\r\n\t\t// summary:\r\n\t\t//\t\tconverts style value to pixels on IE or return a numeric value.\r\n\t\t// node: DOMNode\r\n\t\t// value: String\r\n\t\t// returns: Number\r\n\t};\r\n\t=====*/\r\n\r\n\t// FIXME: there opacity quirks on FF that we haven't ported over. Hrm.\r\n\r\n\tvar astr = \"DXImageTransform.Microsoft.Alpha\";\r\n\tvar af = function(n, f){\r\n\t\ttry{\r\n\t\t\treturn n.filters.item(astr);\r\n\t\t}catch(e){\r\n\t\t\treturn f ? {} : null;\r\n\t\t}\r\n\t};\r\n\r\n\tvar _getOpacity =\r\n\t\thas(\"ie\") < 9 || (has(\"ie\") < 10 && has(\"quirks\")) ? function(node){\r\n\t\t\ttry{\r\n\t\t\t\treturn af(node).Opacity / 100; // Number\r\n\t\t\t}catch(e){\r\n\t\t\t\treturn 1; // Number\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction(node){\r\n\t\t\treturn getComputedStyle(node).opacity;\r\n\t\t};\r\n\r\n\tvar _setOpacity =\r\n\t\thas(\"ie\") < 9 || (has(\"ie\") < 10 && has(\"quirks\")) ? function(/*DomNode*/ node, /*Number*/ opacity){\r\n\t\t\tif(opacity === \"\"){ opacity = 1; }\r\n\t\t\tvar ov = opacity * 100, fullyOpaque = opacity === 1;\r\n\r\n\t\t\t// on IE7 Alpha(Filter opacity=100) makes text look fuzzy so disable it altogether (bug #2661),\r\n\t\t\t// but still update the opacity value so we can get a correct reading if it is read later:\r\n\t\t\t// af(node, 1).Enabled = !fullyOpaque;\r\n\r\n\t\t\tif(fullyOpaque){\r\n\t\t\t\tnode.style.zoom = \"\";\r\n\t\t\t\tif(af(node)){\r\n\t\t\t\t\tnode.style.filter = node.style.filter.replace(\r\n\t\t\t\t\t\tnew RegExp(\"\\\\s*progid:\" + astr + \"\\\\([^\\\\)]+?\\\\)\", \"i\"), \"\");\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tnode.style.zoom = 1;\r\n\t\t\t\tif(af(node)){\r\n\t\t\t\t\taf(node, 1).Opacity = ov;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnode.style.filter += \" progid:\" + astr + \"(Opacity=\" + ov + \")\";\r\n\t\t\t\t}\r\n\t\t\t\taf(node, 1).Enabled = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(node.tagName.toLowerCase() == \"tr\"){\r\n\t\t\t\tfor(var td = node.firstChild; td; td = td.nextSibling){\r\n\t\t\t\t\tif(td.tagName.toLowerCase() == \"td\"){\r\n\t\t\t\t\t\t_setOpacity(td, opacity);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn opacity;\r\n\t\t} :\r\n\t\tfunction(node, opacity){\r\n\t\t\treturn node.style.opacity = opacity;\r\n\t\t};\r\n\r\n\tvar _pixelNamesCache = {\r\n\t\tleft: true, top: true\r\n\t};\r\n\tvar _pixelRegExp = /margin|padding|width|height|max|min|offset/; // |border\r\n\tfunction _toStyleValue(node, type, value){\r\n\t\t//TODO: should we really be doing string case conversion here? Should we cache it? Need to profile!\r\n\t\ttype = type.toLowerCase();\r\n\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\tif(value == \"auto\"){\r\n\t\t\t\tif(type == \"height\"){ return node.offsetHeight; }\r\n\t\t\t\tif(type == \"width\"){ return node.offsetWidth; }\r\n\t\t\t}\r\n\t\t\tif(type == \"fontweight\"){\r\n\t\t\t\tswitch(value){\r\n\t\t\t\t\tcase 700: return \"bold\";\r\n\t\t\t\t\tcase 400:\r\n\t\t\t\t\tdefault: return \"normal\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!(type in _pixelNamesCache)){\r\n\t\t\t_pixelNamesCache[type] = _pixelRegExp.test(type);\r\n\t\t}\r\n\t\treturn _pixelNamesCache[type] ? toPixel(node, value) : value;\r\n\t}\r\n\r\n\tvar _floatAliases = {cssFloat: 1, styleFloat: 1, \"float\": 1};\r\n\r\n\t// public API\r\n\r\n\tstyle.get = function getStyle(/*DOMNode|String*/ node, /*String?*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tAccesses styles on a node.\r\n\t\t// description:\r\n\t\t//\t\tGetting the style value uses the computed style for the node, so the value\r\n\t\t//\t\twill be a calculated value, not just the immediate node.style value.\r\n\t\t//\t\tAlso when getting values, use specific style names,\r\n\t\t//\t\tlike \"borderBottomWidth\" instead of \"border\" since compound values like\r\n\t\t//\t\t\"border\" are not necessarily reflected as expected.\r\n\t\t//\t\tIf you want to get node dimensions, use `dojo/dom-geometry.getMarginBox()`,\r\n\t\t//\t\t`dojo/dom-geometry.getContentBox()` or `dojo/dom-geometry.getPosition()`.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to node to get style for\r\n\t\t// name: String?\r\n\t\t//\t\tthe style property to get\r\n\t\t// example:\r\n\t\t//\t\tPassing only an ID or node returns the computed style object of\r\n\t\t//\t\tthe node:\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/dom\"], function(domStyle, dom){\r\n\t\t//\t|\t\tdomStyle.get(\"thinger\");\r\n\t\t//\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tPassing a node and a style property returns the current\r\n\t\t//\t\tnormalized, computed value for that property:\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/dom\"], function(domStyle, dom){\r\n\t\t//\t|\t\tdomStyle.get(\"thinger\", \"opacity\"); // 1 by default\r\n\t\t//\t|\t});\r\n\r\n\t\tvar n = dom.byId(node), l = arguments.length, op = (name == \"opacity\");\r\n\t\tif(l == 2 && op){\r\n\t\t\treturn _getOpacity(n);\r\n\t\t}\r\n\t\tname = _floatAliases[name] ? \"cssFloat\" in n.style ? \"cssFloat\" : \"styleFloat\" : name;\r\n\t\tvar s = style.getComputedStyle(n);\r\n\t\treturn (l == 1) ? s : _toStyleValue(n, name, s[name] || n.style[name]); /* CSS2Properties||String||Number */\r\n\t};\r\n\r\n\tstyle.set = function setStyle(/*DOMNode|String*/ node, /*String|Object*/ name, /*String?*/ value){\r\n\t\t// summary:\r\n\t\t//\t\tSets styles on a node.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to node to set style for\r\n\t\t// name: String|Object\r\n\t\t//\t\tthe style property to set in DOM-accessor format\r\n\t\t//\t\t(\"borderWidth\", not \"border-width\") or an object with key/value\r\n\t\t//\t\tpairs suitable for setting each property.\r\n\t\t// value: String?\r\n\t\t//\t\tIf passed, sets value on the node for style, handling\r\n\t\t//\t\tcross-browser concerns.  When setting a pixel value,\r\n\t\t//\t\tbe sure to include \"px\" in the value. For instance, top: \"200px\".\r\n\t\t//\t\tOtherwise, in some cases, some browsers will not apply the style.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tPassing a node, a style property, and a value changes the\r\n\t\t//\t\tcurrent display of the node and returns the new computed value\r\n\t\t//\t|\trequire([\"dojo/dom-style\"], function(domStyle){\r\n\t\t//\t|\t\tdomStyle.set(\"thinger\", \"opacity\", 0.5); // == 0.5\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tPassing a node, an object-style style property sets each of the values in turn and returns the computed style object of the node:\r\n\t\t//\t|\trequire([\"dojo/dom-style\"], function(domStyle){\r\n\t\t//\t|\t\tdomStyle.set(\"thinger\", {\r\n\t\t//\t|\t\t\t\"opacity\": 0.5,\r\n\t\t//\t|\t\t\t\"border\": \"3px solid black\",\r\n\t\t//\t|\t\t\t\"height\": \"300px\"\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen the CSS style property is hyphenated, the JavaScript property is camelCased.\r\n\t\t//\t\tfont-size becomes fontSize, and so on.\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/dom\"], function(domStyle, dom){\r\n\t\t//\t|\t\tdomStyle.set(\"thinger\",{\r\n\t\t//\t|\t\t\tfontSize:\"14pt\",\r\n\t\t//\t|\t\t\tletterSpacing:\"1.2em\"\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tdojo/NodeList implements .style() using the same syntax, omitting the \"node\" parameter, calling\r\n\t\t//\t\tdojo/dom-style.get() on every element of the list. See: `dojo/query` and `dojo/NodeList`\r\n\t\t//\t|\trequire([\"dojo/dom-style\", \"dojo/query\", \"dojo/NodeList-dom\"],\r\n\t\t//\t|\tfunction(domStyle, query){\r\n\t\t//\t|\t\tquery(\".someClassName\").style(\"visibility\",\"hidden\");\r\n\t\t//\t|\t\t// or\r\n\t\t//\t|\t\tquery(\"#baz > div\").style({\r\n\t\t//\t|\t\t\topacity:0.75,\r\n\t\t//\t|\t\t\tfontSize:\"13pt\"\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\r\n\t\tvar n = dom.byId(node), l = arguments.length, op = (name == \"opacity\");\r\n\t\tname = _floatAliases[name] ? \"cssFloat\" in n.style ? \"cssFloat\" : \"styleFloat\" : name;\r\n\t\tif(l == 3){\r\n\t\t\treturn op ? _setOpacity(n, value) : n.style[name] = value; // Number\r\n\t\t}\r\n\t\tfor(var x in name){\r\n\t\t\tstyle.set(node, x, name[x]);\r\n\t\t}\r\n\t\treturn style.getComputedStyle(n);\r\n\t};\r\n\r\n\treturn style;\r\n});\r\n\ndefine('dojo/dom-construct',[\"exports\", \"./_base/kernel\", \"./sniff\", \"./_base/window\", \"./dom\", \"./dom-attr\"],\r\n\t\tfunction(exports, dojo, has, win, dom, attr){\r\n\t// module:\r\n\t//\t\tdojo/dom-construct\r\n\t// summary:\r\n\t//\t\tThis module defines the core dojo DOM construction API.\r\n\r\n\t// TODOC: summary not showing up in output, see https://github.com/csnover/js-doc-parse/issues/42\r\n\r\n\t// support stuff for toDom()\r\n\tvar tagWrap = {\r\n\t\t\toption: [\"select\"],\r\n\t\t\ttbody: [\"table\"],\r\n\t\t\tthead: [\"table\"],\r\n\t\t\ttfoot: [\"table\"],\r\n\t\t\ttr: [\"table\", \"tbody\"],\r\n\t\t\ttd: [\"table\", \"tbody\", \"tr\"],\r\n\t\t\tth: [\"table\", \"thead\", \"tr\"],\r\n\t\t\tlegend: [\"fieldset\"],\r\n\t\t\tcaption: [\"table\"],\r\n\t\t\tcolgroup: [\"table\"],\r\n\t\t\tcol: [\"table\", \"colgroup\"],\r\n\t\t\tli: [\"ul\"]\r\n\t\t},\r\n\t\treTag = /<\\s*([\\w\\:]+)/,\r\n\t\tmasterNode = {}, masterNum = 0,\r\n\t\tmasterName = \"__\" + dojo._scopeName + \"ToDomId\";\r\n\r\n\t// generate start/end tag strings to use\r\n\t// for the injection for each special tag wrap case.\r\n\tfor(var param in tagWrap){\r\n\t\tif(tagWrap.hasOwnProperty(param)){\r\n\t\t\tvar tw = tagWrap[param];\r\n\t\t\ttw.pre = param == \"option\" ? '<select multiple=\"multiple\">' : \"<\" + tw.join(\"><\") + \">\";\r\n\t\t\ttw.post = \"</\" + tw.reverse().join(\"></\") + \">\";\r\n\t\t\t// the last line is destructive: it reverses the array,\r\n\t\t\t// but we don't care at this point\r\n\t\t}\r\n\t}\r\n\r\n\tvar html5domfix;\r\n\tif(has(\"ie\") <= 8){\r\n\t\thtml5domfix = function(doc){\r\n\t\t\tdoc.__dojo_html5_tested = \"yes\";\r\n\t\t\tvar div = create('div', {innerHTML: \"<nav>a</nav>\", style: {visibility: \"hidden\"}}, doc.body);\r\n\t\t\tif(div.childNodes.length !== 1){\r\n\t\t\t\t('abbr article aside audio canvas details figcaption figure footer header ' +\r\n\t\t\t\t'hgroup mark meter nav output progress section summary time video').replace(\r\n\t\t\t\t\t/\\b\\w+\\b/g, function(n){\r\n\t\t\t\t\t\tdoc.createElement(n);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tdestroy(div);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _insertBefore(/*DomNode*/ node, /*DomNode*/ ref){\r\n\t\tvar parent = ref.parentNode;\r\n\t\tif(parent){\r\n\t\t\tparent.insertBefore(node, ref);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _insertAfter(/*DomNode*/ node, /*DomNode*/ ref){\r\n\t\t// summary:\r\n\t\t//\t\tTry to insert node after ref\r\n\t\tvar parent = ref.parentNode;\r\n\t\tif(parent){\r\n\t\t\tif(parent.lastChild == ref){\r\n\t\t\t\tparent.appendChild(node);\r\n\t\t\t}else{\r\n\t\t\t\tparent.insertBefore(node, ref.nextSibling);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\texports.toDom = function toDom(frag, doc){\r\n\t\t// summary:\r\n\t\t//\t\tinstantiates an HTML fragment returning the corresponding DOM.\r\n\t\t// frag: String\r\n\t\t//\t\tthe HTML fragment\r\n\t\t// doc: DocumentNode?\r\n\t\t//\t\toptional document to use when creating DOM nodes, defaults to\r\n\t\t//\t\tdojo/_base/window.doc if not specified.\r\n\t\t// returns:\r\n\t\t//\t\tDocument fragment, unless it's a single node in which case it returns the node itself\r\n\t\t// example:\r\n\t\t//\t\tCreate a table row:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tvar tr = domConstruct.toDom(\"<tr><td>First!</td></tr>\");\r\n\t\t//\t|\t});\r\n\r\n\t\tdoc = doc || win.doc;\r\n\t\tvar masterId = doc[masterName];\r\n\t\tif(!masterId){\r\n\t\t\tdoc[masterName] = masterId = ++masterNum + \"\";\r\n\t\t\tmasterNode[masterId] = doc.createElement(\"div\");\r\n\t\t}\r\n\r\n\t\tif(has(\"ie\") <= 8){\r\n\t\t\tif(!doc.__dojo_html5_tested && doc.body){\r\n\t\t\t\thtml5domfix(doc);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// make sure the frag is a string.\r\n\t\tfrag += \"\";\r\n\r\n\t\t// find the starting tag, and get node wrapper\r\n\t\tvar match = frag.match(reTag),\r\n\t\t\ttag = match ? match[1].toLowerCase() : \"\",\r\n\t\t\tmaster = masterNode[masterId],\r\n\t\t\twrap, i, fc, df;\r\n\t\tif(match && tagWrap[tag]){\r\n\t\t\twrap = tagWrap[tag];\r\n\t\t\tmaster.innerHTML = wrap.pre + frag + wrap.post;\r\n\t\t\tfor(i = wrap.length; i; --i){\r\n\t\t\t\tmaster = master.firstChild;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tmaster.innerHTML = frag;\r\n\t\t}\r\n\r\n\t\t// one node shortcut => return the node itself\r\n\t\tif(master.childNodes.length == 1){\r\n\t\t\treturn master.removeChild(master.firstChild); // DOMNode\r\n\t\t}\r\n\r\n\t\t// return multiple nodes as a document fragment\r\n\t\tdf = doc.createDocumentFragment();\r\n\t\twhile((fc = master.firstChild)){ // intentional assignment\r\n\t\t\tdf.appendChild(fc);\r\n\t\t}\r\n\t\treturn df; // DocumentFragment\r\n\t};\r\n\r\n\texports.place = function place(node, refNode, position){\r\n\t\t// summary:\r\n\t\t//\t\tAttempt to insert node into the DOM, choosing from various positioning options.\r\n\t\t//\t\tReturns the first argument resolved to a DOM node.\r\n\t\t// node: DOMNode|DocumentFragment|String\r\n\t\t//\t\tid or node reference, or HTML fragment starting with \"<\" to place relative to refNode\r\n\t\t// refNode: DOMNode|String\r\n\t\t//\t\tid or node reference to use as basis for placement\r\n\t\t// position: String|Number?\r\n\t\t//\t\tstring noting the position of node relative to refNode or a\r\n\t\t//\t\tnumber indicating the location in the childNodes collection of refNode.\r\n\t\t//\t\tAccepted string values are:\r\n\t\t//\r\n\t\t//\t\t- before\r\n\t\t//\t\t- after\r\n\t\t//\t\t- replace\r\n\t\t//\t\t- only\r\n\t\t//\t\t- first\r\n\t\t//\t\t- last\r\n\t\t//\r\n\t\t//\t\t\"first\" and \"last\" indicate positions as children of refNode, \"replace\" replaces refNode,\r\n\t\t//\t\t\"only\" replaces all children.  position defaults to \"last\" if not specified\r\n\t\t// returns: DOMNode\r\n\t\t//\t\tReturned values is the first argument resolved to a DOM node.\r\n\t\t//\r\n\t\t//\t\t.place() is also a method of `dojo/NodeList`, allowing `dojo/query` node lookups.\r\n\t\t// example:\r\n\t\t//\t\tPlace a node by string id as the last child of another node by string id:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tdomConstruct.place(\"someNode\", \"anotherNode\");\r\n\t\t//\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tPlace a node by string id before another node by string id\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tdomConstruct.place(\"someNode\", \"anotherNode\", \"before\");\r\n\t\t//\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tCreate a Node, and place it in the body element (last child):\r\n\t\t//\t|\trequire([\"dojo/dom-construct\", \"dojo/_base/window\"\r\n\t\t//\t|\t], function(domConstruct, win){\r\n\t\t//\t|\t\tdomConstruct.place(\"<div></div>\", win.body());\r\n\t\t//\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tPut a new LI as the first child of a list by id:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tdomConstruct.place(\"<li></li>\", \"someUl\", \"first\");\r\n\t\t//\t|\t});\r\n\r\n\t\trefNode = dom.byId(refNode);\r\n\t\tif(typeof node == \"string\"){ // inline'd type check\r\n\t\t\tnode = /^\\s*</.test(node) ? exports.toDom(node, refNode.ownerDocument) : dom.byId(node);\r\n\t\t}\r\n\t\tif(typeof position == \"number\"){ // inline'd type check\r\n\t\t\tvar cn = refNode.childNodes;\r\n\t\t\tif(!cn.length || cn.length <= position){\r\n\t\t\t\trefNode.appendChild(node);\r\n\t\t\t}else{\r\n\t\t\t\t_insertBefore(node, cn[position < 0 ? 0 : position]);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tswitch(position){\r\n\t\t\t\tcase \"before\":\r\n\t\t\t\t\t_insertBefore(node, refNode);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"after\":\r\n\t\t\t\t\t_insertAfter(node, refNode);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"replace\":\r\n\t\t\t\t\trefNode.parentNode.replaceChild(node, refNode);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"only\":\r\n\t\t\t\t\texports.empty(refNode);\r\n\t\t\t\t\trefNode.appendChild(node);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first\":\r\n\t\t\t\t\tif(refNode.firstChild){\r\n\t\t\t\t\t\t_insertBefore(node, refNode.firstChild);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// else fallthrough...\r\n\t\t\t\tdefault: // aka: last\r\n\t\t\t\t\trefNode.appendChild(node);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn node; // DomNode\r\n\t};\r\n\r\n\tvar create = exports.create = function create(/*DOMNode|String*/ tag, /*Object*/ attrs, /*DOMNode|String?*/ refNode, /*String?*/ pos){\r\n\t\t// summary:\r\n\t\t//\t\tCreate an element, allowing for optional attribute decoration\r\n\t\t//\t\tand placement.\r\n\t\t// description:\r\n\t\t//\t\tA DOM Element creation function. A shorthand method for creating a node or\r\n\t\t//\t\ta fragment, and allowing for a convenient optional attribute setting step,\r\n\t\t//\t\tas well as an optional DOM placement reference.\r\n\t\t//\r\n\t\t//\t\tAttributes are set by passing the optional object through `dojo/dom-attr.set`.\r\n\t\t//\t\tSee `dojo/dom-attr.set` for noted caveats and nuances, and API if applicable.\r\n\t\t//\r\n\t\t//\t\tPlacement is done via `dojo/dom-construct.place`, assuming the new node to be\r\n\t\t//\t\tthe action node, passing along the optional reference node and position.\r\n\t\t// tag: DOMNode|String\r\n\t\t//\t\tA string of the element to create (eg: \"div\", \"a\", \"p\", \"li\", \"script\", \"br\"),\r\n\t\t//\t\tor an existing DOM node to process.\r\n\t\t// attrs: Object\r\n\t\t//\t\tAn object-hash of attributes to set on the newly created node.\r\n\t\t//\t\tCan be null, if you don't want to set any attributes/styles.\r\n\t\t//\t\tSee: `dojo/dom-attr.set` for a description of available attributes.\r\n\t\t// refNode: DOMNode|String?\r\n\t\t//\t\tOptional reference node. Used by `dojo/dom-construct.place` to place the newly created\r\n\t\t//\t\tnode somewhere in the dom relative to refNode. Can be a DomNode reference\r\n\t\t//\t\tor String ID of a node.\r\n\t\t// pos: String?\r\n\t\t//\t\tOptional positional reference. Defaults to \"last\" by way of `dojo/domConstruct.place`,\r\n\t\t//\t\tthough can be set to \"first\",\"after\",\"before\",\"last\", \"replace\" or \"only\"\r\n\t\t//\t\tto further control the placement of the new node relative to the refNode.\r\n\t\t//\t\t'refNode' is required if a 'pos' is specified.\r\n\t\t// example:\r\n\t\t//\t\tCreate a DIV:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tvar n = domConstruct.create(\"div\");\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tCreate a DIV with content:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tvar n = domConstruct.create(\"div\", { innerHTML:\"<p>hi</p>\" });\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tPlace a new DIV in the BODY, with no attributes set\r\n\t\t//\t|\trequire([\"dojo/dom-construct\", \"dojo/_base/window\"], function(domConstruct, win){\r\n\t\t//\t|\t\tvar n = domConstruct.create(\"div\", null, win.body());\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tCreate an UL, and populate it with LI's. Place the list as the first-child of a\r\n\t\t//\t\tnode with id=\"someId\":\r\n\t\t//\t|\trequire([\"dojo/dom-construct\", \"dojo/_base/array\"],\r\n\t\t//\t|\tfunction(domConstruct, arrayUtil){\r\n\t\t//\t|\t\tvar ul = domConstruct.create(\"ul\", null, \"someId\", \"first\");\r\n\t\t//\t|\t\tvar items = [\"one\", \"two\", \"three\", \"four\"];\r\n\t\t//\t|\t\tarrayUtil.forEach(items, function(data){\r\n\t\t//\t|\t\t\tdomConstruct.create(\"li\", { innerHTML: data }, ul);\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tCreate an anchor, with an href. Place in BODY:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\", \"dojo/_base/window\"], function(domConstruct, win){\r\n\t\t//\t|\t\tdomConstruct.create(\"a\", { href:\"foo.html\", title:\"Goto FOO!\" }, win.body());\r\n\t\t//\t|\t});\r\n\r\n\t\tvar doc = win.doc;\r\n\t\tif(refNode){\r\n\t\t\trefNode = dom.byId(refNode);\r\n\t\t\tdoc = refNode.ownerDocument;\r\n\t\t}\r\n\t\tif(typeof tag == \"string\"){ // inline'd type check\r\n\t\t\ttag = doc.createElement(tag);\r\n\t\t}\r\n\t\tif(attrs){ attr.set(tag, attrs); }\r\n\t\tif(refNode){ exports.place(tag, refNode, pos); }\r\n\t\treturn tag; // DomNode\r\n\t};\r\n\r\n\tfunction _empty(/*DomNode*/ node){\r\n\t\t// TODO: remove this if() block in 2.0 when we no longer have to worry about IE memory leaks,\r\n\t\t// and then uncomment the emptyGrandchildren() test case from html.html.\r\n\t\t// Note that besides fixing #16957, using removeChild() is actually faster than setting node.innerHTML,\r\n\t\t// see http://jsperf.com/clear-dom-node.\r\n\t\tif(\"innerHTML\" in node){\r\n\t\t\ttry{\r\n\t\t\t\t// fast path\r\n\t\t\t\tnode.innerHTML = \"\";\r\n\t\t\t\treturn;\r\n\t\t\t}catch(e){\r\n\t\t\t\t// innerHTML is readOnly (e.g. TABLE (sub)elements in quirks mode)\r\n\t\t\t\t// Fall through (saves bytes)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// SVG/strict elements don't support innerHTML\r\n\t\tfor(var c; c = node.lastChild;){ // intentional assignment\r\n\t\t\tnode.removeChild(c);\r\n\t\t}\r\n\t}\r\n\r\n\texports.empty = function empty(/*DOMNode|String*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tsafely removes all children of the node.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\ta reference to a DOM node or an id.\r\n\t\t// example:\r\n\t\t//\t\tDestroy node's children byId:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tdomConstruct.empty(\"someId\");\r\n\t\t//\t|\t});\r\n\r\n\t\t_empty(dom.byId(node));\r\n\t};\r\n\r\n\r\n\tfunction _destroy(/*DomNode*/ node, /*DomNode*/ parent){\r\n\t\t// in IE quirks, node.canHaveChildren can be false but firstChild can be non-null (OBJECT/APPLET)\r\n\t\tif(node.firstChild){\r\n\t\t\t_empty(node);\r\n\t\t}\r\n\t\tif(parent){\r\n\t\t\t// removeNode(false) doesn't leak in IE 6+, but removeChild() and removeNode(true) are known to leak under IE 8- while 9+ is TBD.\r\n\t\t\t// In IE quirks mode, PARAM nodes as children of OBJECT/APPLET nodes have a removeNode method that does nothing and\r\n\t\t\t// the parent node has canHaveChildren=false even though removeChild correctly removes the PARAM children.\r\n\t\t\t// In IE, SVG/strict nodes don't have a removeNode method nor a canHaveChildren boolean.\r\n\t\t\thas(\"ie\") && parent.canHaveChildren && \"removeNode\" in node ? node.removeNode(false) : parent.removeChild(node);\r\n\t\t}\r\n\t}\r\n\tvar destroy = exports.destroy = function destroy(/*DOMNode|String*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tRemoves a node from its parent, clobbering it and all of its\r\n\t\t//\t\tchildren.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tRemoves a node from its parent, clobbering it and all of its\r\n\t\t//\t\tchildren. Function only works with DomNodes, and returns nothing.\r\n\t\t//\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tA String ID or DomNode reference of the element to be destroyed\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tDestroy a node byId:\r\n\t\t//\t|\trequire([\"dojo/dom-construct\"], function(domConstruct){\r\n\t\t//\t|\t\tdomConstruct.destroy(\"someId\");\r\n\t\t//\t|\t});\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tif(!node){ return; }\r\n\t\t_destroy(node, node.parentNode);\r\n\t};\r\n});\r\n\n\ndefine('dojo/on',[\"./has!dom-addeventlistener?:./aspect\", \"./_base/kernel\", \"./sniff\"], function(aspect, dojo, has){\r\n\r\n\t\"use strict\";\r\n\tif(has(\"dom\")){ // check to make sure we are in a browser, this module should work anywhere\r\n\t\tvar major = window.ScriptEngineMajorVersion;\r\n\t\thas.add(\"jscript\", major && (major() + ScriptEngineMinorVersion() / 10));\r\n\t\thas.add(\"event-orientationchange\", has(\"touch\") && !has(\"android\")); // TODO: how do we detect this?\r\n\t\thas.add(\"event-stopimmediatepropagation\", window.Event && !!window.Event.prototype && !!window.Event.prototype.stopImmediatePropagation);\r\n\t\thas.add(\"event-focusin\", function(global, doc, element){\r\n\t\t\treturn 'onfocusin' in element;\r\n\t\t});\r\n\t\t\r\n\t\tif(has(\"touch\")){\r\n\t\t\thas.add(\"touch-can-modify-event-delegate\", function(){\r\n\t\t\t\t// This feature test checks whether deleting a property of an event delegate works\r\n\t\t\t\t// for a touch-enabled device. If it works, event delegation can be used as fallback\r\n\t\t\t\t// for browsers such as Safari in older iOS where deleting properties of the original\r\n\t\t\t\t// event does not work.\r\n\t\t\t\tvar EventDelegate = function(){};\r\n\t\t\t\tEventDelegate.prototype =\r\n\t\t\t\t\tdocument.createEvent(\"MouseEvents\"); // original event\r\n\t\t\t\t// Attempt to modify a property of an event delegate and check if\r\n\t\t\t\t// it succeeds. Depending on browsers and on whether dojo/on's\r\n\t\t\t\t// strict mode is stripped in a Dojo build, there are 3 known behaviors:\r\n\t\t\t\t// it may either succeed, or raise an error, or fail to set the property\r\n\t\t\t\t// without raising an error.\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar eventDelegate = new EventDelegate;\r\n\t\t\t\t\teventDelegate.target = null;\r\n\t\t\t\t\treturn eventDelegate.target === null;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\treturn false; // cannot use event delegation\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tvar on = function(target, type, listener, dontFix){\r\n\t\t// summary:\r\n\t\t//\t\tA function that provides core event listening functionality. With this function\r\n\t\t//\t\tyou can provide a target, event type, and listener to be notified of\r\n\t\t//\t\tfuture matching events that are fired.\r\n\t\t// target: Element|Object\r\n\t\t//\t\tThis is the target object or DOM element that to receive events from\r\n\t\t// type: String|Function\r\n\t\t//\t\tThis is the name of the event to listen for or an extension event type.\r\n\t\t// listener: Function\r\n\t\t//\t\tThis is the function that should be called when the event fires.\r\n\t\t// returns: Object\r\n\t\t//\t\tAn object with a remove() method that can be used to stop listening for this\r\n\t\t//\t\tevent.\r\n\t\t// description:\r\n\t\t//\t\tTo listen for \"click\" events on a button node, we can do:\r\n\t\t//\t\t|\tdefine([\"dojo/on\"], function(on){\r\n\t\t//\t\t|\t\ton(button, \"click\", clickHandler);\r\n\t\t//\t\t|\t\t...\r\n\t\t//\t\tEvented JavaScript objects can also have their own events.\r\n\t\t//\t\t|\tvar obj = new Evented;\r\n\t\t//\t\t|\ton(obj, \"foo\", fooHandler);\r\n\t\t//\t\tAnd then we could publish a \"foo\" event:\r\n\t\t//\t\t|\ton.emit(obj, \"foo\", {key: \"value\"});\r\n\t\t//\t\tWe can use extension events as well. For example, you could listen for a tap gesture:\r\n\t\t//\t\t|\tdefine([\"dojo/on\", \"dojo/gesture/tap\", function(on, tap){\r\n\t\t//\t\t|\t\ton(button, tap, tapHandler);\r\n\t\t//\t\t|\t\t...\r\n\t\t//\t\twhich would trigger fooHandler. Note that for a simple object this is equivalent to calling:\r\n\t\t//\t\t|\tobj.onfoo({key:\"value\"});\r\n\t\t//\t\tIf you use on.emit on a DOM node, it will use native event dispatching when possible.\r\n\r\n\t\tif(typeof target.on == \"function\" && typeof type != \"function\" && !target.nodeType){\r\n\t\t\t// delegate to the target's on() method, so it can handle it's own listening if it wants (unless it \r\n\t\t\t// is DOM node and we may be dealing with jQuery or Prototype's incompatible addition to the\r\n\t\t\t// Element prototype \r\n\t\t\treturn target.on(type, listener);\r\n\t\t}\r\n\t\t// delegate to main listener code\r\n\t\treturn on.parse(target, type, listener, addListener, dontFix, this);\r\n\t};\r\n\ton.pausable =  function(target, type, listener, dontFix){\r\n\t\t// summary:\r\n\t\t//\t\tThis function acts the same as on(), but with pausable functionality. The\r\n\t\t//\t\treturned signal object has pause() and resume() functions. Calling the\r\n\t\t//\t\tpause() method will cause the listener to not be called for future events. Calling the\r\n\t\t//\t\tresume() method will cause the listener to again be called for future events.\r\n\t\tvar paused;\r\n\t\tvar signal = on(target, type, function(){\r\n\t\t\tif(!paused){\r\n\t\t\t\treturn listener.apply(this, arguments);\r\n\t\t\t}\r\n\t\t}, dontFix);\r\n\t\tsignal.pause = function(){\r\n\t\t\tpaused = true;\r\n\t\t};\r\n\t\tsignal.resume = function(){\r\n\t\t\tpaused = false;\r\n\t\t};\r\n\t\treturn signal;\r\n\t};\r\n\ton.once = function(target, type, listener, dontFix){\r\n\t\t// summary:\r\n\t\t//\t\tThis function acts the same as on(), but will only call the listener once. The \r\n\t\t//\t\tlistener will be called for the first\r\n\t\t//\t\tevent that takes place and then listener will automatically be removed.\r\n\t\tvar signal = on(target, type, function(){\r\n\t\t\t// remove this listener\r\n\t\t\tsignal.remove();\r\n\t\t\t// proceed to call the listener\r\n\t\t\treturn listener.apply(this, arguments);\r\n\t\t});\r\n\t\treturn signal;\r\n\t};\r\n\ton.parse = function(target, type, listener, addListener, dontFix, matchesTarget){\r\n\t\tif(type.call){\r\n\t\t\t// event handler function\r\n\t\t\t// on(node, touch.press, touchListener);\r\n\t\t\treturn type.call(matchesTarget, target, listener);\r\n\t\t}\r\n\r\n\t\tif(type instanceof Array){\r\n\t\t\t// allow an array of event names (or event handler functions)\r\n\t\t\tevents = type;\r\n\t\t}else if(type.indexOf(\",\") > -1){\r\n\t\t\t// we allow comma delimited event names, so you can register for multiple events at once\r\n\t\t\tvar events = type.split(/\\s*,\\s*/);\r\n\t\t} \r\n\t\tif(events){\r\n\t\t\tvar handles = [];\r\n\t\t\tvar i = 0;\r\n\t\t\tvar eventName;\r\n\t\t\twhile(eventName = events[i++]){\r\n\t\t\t\thandles.push(on.parse(target, eventName, listener, addListener, dontFix, matchesTarget));\r\n\t\t\t}\r\n\t\t\thandles.remove = function(){\r\n\t\t\t\tfor(var i = 0; i < handles.length; i++){\r\n\t\t\t\t\thandles[i].remove();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn handles;\r\n\t\t}\r\n\t\treturn addListener(target, type, listener, dontFix, matchesTarget);\r\n\t};\r\n\tvar touchEvents = /^touch/;\r\n\tfunction addListener(target, type, listener, dontFix, matchesTarget){\r\n\t\t// event delegation:\r\n\t\tvar selector = type.match(/(.*):(.*)/);\r\n\t\t// if we have a selector:event, the last one is interpreted as an event, and we use event delegation\r\n\t\tif(selector){\r\n\t\t\ttype = selector[2];\r\n\t\t\tselector = selector[1];\r\n\t\t\t// create the extension event for selectors and directly call it\r\n\t\t\treturn on.selector(selector, type).call(matchesTarget, target, listener);\r\n\t\t}\r\n\t\t// test to see if it a touch event right now, so we don't have to do it every time it fires\r\n\t\tif(has(\"touch\")){\r\n\t\t\tif(touchEvents.test(type)){\r\n\t\t\t\t// touch event, fix it\r\n\t\t\t\tlistener = fixTouchListener(listener);\r\n\t\t\t}\r\n\t\t\tif(!has(\"event-orientationchange\") && (type == \"orientationchange\")){\r\n\t\t\t\t//\"orientationchange\" not supported <= Android 2.1, \r\n\t\t\t\t//but works through \"resize\" on window\r\n\t\t\t\ttype = \"resize\"; \r\n\t\t\t\ttarget = window;\r\n\t\t\t\tlistener = fixTouchListener(listener);\r\n\t\t\t} \r\n\t\t}\r\n\t\tif(addStopImmediate){\r\n\t\t\t// add stopImmediatePropagation if it doesn't exist\r\n\t\t\tlistener = addStopImmediate(listener);\r\n\t\t}\r\n\t\t// normal path, the target is |this|\r\n\t\tif(target.addEventListener){\r\n\t\t\t// the target has addEventListener, which should be used if available (might or might not be a node, non-nodes can implement this method as well)\r\n\t\t\t// check for capture conversions\r\n\t\t\tvar capture = type in captures,\r\n\t\t\t\tadjustedType = capture ? captures[type] : type;\r\n\t\t\ttarget.addEventListener(adjustedType, listener, capture);\r\n\t\t\t// create and return the signal\r\n\t\t\treturn {\r\n\t\t\t\tremove: function(){\r\n\t\t\t\t\ttarget.removeEventListener(adjustedType, listener, capture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\ttype = \"on\" + type;\r\n\t\tif(fixAttach && target.attachEvent){\r\n\t\t\treturn fixAttach(target, type, listener);\r\n\t\t}\r\n\t\tthrow new Error(\"Target must be an event emitter\");\r\n\t}\r\n\ton.matches = function(node, selector, context, children, matchesTarget) {\r\n\t\t// summary:\r\n\t\t//\t\tCheck if a node match the current selector within the constraint of a context\r\n\t\t// node: DOMNode\r\n\t\t//\t\tThe node that originate the event\r\n\t\t// selector: String\r\n\t\t//\t\tThe selector to check against\r\n\t\t// context: DOMNode\r\n\t\t//\t\tThe context to search in.\r\n\t\t// children: Boolean\r\n\t\t//\t\tIndicates if children elements of the selector should be allowed. This defaults to\r\n\t\t//\t\ttrue\r\n\t\t// matchesTarget: Object|dojo/query?\r\n\t\t//\t\tAn object with a property \"matches\" as a function. Default is dojo/query.\r\n\t\t//\t\tMatching DOMNodes will be done against this function\r\n\t\t//\t\tThe function must return a Boolean.\r\n\t\t//\t\tIt will have 3 arguments: \"node\", \"selector\" and \"context\"\r\n\t\t//\t\tTrue is expected if \"node\" is matching the current \"selector\" in the passed \"context\"\r\n\t\t// returns: DOMNode?\r\n\t\t//\t\tThe matching node, if any. Else you get false\r\n\r\n\t\t// see if we have a valid matchesTarget or default to dojo/query\r\n\t\tmatchesTarget = matchesTarget && matchesTarget.matches ? matchesTarget : dojo.query;\r\n\t\tchildren = children !== false;\r\n\t\t// there is a selector, so make sure it matches\r\n\t\tif(node.nodeType != 1){\r\n\t\t\t// text node will fail in native match selector\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\twhile(!matchesTarget.matches(node, selector, context)){\r\n\t\t\tif(node == context || children === false || !(node = node.parentNode) || node.nodeType != 1){ // intentional assignment\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n\ton.selector = function(selector, eventType, children){\r\n\t\t// summary:\r\n\t\t//\t\tCreates a new extension event with event delegation. This is based on\r\n\t\t//\t\tthe provided event type (can be extension event) that\r\n\t\t//\t\tonly calls the listener when the CSS selector matches the target of the event.\r\n\t\t//\r\n\t\t//\t\tThe application must require() an appropriate level of dojo/query to handle the selector.\r\n\t\t// selector:\r\n\t\t//\t\tThe CSS selector to use for filter events and determine the |this| of the event listener.\r\n\t\t// eventType:\r\n\t\t//\t\tThe event to listen for\r\n\t\t// children:\r\n\t\t//\t\tIndicates if children elements of the selector should be allowed. This defaults to \r\n\t\t//\t\ttrue\r\n\t\t// example:\r\n\t\t// |\trequire([\"dojo/on\", \"dojo/mouse\", \"dojo/query!css2\"], function(on, mouse){\r\n\t\t// |\t\ton(node, on.selector(\".my-class\", mouse.enter), handlerForMyHover);\r\n\t\treturn function(target, listener){\r\n\t\t\t// if the selector is function, use it to select the node, otherwise use the matches method\r\n\t\t\tvar matchesTarget = typeof selector == \"function\" ? {matches: selector} : this,\r\n\t\t\t\tbubble = eventType.bubble;\r\n\t\t\tfunction select(eventTarget){\r\n\t\t\t\treturn on.matches(eventTarget, selector, target, children, matchesTarget);\r\n\t\t\t}\r\n\t\t\tif(bubble){\r\n\t\t\t\t// the event type doesn't naturally bubble, but has a bubbling form, use that, and give it the selector so it can perform the select itself\r\n\t\t\t\treturn on(target, bubble(select), listener);\r\n\t\t\t}\r\n\t\t\t// standard event delegation\r\n\t\t\treturn on(target, eventType, function(event){\r\n\t\t\t\t// call select to see if we match\r\n\t\t\t\tvar eventTarget = select(event.target);\r\n\t\t\t\t// if it matches we call the listener\r\n\t\t\t\tif (eventTarget) {\r\n\t\t\t\t\treturn listener.call(eventTarget, event);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t};\r\n\r\n\tfunction syntheticPreventDefault(){\r\n\t\tthis.cancelable = false;\r\n\t\tthis.defaultPrevented = true;\r\n\t}\r\n\tfunction syntheticStopPropagation(){\r\n\t\tthis.bubbles = false;\r\n\t}\r\n\tvar slice = [].slice,\r\n\t\tsyntheticDispatch = on.emit = function(target, type, event){\r\n\t\t// summary:\r\n\t\t//\t\tFires an event on the target object.\r\n\t\t// target:\r\n\t\t//\t\tThe target object to fire the event on. This can be a DOM element or a plain \r\n\t\t//\t\tJS object. If the target is a DOM element, native event emitting mechanisms\r\n\t\t//\t\tare used when possible.\r\n\t\t// type:\r\n\t\t//\t\tThe event type name. You can emulate standard native events like \"click\" and \r\n\t\t//\t\t\"mouseover\" or create custom events like \"open\" or \"finish\".\r\n\t\t// event:\r\n\t\t//\t\tAn object that provides the properties for the event. See https://developer.mozilla.org/en/DOM/event.initEvent \r\n\t\t//\t\tfor some of the properties. These properties are copied to the event object.\r\n\t\t//\t\tOf particular importance are the cancelable and bubbles properties. The\r\n\t\t//\t\tcancelable property indicates whether or not the event has a default action\r\n\t\t//\t\tthat can be cancelled. The event is cancelled by calling preventDefault() on\r\n\t\t//\t\tthe event object. The bubbles property indicates whether or not the\r\n\t\t//\t\tevent will bubble up the DOM tree. If bubbles is true, the event will be called\r\n\t\t//\t\ton the target and then each parent successively until the top of the tree\r\n\t\t//\t\tis reached or stopPropagation() is called. Both bubbles and cancelable \r\n\t\t//\t\tdefault to false.\r\n\t\t// returns:\r\n\t\t//\t\tIf the event is cancelable and the event is not cancelled,\r\n\t\t//\t\temit will return true. If the event is cancelable and the event is cancelled,\r\n\t\t//\t\temit will return false.\r\n\t\t// details:\r\n\t\t//\t\tNote that this is designed to emit events for listeners registered through\r\n\t\t//\t\tdojo/on. It should actually work with any event listener except those\r\n\t\t//\t\tadded through IE's attachEvent (IE8 and below's non-W3C event emitting\r\n\t\t//\t\tdoesn't support custom event types). It should work with all events registered\r\n\t\t//\t\tthrough dojo/on. Also note that the emit method does do any default\r\n\t\t//\t\taction, it only returns a value to indicate if the default action should take\r\n\t\t//\t\tplace. For example, emitting a keypress event would not cause a character\r\n\t\t//\t\tto appear in a textbox.\r\n\t\t// example:\r\n\t\t//\t\tTo fire our own click event\r\n\t\t//\t|\trequire([\"dojo/on\", \"dojo/dom\"\r\n\t\t//\t|\t], function(on, dom){\r\n\t\t//\t|\t\ton.emit(dom.byId(\"button\"), \"click\", {\r\n\t\t//\t|\t\t\tcancelable: true,\r\n\t\t//\t|\t\t\tbubbles: true,\r\n\t\t//\t|\t\t\tscreenX: 33,\r\n\t\t//\t|\t\t\tscreenY: 44\r\n\t\t//\t|\t\t});\r\n\t\t//\t\tWe can also fire our own custom events:\r\n\t\t//\t|\t\ton.emit(dom.byId(\"slider\"), \"slide\", {\r\n\t\t//\t|\t\t\tcancelable: true,\r\n\t\t//\t|\t\t\tbubbles: true,\r\n\t\t//\t|\t\t\tdirection: \"left-to-right\"\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\tvar args = slice.call(arguments, 2);\r\n\t\tvar method = \"on\" + type;\r\n\t\tif(\"parentNode\" in target){\r\n\t\t\t// node (or node-like), create event controller methods\r\n\t\t\tvar newEvent = args[0] = {};\r\n\t\t\tfor(var i in event){\r\n\t\t\t\tnewEvent[i] = event[i];\r\n\t\t\t}\r\n\t\t\tnewEvent.preventDefault = syntheticPreventDefault;\r\n\t\t\tnewEvent.stopPropagation = syntheticStopPropagation;\r\n\t\t\tnewEvent.target = target;\r\n\t\t\tnewEvent.type = type;\r\n\t\t\tevent = newEvent;\r\n\t\t}\r\n\t\tdo{\r\n\t\t\t// call any node which has a handler (note that ideally we would try/catch to simulate normal event propagation but that causes too much pain for debugging)\r\n\t\t\ttarget[method] && target[method].apply(target, args);\r\n\t\t\t// and then continue up the parent node chain if it is still bubbling (if started as bubbles and stopPropagation hasn't been called)\r\n\t\t}while(event && event.bubbles && (target = target.parentNode));\r\n\t\treturn event && event.cancelable && event; // if it is still true (was cancelable and was cancelled), return the event to indicate default action should happen\r\n\t};\r\n\tvar captures = has(\"event-focusin\") ? {} : {focusin: \"focus\", focusout: \"blur\"};\r\n\tif(!has(\"event-stopimmediatepropagation\")){\r\n\t\tvar stopImmediatePropagation =function(){\r\n\t\t\tthis.immediatelyStopped = true;\r\n\t\t\tthis.modified = true; // mark it as modified so the event will be cached in IE\r\n\t\t};\r\n\t\tvar addStopImmediate = function(listener){\r\n\t\t\treturn function(event){\r\n\t\t\t\tif(!event.immediatelyStopped){// check to make sure it hasn't been stopped immediately\r\n\t\t\t\t\tevent.stopImmediatePropagation = stopImmediatePropagation;\r\n\t\t\t\t\treturn listener.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t} \r\n\tif(has(\"dom-addeventlistener\")){\r\n\t\t// emitter that works with native event handling\r\n\t\ton.emit = function(target, type, event){\r\n\t\t\tif(target.dispatchEvent && document.createEvent){\r\n\t\t\t\t// use the native event emitting mechanism if it is available on the target object\r\n\t\t\t\t// create a generic event\t\t\t\t\r\n\t\t\t\t// we could create branch into the different types of event constructors, but \r\n\t\t\t\t// that would be a lot of extra code, with little benefit that I can see, seems \r\n\t\t\t\t// best to use the generic constructor and copy properties over, making it \r\n\t\t\t\t// easy to have events look like the ones created with specific initializers\r\n\t\t\t\tvar ownerDocument = target.ownerDocument || document;\r\n\t\t\t\tvar nativeEvent = ownerDocument.createEvent(\"HTMLEvents\");\r\n\t\t\t\tnativeEvent.initEvent(type, !!event.bubbles, !!event.cancelable);\r\n\t\t\t\t// and copy all our properties over\r\n\t\t\t\tfor(var i in event){\r\n\t\t\t\t\tif(!(i in nativeEvent)){\r\n\t\t\t\t\t\tnativeEvent[i] = event[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn target.dispatchEvent(nativeEvent) && nativeEvent;\r\n\t\t\t}\r\n\t\t\treturn syntheticDispatch.apply(on, arguments); // emit for a non-node\r\n\t\t};\r\n\t}else{\r\n\t\t// no addEventListener, basically old IE event normalization\r\n\t\ton._fixEvent = function(evt, sender){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tnormalizes properties on the event object including event\r\n\t\t\t//\t\tbubbling methods, keystroke normalization, and x/y positions\r\n\t\t\t// evt:\r\n\t\t\t//\t\tnative event object\r\n\t\t\t// sender:\r\n\t\t\t//\t\tnode to treat as \"currentTarget\"\r\n\t\t\tif(!evt){\r\n\t\t\t\tvar w = sender && (sender.ownerDocument || sender.document || sender).parentWindow || window;\r\n\t\t\t\tevt = w.event;\r\n\t\t\t}\r\n\t\t\tif(!evt){return evt;}\r\n\t\t\ttry{\r\n\t\t\t\tif(lastEvent && evt.type == lastEvent.type  && evt.srcElement == lastEvent.target){\r\n\t\t\t\t\t// should be same event, reuse event object (so it can be augmented);\r\n\t\t\t\t\t// accessing evt.srcElement rather than evt.target since evt.target not set on IE until fixup below\r\n\t\t\t\t\tevt = lastEvent;\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\t// will occur on IE on lastEvent.type reference if lastEvent points to a previous event that already\r\n\t\t\t\t// finished bubbling, but the setTimeout() to clear lastEvent hasn't fired yet\r\n\t\t\t}\r\n\t\t\tif(!evt.target){ // check to see if it has been fixed yet\r\n\t\t\t\tevt.target = evt.srcElement;\r\n\t\t\t\tevt.currentTarget = (sender || evt.srcElement);\r\n\t\t\t\tif(evt.type == \"mouseover\"){\r\n\t\t\t\t\tevt.relatedTarget = evt.fromElement;\r\n\t\t\t\t}\r\n\t\t\t\tif(evt.type == \"mouseout\"){\r\n\t\t\t\t\tevt.relatedTarget = evt.toElement;\r\n\t\t\t\t}\r\n\t\t\t\tif(!evt.stopPropagation){\r\n\t\t\t\t\tevt.stopPropagation = stopPropagation;\r\n\t\t\t\t\tevt.preventDefault = preventDefault;\r\n\t\t\t\t}\r\n\t\t\t\tswitch(evt.type){\r\n\t\t\t\t\tcase \"keypress\":\r\n\t\t\t\t\t\tvar c = (\"charCode\" in evt ? evt.charCode : evt.keyCode);\r\n\t\t\t\t\t\tif (c==10){\r\n\t\t\t\t\t\t\t// CTRL-ENTER is CTRL-ASCII(10) on IE, but CTRL-ENTER on Mozilla\r\n\t\t\t\t\t\t\tc=0;\r\n\t\t\t\t\t\t\tevt.keyCode = 13;\r\n\t\t\t\t\t\t}else if(c==13||c==27){\r\n\t\t\t\t\t\t\tc=0; // Mozilla considers ENTER and ESC non-printable\r\n\t\t\t\t\t\t}else if(c==3){\r\n\t\t\t\t\t\t\tc=99; // Mozilla maps CTRL-BREAK to CTRL-c\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Mozilla sets keyCode to 0 when there is a charCode\r\n\t\t\t\t\t\t// but that stops the event on IE.\r\n\t\t\t\t\t\tevt.charCode = c;\r\n\t\t\t\t\t\t_setKeyChar(evt);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn evt;\r\n\t\t};\r\n\t\tvar lastEvent, IESignal = function(handle){\r\n\t\t\tthis.handle = handle;\r\n\t\t};\r\n\t\tIESignal.prototype.remove = function(){\r\n\t\t\tdelete _dojoIEListeners_[this.handle];\r\n\t\t};\r\n\t\tvar fixListener = function(listener){\r\n\t\t\t// this is a minimal function for closing on the previous listener with as few as variables as possible\r\n\t\t\treturn function(evt){\r\n\t\t\t\tevt = on._fixEvent(evt, this);\r\n\t\t\t\tvar result = listener.call(this, evt);\r\n\t\t\t\tif(evt.modified){\r\n\t\t\t\t\t// cache the last event and reuse it if we can\r\n\t\t\t\t\tif(!lastEvent){\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tlastEvent = null;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastEvent = evt;\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t};\r\n\t\t};\r\n\t\tvar fixAttach = function(target, type, listener){\r\n\t\t\tlistener = fixListener(listener);\r\n\t\t\tif(((target.ownerDocument ? target.ownerDocument.parentWindow : target.parentWindow || target.window || window) != top || \r\n\t\t\t\t\t\thas(\"jscript\") < 5.8) && \r\n\t\t\t\t\t!has(\"config-_allow_leaks\")){\r\n\t\t\t\t// IE will leak memory on certain handlers in frames (IE8 and earlier) and in unattached DOM nodes for JScript 5.7 and below.\r\n\t\t\t\t// Here we use global redirection to solve the memory leaks\r\n\t\t\t\tif(typeof _dojoIEListeners_ == \"undefined\"){\r\n\t\t\t\t\t_dojoIEListeners_ = [];\r\n\t\t\t\t}\r\n\t\t\t\tvar emitter = target[type];\r\n\t\t\t\tif(!emitter || !emitter.listeners){\r\n\t\t\t\t\tvar oldListener = emitter;\r\n\t\t\t\t\temitter = Function('event', 'var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}');\r\n\t\t\t\t\temitter.listeners = [];\r\n\t\t\t\t\ttarget[type] = emitter;\r\n\t\t\t\t\temitter.global = this;\r\n\t\t\t\t\tif(oldListener){\r\n\t\t\t\t\t\temitter.listeners.push(_dojoIEListeners_.push(oldListener) - 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar handle;\r\n\t\t\t\temitter.listeners.push(handle = (emitter.global._dojoIEListeners_.push(listener) - 1));\r\n\t\t\t\treturn new IESignal(handle);\r\n\t\t\t}\r\n\t\t\treturn aspect.after(target, type, listener, true);\r\n\t\t};\r\n\r\n\t\tvar _setKeyChar = function(evt){\r\n\t\t\tevt.keyChar = evt.charCode ? String.fromCharCode(evt.charCode) : '';\r\n\t\t\tevt.charOrCode = evt.keyChar || evt.keyCode;\t// TODO: remove for 2.0\r\n\t\t};\r\n\t\t// Called in Event scope\r\n\t\tvar stopPropagation = function(){\r\n\t\t\tthis.cancelBubble = true;\r\n\t\t};\r\n\t\tvar preventDefault = on._preventDefault = function(){\r\n\t\t\t// Setting keyCode to 0 is the only way to prevent certain keypresses (namely\r\n\t\t\t// ctrl-combinations that correspond to menu accelerator keys).\r\n\t\t\t// Otoh, it prevents upstream listeners from getting this information\r\n\t\t\t// Try to split the difference here by clobbering keyCode only for ctrl\r\n\t\t\t// combinations. If you still need to access the key upstream, bubbledKeyCode is\r\n\t\t\t// provided as a workaround.\r\n\t\t\tthis.bubbledKeyCode = this.keyCode;\r\n\t\t\tif(this.ctrlKey){\r\n\t\t\t\ttry{\r\n\t\t\t\t\t// squelch errors when keyCode is read-only\r\n\t\t\t\t\t// (e.g. if keyCode is ctrl or shift)\r\n\t\t\t\t\tthis.keyCode = 0;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.defaultPrevented = true;\r\n\t\t\tthis.returnValue = false;\r\n\t\t\tthis.modified = true; // mark it as modified  (for defaultPrevented flag) so the event will be cached in IE\r\n\t\t};\r\n\t}\r\n\tif(has(\"touch\")){ \r\n\t\tvar EventDelegate = function(){};\r\n\t\tvar windowOrientation = window.orientation; \r\n\t\tvar fixTouchListener = function(listener){ \r\n\t\t\treturn function(originalEvent){ \r\n\t\t\t\t//Event normalization(for ontouchxxx and resize): \r\n\t\t\t\t//1.incorrect e.pageX|pageY in iOS \r\n\t\t\t\t//2.there are no \"e.rotation\", \"e.scale\" and \"onorientationchange\" in Android\r\n\t\t\t\t//3.More TBD e.g. force | screenX | screenX | clientX | clientY | radiusX | radiusY\r\n\r\n\t\t\t\t// see if it has already been corrected\r\n\t\t\t\tvar event = originalEvent.corrected;\r\n\t\t\t\tif(!event){\r\n\t\t\t\t\tvar type = originalEvent.type;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tdelete originalEvent.type; // on some JS engines (android), deleting properties makes them mutable\r\n\t\t\t\t\t}catch(e){} \r\n\t\t\t\t\tif(originalEvent.type){\r\n\t\t\t\t\t\t// Deleting the property of the original event did not work (this is the case of\r\n\t\t\t\t\t\t// browsers such as older Safari iOS), hence fallback:\r\n\t\t\t\t\t\tif(has(\"touch-can-modify-event-delegate\")){\r\n\t\t\t\t\t\t\t// If deleting properties of delegated event works, use event delegation:\r\n\t\t\t\t\t\t\tEventDelegate.prototype = originalEvent;\r\n\t\t\t\t\t\t\tevent = new EventDelegate;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// Otherwise last fallback: other browsers, such as mobile Firefox, do not like\r\n\t\t\t\t\t\t\t// delegated properties, so we have to copy\r\n\t\t\t\t\t\t\tevent = {};\r\n\t\t\t\t\t\t\tfor(var name in originalEvent){\r\n\t\t\t\t\t\t\t\tevent[name] = originalEvent[name];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// have to delegate methods to make them work\r\n\t\t\t\t\t\tevent.preventDefault = function(){\r\n\t\t\t\t\t\t\toriginalEvent.preventDefault();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tevent.stopPropagation = function(){\r\n\t\t\t\t\t\t\toriginalEvent.stopPropagation();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// deletion worked, use property as is\r\n\t\t\t\t\t\tevent = originalEvent;\r\n\t\t\t\t\t\tevent.type = type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\toriginalEvent.corrected = event;\r\n\t\t\t\t\tif(type == 'resize'){\r\n\t\t\t\t\t\tif(windowOrientation == window.orientation){ \r\n\t\t\t\t\t\t\treturn null;//double tap causes an unexpected 'resize' in Android\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\twindowOrientation = window.orientation;\r\n\t\t\t\t\t\tevent.type = \"orientationchange\"; \r\n\t\t\t\t\t\treturn listener.call(this, event);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// We use the original event and augment, rather than doing an expensive mixin operation\r\n\t\t\t\t\tif(!(\"rotation\" in event)){ // test to see if it has rotation\r\n\t\t\t\t\t\tevent.rotation = 0; \r\n\t\t\t\t\t\tevent.scale = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//use event.changedTouches[0].pageX|pageY|screenX|screenY|clientX|clientY|target\r\n\t\t\t\t\tvar firstChangeTouch = event.changedTouches[0];\r\n\t\t\t\t\tfor(var i in firstChangeTouch){ // use for-in, we don't need to have dependency on dojo/_base/lang here\r\n\t\t\t\t\t\tdelete event[i]; // delete it first to make it mutable\r\n\t\t\t\t\t\tevent[i] = firstChangeTouch[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn listener.call(this, event); \r\n\t\t\t}; \r\n\t\t}; \r\n\t}\r\n\treturn on;\r\n});\r\n\ndefine('dojo/aspect',[], function(){\r\n\r\n\t// module:\r\n\t//\t\tdojo/aspect\r\n\r\n\t\"use strict\";\r\n\tvar undefined, nextId = 0;\r\n\tfunction advise(dispatcher, type, advice, receiveArguments){\r\n\t\tvar previous = dispatcher[type];\r\n\t\tvar around = type == \"around\";\r\n\t\tvar signal;\r\n\t\tif(around){\r\n\t\t\tvar advised = advice(function(){\r\n\t\t\t\treturn previous.advice(this, arguments);\r\n\t\t\t});\r\n\t\t\tsignal = {\r\n\t\t\t\tremove: function(){\r\n\t\t\t\t\tif(advised){\r\n\t\t\t\t\t\tadvised = dispatcher = advice = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tadvice: function(target, args){\r\n\t\t\t\t\treturn advised ?\r\n\t\t\t\t\t\tadvised.apply(target, args) :  // called the advised function\r\n\t\t\t\t\t\tprevious.advice(target, args); // cancelled, skip to next one\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\t// create the remove handler\r\n\t\t\tsignal = {\r\n\t\t\t\tremove: function(){\r\n\t\t\t\t\tif(signal.advice){\r\n\t\t\t\t\t\tvar previous = signal.previous;\r\n\t\t\t\t\t\tvar next = signal.next;\r\n\t\t\t\t\t\tif(!next && !previous){\r\n\t\t\t\t\t\t\tdelete dispatcher[type];\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(previous){\r\n\t\t\t\t\t\t\t\tprevious.next = next;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tdispatcher[type] = next;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(next){\r\n\t\t\t\t\t\t\t\tnext.previous = previous;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// remove the advice to signal that this signal has been removed\r\n\t\t\t\t\t\tdispatcher = advice = signal.advice = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tid: nextId++,\r\n\t\t\t\tadvice: advice,\r\n\t\t\t\treceiveArguments: receiveArguments\r\n\t\t\t};\r\n\t\t}\r\n\t\tif(previous && !around){\r\n\t\t\tif(type == \"after\"){\r\n\t\t\t\t// add the listener to the end of the list\r\n\t\t\t\t// note that we had to change this loop a little bit to workaround a bizarre IE10 JIT bug\r\n\t\t\t\twhile(previous.next && (previous = previous.next)){}\r\n\t\t\t\tprevious.next = signal;\r\n\t\t\t\tsignal.previous = previous;\r\n\t\t\t}else if(type == \"before\"){\r\n\t\t\t\t// add to beginning\r\n\t\t\t\tdispatcher[type] = signal;\r\n\t\t\t\tsignal.next = previous;\r\n\t\t\t\tprevious.previous = signal;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t// around or first one just replaces\r\n\t\t\tdispatcher[type] = signal;\r\n\t\t}\r\n\t\treturn signal;\r\n\t}\r\n\tfunction aspect(type){\r\n\t\treturn function(target, methodName, advice, receiveArguments){\r\n\t\t\tvar existing = target[methodName], dispatcher;\r\n\t\t\tif(!existing || existing.target != target){\r\n\t\t\t\t// no dispatcher in place\r\n\t\t\t\ttarget[methodName] = dispatcher = function(){\r\n\t\t\t\t\tvar executionId = nextId;\r\n\t\t\t\t\t// before advice\r\n\t\t\t\t\tvar args = arguments;\r\n\t\t\t\t\tvar before = dispatcher.before;\r\n\t\t\t\t\twhile(before){\r\n\t\t\t\t\t\targs = before.advice.apply(this, args) || args;\r\n\t\t\t\t\t\tbefore = before.next;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// around advice\r\n\t\t\t\t\tif(dispatcher.around){\r\n\t\t\t\t\t\tvar results = dispatcher.around.advice(this, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// after advice\r\n\t\t\t\t\tvar after = dispatcher.after;\r\n\t\t\t\t\twhile(after && after.id < executionId){\r\n\t\t\t\t\t\tif(after.receiveArguments){\r\n\t\t\t\t\t\t\tvar newResults = after.advice.apply(this, args);\r\n\t\t\t\t\t\t\t// change the return value only if a new value was returned\r\n\t\t\t\t\t\t\tresults = newResults === undefined ? results : newResults;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tresults = after.advice.call(this, results, args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tafter = after.next;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn results;\r\n\t\t\t\t};\r\n\t\t\t\tif(existing){\r\n\t\t\t\t\tdispatcher.around = {advice: function(target, args){\r\n\t\t\t\t\t\treturn existing.apply(target, args);\r\n\t\t\t\t\t}};\r\n\t\t\t\t}\r\n\t\t\t\tdispatcher.target = target;\r\n\t\t\t}\r\n\t\t\tvar results = advise((dispatcher || existing), type, advice, receiveArguments);\r\n\t\t\tadvice = null;\r\n\t\t\treturn results;\r\n\t\t};\r\n\t}\r\n\r\n\t// TODOC: after/before/around return object\r\n\r\n\tvar after = aspect(\"after\");\r\n\t/*=====\r\n\tafter = function(target, methodName, advice, receiveArguments){\r\n\t\t// summary:\r\n\t\t//\t\tThe \"after\" export of the aspect module is a function that can be used to attach\r\n\t\t//\t\t\"after\" advice to a method. This function will be executed after the original method\r\n\t\t//\t\tis executed. By default the function will be called with a single argument, the return\r\n\t\t//\t\tvalue of the original method, or the the return value of the last executed advice (if a previous one exists).\r\n\t\t//\t\tThe fourth (optional) argument can be set to true to so the function receives the original\r\n\t\t//\t\targuments (from when the original method was called) rather than the return value.\r\n\t\t//\t\tIf there are multiple \"after\" advisors, they are executed in the order they were registered.\r\n\t\t// target: Object\r\n\t\t//\t\tThis is the target object\r\n\t\t// methodName: String\r\n\t\t//\t\tThis is the name of the method to attach to.\r\n\t\t// advice: Function\r\n\t\t//\t\tThis is function to be called after the original method\r\n\t\t// receiveArguments: Boolean?\r\n\t\t//\t\tIf this is set to true, the advice function receives the original arguments (from when the original mehtod\r\n\t\t//\t\twas called) rather than the return value of the original/previous method.\r\n\t\t// returns:\r\n\t\t//\t\tA signal object that can be used to cancel the advice. If remove() is called on this signal object, it will\r\n\t\t//\t\tstop the advice function from being executed.\r\n\t};\r\n\t=====*/\r\n\r\n\tvar before = aspect(\"before\");\r\n\t/*=====\r\n\tbefore = function(target, methodName, advice){\r\n\t\t// summary:\r\n\t\t//\t\tThe \"before\" export of the aspect module is a function that can be used to attach\r\n\t\t//\t\t\"before\" advice to a method. This function will be executed before the original method\r\n\t\t//\t\tis executed. This function will be called with the arguments used to call the method.\r\n\t\t//\t\tThis function may optionally return an array as the new arguments to use to call\r\n\t\t//\t\tthe original method (or the previous, next-to-execute before advice, if one exists).\r\n\t\t//\t\tIf the before method doesn't return anything (returns undefined) the original arguments\r\n\t\t//\t\twill be preserved.\r\n\t\t//\t\tIf there are multiple \"before\" advisors, they are executed in the reverse order they were registered.\r\n\t\t// target: Object\r\n\t\t//\t\tThis is the target object\r\n\t\t// methodName: String\r\n\t\t//\t\tThis is the name of the method to attach to.\r\n\t\t// advice: Function\r\n\t\t//\t\tThis is function to be called before the original method\r\n\t};\r\n\t=====*/\r\n\r\n\tvar around = aspect(\"around\");\r\n\t/*=====\r\n\t around = function(target, methodName, advice){\r\n\t\t// summary:\r\n\t\t//\t\tThe \"around\" export of the aspect module is a function that can be used to attach\r\n\t\t//\t\t\"around\" advice to a method. The advisor function is immediately executed when\r\n\t\t//\t\tthe around() is called, is passed a single argument that is a function that can be\r\n\t\t//\t\tcalled to continue execution of the original method (or the next around advisor).\r\n\t\t//\t\tThe advisor function should return a function, and this function will be called whenever\r\n\t\t//\t\tthe method is called. It will be called with the arguments used to call the method.\r\n\t\t//\t\tWhatever this function returns will be returned as the result of the method call (unless after advise changes it).\r\n\t\t// example:\r\n\t\t//\t\tIf there are multiple \"around\" advisors, the most recent one is executed first,\r\n\t\t//\t\twhich can then delegate to the next one and so on. For example:\r\n\t\t//\t\t|\taround(obj, \"foo\", function(originalFoo){\r\n\t\t//\t\t|\t\treturn function(){\r\n\t\t//\t\t|\t\t\tvar start = new Date().getTime();\r\n\t\t//\t\t|\t\t\tvar results = originalFoo.apply(this, arguments); // call the original\r\n\t\t//\t\t|\t\t\tvar end = new Date().getTime();\r\n\t\t//\t\t|\t\t\tconsole.log(\"foo execution took \" + (end - start) + \" ms\");\r\n\t\t//\t\t|\t\t\treturn results;\r\n\t\t//\t\t|\t\t};\r\n\t\t//\t\t|\t});\r\n\t\t// target: Object\r\n\t\t//\t\tThis is the target object\r\n\t\t// methodName: String\r\n\t\t//\t\tThis is the name of the method to attach to.\r\n\t\t// advice: Function\r\n\t\t//\t\tThis is function to be called around the original method\r\n\t};\r\n\t=====*/\r\n\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tprovides aspect oriented programming functionality, allowing for\r\n\t\t//\t\tone to add before, around, or after advice on existing methods.\r\n\t\t// example:\r\n\t\t//\t|\tdefine([\"dojo/aspect\"], function(aspect){\r\n\t\t//\t|\t\tvar signal = aspect.after(targetObject, \"methodName\", function(someArgument){\r\n\t\t//\t|\t\t\tthis will be called when targetObject.methodName() is called, after the original function is called\r\n\t\t//\t|\t\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tThe returned signal object can be used to cancel the advice.\r\n\t\t//\t|\tsignal.remove(); // this will stop the advice from being executed anymore\r\n\t\t//\t|\taspect.before(targetObject, \"methodName\", function(someArgument){\r\n\t\t//\t|\t\t// this will be called when targetObject.methodName() is called, before the original function is called\r\n\t\t//\t|\t });\r\n\r\n\t\tbefore: before,\r\n\t\taround: around,\r\n\t\tafter: after\r\n\t};\r\n});\r\n\ndefine('dojo/Evented',[\"./aspect\", \"./on\"], function(aspect, on){\r\n\t// module:\r\n\t//\t\tdojo/Evented\r\n\r\n \t\"use strict\";\r\n \tvar after = aspect.after;\r\n\tfunction Evented(){\r\n\t\t// summary:\r\n\t\t//\t\tA class that can be used as a mixin or base class,\r\n\t\t//\t\tto add on() and emit() methods to a class\r\n\t\t//\t\tfor listening for events and emitting events:\r\n\t\t// example:\r\n\t\t//\t\t|\tdefine([\"dojo/Evented\", \"dojo/_base/declare\", \"dojo/Stateful\"\r\n\t\t//\t\t|\t], function(Evented, declare, Stateful){\r\n\t\t//\t\t|\t\tvar EventedStateful = declare([Evented, Stateful], {...});\r\n\t\t//\t\t|\t\tvar instance = new EventedStateful();\r\n\t\t//\t\t|\t\tinstance.on(\"open\", function(event){\r\n\t\t//\t\t|\t\t... do something with event\r\n\t\t//\t\t|\t });\r\n\t\t//\t\t|\r\n\t\t//\t\t|\tinstance.emit(\"open\", {name:\"some event\", ...});\r\n\t}\r\n\tEvented.prototype = {\r\n\t\ton: function(type, listener){\r\n\t\t\treturn on.parse(this, type, listener, function(target, type){\r\n\t\t\t\treturn after(target, 'on' + type, listener, true);\r\n\t\t\t});\r\n\t\t},\r\n\t\temit: function(type, event){\r\n\t\t\tvar args = [this];\r\n\t\t\targs.push.apply(args, arguments);\r\n\t\t\treturn on.emit.apply(on, args);\r\n\t\t}\r\n\t};\r\n\treturn Evented;\r\n});\r\n\ndefine('dojo/topic',[\"./Evented\"], function(Evented){\r\n\r\n\t// module:\r\n\t//\t\tdojo/topic\r\n\r\n\tvar hub = new Evented;\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tPubsub hub.\r\n\t\t// example:\r\n\t\t//\t\t| \ttopic.subscribe(\"some/topic\", function(event){\r\n\t\t//\t\t|\t... do something with event\r\n\t\t//\t\t|\t});\r\n\t\t//\t\t|\ttopic.publish(\"some/topic\", {name:\"some event\", ...});\r\n\r\n\t\tpublish: function(topic, event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPublishes a message to a topic on the pub/sub hub. All arguments after\r\n\t\t\t//\t\tthe first will be passed to the subscribers, so any number of arguments\r\n\t\t\t//\t\tcan be provided (not just event).\r\n\t\t\t// topic: String\r\n\t\t\t//\t\tThe name of the topic to publish to\r\n\t\t\t// event: Object\r\n\t\t\t//\t\tAn event to distribute to the topic listeners\r\n\t\t\treturn hub.emit.apply(hub, arguments);\r\n\t\t},\r\n\r\n\t\tsubscribe: function(topic, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSubscribes to a topic on the pub/sub hub\r\n\t\t\t// topic: String\r\n\t\t\t//\t\tThe topic to subscribe to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tA function to call when a message is published to the given topic\r\n\t\t\treturn hub.on.apply(hub, arguments);\r\n\t\t}\r\n\t};\r\n});\r\n\ndefine('dojo/dom-geometry',[\"./sniff\", \"./_base/window\",\"./dom\", \"./dom-style\"],\r\n\t\tfunction(has, win, dom, style){\r\n\t// module:\r\n\t//\t\tdojo/dom-geometry\r\n\r\n\t// the result object\r\n\tvar geom = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines the core dojo DOM geometry API.\r\n\t};\r\n\r\n\t// Box functions will assume this model.\r\n\t// On IE/Opera, BORDER_BOX will be set if the primary document is in quirks mode.\r\n\t// Can be set to change behavior of box setters.\r\n\r\n\t// can be either:\r\n\t//\t\"border-box\"\r\n\t//\t\"content-box\" (default)\r\n\tgeom.boxModel = \"content-box\";\r\n\r\n\t// We punt per-node box mode testing completely.\r\n\t// If anybody cares, we can provide an additional (optional) unit\r\n\t// that overrides existing code to include per-node box sensitivity.\r\n\r\n\t// Opera documentation claims that Opera 9 uses border-box in BackCompat mode.\r\n\t// but experiments (Opera 9.10.8679 on Windows Vista) indicate that it actually continues to use content-box.\r\n\t// IIRC, earlier versions of Opera did in fact use border-box.\r\n\t// Opera guys, this is really confusing. Opera being broken in quirks mode is not our fault.\r\n\r\n\tif(has(\"ie\") /*|| has(\"opera\")*/){\r\n\t\t// client code may have to adjust if compatMode varies across iframes\r\n\t\tgeom.boxModel = document.compatMode == \"BackCompat\" ? \"border-box\" : \"content-box\";\r\n\t}\r\n\r\n\tgeom.getPadExtents = function getPadExtents(/*DomNode*/ node, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\tReturns object with special values specifically useful for node\r\n\t\t//\t\tfitting.\r\n\t\t// description:\r\n\t\t//\t\tReturns an object with `w`, `h`, `l`, `t` properties:\r\n\t\t//\t|\t\tl/t/r/b = left/top/right/bottom padding (respectively)\r\n\t\t//\t|\t\tw = the total of the left and right padding\r\n\t\t//\t|\t\th = the total of the top and bottom padding\r\n\t\t//\t\tIf 'node' has position, l/t forms the origin for child nodes.\r\n\t\t//\t\tThe w/h are used for calculating boxes.\r\n\t\t//\t\tNormally application code will not need to invoke this\r\n\t\t//\t\tdirectly, and will use the ...box... functions instead.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node), px = style.toPixelValue,\r\n\t\t\tl = px(node, s.paddingLeft), t = px(node, s.paddingTop), r = px(node, s.paddingRight), b = px(node, s.paddingBottom);\r\n\t\treturn {l: l, t: t, r: r, b: b, w: l + r, h: t + b};\r\n\t};\r\n\r\n\tvar none = \"none\";\r\n\r\n\tgeom.getBorderExtents = function getBorderExtents(/*DomNode*/ node, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\treturns an object with properties useful for noting the border\r\n\t\t//\t\tdimensions.\r\n\t\t// description:\r\n\t\t//\t\t- l/t/r/b = the sum of left/top/right/bottom border (respectively)\r\n\t\t//\t\t- w = the sum of the left and right border\r\n\t\t//\t\t- h = the sum of the top and bottom border\r\n\t\t//\r\n\t\t//\t\tThe w/h are used for calculating boxes.\r\n\t\t//\t\tNormally application code will not need to invoke this\r\n\t\t//\t\tdirectly, and will use the ...box... functions instead.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar px = style.toPixelValue, s = computedStyle || style.getComputedStyle(node),\r\n\t\t\tl = s.borderLeftStyle != none ? px(node, s.borderLeftWidth) : 0,\r\n\t\t\tt = s.borderTopStyle != none ? px(node, s.borderTopWidth) : 0,\r\n\t\t\tr = s.borderRightStyle != none ? px(node, s.borderRightWidth) : 0,\r\n\t\t\tb = s.borderBottomStyle != none ? px(node, s.borderBottomWidth) : 0;\r\n\t\treturn {l: l, t: t, r: r, b: b, w: l + r, h: t + b};\r\n\t};\r\n\r\n\tgeom.getPadBorderExtents = function getPadBorderExtents(/*DomNode*/ node, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\tReturns object with properties useful for box fitting with\r\n\t\t//\t\tregards to padding.\r\n\t\t// description:\r\n\t\t//\t\t- l/t/r/b = the sum of left/top/right/bottom padding and left/top/right/bottom border (respectively)\r\n\t\t//\t\t- w = the sum of the left and right padding and border\r\n\t\t//\t\t- h = the sum of the top and bottom padding and border\r\n\t\t//\r\n\t\t//\t\tThe w/h are used for calculating boxes.\r\n\t\t//\t\tNormally application code will not need to invoke this\r\n\t\t//\t\tdirectly, and will use the ...box... functions instead.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node),\r\n\t\t\tp = geom.getPadExtents(node, s),\r\n\t\t\tb = geom.getBorderExtents(node, s);\r\n\t\treturn {\r\n\t\t\tl: p.l + b.l,\r\n\t\t\tt: p.t + b.t,\r\n\t\t\tr: p.r + b.r,\r\n\t\t\tb: p.b + b.b,\r\n\t\t\tw: p.w + b.w,\r\n\t\t\th: p.h + b.h\r\n\t\t};\r\n\t};\r\n\r\n\tgeom.getMarginExtents = function getMarginExtents(node, computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\treturns object with properties useful for box fitting with\r\n\t\t//\t\tregards to box margins (i.e., the outer-box).\r\n\t\t//\r\n\t\t//\t\t- l/t = marginLeft, marginTop, respectively\r\n\t\t//\t\t- w = total width, margin inclusive\r\n\t\t//\t\t- h = total height, margin inclusive\r\n\t\t//\r\n\t\t//\t\tThe w/h are used for calculating boxes.\r\n\t\t//\t\tNormally application code will not need to invoke this\r\n\t\t//\t\tdirectly, and will use the ...box... functions instead.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node), px = style.toPixelValue,\r\n\t\t\tl = px(node, s.marginLeft), t = px(node, s.marginTop), r = px(node, s.marginRight), b = px(node, s.marginBottom);\r\n\t\treturn {l: l, t: t, r: r, b: b, w: l + r, h: t + b};\r\n\t};\r\n\r\n\t// Box getters work in any box context because offsetWidth/clientWidth\r\n\t// are invariant wrt box context\r\n\t//\r\n\t// They do *not* work for display: inline objects that have padding styles\r\n\t// because the user agent ignores padding (it's bogus styling in any case)\r\n\t//\r\n\t// Be careful with IMGs because they are inline or block depending on\r\n\t// browser and browser mode.\r\n\r\n\t// Although it would be easier to read, there are not separate versions of\r\n\t// _getMarginBox for each browser because:\r\n\t// 1. the branching is not expensive\r\n\t// 2. factoring the shared code wastes cycles (function call overhead)\r\n\t// 3. duplicating the shared code wastes bytes\r\n\r\n\tgeom.getMarginBox = function getMarginBox(/*DomNode*/ node, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\treturns an object that encodes the width, height, left and top\r\n\t\t//\t\tpositions of the node's margin box.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node), me = geom.getMarginExtents(node, s),\r\n\t\t\tl = node.offsetLeft - me.l, t = node.offsetTop - me.t, p = node.parentNode, px = style.toPixelValue, pcs;\r\n\t\tif(has(\"mozilla\")){\r\n\t\t\t// Mozilla:\r\n\t\t\t// If offsetParent has a computed overflow != visible, the offsetLeft is decreased\r\n\t\t\t// by the parent's border.\r\n\t\t\t// We don't want to compute the parent's style, so instead we examine node's\r\n\t\t\t// computed left/top which is more stable.\r\n\t\t\tvar sl = parseFloat(s.left), st = parseFloat(s.top);\r\n\t\t\tif(!isNaN(sl) && !isNaN(st)){\r\n\t\t\t\tl = sl;\r\n\t\t\t\tt = st;\r\n\t\t\t}else{\r\n\t\t\t\t// If child's computed left/top are not parseable as a number (e.g. \"auto\"), we\r\n\t\t\t\t// have no choice but to examine the parent's computed style.\r\n\t\t\t\tif(p && p.style){\r\n\t\t\t\t\tpcs = style.getComputedStyle(p);\r\n\t\t\t\t\tif(pcs.overflow != \"visible\"){\r\n\t\t\t\t\t\tl += pcs.borderLeftStyle != none ? px(node, pcs.borderLeftWidth) : 0;\r\n\t\t\t\t\t\tt += pcs.borderTopStyle != none ? px(node, pcs.borderTopWidth) : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else if(has(\"opera\") || (has(\"ie\") == 8 && !has(\"quirks\"))){\r\n\t\t\t// On Opera and IE 8, offsetLeft/Top includes the parent's border\r\n\t\t\tif(p){\r\n\t\t\t\tpcs = style.getComputedStyle(p);\r\n\t\t\t\tl -= pcs.borderLeftStyle != none ? px(node, pcs.borderLeftWidth) : 0;\r\n\t\t\t\tt -= pcs.borderTopStyle != none ? px(node, pcs.borderTopWidth) : 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {l: l, t: t, w: node.offsetWidth + me.w, h: node.offsetHeight + me.h};\r\n\t};\r\n\r\n\tgeom.getContentBox = function getContentBox(node, computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an object that encodes the width, height, left and top\r\n\t\t//\t\tpositions of the node's content box, irrespective of the\r\n\t\t//\t\tcurrent box model.\r\n\t\t// node: DOMNode\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\t// clientWidth/Height are important since the automatically account for scrollbars\r\n\t\t// fallback to offsetWidth/Height for special cases (see #3378)\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node), w = node.clientWidth, h,\r\n\t\t\tpe = geom.getPadExtents(node, s), be = geom.getBorderExtents(node, s);\r\n\t\tif(!w){\r\n\t\t\tw = node.offsetWidth;\r\n\t\t\th = node.offsetHeight;\r\n\t\t}else{\r\n\t\t\th = node.clientHeight;\r\n\t\t\tbe.w = be.h = 0;\r\n\t\t}\r\n\t\t// On Opera, offsetLeft includes the parent's border\r\n\t\tif(has(\"opera\")){\r\n\t\t\tpe.l += be.l;\r\n\t\t\tpe.t += be.t;\r\n\t\t}\r\n\t\treturn {l: pe.l, t: pe.t, w: w - pe.w - be.w, h: h - pe.h - be.h};\r\n\t};\r\n\r\n\t// Box setters depend on box context because interpretation of width/height styles\r\n\t// vary wrt box context.\r\n\t//\r\n\t// The value of boxModel is used to determine box context.\r\n\t// boxModel can be set directly to change behavior.\r\n\t//\r\n\t// Beware of display: inline objects that have padding styles\r\n\t// because the user agent ignores padding (it's a bogus setup anyway)\r\n\t//\r\n\t// Be careful with IMGs because they are inline or block depending on\r\n\t// browser and browser mode.\r\n\t//\r\n\t// Elements other than DIV may have special quirks, like built-in\r\n\t// margins or padding, or values not detectable via computedStyle.\r\n\t// In particular, margins on TABLE do not seems to appear\r\n\t// at all in computedStyle on Mozilla.\r\n\r\n\tfunction setBox(/*DomNode*/ node, /*Number?*/ l, /*Number?*/ t, /*Number?*/ w, /*Number?*/ h, /*String?*/ u){\r\n\t\t// summary:\r\n\t\t//\t\tsets width/height/left/top in the current (native) box-model\r\n\t\t//\t\tdimensions. Uses the unit passed in u.\r\n\t\t// node:\r\n\t\t//\t\tDOM Node reference. Id string not supported for performance\r\n\t\t//\t\treasons.\r\n\t\t// l:\r\n\t\t//\t\tleft offset from parent.\r\n\t\t// t:\r\n\t\t//\t\ttop offset from parent.\r\n\t\t// w:\r\n\t\t//\t\twidth in current box model.\r\n\t\t// h:\r\n\t\t//\t\twidth in current box model.\r\n\t\t// u:\r\n\t\t//\t\tunit measure to use for other measures. Defaults to \"px\".\r\n\t\tu = u || \"px\";\r\n\t\tvar s = node.style;\r\n\t\tif(!isNaN(l)){\r\n\t\t\ts.left = l + u;\r\n\t\t}\r\n\t\tif(!isNaN(t)){\r\n\t\t\ts.top = t + u;\r\n\t\t}\r\n\t\tif(w >= 0){\r\n\t\t\ts.width = w + u;\r\n\t\t}\r\n\t\tif(h >= 0){\r\n\t\t\ts.height = h + u;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isButtonTag(/*DomNode*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tTrue if the node is BUTTON or INPUT.type=\"button\".\r\n\t\treturn node.tagName.toLowerCase() == \"button\" ||\r\n\t\t\tnode.tagName.toLowerCase() == \"input\" && (node.getAttribute(\"type\") || \"\").toLowerCase() == \"button\"; // boolean\r\n\t}\r\n\r\n\tfunction usesBorderBox(/*DomNode*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tTrue if the node uses border-box layout.\r\n\r\n\t\t// We could test the computed style of node to see if a particular box\r\n\t\t// has been specified, but there are details and we choose not to bother.\r\n\r\n\t\t// TABLE and BUTTON (and INPUT type=button) are always border-box by default.\r\n\t\t// If you have assigned a different box to either one via CSS then\r\n\t\t// box functions will break.\r\n\r\n\t\treturn geom.boxModel == \"border-box\" || node.tagName.toLowerCase() == \"table\" || isButtonTag(node); // boolean\r\n\t}\r\n\r\n\tgeom.setContentSize = function setContentSize(/*DomNode*/ node, /*Object*/ box, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\tSets the size of the node's contents, irrespective of margins,\r\n\t\t//\t\tpadding, or borders.\r\n\t\t// node: DOMNode\r\n\t\t// box: Object\r\n\t\t//\t\thash with optional \"w\", and \"h\" properties for \"width\", and \"height\"\r\n\t\t//\t\trespectively. All specified properties should have numeric values in whole pixels.\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar w = box.w, h = box.h;\r\n\t\tif(usesBorderBox(node)){\r\n\t\t\tvar pb = geom.getPadBorderExtents(node, computedStyle);\r\n\t\t\tif(w >= 0){\r\n\t\t\t\tw += pb.w;\r\n\t\t\t}\r\n\t\t\tif(h >= 0){\r\n\t\t\t\th += pb.h;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetBox(node, NaN, NaN, w, h);\r\n\t};\r\n\r\n\tvar nilExtents = {l: 0, t: 0, w: 0, h: 0};\r\n\r\n\tgeom.setMarginBox = function setMarginBox(/*DomNode*/ node, /*Object*/ box, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\tsets the size of the node's margin box and placement\r\n\t\t//\t\t(left/top), irrespective of box model. Think of it as a\r\n\t\t//\t\tpassthrough to setBox that handles box-model vagaries for\r\n\t\t//\t\tyou.\r\n\t\t// node: DOMNode\r\n\t\t// box: Object\r\n\t\t//\t\thash with optional \"l\", \"t\", \"w\", and \"h\" properties for \"left\", \"right\", \"width\", and \"height\"\r\n\t\t//\t\trespectively. All specified properties should have numeric values in whole pixels.\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar s = computedStyle || style.getComputedStyle(node), w = box.w, h = box.h,\r\n\t\t// Some elements have special padding, margin, and box-model settings.\r\n\t\t// To use box functions you may need to set padding, margin explicitly.\r\n\t\t// Controlling box-model is harder, in a pinch you might set dojo/dom-geometry.boxModel.\r\n\t\t\tpb = usesBorderBox(node) ? nilExtents : geom.getPadBorderExtents(node, s),\r\n\t\t\tmb = geom.getMarginExtents(node, s);\r\n\t\tif(has(\"webkit\")){\r\n\t\t\t// on Safari (3.1.2), button nodes with no explicit size have a default margin\r\n\t\t\t// setting an explicit size eliminates the margin.\r\n\t\t\t// We have to swizzle the width to get correct margin reading.\r\n\t\t\tif(isButtonTag(node)){\r\n\t\t\t\tvar ns = node.style;\r\n\t\t\t\tif(w >= 0 && !ns.width){\r\n\t\t\t\t\tns.width = \"4px\";\r\n\t\t\t\t}\r\n\t\t\t\tif(h >= 0 && !ns.height){\r\n\t\t\t\t\tns.height = \"4px\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(w >= 0){\r\n\t\t\tw = Math.max(w - pb.w - mb.w, 0);\r\n\t\t}\r\n\t\tif(h >= 0){\r\n\t\t\th = Math.max(h - pb.h - mb.h, 0);\r\n\t\t}\r\n\t\tsetBox(node, box.l, box.t, w, h);\r\n\t};\r\n\r\n\t// =============================\r\n\t// Positioning\r\n\t// =============================\r\n\r\n\tgeom.isBodyLtr = function isBodyLtr(/*Document?*/ doc){\r\n\t\t// summary:\r\n\t\t//\t\tReturns true if the current language is left-to-right, and false otherwise.\r\n\t\t// doc: Document?\r\n\t\t//\t\tOptional document to query.   If unspecified, use win.doc.\r\n\t\t// returns: Boolean\r\n\r\n\t\tdoc = doc || win.doc;\r\n\t\treturn (win.body(doc).dir || doc.documentElement.dir || \"ltr\").toLowerCase() == \"ltr\"; // Boolean\r\n\t};\r\n\r\n\tgeom.docScroll = function docScroll(/*Document?*/ doc){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an object with {node, x, y} with corresponding offsets.\r\n\t\t// doc: Document?\r\n\t\t//\t\tOptional document to query.   If unspecified, use win.doc.\r\n\t\t// returns: Object\r\n\r\n\t\tdoc = doc || win.doc;\r\n\t\tvar node = win.doc.parentWindow || win.doc.defaultView;   // use UI window, not dojo.global window.   TODO: use dojo/window::get() except for circular dependency problem\r\n\t\treturn \"pageXOffset\" in node ? {x: node.pageXOffset, y: node.pageYOffset } :\r\n\t\t\t(node = has(\"quirks\") ? win.body(doc) : doc.documentElement) &&\r\n\t\t\t\t{x: geom.fixIeBiDiScrollLeft(node.scrollLeft || 0, doc), y: node.scrollTop || 0 };\r\n\t};\r\n\r\n\tif(has(\"ie\")){\r\n\t\tgeom.getIeDocumentElementOffset = function getIeDocumentElementOffset(/*Document?*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the offset in x and y from the document body to the\r\n\t\t\t//\t\tvisual edge of the page for IE\r\n\t\t\t// doc: Document?\r\n\t\t\t//\t\tOptional document to query.   If unspecified, use win.doc.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe following values in IE contain an offset:\r\n\t\t\t//\t|\t\tevent.clientX\r\n\t\t\t//\t|\t\tevent.clientY\r\n\t\t\t//\t|\t\tnode.getBoundingClientRect().left\r\n\t\t\t//\t|\t\tnode.getBoundingClientRect().top\r\n\t\t\t//\t\tBut other position related values do not contain this offset,\r\n\t\t\t//\t\tsuch as node.offsetLeft, node.offsetTop, node.style.left and\r\n\t\t\t//\t\tnode.style.top. The offset is always (2, 2) in LTR direction.\r\n\t\t\t//\t\tWhen the body is in RTL direction, the offset counts the width\r\n\t\t\t//\t\tof left scroll bar's width.  This function computes the actual\r\n\t\t\t//\t\toffset.\r\n\r\n\t\t\t//NOTE: assumes we're being called in an IE browser\r\n\r\n\t\t\tdoc = doc || win.doc;\r\n\t\t\tvar de = doc.documentElement; // only deal with HTML element here, position() handles body/quirks\r\n\r\n\t\t\tif(has(\"ie\") < 8){\r\n\t\t\t\tvar r = de.getBoundingClientRect(), // works well for IE6+\r\n\t\t\t\t\tl = r.left, t = r.top;\r\n\t\t\t\tif(has(\"ie\") < 7){\r\n\t\t\t\t\tl += de.clientLeft;\t// scrollbar size in strict/RTL, or,\r\n\t\t\t\t\tt += de.clientTop;\t// HTML border size in strict\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: l < 0 ? 0 : l, // FRAME element border size can lead to inaccurate negative values\r\n\t\t\t\t\ty: t < 0 ? 0 : t\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tgeom.fixIeBiDiScrollLeft = function fixIeBiDiScrollLeft(/*Integer*/ scrollLeft, /*Document?*/ doc){\r\n\t\t// summary:\r\n\t\t//\t\tIn RTL direction, scrollLeft should be a negative value, but IE\r\n\t\t//\t\treturns a positive one. All codes using documentElement.scrollLeft\r\n\t\t//\t\tmust call this function to fix this error, otherwise the position\r\n\t\t//\t\twill offset to right when there is a horizontal scrollbar.\r\n\t\t// scrollLeft: Number\r\n\t\t// doc: Document?\r\n\t\t//\t\tOptional document to query.   If unspecified, use win.doc.\r\n\t\t// returns: Number\r\n\r\n\t\t// In RTL direction, scrollLeft should be a negative value, but IE\r\n\t\t// returns a positive one. All codes using documentElement.scrollLeft\r\n\t\t// must call this function to fix this error, otherwise the position\r\n\t\t// will offset to right when there is a horizontal scrollbar.\r\n\r\n\t\tdoc = doc || win.doc;\r\n\t\tvar ie = has(\"ie\");\r\n\t\tif(ie && !geom.isBodyLtr(doc)){\r\n\t\t\tvar qk = has(\"quirks\"),\r\n\t\t\t\tde = qk ? win.body(doc) : doc.documentElement,\r\n\t\t\t\tpwin = win.global;\t// TODO: use winUtils.get(doc) after resolving circular dependency b/w dom-geometry.js and dojo/window.js\r\n\t\t\tif(ie == 6 && !qk && pwin.frameElement && de.scrollHeight > de.clientHeight){\r\n\t\t\t\tscrollLeft += de.clientLeft; // workaround ie6+strict+rtl+iframe+vertical-scrollbar bug where clientWidth is too small by clientLeft pixels\r\n\t\t\t}\r\n\t\t\treturn (ie < 8 || qk) ? (scrollLeft + de.clientWidth - de.scrollWidth) : -scrollLeft; // Integer\r\n\t\t}\r\n\t\treturn scrollLeft; // Integer\r\n\t};\r\n\r\n\tgeom.position = function(/*DomNode*/ node, /*Boolean?*/ includeScroll){\r\n\t\t// summary:\r\n\t\t//\t\tGets the position and size of the passed element relative to\r\n\t\t//\t\tthe viewport (if includeScroll==false), or relative to the\r\n\t\t//\t\tdocument root (if includeScroll==true).\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tReturns an object of the form:\r\n\t\t//\t\t`{ x: 100, y: 300, w: 20, h: 15 }`.\r\n\t\t//\t\tIf includeScroll==true, the x and y values will include any\r\n\t\t//\t\tdocument offsets that may affect the position relative to the\r\n\t\t//\t\tviewport.\r\n\t\t//\t\tUses the border-box model (inclusive of border and padding but\r\n\t\t//\t\tnot margin).  Does not act as a setter.\r\n\t\t// node: DOMNode|String\r\n\t\t// includeScroll: Boolean?\r\n\t\t// returns: Object\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar\tdb = win.body(node.ownerDocument),\r\n\t\t\tret = node.getBoundingClientRect();\r\n\t\tret = {x: ret.left, y: ret.top, w: ret.right - ret.left, h: ret.bottom - ret.top};\r\n\r\n\t\tif(has(\"ie\") < 9){\r\n\t\t\t// On IE<9 there's a 2px offset that we need to adjust for, see dojo.getIeDocumentElementOffset()\r\n\t\t\tvar offset = geom.getIeDocumentElementOffset(node.ownerDocument);\r\n\r\n\t\t\t// fixes the position in IE, quirks mode\r\n\t\t\tret.x -= offset.x + (has(\"quirks\") ? db.clientLeft + db.offsetLeft : 0);\r\n\t\t\tret.y -= offset.y + (has(\"quirks\") ? db.clientTop + db.offsetTop : 0);\r\n\t\t}\r\n\r\n\t\t// account for document scrolling\r\n\t\t// if offsetParent is used, ret value already includes scroll position\r\n\t\t// so we may have to actually remove that value if !includeScroll\r\n\t\tif(includeScroll){\r\n\t\t\tvar scroll = geom.docScroll(node.ownerDocument);\r\n\t\t\tret.x += scroll.x;\r\n\t\t\tret.y += scroll.y;\r\n\t\t}\r\n\r\n\t\treturn ret; // Object\r\n\t};\r\n\r\n\t// random \"private\" functions wildly used throughout the toolkit\r\n\r\n\tgeom.getMarginSize = function getMarginSize(/*DomNode*/ node, /*Object*/ computedStyle){\r\n\t\t// summary:\r\n\t\t//\t\treturns an object that encodes the width and height of\r\n\t\t//\t\tthe node's margin box\r\n\t\t// node: DOMNode|String\r\n\t\t// computedStyle: Object?\r\n\t\t//\t\tThis parameter accepts computed styles object.\r\n\t\t//\t\tIf this parameter is omitted, the functions will call\r\n\t\t//\t\tdojo/dom-style.getComputedStyle to get one. It is a better way, calling\r\n\t\t//\t\tdojo/dom-style.getComputedStyle once, and then pass the reference to this\r\n\t\t//\t\tcomputedStyle parameter. Wherever possible, reuse the returned\r\n\t\t//\t\tobject of dojo/dom-style.getComputedStyle().\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar me = geom.getMarginExtents(node, computedStyle || style.getComputedStyle(node));\r\n\t\tvar size = node.getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\tw: (size.right - size.left) + me.w,\r\n\t\t\th: (size.bottom - size.top) + me.h\r\n\t\t};\r\n\t};\r\n\r\n\tgeom.normalizeEvent = function(event){\r\n\t\t// summary:\r\n\t\t//\t\tNormalizes the geometry of a DOM event, normalizing the pageX, pageY,\r\n\t\t//\t\toffsetX, offsetY, layerX, and layerX properties\r\n\t\t// event: Object\r\n\t\tif(!(\"layerX\" in event)){\r\n\t\t\tevent.layerX = event.offsetX;\r\n\t\t\tevent.layerY = event.offsetY;\r\n\t\t}\r\n\t\tif(!has(\"dom-addeventlistener\")){\r\n\t\t\t// old IE version\r\n\t\t\t// FIXME: scroll position query is duped from dojo/_base/html to\r\n\t\t\t// avoid dependency on that entire module. Now that HTML is in\r\n\t\t\t// Base, we should convert back to something similar there.\r\n\t\t\tvar se = event.target;\r\n\t\t\tvar doc = (se && se.ownerDocument) || document;\r\n\t\t\t// DO NOT replace the following to use dojo/_base/window.body(), in IE, document.documentElement should be used\r\n\t\t\t// here rather than document.body\r\n\t\t\tvar docBody = has(\"quirks\") ? doc.body : doc.documentElement;\r\n\t\t\tvar offset = geom.getIeDocumentElementOffset(doc);\r\n\t\t\tevent.pageX = event.clientX + geom.fixIeBiDiScrollLeft(docBody.scrollLeft || 0, doc) - offset.x;\r\n\t\t\tevent.pageY = event.clientY + (docBody.scrollTop || 0) - offset.y;\r\n\t\t}\r\n\t};\r\n\r\n\t// TODO: evaluate separate getters/setters for position and sizes?\r\n\r\n\treturn geom;\r\n});\r\n\ndefine('dojo/_base/event',[\"./kernel\", \"../on\", \"../has\", \"../dom-geometry\"], function(dojo, on, has, dom){\r\n\t// module:\r\n\t//\t\tdojo/_base/event\r\n\r\n\tif(on._fixEvent){\r\n\t\tvar fixEvent = on._fixEvent;\r\n\t\ton._fixEvent = function(evt, se){\r\n\t\t\t// add some additional normalization for back-compat, this isn't in on.js because it is somewhat more expensive\r\n\t\t\tevt = fixEvent(evt, se);\r\n\t\t\tif(evt){\r\n\t\t\t\tdom.normalizeEvent(evt);\r\n\t\t\t}\r\n\t\t\treturn evt;\r\n\t\t};\t\t\r\n\t}\r\n\t\r\n\tvar ret = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines dojo DOM event API.   Usually you should use dojo/on, and evt.stopPropagation() +\r\n\t\t//\t\tevt.preventDefault(), rather than this module.\r\n\r\n\t\tfix: function(/*Event*/ evt, /*DOMNode*/ sender){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tnormalizes properties on the event object including event\r\n\t\t\t//\t\tbubbling methods, keystroke normalization, and x/y positions\r\n\t\t\t// evt: Event\r\n\t\t\t//\t\tnative event object\r\n\t\t\t// sender: DOMNode\r\n\t\t\t//\t\tnode to treat as \"currentTarget\"\r\n\t\t\tif(on._fixEvent){\r\n\t\t\t\treturn on._fixEvent(evt, sender);\r\n\t\t\t}\r\n\t\t\treturn evt;\t// Event\r\n\t\t},\r\n\t\r\n\t\tstop: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tprevents propagation and clobbers the default action of the\r\n\t\t\t//\t\tpassed event\r\n\t\t\t// evt: Event\r\n\t\t\t//\t\tThe event object. If omitted, window.event is used on IE.\r\n\t\t\tif(has(\"dom-addeventlistener\") || (evt && evt.preventDefault)){\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t}else{\r\n\t\t\t\tevt = evt || window.event;\r\n\t\t\t\tevt.cancelBubble = true;\r\n\t\t\t\ton._preventDefault.call(evt);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tif(has(\"extend-dojo\")){\r\n\t\tdojo.fixEvent = ret.fix;\r\n\t\tdojo.stopEvent = ret.stop;\r\n\t}\r\n\r\n\treturn ret;\r\n});\r\n\ndefine('dojo/mouse',[\"./_base/kernel\", \"./on\", \"./has\", \"./dom\", \"./_base/window\"], function(dojo, on, has, dom, win){\r\n\r\n\t// module:\r\n\t//\t\tdojo/mouse\r\n\r\n    has.add(\"dom-quirks\", win.doc && win.doc.compatMode == \"BackCompat\");\r\n\thas.add(\"events-mouseenter\", win.doc && \"onmouseenter\" in win.doc.createElement(\"div\"));\r\n\thas.add(\"events-mousewheel\", win.doc && 'onmousewheel' in win.doc);\r\n\r\n\tvar mouseButtons;\r\n\tif((has(\"dom-quirks\") && has(\"ie\")) || !has(\"dom-addeventlistener\")){\r\n\t\tmouseButtons = {\r\n\t\t\tLEFT:   1,\r\n\t\t\tMIDDLE: 4,\r\n\t\t\tRIGHT:  2,\r\n\t\t\t// helper functions\r\n\t\t\tisButton: function(e, button){ return e.button & button; },\r\n\t\t\tisLeft:   function(e){ return e.button & 1; },\r\n\t\t\tisMiddle: function(e){ return e.button & 4; },\r\n\t\t\tisRight:  function(e){ return e.button & 2; }\r\n\t\t};\r\n\t}else{\r\n\t\tmouseButtons = {\r\n\t\t\tLEFT:   0,\r\n\t\t\tMIDDLE: 1,\r\n\t\t\tRIGHT:  2,\r\n\t\t\t// helper functions\r\n\t\t\tisButton: function(e, button){ return e.button == button; },\r\n\t\t\tisLeft:   function(e){ return e.button == 0; },\r\n\t\t\tisMiddle: function(e){ return e.button == 1; },\r\n\t\t\tisRight:  function(e){ return e.button == 2; }\r\n\t\t};\r\n\t}\r\n\tdojo.mouseButtons = mouseButtons;\r\n\r\n/*=====\r\n\tdojo.mouseButtons = {\r\n\t\t// LEFT: Number\r\n\t\t//\t\tNumeric value of the left mouse button for the platform.\r\n\t\tLEFT:   0,\r\n\t\t// MIDDLE: Number\r\n\t\t//\t\tNumeric value of the middle mouse button for the platform.\r\n\t\tMIDDLE: 1,\r\n\t\t// RIGHT: Number\r\n\t\t//\t\tNumeric value of the right mouse button for the platform.\r\n\t\tRIGHT:  2,\r\n\r\n\t\tisButton: function(e, button){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for a pressed button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\t// button: Number\r\n\t\t\t//\t\tThe button value (example: dojo.mouseButton.LEFT)\r\n\t\t\treturn e.button == button; // Boolean\r\n\t\t},\r\n\t\tisLeft: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed left button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 0; // Boolean\r\n\t\t},\r\n\t\tisMiddle: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed middle button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 1; // Boolean\r\n\t\t},\r\n\t\tisRight: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks an event object for the pressed right button\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tEvent object to examine\r\n\t\t\treturn e.button == 2; // Boolean\r\n\t\t}\r\n\t};\r\n=====*/\r\n\r\n\tfunction eventHandler(type, selectHandler){\r\n\t\t// emulation of mouseenter/leave with mouseover/out using descendant checking\r\n\t\tvar handler = function(node, listener){\r\n\t\t\treturn on(node, type, function(evt){\r\n\t\t\t\tif(selectHandler){\r\n\t\t\t\t\treturn selectHandler(evt, listener);\r\n\t\t\t\t}\r\n\t\t\t\tif(!dom.isDescendant(evt.relatedTarget, node)){\r\n\t\t\t\t\treturn listener.call(this, evt);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\thandler.bubble = function(select){\r\n\t\t\treturn eventHandler(type, function(evt, listener){\r\n\t\t\t\t// using a selector, use the select function to determine if the mouse moved inside the selector and was previously outside the selector\r\n\t\t\t\tvar target = select(evt.target);\r\n\t\t\t\tvar relatedTarget = evt.relatedTarget;\r\n\t\t\t\tif(target && (target != (relatedTarget && relatedTarget.nodeType == 1 && select(relatedTarget)))){\r\n\t\t\t\t\treturn listener.call(target, evt);\r\n\t\t\t\t} \r\n\t\t\t});\r\n\t\t};\r\n\t\treturn handler;\r\n\t}\r\n\tvar wheel;\r\n\tif(has(\"events-mousewheel\")){\r\n\t\twheel = 'mousewheel';\r\n\t}else{ //firefox\r\n\t\twheel = function(node, listener){\r\n\t\t\treturn on(node, 'DOMMouseScroll', function(evt){\r\n\t\t\t\tevt.wheelDelta = -evt.detail;\r\n\t\t\t\tlistener.call(this, evt);\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tThis module provide mouse event handling utility functions and exports\r\n\t\t//\t\tmouseenter and mouseleave event emulation.\r\n\t\t// example:\r\n\t\t//\t\tTo use these events, you register a mouseenter like this:\r\n\t\t//\t\t|\tdefine([\"dojo/on\", \"dojo/mouse\"], function(on, mouse){\r\n\t\t//\t\t|\t\ton(targetNode, mouse.enter, function(event){\r\n\t\t//\t\t|\t\t\tdojo.addClass(targetNode, \"highlighted\");\r\n\t\t//\t\t|\t\t});\r\n\t\t//\t\t|\t\ton(targetNode, mouse.leave, function(event){\r\n\t\t//\t\t|\t\t\tdojo.removeClass(targetNode, \"highlighted\");\r\n\t\t//\t\t|\t\t});\r\n\r\n\t\t_eventHandler: eventHandler,\t\t// for dojo/touch\r\n\r\n\t\t// enter: Synthetic Event\r\n\t\t//\t\tThis is an extension event for the mouseenter that IE provides, emulating the\r\n\t\t//\t\tbehavior on other browsers.\r\n\t\tenter: eventHandler(\"mouseover\"),\r\n\r\n\t\t// leave: Synthetic Event\r\n\t\t//\t\tThis is an extension event for the mouseleave that IE provides, emulating the\r\n\t\t//\t\tbehavior on other browsers.\r\n\t\tleave: eventHandler(\"mouseout\"),\r\n\r\n\t\t// wheel: Normalized Mouse Wheel Event\r\n\t\t//\t\tThis is an extension event for the mousewheel that non-Mozilla browsers provide,\r\n\t\t//\t\temulating the behavior on Mozilla based browsers.\r\n\t\twheel: wheel,\r\n\r\n\t\tisLeft: mouseButtons.isLeft,\r\n\t\t/*=====\r\n\t\tisLeft: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTest an event object (from a mousedown event) to see if the left button was pressed.\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tisMiddle: mouseButtons.isMiddle,\r\n\t\t/*=====\r\n\t\t isMiddle: function(){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTest an event object (from a mousedown event) to see if the middle button was pressed.\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\tisRight: mouseButtons.isRight\r\n\t\t/*=====\r\n\t\t , isRight: function(){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTest an event object (from a mousedown event) to see if the right button was pressed.\r\n\t\t }\r\n\t\t =====*/\r\n\t};\r\n});\r\n\ndefine('dojo/_base/sniff',[\"./kernel\", \"./lang\", \"../sniff\"], function(dojo, lang, has){\r\n\t// module:\r\n\t//\t\tdojo/_base/sniff\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.   New code should use dojo/sniff.\r\n\t\t//\t\tThis module populates the dojo browser version sniffing properties like dojo.isIE.\r\n\t};\r\n\t=====*/\r\n\r\n\tif(!has(\"host-browser\")){\r\n\t\treturn has;\r\n\t}\r\n\r\n\t// no idea what this is for, or if it's used\r\n\tdojo._name = \"browser\";\r\n\r\n\tlang.mixin(dojo, {\r\n\t\t// isBrowser: Boolean\r\n\t\t//\t\tTrue if the client is a web-browser\r\n\t\tisBrowser: true,\r\n\r\n\t\t// isFF: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is FireFox. undefined otherwise. Corresponds to\r\n\t\t//\t\tmajor detected FireFox version (1.5, 2, 3, etc.)\r\n\t\tisFF: has(\"ff\"),\r\n\r\n\t\t// isIE: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is MSIE(PC). undefined otherwise. Corresponds to\r\n\t\t//\t\tmajor detected IE version (6, 7, 8, etc.)\r\n\t\tisIE: has(\"ie\"),\r\n\r\n\t\t// isKhtml: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is a KHTML browser. undefined otherwise. Corresponds to major\r\n\t\t//\t\tdetected version.\r\n\t\tisKhtml: has(\"khtml\"),\r\n\r\n\t\t// isWebKit: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is a WebKit-derived browser (Konqueror,\r\n\t\t//\t\tSafari, Chrome, etc.). undefined otherwise.\r\n\t\tisWebKit: has(\"webkit\"),\r\n\r\n\t\t// isMozilla: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is a Mozilla-based browser (Firefox,\r\n\t\t//\t\tSeaMonkey). undefined otherwise. Corresponds to major detected version.\r\n\t\tisMozilla: has(\"mozilla\"),\r\n\t\t// isMoz: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is a Mozilla-based browser (Firefox,\r\n\t\t//\t\tSeaMonkey). undefined otherwise. Corresponds to major detected version.\r\n\t\tisMoz: has(\"mozilla\"),\r\n\r\n\t\t// isOpera: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is Opera. undefined otherwise. Corresponds to\r\n\t\t//\t\tmajor detected version.\r\n\t\tisOpera: has(\"opera\"),\r\n\r\n\t\t// isSafari: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is Safari or iPhone. undefined otherwise.\r\n\t\tisSafari: has(\"safari\"),\r\n\r\n\t\t// isChrome: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is Chrome browser. undefined otherwise.\r\n\t\tisChrome: has(\"chrome\"),\r\n\r\n\t\t// isMac: Boolean\r\n\t\t//\t\tTrue if the client runs on Mac\r\n\t\tisMac: has(\"mac\"),\r\n\r\n\t\t// isIos: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is iPhone, iPod, or iPad. undefined otherwise.\r\n\t\tisIos: has(\"ios\"),\r\n\r\n\t\t// isAndroid: Number|undefined\r\n\t\t//\t\tVersion as a Number if client is android browser. undefined otherwise.\r\n\t\tisAndroid: has(\"android\"),\r\n\r\n\t\t// isWii: Boolean\r\n\t\t//\t\tTrue if client is Wii\r\n\t\tisWii: has(\"wii\"),\r\n\r\n\t\t// isQuirks: Boolean\r\n\t\t//\t\tPage is in quirks mode.\r\n\t\tisQuirks: has(\"quirks\"),\r\n\r\n\t\t// isAir: Boolean\r\n\t\t//\t\tTrue if client is Adobe Air\r\n\t\tisAir: has(\"air\")\r\n\t});\r\n\r\n\treturn has;\r\n});\r\n\ndefine('dojo/keys',[\"./_base/kernel\", \"./sniff\"], function(dojo, has){\r\n\r\n\t// module:\r\n\t//\t\tdojo/keys\r\n\r\n\treturn dojo.keys = {\r\n\t\t// summary:\r\n\t\t//\t\tDefinitions for common key values.  Client code should test keyCode against these named constants,\r\n\t\t//\t\tas the actual codes can vary by browser.\r\n\r\n\t\tBACKSPACE: 8,\r\n\t\tTAB: 9,\r\n\t\tCLEAR: 12,\r\n\t\tENTER: 13,\r\n\t\tSHIFT: 16,\r\n\t\tCTRL: 17,\r\n\t\tALT: 18,\r\n\t\tMETA: has(\"webkit\") ? 91 : 224,\t\t// the apple key on macs\r\n\t\tPAUSE: 19,\r\n\t\tCAPS_LOCK: 20,\r\n\t\tESCAPE: 27,\r\n\t\tSPACE: 32,\r\n\t\tPAGE_UP: 33,\r\n\t\tPAGE_DOWN: 34,\r\n\t\tEND: 35,\r\n\t\tHOME: 36,\r\n\t\tLEFT_ARROW: 37,\r\n\t\tUP_ARROW: 38,\r\n\t\tRIGHT_ARROW: 39,\r\n\t\tDOWN_ARROW: 40,\r\n\t\tINSERT: 45,\r\n\t\tDELETE: 46,\r\n\t\tHELP: 47,\r\n\t\tLEFT_WINDOW: 91,\r\n\t\tRIGHT_WINDOW: 92,\r\n\t\tSELECT: 93,\r\n\t\tNUMPAD_0: 96,\r\n\t\tNUMPAD_1: 97,\r\n\t\tNUMPAD_2: 98,\r\n\t\tNUMPAD_3: 99,\r\n\t\tNUMPAD_4: 100,\r\n\t\tNUMPAD_5: 101,\r\n\t\tNUMPAD_6: 102,\r\n\t\tNUMPAD_7: 103,\r\n\t\tNUMPAD_8: 104,\r\n\t\tNUMPAD_9: 105,\r\n\t\tNUMPAD_MULTIPLY: 106,\r\n\t\tNUMPAD_PLUS: 107,\r\n\t\tNUMPAD_ENTER: 108,\r\n\t\tNUMPAD_MINUS: 109,\r\n\t\tNUMPAD_PERIOD: 110,\r\n\t\tNUMPAD_DIVIDE: 111,\r\n\t\tF1: 112,\r\n\t\tF2: 113,\r\n\t\tF3: 114,\r\n\t\tF4: 115,\r\n\t\tF5: 116,\r\n\t\tF6: 117,\r\n\t\tF7: 118,\r\n\t\tF8: 119,\r\n\t\tF9: 120,\r\n\t\tF10: 121,\r\n\t\tF11: 122,\r\n\t\tF12: 123,\r\n\t\tF13: 124,\r\n\t\tF14: 125,\r\n\t\tF15: 126,\r\n\t\tNUM_LOCK: 144,\r\n\t\tSCROLL_LOCK: 145,\r\n\t\tUP_DPAD: 175,\r\n\t\tDOWN_DPAD: 176,\r\n\t\tLEFT_DPAD: 177,\r\n\t\tRIGHT_DPAD: 178,\r\n\t\t// virtual key mapping\r\n\t\tcopyKey: has(\"mac\") && !has(\"air\") ? (has(\"safari\") ? 91 : 224 ) : 17\r\n\t};\r\n});\r\n\ndefine('dojo/_base/connect',[\"./kernel\", \"../on\", \"../topic\", \"../aspect\", \"./event\", \"../mouse\", \"./sniff\", \"./lang\", \"../keys\"], function(dojo, on, hub, aspect, eventModule, mouse, has, lang){\r\n// module:\r\n//\t\tdojo/_base/connect\r\n\r\nhas.add(\"events-keypress-typed\", function(){ // keypresses should only occur a printable character is hit\r\n\tvar testKeyEvent = {charCode: 0};\r\n\ttry{\r\n\t\ttestKeyEvent = document.createEvent(\"KeyboardEvent\");\r\n\t\t(testKeyEvent.initKeyboardEvent || testKeyEvent.initKeyEvent).call(testKeyEvent, \"keypress\", true, true, null, false, false, false, false, 9, 3);\r\n\t}catch(e){}\r\n\treturn testKeyEvent.charCode == 0 && !has(\"opera\");\r\n});\r\n\r\nfunction connect_(obj, event, context, method, dontFix){\r\n\tmethod = lang.hitch(context, method);\r\n\tif(!obj || !(obj.addEventListener || obj.attachEvent)){\r\n\t\t// it is a not a DOM node and we are using the dojo.connect style of treating a\r\n\t\t// method like an event, must go right to aspect\r\n\t\treturn aspect.after(obj || dojo.global, event, method, true);\r\n\t}\r\n\tif(typeof event == \"string\" && event.substring(0, 2) == \"on\"){\r\n\t\tevent = event.substring(2);\r\n\t}\r\n\tif(!obj){\r\n\t\tobj = dojo.global;\r\n\t}\r\n\tif(!dontFix){\r\n\t\tswitch(event){\r\n\t\t\t// dojo.connect has special handling for these event types\r\n\t\t\tcase \"keypress\":\r\n\t\t\t\tevent = keypress;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mouseenter\":\r\n\t\t\t\tevent = mouse.enter;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mouseleave\":\r\n\t\t\t\tevent = mouse.leave;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn on(obj, event, method, dontFix);\r\n}\r\n\r\nvar _punctMap = {\r\n\t106:42,\r\n\t111:47,\r\n\t186:59,\r\n\t187:43,\r\n\t188:44,\r\n\t189:45,\r\n\t190:46,\r\n\t191:47,\r\n\t192:96,\r\n\t219:91,\r\n\t220:92,\r\n\t221:93,\r\n\t222:39,\r\n\t229:113\r\n};\r\nvar evtCopyKey = has(\"mac\") ? \"metaKey\" : \"ctrlKey\";\r\n\r\n\r\nvar _synthesizeEvent = function(evt, props){\r\n\tvar faux = lang.mixin({}, evt, props);\r\n\tsetKeyChar(faux);\r\n\t// FIXME: would prefer to use lang.hitch: lang.hitch(evt, evt.preventDefault);\r\n\t// but it throws an error when preventDefault is invoked on Safari\r\n\t// does Event.preventDefault not support \"apply\" on Safari?\r\n\tfaux.preventDefault = function(){ evt.preventDefault(); };\r\n\tfaux.stopPropagation = function(){ evt.stopPropagation(); };\r\n\treturn faux;\r\n};\r\nfunction setKeyChar(evt){\r\n\tevt.keyChar = evt.charCode ? String.fromCharCode(evt.charCode) : '';\r\n\tevt.charOrCode = evt.keyChar || evt.keyCode;\r\n}\r\nvar keypress;\r\nif(has(\"events-keypress-typed\")){\r\n\t// this emulates Firefox's keypress behavior where every keydown can correspond to a keypress\r\n\tvar _trySetKeyCode = function(e, code){\r\n\t\ttry{\r\n\t\t\t// squelch errors when keyCode is read-only\r\n\t\t\t// (e.g. if keyCode is ctrl or shift)\r\n\t\t\treturn (e.keyCode = code);\r\n\t\t}catch(e){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t};\r\n\tkeypress = function(object, listener){\r\n\t\tvar keydownSignal = on(object, \"keydown\", function(evt){\r\n\t\t\t// munge key/charCode\r\n\t\t\tvar k=evt.keyCode;\r\n\t\t\t// These are Windows Virtual Key Codes\r\n\t\t\t// http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/WinUI/WindowsUserInterface/UserInput/VirtualKeyCodes.asp\r\n\t\t\tvar unprintable = (k!=13) && k!=32 && (k!=27||!has(\"ie\")) && (k<48||k>90) && (k<96||k>111) && (k<186||k>192) && (k<219||k>222) && k!=229;\r\n\t\t\t// synthesize keypress for most unprintables and CTRL-keys\r\n\t\t\tif(unprintable||evt.ctrlKey){\r\n\t\t\t\tvar c = unprintable ? 0 : k;\r\n\t\t\t\tif(evt.ctrlKey){\r\n\t\t\t\t\tif(k==3 || k==13){\r\n\t\t\t\t\t\treturn listener.call(evt.currentTarget, evt); // IE will post CTRL-BREAK, CTRL-ENTER as keypress natively\r\n\t\t\t\t\t}else if(c>95 && c<106){\r\n\t\t\t\t\t\tc -= 48; // map CTRL-[numpad 0-9] to ASCII\r\n\t\t\t\t\t}else if((!evt.shiftKey)&&(c>=65&&c<=90)){\r\n\t\t\t\t\t\tc += 32; // map CTRL-[A-Z] to lowercase\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tc = _punctMap[c] || c; // map other problematic CTRL combinations to ASCII\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// simulate a keypress event\r\n\t\t\t\tvar faux = _synthesizeEvent(evt, {type: 'keypress', faux: true, charCode: c});\r\n\t\t\t\tlistener.call(evt.currentTarget, faux);\r\n\t\t\t\tif(has(\"ie\")){\r\n\t\t\t\t\t_trySetKeyCode(evt, faux.keyCode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar keypressSignal = on(object, \"keypress\", function(evt){\r\n\t\t\tvar c = evt.charCode;\r\n\t\t\tc = c>=32 ? c : 0;\r\n\t\t\tevt = _synthesizeEvent(evt, {charCode: c, faux: true});\r\n\t\t\treturn listener.call(this, evt);\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tremove: function(){\r\n\t\t\t\tkeydownSignal.remove();\r\n\t\t\t\tkeypressSignal.remove();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n}else{\r\n\tif(has(\"opera\")){\r\n\t\tkeypress = function(object, listener){\r\n\t\t\treturn on(object, \"keypress\", function(evt){\r\n\t\t\t\tvar c = evt.which;\r\n\t\t\t\tif(c==3){\r\n\t\t\t\t\tc=99; // Mozilla maps CTRL-BREAK to CTRL-c\r\n\t\t\t\t}\r\n\t\t\t\t// can't trap some keys at all, like INSERT and DELETE\r\n\t\t\t\t// there is no differentiating info between DELETE and \".\", or INSERT and \"-\"\r\n\t\t\t\tc = c<32 && !evt.shiftKey ? 0 : c;\r\n\t\t\t\tif(evt.ctrlKey && !evt.shiftKey && c>=65 && c<=90){\r\n\t\t\t\t\t// lowercase CTRL-[A-Z] keys\r\n\t\t\t\t\tc += 32;\r\n\t\t\t\t}\r\n\t\t\t\treturn listener.call(this, _synthesizeEvent(evt, { charCode: c }));\r\n\t\t\t});\r\n\t\t};\r\n\t}else{\r\n\t\tkeypress = function(object, listener){\r\n\t\t\treturn on(object, \"keypress\", function(evt){\r\n\t\t\t\tsetKeyChar(evt);\r\n\t\t\t\treturn listener.call(this, evt);\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n}\r\n\r\nvar connect = {\r\n\t// summary:\r\n\t//\t\tThis module defines the dojo.connect API.\r\n\t//\t\tThis modules also provides keyboard event handling helpers.\r\n\t//\t\tThis module exports an extension event for emulating Firefox's keypress handling.\r\n\t//\t\tHowever, this extension event exists primarily for backwards compatibility and\r\n\t//\t\tis not recommended. WebKit and IE uses an alternate keypress handling (only\r\n\t//\t\tfiring for printable characters, to distinguish from keydown events), and most\r\n\t//\t\tconsider the WebKit/IE behavior more desirable.\r\n\r\n\t_keypress:keypress,\r\n\r\n\tconnect:function(obj, event, context, method, dontFix){\r\n\t\t// summary:\r\n\t\t//\t\t`dojo.connect` is a deprecated event handling and delegation method in\r\n\t\t//\t\tDojo. It allows one function to \"listen in\" on the execution of\r\n\t\t//\t\tany other, triggering the second whenever the first is called. Many\r\n\t\t//\t\tlisteners may be attached to a function, and source functions may\r\n\t\t//\t\tbe either regular function calls or DOM events.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tConnects listeners to actions, so that after event fires, a\r\n\t\t//\t\tlistener is called with the same arguments passed to the original\r\n\t\t//\t\tfunction.\r\n\t\t//\r\n\t\t//\t\tSince `dojo.connect` allows the source of events to be either a\r\n\t\t//\t\t\"regular\" JavaScript function or a DOM event, it provides a uniform\r\n\t\t//\t\tinterface for listening to all the types of events that an\r\n\t\t//\t\tapplication is likely to deal with though a single, unified\r\n\t\t//\t\tinterface. DOM programmers may want to think of it as\r\n\t\t//\t\t\"addEventListener for everything and anything\".\r\n\t\t//\r\n\t\t//\t\tWhen setting up a connection, the `event` parameter must be a\r\n\t\t//\t\tstring that is the name of the method/event to be listened for. If\r\n\t\t//\t\t`obj` is null, `kernel.global` is assumed, meaning that connections\r\n\t\t//\t\tto global methods are supported but also that you may inadvertently\r\n\t\t//\t\tconnect to a global by passing an incorrect object name or invalid\r\n\t\t//\t\treference.\r\n\t\t//\r\n\t\t//\t\t`dojo.connect` generally is forgiving. If you pass the name of a\r\n\t\t//\t\tfunction or method that does not yet exist on `obj`, connect will\r\n\t\t//\t\tnot fail, but will instead set up a stub method. Similarly, null\r\n\t\t//\t\targuments may simply be omitted such that fewer than 4 arguments\r\n\t\t//\t\tmay be required to set up a connection See the examples for details.\r\n\t\t//\r\n\t\t//\t\tThe return value is a handle that is needed to\r\n\t\t//\t\tremove this connection with `dojo.disconnect`.\r\n\t\t//\r\n\t\t// obj: Object?\r\n\t\t//\t\tThe source object for the event function.\r\n\t\t//\t\tDefaults to `kernel.global` if null.\r\n\t\t//\t\tIf obj is a DOM node, the connection is delegated\r\n\t\t//\t\tto the DOM event manager (unless dontFix is true).\r\n\t\t//\r\n\t\t// event: String\r\n\t\t//\t\tString name of the event function in obj.\r\n\t\t//\t\tI.e. identifies a property `obj[event]`.\r\n\t\t//\r\n\t\t// context: Object|null\r\n\t\t//\t\tThe object that method will receive as \"this\".\r\n\t\t//\r\n\t\t//\t\tIf context is null and method is a function, then method\r\n\t\t//\t\tinherits the context of event.\r\n\t\t//\r\n\t\t//\t\tIf method is a string then context must be the source\r\n\t\t//\t\tobject object for method (context[method]). If context is null,\r\n\t\t//\t\tkernel.global is used.\r\n\t\t//\r\n\t\t// method: String|Function\r\n\t\t//\t\tA function reference, or name of a function in context.\r\n\t\t//\t\tThe function identified by method fires after event does.\r\n\t\t//\t\tmethod receives the same arguments as the event.\r\n\t\t//\t\tSee context argument comments for information on method's scope.\r\n\t\t//\r\n\t\t// dontFix: Boolean?\r\n\t\t//\t\tIf obj is a DOM node, set dontFix to true to prevent delegation\r\n\t\t//\t\tof this connection to the DOM event manager.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen obj.onchange(), do ui.update():\r\n\t\t//\t|\tdojo.connect(obj, \"onchange\", ui, \"update\");\r\n\t\t//\t|\tdojo.connect(obj, \"onchange\", ui, ui.update); // same\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tUsing return value for disconnect:\r\n\t\t//\t|\tvar link = dojo.connect(obj, \"onchange\", ui, \"update\");\r\n\t\t//\t|\t...\r\n\t\t//\t|\tdojo.disconnect(link);\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen onglobalevent executes, watcher.handler is invoked:\r\n\t\t//\t|\tdojo.connect(null, \"onglobalevent\", watcher, \"handler\");\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen ob.onCustomEvent executes, customEventHandler is invoked:\r\n\t\t//\t|\tdojo.connect(ob, \"onCustomEvent\", null, \"customEventHandler\");\r\n\t\t//\t|\tdojo.connect(ob, \"onCustomEvent\", \"customEventHandler\"); // same\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen ob.onCustomEvent executes, customEventHandler is invoked\r\n\t\t//\t\twith the same scope (this):\r\n\t\t//\t|\tdojo.connect(ob, \"onCustomEvent\", null, customEventHandler);\r\n\t\t//\t|\tdojo.connect(ob, \"onCustomEvent\", customEventHandler); // same\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWhen globalEvent executes, globalHandler is invoked\r\n\t\t//\t\twith the same scope (this):\r\n\t\t//\t|\tdojo.connect(null, \"globalEvent\", null, globalHandler);\r\n\t\t//\t|\tdojo.connect(\"globalEvent\", globalHandler); // same\r\n\r\n\t\t// normalize arguments\r\n\t\tvar a=arguments, args=[], i=0;\r\n\t\t// if a[0] is a String, obj was omitted\r\n\t\targs.push(typeof a[0] == \"string\" ? null : a[i++], a[i++]);\r\n\t\t// if the arg-after-next is a String or Function, context was NOT omitted\r\n\t\tvar a1 = a[i+1];\r\n\t\targs.push(typeof a1 == \"string\" || typeof a1 == \"function\" ? a[i++] : null, a[i++]);\r\n\t\t// absorb any additional arguments\r\n\t\tfor(var l=a.length; i<l; i++){\targs.push(a[i]); }\r\n\t\treturn connect_.apply(this, args);\r\n\t},\r\n\r\n\tdisconnect:function(handle){\r\n\t\t// summary:\r\n\t\t//\t\tRemove a link created by dojo.connect.\r\n\t\t// description:\r\n\t\t//\t\tRemoves the connection between event and the method referenced by handle.\r\n\t\t// handle: Handle\r\n\t\t//\t\tthe return value of the dojo.connect call that created the connection.\r\n\r\n\t\tif(handle){\r\n\t\t\thandle.remove();\r\n\t\t}\r\n\t},\r\n\r\n\tsubscribe:function(topic, context, method){\r\n\t\t// summary:\r\n\t\t//\t\tAttach a listener to a named topic. The listener function is invoked whenever the\r\n\t\t//\t\tnamed topic is published (see: dojo.publish).\r\n\t\t//\t\tReturns a handle which is needed to unsubscribe this listener.\r\n\t\t// topic: String\r\n\t\t//\t\tThe topic to which to subscribe.\r\n\t\t// context: Object?\r\n\t\t//\t\tScope in which method will be invoked, or null for default scope.\r\n\t\t// method: String|Function\r\n\t\t//\t\tThe name of a function in context, or a function reference. This is the function that\r\n\t\t//\t\tis invoked when topic is published.\r\n\t\t// example:\r\n\t\t//\t|\tdojo.subscribe(\"alerts\", null, function(caption, message){ alert(caption + \"\\n\" + message); });\r\n\t\t//\t|\tdojo.publish(\"alerts\", [ \"read this\", \"hello world\" ]);\r\n\t\treturn hub.subscribe(topic, lang.hitch(context, method));\r\n\t},\r\n\r\n\tpublish:function(topic, args){\r\n\t\t// summary:\r\n\t\t//\t\tInvoke all listener method subscribed to topic.\r\n\t\t// topic: String\r\n\t\t//\t\tThe name of the topic to publish.\r\n\t\t// args: Array?\r\n\t\t//\t\tAn array of arguments. The arguments will be applied\r\n\t\t//\t\tto each topic subscriber (as first class parameters, via apply).\r\n\t\t// example:\r\n\t\t//\t|\tdojo.subscribe(\"alerts\", null, function(caption, message){ alert(caption + \"\\n\" + message); };\r\n\t\t//\t|\tdojo.publish(\"alerts\", [ \"read this\", \"hello world\" ]);\r\n\t\treturn hub.publish.apply(hub, [topic].concat(args));\r\n\t},\r\n\r\n\tconnectPublisher:function(topic, obj, event){\r\n\t\t// summary:\r\n\t\t//\t\tEnsure that every time obj.event() is called, a message is published\r\n\t\t//\t\ton the topic. Returns a handle which can be passed to\r\n\t\t//\t\tdojo.disconnect() to disable subsequent automatic publication on\r\n\t\t//\t\tthe topic.\r\n\t\t// topic: String\r\n\t\t//\t\tThe name of the topic to publish.\r\n\t\t// obj: Object?\r\n\t\t//\t\tThe source object for the event function. Defaults to kernel.global\r\n\t\t//\t\tif null.\r\n\t\t// event: String\r\n\t\t//\t\tThe name of the event function in obj.\r\n\t\t//\t\tI.e. identifies a property obj[event].\r\n\t\t// example:\r\n\t\t//\t|\tdojo.connectPublisher(\"/ajax/start\", dojo, \"xhrGet\");\r\n\t\tvar pf = function(){ connect.publish(topic, arguments); };\r\n\t\treturn event ? connect.connect(obj, event, pf) : connect.connect(obj, pf); //Handle\r\n\t},\r\n\r\n\tisCopyKey: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tChecks an event for the copy key (meta on Mac, and ctrl anywhere else)\r\n\t\t// e: Event\r\n\t\t//\t\tEvent object to examine\r\n\t\treturn e[evtCopyKey];\t// Boolean\r\n\t}\r\n};\r\n\r\nconnect.unsubscribe = connect.disconnect;\r\n/*=====\r\n connect.unsubscribe = function(handle){\r\n\t // summary:\r\n\t //\t\tRemove a topic listener.\r\n\t // handle: Handle\r\n\t //\t\tThe handle returned from a call to subscribe.\r\n\t // example:\r\n\t //\t|\tvar alerter = dojo.subscribe(\"alerts\", null, function(caption, message){ alert(caption + \"\\n\" + message); };\r\n\t //\t|\t...\r\n\t //\t|\tdojo.unsubscribe(alerter);\r\n };\r\n =====*/\r\n\r\nhas(\"extend-dojo\") && lang.mixin(dojo, connect);\r\nreturn connect;\r\n\r\n});\r\n\r\n\r\n\ndefine('dojo/dom-prop',[\"exports\", \"./_base/kernel\", \"./sniff\", \"./_base/lang\", \"./dom\", \"./dom-style\", \"./dom-construct\", \"./_base/connect\"],\r\n\t\tfunction(exports, dojo, has, lang, dom, style, ctr, conn){\r\n\t// module:\r\n\t//\t\tdojo/dom-prop\r\n\t// summary:\r\n\t//\t\tThis module defines the core dojo DOM properties API.\r\n\r\n\t// TODOC: summary not showing up in output, see https://github.com/csnover/js-doc-parse/issues/42\r\n\r\n\t// =============================\r\n\t// Element properties Functions\r\n\t// =============================\r\n\r\n\t// helper to connect events\r\n\tvar _evtHdlrMap = {}, _ctr = 0, _attrId = dojo._scopeName + \"attrid\";\r\n\thas.add('dom-textContent', function (global, doc, element) { return 'textContent' in element; });\r\n\r\n\texports.names = {\r\n\t\t// properties renamed to avoid clashes with reserved words\r\n\t\t\"class\": \"className\",\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t// properties written as camelCase\r\n\t\ttabindex: \"tabIndex\",\r\n\t\treadonly: \"readOnly\",\r\n\t\tcolspan: \"colSpan\",\r\n\t\tframeborder: \"frameBorder\",\r\n\t\trowspan: \"rowSpan\",\r\n\t\ttextcontent: \"textContent\",\r\n\t\tvaluetype: \"valueType\"\r\n\t};\r\n\t\r\n\tfunction getText(/*DOMNode*/node){\r\n\t\t// summary:\r\n\t\t//\t\trecursion method for get('textContent') to use. Gets text value for a node.\r\n\t\t// description:\r\n\t\t//\t\tJuse uses nodedValue so things like <br/> tags do not end up in\r\n\t\t//\t\tthe text as any sort of line return.\r\n\t\tvar text = \"\", ch = node.childNodes;\r\n\t\tfor(var i = 0, n; n = ch[i]; i++){\r\n\t\t\t//Skip comments.\r\n\t\t\tif(n.nodeType != 8){\r\n\t\t\t\tif(n.nodeType == 1){\r\n\t\t\t\t\ttext += getText(n);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttext += n.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\texports.get = function getProp(/*DOMNode|String*/ node, /*String*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tGets a property on an HTML element.\r\n\t\t// description:\r\n\t\t//\t\tHandles normalized getting of properties on DOM nodes.\r\n\t\t//\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to get the property on\r\n\t\t// name: String\r\n\t\t//\t\tthe name of the property to get.\r\n\t\t// returns:\r\n\t\t//\t\tthe value of the requested property or its default value\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// get the current value of the \"foo\" property on a node\r\n\t\t//\t|\trequire([\"dojo/dom-prop\", \"dojo/dom\"], function(domProp, dom){\r\n\t\t//\t|\t\tdomProp.get(dom.byId(\"nodeId\"), \"foo\");\r\n\t\t//\t|\t\t// or we can just pass the id:\r\n\t\t//\t|\t\tdomProp.get(\"nodeId\", \"foo\");\r\n\t\t//\t|\t});\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar lc = name.toLowerCase(), propName = exports.names[lc] || name;\r\n\t\t\r\n\t\tif(propName == \"textContent\" && !has(\"dom-textContent\")){\r\n\t\t\treturn getText(node);\r\n\t\t}\r\n\t\t\r\n\t\treturn node[propName];\t// Anything\r\n\t};\r\n\r\n\texports.set = function setProp(/*DOMNode|String*/ node, /*String|Object*/ name, /*String?*/ value){\r\n\t\t// summary:\r\n\t\t//\t\tSets a property on an HTML element.\r\n\t\t// description:\r\n\t\t//\t\tHandles normalized setting of properties on DOM nodes.\r\n\t\t//\r\n\t\t//\t\tWhen passing functions as values, note that they will not be\r\n\t\t//\t\tdirectly assigned to slots on the node, but rather the default\r\n\t\t//\t\tbehavior will be removed and the new behavior will be added\r\n\t\t//\t\tusing `dojo.connect()`, meaning that event handler properties\r\n\t\t//\t\twill be normalized and that some caveats with regards to\r\n\t\t//\t\tnon-standard behaviors for onsubmit apply. Namely that you\r\n\t\t//\t\tshould cancel form submission using `dojo.stopEvent()` on the\r\n\t\t//\t\tpassed event object instead of returning a boolean value from\r\n\t\t//\t\tthe handler itself.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to set the property on\r\n\t\t// name: String|Object\r\n\t\t//\t\tthe name of the property to set, or a hash object to set\r\n\t\t//\t\tmultiple properties at once.\r\n\t\t// value: String?\r\n\t\t//\t\tThe value to set for the property\r\n\t\t// returns:\r\n\t\t//\t\tthe DOM node\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// use prop() to set the tab index\r\n\t\t//\t|\trequire([\"dojo/dom-prop\"], function(domProp){\r\n\t\t//\t|\t\tdomProp.set(\"nodeId\", \"tabIndex\", 3);\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tSet multiple values at once, including event handlers:\r\n\t\t//\t|\trequire([\"dojo/dom-prop\"], function(domProp){\r\n\t\t//\t|\t\tdomProp.set(\"formId\", {\r\n\t\t//\t|\t\t\t\"foo\": \"bar\",\r\n\t\t//\t|\t\t\t\"tabIndex\": -1,\r\n\t\t//\t|\t\t\t\"method\": \"POST\",\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar l = arguments.length;\r\n\t\tif(l == 2 && typeof name != \"string\"){ // inline'd type check\r\n\t\t\t// the object form of setter: the 2nd argument is a dictionary\r\n\t\t\tfor(var x in name){\r\n\t\t\t\texports.set(node, x, name[x]);\r\n\t\t\t}\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tvar lc = name.toLowerCase(), propName = exports.names[lc] || name;\r\n\t\tif(propName == \"style\" && typeof value != \"string\"){ // inline'd type check\r\n\t\t\t// special case: setting a style\r\n\t\t\tstyle.set(node, value);\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tif(propName == \"innerHTML\"){\r\n\t\t\t// special case: assigning HTML\r\n\t\t\t// the hash lists elements with read-only innerHTML on IE\r\n\t\t\tif(has(\"ie\") && node.tagName.toLowerCase() in {col: 1, colgroup: 1,\r\n\t\t\t\t\t\ttable: 1, tbody: 1, tfoot: 1, thead: 1, tr: 1, title: 1}){\r\n\t\t\t\tctr.empty(node);\r\n\t\t\t\tnode.appendChild(ctr.toDom(value, node.ownerDocument));\r\n\t\t\t}else{\r\n\t\t\t\tnode[propName] = value;\r\n\t\t\t}\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tif(propName == \"textContent\" && !has(\"dom-textContent\")) {\r\n\t\t\tctr.empty(node);\r\n\t\t\tnode.appendChild(node.ownerDocument.createTextNode(value));\r\n\t\t\treturn node;\r\n\t\t}\r\n\t\tif(lang.isFunction(value)){\r\n\t\t\t// special case: assigning an event handler\r\n\t\t\t// clobber if we can\r\n\t\t\tvar attrId = node[_attrId];\r\n\t\t\tif(!attrId){\r\n\t\t\t\tattrId = _ctr++;\r\n\t\t\t\tnode[_attrId] = attrId;\r\n\t\t\t}\r\n\t\t\tif(!_evtHdlrMap[attrId]){\r\n\t\t\t\t_evtHdlrMap[attrId] = {};\r\n\t\t\t}\r\n\t\t\tvar h = _evtHdlrMap[attrId][propName];\r\n\t\t\tif(h){\r\n\t\t\t\t//h.remove();\r\n\t\t\t\tconn.disconnect(h);\r\n\t\t\t}else{\r\n\t\t\t\ttry{\r\n\t\t\t\t\tdelete node[propName];\r\n\t\t\t\t}catch(e){}\r\n\t\t\t}\r\n\t\t\t// ensure that event objects are normalized, etc.\r\n\t\t\tif(value){\r\n\t\t\t\t//_evtHdlrMap[attrId][propName] = on(node, propName, value);\r\n\t\t\t\t_evtHdlrMap[attrId][propName] = conn.connect(node, propName, value);\r\n\t\t\t}else{\r\n\t\t\t\tnode[propName] = null;\r\n\t\t\t}\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tnode[propName] = value;\r\n\t\treturn node;\t// DomNode\r\n\t};\r\n});\r\n\ndefine('dojo/dom-attr',[\"exports\", \"./sniff\", \"./_base/lang\", \"./dom\", \"./dom-style\", \"./dom-prop\"],\r\n\t\tfunction(exports, has, lang, dom, style, prop){\r\n\t// module:\r\n\t//\t\tdojo/dom-attr\r\n\t// summary:\r\n\t//\t\tThis module defines the core dojo DOM attributes API.\r\n\r\n\t// TODOC: summary not showing up in output see https://github.com/csnover/js-doc-parse/issues/42\r\n\r\n\t// =============================\r\n\t// Element attribute Functions\r\n\t// =============================\r\n\r\n\t// This module will be obsolete soon. Use dojo/prop instead.\r\n\r\n\t// dojo/dom-attr.get() should conform to http://www.w3.org/TR/DOM-Level-2-Core/\r\n\r\n\t// attribute-related functions (to be obsolete soon)\r\n\tvar forcePropNames = {\r\n\t\t\tinnerHTML:\t1,\r\n\t\t\ttextContent:1,\r\n\t\t\tclassName:\t1,\r\n\t\t\thtmlFor:\thas(\"ie\"),\r\n\t\t\tvalue:\t\t1\r\n\t\t},\r\n\t\tattrNames = {\r\n\t\t\t// original attribute names\r\n\t\t\tclassname: \"class\",\r\n\t\t\thtmlfor: \"for\",\r\n\t\t\t// for IE\r\n\t\t\ttabindex: \"tabIndex\",\r\n\t\t\treadonly: \"readOnly\"\r\n\t\t};\r\n\r\n\tfunction _hasAttr(node, name){\r\n\t\tvar attr = node.getAttributeNode && node.getAttributeNode(name);\r\n\t\treturn !!attr && attr.specified; // Boolean\r\n\t}\r\n\t\r\n\t// There is a difference in the presence of certain properties and their default values\r\n\t// between browsers. For example, on IE \"disabled\" is present on all elements,\r\n\t// but it is value is \"false\"; \"tabIndex\" of <div> returns 0 by default on IE, yet other browsers\r\n\t// can return -1.\r\n\r\n\texports.has = function hasAttr(/*DOMNode|String*/ node, /*String*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tReturns true if the requested attribute is specified on the\r\n\t\t//\t\tgiven element, and false otherwise.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to check\r\n\t\t// name: String\r\n\t\t//\t\tthe name of the attribute\r\n\t\t// returns: Boolean\r\n\t\t//\t\ttrue if the requested attribute is specified on the\r\n\t\t//\t\tgiven element, and false otherwise\r\n\r\n\t\tvar lc = name.toLowerCase();\r\n\t\treturn forcePropNames[prop.names[lc] || name] || _hasAttr(dom.byId(node), attrNames[lc] || name);\t// Boolean\r\n\t};\r\n\r\n\texports.get = function getAttr(/*DOMNode|String*/ node, /*String*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tGets an attribute on an HTML element.\r\n\t\t// description:\r\n\t\t//\t\tHandles normalized getting of attributes on DOM Nodes.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to get the attribute on\r\n\t\t// name: String\r\n\t\t//\t\tthe name of the attribute to get.\r\n\t\t// returns:\r\n\t\t//\t\tthe value of the requested attribute or null if that attribute does not have a specified or\r\n\t\t//\t\tdefault value;\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// get the current value of the \"foo\" attribute on a node\r\n\t\t//\t|\trequire([\"dojo/dom-attr\", \"dojo/dom\"], function(domAttr, dom){\r\n\t\t//\t|\t\tdomAttr.get(dom.byId(\"nodeId\"), \"foo\");\r\n\t\t//\t|\t\t// or we can just pass the id:\r\n\t\t//\t|\t\tdomAttr.get(\"nodeId\", \"foo\");\r\n\t\t//\t|\t});\t\r\n\t\t//\t|\t\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar lc = name.toLowerCase(),\r\n\t\t\tpropName = prop.names[lc] || name,\r\n\t\t\tforceProp = forcePropNames[propName],\r\n\t\t\tvalue = node[propName];\t\t// should we access this attribute via a property or via getAttribute()?\r\n\r\n\t\tif(forceProp && typeof value != \"undefined\"){\r\n\t\t\t// node's property\r\n\t\t\treturn value;\t// Anything\r\n\t\t}\r\n\t\t\r\n\t\tif(propName == \"textContent\"){\r\n\t\t\treturn prop.get(node, propName);\r\n\t\t}\r\n\t\t\r\n\t\tif(propName != \"href\" && (typeof value == \"boolean\" || lang.isFunction(value))){\r\n\t\t\t// node's property\r\n\t\t\treturn value;\t// Anything\r\n\t\t}\r\n\t\t// node's attribute\r\n\t\t// we need _hasAttr() here to guard against IE returning a default value\r\n\t\tvar attrName = attrNames[lc] || name;\r\n\t\treturn _hasAttr(node, attrName) ? node.getAttribute(attrName) : null; // Anything\r\n\t};\r\n\r\n\texports.set = function setAttr(/*DOMNode|String*/ node, /*String|Object*/ name, /*String?*/ value){\r\n\t\t// summary:\r\n\t\t//\t\tSets an attribute on an HTML element.\r\n\t\t// description:\r\n\t\t//\t\tHandles normalized setting of attributes on DOM Nodes.\r\n\t\t//\r\n\t\t//\t\tWhen passing functions as values, note that they will not be\r\n\t\t//\t\tdirectly assigned to slots on the node, but rather the default\r\n\t\t//\t\tbehavior will be removed and the new behavior will be added\r\n\t\t//\t\tusing `dojo.connect()`, meaning that event handler properties\r\n\t\t//\t\twill be normalized and that some caveats with regards to\r\n\t\t//\t\tnon-standard behaviors for onsubmit apply. Namely that you\r\n\t\t//\t\tshould cancel form submission using `dojo.stopEvent()` on the\r\n\t\t//\t\tpassed event object instead of returning a boolean value from\r\n\t\t//\t\tthe handler itself.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to set the attribute on\r\n\t\t// name: String|Object\r\n\t\t//\t\tthe name of the attribute to set, or a hash of key-value pairs to set.\r\n\t\t// value: String?\r\n\t\t//\t\tthe value to set for the attribute, if the name is a string.\r\n\t\t// returns:\r\n\t\t//\t\tthe DOM node\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// use attr() to set the tab index\r\n\t\t//\t|\trequire([\"dojo/dom-attr\"], function(domAttr){\r\n\t\t//\t|\t\tdomAttr.set(\"nodeId\", \"tabIndex\", 3);\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tSet multiple values at once, including event handlers:\r\n\t\t//\t|\trequire([\"dojo/dom-attr\"],\r\n\t\t//\t|\tfunction(domAttr){\r\n\t\t//\t|\t\tdomAttr.set(\"formId\", {\r\n\t\t//\t|\t\t\t\"foo\": \"bar\",\r\n\t\t//\t|\t\t\t\"tabIndex\": -1,\r\n\t\t//\t|\t\t\t\"method\": \"POST\"\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tif(arguments.length == 2){ // inline'd type check\r\n\t\t\t// the object form of setter: the 2nd argument is a dictionary\r\n\t\t\tfor(var x in name){\r\n\t\t\t\texports.set(node, x, name[x]);\r\n\t\t\t}\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tvar lc = name.toLowerCase(),\r\n\t\t\tpropName = prop.names[lc] || name,\r\n\t\t\tforceProp = forcePropNames[propName];\r\n\t\tif(propName == \"style\" && typeof value != \"string\"){ // inline'd type check\r\n\t\t\t// special case: setting a style\r\n\t\t\tstyle.set(node, value);\r\n\t\t\treturn node; // DomNode\r\n\t\t}\r\n\t\tif(forceProp || typeof value == \"boolean\" || lang.isFunction(value)){\r\n\t\t\treturn prop.set(node, name, value);\r\n\t\t}\r\n\t\t// node's attribute\r\n\t\tnode.setAttribute(attrNames[lc] || name, value);\r\n\t\treturn node; // DomNode\r\n\t};\r\n\r\n\texports.remove = function removeAttr(/*DOMNode|String*/ node, /*String*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tRemoves an attribute from an HTML element.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to remove the attribute from\r\n\t\t// name: String\r\n\t\t//\t\tthe name of the attribute to remove\r\n\r\n\t\tdom.byId(node).removeAttribute(attrNames[name.toLowerCase()] || name);\r\n\t};\r\n\r\n\texports.getNodeProp = function getNodeProp(/*DomNode|String*/ node, /*String*/ name){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an effective value of a property or an attribute.\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tid or reference to the element to remove the attribute from\r\n\t\t// name: String\r\n\t\t//\t\tthe name of the attribute\r\n\t\t// returns:\r\n\t\t//\t\tthe value of the attribute\r\n\r\n\t\tnode = dom.byId(node);\r\n\t\tvar lc = name.toLowerCase(), propName = prop.names[lc] || name;\r\n\t\tif((propName in node) && propName != \"href\"){\r\n\t\t\t// node's property\r\n\t\t\treturn node[propName];\t// Anything\r\n\t\t}\r\n\t\t// node's attribute\r\n\t\tvar attrName = attrNames[lc] || name;\r\n\t\treturn _hasAttr(node, attrName) ? node.getAttribute(attrName) : null; // Anything\r\n\t};\r\n});\r\n\ndefine('dijit/a11y',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/dom\",\t\t\t// dom.byId\r\n\t\"dojo/dom-attr\", // domAttr.attr domAttr.has\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"dojo/_base/lang\", // lang.mixin()\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"extend-dojo\")\r\n\t\"./main\"\t// for exporting methods to dijit namespace\r\n], function(array, dom, domAttr, domStyle, lang, has, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/a11y\r\n\r\n\tvar undefined;\r\n\r\n\tvar a11y = {\r\n\t\t// summary:\r\n\t\t//\t\tAccessibility utility functions (keyboard, tab stops, etc.)\r\n\r\n\t\t_isElementShown: function(/*Element*/ elem){\r\n\t\t\tvar s = domStyle.get(elem);\r\n\t\t\treturn (s.visibility != \"hidden\")\r\n\t\t\t\t&& (s.visibility != \"collapsed\")\r\n\t\t\t\t&& (s.display != \"none\")\r\n\t\t\t\t&& (domAttr.get(elem, \"type\") != \"hidden\");\r\n\t\t},\r\n\r\n\t\thasDefaultTabStop: function(/*Element*/ elem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests if element is tab-navigable even without an explicit tabIndex setting\r\n\r\n\t\t\t// No explicit tabIndex setting, need to investigate node type\r\n\t\t\tswitch(elem.nodeName.toLowerCase()){\r\n\t\t\t\tcase \"a\":\r\n\t\t\t\t\t// An <a> w/out a tabindex is only navigable if it has an href\r\n\t\t\t\t\treturn domAttr.has(elem, \"href\");\r\n\t\t\t\tcase \"area\":\r\n\t\t\t\tcase \"button\":\r\n\t\t\t\tcase \"input\":\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\tcase \"select\":\r\n\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\t// These are navigable by default\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tcase \"iframe\":\r\n\t\t\t\t\t// If it's an editor <iframe> then it's tab navigable.\r\n\t\t\t\t\tvar body;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\t// non-IE\r\n\t\t\t\t\t\tvar contentDocument = elem.contentDocument;\r\n\t\t\t\t\t\tif(\"designMode\" in contentDocument && contentDocument.designMode == \"on\"){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbody = contentDocument.body;\r\n\t\t\t\t\t}catch(e1){\r\n\t\t\t\t\t\t// contentWindow.document isn't accessible within IE7/8\r\n\t\t\t\t\t\t// if the iframe.src points to a foreign url and this\r\n\t\t\t\t\t\t// page contains an element, that could get focus\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tbody = elem.contentWindow.document.body;\r\n\t\t\t\t\t\t}catch(e2){\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn body && (body.contentEditable == 'true' ||\r\n\t\t\t\t\t\t(body.firstChild && body.firstChild.contentEditable == 'true'));\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn elem.contentEditable == 'true';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\teffectiveTabIndex: function(/*Element*/ elem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns effective tabIndex of an element, either a number, or undefined if element isn't focusable.\r\n\r\n\t\t\tif(domAttr.get(elem, \"disabled\")){\r\n\t\t\t\treturn undefined;\r\n\t\t\t}else if(domAttr.has(elem, \"tabIndex\")){\r\n\t\t\t\t// Explicit tab index setting\r\n\t\t\t\treturn +domAttr.get(elem, \"tabIndex\");// + to convert string --> number\r\n\t\t\t}else{\r\n\t\t\t\t// No explicit tabIndex setting, so depends on node type\r\n\t\t\t\treturn a11y.hasDefaultTabStop(elem) ? 0 : undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisTabNavigable: function(/*Element*/ elem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests if an element is tab-navigable\r\n\r\n\t\t\treturn a11y.effectiveTabIndex(elem) >= 0;\r\n\t\t},\r\n\r\n\t\tisFocusable: function(/*Element*/ elem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests if an element is focusable by tabbing to it, or clicking it with the mouse.\r\n\r\n\t\t\treturn a11y.effectiveTabIndex(elem) >= -1;\r\n\t\t},\r\n\r\n\t\t_getTabNavigable: function(/*DOMNode*/ root){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFinds descendants of the specified root node.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFinds the following descendants of the specified root node:\r\n\t\t\t//\r\n\t\t\t//\t\t- the first tab-navigable element in document order\r\n\t\t\t//\t\t  without a tabIndex or with tabIndex=\"0\"\r\n\t\t\t//\t\t- the last tab-navigable element in document order\r\n\t\t\t//\t\t  without a tabIndex or with tabIndex=\"0\"\r\n\t\t\t//\t\t- the first element in document order with the lowest\r\n\t\t\t//\t\t  positive tabIndex value\r\n\t\t\t//\t\t- the last element in document order with the highest\r\n\t\t\t//\t\t  positive tabIndex value\r\n\t\t\tvar first, last, lowest, lowestTabindex, highest, highestTabindex, radioSelected = {};\r\n\r\n\t\t\tfunction radioName(node){\r\n\t\t\t\t// If this element is part of a radio button group, return the name for that group.\r\n\t\t\t\treturn node && node.tagName.toLowerCase() == \"input\" &&\r\n\t\t\t\t\tnode.type && node.type.toLowerCase() == \"radio\" &&\r\n\t\t\t\t\tnode.name && node.name.toLowerCase();\r\n\t\t\t}\r\n\r\n\t\t\tvar shown = a11y._isElementShown, effectiveTabIndex = a11y.effectiveTabIndex;\r\n\t\t\tvar walkTree = function(/*DOMNode*/ parent){\r\n\t\t\t\tfor(var child = parent.firstChild; child; child = child.nextSibling){\r\n\t\t\t\t\t// Skip text elements, hidden elements, and also non-HTML elements (those in custom namespaces) in IE,\r\n\t\t\t\t\t// since show() invokes getAttribute(\"type\"), which crash on VML nodes in IE.\r\n\t\t\t\t\tif(child.nodeType != 1 || (has(\"ie\") <= 9 && child.scopeName !== \"HTML\") || !shown(child)){\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar tabindex = effectiveTabIndex(child);\r\n\t\t\t\t\tif(tabindex >= 0){\r\n\t\t\t\t\t\tif(tabindex == 0){\r\n\t\t\t\t\t\t\tif(!first){\r\n\t\t\t\t\t\t\t\tfirst = child;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlast = child;\r\n\t\t\t\t\t\t}else if(tabindex > 0){\r\n\t\t\t\t\t\t\tif(!lowest || tabindex < lowestTabindex){\r\n\t\t\t\t\t\t\t\tlowestTabindex = tabindex;\r\n\t\t\t\t\t\t\t\tlowest = child;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!highest || tabindex >= highestTabindex){\r\n\t\t\t\t\t\t\t\thighestTabindex = tabindex;\r\n\t\t\t\t\t\t\t\thighest = child;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar rn = radioName(child);\r\n\t\t\t\t\t\tif(domAttr.get(child, \"checked\") && rn){\r\n\t\t\t\t\t\t\tradioSelected[rn] = child;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(child.nodeName.toUpperCase() != 'SELECT'){\r\n\t\t\t\t\t\twalkTree(child);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif(shown(root)){\r\n\t\t\t\twalkTree(root);\r\n\t\t\t}\r\n\t\t\tfunction rs(node){\r\n\t\t\t\t// substitute checked radio button for unchecked one, if there is a checked one with the same name.\r\n\t\t\t\treturn radioSelected[radioName(node)] || node;\r\n\t\t\t}\r\n\r\n\t\t\treturn { first: rs(first), last: rs(last), lowest: rs(lowest), highest: rs(highest) };\r\n\t\t},\r\n\r\n\t\tgetFirstInTabbingOrder: function(/*String|DOMNode*/ root, /*Document?*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFinds the descendant of the specified root node\r\n\t\t\t//\t\tthat is first in the tabbing order\r\n\t\t\tvar elems = a11y._getTabNavigable(dom.byId(root, doc));\r\n\t\t\treturn elems.lowest ? elems.lowest : elems.first; // DomNode\r\n\t\t},\r\n\r\n\t\tgetLastInTabbingOrder: function(/*String|DOMNode*/ root, /*Document?*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFinds the descendant of the specified root node\r\n\t\t\t//\t\tthat is last in the tabbing order\r\n\t\t\tvar elems = a11y._getTabNavigable(dom.byId(root, doc));\r\n\t\t\treturn elems.last ? elems.last : elems.highest; // DomNode\r\n\t\t}\r\n\t};\r\n\r\n\thas(\"extend-dojo\") && lang.mixin(dijit, a11y);\r\n\r\n\treturn a11y;\r\n});\r\n\ndefine('dojo/_base/declare',[\"./kernel\", \"../has\", \"./lang\"], function(dojo, has, lang){\r\n\t// module:\r\n\t//\t\tdojo/_base/declare\r\n\r\n\tvar mix = lang.mixin, op = Object.prototype, opts = op.toString,\r\n\t\txtor = new Function, counter = 0, cname = \"constructor\";\r\n\r\n\tfunction err(msg, cls){ throw new Error(\"declare\" + (cls ? \" \" + cls : \"\") + \": \" + msg); }\r\n\r\n\t// C3 Method Resolution Order (see http://www.python.org/download/releases/2.3/mro/)\r\n\tfunction c3mro(bases, className){\r\n\t\tvar result = [], roots = [{cls: 0, refs: []}], nameMap = {}, clsCount = 1,\r\n\t\t\tl = bases.length, i = 0, j, lin, base, top, proto, rec, name, refs;\r\n\r\n\t\t// build a list of bases naming them if needed\r\n\t\tfor(; i < l; ++i){\r\n\t\t\tbase = bases[i];\r\n\t\t\tif(!base){\r\n\t\t\t\terr(\"mixin #\" + i + \" is unknown. Did you use dojo.require to pull it in?\", className);\r\n\t\t\t}else if(opts.call(base) != \"[object Function]\"){\r\n\t\t\t\terr(\"mixin #\" + i + \" is not a callable constructor.\", className);\r\n\t\t\t}\r\n\t\t\tlin = base._meta ? base._meta.bases : [base];\r\n\t\t\ttop = 0;\r\n\t\t\t// add bases to the name map\r\n\t\t\tfor(j = lin.length - 1; j >= 0; --j){\r\n\t\t\t\tproto = lin[j].prototype;\r\n\t\t\t\tif(!proto.hasOwnProperty(\"declaredClass\")){\r\n\t\t\t\t\tproto.declaredClass = \"uniqName_\" + (counter++);\r\n\t\t\t\t}\r\n\t\t\t\tname = proto.declaredClass;\r\n\t\t\t\tif(!nameMap.hasOwnProperty(name)){\r\n\t\t\t\t\tnameMap[name] = {count: 0, refs: [], cls: lin[j]};\r\n\t\t\t\t\t++clsCount;\r\n\t\t\t\t}\r\n\t\t\t\trec = nameMap[name];\r\n\t\t\t\tif(top && top !== rec){\r\n\t\t\t\t\trec.refs.push(top);\r\n\t\t\t\t\t++top.count;\r\n\t\t\t\t}\r\n\t\t\t\ttop = rec;\r\n\t\t\t}\r\n\t\t\t++top.count;\r\n\t\t\troots[0].refs.push(top);\r\n\t\t}\r\n\r\n\t\t// remove classes without external references recursively\r\n\t\twhile(roots.length){\r\n\t\t\ttop = roots.pop();\r\n\t\t\tresult.push(top.cls);\r\n\t\t\t--clsCount;\r\n\t\t\t// optimization: follow a single-linked chain\r\n\t\t\twhile(refs = top.refs, refs.length == 1){\r\n\t\t\t\ttop = refs[0];\r\n\t\t\t\tif(!top || --top.count){\r\n\t\t\t\t\t// branch or end of chain => do not end to roots\r\n\t\t\t\t\ttop = 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(top.cls);\r\n\t\t\t\t--clsCount;\r\n\t\t\t}\r\n\t\t\tif(top){\r\n\t\t\t\t// branch\r\n\t\t\t\tfor(i = 0, l = refs.length; i < l; ++i){\r\n\t\t\t\t\ttop = refs[i];\r\n\t\t\t\t\tif(!--top.count){\r\n\t\t\t\t\t\troots.push(top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(clsCount){\r\n\t\t\terr(\"can't build consistent linearization\", className);\r\n\t\t}\r\n\r\n\t\t// calculate the superclass offset\r\n\t\tbase = bases[0];\r\n\t\tresult[0] = base ?\r\n\t\t\tbase._meta && base === result[result.length - base._meta.bases.length] ?\r\n\t\t\t\tbase._meta.bases.length : 1 : 0;\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfunction inherited(args, a, f){\r\n\t\tvar name, chains, bases, caller, meta, base, proto, opf, pos,\r\n\t\t\tcache = this._inherited = this._inherited || {};\r\n\r\n\t\t// crack arguments\r\n\t\tif(typeof args == \"string\"){\r\n\t\t\tname = args;\r\n\t\t\targs = a;\r\n\t\t\ta = f;\r\n\t\t}\r\n\t\tf = 0;\r\n\r\n\t\tcaller = args.callee;\r\n\t\tname = name || caller.nom;\r\n\t\tif(!name){\r\n\t\t\terr(\"can't deduce a name to call inherited()\", this.declaredClass);\r\n\t\t}\r\n\r\n\t\tmeta = this.constructor._meta;\r\n\t\tbases = meta.bases;\r\n\r\n\t\tpos = cache.p;\r\n\t\tif(name != cname){\r\n\t\t\t// method\r\n\t\t\tif(cache.c !== caller){\r\n\t\t\t\t// cache bust\r\n\t\t\t\tpos = 0;\r\n\t\t\t\tbase = bases[0];\r\n\t\t\t\tmeta = base._meta;\r\n\t\t\t\tif(meta.hidden[name] !== caller){\r\n\t\t\t\t\t// error detection\r\n\t\t\t\t\tchains = meta.chains;\r\n\t\t\t\t\tif(chains && typeof chains[name] == \"string\"){\r\n\t\t\t\t\t\terr(\"calling chained method with inherited: \" + name, this.declaredClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// find caller\r\n\t\t\t\t\tdo{\r\n\t\t\t\t\t\tmeta = base._meta;\r\n\t\t\t\t\t\tproto = base.prototype;\r\n\t\t\t\t\t\tif(meta && (proto[name] === caller && proto.hasOwnProperty(name) || meta.hidden[name] === caller)){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}while(base = bases[++pos]); // intentional assignment\r\n\t\t\t\t\tpos = base ? pos : -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// find next\r\n\t\t\tbase = bases[++pos];\r\n\t\t\tif(base){\r\n\t\t\t\tproto = base.prototype;\r\n\t\t\t\tif(base._meta && proto.hasOwnProperty(name)){\r\n\t\t\t\t\tf = proto[name];\r\n\t\t\t\t}else{\r\n\t\t\t\t\topf = op[name];\r\n\t\t\t\t\tdo{\r\n\t\t\t\t\t\tproto = base.prototype;\r\n\t\t\t\t\t\tf = proto[name];\r\n\t\t\t\t\t\tif(f && (base._meta ? proto.hasOwnProperty(name) : f !== opf)){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}while(base = bases[++pos]); // intentional assignment\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tf = base && f || op[name];\r\n\t\t}else{\r\n\t\t\t// constructor\r\n\t\t\tif(cache.c !== caller){\r\n\t\t\t\t// cache bust\r\n\t\t\t\tpos = 0;\r\n\t\t\t\tmeta = bases[0]._meta;\r\n\t\t\t\tif(meta && meta.ctor !== caller){\r\n\t\t\t\t\t// error detection\r\n\t\t\t\t\tchains = meta.chains;\r\n\t\t\t\t\tif(!chains || chains.constructor !== \"manual\"){\r\n\t\t\t\t\t\terr(\"calling chained constructor with inherited\", this.declaredClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// find caller\r\n\t\t\t\t\twhile(base = bases[++pos]){ // intentional assignment\r\n\t\t\t\t\t\tmeta = base._meta;\r\n\t\t\t\t\t\tif(meta && meta.ctor === caller){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpos = base ? pos : -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// find next\r\n\t\t\twhile(base = bases[++pos]){\t// intentional assignment\r\n\t\t\t\tmeta = base._meta;\r\n\t\t\t\tf = meta ? meta.ctor : base;\r\n\t\t\t\tif(f){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tf = base && f;\r\n\t\t}\r\n\r\n\t\t// cache the found super method\r\n\t\tcache.c = f;\r\n\t\tcache.p = pos;\r\n\r\n\t\t// now we have the result\r\n\t\tif(f){\r\n\t\t\treturn a === true ? f : f.apply(this, a || args);\r\n\t\t}\r\n\t\t// intentionally no return if a super method was not found\r\n\t}\r\n\r\n\tfunction getInherited(name, args){\r\n\t\tif(typeof name == \"string\"){\r\n\t\t\treturn this.__inherited(name, args, true);\r\n\t\t}\r\n\t\treturn this.__inherited(name, true);\r\n\t}\r\n\r\n\tfunction inherited__debug(args, a1, a2){\r\n\t\tvar f = this.getInherited(args, a1);\r\n\t\tif(f){ return f.apply(this, a2 || a1 || args); }\r\n\t\t// intentionally no return if a super method was not found\r\n\t}\r\n\r\n\tvar inheritedImpl = dojo.config.isDebug ? inherited__debug : inherited;\r\n\r\n\t// emulation of \"instanceof\"\r\n\tfunction isInstanceOf(cls){\r\n\t\tvar bases = this.constructor._meta.bases;\r\n\t\tfor(var i = 0, l = bases.length; i < l; ++i){\r\n\t\t\tif(bases[i] === cls){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this instanceof cls;\r\n\t}\r\n\r\n\tfunction mixOwn(target, source){\r\n\t\t// add props adding metadata for incoming functions skipping a constructor\r\n\t\tfor(var name in source){\r\n\t\t\tif(name != cname && source.hasOwnProperty(name)){\r\n\t\t\t\ttarget[name] = source[name];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(has(\"bug-for-in-skips-shadowed\")){\r\n\t\t\tfor(var extraNames= lang._extraNames, i= extraNames.length; i;){\r\n\t\t\t\tname = extraNames[--i];\r\n\t\t\t\tif(name != cname && source.hasOwnProperty(name)){\r\n\t\t\t\t\t  target[name] = source[name];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// implementation of safe mixin function\r\n\tfunction safeMixin(target, source){\r\n\t\t// summary:\r\n\t\t//\t\tMix in properties skipping a constructor and decorating functions\r\n\t\t//\t\tlike it is done by declare().\r\n\t\t// target: Object\r\n\t\t//\t\tTarget object to accept new properties.\r\n\t\t// source: Object\r\n\t\t//\t\tSource object for new properties.\r\n\t\t// description:\r\n\t\t//\t\tThis function is used to mix in properties like lang.mixin does,\r\n\t\t//\t\tbut it skips a constructor property and decorates functions like\r\n\t\t//\t\tdeclare() does.\r\n\t\t//\r\n\t\t//\t\tIt is meant to be used with classes and objects produced with\r\n\t\t//\t\tdeclare. Functions mixed in with dojo.safeMixin can use\r\n\t\t//\t\tthis.inherited() like normal methods.\r\n\t\t//\r\n\t\t//\t\tThis function is used to implement extend() method of a constructor\r\n\t\t//\t\tproduced with declare().\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar A = declare(null, {\r\n\t\t//\t|\t\tm1: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"A.m1\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm2: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"A.m2\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar B = declare(A, {\r\n\t\t//\t|\t\tm1: function(){\r\n\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t//\t|\t\t\tconsole.log(\"B.m1\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tB.extend({\r\n\t\t//\t|\t\tm2: function(){\r\n\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t//\t|\t\t\tconsole.log(\"B.m2\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar x = new B();\r\n\t\t//\t|\tdojo.safeMixin(x, {\r\n\t\t//\t|\t\tm1: function(){\r\n\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t//\t|\t\t\tconsole.log(\"X.m1\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm2: function(){\r\n\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t//\t|\t\t\tconsole.log(\"X.m2\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tx.m2();\r\n\t\t//\t|\t// prints:\r\n\t\t//\t|\t// A.m1\r\n\t\t//\t|\t// B.m1\r\n\t\t//\t|\t// X.m1\r\n\r\n\t\tvar name, t;\r\n\t\t// add props adding metadata for incoming functions skipping a constructor\r\n\t\tfor(name in source){\r\n\t\t\tt = source[name];\r\n\t\t\tif((t !== op[name] || !(name in op)) && name != cname){\r\n\t\t\t\tif(opts.call(t) == \"[object Function]\"){\r\n\t\t\t\t\t// non-trivial function method => attach its name\r\n\t\t\t\t\tt.nom = name;\r\n\t\t\t\t}\r\n\t\t\t\ttarget[name] = t;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(has(\"bug-for-in-skips-shadowed\")){\r\n\t\t\tfor(var extraNames= lang._extraNames, i= extraNames.length; i;){\r\n\t\t\t\tname = extraNames[--i];\r\n\t\t\t\tt = source[name];\r\n\t\t\t\tif((t !== op[name] || !(name in op)) && name != cname){\r\n\t\t\t\t\tif(opts.call(t) == \"[object Function]\"){\r\n\t\t\t\t\t\t// non-trivial function method => attach its name\r\n\t\t\t\t\t\t  t.nom = name;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget[name] = t;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n\tfunction extend(source){\r\n\t\tdeclare.safeMixin(this.prototype, source);\r\n\t\treturn this;\r\n\t}\r\n\r\n    function createSubclass(mixins, props){\r\n        // crack parameters\r\n        if(!(mixins instanceof Array || typeof mixins == 'function')){\r\n            props = mixins;\r\n            mixins = undefined;\r\n        }\r\n\r\n        props = props || {};\r\n        mixins = mixins || [];\r\n\r\n        return declare([this].concat(mixins), props);\r\n    }\r\n\r\n\t// chained constructor compatible with the legacy declare()\r\n\tfunction chainedConstructor(bases, ctorSpecial){\r\n\t\treturn function(){\r\n\t\t\tvar a = arguments, args = a, a0 = a[0], f, i, m,\r\n\t\t\t\tl = bases.length, preArgs;\r\n\r\n\t\t\tif(!(this instanceof a.callee)){\r\n\t\t\t\t// not called via new, so force it\r\n\t\t\t\treturn applyNew(a);\r\n\t\t\t}\r\n\r\n\t\t\t//this._inherited = {};\r\n\t\t\t// perform the shaman's rituals of the original declare()\r\n\t\t\t// 1) call two types of the preamble\r\n\t\t\tif(ctorSpecial && (a0 && a0.preamble || this.preamble)){\r\n\t\t\t\t// full blown ritual\r\n\t\t\t\tpreArgs = new Array(bases.length);\r\n\t\t\t\t// prepare parameters\r\n\t\t\t\tpreArgs[0] = a;\r\n\t\t\t\tfor(i = 0;;){\r\n\t\t\t\t\t// process the preamble of the 1st argument\r\n\t\t\t\t\ta0 = a[0];\r\n\t\t\t\t\tif(a0){\r\n\t\t\t\t\t\tf = a0.preamble;\r\n\t\t\t\t\t\tif(f){\r\n\t\t\t\t\t\t\ta = f.apply(this, a) || a;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// process the preamble of this class\r\n\t\t\t\t\tf = bases[i].prototype;\r\n\t\t\t\t\tf = f.hasOwnProperty(\"preamble\") && f.preamble;\r\n\t\t\t\t\tif(f){\r\n\t\t\t\t\t\ta = f.apply(this, a) || a;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// one peculiarity of the preamble:\r\n\t\t\t\t\t// it is called if it is not needed,\r\n\t\t\t\t\t// e.g., there is no constructor to call\r\n\t\t\t\t\t// let's watch for the last constructor\r\n\t\t\t\t\t// (see ticket #9795)\r\n\t\t\t\t\tif(++i == l){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpreArgs[i] = a;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 2) call all non-trivial constructors using prepared arguments\r\n\t\t\tfor(i = l - 1; i >= 0; --i){\r\n\t\t\t\tf = bases[i];\r\n\t\t\t\tm = f._meta;\r\n\t\t\t\tf = m ? m.ctor : f;\r\n\t\t\t\tif(f){\r\n\t\t\t\t\tf.apply(this, preArgs ? preArgs[i] : a);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 3) continue the original ritual: call the postscript\r\n\t\t\tf = this.postscript;\r\n\t\t\tif(f){\r\n\t\t\t\tf.apply(this, args);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\t// chained constructor compatible with the legacy declare()\r\n\tfunction singleConstructor(ctor, ctorSpecial){\r\n\t\treturn function(){\r\n\t\t\tvar a = arguments, t = a, a0 = a[0], f;\r\n\r\n\t\t\tif(!(this instanceof a.callee)){\r\n\t\t\t\t// not called via new, so force it\r\n\t\t\t\treturn applyNew(a);\r\n\t\t\t}\r\n\r\n\t\t\t//this._inherited = {};\r\n\t\t\t// perform the shaman's rituals of the original declare()\r\n\t\t\t// 1) call two types of the preamble\r\n\t\t\tif(ctorSpecial){\r\n\t\t\t\t// full blown ritual\r\n\t\t\t\tif(a0){\r\n\t\t\t\t\t// process the preamble of the 1st argument\r\n\t\t\t\t\tf = a0.preamble;\r\n\t\t\t\t\tif(f){\r\n\t\t\t\t\t\tt = f.apply(this, t) || t;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tf = this.preamble;\r\n\t\t\t\tif(f){\r\n\t\t\t\t\t// process the preamble of this class\r\n\t\t\t\t\tf.apply(this, t);\r\n\t\t\t\t\t// one peculiarity of the preamble:\r\n\t\t\t\t\t// it is called even if it is not needed,\r\n\t\t\t\t\t// e.g., there is no constructor to call\r\n\t\t\t\t\t// let's watch for the last constructor\r\n\t\t\t\t\t// (see ticket #9795)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 2) call a constructor\r\n\t\t\tif(ctor){\r\n\t\t\t\tctor.apply(this, a);\r\n\t\t\t}\r\n\t\t\t// 3) continue the original ritual: call the postscript\r\n\t\t\tf = this.postscript;\r\n\t\t\tif(f){\r\n\t\t\t\tf.apply(this, a);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// plain vanilla constructor (can use inherited() to call its base constructor)\r\n\tfunction simpleConstructor(bases){\r\n\t\treturn function(){\r\n\t\t\tvar a = arguments, i = 0, f, m;\r\n\r\n\t\t\tif(!(this instanceof a.callee)){\r\n\t\t\t\t// not called via new, so force it\r\n\t\t\t\treturn applyNew(a);\r\n\t\t\t}\r\n\r\n\t\t\t//this._inherited = {};\r\n\t\t\t// perform the shaman's rituals of the original declare()\r\n\t\t\t// 1) do not call the preamble\r\n\t\t\t// 2) call the top constructor (it can use this.inherited())\r\n\t\t\tfor(; f = bases[i]; ++i){ // intentional assignment\r\n\t\t\t\tm = f._meta;\r\n\t\t\t\tf = m ? m.ctor : f;\r\n\t\t\t\tif(f){\r\n\t\t\t\t\tf.apply(this, a);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 3) call the postscript\r\n\t\t\tf = this.postscript;\r\n\t\t\tif(f){\r\n\t\t\t\tf.apply(this, a);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction chain(name, bases, reversed){\r\n\t\treturn function(){\r\n\t\t\tvar b, m, f, i = 0, step = 1;\r\n\t\t\tif(reversed){\r\n\t\t\t\ti = bases.length - 1;\r\n\t\t\t\tstep = -1;\r\n\t\t\t}\r\n\t\t\tfor(; b = bases[i]; i += step){ // intentional assignment\r\n\t\t\t\tm = b._meta;\r\n\t\t\t\tf = (m ? m.hidden : b.prototype)[name];\r\n\t\t\t\tif(f){\r\n\t\t\t\t\tf.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// forceNew(ctor)\r\n\t// return a new object that inherits from ctor.prototype but\r\n\t// without actually running ctor on the object.\r\n\tfunction forceNew(ctor){\r\n\t\t// create object with correct prototype using a do-nothing\r\n\t\t// constructor\r\n\t\txtor.prototype = ctor.prototype;\r\n\t\tvar t = new xtor;\r\n\t\txtor.prototype = null;\t// clean up\r\n\t\treturn t;\r\n\t}\r\n\r\n\t// applyNew(args)\r\n\t// just like 'new ctor()' except that the constructor and its arguments come\r\n\t// from args, which must be an array or an arguments object\r\n\tfunction applyNew(args){\r\n\t\t// create an object with ctor's prototype but without\r\n\t\t// calling ctor on it.\r\n\t\tvar ctor = args.callee, t = forceNew(ctor);\r\n\t\t// execute the real constructor on the new object\r\n\t\tctor.apply(t, args);\r\n\t\treturn t;\r\n\t}\r\n\r\n\tfunction declare(className, superclass, props){\r\n\t\t// summary:\r\n\t\t//\t\tCreate a feature-rich constructor from compact notation.\r\n\t\t// className: String?\r\n\t\t//\t\tThe optional name of the constructor (loosely, a \"class\")\r\n\t\t//\t\tstored in the \"declaredClass\" property in the created prototype.\r\n\t\t//\t\tIt will be used as a global name for a created constructor.\r\n\t\t// superclass: Function|Function[]\r\n\t\t//\t\tMay be null, a Function, or an Array of Functions. This argument\r\n\t\t//\t\tspecifies a list of bases (the left-most one is the most deepest\r\n\t\t//\t\tbase).\r\n\t\t// props: Object\r\n\t\t//\t\tAn object whose properties are copied to the created prototype.\r\n\t\t//\t\tAdd an instance-initialization function by making it a property\r\n\t\t//\t\tnamed \"constructor\".\r\n\t\t// returns: dojo/_base/declare.__DeclareCreatedObject\r\n\t\t//\t\tNew constructor function.\r\n\t\t// description:\r\n\t\t//\t\tCreate a constructor using a compact notation for inheritance and\r\n\t\t//\t\tprototype extension.\r\n\t\t//\r\n\t\t//\t\tMixin ancestors provide a type of multiple inheritance.\r\n\t\t//\t\tPrototypes of mixin ancestors are copied to the new class:\r\n\t\t//\t\tchanges to mixin prototypes will not affect classes to which\r\n\t\t//\t\tthey have been mixed in.\r\n\t\t//\r\n\t\t//\t\tAncestors can be compound classes created by this version of\r\n\t\t//\t\tdeclare(). In complex cases all base classes are going to be\r\n\t\t//\t\tlinearized according to C3 MRO algorithm\r\n\t\t//\t\t(see http://www.python.org/download/releases/2.3/mro/ for more\r\n\t\t//\t\tdetails).\r\n\t\t//\r\n\t\t//\t\t\"className\" is cached in \"declaredClass\" property of the new class,\r\n\t\t//\t\tif it was supplied. The immediate super class will be cached in\r\n\t\t//\t\t\"superclass\" property of the new class.\r\n\t\t//\r\n\t\t//\t\tMethods in \"props\" will be copied and modified: \"nom\" property\r\n\t\t//\t\t(the declared name of the method) will be added to all copied\r\n\t\t//\t\tfunctions to help identify them for the internal machinery. Be\r\n\t\t//\t\tvery careful, while reusing methods: if you use the same\r\n\t\t//\t\tfunction under different names, it can produce errors in some\r\n\t\t//\t\tcases.\r\n\t\t//\r\n\t\t//\t\tIt is possible to use constructors created \"manually\" (without\r\n\t\t//\t\tdeclare()) as bases. They will be called as usual during the\r\n\t\t//\t\tcreation of an instance, their methods will be chained, and even\r\n\t\t//\t\tcalled by \"this.inherited()\".\r\n\t\t//\r\n\t\t//\t\tSpecial property \"-chains-\" governs how to chain methods. It is\r\n\t\t//\t\ta dictionary, which uses method names as keys, and hint strings\r\n\t\t//\t\tas values. If a hint string is \"after\", this method will be\r\n\t\t//\t\tcalled after methods of its base classes. If a hint string is\r\n\t\t//\t\t\"before\", this method will be called before methods of its base\r\n\t\t//\t\tclasses.\r\n\t\t//\r\n\t\t//\t\tIf \"constructor\" is not mentioned in \"-chains-\" property, it will\r\n\t\t//\t\tbe chained using the legacy mode: using \"after\" chaining,\r\n\t\t//\t\tcalling preamble() method before each constructor, if available,\r\n\t\t//\t\tand calling postscript() after all constructors were executed.\r\n\t\t//\t\tIf the hint is \"after\", it is chained as a regular method, but\r\n\t\t//\t\tpostscript() will be called after the chain of constructors.\r\n\t\t//\t\t\"constructor\" cannot be chained \"before\", but it allows\r\n\t\t//\t\ta special hint string: \"manual\", which means that constructors\r\n\t\t//\t\tare not going to be chained in any way, and programmer will call\r\n\t\t//\t\tthem manually using this.inherited(). In the latter case\r\n\t\t//\t\tpostscript() will be called after the construction.\r\n\t\t//\r\n\t\t//\t\tAll chaining hints are \"inherited\" from base classes and\r\n\t\t//\t\tpotentially can be overridden. Be very careful when overriding\r\n\t\t//\t\thints! Make sure that all chained methods can work in a proposed\r\n\t\t//\t\tmanner of chaining.\r\n\t\t//\r\n\t\t//\t\tOnce a method was chained, it is impossible to unchain it. The\r\n\t\t//\t\tonly exception is \"constructor\". You don't need to define a\r\n\t\t//\t\tmethod in order to supply a chaining hint.\r\n\t\t//\r\n\t\t//\t\tIf a method is chained, it cannot use this.inherited() because\r\n\t\t//\t\tall other methods in the hierarchy will be called automatically.\r\n\t\t//\r\n\t\t//\t\tUsually constructors and initializers of any kind are chained\r\n\t\t//\t\tusing \"after\" and destructors of any kind are chained as\r\n\t\t//\t\t\"before\". Note that chaining assumes that chained methods do not\r\n\t\t//\t\treturn any value: any returned value will be discarded.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tdeclare(\"my.classes.bar\", my.classes.foo, {\r\n\t\t//\t|\t\t// properties to be added to the class prototype\r\n\t\t//\t|\t\tsomeValue: 2,\r\n\t\t//\t|\t\t// initialization function\r\n\t\t//\t|\t\tconstructor: function(){\r\n\t\t//\t|\t\t\tthis.myComplicatedObject = new ReallyComplicatedObject();\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\t// other functions\r\n\t\t//\t|\t\tsomeMethod: function(){\r\n\t\t//\t|\t\t\tdoStuff();\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar MyBase = declare(null, {\r\n\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t//\t|\t\t// ...\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar MyClass1 = declare(MyBase, {\r\n\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t//\t|\t\t// ...\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar MyClass2 = declare(MyBase, {\r\n\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t//\t|\t\t// ...\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar MyDiamond = declare([MyClass1, MyClass2], {\r\n\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t//\t|\t\t// ...\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar F = function(){ console.log(\"raw constructor\"); };\r\n\t\t//\t|\tF.prototype.method = function(){\r\n\t\t//\t|\t\tconsole.log(\"raw method\");\r\n\t\t//\t|\t};\r\n\t\t//\t|\tvar A = declare(F, {\r\n\t\t//\t|\t\tconstructor: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"A.constructor\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tmethod: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"before calling F.method...\");\r\n\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t//\t|\t\t\tconsole.log(\"...back in A\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tnew A().method();\r\n\t\t//\t|\t// will print:\r\n\t\t//\t|\t// raw constructor\r\n\t\t//\t|\t// A.constructor\r\n\t\t//\t|\t// before calling F.method...\r\n\t\t//\t|\t// raw method\r\n\t\t//\t|\t// ...back in A\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar A = declare(null, {\r\n\t\t//\t|\t\t\"-chains-\": {\r\n\t\t//\t|\t\t\tdestroy: \"before\"\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar B = declare(A, {\r\n\t\t//\t|\t\tconstructor: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"B.constructor\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tdestroy: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"B.destroy\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar C = declare(B, {\r\n\t\t//\t|\t\tconstructor: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"C.constructor\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tdestroy: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"C.destroy\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tnew C().destroy();\r\n\t\t//\t|\t// prints:\r\n\t\t//\t|\t// B.constructor\r\n\t\t//\t|\t// C.constructor\r\n\t\t//\t|\t// C.destroy\r\n\t\t//\t|\t// B.destroy\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar A = declare(null, {\r\n\t\t//\t|\t\t\"-chains-\": {\r\n\t\t//\t|\t\t\tconstructor: \"manual\"\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar B = declare(A, {\r\n\t\t//\t|\t\tconstructor: function(){\r\n\t\t//\t|\t\t\t// ...\r\n\t\t//\t|\t\t\t// call the base constructor with new parameters\r\n\t\t//\t|\t\t\tthis.inherited(arguments, [1, 2, 3]);\r\n\t\t//\t|\t\t\t// ...\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tvar A = declare(null, {\r\n\t\t//\t|\t\t\"-chains-\": {\r\n\t\t//\t|\t\t\tm1: \"before\"\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm1: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"A.m1\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm2: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"A.m2\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar B = declare(A, {\r\n\t\t//\t|\t\t\"-chains-\": {\r\n\t\t//\t|\t\t\tm2: \"after\"\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm1: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"B.m1\");\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tm2: function(){\r\n\t\t//\t|\t\t\tconsole.log(\"B.m2\");\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\tvar x = new B();\r\n\t\t//\t|\tx.m1();\r\n\t\t//\t|\t// prints:\r\n\t\t//\t|\t// B.m1\r\n\t\t//\t|\t// A.m1\r\n\t\t//\t|\tx.m2();\r\n\t\t//\t|\t// prints:\r\n\t\t//\t|\t// A.m2\r\n\t\t//\t|\t// B.m2\r\n\r\n\t\t// crack parameters\r\n\t\tif(typeof className != \"string\"){\r\n\t\t\tprops = superclass;\r\n\t\t\tsuperclass = className;\r\n\t\t\tclassName = \"\";\r\n\t\t}\r\n\t\tprops = props || {};\r\n\r\n\t\tvar proto, i, t, ctor, name, bases, chains, mixins = 1, parents = superclass;\r\n\r\n\t\t// build a prototype\r\n\t\tif(opts.call(superclass) == \"[object Array]\"){\r\n\t\t\t// C3 MRO\r\n\t\t\tbases = c3mro(superclass, className);\r\n\t\t\tt = bases[0];\r\n\t\t\tmixins = bases.length - t;\r\n\t\t\tsuperclass = bases[mixins];\r\n\t\t}else{\r\n\t\t\tbases = [0];\r\n\t\t\tif(superclass){\r\n\t\t\t\tif(opts.call(superclass) == \"[object Function]\"){\r\n\t\t\t\t\tt = superclass._meta;\r\n\t\t\t\t\tbases = bases.concat(t ? t.bases : superclass);\r\n\t\t\t\t}else{\r\n\t\t\t\t\terr(\"base class is not a callable constructor.\", className);\r\n\t\t\t\t}\r\n\t\t\t}else if(superclass !== null){\r\n\t\t\t\terr(\"unknown base class. Did you use dojo.require to pull it in?\", className);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(superclass){\r\n\t\t\tfor(i = mixins - 1;; --i){\r\n\t\t\t\tproto = forceNew(superclass);\r\n\t\t\t\tif(!i){\r\n\t\t\t\t\t// stop if nothing to add (the last base)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t// mix in properties\r\n\t\t\t\tt = bases[i];\r\n\t\t\t\t(t._meta ? mixOwn : mix)(proto, t.prototype);\r\n\t\t\t\t// chain in new constructor\r\n\t\t\t\tctor = new Function;\r\n\t\t\t\tctor.superclass = superclass;\r\n\t\t\t\tctor.prototype = proto;\r\n\t\t\t\tsuperclass = proto.constructor = ctor;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tproto = {};\r\n\t\t}\r\n\t\t// add all properties\r\n\t\tdeclare.safeMixin(proto, props);\r\n\t\t// add constructor\r\n\t\tt = props.constructor;\r\n\t\tif(t !== op.constructor){\r\n\t\t\tt.nom = cname;\r\n\t\t\tproto.constructor = t;\r\n\t\t}\r\n\r\n\t\t// collect chains and flags\r\n\t\tfor(i = mixins - 1; i; --i){ // intentional assignment\r\n\t\t\tt = bases[i]._meta;\r\n\t\t\tif(t && t.chains){\r\n\t\t\t\tchains = mix(chains || {}, t.chains);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(proto[\"-chains-\"]){\r\n\t\t\tchains = mix(chains || {}, proto[\"-chains-\"]);\r\n\t\t}\r\n\r\n\t\t// build ctor\r\n\t\tt = !chains || !chains.hasOwnProperty(cname);\r\n\t\tbases[0] = ctor = (chains && chains.constructor === \"manual\") ? simpleConstructor(bases) :\r\n\t\t\t(bases.length == 1 ? singleConstructor(props.constructor, t) : chainedConstructor(bases, t));\r\n\r\n\t\t// add meta information to the constructor\r\n\t\tctor._meta  = {bases: bases, hidden: props, chains: chains,\r\n\t\t\tparents: parents, ctor: props.constructor};\r\n\t\tctor.superclass = superclass && superclass.prototype;\r\n\t\tctor.extend = extend;\r\n\t\tctor.createSubclass = createSubclass;\r\n\t\tctor.prototype = proto;\r\n\t\tproto.constructor = ctor;\r\n\r\n\t\t// add \"standard\" methods to the prototype\r\n\t\tproto.getInherited = getInherited;\r\n\t\tproto.isInstanceOf = isInstanceOf;\r\n\t\tproto.inherited    = inheritedImpl;\r\n\t\tproto.__inherited  = inherited;\r\n\r\n\t\t// add name if specified\r\n\t\tif(className){\r\n\t\t\tproto.declaredClass = className;\r\n\t\t\tlang.setObject(className, ctor);\r\n\t\t}\r\n\r\n\t\t// build chains and add them to the prototype\r\n\t\tif(chains){\r\n\t\t\tfor(name in chains){\r\n\t\t\t\tif(proto[name] && typeof chains[name] == \"string\" && name != cname){\r\n\t\t\t\t\tt = proto[name] = chain(name, bases, chains[name] === \"after\");\r\n\t\t\t\t\tt.nom = name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// chained methods do not return values\r\n\t\t// no need to chain \"invisible\" functions\r\n\r\n\t\treturn ctor;\t// Function\r\n\t}\r\n\r\n\t/*=====\r\n\tdeclare.__DeclareCreatedObject = {\r\n\t\t// summary:\r\n\t\t//\t\tdojo/_base/declare() returns a constructor `C`.   `new C()` returns an Object with the following\r\n\t\t//\t\tmethods, in addition to the methods and properties specified via the arguments passed to declare().\r\n\r\n\t\tinherited: function(name, args, newArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls a super method.\r\n\t\t\t// name: String?\r\n\t\t\t//\t\tThe optional method name. Should be the same as the caller's\r\n\t\t\t//\t\tname. Usually \"name\" is specified in complex dynamic cases, when\r\n\t\t\t//\t\tthe calling method was dynamically added, undecorated by\r\n\t\t\t//\t\tdeclare(), and it cannot be determined.\r\n\t\t\t// args: Arguments\r\n\t\t\t//\t\tThe caller supply this argument, which should be the original\r\n\t\t\t//\t\t\"arguments\".\r\n\t\t\t// newArgs: Object?\r\n\t\t\t//\t\tIf \"true\", the found function will be returned without\r\n\t\t\t//\t\texecuting it.\r\n\t\t\t//\t\tIf Array, it will be used to call a super method. Otherwise\r\n\t\t\t//\t\t\"args\" will be used.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tWhatever is returned by a super method, or a super method itself,\r\n\t\t\t//\t\tif \"true\" was specified as newArgs.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method is used inside method of classes produced with\r\n\t\t\t//\t\tdeclare() to call a super method (next in the chain). It is\r\n\t\t\t//\t\tused for manually controlled chaining. Consider using the regular\r\n\t\t\t//\t\tchaining, because it is faster. Use \"this.inherited()\" only in\r\n\t\t\t//\t\tcomplex cases.\r\n\t\t\t//\r\n\t\t\t//\t\tThis method cannot me called from automatically chained\r\n\t\t\t//\t\tconstructors including the case of a special (legacy)\r\n\t\t\t//\t\tconstructor chaining. It cannot be called from chained methods.\r\n\t\t\t//\r\n\t\t\t//\t\tIf \"this.inherited()\" cannot find the next-in-chain method, it\r\n\t\t\t//\t\tdoes nothing and returns \"undefined\". The last method in chain\r\n\t\t\t//\t\tcan be a default method implemented in Object, which will be\r\n\t\t\t//\t\tcalled last.\r\n\t\t\t//\r\n\t\t\t//\t\tIf \"name\" is specified, it is assumed that the method that\r\n\t\t\t//\t\treceived \"args\" is the parent method for this call. It is looked\r\n\t\t\t//\t\tup in the chain list and if it is found the next-in-chain method\r\n\t\t\t//\t\tis called. If it is not found, the first-in-chain method is\r\n\t\t\t//\t\tcalled.\r\n\t\t\t//\r\n\t\t\t//\t\tIf \"name\" is not specified, it will be derived from the calling\r\n\t\t\t//\t\tmethod (using a methoid property \"nom\").\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar B = declare(A, {\r\n\t\t\t//\t|\t\tmethod1: function(a, b, c){\r\n\t\t\t//\t|\t\t\tthis.inherited(arguments);\r\n\t\t\t//\t|\t\t},\r\n\t\t\t//\t|\t\tmethod2: function(a, b){\r\n\t\t\t//\t|\t\t\treturn this.inherited(arguments, [a + b]);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\t// next method is not in the chain list because it is added\r\n\t\t\t//\t|\t// manually after the class was created.\r\n\t\t\t//\t|\tB.prototype.method3 = function(){\r\n\t\t\t//\t|\t\tconsole.log(\"This is a dynamically-added method.\");\r\n\t\t\t//\t|\t\tthis.inherited(\"method3\", arguments);\r\n\t\t\t//\t|\t};\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar B = declare(A, {\r\n\t\t\t//\t|\t\tmethod: function(a, b){\r\n\t\t\t//\t|\t\t\tvar super = this.inherited(arguments, true);\r\n\t\t\t//\t|\t\t\t// ...\r\n\t\t\t//\t|\t\t\tif(!super){\r\n\t\t\t//\t|\t\t\t\tconsole.log(\"there is no super method\");\r\n\t\t\t//\t|\t\t\t\treturn 0;\r\n\t\t\t//\t|\t\t\t}\r\n\t\t\t//\t|\t\t\treturn super.apply(this, arguments);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t|\t});\r\n\t\t\treturn\t{};\t// Object\r\n\t\t},\r\n\r\n\t\tgetInherited: function(name, args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a super method.\r\n\t\t\t// name: String?\r\n\t\t\t//\t\tThe optional method name. Should be the same as the caller's\r\n\t\t\t//\t\tname. Usually \"name\" is specified in complex dynamic cases, when\r\n\t\t\t//\t\tthe calling method was dynamically added, undecorated by\r\n\t\t\t//\t\tdeclare(), and it cannot be determined.\r\n\t\t\t// args: Arguments\r\n\t\t\t//\t\tThe caller supply this argument, which should be the original\r\n\t\t\t//\t\t\"arguments\".\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns a super method (Function) or \"undefined\".\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method is a convenience method for \"this.inherited()\".\r\n\t\t\t//\t\tIt uses the same algorithm but instead of executing a super\r\n\t\t\t//\t\tmethod, it returns it, or \"undefined\" if not found.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar B = declare(A, {\r\n\t\t\t//\t|\t\tmethod: function(a, b){\r\n\t\t\t//\t|\t\t\tvar super = this.getInherited(arguments);\r\n\t\t\t//\t|\t\t\t// ...\r\n\t\t\t//\t|\t\t\tif(!super){\r\n\t\t\t//\t|\t\t\t\tconsole.log(\"there is no super method\");\r\n\t\t\t//\t|\t\t\t\treturn 0;\r\n\t\t\t//\t|\t\t\t}\r\n\t\t\t//\t|\t\t\treturn super.apply(this, arguments);\r\n\t\t\t//\t|\t\t}\r\n\t\t\t//\t|\t});\r\n\t\t\treturn\t{};\t// Object\r\n\t\t},\r\n\r\n\t\tisInstanceOf: function(cls){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks the inheritance chain to see if it is inherited from this\r\n\t\t\t//\t\tclass.\r\n\t\t\t// cls: Function\r\n\t\t\t//\t\tClass constructor.\r\n\t\t\t// returns:\r\n\t\t\t//\t\t\"true\", if this object is inherited from this class, \"false\"\r\n\t\t\t//\t\totherwise.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method is used with instances of classes produced with\r\n\t\t\t//\t\tdeclare() to determine of they support a certain interface or\r\n\t\t\t//\t\tnot. It models \"instanceof\" operator.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar A = declare(null, {\r\n\t\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t\t//\t|\t\t// ...\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar B = declare(null, {\r\n\t\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t\t//\t|\t\t// ...\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar C = declare([A, B], {\r\n\t\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t\t//\t|\t\t// ...\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar D = declare(A, {\r\n\t\t\t//\t|\t\t// constructor, properties, and methods go here\r\n\t\t\t//\t|\t\t// ...\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\r\n\t\t\t//\t|\tvar a = new A(), b = new B(), c = new C(), d = new D();\r\n\t\t\t//\t|\r\n\t\t\t//\t|\tconsole.log(a.isInstanceOf(A)); // true\r\n\t\t\t//\t|\tconsole.log(b.isInstanceOf(A)); // false\r\n\t\t\t//\t|\tconsole.log(c.isInstanceOf(A)); // true\r\n\t\t\t//\t|\tconsole.log(d.isInstanceOf(A)); // true\r\n\t\t\t//\t|\r\n\t\t\t//\t|\tconsole.log(a.isInstanceOf(B)); // false\r\n\t\t\t//\t|\tconsole.log(b.isInstanceOf(B)); // true\r\n\t\t\t//\t|\tconsole.log(c.isInstanceOf(B)); // true\r\n\t\t\t//\t|\tconsole.log(d.isInstanceOf(B)); // false\r\n\t\t\t//\t|\r\n\t\t\t//\t|\tconsole.log(a.isInstanceOf(C)); // false\r\n\t\t\t//\t|\tconsole.log(b.isInstanceOf(C)); // false\r\n\t\t\t//\t|\tconsole.log(c.isInstanceOf(C)); // true\r\n\t\t\t//\t|\tconsole.log(d.isInstanceOf(C)); // false\r\n\t\t\t//\t|\r\n\t\t\t//\t|\tconsole.log(a.isInstanceOf(D)); // false\r\n\t\t\t//\t|\tconsole.log(b.isInstanceOf(D)); // false\r\n\t\t\t//\t|\tconsole.log(c.isInstanceOf(D)); // false\r\n\t\t\t//\t|\tconsole.log(d.isInstanceOf(D)); // true\r\n\t\t\treturn\t{};\t// Object\r\n\t\t},\r\n\r\n\t\textend: function(source){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds all properties and methods of source to constructor's\r\n\t\t\t//\t\tprototype, making them available to all instances created with\r\n\t\t\t//\t\tconstructor. This method is specific to constructors created with\r\n\t\t\t//\t\tdeclare().\r\n\t\t\t// source: Object\r\n\t\t\t//\t\tSource object which properties are going to be copied to the\r\n\t\t\t//\t\tconstructor's prototype.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAdds source properties to the constructor's prototype. It can\r\n\t\t\t//\t\toverride existing properties.\r\n\t\t\t//\r\n\t\t\t//\t\tThis method is similar to dojo.extend function, but it is specific\r\n\t\t\t//\t\tto constructors produced by declare(). It is implemented\r\n\t\t\t//\t\tusing dojo.safeMixin, and it skips a constructor property,\r\n\t\t\t//\t\tand properly decorates copied functions.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar A = declare(null, {\r\n\t\t\t//\t|\t\tm1: function(){},\r\n\t\t\t//\t|\t\ts1: \"Popokatepetl\"\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tA.extend({\r\n\t\t\t//\t|\t\tm1: function(){},\r\n\t\t\t//\t|\t\tm2: function(){},\r\n\t\t\t//\t|\t\tf1: true,\r\n\t\t\t//\t|\t\td1: 42\r\n\t\t\t//\t|\t});\r\n\t\t},\r\n\r\n\t\tcreateSubclass: function(mixins, props){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate a subclass of the declared class from a list of base classes.\r\n\t\t\t// mixins: Function[]\r\n\t\t\t//\t\tSpecifies a list of bases (the left-most one is the most deepest\r\n\t\t\t//\t\tbase).\r\n\t\t\t// props: Object?\r\n\t\t\t//\t\tAn optional object whose properties are copied to the created prototype.\r\n\t\t\t// returns: dojo/_base/declare.__DeclareCreatedObject\r\n\t\t\t//\t\tNew constructor function.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCreate a constructor using a compact notation for inheritance and\r\n\t\t\t//\t\tprototype extension.\r\n\t\t\t//\r\n\t\t\t//\t\tMixin ancestors provide a type of multiple inheritance.\r\n\t\t\t//\t\tPrototypes of mixin ancestors are copied to the new class:\r\n\t\t\t//\t\tchanges to mixin prototypes will not affect classes to which\r\n\t\t\t//\t\tthey have been mixed in.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar A = declare(null, {\r\n\t\t\t//\t|\t\tm1: function(){},\r\n\t\t\t//\t|\t\ts1: \"bar\"\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar B = declare(null, {\r\n\t\t\t//\t|\t\tm2: function(){},\r\n\t\t\t//\t|\t\ts2: \"foo\"\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar C = declare(null, {\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar D1 = A.createSubclass([B, C], {\r\n\t\t\t//\t|\t\tm1: function(){},\r\n\t\t\t//\t|\t\td1: 42\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar d1 = new D1();\r\n\t\t\t//\t|\r\n\t\t\t//\t|\t// this is equivalent to:\r\n\t\t\t//\t|\tvar D2 = declare([A, B, C], {\r\n\t\t\t//\t|\t\tm1: function(){},\r\n\t\t\t//\t|\t\td1: 42\r\n\t\t\t//\t|\t});\r\n\t\t\t//\t|\tvar d2 = new D2();\r\n\t\t}\r\n\t};\r\n\t=====*/\r\n\r\n\t// For back-compat, remove for 2.0\r\n\tdojo.safeMixin = declare.safeMixin = safeMixin;\r\n\tdojo.declare = declare;\r\n\r\n\treturn declare;\r\n});\r\n\ndefine('dijit/registry',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"./main\"\t// dijit._scopeName\r\n], function(array, win, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/registry\r\n\r\n\tvar _widgetTypeCtr = {}, hash = {};\r\n\r\n\tvar registry =  {\r\n\t\t// summary:\r\n\t\t//\t\tRegistry of existing widget on page, plus some utility methods.\r\n\r\n\t\t// length: Number\r\n\t\t//\t\tNumber of registered widgets\r\n\t\tlength: 0,\r\n\r\n\t\tadd: function(widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd a widget to the registry. If a duplicate ID is detected, a error is thrown.\r\n\t\t\t// widget: dijit/_WidgetBase\r\n\t\t\t//\t\tAny dijit/_WidgetBase subclass.\r\n\t\t\tif(hash[widget.id]){\r\n\t\t\t\tthrow new Error(\"Tried to register widget with id==\" + widget.id + \" but that id is already registered\");\r\n\t\t\t}\r\n\t\t\thash[widget.id] = widget;\r\n\t\t\tthis.length++;\r\n\t\t},\r\n\r\n\t\tremove: function(/*String*/ id){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove a widget from the registry. Does not destroy the widget; simply\r\n\t\t\t//\t\tremoves the reference.\r\n\t\t\tif(hash[id]){\r\n\t\t\t\tdelete hash[id];\r\n\t\t\t\tthis.length--;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbyId: function(/*String|Widget*/ id){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFind a widget by it's id.\r\n\t\t\t//\t\tIf passed a widget then just returns the widget.\r\n\t\t\treturn typeof id == \"string\" ? hash[id] : id;\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tbyNode: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the widget corresponding to the given DOMNode\r\n\t\t\treturn hash[node.getAttribute(\"widgetId\")]; // dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\ttoArray: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert registry into a true Array\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tWork with the widget .domNodes in a real Array\r\n\t\t\t//\t\t|\tarray.map(registry.toArray(), function(w){ return w.domNode; });\r\n\r\n\t\t\tvar ar = [];\r\n\t\t\tfor(var id in hash){\r\n\t\t\t\tar.push(hash[id]);\r\n\t\t\t}\r\n\t\t\treturn ar;\t// dijit/_WidgetBase[]\r\n\t\t},\r\n\r\n\t\tgetUniqueId: function(/*String*/widgetType){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGenerates a unique id for a given widgetType\r\n\r\n\t\t\tvar id;\r\n\t\t\tdo{\r\n\t\t\t\tid = widgetType + \"_\" +\r\n\t\t\t\t\t(widgetType in _widgetTypeCtr ?\r\n\t\t\t\t\t\t++_widgetTypeCtr[widgetType] : _widgetTypeCtr[widgetType] = 0);\r\n\t\t\t}while(hash[id]);\r\n\t\t\treturn dijit._scopeName == \"dijit\" ? id : dijit._scopeName + \"_\" + id; // String\r\n\t\t},\r\n\r\n\t\tfindWidgets: function(root, skipNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSearch subtree under root returning widgets found.\r\n\t\t\t//\t\tDoesn't search for nested widgets (ie, widgets inside other widgets).\r\n\t\t\t// root: DOMNode\r\n\t\t\t//\t\tNode to search under.\r\n\t\t\t// skipNode: DOMNode\r\n\t\t\t//\t\tIf specified, don't search beneath this node (usually containerNode).\r\n\r\n\t\t\tvar outAry = [];\r\n\r\n\t\t\tfunction getChildrenHelper(root){\r\n\t\t\t\tfor(var node = root.firstChild; node; node = node.nextSibling){\r\n\t\t\t\t\tif(node.nodeType == 1){\r\n\t\t\t\t\t\tvar widgetId = node.getAttribute(\"widgetId\");\r\n\t\t\t\t\t\tif(widgetId){\r\n\t\t\t\t\t\t\tvar widget = hash[widgetId];\r\n\t\t\t\t\t\t\tif(widget){\t// may be null on page w/multiple dojo's loaded\r\n\t\t\t\t\t\t\t\toutAry.push(widget);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(node !== skipNode){\r\n\t\t\t\t\t\t\tgetChildrenHelper(node);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tgetChildrenHelper(root);\r\n\t\t\treturn outAry;\r\n\t\t},\r\n\r\n\t\t_destroyAll: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCode to destroy all widgets and do other cleanup on page unload\r\n\r\n\t\t\t// Clean up focus manager lingering references to widgets and nodes\r\n\t\t\tdijit._curFocus = null;\r\n\t\t\tdijit._prevFocus = null;\r\n\t\t\tdijit._activeStack = [];\r\n\r\n\t\t\t// Destroy all the widgets, top down\r\n\t\t\tarray.forEach(registry.findWidgets(win.body()), function(widget){\r\n\t\t\t\t// Avoid double destroy of widgets like Menu that are attached to <body>\r\n\t\t\t\t// even though they are logically children of other widgets.\r\n\t\t\t\tif(!widget._destroyed){\r\n\t\t\t\t\tif(widget.destroyRecursive){\r\n\t\t\t\t\t\twidget.destroyRecursive();\r\n\t\t\t\t\t}else if(widget.destroy){\r\n\t\t\t\t\t\twidget.destroy();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetEnclosingWidget: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the widget whose DOM tree contains the specified DOMNode, or null if\r\n\t\t\t//\t\tthe node is not contained within the DOM tree of any widget\r\n\t\t\twhile(node){\r\n\t\t\t\tvar id = node.nodeType == 1 && node.getAttribute(\"widgetId\");\r\n\t\t\t\tif(id){\r\n\t\t\t\t\treturn hash[id];\r\n\t\t\t\t}\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t// In case someone needs to access hash.\r\n\t\t// Actually, this is accessed from WidgetSet back-compatibility code\r\n\t\t_hash: hash\r\n\t};\r\n\r\n\tdijit.registry = registry;\r\n\r\n\treturn registry;\r\n});\r\n\ndefine('dijit/WidgetSet',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.global\r\n\t\"./registry\"\t// to add functions to dijit.registry\r\n], function(array, declare, kernel, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/WidgetSet\r\n\r\n\tvar WidgetSet = declare(\"dijit.WidgetSet\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA set of widgets indexed by id.\r\n\t\t//\t\tDeprecated, will be removed in 2.0.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tCreate a small list of widgets:\r\n\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t//\t\t|\t\tvar ws = new WidgetSet();\r\n\t\t//\t\t|\t\tws.add(registry.byId(\"one\"));\r\n\t\t//\t\t|\t\tws.add(registry.byId(\"two\"));\r\n\t\t//\t\t|\t\t// destroy both:\r\n\t\t//\t\t|\t\tws.forEach(function(w){ w.destroy(); });\r\n\t\t//\t\t|\t});\r\n\r\n\t\tconstructor: function(){\r\n\t\t\tthis._hash = {};\r\n\t\t\tthis.length = 0;\r\n\t\t},\r\n\r\n\t\tadd: function(/*dijit/_WidgetBase*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd a widget to this list. If a duplicate ID is detected, a error is thrown.\r\n\t\t\t//\r\n\t\t\t// widget: dijit/_WidgetBase\r\n\t\t\t//\t\tAny dijit/_WidgetBase subclass.\r\n\t\t\tif(this._hash[widget.id]){\r\n\t\t\t\tthrow new Error(\"Tried to register widget with id==\" + widget.id + \" but that id is already registered\");\r\n\t\t\t}\r\n\t\t\tthis._hash[widget.id] = widget;\r\n\t\t\tthis.length++;\r\n\t\t},\r\n\r\n\t\tremove: function(/*String*/ id){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove a widget from this WidgetSet. Does not destroy the widget; simply\r\n\t\t\t//\t\tremoves the reference.\r\n\t\t\tif(this._hash[id]){\r\n\t\t\t\tdelete this._hash[id];\r\n\t\t\t\tthis.length--;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tforEach: function(/*Function*/ func, /* Object? */thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCall specified function for each widget in this set.\r\n\t\t\t//\r\n\t\t\t// func:\r\n\t\t\t//\t\tA callback function to run for each item. Is passed the widget, the index\r\n\t\t\t//\t\tin the iteration, and the full hash, similar to `array.forEach`.\r\n\t\t\t//\r\n\t\t\t// thisObj:\r\n\t\t\t//\t\tAn optional scope parameter\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tUsing the default `dijit.registry` instance:\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tregistry.forEach(function(widget){\r\n\t\t\t//\t\t|\t\t\tconsole.log(widget.declaredClass);\r\n\t\t\t//\t\t|\t\t});\r\n\t\t\t//\t\t|\t});\r\n\t\t\t//\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns self, in order to allow for further chaining.\r\n\r\n\t\t\tthisObj = thisObj || kernel.global;\r\n\t\t\tvar i = 0, id;\r\n\t\t\tfor(id in this._hash){\r\n\t\t\t\tfunc.call(thisObj, this._hash[id], i++, this._hash);\r\n\t\t\t}\r\n\t\t\treturn this;\t// dijit/WidgetSet\r\n\t\t},\r\n\r\n\t\tfilter: function(/*Function*/ filter, /* Object? */thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFilter down this WidgetSet to a smaller new WidgetSet\r\n\t\t\t//\t\tWorks the same as `array.filter` and `NodeList.filter`\r\n\t\t\t//\r\n\t\t\t// filter:\r\n\t\t\t//\t\tCallback function to test truthiness. Is passed the widget\r\n\t\t\t//\t\treference and the pseudo-index in the object.\r\n\t\t\t//\r\n\t\t\t// thisObj: Object?\r\n\t\t\t//\t\tOption scope to use for the filter function.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tArbitrary: select the odd widgets in this list\r\n\t\t\t//\t\t|\t\r\n\t\t\t//\t\t|\t\t\r\n\t\t\t//\t\t|\t\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tregistry.filter(function(w, i){\r\n\t\t\t//\t\t|\t\t\treturn i % 2 == 0;\r\n\t\t\t//\t\t|\t\t}).forEach(function(w){ /* odd ones */ });\r\n\t\t\t//\t\t|\t});\r\n\r\n\t\t\tthisObj = thisObj || kernel.global;\r\n\t\t\tvar res = new WidgetSet(), i = 0, id;\r\n\t\t\tfor(id in this._hash){\r\n\t\t\t\tvar w = this._hash[id];\r\n\t\t\t\tif(filter.call(thisObj, w, i++, this._hash)){\r\n\t\t\t\t\tres.add(w);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res; // dijit/WidgetSet\r\n\t\t},\r\n\r\n\t\tbyId: function(/*String*/ id){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFind a widget in this list by it's id.\r\n\t\t\t// example:\r\n\t\t\t//\t\tTest if an id is in a particular WidgetSet\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tvar ws = new WidgetSet();\r\n\t\t\t//\t\t|\t\tws.add(registry.byId(\"bar\"));\r\n\t\t\t//\t\t|\t\tvar t = ws.byId(\"bar\") // returns a widget\r\n\t\t\t//\t\t|\t\tvar x = ws.byId(\"foo\"); // returns undefined\r\n\t\t\t//\t\t|\t});\r\n\r\n\t\t\treturn this._hash[id];\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tbyClass: function(/*String*/ cls){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReduce this widgetset to a new WidgetSet of a particular `declaredClass`\r\n\t\t\t//\r\n\t\t\t// cls: String\r\n\t\t\t//\t\tThe Class to scan for. Full dot-notated string.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tFind all `dijit.TitlePane`s in a page:\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tregistry.byClass(\"dijit.TitlePane\").forEach(function(tp){ tp.close(); });\r\n\t\t\t//\t\t|\t});\r\n\r\n\t\t\tvar res = new WidgetSet(), id, widget;\r\n\t\t\tfor(id in this._hash){\r\n\t\t\t\twidget = this._hash[id];\r\n\t\t\t\tif(widget.declaredClass == cls){\r\n\t\t\t\t\tres.add(widget);\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t\t return res; // dijit/WidgetSet\r\n\t\t},\r\n\r\n\t\ttoArray: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert this WidgetSet into a true Array\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tWork with the widget .domNodes in a real Array\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tarray.map(registry.toArray(), function(w){ return w.domNode; });\r\n\t\t\t//\t\t|\t});\r\n\r\n\r\n\t\t\tvar ar = [];\r\n\t\t\tfor(var id in this._hash){\r\n\t\t\t\tar.push(this._hash[id]);\r\n\t\t\t}\r\n\t\t\treturn ar;\t// dijit/_WidgetBase[]\r\n\t\t},\r\n\r\n\t\tmap: function(/* Function */func, /* Object? */thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate a new Array from this WidgetSet, following the same rules as `array.map`\r\n\t\t\t// example:\r\n\t\t\t//\t\t|\trequire([\"dijit/WidgetSet\", \"dijit/registry\"],\r\n\t\t\t//\t\t|\t\tfunction(WidgetSet, registry){\r\n\t\t\t//\t\t|\t\tvar nodes = registry.map(function(w){ return w.domNode; });\r\n\t\t\t//\t\t|\t});\r\n\t\t\t//\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA new array of the returned values.\r\n\t\t\treturn array.map(this.toArray(), func, thisObj); // Array\r\n\t\t},\r\n\r\n\t\tevery: function(func, thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA synthetic clone of `array.every` acting explicitly on this WidgetSet\r\n\t\t\t//\r\n\t\t\t// func: Function\r\n\t\t\t//\t\tA callback function run for every widget in this list. Exits loop\r\n\t\t\t//\t\twhen the first false return is encountered.\r\n\t\t\t//\r\n\t\t\t// thisObj: Object?\r\n\t\t\t//\t\tOptional scope parameter to use for the callback\r\n\r\n\t\t\tthisObj = thisObj || kernel.global;\r\n\t\t\tvar x = 0, i;\r\n\t\t\tfor(i in this._hash){\r\n\t\t\t\tif(!func.call(thisObj, this._hash[i], x++, this._hash)){\r\n\t\t\t\t\treturn false; // Boolean\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true; // Boolean\r\n\t\t},\r\n\r\n\t\tsome: function(func, thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA synthetic clone of `array.some` acting explicitly on this WidgetSet\r\n\t\t\t//\r\n\t\t\t// func: Function\r\n\t\t\t//\t\tA callback function run for every widget in this list. Exits loop\r\n\t\t\t//\t\twhen the first true return is encountered.\r\n\t\t\t//\r\n\t\t\t// thisObj: Object?\r\n\t\t\t//\t\tOptional scope parameter to use for the callback\r\n\r\n\t\t\tthisObj = thisObj || kernel.global;\r\n\t\t\tvar x = 0, i;\r\n\t\t\tfor(i in this._hash){\r\n\t\t\t\tif(func.call(thisObj, this._hash[i], x++, this._hash)){\r\n\t\t\t\t\treturn true; // Boolean\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false; // Boolean\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t// Add in 1.x compatibility methods to dijit/registry.\r\n\t// These functions won't show up in the API doc but since they are deprecated anyway,\r\n\t// that's probably for the best.\r\n\tarray.forEach([\"forEach\", \"filter\", \"byClass\", \"map\", \"every\", \"some\"], function(func){\r\n\t\tregistry[func] = WidgetSet.prototype[func];\r\n\t});\r\n\r\n\r\n\treturn WidgetSet;\r\n});\r\n\ndefine('dojo/dom-class',[\"./_base/lang\", \"./_base/array\", \"./dom\"], function(lang, array, dom){\r\n\t// module:\r\n\t//\t\tdojo/dom-class\r\n\r\n\tvar className = \"className\";\r\n\r\n\t/* Part I of classList-based implementation is preserved here for posterity\r\n\tvar classList = \"classList\";\r\n\thas.add(\"dom-classList\", function(){\r\n\t\treturn classList in document.createElement(\"p\");\r\n\t});\r\n\t*/\r\n\r\n\t// =============================\r\n\t// (CSS) Class Functions\r\n\t// =============================\r\n\r\n\tvar cls, // exports object\r\n\t\tspaces = /\\s+/, a1 = [\"\"];\r\n\r\n\tfunction str2array(s){\r\n\t\tif(typeof s == \"string\" || s instanceof String){\r\n\t\t\tif(s && !spaces.test(s)){\r\n\t\t\t\ta1[0] = s;\r\n\t\t\t\treturn a1;\r\n\t\t\t}\r\n\t\t\tvar a = s.split(spaces);\r\n\t\t\tif(a.length && !a[0]){\r\n\t\t\t\ta.shift();\r\n\t\t\t}\r\n\t\t\tif(a.length && !a[a.length - 1]){\r\n\t\t\t\ta.pop();\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t}\r\n\t\t// assumed to be an array\r\n\t\tif(!s){\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn array.filter(s, function(x){ return x; });\r\n\t}\r\n\r\n\t/* Part II of classList-based implementation is preserved here for posterity\r\n\tif(has(\"dom-classList\")){\r\n\t\t// new classList version\r\n\t\tcls = {\r\n\t\t\tcontains: function containsClass(node, classStr){\r\n\t\t\t\tvar clslst = classStr && dom.byId(node)[classList];\r\n\t\t\t\treturn clslst && clslst.contains(classStr); // Boolean\r\n\t\t\t},\r\n\r\n\t\t\tadd: function addClass(node, classStr){\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tclassStr = str2array(classStr);\r\n\t\t\t\tfor(var i = 0, len = classStr.length; i < len; ++i){\r\n\t\t\t\t\tnode[classList].add(classStr[i]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tremove: function removeClass(node, classStr){\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tif(classStr === undefined){\r\n\t\t\t\t\tnode[className] = \"\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tclassStr = str2array(classStr);\r\n\t\t\t\t\tfor(var i = 0, len = classStr.length; i < len; ++i){\r\n\t\t\t\t\t\tnode[classList].remove(classStr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\treplace: function replaceClass(node, addClassStr, removeClassStr){\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tif(removeClassStr === undefined){\r\n\t\t\t\t\tnode[className] = \"\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tremoveClassStr = str2array(removeClassStr);\r\n\t\t\t\t\tfor(var i = 0, len = removeClassStr.length; i < len; ++i){\r\n\t\t\t\t\t\tnode[classList].remove(removeClassStr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\taddClassStr = str2array(addClassStr);\r\n\t\t\t\tfor(i = 0, len = addClassStr.length; i < len; ++i){\r\n\t\t\t\t\tnode[classList].add(addClassStr[i]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\ttoggle: function toggleClass(node, classStr, condition){\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tif(condition === undefined){\r\n\t\t\t\t\tclassStr = str2array(classStr);\r\n\t\t\t\t\tfor(var i = 0, len = classStr.length; i < len; ++i){\r\n\t\t\t\t\t\tnode[classList].toggle(classStr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcls[condition ? \"add\" : \"remove\"](node, classStr);\r\n\t\t\t\t}\r\n\t\t\t\treturn condition;   // Boolean\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\t// regular DOM version\r\n\tvar fakeNode = {};  // for effective replacement\r\n\tcls = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines the core dojo DOM class API.\r\n\r\n\t\tcontains: function containsClass(/*DomNode|String*/ node, /*String*/ classStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns whether or not the specified classes are a portion of the\r\n\t\t\t//\t\tclass list currently applied to the node.\r\n\t\t\t// node: String|DOMNode\r\n\t\t\t//\t\tString ID or DomNode reference to check the class for.\r\n\t\t\t// classStr: String\r\n\t\t\t//\t\tA string class name to look for.\r\n\t\t\t// example:\r\n\t\t\t//\t\tDo something if a node with id=\"someNode\" has class=\"aSillyClassName\" present\r\n\t\t\t//\t|\tif(dojo.hasClass(\"someNode\",\"aSillyClassName\")){ ... }\r\n\r\n\t\t\treturn ((\" \" + dom.byId(node)[className] + \" \").indexOf(\" \" + classStr + \" \") >= 0); // Boolean\r\n\t\t},\r\n\r\n\t\tadd: function addClass(/*DomNode|String*/ node, /*String|Array*/ classStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds the specified classes to the end of the class list on the\r\n\t\t\t//\t\tpassed node. Will not re-apply duplicate classes.\r\n\t\t\t//\r\n\t\t\t// node: String|DOMNode\r\n\t\t\t//\t\tString ID or DomNode reference to add a class string too\r\n\t\t\t//\r\n\t\t\t// classStr: String|Array\r\n\t\t\t//\t\tA String class name to add, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAdd a class to some node:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.add(\"someNode\", \"anewClass\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAdd two classes at once:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.add(\"someNode\", \"firstClass secondClass\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAdd two classes at once (using array):\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.add(\"someNode\", [\"firstClass\", \"secondClass\"]);\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAvailable in `dojo/NodeList` for multiple additions\r\n\t\t\t//\t|\trequire([\"dojo/query\"], function(query){\r\n\t\t\t//\t|\t\tquery(\"ul > li\").addClass(\"firstLevel\");\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\tnode = dom.byId(node);\r\n\t\t\tclassStr = str2array(classStr);\r\n\t\t\tvar cls = node[className], oldLen;\r\n\t\t\tcls = cls ? \" \" + cls + \" \" : \" \";\r\n\t\t\toldLen = cls.length;\r\n\t\t\tfor(var i = 0, len = classStr.length, c; i < len; ++i){\r\n\t\t\t\tc = classStr[i];\r\n\t\t\t\tif(c && cls.indexOf(\" \" + c + \" \") < 0){\r\n\t\t\t\t\tcls += c + \" \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(oldLen < cls.length){\r\n\t\t\t\tnode[className] = cls.substr(1, cls.length - 2);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremove: function removeClass(/*DomNode|String*/ node, /*String|Array?*/ classStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves the specified classes from node. No `contains()`\r\n\t\t\t//\t\tcheck is required.\r\n\t\t\t//\r\n\t\t\t// node: String|DOMNode\r\n\t\t\t//\t\tString ID or DomNode reference to remove the class from.\r\n\t\t\t//\r\n\t\t\t// classStr: String|Array\r\n\t\t\t//\t\tAn optional String class name to remove, or several space-separated\r\n\t\t\t//\t\tclass names, or an array of class names. If omitted, all class names\r\n\t\t\t//\t\twill be deleted.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tRemove a class from some node:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.remove(\"someNode\", \"firstClass\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tRemove two classes from some node:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.remove(\"someNode\", \"firstClass secondClass\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tRemove two classes from some node (using array):\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.remove(\"someNode\", [\"firstClass\", \"secondClass\"]);\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tRemove all classes from some node:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.remove(\"someNode\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAvailable in `dojo/NodeList` for multiple removal\r\n\t\t\t//\t|\trequire([\"dojo/query\"], function(query){\r\n\t\t\t//\t|\t\tquery(\"ul > li\").removeClass(\"foo\");\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\tnode = dom.byId(node);\r\n\t\t\tvar cls;\r\n\t\t\tif(classStr !== undefined){\r\n\t\t\t\tclassStr = str2array(classStr);\r\n\t\t\t\tcls = \" \" + node[className] + \" \";\r\n\t\t\t\tfor(var i = 0, len = classStr.length; i < len; ++i){\r\n\t\t\t\t\tcls = cls.replace(\" \" + classStr[i] + \" \", \" \");\r\n\t\t\t\t}\r\n\t\t\t\tcls = lang.trim(cls);\r\n\t\t\t}else{\r\n\t\t\t\tcls = \"\";\r\n\t\t\t}\r\n\t\t\tif(node[className] != cls){ node[className] = cls; }\r\n\t\t},\r\n\r\n\t\treplace: function replaceClass(/*DomNode|String*/ node, /*String|Array*/ addClassStr, /*String|Array?*/ removeClassStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReplaces one or more classes on a node if not present.\r\n\t\t\t//\t\tOperates more quickly than calling dojo.removeClass and dojo.addClass\r\n\t\t\t//\r\n\t\t\t// node: String|DOMNode\r\n\t\t\t//\t\tString ID or DomNode reference to remove the class from.\r\n\t\t\t//\r\n\t\t\t// addClassStr: String|Array\r\n\t\t\t//\t\tA String class name to add, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\t//\r\n\t\t\t// removeClassStr: String|Array?\r\n\t\t\t//\t\tA String class name to remove, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.replace(\"someNode\", \"add1 add2\", \"remove1 remove2\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\tReplace all classes with addMe\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.replace(\"someNode\", \"addMe\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\tAvailable in `dojo/NodeList` for multiple toggles\r\n\t\t\t//\t|\trequire([\"dojo/query\"], function(query){\r\n\t\t\t//\t|\t\tquery(\".findMe\").replaceClass(\"addMe\", \"removeMe\");\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\tnode = dom.byId(node);\r\n\t\t\tfakeNode[className] = node[className];\r\n\t\t\tcls.remove(fakeNode, removeClassStr);\r\n\t\t\tcls.add(fakeNode, addClassStr);\r\n\t\t\tif(node[className] !== fakeNode[className]){\r\n\t\t\t\tnode[className] = fakeNode[className];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttoggle: function toggleClass(/*DomNode|String*/ node, /*String|Array*/ classStr, /*Boolean?*/ condition){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds a class to node if not present, or removes if present.\r\n\t\t\t//\t\tPass a boolean condition if you want to explicitly add or remove.\r\n\t\t\t//\t\tReturns the condition that was specified directly or indirectly.\r\n\t\t\t//\r\n\t\t\t// node: String|DOMNode\r\n\t\t\t//\t\tString ID or DomNode reference to toggle a class string\r\n\t\t\t//\r\n\t\t\t// classStr: String|Array\r\n\t\t\t//\t\tA String class name to toggle, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\t//\r\n\t\t\t// condition:\r\n\t\t\t//\t\tIf passed, true means to add the class, false means to remove.\r\n\t\t\t//\t\tOtherwise dojo.hasClass(node, classStr) is used to detect the class presence.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.toggle(\"someNode\", \"hovered\");\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tForcefully add a class\r\n\t\t\t//\t|\trequire([\"dojo/dom-class\"], function(domClass){\r\n\t\t\t//\t|\t\tdomClass.toggle(\"someNode\", \"hovered\", true);\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tAvailable in `dojo/NodeList` for multiple toggles\r\n\t\t\t//\t|\trequire([\"dojo/query\"], function(query){\r\n\t\t\t//\t|\t\tquery(\".toggleMe\").toggleClass(\"toggleMe\");\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\tnode = dom.byId(node);\r\n\t\t\tif(condition === undefined){\r\n\t\t\t\tclassStr = str2array(classStr);\r\n\t\t\t\tfor(var i = 0, len = classStr.length, c; i < len; ++i){\r\n\t\t\t\t\tc = classStr[i];\r\n\t\t\t\t\tcls[cls.contains(node, c) ? \"remove\" : \"add\"](node, c);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tcls[condition ? \"add\" : \"remove\"](node, classStr);\r\n\t\t\t}\r\n\t\t\treturn condition;   // Boolean\r\n\t\t}\r\n\t};\r\n\r\n\treturn cls;\r\n});\r\n\ndefine('dojo/domReady',['./has'], function(has){\r\n\tvar global = (function () { return this; })(),\r\n\t\tdoc = document,\r\n\t\treadyStates = { 'loaded': 1, 'complete': 1 },\r\n\t\tfixReadyState = typeof doc.readyState != \"string\",\r\n\t\tready = !!readyStates[doc.readyState],\r\n\t\treadyQ = [],\r\n\t\trecursiveGuard;\r\n\r\n\tfunction domReady(callback){\r\n\t\t// summary:\r\n\t\t//\t\tPlugin to delay require()/define() callback from firing until the DOM has finished loading.\r\n\t\treadyQ.push(callback);\r\n\t\tif(ready){ processQ(); }\r\n\t}\r\n\tdomReady.load = function(id, req, load){\r\n\t\tdomReady(load);\r\n\t};\r\n\r\n\t// Export queue so that ready() can check if it's empty or not.\r\n\tdomReady._Q = readyQ;\r\n\tdomReady._onQEmpty = function(){\r\n\t\t// summary:\r\n\t\t//\t\tPrivate method overridden by dojo/ready, to notify when everything in the\r\n\t\t//\t\tdomReady queue has been processed.  Do not use directly.\r\n\t\t//\t\tWill be removed in 2.0, along with domReady._Q.\r\n\t};\r\n\r\n\t// For FF <= 3.5\r\n\tif(fixReadyState){ doc.readyState = \"loading\"; }\r\n\r\n\tfunction processQ(){\r\n\t\t// Calls all functions in the queue in order, unless processQ() is already running, in which case just return\r\n\r\n\t\tif(recursiveGuard){ return; }\r\n\t\trecursiveGuard = true;\r\n\r\n\t\twhile(readyQ.length){\r\n\t\t\ttry{\r\n\t\t\t\t(readyQ.shift())(doc);\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.error(err, \"in domReady callback\", err.stack);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trecursiveGuard = false;\r\n\r\n\t\t// Notification for dojo/ready.  Remove for 2.0.\r\n\t\t// Note that this could add more tasks to the ready queue.\r\n\t\tdomReady._onQEmpty();\r\n\t}\r\n\r\n\tif(!ready){\r\n\t\tvar tests = [],\r\n\t\t\tdetectReady = function(evt){\r\n\t\t\t\tevt = evt || global.event;\r\n\t\t\t\tif(ready || (evt.type == \"readystatechange\" && !readyStates[doc.readyState])){ return; }\r\n\r\n\t\t\t\t// For FF <= 3.5\r\n\t\t\t\tif(fixReadyState){ doc.readyState = \"complete\"; }\r\n\r\n\t\t\t\tready = 1;\r\n\t\t\t\tprocessQ();\r\n\t\t\t},\r\n\t\t\ton = function(node, event){\r\n\t\t\t\tnode.addEventListener(event, detectReady, false);\r\n\t\t\t\treadyQ.push(function(){ node.removeEventListener(event, detectReady, false); });\r\n\t\t\t};\r\n\r\n\t\tif(!has(\"dom-addeventlistener\")){\r\n\t\t\ton = function(node, event){\r\n\t\t\t\tevent = \"on\" + event;\r\n\t\t\t\tnode.attachEvent(event, detectReady);\r\n\t\t\t\treadyQ.push(function(){ node.detachEvent(event, detectReady); });\r\n\t\t\t};\r\n\r\n\t\t\tvar div = doc.createElement(\"div\");\r\n\t\t\ttry{\r\n\t\t\t\tif(div.doScroll && global.frameElement === null){\r\n\t\t\t\t\t// the doScroll test is only useful if we're in the top-most frame\r\n\t\t\t\t\ttests.push(function(){\r\n\t\t\t\t\t\t// Derived with permission from Diego Perini's IEContentLoaded\r\n\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tdiv.doScroll(\"left\");\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}catch(e){}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}catch(e){}\r\n\t\t}\r\n\r\n\t\ton(doc, \"DOMContentLoaded\");\r\n\t\ton(global, \"load\");\r\n\r\n\t\tif(\"onreadystatechange\" in doc){\r\n\t\t\ton(doc, \"readystatechange\");\r\n\t\t}else if(!fixReadyState){\r\n\t\t\t// if the ready state property exists and there's\r\n\t\t\t// no readystatechange event, poll for the state\r\n\t\t\t// to change\r\n\t\t\ttests.push(function(){\r\n\t\t\t\treturn readyStates[doc.readyState];\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(tests.length){\r\n\t\t\tvar poller = function(){\r\n\t\t\t\tif(ready){ return; }\r\n\t\t\t\tvar i = tests.length;\r\n\t\t\t\twhile(i--){\r\n\t\t\t\t\tif(tests[i]()){\r\n\t\t\t\t\t\tdetectReady(\"poller\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(poller, 30);\r\n\t\t\t};\r\n\t\t\tpoller();\r\n\t\t}\r\n\t}\r\n\r\n\treturn domReady;\r\n});\r\n\ndefine('dojo/errors/create',[\"../_base/lang\"], function(lang){\r\n\treturn function(name, ctor, base, props){\r\n\t\tbase = base || Error;\r\n\r\n\t\tvar ErrorCtor = function(message){\r\n\t\t\tif(base === Error){\r\n\t\t\t\tif(Error.captureStackTrace){\r\n\t\t\t\t\tError.captureStackTrace(this, ErrorCtor);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Error.call() operates on the returned error\r\n\t\t\t\t// object rather than operating on |this|\r\n\t\t\t\tvar err = Error.call(this, message),\r\n\t\t\t\t\tprop;\r\n\r\n\t\t\t\t// Copy own properties from err to |this|\r\n\t\t\t\tfor(prop in err){\r\n\t\t\t\t\tif(err.hasOwnProperty(prop)){\r\n\t\t\t\t\t\tthis[prop] = err[prop];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// messsage is non-enumerable in ES5\r\n\t\t\t\tthis.message = message;\r\n\t\t\t\t// stack is non-enumerable in at least Firefox\r\n\t\t\t\tthis.stack = err.stack;\r\n\t\t\t}else{\r\n\t\t\t\tbase.apply(this, arguments);\r\n\t\t\t}\r\n\t\t\tif(ctor){\r\n\t\t\t\tctor.apply(this, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tErrorCtor.prototype = lang.delegate(base.prototype, props);\r\n\t\tErrorCtor.prototype.name = name;\r\n\t\tErrorCtor.prototype.constructor = ErrorCtor;\r\n\r\n\t\treturn ErrorCtor;\r\n\t};\r\n});\r\n\ndefine('dojo/errors/CancelError',[\"./create\"], function(create){\r\n\t// module:\r\n\t//\t\tdojo/errors/CancelError\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tDefault error if a promise is canceled without a reason.\r\n\t};\r\n\t=====*/\r\n\r\n\treturn create(\"CancelError\", null, null, { dojoType: \"cancel\" });\r\n});\r\n\ndefine('dojo/promise/Promise',[\r\n\t\"../_base/lang\"\r\n], function(lang){\r\n\t\"use strict\";\r\n\r\n\t// module:\r\n\t//\t\tdojo/promise/Promise\r\n\r\n\tfunction throwAbstract(){\r\n\t\tthrow new TypeError(\"abstract\");\r\n\t}\r\n\r\n\treturn lang.extend(function Promise(){\r\n\t\t// summary:\r\n\t\t//\t\tThe public interface to a deferred.\r\n\t\t// description:\r\n\t\t//\t\tThe public interface to a deferred. All promises in Dojo are\r\n\t\t//\t\tinstances of this class.\r\n\t}, {\r\n\t\tthen: function(callback, errback, progback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd new callbacks to the promise.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAdd new callbacks to the deferred. Callbacks can be added\r\n\t\t\t//\t\tbefore or after the deferred is fulfilled.\r\n\t\t\t// callback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise is resolved.\r\n\t\t\t//\t\tReceives the resolution value.\r\n\t\t\t// errback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise is rejected.\r\n\t\t\t//\t\tReceives the rejection error.\r\n\t\t\t// progback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise emits a progress\r\n\t\t\t//\t\tupdate. Receives the progress update.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns a new promise for the result of the callback(s).\r\n\t\t\t//\t\tThis can be used for chaining many asynchronous operations.\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\tcancel: function(reason, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInform the deferred it may cancel its asynchronous operation.\r\n\t\t\t// description:\r\n\t\t\t//\t\tInform the deferred it may cancel its asynchronous operation.\r\n\t\t\t//\t\tThe deferred's (optional) canceler is invoked and the\r\n\t\t\t//\t\tdeferred will be left in a rejected state. Can affect other\r\n\t\t\t//\t\tpromises that originate with the same deferred.\r\n\t\t\t// reason: any\r\n\t\t\t//\t\tA message that may be sent to the deferred's canceler,\r\n\t\t\t//\t\texplaining why it's being canceled.\r\n\t\t\t// strict: Boolean?\r\n\t\t\t//\t\tIf strict, will throw an error if the deferred has already\r\n\t\t\t//\t\tbeen fulfilled and consequently cannot be canceled.\r\n\t\t\t// returns: any\r\n\t\t\t//\t\tReturns the rejection reason if the deferred was canceled\r\n\t\t\t//\t\tnormally.\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\tisResolved: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the promise has been resolved.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\tisRejected: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the promise has been rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\tisFulfilled: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the promise has been resolved or rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\tisCanceled: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the promise has been canceled.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\tthrowAbstract();\r\n\t\t},\r\n\r\n\t\talways: function(callbackOrErrback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd a callback to be invoked when the promise is resolved\r\n\t\t\t//\t\tor rejected.\r\n\t\t\t// callbackOrErrback: Function?\r\n\t\t\t//\t\tA function that is used both as a callback and errback.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns a new promise for the result of the callback/errback.\r\n\r\n\t\t\treturn this.then(callbackOrErrback, callbackOrErrback);\r\n\t\t},\r\n\r\n\t\totherwise: function(errback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd new errbacks to the promise.\r\n\t\t\t// errback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise is rejected.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns a new promise for the result of the errback.\r\n\r\n\t\t\treturn this.then(null, errback);\r\n\t\t},\r\n\r\n\t\ttrace: function(){\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\ttraceRejected: function(){\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\ttoString: function(){\r\n\t\t\t// returns: string\r\n\t\t\t//\t\tReturns `[object Promise]`.\r\n\r\n\t\t\treturn \"[object Promise]\";\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dojo/Deferred',[\r\n\t\"./has\",\r\n\t\"./_base/lang\",\r\n\t\"./errors/CancelError\",\r\n\t\"./promise/Promise\",\r\n\t\"./has!config-deferredInstrumentation?./promise/instrumentation\"\r\n], function(has, lang, CancelError, Promise, instrumentation){\r\n\t\"use strict\";\r\n\r\n\t// module:\r\n\t//\t\tdojo/Deferred\r\n\r\n\tvar PROGRESS = 0,\r\n\t\t\tRESOLVED = 1,\r\n\t\t\tREJECTED = 2;\r\n\tvar FULFILLED_ERROR_MESSAGE = \"This deferred has already been fulfilled.\";\r\n\r\n\tvar freezeObject = Object.freeze || function(){};\r\n\r\n\tvar signalWaiting = function(waiting, type, result, rejection, deferred){\r\n\t\tif(has(\"config-deferredInstrumentation\")){\r\n\t\t\tif(type === REJECTED && Deferred.instrumentRejected && waiting.length === 0){\r\n\t\t\t\tDeferred.instrumentRejected(result, false, rejection, deferred);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(var i = 0; i < waiting.length; i++){\r\n\t\t\tsignalListener(waiting[i], type, result, rejection);\r\n\t\t}\r\n\t};\r\n\r\n\tvar signalListener = function(listener, type, result, rejection){\r\n\t\tvar func = listener[type];\r\n\t\tvar deferred = listener.deferred;\r\n\t\tif(func){\r\n\t\t\ttry{\r\n\t\t\t\tvar newResult = func(result);\r\n\t\t\t\tif(type === PROGRESS){\r\n\t\t\t\t\tif(typeof newResult !== \"undefined\"){\r\n\t\t\t\t\t\tsignalDeferred(deferred, type, newResult);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(newResult && typeof newResult.then === \"function\"){\r\n\t\t\t\t\t\tlistener.cancel = newResult.cancel;\r\n\t\t\t\t\t\tnewResult.then(\r\n\t\t\t\t\t\t\t\t// Only make resolvers if they're actually going to be used\r\n\t\t\t\t\t\t\t\tmakeDeferredSignaler(deferred, RESOLVED),\r\n\t\t\t\t\t\t\t\tmakeDeferredSignaler(deferred, REJECTED),\r\n\t\t\t\t\t\t\t\tmakeDeferredSignaler(deferred, PROGRESS));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsignalDeferred(deferred, RESOLVED, newResult);\r\n\t\t\t\t}\r\n\t\t\t}catch(error){\r\n\t\t\t\tsignalDeferred(deferred, REJECTED, error);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tsignalDeferred(deferred, type, result);\r\n\t\t}\r\n\r\n\t\tif(has(\"config-deferredInstrumentation\")){\r\n\t\t\tif(type === REJECTED && Deferred.instrumentRejected){\r\n\t\t\t\tDeferred.instrumentRejected(result, !!func, rejection, deferred.promise);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar makeDeferredSignaler = function(deferred, type){\r\n\t\treturn function(value){\r\n\t\t\tsignalDeferred(deferred, type, value);\r\n\t\t};\r\n\t};\r\n\r\n\tvar signalDeferred = function(deferred, type, result){\r\n\t\tif(!deferred.isCanceled()){\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase PROGRESS:\r\n\t\t\t\t\tdeferred.progress(result);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase RESOLVED:\r\n\t\t\t\t\tdeferred.resolve(result);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase REJECTED:\r\n\t\t\t\t\tdeferred.reject(result);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar Deferred = function(canceler){\r\n\t\t// summary:\r\n\t\t//\t\tCreates a new deferred. This API is preferred over\r\n\t\t//\t\t`dojo/_base/Deferred`.\r\n\t\t// description:\r\n\t\t//\t\tCreates a new deferred, as an abstraction over (primarily)\r\n\t\t//\t\tasynchronous operations. The deferred is the private interface\r\n\t\t//\t\tthat should not be returned to calling code. That's what the\r\n\t\t//\t\t`promise` is for. See `dojo/promise/Promise`.\r\n\t\t// canceler: Function?\r\n\t\t//\t\tWill be invoked if the deferred is canceled. The canceler\r\n\t\t//\t\treceives the reason the deferred was canceled as its argument.\r\n\t\t//\t\tThe deferred is rejected with its return value, or a new\r\n\t\t//\t\t`dojo/errors/CancelError` instance.\r\n\r\n\t\t// promise: dojo/promise/Promise\r\n\t\t//\t\tThe public promise object that clients can add callbacks to. \r\n\t\tvar promise = this.promise = new Promise();\r\n\r\n\t\tvar deferred = this;\r\n\t\tvar fulfilled, result, rejection;\r\n\t\tvar canceled = false;\r\n\t\tvar waiting = [];\r\n\r\n\t\tif(has(\"config-deferredInstrumentation\") && Error.captureStackTrace){\r\n\t\t\tError.captureStackTrace(deferred, Deferred);\r\n\t\t\tError.captureStackTrace(promise, Deferred);\r\n\t\t}\r\n\r\n\t\tthis.isResolved = promise.isResolved = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been resolved.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn fulfilled === RESOLVED;\r\n\t\t};\r\n\r\n\t\tthis.isRejected = promise.isRejected = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn fulfilled === REJECTED;\r\n\t\t};\r\n\r\n\t\tthis.isFulfilled = promise.isFulfilled = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been resolved or rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn !!fulfilled;\r\n\t\t};\r\n\r\n\t\tthis.isCanceled = promise.isCanceled = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been canceled.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn canceled;\r\n\t\t};\r\n\r\n\t\tthis.progress = function(update, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEmit a progress update on the deferred.\r\n\t\t\t// description:\r\n\t\t\t//\t\tEmit a progress update on the deferred. Progress updates\r\n\t\t\t//\t\tcan be used to communicate updates about the asynchronous\r\n\t\t\t//\t\toperation before it has finished.\r\n\t\t\t// update: any\r\n\t\t\t//\t\tThe progress update. Passed to progbacks.\r\n\t\t\t// strict: Boolean?\r\n\t\t\t//\t\tIf strict, will throw an error if the deferred has already\r\n\t\t\t//\t\tbeen fulfilled and consequently no progress can be emitted.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns the original promise for the deferred.\r\n\r\n\t\t\tif(!fulfilled){\r\n\t\t\t\tsignalWaiting(waiting, PROGRESS, update, null, deferred);\r\n\t\t\t\treturn promise;\r\n\t\t\t}else if(strict === true){\r\n\t\t\t\tthrow new Error(FULFILLED_ERROR_MESSAGE);\r\n\t\t\t}else{\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.resolve = function(value, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResolve the deferred.\r\n\t\t\t// description:\r\n\t\t\t//\t\tResolve the deferred, putting it in a success state.\r\n\t\t\t// value: any\r\n\t\t\t//\t\tThe result of the deferred. Passed to callbacks.\r\n\t\t\t// strict: Boolean?\r\n\t\t\t//\t\tIf strict, will throw an error if the deferred has already\r\n\t\t\t//\t\tbeen fulfilled and consequently cannot be resolved.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns the original promise for the deferred.\r\n\r\n\t\t\tif(!fulfilled){\r\n\t\t\t\t// Set fulfilled, store value. After signaling waiting listeners unset\r\n\t\t\t\t// waiting.\r\n\t\t\t\tsignalWaiting(waiting, fulfilled = RESOLVED, result = value, null, deferred);\r\n\t\t\t\twaiting = null;\r\n\t\t\t\treturn promise;\r\n\t\t\t}else if(strict === true){\r\n\t\t\t\tthrow new Error(FULFILLED_ERROR_MESSAGE);\r\n\t\t\t}else{\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar reject = this.reject = function(error, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReject the deferred.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReject the deferred, putting it in an error state.\r\n\t\t\t// error: any\r\n\t\t\t//\t\tThe error result of the deferred. Passed to errbacks.\r\n\t\t\t// strict: Boolean?\r\n\t\t\t//\t\tIf strict, will throw an error if the deferred has already\r\n\t\t\t//\t\tbeen fulfilled and consequently cannot be rejected.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns the original promise for the deferred.\r\n\r\n\t\t\tif(!fulfilled){\r\n\t\t\t\tif(has(\"config-deferredInstrumentation\") && Error.captureStackTrace){\r\n\t\t\t\t\tError.captureStackTrace(rejection = {}, reject);\r\n\t\t\t\t}\r\n\t\t\t\tsignalWaiting(waiting, fulfilled = REJECTED, result = error, rejection, deferred);\r\n\t\t\t\twaiting = null;\r\n\t\t\t\treturn promise;\r\n\t\t\t}else if(strict === true){\r\n\t\t\t\tthrow new Error(FULFILLED_ERROR_MESSAGE);\r\n\t\t\t}else{\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.then = promise.then = function(callback, errback, progback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd new callbacks to the deferred.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAdd new callbacks to the deferred. Callbacks can be added\r\n\t\t\t//\t\tbefore or after the deferred is fulfilled.\r\n\t\t\t// callback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise is resolved.\r\n\t\t\t//\t\tReceives the resolution value.\r\n\t\t\t// errback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise is rejected.\r\n\t\t\t//\t\tReceives the rejection error.\r\n\t\t\t// progback: Function?\r\n\t\t\t//\t\tCallback to be invoked when the promise emits a progress\r\n\t\t\t//\t\tupdate. Receives the progress update.\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tReturns a new promise for the result of the callback(s).\r\n\t\t\t//\t\tThis can be used for chaining many asynchronous operations.\r\n\r\n\t\t\tvar listener = [progback, callback, errback];\r\n\t\t\t// Ensure we cancel the promise we're waiting for, or if callback/errback\r\n\t\t\t// have returned a promise, cancel that one.\r\n\t\t\tlistener.cancel = promise.cancel;\r\n\t\t\tlistener.deferred = new Deferred(function(reason){\r\n\t\t\t\t// Check whether cancel is really available, returned promises are not\r\n\t\t\t\t// required to expose `cancel`\r\n\t\t\t\treturn listener.cancel && listener.cancel(reason);\r\n\t\t\t});\r\n\t\t\tif(fulfilled && !waiting){\r\n\t\t\t\tsignalListener(listener, fulfilled, result, rejection);\r\n\t\t\t}else{\r\n\t\t\t\twaiting.push(listener);\r\n\t\t\t}\r\n\t\t\treturn listener.deferred.promise;\r\n\t\t};\r\n\r\n\t\tthis.cancel = promise.cancel = function(reason, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInform the deferred it may cancel its asynchronous operation.\r\n\t\t\t// description:\r\n\t\t\t//\t\tInform the deferred it may cancel its asynchronous operation.\r\n\t\t\t//\t\tThe deferred's (optional) canceler is invoked and the\r\n\t\t\t//\t\tdeferred will be left in a rejected state. Can affect other\r\n\t\t\t//\t\tpromises that originate with the same deferred.\r\n\t\t\t// reason: any\r\n\t\t\t//\t\tA message that may be sent to the deferred's canceler,\r\n\t\t\t//\t\texplaining why it's being canceled.\r\n\t\t\t// strict: Boolean?\r\n\t\t\t//\t\tIf strict, will throw an error if the deferred has already\r\n\t\t\t//\t\tbeen fulfilled and consequently cannot be canceled.\r\n\t\t\t// returns: any\r\n\t\t\t//\t\tReturns the rejection reason if the deferred was canceled\r\n\t\t\t//\t\tnormally.\r\n\r\n\t\t\tif(!fulfilled){\r\n\t\t\t\t// Cancel can be called even after the deferred is fulfilled\r\n\t\t\t\tif(canceler){\r\n\t\t\t\t\tvar returnedReason = canceler(reason);\r\n\t\t\t\t\treason = typeof returnedReason === \"undefined\" ? reason : returnedReason;\r\n\t\t\t\t}\r\n\t\t\t\tcanceled = true;\r\n\t\t\t\tif(!fulfilled){\r\n\t\t\t\t\t// Allow canceler to provide its own reason, but fall back to a CancelError\r\n\t\t\t\t\tif(typeof reason === \"undefined\"){\r\n\t\t\t\t\t\treason = new CancelError();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treject(reason);\r\n\t\t\t\t\treturn reason;\r\n\t\t\t\t}else if(fulfilled === REJECTED && result === reason){\r\n\t\t\t\t\treturn reason;\r\n\t\t\t\t}\r\n\t\t\t}else if(strict === true){\r\n\t\t\t\tthrow new Error(FULFILLED_ERROR_MESSAGE);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfreezeObject(promise);\r\n\t};\r\n\r\n\tDeferred.prototype.toString = function(){\r\n\t\t// returns: String\r\n\t\t//\t\tReturns `[object Deferred]`.\r\n\r\n\t\treturn \"[object Deferred]\";\r\n\t};\r\n\r\n\tif(instrumentation){\r\n\t\tinstrumentation(Deferred);\r\n\t}\r\n\r\n\treturn Deferred;\r\n});\r\n\ndefine('dojo/when',[\r\n\t\"./Deferred\",\r\n\t\"./promise/Promise\"\r\n], function(Deferred, Promise){\r\n\t\"use strict\";\r\n\r\n\t// module:\r\n\t//\t\tdojo/when\r\n\r\n\treturn function when(valueOrPromise, callback, errback, progback){\r\n\t\t// summary:\r\n\t\t//\t\tTransparently applies callbacks to values and/or promises.\r\n\t\t// description:\r\n\t\t//\t\tAccepts promises but also transparently handles non-promises. If no\r\n\t\t//\t\tcallbacks are provided returns a promise, regardless of the initial\r\n\t\t//\t\tvalue. Foreign promises are converted.\r\n\t\t//\r\n\t\t//\t\tIf callbacks are provided and the initial value is not a promise,\r\n\t\t//\t\tthe callback is executed immediately with no error handling. Returns\r\n\t\t//\t\ta promise if the initial value is a promise, or the result of the\r\n\t\t//\t\tcallback otherwise.\r\n\t\t// valueOrPromise:\r\n\t\t//\t\tEither a regular value or an object with a `then()` method that\r\n\t\t//\t\tfollows the Promises/A specification.\r\n\t\t// callback: Function?\r\n\t\t//\t\tCallback to be invoked when the promise is resolved, or a non-promise\r\n\t\t//\t\tis received.\r\n\t\t// errback: Function?\r\n\t\t//\t\tCallback to be invoked when the promise is rejected.\r\n\t\t// progback: Function?\r\n\t\t//\t\tCallback to be invoked when the promise emits a progress update.\r\n\t\t// returns: dojo/promise/Promise\r\n\t\t//\t\tPromise, or if a callback is provided, the result of the callback.\r\n\r\n\t\tvar receivedPromise = valueOrPromise && typeof valueOrPromise.then === \"function\";\r\n\t\tvar nativePromise = receivedPromise && valueOrPromise instanceof Promise;\r\n\r\n\t\tif(!receivedPromise){\r\n\t\t\tif(arguments.length > 1){\r\n\t\t\t\treturn callback ? callback(valueOrPromise) : valueOrPromise;\r\n\t\t\t}else{\r\n\t\t\t\treturn new Deferred().resolve(valueOrPromise);\r\n\t\t\t}\r\n\t\t}else if(!nativePromise){\r\n\t\t\tvar deferred = new Deferred(valueOrPromise.cancel);\r\n\t\t\tvalueOrPromise.then(deferred.resolve, deferred.reject, deferred.progress);\r\n\t\t\tvalueOrPromise = deferred.promise;\r\n\t\t}\r\n\r\n\t\tif(callback || errback || progback){\r\n\t\t\treturn valueOrPromise.then(callback, errback, progback);\r\n\t\t}\r\n\t\treturn valueOrPromise;\r\n\t};\r\n});\r\n\ndefine('dojo/Stateful',[\"./_base/declare\", \"./_base/lang\", \"./_base/array\", \"./when\"], function(declare, lang, array, when){\r\n\t// module:\r\n\t//\t\tdojo/Stateful\r\n\r\nreturn declare(\"dojo.Stateful\", null, {\r\n\t// summary:\r\n\t//\t\tBase class for objects that provide named properties with optional getter/setter\r\n\t//\t\tcontrol and the ability to watch for property changes\r\n\t//\r\n\t//\t\tThe class also provides the functionality to auto-magically manage getters\r\n\t//\t\tand setters for object attributes/properties.\r\n\t//\t\t\r\n\t//\t\tGetters and Setters should follow the format of _xxxGetter or _xxxSetter where \r\n\t//\t\tthe xxx is a name of the attribute to handle.  So an attribute of \"foo\" \r\n\t//\t\twould have a custom getter of _fooGetter and a custom setter of _fooSetter.\r\n\t//\r\n\t// example:\r\n\t//\t|\trequire([\"dojo/Stateful\", function(Stateful) {\r\n\t//\t|\t\tvar obj = new Stateful();\r\n\t//\t|\t\tobj.watch(\"foo\", function(){\r\n\t//\t|\t\t\tconsole.log(\"foo changed to \" + this.get(\"foo\"));\r\n\t//\t|\t\t});\r\n\t//\t|\t\tobj.set(\"foo\",\"bar\");\r\n\t//\t|\t});\r\n\r\n\t// _attrPairNames: Hash\r\n\t//\t\tUsed across all instances a hash to cache attribute names and their getter \r\n\t//\t\tand setter names.\r\n\t_attrPairNames: {},\r\n\r\n\t_getAttrNames: function(name){\r\n\t\t// summary:\r\n\t\t//\t\tHelper function for get() and set().\r\n\t\t//\t\tCaches attribute name values so we don't do the string ops every time.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\tvar apn = this._attrPairNames;\r\n\t\tif(apn[name]){ return apn[name]; }\r\n\t\treturn (apn[name] = {\r\n\t\t\ts: \"_\" + name + \"Setter\",\r\n\t\t\tg: \"_\" + name + \"Getter\"\r\n\t\t});\r\n\t},\r\n\r\n\tpostscript: function(/*Object?*/ params){\r\n\t\t// Automatic setting of params during construction\r\n\t\tif (params){ this.set(params); }\r\n\t},\r\n\r\n\t_get: function(name, names){\r\n\t\t// summary:\r\n\t\t//\t\tPrivate function that does a get based off a hash of names\r\n\t\t// names:\r\n\t\t//\t\tHash of names of custom attributes\r\n\t\treturn typeof this[names.g] === \"function\" ? this[names.g]() : this[name];\r\n\t},\r\n\tget: function(/*String*/name){\r\n\t\t// summary:\r\n\t\t//\t\tGet a property on a Stateful instance.\r\n\t\t// name:\r\n\t\t//\t\tThe property to get.\r\n\t\t// returns:\r\n\t\t//\t\tThe property value on this Stateful instance.\r\n\t\t// description:\r\n\t\t//\t\tGet a named property on a Stateful object. The property may\r\n\t\t//\t\tpotentially be retrieved via a getter method in subclasses. In the base class\r\n\t\t//\t\tthis just retrieves the object's property.\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/Stateful\", function(Stateful) {\r\n\t\t//\t|\t\tvar stateful = new Stateful({foo: 3});\r\n\t\t//\t|\t\tstateful.get(\"foo\") // returns 3\r\n\t\t//\t|\t\tstateful.foo // returns 3\r\n\t\t//\t|\t});\r\n\r\n\t\treturn this._get(name, this._getAttrNames(name)); //Any\r\n\t},\r\n\tset: function(/*String*/name, /*Object*/value){\r\n\t\t// summary:\r\n\t\t//\t\tSet a property on a Stateful instance\r\n\t\t// name:\r\n\t\t//\t\tThe property to set.\r\n\t\t// value:\r\n\t\t//\t\tThe value to set in the property.\r\n\t\t// returns:\r\n\t\t//\t\tThe function returns this dojo.Stateful instance.\r\n\t\t// description:\r\n\t\t//\t\tSets named properties on a stateful object and notifies any watchers of\r\n\t\t//\t\tthe property. A programmatic setter may be defined in subclasses.\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/Stateful\", function(Stateful) {\r\n\t\t//\t|\t\tvar stateful = new Stateful();\r\n\t\t//\t|\t\tstateful.watch(function(name, oldValue, value){\r\n\t\t//\t|\t\t\t// this will be called on the set below\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t\tstateful.set(foo, 5);\r\n\t\t//\tset() may also be called with a hash of name/value pairs, ex:\r\n\t\t//\t|\t\tstateful.set({\r\n\t\t//\t|\t\t\tfoo: \"Howdy\",\r\n\t\t//\t|\t\t\tbar: 3\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\tThis is equivalent to calling set(foo, \"Howdy\") and set(bar, 3)\r\n\r\n\t\t// If an object is used, iterate through object\r\n\t\tif(typeof name === \"object\"){\r\n\t\t\tfor(var x in name){\r\n\t\t\t\tif(name.hasOwnProperty(x) && x !=\"_watchCallbacks\"){\r\n\t\t\t\t\tthis.set(x, name[x]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar names = this._getAttrNames(name),\r\n\t\t\toldValue = this._get(name, names),\r\n\t\t\tsetter = this[names.s],\r\n\t\t\tresult;\r\n\t\tif(typeof setter === \"function\"){\r\n\t\t\t// use the explicit setter\r\n\t\t\tresult = setter.apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t}else{\r\n\t\t\t// no setter so set attribute directly\r\n\t\t\tthis[name] = value;\r\n\t\t}\r\n\t\tif(this._watchCallbacks){\r\n\t\t\tvar self = this;\r\n\t\t\t// If setter returned a promise, wait for it to complete, otherwise call watches immediately\r\n\t\t\twhen(result, function(){\r\n\t\t\t\tself._watchCallbacks(name, oldValue, value);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this; // dojo/Stateful\r\n\t},\r\n\t_changeAttrValue: function(name, value){\r\n\t\t// summary:\r\n\t\t//\t\tInternal helper for directly changing an attribute value.\r\n\t\t//\r\n\t\t// name: String\r\n\t\t//\t\tThe property to set.\r\n\t\t// value: Mixed\r\n\t\t//\t\tThe value to set in the property.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tDirectly change the value of an attribute on an object, bypassing any \r\n\t\t//\t\taccessor setter.  Also handles the calling of watch and emitting events. \r\n\t\t//\t\tIt is designed to be used by descendant class when there are two values \r\n\t\t//\t\tof attributes that are linked, but calling .set() is not appropriate.\r\n\r\n\t\tvar oldValue = this.get(name);\r\n\t\tthis[name] = value;\r\n\t\tif(this._watchCallbacks){\r\n\t\t\tthis._watchCallbacks(name, oldValue, value);\r\n\t\t}\r\n\t\treturn this; // dojo/Stateful\r\n\t},\r\n\twatch: function(/*String?*/name, /*Function*/callback){\r\n\t\t// summary:\r\n\t\t//\t\tWatches a property for changes\r\n\t\t// name:\r\n\t\t//\t\tIndicates the property to watch. This is optional (the callback may be the\r\n\t\t//\t\tonly parameter), and if omitted, all the properties will be watched\r\n\t\t// returns:\r\n\t\t//\t\tAn object handle for the watch. The unwatch method of this object\r\n\t\t//\t\tcan be used to discontinue watching this property:\r\n\t\t//\t\t|\tvar watchHandle = obj.watch(\"foo\", callback);\r\n\t\t//\t\t|\twatchHandle.unwatch(); // callback won't be called now\r\n\t\t// callback:\r\n\t\t//\t\tThe function to execute when the property changes. This will be called after\r\n\t\t//\t\tthe property has been changed. The callback will be called with the |this|\r\n\t\t//\t\tset to the instance, the first argument as the name of the property, the\r\n\t\t//\t\tsecond argument as the old value and the third argument as the new value.\r\n\r\n\t\tvar callbacks = this._watchCallbacks;\r\n\t\tif(!callbacks){\r\n\t\t\tvar self = this;\r\n\t\t\tcallbacks = this._watchCallbacks = function(name, oldValue, value, ignoreCatchall){\r\n\t\t\t\tvar notify = function(propertyCallbacks){\r\n\t\t\t\t\tif(propertyCallbacks){\r\n\t\t\t\t\t\tpropertyCallbacks = propertyCallbacks.slice();\r\n\t\t\t\t\t\tfor(var i = 0, l = propertyCallbacks.length; i < l; i++){\r\n\t\t\t\t\t\t\tpropertyCallbacks[i].call(self, name, oldValue, value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tnotify(callbacks['_' + name]);\r\n\t\t\t\tif(!ignoreCatchall){\r\n\t\t\t\t\tnotify(callbacks[\"*\"]); // the catch-all\r\n\t\t\t\t}\r\n\t\t\t}; // we use a function instead of an object so it will be ignored by JSON conversion\r\n\t\t}\r\n\t\tif(!callback && typeof name === \"function\"){\r\n\t\t\tcallback = name;\r\n\t\t\tname = \"*\";\r\n\t\t}else{\r\n\t\t\t// prepend with dash to prevent name conflicts with function (like \"name\" property)\r\n\t\t\tname = '_' + name;\r\n\t\t}\r\n\t\tvar propertyCallbacks = callbacks[name];\r\n\t\tif(typeof propertyCallbacks !== \"object\"){\r\n\t\t\tpropertyCallbacks = callbacks[name] = [];\r\n\t\t}\r\n\t\tpropertyCallbacks.push(callback);\r\n\r\n\t\t// TODO: Remove unwatch in 2.0\r\n\t\tvar handle = {};\r\n\t\thandle.unwatch = handle.remove = function(){\r\n\t\t\tvar index = array.indexOf(propertyCallbacks, callback);\r\n\t\t\tif(index > -1){\r\n\t\t\t\tpropertyCallbacks.splice(index, 1);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn handle; //Object\r\n\t}\r\n\r\n});\r\n\r\n});\r\n\ndefine('dojo/window',[\"./_base/lang\", \"./sniff\", \"./_base/window\", \"./dom\", \"./dom-geometry\", \"./dom-style\", \"./dom-construct\"],\r\n\tfunction(lang, has, baseWindow, dom, geom, style, domConstruct){\r\n\r\n\t// feature detection\r\n\t/* not needed but included here for future reference\r\n\thas.add(\"rtl-innerVerticalScrollBar-on-left\", function(win, doc){\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\tscrollable = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'scroll', overflowX:'hidden', direction:'rtl', visibility:'hidden', position:'absolute', left:'0', width:'64px', height:'64px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tcenter = domConstruct.create('center', {\r\n\t\t\t\tstyle: {overflow:'hidden', direction:'ltr'}\r\n\t\t\t}, scrollable, \"last\"),\r\n\t\t\tinner = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'visible', display:'inline' }\r\n\t\t\t}, center, \"last\");\r\n\t\tinner.innerHTML=\"&nbsp;\";\r\n\t\tvar midPoint = Math.max(inner.offsetLeft, geom.position(inner).x);\r\n\t\tvar ret = midPoint >= 32;\r\n\t\tcenter.removeChild(inner);\r\n\t\tscrollable.removeChild(center);\r\n\t\tbody.removeChild(scrollable);\r\n\t\treturn ret;\r\n\t});\r\n\t*/\r\n\thas.add(\"rtl-adjust-position-for-verticalScrollBar\", function(win, doc){\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\tscrollable = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'scroll', overflowX:'visible', direction:'rtl', visibility:'hidden', position:'absolute', left:'0', top:'0', width:'64px', height:'64px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tdiv = domConstruct.create('div', {\r\n\t\t\t\tstyle: {overflow:'hidden', direction:'ltr'}\r\n\t\t\t}, scrollable, \"last\"),\r\n\t\t\tret = geom.position(div).x != 0;\r\n\t\tscrollable.removeChild(div);\r\n\t\tbody.removeChild(scrollable);\r\n\t\treturn ret;\r\n\t});\r\n\r\n\thas.add(\"position-fixed-support\", function(win, doc){\r\n\t\t// IE6, IE7+quirks, and some older mobile browsers don't support position:fixed\r\n\t\tvar\tbody = baseWindow.body(doc),\r\n\t\t\touter = domConstruct.create('span', {\r\n\t\t\t\tstyle: {visibility:'hidden', position:'fixed', left:'1px', top:'1px'}\r\n\t\t\t}, body, \"last\"),\r\n\t\t\tinner = domConstruct.create('span', {\r\n\t\t\t\tstyle: {position:'fixed', left:'0', top:'0'}\r\n\t\t\t}, outer, \"last\"),\r\n\t\t\tret = geom.position(inner).x != geom.position(outer).x;\r\n\t\touter.removeChild(inner);\r\n\t\tbody.removeChild(outer);\r\n\t\treturn ret;\r\n\t});\r\n\r\n\t// module:\r\n\t//\t\tdojo/window\r\n\r\n\tvar window = {\r\n\t\t// summary:\r\n\t\t//\t\tTODOC\r\n\r\n\t\tgetBox: function(/*Document?*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the dimensions and scroll position of the viewable area of a browser window\r\n\r\n\t\t\tdoc = doc || baseWindow.doc;\r\n\r\n\t\t\tvar\r\n\t\t\t\tscrollRoot = (doc.compatMode == 'BackCompat') ? baseWindow.body(doc) : doc.documentElement,\r\n\t\t\t\t// get scroll position\r\n\t\t\t\tscroll = geom.docScroll(doc), // scrollRoot.scrollTop/Left should work\r\n\t\t\t\tw, h;\r\n\r\n\t\t\tif(has(\"touch\")){ // if(scrollbars not supported)\r\n\t\t\t\tvar uiWindow = window.get(doc);   // use UI window, not dojo.global window\r\n\t\t\t\t// on mobile, scrollRoot.clientHeight <= uiWindow.innerHeight <= scrollRoot.offsetHeight, return uiWindow.innerHeight\r\n\t\t\t\tw = uiWindow.innerWidth || scrollRoot.clientWidth; // || scrollRoot.clientXXX probably never evaluated\r\n\t\t\t\th = uiWindow.innerHeight || scrollRoot.clientHeight;\r\n\t\t\t}else{\r\n\t\t\t\t// on desktops, scrollRoot.clientHeight <= scrollRoot.offsetHeight <= uiWindow.innerHeight, return scrollRoot.clientHeight\r\n\t\t\t\t// uiWindow.innerWidth/Height includes the scrollbar and cannot be used\r\n\t\t\t\tw = scrollRoot.clientWidth;\r\n\t\t\t\th = scrollRoot.clientHeight;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tl: scroll.x,\r\n\t\t\t\tt: scroll.y,\r\n\t\t\t\tw: w,\r\n\t\t\t\th: h\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tget: function(/*Document*/ doc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet window object associated with document doc.\r\n\t\t\t// doc:\r\n\t\t\t//\t\tThe document to get the associated window for.\r\n\r\n\t\t\t// In some IE versions (at least 6.0), document.parentWindow does not return a\r\n\t\t\t// reference to the real window object (maybe a copy), so we must fix it as well\r\n\t\t\t// We use IE specific execScript to attach the real window reference to\r\n\t\t\t// document._parentWindow for later use\r\n\t\t\tif(has(\"ie\") && window !== document.parentWindow){\r\n\t\t\t\t/*\r\n\t\t\t\tIn IE 6, only the variable \"window\" can be used to connect events (others\r\n\t\t\t\tmay be only copies).\r\n\t\t\t\t*/\r\n\t\t\t\tdoc.parentWindow.execScript(\"document._parentWindow = window;\", \"Javascript\");\r\n\t\t\t\t//to prevent memory leak, unset it after use\r\n\t\t\t\t//another possibility is to add an onUnload handler which seems overkill to me (liucougar)\r\n\t\t\t\tvar win = doc._parentWindow;\r\n\t\t\t\tdoc._parentWindow = null;\r\n\t\t\t\treturn win;\t//\tWindow\r\n\t\t\t}\r\n\r\n\t\t\treturn doc.parentWindow || doc.defaultView;\t//\tWindow\r\n\t\t},\r\n\r\n\t\tscrollIntoView: function(/*DomNode*/ node, /*Object?*/ pos){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScroll the passed node into view using minimal movement, if it is not already.\r\n\r\n\t\t\t// Don't rely on node.scrollIntoView working just because the function is there since\r\n\t\t\t// it forces the node to the page's bottom or top (and left or right in IE) without consideration for the minimal movement.\r\n\t\t\t// WebKit's node.scrollIntoViewIfNeeded doesn't work either for inner scrollbars in right-to-left mode\r\n\t\t\t// and when there's a fixed position scrollable element\r\n\r\n\t\t\ttry{ // catch unexpected/unrecreatable errors (#7808) since we can recover using a semi-acceptable native method\r\n\t\t\t\tnode = dom.byId(node);\r\n\t\t\t\tvar\tdoc = node.ownerDocument || baseWindow.doc,\t// TODO: why baseWindow.doc?  Isn't node.ownerDocument always defined?\r\n\t\t\t\t\tbody = baseWindow.body(doc),\r\n\t\t\t\t\thtml = doc.documentElement || body.parentNode,\r\n\t\t\t\t\tisIE = has(\"ie\"),\r\n\t\t\t\t\tisWK = has(\"webkit\");\r\n\t\t\t\t// if an untested browser, then use the native method\r\n\t\t\t\tif(node == body || node == html){ return; }\r\n\t\t\t\tif(!(has(\"mozilla\") || isIE || isWK || has(\"opera\") || has(\"trident\")) && (\"scrollIntoView\" in node)){\r\n\t\t\t\t\tnode.scrollIntoView(false); // short-circuit to native if possible\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar\tbackCompat = doc.compatMode == 'BackCompat',\r\n\t\t\t\t\trootWidth = Math.min(body.clientWidth || html.clientWidth, html.clientWidth || body.clientWidth),\r\n\t\t\t\t\trootHeight = Math.min(body.clientHeight || html.clientHeight, html.clientHeight || body.clientHeight),\r\n\t\t\t\t\tscrollRoot = (isWK || backCompat) ? body : html,\r\n\t\t\t\t\tnodePos = pos || geom.position(node),\r\n\t\t\t\t\tel = node.parentNode,\r\n\t\t\t\t\tisFixed = function(el){\r\n\t\t\t\t\t\treturn (isIE <= 6 || (isIE == 7 && backCompat))\r\n\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t: (has(\"position-fixed-support\") && (style.get(el, 'position').toLowerCase() == \"fixed\"));\r\n\t\t\t\t\t},\r\n\t\t\t\t\tself = this,\r\n\t\t\t\t\tscrollElementBy = function(el, x, y){\r\n\t\t\t\t\t\tif(el.tagName == \"BODY\" || el.tagName == \"HTML\"){\r\n\t\t\t\t\t\t\tself.get(el.ownerDocument).scrollBy(x, y);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tx && (el.scrollLeft += x);\r\n\t\t\t\t\t\t\ty && (el.scrollTop += y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\tif(isFixed(node)){ return; } // nothing to do\r\n\t\t\t\twhile(el){\r\n\t\t\t\t\tif(el == body){ el = scrollRoot; }\r\n\t\t\t\t\tvar\telPos = geom.position(el),\r\n\t\t\t\t\t\tfixedPos = isFixed(el),\r\n\t\t\t\t\t\trtl = style.getComputedStyle(el).direction.toLowerCase() == \"rtl\";\r\n\r\n\t\t\t\t\tif(el == scrollRoot){\r\n\t\t\t\t\t\telPos.w = rootWidth; elPos.h = rootHeight;\r\n\t\t\t\t\t\tif(scrollRoot == html && (isIE || has(\"trident\")) && rtl){ elPos.x += scrollRoot.offsetWidth-elPos.w; } // IE workaround where scrollbar causes negative x\r\n\t\t\t\t\t\tif(elPos.x < 0 || !isIE || isIE >= 9 || has(\"trident\")){ elPos.x = 0; } // older IE can have values > 0\r\n\t\t\t\t\t\tif(elPos.y < 0 || !isIE || isIE >= 9 || has(\"trident\")){ elPos.y = 0; }\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar pb = geom.getPadBorderExtents(el);\r\n\t\t\t\t\t\telPos.w -= pb.w; elPos.h -= pb.h; elPos.x += pb.l; elPos.y += pb.t;\r\n\t\t\t\t\t\tvar clientSize = el.clientWidth,\r\n\t\t\t\t\t\t\tscrollBarSize = elPos.w - clientSize;\r\n\t\t\t\t\t\tif(clientSize > 0 && scrollBarSize > 0){\r\n\t\t\t\t\t\t\tif(rtl && has(\"rtl-adjust-position-for-verticalScrollBar\")){\r\n\t\t\t\t\t\t\t\telPos.x += scrollBarSize;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telPos.w = clientSize;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclientSize = el.clientHeight;\r\n\t\t\t\t\t\tscrollBarSize = elPos.h - clientSize;\r\n\t\t\t\t\t\tif(clientSize > 0 && scrollBarSize > 0){\r\n\t\t\t\t\t\t\telPos.h = clientSize;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(fixedPos){ // bounded by viewport, not parents\r\n\t\t\t\t\t\tif(elPos.y < 0){\r\n\t\t\t\t\t\t\telPos.h += elPos.y; elPos.y = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.x < 0){\r\n\t\t\t\t\t\t\telPos.w += elPos.x; elPos.x = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.y + elPos.h > rootHeight){\r\n\t\t\t\t\t\t\telPos.h = rootHeight - elPos.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(elPos.x + elPos.w > rootWidth){\r\n\t\t\t\t\t\t\telPos.w = rootWidth - elPos.x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// calculate overflow in all 4 directions\r\n\t\t\t\t\tvar\tl = nodePos.x - elPos.x, // beyond left: < 0\r\n//\t\t\t\t\t\tt = nodePos.y - Math.max(elPos.y, 0), // beyond top: < 0\r\n\t\t\t\t\t\tt = nodePos.y - elPos.y, // beyond top: < 0\r\n\t\t\t\t\t\tr = l + nodePos.w - elPos.w, // beyond right: > 0\r\n\t\t\t\t\t\tbot = t + nodePos.h - elPos.h; // beyond bottom: > 0\r\n\t\t\t\t\tvar s, old;\r\n\t\t\t\t\tif(r * l > 0 && (!!el.scrollLeft || el == scrollRoot || el.scrollWidth > el.offsetHeight)){\r\n\t\t\t\t\t\ts = Math[l < 0? \"max\" : \"min\"](l, r);\r\n\t\t\t\t\t\tif(rtl && ((isIE == 8 && !backCompat) || isIE >= 9 || has(\"trident\"))){ s = -s; }\r\n\t\t\t\t\t\told = el.scrollLeft;\r\n\t\t\t\t\t\tscrollElementBy(el, s, 0);\r\n\t\t\t\t\t\ts = el.scrollLeft - old;\r\n\t\t\t\t\t\tnodePos.x -= s;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(bot * t > 0 && (!!el.scrollTop || el == scrollRoot || el.scrollHeight > el.offsetHeight)){\r\n\t\t\t\t\t\ts = Math.ceil(Math[t < 0? \"max\" : \"min\"](t, bot));\r\n\t\t\t\t\t\told = el.scrollTop;\r\n\t\t\t\t\t\tscrollElementBy(el, 0, s);\r\n\t\t\t\t\t\ts = el.scrollTop - old;\r\n\t\t\t\t\t\tnodePos.y -= s;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel = (el != scrollRoot) && !fixedPos && el.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}catch(error){\r\n\t\t\t\tconsole.error('scrollIntoView: ' + error);\r\n\t\t\t\tnode.scrollIntoView(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thas(\"extend-dojo\") && lang.setObject(\"dojo.window\", window);\r\n\r\n\treturn window;\r\n});\r\n\ndefine('dijit/focus',[\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // domAttr.get dom.isDescendant\r\n\t\"dojo/dom-attr\", // domAttr.get dom.isDescendant\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\", // connect to domConstruct.empty, domConstruct.destroy\r\n\t\"dojo/Evented\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/domReady\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/Stateful\",\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"dojo/window\", // winUtils.get\r\n\t\"./a11y\",\t// a11y.isTabNavigable\r\n\t\"./registry\",\t// registry.byId\r\n\t\"./main\"\t\t// to set dijit.focus\r\n], function(aspect, declare, dom, domAttr, domClass, domConstruct, Evented, lang, on, domReady, has, Stateful, win, winUtils,\r\n\t\t\ta11y, registry, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/focus\r\n\r\n\t// Time of the last focusin event\r\n\tvar lastFocusin;\r\n\r\n\t// Time of the last touch/mousedown or focusin event\r\n\tvar lastTouchOrFocusin;\r\n\r\n\tvar FocusManager = declare([Stateful, Evented], {\r\n\t\t// summary:\r\n\t\t//\t\tTracks the currently focused node, and which widgets are currently \"active\".\r\n\t\t//\t\tAccess via require([\"dijit/focus\"], function(focus){ ... }).\r\n\t\t//\r\n\t\t//\t\tA widget is considered active if it or a descendant widget has focus,\r\n\t\t//\t\tor if a non-focusable node of this widget or a descendant was recently clicked.\r\n\t\t//\r\n\t\t//\t\tCall focus.watch(\"curNode\", callback) to track the current focused DOMNode,\r\n\t\t//\t\tor focus.watch(\"activeStack\", callback) to track the currently focused stack of widgets.\r\n\t\t//\r\n\t\t//\t\tCall focus.on(\"widget-blur\", func) or focus.on(\"widget-focus\", ...) to monitor when\r\n\t\t//\t\twhen widgets become active/inactive\r\n\t\t//\r\n\t\t//\t\tFinally, focus(node) will focus a node, suppressing errors if the node doesn't exist.\r\n\r\n\t\t// curNode: DomNode\r\n\t\t//\t\tCurrently focused item on screen\r\n\t\tcurNode: null,\r\n\r\n\t\t// activeStack: dijit/_WidgetBase[]\r\n\t\t//\t\tList of currently active widgets (focused widget and it's ancestors)\r\n\t\tactiveStack: [],\r\n\r\n\t\tconstructor: function(){\r\n\t\t\t// Don't leave curNode/prevNode pointing to bogus elements\r\n\t\t\tvar check = lang.hitch(this, function(node){\r\n\t\t\t\tif(dom.isDescendant(this.curNode, node)){\r\n\t\t\t\t\tthis.set(\"curNode\", null);\r\n\t\t\t\t}\r\n\t\t\t\tif(dom.isDescendant(this.prevNode, node)){\r\n\t\t\t\t\tthis.set(\"prevNode\", null);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\taspect.before(domConstruct, \"empty\", check);\r\n\t\t\taspect.before(domConstruct, \"destroy\", check);\r\n\t\t},\r\n\r\n\t\tregisterIframe: function(/*DomNode*/ iframe){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegisters listeners on the specified iframe so that any click\r\n\t\t\t//\t\tor focus event on that iframe (or anything in it) is reported\r\n\t\t\t//\t\tas a focus/click event on the `<iframe>` itself.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCurrently only used by editor.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tHandle with remove() method to deregister.\r\n\t\t\treturn this.registerWin(iframe.contentWindow, iframe);\r\n\t\t},\r\n\r\n\t\tregisterWin: function(/*Window?*/targetWindow, /*DomNode?*/ effectiveNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegisters listeners on the specified window (either the main\r\n\t\t\t//\t\twindow or an iframe's window) to detect when the user has clicked somewhere\r\n\t\t\t//\t\tor focused somewhere.\r\n\t\t\t// description:\r\n\t\t\t//\t\tUsers should call registerIframe() instead of this method.\r\n\t\t\t// targetWindow:\r\n\t\t\t//\t\tIf specified this is the window associated with the iframe,\r\n\t\t\t//\t\ti.e. iframe.contentWindow.\r\n\t\t\t// effectiveNode:\r\n\t\t\t//\t\tIf specified, report any focus events inside targetWindow as\r\n\t\t\t//\t\tan event on effectiveNode, rather than on evt.target.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tHandle with remove() method to deregister.\r\n\r\n\t\t\t// TODO: make this function private in 2.0; Editor/users should call registerIframe(),\r\n\r\n\t\t\t// Listen for blur and focus events on targetWindow's document.\r\n\t\t\tvar _this = this,\r\n\t\t\t\tbody = targetWindow.document && targetWindow.document.body;\r\n\r\n\t\t\tif(body){\r\n\t\t\t\t// Listen for touches or mousedowns... could also use dojo/touch.press here.\r\n\t\t\t\tvar event = has(\"pointer-events\") ? \"pointerdown\" : has(\"MSPointer\") ? \"MSPointerDown\" :\r\n\t\t\t\t\thas(\"touch-events\") ? \"mousedown, touchstart\" : \"mousedown\";\r\n\t\t\t\tvar mdh = on(targetWindow.document, event, function(evt){\r\n\t\t\t\t\t// workaround weird IE bug where the click is on an orphaned node\r\n\t\t\t\t\t// (first time clicking a Select/DropDownButton inside a TooltipDialog).\r\n\t\t\t\t\t// actually, strangely this is happening on latest chrome too.\r\n\t\t\t\t\tif(evt && evt.target && evt.target.parentNode == null){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_this._onTouchNode(effectiveNode || evt.target, \"mouse\");\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar fih = on(body, 'focusin', function(evt){\r\n\t\t\t\t\t// When you refocus the browser window, IE gives an event with an empty srcElement\r\n\t\t\t\t\tif(!evt.target.tagName) { return; }\r\n\r\n\t\t\t\t\t// IE reports that nodes like <body> have gotten focus, even though they have tabIndex=-1,\r\n\t\t\t\t\t// ignore those events\r\n\t\t\t\t\tvar tag = evt.target.tagName.toLowerCase();\r\n\t\t\t\t\tif(tag == \"#document\" || tag == \"body\"){ return; }\r\n\r\n\t\t\t\t\tif(a11y.isFocusable(evt.target)){\r\n\t\t\t\t\t\t_this._onFocusNode(effectiveNode || evt.target);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Previous code called _onTouchNode() for any activate event on a non-focusable node.   Can\r\n\t\t\t\t\t\t// probably just ignore such an event as it will be handled by onmousedown handler above, but\r\n\t\t\t\t\t\t// leaving the code for now.\r\n\t\t\t\t\t\t_this._onTouchNode(effectiveNode || evt.target);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar foh = on(body, 'focusout', function(evt){\r\n\t\t\t\t\t_this._onBlurNode(effectiveNode || evt.target);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tremove: function(){\r\n\t\t\t\t\t\tmdh.remove();\r\n\t\t\t\t\t\tfih.remove();\r\n\t\t\t\t\t\tfoh.remove();\r\n\t\t\t\t\t\tmdh = fih = foh = null;\r\n\t\t\t\t\t\tbody = null;\t// prevent memory leak (apparent circular reference via closure)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onBlurNode: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when focus leaves a node.\r\n\t\t\t//\t\tUsually ignored, _unless_ it *isn't* followed by touching another node,\r\n\t\t\t//\t\twhich indicates that we tabbed off the last field on the page,\r\n\t\t\t//\t\tin which case every widget is marked inactive\r\n\r\n\t\t\tvar now = (new Date()).getTime();\r\n\r\n\t\t\t// IE9+ and chrome have a problem where focusout events come after the corresponding focusin event.\r\n\t\t\t// For chrome problem see https://bugs.dojotoolkit.org/ticket/17668.\r\n\t\t\t// IE problem happens when moving focus from the Editor's <iframe> to a normal DOMNode.\r\n\t\t\tif(now < lastFocusin + 100){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If the blur event isn't followed by a focus event, it means the user clicked on something unfocusable,\r\n\t\t\t// so clear focus.\r\n\t\t\tif(this._clearFocusTimer){\r\n\t\t\t\tclearTimeout(this._clearFocusTimer);\r\n\t\t\t}\r\n\t\t\tthis._clearFocusTimer = setTimeout(lang.hitch(this, function(){\r\n\t\t\t\tthis.set(\"prevNode\", this.curNode);\r\n\t\t\t\tthis.set(\"curNode\", null);\r\n\t\t\t}), 0);\r\n\r\n\t\t\t// Unset timer to zero-out widget stack; we'll reset it below if appropriate.\r\n\t\t\tif(this._clearActiveWidgetsTimer){\r\n\t\t\t\tclearTimeout(this._clearActiveWidgetsTimer);\r\n\t\t\t}\r\n\r\n\t\t\tif(now < lastTouchOrFocusin + 100){\r\n\t\t\t\t// This blur event is coming late (after the call to _onTouchNode() rather than before.\r\n\t\t\t\t// So let _onTouchNode() handle setting the widget stack.\r\n\t\t\t\t// See https://bugs.dojotoolkit.org/ticket/17668\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If the blur event isn't followed (or preceded) by a focus or touch event then mark all widgets as inactive.\r\n\t\t\tthis._clearActiveWidgetsTimer = setTimeout(lang.hitch(this, function(){\r\n\t\t\t\tdelete this._clearActiveWidgetsTimer;\r\n\t\t\t\tthis._setStack([]);\r\n\t\t\t}), 0);\r\n\t\t},\r\n\r\n\t\t_onTouchNode: function(/*DomNode*/ node, /*String*/ by){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when node is focused or touched.\r\n\t\t\t//\t\tNote that _onFocusNode() calls _onTouchNode().\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node that was touched.\r\n\t\t\t// by:\r\n\t\t\t//\t\t\"mouse\" if the focus/touch was caused by a mouse down event\r\n\r\n\t\t\t// Keep track of time of last focusin or touch event.\r\n\t\t\tlastTouchOrFocusin = (new Date()).getTime();\r\n\r\n\t\t\tif(this._clearActiveWidgetsTimer){\r\n\t\t\t\t// forget the recent blur event\r\n\t\t\t\tclearTimeout(this._clearActiveWidgetsTimer);\r\n\t\t\t\tdelete this._clearActiveWidgetsTimer;\r\n\t\t\t}\r\n\r\n\t\t\t// if the click occurred on the scrollbar of a dropdown, treat it as a click on the dropdown,\r\n\t\t\t// even though the scrollbar is technically on the popup wrapper (see #10631)\r\n\t\t\tif(domClass.contains(node, \"dijitPopup\")){\r\n\t\t\t\tnode = node.firstChild;\r\n\t\t\t}\r\n\r\n\t\t\t// compute stack of active widgets (ex: ComboButton --> Menu --> MenuItem)\r\n\t\t\tvar newStack=[];\r\n\t\t\ttry{\r\n\t\t\t\twhile(node){\r\n\t\t\t\t\tvar popupParent = domAttr.get(node, \"dijitPopupParent\");\r\n\t\t\t\t\tif(popupParent){\r\n\t\t\t\t\t\tnode=registry.byId(popupParent).domNode;\r\n\t\t\t\t\t}else if(node.tagName && node.tagName.toLowerCase() == \"body\"){\r\n\t\t\t\t\t\t// is this the root of the document or just the root of an iframe?\r\n\t\t\t\t\t\tif(node === win.body()){\r\n\t\t\t\t\t\t\t// node is the root of the main document\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// otherwise, find the iframe this node refers to (can't access it via parentNode,\r\n\t\t\t\t\t\t// need to do this trick instead). window.frameElement is supported in IE/FF/Webkit\r\n\t\t\t\t\t\tnode=winUtils.get(node.ownerDocument).frameElement;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// if this node is the root node of a widget, then add widget id to stack,\r\n\t\t\t\t\t\t// except ignore clicks on disabled widgets (actually focusing a disabled widget still works,\r\n\t\t\t\t\t\t// to support MenuItem)\r\n\t\t\t\t\t\tvar id = node.getAttribute && node.getAttribute(\"widgetId\"),\r\n\t\t\t\t\t\t\twidget = id && registry.byId(id);\r\n\t\t\t\t\t\tif(widget && !(by == \"mouse\" && widget.get(\"disabled\"))){\r\n\t\t\t\t\t\t\tnewStack.unshift(id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnode=node.parentNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}catch(e){ /* squelch */ }\r\n\r\n\t\t\tthis._setStack(newStack, by);\r\n\t\t},\r\n\r\n\t\t_onFocusNode: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when node is focused\r\n\r\n\t\t\tif(!node){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(node.nodeType == 9){\r\n\t\t\t\t// Ignore focus events on the document itself.  This is here so that\r\n\t\t\t\t// (for example) clicking the up/down arrows of a spinner\r\n\t\t\t\t// (which don't get focus) won't cause that widget to blur. (FF issue)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Keep track of time of last focusin event.\r\n\t\t\tlastFocusin = (new Date()).getTime();\r\n\r\n\t\t\t// There was probably a blur event right before this event, but since we have a new focus,\r\n\t\t\t// forget about the blur\r\n\t\t\tif(this._clearFocusTimer){\r\n\t\t\t\tclearTimeout(this._clearFocusTimer);\r\n\t\t\t\tdelete this._clearFocusTimer;\r\n\t\t\t}\r\n\r\n\t\t\tthis._onTouchNode(node);\r\n\r\n\t\t\tif(node == this.curNode){ return; }\r\n\t\t\tthis.set(\"prevNode\", this.curNode);\r\n\t\t\tthis.set(\"curNode\", node);\r\n\t\t},\r\n\r\n\t\t_setStack: function(/*String[]*/ newStack, /*String*/ by){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThe stack of active widgets has changed.  Send out appropriate events and records new stack.\r\n\t\t\t// newStack:\r\n\t\t\t//\t\tarray of widget id's, starting from the top (outermost) widget\r\n\t\t\t// by:\r\n\t\t\t//\t\t\"mouse\" if the focus/touch was caused by a mouse down event\r\n\r\n\t\t\tvar oldStack = this.activeStack, lastOldIdx = oldStack.length - 1, lastNewIdx = newStack.length - 1;\r\n\r\n\t\t\tif(newStack[lastNewIdx] == oldStack[lastOldIdx]){\r\n\t\t\t\t// no changes, return now to avoid spurious notifications about changes to activeStack\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.set(\"activeStack\", newStack);\r\n\r\n\t\t\tvar widget, i;\r\n\r\n\t\t\t// for all elements that have gone out of focus, set focused=false\r\n\t\t\tfor(i = lastOldIdx; i >= 0 && oldStack[i] != newStack[i]; i--){\r\n\t\t\t\twidget = registry.byId(oldStack[i]);\r\n\t\t\t\tif(widget){\r\n\t\t\t\t\twidget._hasBeenBlurred = true;\t\t// TODO: used by form widgets, should be moved there\r\n\t\t\t\t\twidget.set(\"focused\", false);\r\n\t\t\t\t\tif(widget._focusManager == this){\r\n\t\t\t\t\t\twidget._onBlur(by);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.emit(\"widget-blur\", widget, by);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// for all element that have come into focus, set focused=true\r\n\t\t\tfor(i++; i <= lastNewIdx; i++){\r\n\t\t\t\twidget = registry.byId(newStack[i]);\r\n\t\t\t\tif(widget){\r\n\t\t\t\t\twidget.set(\"focused\", true);\r\n\t\t\t\t\tif(widget._focusManager == this){\r\n\t\t\t\t\t\twidget._onFocus(by);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.emit(\"widget-focus\", widget, by);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the specified node, suppressing errors if they occur\r\n\t\t\tif(node){\r\n\t\t\t\ttry{ node.focus(); }catch(e){/*quiet*/}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar singleton = new FocusManager();\r\n\r\n\t// register top window and all the iframes it contains\r\n\tdomReady(function(){\r\n\t\tvar handle = singleton.registerWin(winUtils.get(document));\r\n\t\tif(has(\"ie\")){\r\n\t\t\ton(window, \"unload\", function(){\r\n\t\t\t\tif(handle){\t// because this gets called twice when doh.robot is running\r\n\t\t\t\t\thandle.remove();\r\n\t\t\t\t\thandle = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// Setup dijit.focus as a pointer to the singleton but also (for backwards compatibility)\r\n\t// as a function to set focus.   Remove for 2.0.\r\n\tdijit.focus = function(node){\r\n\t\tsingleton.focus(node);\t// indirection here allows dijit/_base/focus.js to override behavior\r\n\t};\r\n\tfor(var attr in singleton){\r\n\t\tif(!/^_/.test(attr)){\r\n\t\t\tdijit.focus[attr] = typeof singleton[attr] == \"function\" ? lang.hitch(singleton, attr) : singleton[attr];\r\n\t\t}\r\n\t}\r\n\tsingleton.watch(function(attr, oldVal, newVal){\r\n\t\tdijit.focus[attr] = newVal;\r\n\t});\r\n\r\n\treturn singleton;\r\n});\r\n\ndefine('dijit/selection',[\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"opera\")\r\n\t\"dojo/_base/window\",\r\n\t\"dijit/focus\"\r\n], function(array, dom, lang, has, baseWindow, focus){\r\n\r\n\t// module:\r\n\t//\t\tdijit/selection\r\n\r\n\t// Note that this class is using feature detection, but doesn't use has() because sometimes on IE the outer window\r\n\t// may be running in standards mode (ie, IE9 mode) but an iframe may be in compatibility mode.   So the code path\r\n\t// used will vary based on the window.\r\n\r\n\tvar SelectionManager = function(win){\r\n\t\t// summary:\r\n\t\t//\t\tClass for monitoring / changing the selection (typically highlighted text) in a given window\r\n\t\t// win: Window\r\n\t\t//\t\tThe window to monitor/adjust the selection on.\r\n\r\n\t\tvar doc = win.document;\r\n\r\n\t\tthis.getType = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the selection type (like doc.select.type in IE).\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tvar stype = \"text\";\r\n\r\n\t\t\t\t// Check if the actual selection is a CONTROL (IMG, TABLE, HR, etc...).\r\n\t\t\t\tvar oSel;\r\n\t\t\t\ttry{\r\n\t\t\t\t\toSel = win.getSelection();\r\n\t\t\t\t}catch(e){ /*squelch*/ }\r\n\r\n\t\t\t\tif(oSel && oSel.rangeCount == 1){\r\n\t\t\t\t\tvar oRange = oSel.getRangeAt(0);\r\n\t\t\t\t\tif(\t(oRange.startContainer == oRange.endContainer) &&\r\n\t\t\t\t\t\t((oRange.endOffset - oRange.startOffset) == 1) &&\r\n\t\t\t\t\t\t(oRange.startContainer.nodeType != 3 /* text node*/)\r\n\t\t\t\t\t\t){\r\n\t\t\t\t\t\tstype = \"control\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn stype; //String\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\treturn doc.selection.type.toLowerCase();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.getSelectedText = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the text (no html tags) included in the current selection or null if no text is selected\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tvar selection = win.getSelection();\r\n\t\t\t\treturn selection ? selection.toString() : \"\"; //String\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\tif(this.getType() == 'control'){\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn doc.selection.createRange().text;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.getSelectedHtml = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the html text of the current selection or null if unavailable\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tvar selection = win.getSelection();\r\n\t\t\t\tif(selection && selection.rangeCount){\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tvar html = \"\";\r\n\t\t\t\t\tfor(i = 0; i < selection.rangeCount; i++){\r\n\t\t\t\t\t\t//Handle selections spanning ranges, such as Opera\r\n\t\t\t\t\t\tvar frag = selection.getRangeAt(i).cloneContents();\r\n\t\t\t\t\t\tvar div = doc.createElement(\"div\");\r\n\t\t\t\t\t\tdiv.appendChild(frag);\r\n\t\t\t\t\t\thtml += div.innerHTML;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn html; //String\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\tif(this.getType() == 'control'){\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn doc.selection.createRange().htmlText;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.getSelectedElement = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRetrieves the selected element (if any), just in the case that\r\n\t\t\t//\t\ta single element (object like and image or a table) is\r\n\t\t\t//\t\tselected.\r\n\t\t\tif(this.getType() == \"control\"){\r\n\t\t\t\tif(doc.getSelection){\r\n\t\t\t\t\t// W3C path\r\n\t\t\t\t\tvar selection = win.getSelection();\r\n\t\t\t\t\treturn selection.anchorNode.childNodes[ selection.anchorOffset ];\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// IE6-8\r\n\t\t\t\t\tvar range = doc.selection.createRange();\r\n\t\t\t\t\tif(range && range.item){\r\n\t\t\t\t\t\treturn doc.selection.createRange().item(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\tthis.getParentElement = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the parent element of the current selection\r\n\t\t\tif(this.getType() == \"control\"){\r\n\t\t\t\tvar p = this.getSelectedElement();\r\n\t\t\t\tif(p){ return p.parentNode; }\r\n\t\t\t}else{\r\n\t\t\t\tif(doc.getSelection){\r\n\t\t\t\t\tvar selection = doc.getSelection();\r\n\t\t\t\t\tif(selection){\r\n\t\t\t\t\t\tvar node = selection.anchorNode;\r\n\t\t\t\t\t\twhile(node && (node.nodeType != 1)){ // not an element\r\n\t\t\t\t\t\t\tnode = node.parentNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn node;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar r = doc.selection.createRange();\r\n\t\t\t\t\tr.collapse(true);\r\n\t\t\t\t\treturn r.parentElement();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\tthis.hasAncestorElement = function(/*String*/ tagName /* ... */){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCheck whether current selection has a  parent element which is\r\n\t\t\t//\t\tof type tagName (or one of the other specified tagName)\r\n\t\t\t// tagName: String\r\n\t\t\t//\t\tThe tag name to determine if it has an ancestor of.\r\n\t\t\treturn this.getAncestorElement.apply(this, arguments) != null; //Boolean\r\n\t\t};\r\n\r\n\t\tthis.getAncestorElement = function(/*String*/ tagName /* ... */){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the parent element of the current selection which is of\r\n\t\t\t//\t\ttype tagName (or one of the other specified tagName)\r\n\t\t\t// tagName: String\r\n\t\t\t//\t\tThe tag name to determine if it has an ancestor of.\r\n\t\t\tvar node = this.getSelectedElement() || this.getParentElement();\r\n\t\t\treturn this.getParentOfType(node, arguments); //DOMNode\r\n\t\t};\r\n\r\n\t\tthis.isTag = function(/*DomNode*/ node, /*String[]*/ tags){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to determine if a node is one of an array of tags.\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to inspect.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tAn array of tag name strings to check to see if the node matches.\r\n\t\t\tif(node && node.tagName){\r\n\t\t\t\tvar _nlc = node.tagName.toLowerCase();\r\n\t\t\t\tfor(var i=0; i<tags.length; i++){\r\n\t\t\t\t\tvar _tlc = String(tags[i]).toLowerCase();\r\n\t\t\t\t\tif(_nlc == _tlc){\r\n\t\t\t\t\t\treturn _tlc; // String\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t};\r\n\r\n\t\tthis.getParentOfType = function(/*DomNode*/ node, /*String[]*/ tags){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to locate a parent node that matches one of a set of tags\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to inspect.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tAn array of tag name strings to check to see if the node matches.\r\n\t\t\twhile(node){\r\n\t\t\t\tif(this.isTag(node, tags).length){\r\n\t\t\t\t\treturn node; // DOMNode\r\n\t\t\t\t}\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\tthis.collapse = function(/*Boolean*/ beginning){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to collapse (clear), the current selection\r\n\t\t\t// beginning: Boolean\r\n\t\t\t//\t\tIndicates whether to collapse the cursor to the beginning of the selection or end.\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tvar selection = win.getSelection();\r\n\t\t\t\tif(selection.removeAllRanges){ // Mozilla\r\n\t\t\t\t\tif(beginning){\r\n\t\t\t\t\t\tselection.collapseToStart();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tselection.collapseToEnd();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{ // Safari\r\n\t\t\t\t\t// pulled from WebCore/ecma/kjs_window.cpp, line 2536\r\n\t\t\t\t\tselection.collapse(beginning);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\tvar range = doc.selection.createRange();\r\n\t\t\t\trange.collapse(beginning);\r\n\t\t\t\trange.select();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.remove = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to delete the currently selected content from the document.\r\n\t\t\tvar sel = doc.selection;\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tsel = win.getSelection();\r\n\t\t\t\tsel.deleteFromDocument();\r\n\t\t\t\treturn sel; //Selection\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\tif(sel.type.toLowerCase() != \"none\"){\r\n\t\t\t\t\tsel.clear();\r\n\t\t\t\t}\r\n\t\t\t\treturn sel; //Selection\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.selectElementChildren = function(/*DomNode*/ element, /*Boolean?*/ nochangefocus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tclear previous selection and select the content of the node\r\n\t\t\t//\t\t(excluding the node itself)\r\n\t\t\t// element: DOMNode\r\n\t\t\t//\t\tThe element you wish to select the children content of.\r\n\t\t\t// nochangefocus: Boolean\r\n\t\t\t//\t\tIndicates if the focus should change or not.\r\n\r\n\t\t\tvar range;\r\n\t\t\telement = dom.byId(element);\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C\r\n\t\t\t\tvar selection = win.getSelection();\r\n\t\t\t\tif(has(\"opera\")){\r\n\t\t\t\t\t//Opera's selectAllChildren doesn't seem to work right\r\n\t\t\t\t\t//against <body> nodes and possibly others ... so\r\n\t\t\t\t\t//we use the W3C range API\r\n\t\t\t\t\tif(selection.rangeCount){\r\n\t\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trange = doc.createRange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\trange.setStart(element, 0);\r\n\t\t\t\t\trange.setEnd(element,(element.nodeType == 3) ? element.length : element.childNodes.length);\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tselection.selectAllChildren(element);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\trange = element.ownerDocument.body.createTextRange();\r\n\t\t\t\trange.moveToElementText(element);\r\n\t\t\t\tif(!nochangefocus){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\trange.select(); // IE throws an exception here if the widget is hidden.  See #5439\r\n\t\t\t\t\t}catch(e){ /* squelch */}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.selectElement = function(/*DomNode*/ element, /*Boolean?*/ nochangefocus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tclear previous selection and select element (including all its children)\r\n\t\t\t// element: DOMNode\r\n\t\t\t//\t\tThe element to select.\r\n\t\t\t// nochangefocus: Boolean\r\n\t\t\t//\t\tBoolean indicating if the focus should be changed.  IE only.\r\n\t\t\tvar range;\r\n\t\t\telement = dom.byId(element);\t// TODO: remove for 2.0 or sooner, spec listed above doesn't allow for string\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C path\r\n\t\t\t\tvar selection = doc.getSelection();\r\n\t\t\t\trange = doc.createRange();\r\n\t\t\t\tif(selection.removeAllRanges){ // Mozilla\r\n\t\t\t\t\t// FIXME: does this work on Safari?\r\n\t\t\t\t\tif(has(\"opera\")){\r\n\t\t\t\t\t\t//Opera works if you use the current range on\r\n\t\t\t\t\t\t//the selection if present.\r\n\t\t\t\t\t\tif(selection.getRangeAt(0)){\r\n\t\t\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\trange.selectNode(element);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// IE6-8\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar tg = element.tagName ? element.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\tif(tg === \"img\" || tg === \"table\"){\r\n\t\t\t\t\t\trange = baseWindow.body(doc).createControlRange();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trange = baseWindow.body(doc).createRange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\trange.addElement(element);\r\n\t\t\t\t\tif(!nochangefocus){\r\n\t\t\t\t\t\trange.select();\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tthis.selectElementChildren(element, nochangefocus);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.inSelection = function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function determines if 'node' is\r\n\t\t\t//\t\tin the current selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tpublic\r\n\t\t\tif(node){\r\n\t\t\t\tvar newRange;\r\n\t\t\t\tvar range;\r\n\r\n\t\t\t\tif(doc.getSelection){\r\n\t\t\t\t\t// WC3\r\n\t\t\t\t\tvar sel = win.getSelection();\r\n\t\t\t\t\tif(sel && sel.rangeCount > 0){\r\n\t\t\t\t\t\trange = sel.getRangeAt(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(range && range.compareBoundaryPoints && doc.createRange){\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tnewRange = doc.createRange();\r\n\t\t\t\t\t\t\tnewRange.setStart(node, 0);\r\n\t\t\t\t\t\t\tif(range.compareBoundaryPoints(range.START_TO_END, newRange) === 1){\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}catch(e){ /* squelch */}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// IE6-8, so we can't use the range object as the pseudo\r\n\t\t\t\t\t// range doesn't implement the boundary checking, we have to\r\n\t\t\t\t\t// use IE specific crud.\r\n\t\t\t\t\trange = doc.selection.createRange();\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tnewRange = node.ownerDocument.body.createTextRange();\r\n\t\t\t\t\t\tnewRange.moveToElementText(node);\r\n\t\t\t\t\t}catch(e2){/* squelch */}\r\n\t\t\t\t\tif(range && newRange){\r\n\t\t\t\t\t\t// We can finally compare similar to W3C\r\n\t\t\t\t\t\tif(range.compareEndPoints(\"EndToStart\", newRange) === 1){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false; // Boolean\r\n\t\t};\r\n\r\n\t\tthis.getBookmark = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRetrieves a bookmark that can be used with moveToBookmark to reselect the currently selected range.\r\n\r\n\t\t\t// TODO: merge additional code from Editor._getBookmark into this method\r\n\r\n\t\t\tvar bm, rg, tg, sel = doc.selection, cf = focus.curNode;\r\n\r\n\t\t\tif(doc.getSelection){\r\n\t\t\t\t// W3C Range API for selections.\r\n\t\t\t\tsel = win.getSelection();\r\n\t\t\t\tif(sel){\r\n\t\t\t\t\tif(sel.isCollapsed){\r\n\t\t\t\t\t\ttg = cf? cf.tagName : \"\";\r\n\t\t\t\t\t\tif(tg){\r\n\t\t\t\t\t\t\t// Create a fake rangelike item to restore selections.\r\n\t\t\t\t\t\t\ttg = tg.toLowerCase();\r\n\t\t\t\t\t\t\tif(tg == \"textarea\" ||\r\n\t\t\t\t\t\t\t\t(tg == \"input\" && (!cf.type || cf.type.toLowerCase() == \"text\"))){\r\n\t\t\t\t\t\t\t\tsel = {\r\n\t\t\t\t\t\t\t\t\tstart: cf.selectionStart,\r\n\t\t\t\t\t\t\t\t\tend: cf.selectionEnd,\r\n\t\t\t\t\t\t\t\t\tnode: cf,\r\n\t\t\t\t\t\t\t\t\tpRange: true\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\treturn {isCollapsed: (sel.end <= sel.start), mark: sel}; //Object.\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbm = {isCollapsed:true};\r\n\t\t\t\t\t\tif(sel.rangeCount){\r\n\t\t\t\t\t\t\tbm.mark = sel.getRangeAt(0).cloneRange();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trg = sel.getRangeAt(0);\r\n\t\t\t\t\t\tbm = {isCollapsed: false, mark: rg.cloneRange()};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else if(sel){\r\n\t\t\t\t// If the current focus was a input of some sort and no selection, don't bother saving\r\n\t\t\t\t// a native bookmark.  This is because it causes issues with dialog/page selection restore.\r\n\t\t\t\t// So, we need to create pseudo bookmarks to work with.\r\n\t\t\t\ttg = cf ? cf.tagName : \"\";\r\n\t\t\t\ttg = tg.toLowerCase();\r\n\t\t\t\tif(cf && tg && (tg == \"button\" || tg == \"textarea\" || tg == \"input\")){\r\n\t\t\t\t\tif(sel.type && sel.type.toLowerCase() == \"none\"){\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tisCollapsed: true,\r\n\t\t\t\t\t\t\tmark: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trg = sel.createRange();\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tisCollapsed: rg.text && rg.text.length?false:true,\r\n\t\t\t\t\t\t\tmark: {\r\n\t\t\t\t\t\t\t\trange: rg,\r\n\t\t\t\t\t\t\t\tpRange: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbm = {};\r\n\r\n\t\t\t\t//'IE' way for selections.\r\n\t\t\t\ttry{\r\n\t\t\t\t\t// createRange() throws exception when dojo in iframe\r\n\t\t\t\t\t// and nothing selected, see #9632\r\n\t\t\t\t\trg = sel.createRange();\r\n\t\t\t\t\tbm.isCollapsed = !(sel.type == 'Text' ? rg.htmlText.length : rg.length);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tbm.isCollapsed = true;\r\n\t\t\t\t\treturn bm;\r\n\t\t\t\t}\r\n\t\t\t\tif(sel.type.toUpperCase() == 'CONTROL'){\r\n\t\t\t\t\tif(rg.length){\r\n\t\t\t\t\t\tbm.mark=[];\r\n\t\t\t\t\t\tvar i=0,len=rg.length;\r\n\t\t\t\t\t\twhile(i<len){\r\n\t\t\t\t\t\t\tbm.mark.push(rg.item(i++));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbm.isCollapsed = true;\r\n\t\t\t\t\t\tbm.mark = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbm.mark = rg.getBookmark();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tconsole.warn(\"No idea how to store the current selection for this browser!\");\r\n\t\t\t}\r\n\t\t\treturn bm; // Object\r\n\t\t};\r\n\r\n\t\tthis.moveToBookmark = function(/*Object*/ bookmark){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMoves current selection to a bookmark.\r\n\t\t\t// bookmark:\r\n\t\t\t//\t\tThis should be a returned object from getBookmark().\r\n\r\n\t\t\t// TODO: merge additional code from Editor._moveToBookmark into this method\r\n\r\n\t\t\tvar mark = bookmark.mark;\r\n\t\t\tif(mark){\r\n\t\t\t\tif(doc.getSelection){\r\n\t\t\t\t\t// W3C Range API (FF, WebKit, Opera, etc)\r\n\t\t\t\t\tvar sel = win.getSelection();\r\n\t\t\t\t\tif(sel && sel.removeAllRanges){\r\n\t\t\t\t\t\tif(mark.pRange){\r\n\t\t\t\t\t\t\tvar n = mark.node;\r\n\t\t\t\t\t\t\tn.selectionStart = mark.start;\r\n\t\t\t\t\t\t\tn.selectionEnd = mark.end;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\t\t\tsel.addRange(mark);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.warn(\"No idea how to restore selection for this browser!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(doc.selection && mark){\r\n\t\t\t\t\t//'IE' way.\r\n\t\t\t\t\tvar rg;\r\n\t\t\t\t\tif(mark.pRange){\r\n\t\t\t\t\t\trg = mark.range;\r\n\t\t\t\t\t}else if(lang.isArray(mark)){\r\n\t\t\t\t\t\trg = doc.body.createControlRange();\r\n\t\t\t\t\t\t//rg.addElement does not have call/apply method, so can not call it directly\r\n\t\t\t\t\t\t//rg is not available in \"range.addElement(item)\", so can't use that either\r\n\t\t\t\t\t\tarray.forEach(mark, function(n){\r\n\t\t\t\t\t\t\trg.addElement(n);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trg = doc.body.createTextRange();\r\n\t\t\t\t\t\trg.moveToBookmark(mark);\r\n\t\t\t\t\t}\r\n\t\t\t\t\trg.select();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.isCollapsed = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if there is no text selected\r\n\t\t\treturn this.getBookmark().isCollapsed;\r\n\t\t};\r\n\t};\r\n\r\n\t// singleton on the main window\r\n\tvar selection = new SelectionManager(window);\r\n\r\n\t// hook for editor to use class\r\n\tselection.SelectionManager = SelectionManager;\r\n\r\n\treturn selection;\r\n});\r\n\ndefine('dijit/_base/focus',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/dom\", // dom.isDescendant\r\n\t\"dojo/_base/lang\", // lang.isArray\r\n\t\"dojo/topic\", // publish\r\n\t\"dojo/_base/window\", // win.doc win.doc.selection win.global win.global.getSelection win.withGlobal\r\n\t\"../focus\",\r\n\t\"../selection\",\r\n\t\"../main\"\t// for exporting symbols to dijit\r\n], function(array, dom, lang, topic, win, focus, selection, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base/focus\r\n\r\n\tvar exports = {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated module to monitor currently focused node and stack of currently focused widgets.\r\n\t\t//\t\tNew code should access dijit/focus directly.\r\n\r\n\t\t// _curFocus: DomNode\r\n\t\t//\t\tCurrently focused item on screen\r\n\t\t_curFocus: null,\r\n\r\n\t\t// _prevFocus: DomNode\r\n\t\t//\t\tPreviously focused item on screen\r\n\t\t_prevFocus: null,\r\n\r\n\t\tisCollapsed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if there is no text selected\r\n\t\t\treturn dijit.getBookmark().isCollapsed;\r\n\t\t},\r\n\r\n\t\tgetBookmark: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRetrieves a bookmark that can be used with moveToBookmark to return to the same range\r\n\t\t\tvar sel = win.global == window ? selection : new selection.SelectionManager(win.global);\r\n\t\t\treturn sel.getBookmark();\r\n\t\t},\r\n\r\n\t\tmoveToBookmark: function(/*Object*/ bookmark){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMoves current selection to a bookmark\r\n\t\t\t// bookmark:\r\n\t\t\t//\t\tThis should be a returned object from dijit.getBookmark()\r\n\r\n\t\t\tvar sel = win.global == window ? selection : new selection.SelectionManager(win.global);\r\n\t\t\treturn sel.moveToBookmark(bookmark);\r\n\t\t},\r\n\r\n\t\tgetFocus: function(/*Widget?*/ menu, /*Window?*/ openedForWindow){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled as getFocus(), this returns an Object showing the current focus\r\n\t\t\t//\t\tand selected text.\r\n\t\t\t//\r\n\t\t\t//\t\tCalled as getFocus(widget), where widget is a (widget representing) a button\r\n\t\t\t//\t\tthat was just pressed, it returns where focus was before that button\r\n\t\t\t//\t\twas pressed.   (Pressing the button may have either shifted focus to the button,\r\n\t\t\t//\t\tor removed focus altogether.)   In this case the selected text is not returned,\r\n\t\t\t//\t\tsince it can't be accurately determined.\r\n\t\t\t//\r\n\t\t\t// menu: dijit/_WidgetBase|{domNode: DomNode} structure\r\n\t\t\t//\t\tThe button that was just pressed.  If focus has disappeared or moved\r\n\t\t\t//\t\tto this button, returns the previous focus.  In this case the bookmark\r\n\t\t\t//\t\tinformation is already lost, and null is returned.\r\n\t\t\t//\r\n\t\t\t// openedForWindow:\r\n\t\t\t//\t\tiframe in which menu was opened\r\n\t\t\t//\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle to restore focus/selection, to be passed to `dijit.focus`\r\n\t\t\tvar node = !focus.curNode || (menu && dom.isDescendant(focus.curNode, menu.domNode)) ? dijit._prevFocus : focus.curNode;\r\n\t\t\treturn {\r\n\t\t\t\tnode: node,\r\n\t\t\t\tbookmark: node && (node == focus.curNode) && win.withGlobal(openedForWindow || win.global, dijit.getBookmark),\r\n\t\t\t\topenedForWindow: openedForWindow\r\n\t\t\t}; // Object\r\n\t\t},\r\n\r\n\t\t// _activeStack: dijit/_WidgetBase[]\r\n\t\t//\t\tList of currently active widgets (focused widget and it's ancestors)\r\n\t\t_activeStack: [],\r\n\r\n\t\tregisterIframe: function(/*DomNode*/ iframe){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegisters listeners on the specified iframe so that any click\r\n\t\t\t//\t\tor focus event on that iframe (or anything in it) is reported\r\n\t\t\t//\t\tas a focus/click event on the `<iframe>` itself.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCurrently only used by editor.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tHandle to pass to unregisterIframe()\r\n\t\t\treturn focus.registerIframe(iframe);\r\n\t\t},\r\n\r\n\t\tunregisterIframe: function(/*Object*/ handle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUnregisters listeners on the specified iframe created by registerIframe.\r\n\t\t\t//\t\tAfter calling be sure to delete or null out the handle itself.\r\n\t\t\t// handle:\r\n\t\t\t//\t\tHandle returned by registerIframe()\r\n\r\n\t\t\thandle && handle.remove();\r\n\t\t},\r\n\r\n\t\tregisterWin: function(/*Window?*/targetWindow, /*DomNode?*/ effectiveNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegisters listeners on the specified window (either the main\r\n\t\t\t//\t\twindow or an iframe's window) to detect when the user has clicked somewhere\r\n\t\t\t//\t\tor focused somewhere.\r\n\t\t\t// description:\r\n\t\t\t//\t\tUsers should call registerIframe() instead of this method.\r\n\t\t\t// targetWindow:\r\n\t\t\t//\t\tIf specified this is the window associated with the iframe,\r\n\t\t\t//\t\ti.e. iframe.contentWindow.\r\n\t\t\t// effectiveNode:\r\n\t\t\t//\t\tIf specified, report any focus events inside targetWindow as\r\n\t\t\t//\t\tan event on effectiveNode, rather than on evt.target.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tHandle to pass to unregisterWin()\r\n\r\n\t\t\treturn focus.registerWin(targetWindow, effectiveNode);\r\n\t\t},\r\n\r\n\t\tunregisterWin: function(/*Handle*/ handle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUnregisters listeners on the specified window (either the main\r\n\t\t\t//\t\twindow or an iframe's window) according to handle returned from registerWin().\r\n\t\t\t//\t\tAfter calling be sure to delete or null out the handle itself.\r\n\r\n\t\t\thandle && handle.remove();\r\n\t\t}\r\n\t};\r\n\r\n\t// Override focus singleton's focus function so that dijit.focus()\r\n\t// has backwards compatible behavior of restoring selection (although\r\n\t// probably no one is using that).\r\n\tfocus.focus = function(/*Object|DomNode */ handle){\r\n\t\t// summary:\r\n\t\t//\t\tSets the focused node and the selection according to argument.\r\n\t\t//\t\tTo set focus to an iframe's content, pass in the iframe itself.\r\n\t\t// handle:\r\n\t\t//\t\tobject returned by get(), or a DomNode\r\n\r\n\t\tif(!handle){ return; }\r\n\r\n\t\tvar node = \"node\" in handle ? handle.node : handle,\t\t// because handle is either DomNode or a composite object\r\n\t\t\tbookmark = handle.bookmark,\r\n\t\t\topenedForWindow = handle.openedForWindow,\r\n\t\t\tcollapsed = bookmark ? bookmark.isCollapsed : false;\r\n\r\n\t\t// Set the focus\r\n\t\t// Note that for iframe's we need to use the <iframe> to follow the parentNode chain,\r\n\t\t// but we need to set focus to iframe.contentWindow\r\n\t\tif(node){\r\n\t\t\tvar focusNode = (node.tagName.toLowerCase() == \"iframe\") ? node.contentWindow : node;\r\n\t\t\tif(focusNode && focusNode.focus){\r\n\t\t\t\ttry{\r\n\t\t\t\t\t// Gecko throws sometimes if setting focus is impossible,\r\n\t\t\t\t\t// node not displayed or something like that\r\n\t\t\t\t\tfocusNode.focus();\r\n\t\t\t\t}catch(e){/*quiet*/}\r\n\t\t\t}\r\n\t\t\tfocus._onFocusNode(node);\r\n\t\t}\r\n\r\n\t\t// set the selection\r\n\t\t// do not need to restore if current selection is not empty\r\n\t\t// (use keyboard to select a menu item) or if previous selection was collapsed\r\n\t\t// as it may cause focus shift (Esp in IE).\r\n\t\tif(bookmark && win.withGlobal(openedForWindow || win.global, dijit.isCollapsed) && !collapsed){\r\n\t\t\tif(openedForWindow){\r\n\t\t\t\topenedForWindow.focus();\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t\twin.withGlobal(openedForWindow || win.global, dijit.moveToBookmark, null, [bookmark]);\r\n\t\t\t}catch(e2){\r\n\t\t\t\t/*squelch IE internal error, see http://trac.dojotoolkit.org/ticket/1984 */\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// For back compatibility, monitor changes to focused node and active widget stack,\r\n\t// publishing events and copying changes from focus manager variables into dijit (top level) variables\r\n\tfocus.watch(\"curNode\", function(name, oldVal, newVal){\r\n\t\tdijit._curFocus = newVal;\r\n\t\tdijit._prevFocus = oldVal;\r\n\t\tif(newVal){\r\n\t\t\ttopic.publish(\"focusNode\", newVal);\t// publish\r\n\t\t}\r\n\t});\r\n\tfocus.watch(\"activeStack\", function(name, oldVal, newVal){\r\n\t\tdijit._activeStack = newVal;\r\n\t});\r\n\r\n\tfocus.on(\"widget-blur\", function(widget, by){\r\n\t\ttopic.publish(\"widgetBlur\", widget, by);\t// publish\r\n\t});\r\n\tfocus.on(\"widget-focus\", function(widget, by){\r\n\t\ttopic.publish(\"widgetFocus\", widget, by);\t// publish\r\n\t});\r\n\r\n\tlang.mixin(dijit, exports);\r\n\r\n\t/*===== return exports; =====*/\r\n\treturn dijit;\t// for back compat :-(\r\n});\r\n\ndefine('dijit/_base/manager',[\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/config\", // defaultDuration\r\n\t\"dojo/_base/lang\",\r\n\t\"../registry\",\r\n\t\"../main\"\t// for setting exports to dijit namespace\r\n], function(array, config, lang, registry, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base/manager\r\n\r\n\tvar exports = {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.  Shim to methods on registry, plus a few other declarations.\r\n\t\t//\t\tNew code should access dijit/registry directly when possible.\r\n\t};\r\n\r\n\tarray.forEach([\"byId\", \"getUniqueId\", \"findWidgets\", \"_destroyAll\", \"byNode\", \"getEnclosingWidget\"], function(name){\r\n\t\texports[name] = registry[name];\r\n\t});\r\n\r\n\t lang.mixin(exports, {\r\n\t\t // defaultDuration: Integer\r\n\t\t //\t\tThe default fx.animation speed (in ms) to use for all Dijit\r\n\t\t //\t\ttransitional fx.animations, unless otherwise specified\r\n\t\t //\t\ton a per-instance basis. Defaults to 200, overrided by\r\n\t\t //\t\t`djConfig.defaultDuration`\r\n\t\t defaultDuration: config[\"defaultDuration\"] || 200\r\n\t });\r\n\r\n\tlang.mixin(dijit, exports);\r\n\r\n\t/*===== return exports; =====*/\r\n\treturn dijit;\t// for back compat :-(\r\n});\r\n\ndefine('dijit/Viewport',[\r\n\t\"dojo/Evented\",\r\n\t\"dojo/on\",\r\n\t\"dojo/domReady\",\r\n\t\"dojo/sniff\",\t// has(\"ie\"), has(\"ios\")\r\n\t\"dojo/window\" // getBox()\r\n], function(Evented, on, domReady, has, winUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Viewport\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tUtility singleton to watch for viewport resizes, avoiding duplicate notifications\r\n\t\t//\t\twhich can lead to infinite loops.\r\n\t\t// description:\r\n\t\t//\t\tUsage: Viewport.on(\"resize\", myCallback).\r\n\t\t//\r\n\t\t//\t\tmyCallback() is called without arguments in case it's _WidgetBase.resize(),\r\n\t\t//\t\twhich would interpret the argument as the size to make the widget.\r\n\t};\r\n\t=====*/\r\n\r\n\tvar Viewport = new Evented();\r\n\r\n\tvar focusedNode;\r\n\r\n\tdomReady(function(){\r\n\t\tvar oldBox = winUtils.getBox();\r\n\t\tViewport._rlh = on(window, \"resize\", function(){\r\n\t\t\tvar newBox = winUtils.getBox();\r\n\t\t\tif(oldBox.h == newBox.h && oldBox.w == newBox.w){ return; }\r\n\t\t\toldBox = newBox;\r\n\t\t\tViewport.emit(\"resize\");\r\n\t\t});\r\n\r\n\t\t// Also catch zoom changes on IE8, since they don't naturally generate resize events\r\n\t\tif(has(\"ie\") == 8){\r\n\t\t\tvar deviceXDPI = screen.deviceXDPI;\r\n\t\t\tsetInterval(function(){\r\n\t\t\t\tif(screen.deviceXDPI != deviceXDPI){\r\n\t\t\t\t\tdeviceXDPI = screen.deviceXDPI;\r\n\t\t\t\t\tViewport.emit(\"resize\");\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t}\r\n\r\n\t\t// On iOS, keep track of the focused node so we can guess when the keyboard is/isn't being displayed.\r\n\t\tif(has(\"ios\")){\r\n\t\t\ton(document, \"focusin\", function(evt){\r\n\t\t\t\tfocusedNode = evt.target;\r\n\t\t\t});\r\n\t\t\ton(document, \"focusout\", function(evt){\r\n\t\t\t\tfocusedNode = null;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tViewport.getEffectiveBox = function(/*Document*/ doc){\r\n\t\t// summary:\r\n\t\t//\t\tGet the size of the viewport, or on mobile devices, the part of the viewport not obscured by the\r\n\t\t//\t\tvirtual keyboard.\r\n\r\n\t\tvar box = winUtils.getBox(doc);\r\n\r\n\t\t// Account for iOS virtual keyboard, if it's being shown.  Unfortunately no direct way to check or measure.\r\n\t\tvar tag = focusedNode && focusedNode.tagName && focusedNode.tagName.toLowerCase();\r\n\t\tif(has(\"ios\") && focusedNode && !focusedNode.readOnly && (tag == \"textarea\" || (tag == \"input\" &&\r\n\t\t\t/^(color|email|number|password|search|tel|text|url)$/.test(focusedNode.type)))){\r\n\r\n\t\t\t// Box represents the size of the viewport.  Some of the viewport is likely covered by the keyboard.\r\n\t\t\t// Estimate height of visible viewport assuming viewport goes to bottom of screen, but is covered by keyboard.\r\n\t\t\tbox.h *= (orientation == 0 || orientation == 180 ? 0.66 : 0.40);\r\n\r\n\t\t\t// Above measurement will be inaccurate if viewport was scrolled up so far that it ends before the bottom\r\n\t\t\t// of the screen.   In this case, keyboard isn't covering as much of the viewport as we thought.\r\n\t\t\t// We know the visible size is at least the distance from the top of the viewport to the focused node.\r\n\t\t\tvar rect = focusedNode.getBoundingClientRect();\r\n\t\t\tbox.h = Math.max(box.h, rect.top + rect.height);\r\n\t\t}\r\n\r\n\t\treturn box;\r\n\t};\r\n\r\n\treturn Viewport;\r\n});\r\n\ndefine('dijit/place',[\r\n\t\"dojo/_base/array\", // array.forEach array.map array.some\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"./Viewport\", // getEffectiveBox\r\n\t\"./main\"\t// dijit (defining dijit.place to match API doc)\r\n], function(array, domGeometry, domStyle, kernel, win, Viewport, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/place\r\n\r\n\r\n\tfunction _place(/*DomNode*/ node, choices, layoutNode, aroundNodeCoords){\r\n\t\t// summary:\r\n\t\t//\t\tGiven a list of spots to put node, put it at the first spot where it fits,\r\n\t\t//\t\tof if it doesn't fit anywhere then the place with the least overflow\r\n\t\t// choices: Array\r\n\t\t//\t\tArray of elements like: {corner: 'TL', pos: {x: 10, y: 20} }\r\n\t\t//\t\tAbove example says to put the top-left corner of the node at (10,20)\r\n\t\t// layoutNode: Function(node, aroundNodeCorner, nodeCorner, size)\r\n\t\t//\t\tfor things like tooltip, they are displayed differently (and have different dimensions)\r\n\t\t//\t\tbased on their orientation relative to the parent.\t This adjusts the popup based on orientation.\r\n\t\t//\t\tIt also passes in the available size for the popup, which is useful for tooltips to\r\n\t\t//\t\ttell them that their width is limited to a certain amount.\t layoutNode() may return a value expressing\r\n\t\t//\t\thow much the popup had to be modified to fit into the available space.\t This is used to determine\r\n\t\t//\t\twhat the best placement is.\r\n\t\t// aroundNodeCoords: Object\r\n\t\t//\t\tSize of aroundNode, ex: {w: 200, h: 50}\r\n\r\n\t\t// get {x: 10, y: 10, w: 100, h:100} type obj representing position of\r\n\t\t// viewport over document\r\n\t\tvar view = Viewport.getEffectiveBox(node.ownerDocument);\r\n\r\n\t\t// This won't work if the node is inside a <div style=\"position: relative\">,\r\n\t\t// so reattach it to <body>.\t (Otherwise, the positioning will be wrong\r\n\t\t// and also it might get cutoff.)\r\n\t\tif(!node.parentNode || String(node.parentNode.tagName).toLowerCase() != \"body\"){\r\n\t\t\twin.body(node.ownerDocument).appendChild(node);\r\n\t\t}\r\n\r\n\t\tvar best = null;\r\n\t\tarray.some(choices, function(choice){\r\n\t\t\tvar corner = choice.corner;\r\n\t\t\tvar pos = choice.pos;\r\n\t\t\tvar overflow = 0;\r\n\r\n\t\t\t// calculate amount of space available given specified position of node\r\n\t\t\tvar spaceAvailable = {\r\n\t\t\t\tw: {\r\n\t\t\t\t\t'L': view.l + view.w - pos.x,\r\n\t\t\t\t\t'R': pos.x - view.l,\r\n\t\t\t\t\t'M': view.w\r\n\t\t\t\t}[corner.charAt(1)],\r\n\t\t\t\th: {\r\n\t\t\t\t\t'T': view.t + view.h - pos.y,\r\n\t\t\t\t\t'B': pos.y - view.t,\r\n\t\t\t\t\t'M': view.h\r\n\t\t\t\t}[corner.charAt(0)]\r\n\t\t\t};\r\n\r\n\t\t\t// Clear left/right position settings set earlier so they don't interfere with calculations,\r\n\t\t\t// specifically when layoutNode() (a.k.a. Tooltip.orient()) measures natural width of Tooltip\r\n\t\t\tvar s = node.style;\r\n\t\t\ts.left = s.right = \"auto\";\r\n\r\n\t\t\t// configure node to be displayed in given position relative to button\r\n\t\t\t// (need to do this in order to get an accurate size for the node, because\r\n\t\t\t// a tooltip's size changes based on position, due to triangle)\r\n\t\t\tif(layoutNode){\r\n\t\t\t\tvar res = layoutNode(node, choice.aroundCorner, corner, spaceAvailable, aroundNodeCoords);\r\n\t\t\t\toverflow = typeof res == \"undefined\" ? 0 : res;\r\n\t\t\t}\r\n\r\n\t\t\t// get node's size\r\n\t\t\tvar style = node.style;\r\n\t\t\tvar oldDisplay = style.display;\r\n\t\t\tvar oldVis = style.visibility;\r\n\t\t\tif(style.display == \"none\"){\r\n\t\t\t\tstyle.visibility = \"hidden\";\r\n\t\t\t\tstyle.display = \"\";\r\n\t\t\t}\r\n\t\t\tvar bb = domGeometry.position(node);\r\n\t\t\tstyle.display = oldDisplay;\r\n\t\t\tstyle.visibility = oldVis;\r\n\r\n\t\t\t// coordinates and size of node with specified corner placed at pos,\r\n\t\t\t// and clipped by viewport\r\n\t\t\tvar\r\n\t\t\t\tstartXpos = {\r\n\t\t\t\t\t'L': pos.x,\r\n\t\t\t\t\t'R': pos.x - bb.w,\r\n\t\t\t\t\t'M': Math.max(view.l, Math.min(view.l + view.w, pos.x + (bb.w >> 1)) - bb.w) // M orientation is more flexible\r\n\t\t\t\t}[corner.charAt(1)],\r\n\t\t\t\tstartYpos = {\r\n\t\t\t\t\t'T': pos.y,\r\n\t\t\t\t\t'B': pos.y - bb.h,\r\n\t\t\t\t\t'M': Math.max(view.t, Math.min(view.t + view.h, pos.y + (bb.h >> 1)) - bb.h)\r\n\t\t\t\t}[corner.charAt(0)],\r\n\t\t\t\tstartX = Math.max(view.l, startXpos),\r\n\t\t\t\tstartY = Math.max(view.t, startYpos),\r\n\t\t\t\tendX = Math.min(view.l + view.w, startXpos + bb.w),\r\n\t\t\t\tendY = Math.min(view.t + view.h, startYpos + bb.h),\r\n\t\t\t\twidth = endX - startX,\r\n\t\t\t\theight = endY - startY;\r\n\r\n\t\t\toverflow += (bb.w - width) + (bb.h - height);\r\n\r\n\t\t\tif(best == null || overflow < best.overflow){\r\n\t\t\t\tbest = {\r\n\t\t\t\t\tcorner: corner,\r\n\t\t\t\t\taroundCorner: choice.aroundCorner,\r\n\t\t\t\t\tx: startX,\r\n\t\t\t\t\ty: startY,\r\n\t\t\t\t\tw: width,\r\n\t\t\t\t\th: height,\r\n\t\t\t\t\toverflow: overflow,\r\n\t\t\t\t\tspaceAvailable: spaceAvailable\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn !overflow;\r\n\t\t});\r\n\r\n\t\t// In case the best position is not the last one we checked, need to call\r\n\t\t// layoutNode() again.\r\n\t\tif(best.overflow && layoutNode){\r\n\t\t\tlayoutNode(node, best.aroundCorner, best.corner, best.spaceAvailable, aroundNodeCoords);\r\n\t\t}\r\n\r\n\t\t// And then position the node.  Do this last, after the layoutNode() above\r\n\t\t// has sized the node, due to browser quirks when the viewport is scrolled\r\n\t\t// (specifically that a Tooltip will shrink to fit as though the window was\r\n\t\t// scrolled to the left).\r\n\r\n\t\tvar top = best.y,\r\n\t\t\tside = best.x,\r\n\t\t\tbody = win.body(node.ownerDocument);\r\n\r\n\t\tif(/relative|absolute/.test(domStyle.get(body, \"position\"))){\r\n\t\t\t// compensate for margin on <body>, see #16148\r\n\t\t\ttop -= domStyle.get(body, \"marginTop\");\r\n\t\t\tside -= domStyle.get(body, \"marginLeft\");\r\n\t\t}\r\n\r\n\t\tvar s = node.style;\r\n\t\ts.top = top + \"px\";\r\n\t\ts.left = side + \"px\";\r\n\t\ts.right = \"auto\";\t// needed for FF or else tooltip goes to far left\r\n\r\n\t\treturn best;\r\n\t}\r\n\r\n\tvar reverse = {\r\n\t\t// Map from corner to kitty-corner\r\n\t\t\"TL\": \"BR\",\r\n\t\t\"TR\": \"BL\",\r\n\t\t\"BL\": \"TR\",\r\n\t\t\"BR\": \"TL\"\r\n\t};\r\n\r\n\tvar place = {\r\n\t\t// summary:\r\n\t\t//\t\tCode to place a DOMNode relative to another DOMNode.\r\n\t\t//\t\tLoad using require([\"dijit/place\"], function(place){ ... }).\r\n\r\n\t\tat: function(node, pos, corners, padding, layoutNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPositions node kitty-corner to the rectangle centered at (pos.x, pos.y) with width and height of\r\n\t\t\t//\t\tpadding.x * 2 and padding.y * 2, or zero if padding not specified.  Picks first corner in corners[]\r\n\t\t\t//\t\twhere node is fully visible, or the corner where it's most visible.\r\n\t\t\t//\r\n\t\t\t//\t\tNode is assumed to be absolutely or relatively positioned.\r\n\t\t\t// node: DOMNode\r\n\t\t\t//\t\tThe node to position\r\n\t\t\t// pos: dijit/place.__Position\r\n\t\t\t//\t\tObject like {x: 10, y: 20}\r\n\t\t\t// corners: String[]\r\n\t\t\t//\t\tArray of Strings representing order to try corners of the node in, like [\"TR\", \"BL\"].\r\n\t\t\t//\t\tPossible values are:\r\n\t\t\t//\r\n\t\t\t//\t\t- \"BL\" - bottom left\r\n\t\t\t//\t\t- \"BR\" - bottom right\r\n\t\t\t//\t\t- \"TL\" - top left\r\n\t\t\t//\t\t- \"TR\" - top right\r\n\t\t\t// padding: dijit/place.__Position?\r\n\t\t\t//\t\tOptional param to set padding, to put some buffer around the element you want to position.\r\n\t\t\t//\t\tDefaults to zero.\r\n\t\t\t// layoutNode: Function(node, aroundNodeCorner, nodeCorner)\r\n\t\t\t//\t\tFor things like tooltip, they are displayed differently (and have different dimensions)\r\n\t\t\t//\t\tbased on their orientation relative to the parent.  This adjusts the popup based on orientation.\r\n\t\t\t// example:\r\n\t\t\t//\t\tTry to place node's top right corner at (10,20).\r\n\t\t\t//\t\tIf that makes node go (partially) off screen, then try placing\r\n\t\t\t//\t\tbottom left corner at (10,20).\r\n\t\t\t//\t|\tplace(node, {x: 10, y: 20}, [\"TR\", \"BL\"])\r\n\t\t\tvar choices = array.map(corners, function(corner){\r\n\t\t\t\tvar c = {\r\n\t\t\t\t\tcorner: corner,\r\n\t\t\t\t\taroundCorner: reverse[corner],\t// so TooltipDialog.orient() gets aroundCorner argument set\r\n\t\t\t\t\tpos: {x: pos.x,y: pos.y}\r\n\t\t\t\t};\r\n\t\t\t\tif(padding){\r\n\t\t\t\t\tc.pos.x += corner.charAt(1) == 'L' ? padding.x : -padding.x;\r\n\t\t\t\t\tc.pos.y += corner.charAt(0) == 'T' ? padding.y : -padding.y;\r\n\t\t\t\t}\r\n\t\t\t\treturn c;\r\n\t\t\t});\r\n\r\n\t\t\treturn _place(node, choices, layoutNode);\r\n\t\t},\r\n\r\n\t\taround: function(\r\n\t\t\t/*DomNode*/\t\tnode,\r\n\t\t\t/*DomNode|dijit/place.__Rectangle*/ anchor,\r\n\t\t\t/*String[]*/\tpositions,\r\n\t\t\t/*Boolean*/\t\tleftToRight,\r\n\t\t\t/*Function?*/\tlayoutNode){\r\n\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPosition node adjacent or kitty-corner to anchor\r\n\t\t\t//\t\tsuch that it's fully visible in viewport.\r\n\t\t\t// description:\r\n\t\t\t//\t\tPlace node such that corner of node touches a corner of\r\n\t\t\t//\t\taroundNode, and that node is fully visible.\r\n\t\t\t// anchor:\r\n\t\t\t//\t\tEither a DOMNode or a rectangle (object with x, y, width, height).\r\n\t\t\t// positions:\r\n\t\t\t//\t\tOrdered list of positions to try matching up.\r\n\t\t\t//\r\n\t\t\t//\t\t- before: places drop down to the left of the anchor node/widget, or to the right in the case\r\n\t\t\t//\t\t\tof RTL scripts like Hebrew and Arabic; aligns either the top of the drop down\r\n\t\t\t//\t\t\twith the top of the anchor, or the bottom of the drop down with bottom of the anchor.\r\n\t\t\t//\t\t- after: places drop down to the right of the anchor node/widget, or to the left in the case\r\n\t\t\t//\t\t\tof RTL scripts like Hebrew and Arabic; aligns either the top of the drop down\r\n\t\t\t//\t\t\twith the top of the anchor, or the bottom of the drop down with bottom of the anchor.\r\n\t\t\t//\t\t- before-centered: centers drop down to the left of the anchor node/widget, or to the right\r\n\t\t\t//\t\t\tin the case of RTL scripts like Hebrew and Arabic\r\n\t\t\t//\t\t- after-centered: centers drop down to the right of the anchor node/widget, or to the left\r\n\t\t\t//\t\t\tin the case of RTL scripts like Hebrew and Arabic\r\n\t\t\t//\t\t- above-centered: drop down is centered above anchor node\r\n\t\t\t//\t\t- above: drop down goes above anchor node, left sides aligned\r\n\t\t\t//\t\t- above-alt: drop down goes above anchor node, right sides aligned\r\n\t\t\t//\t\t- below-centered: drop down is centered above anchor node\r\n\t\t\t//\t\t- below: drop down goes below anchor node\r\n\t\t\t//\t\t- below-alt: drop down goes below anchor node, right sides aligned\r\n\t\t\t// layoutNode: Function(node, aroundNodeCorner, nodeCorner)\r\n\t\t\t//\t\tFor things like tooltip, they are displayed differently (and have different dimensions)\r\n\t\t\t//\t\tbased on their orientation relative to the parent.\t This adjusts the popup based on orientation.\r\n\t\t\t// leftToRight:\r\n\t\t\t//\t\tTrue if widget is LTR, false if widget is RTL.   Affects the behavior of \"above\" and \"below\"\r\n\t\t\t//\t\tpositions slightly.\r\n\t\t\t// example:\r\n\t\t\t//\t|\tplaceAroundNode(node, aroundNode, {'BL':'TL', 'TR':'BR'});\r\n\t\t\t//\t\tThis will try to position node such that node's top-left corner is at the same position\r\n\t\t\t//\t\tas the bottom left corner of the aroundNode (ie, put node below\r\n\t\t\t//\t\taroundNode, with left edges aligned).\tIf that fails it will try to put\r\n\t\t\t//\t\tthe bottom-right corner of node where the top right corner of aroundNode is\r\n\t\t\t//\t\t(ie, put node above aroundNode, with right edges aligned)\r\n\t\t\t//\r\n\r\n\t\t\t// If around is a DOMNode (or DOMNode id), convert to coordinates.\r\n\t\t\tvar aroundNodePos;\r\n\t\t\tif(typeof anchor == \"string\" || \"offsetWidth\" in anchor || \"ownerSVGElement\" in anchor){\r\n\t\t\t\taroundNodePos = domGeometry.position(anchor, true);\r\n\r\n\t\t\t\t// For above and below dropdowns, subtract width of border so that popup and aroundNode borders\r\n\t\t\t\t// overlap, preventing a double-border effect.  Unfortunately, difficult to measure the border\r\n\t\t\t\t// width of either anchor or popup because in both cases the border may be on an inner node.\r\n\t\t\t\tif(/^(above|below)/.test(positions[0])){\r\n\t\t\t\t\tvar anchorBorder = domGeometry.getBorderExtents(anchor),\r\n\t\t\t\t\t\tanchorChildBorder = anchor.firstChild ? domGeometry.getBorderExtents(anchor.firstChild) : {t:0,l:0,b:0,r:0},\r\n\t\t\t\t\t\tnodeBorder =  domGeometry.getBorderExtents(node),\r\n\t\t\t\t\t\tnodeChildBorder = node.firstChild ? domGeometry.getBorderExtents(node.firstChild) : {t:0,l:0,b:0,r:0};\r\n\t\t\t\t\taroundNodePos.y += Math.min(anchorBorder.t + anchorChildBorder.t, nodeBorder.t + nodeChildBorder.t);\r\n\t\t\t\t\taroundNodePos.h -=  Math.min(anchorBorder.t + anchorChildBorder.t, nodeBorder.t+ nodeChildBorder.t) +\r\n\t\t\t\t\t\tMath.min(anchorBorder.b + anchorChildBorder.b, nodeBorder.b + nodeChildBorder.b);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\taroundNodePos = anchor;\r\n\t\t\t}\r\n\r\n\t\t\t// Compute position and size of visible part of anchor (it may be partially hidden by ancestor nodes w/scrollbars)\r\n\t\t\tif(anchor.parentNode){\r\n\t\t\t\t// ignore nodes between position:relative and position:absolute\r\n\t\t\t\tvar sawPosAbsolute = domStyle.getComputedStyle(anchor).position == \"absolute\";\r\n\t\t\t\tvar parent = anchor.parentNode;\r\n\t\t\t\twhile(parent && parent.nodeType == 1 && parent.nodeName != \"BODY\"){  //ignoring the body will help performance\r\n\t\t\t\t\tvar parentPos = domGeometry.position(parent, true),\r\n\t\t\t\t\t\tpcs = domStyle.getComputedStyle(parent);\r\n\t\t\t\t\tif(/relative|absolute/.test(pcs.position)){\r\n\t\t\t\t\t\tsawPosAbsolute = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!sawPosAbsolute && /hidden|auto|scroll/.test(pcs.overflow)){\r\n\t\t\t\t\t\tvar bottomYCoord = Math.min(aroundNodePos.y + aroundNodePos.h, parentPos.y + parentPos.h);\r\n\t\t\t\t\t\tvar rightXCoord = Math.min(aroundNodePos.x + aroundNodePos.w, parentPos.x + parentPos.w);\r\n\t\t\t\t\t\taroundNodePos.x = Math.max(aroundNodePos.x, parentPos.x);\r\n\t\t\t\t\t\taroundNodePos.y = Math.max(aroundNodePos.y, parentPos.y);\r\n\t\t\t\t\t\taroundNodePos.h = bottomYCoord - aroundNodePos.y;\r\n\t\t\t\t\t\taroundNodePos.w = rightXCoord - aroundNodePos.x;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(pcs.position == \"absolute\"){\r\n\t\t\t\t\t\tsawPosAbsolute = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\r\n\t\t\tvar x = aroundNodePos.x,\r\n\t\t\t\ty = aroundNodePos.y,\r\n\t\t\t\twidth = \"w\" in aroundNodePos ? aroundNodePos.w : (aroundNodePos.w = aroundNodePos.width),\r\n\t\t\t\theight = \"h\" in aroundNodePos ? aroundNodePos.h : (kernel.deprecated(\"place.around: dijit/place.__Rectangle: { x:\"+x+\", y:\"+y+\", height:\"+aroundNodePos.height+\", width:\"+width+\" } has been deprecated.  Please use { x:\"+x+\", y:\"+y+\", h:\"+aroundNodePos.height+\", w:\"+width+\" }\", \"\", \"2.0\"), aroundNodePos.h = aroundNodePos.height);\r\n\r\n\t\t\t// Convert positions arguments into choices argument for _place()\r\n\t\t\tvar choices = [];\r\n\t\t\tfunction push(aroundCorner, corner){\r\n\t\t\t\tchoices.push({\r\n\t\t\t\t\taroundCorner: aroundCorner,\r\n\t\t\t\t\tcorner: corner,\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: {\r\n\t\t\t\t\t\t\t'L': x,\r\n\t\t\t\t\t\t\t'R': x + width,\r\n\t\t\t\t\t\t\t'M': x + (width >> 1)\r\n\t\t\t\t\t\t}[aroundCorner.charAt(1)],\r\n\t\t\t\t\t\ty: {\r\n\t\t\t\t\t\t\t'T': y,\r\n\t\t\t\t\t\t\t'B': y + height,\r\n\t\t\t\t\t\t\t'M': y + (height >> 1)\r\n\t\t\t\t\t\t}[aroundCorner.charAt(0)]\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tarray.forEach(positions, function(pos){\r\n\t\t\t\tvar ltr =  leftToRight;\r\n\t\t\t\tswitch(pos){\r\n\t\t\t\t\tcase \"above-centered\":\r\n\t\t\t\t\t\tpush(\"TM\", \"BM\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"below-centered\":\r\n\t\t\t\t\t\tpush(\"BM\", \"TM\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"after-centered\":\r\n\t\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t\t// fall through\r\n\t\t\t\t\tcase \"before-centered\":\r\n\t\t\t\t\t\tpush(ltr ? \"ML\" : \"MR\", ltr ? \"MR\" : \"ML\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"after\":\r\n\t\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t\t// fall through\r\n\t\t\t\t\tcase \"before\":\r\n\t\t\t\t\t\tpush(ltr ? \"TL\" : \"TR\", ltr ? \"TR\" : \"TL\");\r\n\t\t\t\t\t\tpush(ltr ? \"BL\" : \"BR\", ltr ? \"BR\" : \"BL\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"below-alt\":\r\n\t\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t\t// fall through\r\n\t\t\t\t\tcase \"below\":\r\n\t\t\t\t\t\t// first try to align left borders, next try to align right borders (or reverse for RTL mode)\r\n\t\t\t\t\t\tpush(ltr ? \"BL\" : \"BR\", ltr ? \"TL\" : \"TR\");\r\n\t\t\t\t\t\tpush(ltr ? \"BR\" : \"BL\", ltr ? \"TR\" : \"TL\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"above-alt\":\r\n\t\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t\t// fall through\r\n\t\t\t\t\tcase \"above\":\r\n\t\t\t\t\t\t// first try to align left borders, next try to align right borders (or reverse for RTL mode)\r\n\t\t\t\t\t\tpush(ltr ? \"TL\" : \"TR\", ltr ? \"BL\" : \"BR\");\r\n\t\t\t\t\t\tpush(ltr ? \"TR\" : \"TL\", ltr ? \"BR\" : \"BL\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t// To assist dijit/_base/place, accept arguments of type {aroundCorner: \"BL\", corner: \"TL\"}.\r\n\t\t\t\t\t\t// Not meant to be used directly.  Remove for 2.0.\r\n\t\t\t\t\t\tpush(pos.aroundCorner, pos.corner);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar position = _place(node, choices, layoutNode, {w: width, h: height});\r\n\t\t\tposition.aroundNodePos = aroundNodePos;\r\n\r\n\t\t\treturn position;\r\n\t\t}\r\n\t};\r\n\r\n\t/*=====\r\n\tplace.__Position = {\r\n\t\t// x: Integer\r\n\t\t//\t\thorizontal coordinate in pixels, relative to document body\r\n\t\t// y: Integer\r\n\t\t//\t\tvertical coordinate in pixels, relative to document body\r\n\t};\r\n\tplace.__Rectangle = {\r\n\t\t// x: Integer\r\n\t\t//\t\thorizontal offset in pixels, relative to document body\r\n\t\t// y: Integer\r\n\t\t//\t\tvertical offset in pixels, relative to document body\r\n\t\t// w: Integer\r\n\t\t//\t\twidth in pixels.   Can also be specified as \"width\" for backwards-compatibility.\r\n\t\t// h: Integer\r\n\t\t//\t\theight in pixels.   Can also be specified as \"height\" for backwards-compatibility.\r\n\t};\r\n\t=====*/\r\n\r\n\treturn dijit.place = place;\t// setting dijit.place for back-compat, remove for 2.0\r\n});\r\n\ndefine('dijit/_base/place',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/lang\", // lang.isArray, lang.mixin\r\n\t\"dojo/window\", // windowUtils.getBox\r\n\t\"../place\",\r\n\t\"../main\"\t// export to dijit namespace\r\n], function(array, lang, windowUtils, place, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base/place\r\n\r\n\r\n\tvar exports = {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated back compatibility module, new code should use dijit/place directly instead of using this module.\r\n\t};\r\n\r\n\texports.getViewport = function(){\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated method to return the dimensions and scroll position of the viewable area of a browser window.\r\n\t\t//\t\tNew code should use windowUtils.getBox()\r\n\r\n\t\treturn windowUtils.getBox();\r\n\t};\r\n\r\n\texports.placeOnScreen = place.at;\r\n\r\n\texports.placeOnScreenAroundElement = function(node, aroundNode, aroundCorners, layoutNode){\r\n\t\t// summary:\r\n\t\t//\t\tLike dijit.placeOnScreenAroundNode(), except it accepts an arbitrary object\r\n\t\t//\t\tfor the \"around\" argument and finds a proper processor to place a node.\r\n\t\t//\t\tDeprecated, new code should use dijit/place.around() instead.\r\n\r\n\t\t// Convert old style {\"BL\": \"TL\", \"BR\": \"TR\"} type argument\r\n\t\t// to style needed by dijit.place code:\r\n\t\t//\t\t[\r\n\t\t//\t\t\t{aroundCorner: \"BL\", corner: \"TL\" },\r\n\t\t//\t\t\t{aroundCorner: \"BR\", corner: \"TR\" }\r\n\t\t//\t\t]\r\n\t\tvar positions;\r\n\t\tif(lang.isArray(aroundCorners)){\r\n\t\t\tpositions = aroundCorners;\r\n\t\t}else{\r\n\t\t\tpositions = [];\r\n\t\t\tfor(var key in aroundCorners){\r\n\t\t\t\tpositions.push({aroundCorner: key, corner: aroundCorners[key]});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn place.around(node, aroundNode, positions, true, layoutNode);\r\n\t};\r\n\r\n\texports.placeOnScreenAroundNode = exports.placeOnScreenAroundElement;\r\n\t/*=====\r\n\texports.placeOnScreenAroundNode = function(node, aroundNode, aroundCorners, layoutNode){\r\n\t\t// summary:\r\n\t\t//\t\tPosition node adjacent or kitty-corner to aroundNode\r\n\t\t//\t\tsuch that it's fully visible in viewport.\r\n\t\t//\t\tDeprecated, new code should use dijit/place.around() instead.\r\n\t};\r\n\t=====*/\r\n\r\n\texports.placeOnScreenAroundRectangle = exports.placeOnScreenAroundElement;\r\n\t/*=====\r\n\texports.placeOnScreenAroundRectangle = function(node, aroundRect, aroundCorners, layoutNode){\r\n\t\t// summary:\r\n\t\t//\t\tLike dijit.placeOnScreenAroundNode(), except that the \"around\"\r\n\t\t//\t\tparameter is an arbitrary rectangle on the screen (x, y, width, height)\r\n\t\t//\t\tinstead of a dom node.\r\n\t\t//\t\tDeprecated, new code should use dijit/place.around() instead.\r\n\t};\r\n\t=====*/\r\n\r\n\texports.getPopupAroundAlignment = function(/*Array*/ position, /*Boolean*/ leftToRight){\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated method, unneeded when using dijit/place directly.\r\n\t\t//\t\tTransforms the passed array of preferred positions into a format suitable for\r\n\t\t//\t\tpassing as the aroundCorners argument to dijit/place.placeOnScreenAroundElement.\r\n\t\t// position: String[]\r\n\t\t//\t\tThis variable controls the position of the drop down.\r\n\t\t//\t\tIt's an array of strings with the following values:\r\n\t\t//\r\n\t\t//\t\t- before: places drop down to the left of the target node/widget, or to the right in\r\n\t\t//\t\t  the case of RTL scripts like Hebrew and Arabic\r\n\t\t//\t\t- after: places drop down to the right of the target node/widget, or to the left in\r\n\t\t//\t\t  the case of RTL scripts like Hebrew and Arabic\r\n\t\t//\t\t- above: drop down goes above target node\r\n\t\t//\t\t- below: drop down goes below target node\r\n\t\t//\r\n\t\t//\t\tThe list is positions is tried, in order, until a position is found where the drop down fits\r\n\t\t//\t\twithin the viewport.\r\n\t\t// leftToRight: Boolean\r\n\t\t//\t\tWhether the popup will be displaying in leftToRight mode.\r\n\r\n\t\tvar align = {};\r\n\t\tarray.forEach(position, function(pos){\r\n\t\t\tvar ltr = leftToRight;\r\n\t\t\tswitch(pos){\r\n\t\t\t\tcase \"after\":\r\n\t\t\t\t\talign[leftToRight ? \"BR\" : \"BL\"] = leftToRight ? \"BL\" : \"BR\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"before\":\r\n\t\t\t\t\talign[leftToRight ? \"BL\" : \"BR\"] = leftToRight ? \"BR\" : \"BL\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"below-alt\":\r\n\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t// fall through\r\n\t\t\t\tcase \"below\":\r\n\t\t\t\t\t// first try to align left borders, next try to align right borders (or reverse for RTL mode)\r\n\t\t\t\t\talign[ltr ? \"BL\" : \"BR\"] = ltr ? \"TL\" : \"TR\";\r\n\t\t\t\t\talign[ltr ? \"BR\" : \"BL\"] = ltr ? \"TR\" : \"TL\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"above-alt\":\r\n\t\t\t\t\tltr = !ltr;\r\n\t\t\t\t\t// fall through\r\n\t\t\t\tcase \"above\":\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// first try to align left borders, next try to align right borders (or reverse for RTL mode)\r\n\t\t\t\t\talign[ltr ? \"TL\" : \"TR\"] = ltr ? \"BL\" : \"BR\";\r\n\t\t\t\t\talign[ltr ? \"TR\" : \"TL\"] = ltr ? \"BR\" : \"BL\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn align;\r\n\t};\r\n\r\n\tlang.mixin(dijit, exports);\r\n\r\n\t/*===== return exports; =====*/\r\n\treturn dijit;\t// for back compat :-(\r\n});\r\n\ndefine('dijit/BackgroundIframe',[\r\n\t\"require\",\t\t\t// require.toUrl\r\n\t\"./main\",\t// to export dijit.BackgroundIframe\r\n\t\"dojo/_base/config\",\r\n\t\"dojo/dom-construct\", // domConstruct.create\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/_base/lang\", // lang.extend lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\" // has(\"ie\"), has(\"trident\"), has(\"quirks\")\r\n], function(require, dijit, config, domConstruct, domStyle, lang, on, has){\r\n\r\n\t// module:\r\n\t//\t\tdijit/BackgroundIFrame\r\n\r\n\t// Flag for whether to create background iframe behind popups like Menus and Dialog.\r\n\t// A background iframe is useful to prevent problems with popups appearing behind applets/pdf files,\r\n\t// and is also useful on older versions of IE (IE6 and IE7) to prevent the \"bleed through select\" problem.\r\n\t// By default, it's enabled for IE6-10, excluding Windows Phone 8,\r\n\t// and it's also enabled for IE11 on Windows 7 and Windows 2008 Server.\r\n\t// TODO: For 2.0, make this false by default.  Also, possibly move definition to has.js so that this module can be\r\n\t// conditionally required via  dojo/has!bgIfame?dijit/BackgroundIframe\r\n\thas.add(\"config-bgIframe\",\r\n\t\t(has(\"ie\") && !/IEMobile\\/10\\.0/.test(navigator.userAgent)) || // No iframe on WP8, to match 1.9 behavior\r\n\t\t(has(\"trident\") && /Windows NT 6.[01]/.test(navigator.userAgent)));\r\n\r\n\tvar _frames = new function(){\r\n\t\t// summary:\r\n\t\t//\t\tcache of iframes\r\n\r\n\t\tvar queue = [];\r\n\r\n\t\tthis.pop = function(){\r\n\t\t\tvar iframe;\r\n\t\t\tif(queue.length){\r\n\t\t\t\tiframe = queue.pop();\r\n\t\t\t\tiframe.style.display=\"\";\r\n\t\t\t}else{\r\n\t\t\t\t// transparency needed for DialogUnderlay and for tooltips on IE (to see screen near connector)\r\n\t\t\t\tif(has(\"ie\") < 9){\r\n\t\t\t\t\tvar burl = config[\"dojoBlankHtmlUrl\"] || require.toUrl(\"dojo/resources/blank.html\") || \"javascript:\\\"\\\"\";\r\n\t\t\t\t\tvar html=\"<iframe src='\" + burl + \"' role='presentation'\"\r\n\t\t\t\t\t\t+ \" style='position: absolute; left: 0px; top: 0px;\"\r\n\t\t\t\t\t\t+ \"z-index: -1; filter:Alpha(Opacity=\\\"0\\\");'>\";\r\n\t\t\t\t\tiframe = document.createElement(html);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tiframe = domConstruct.create(\"iframe\");\r\n\t\t\t\t\tiframe.src = 'javascript:\"\"';\r\n\t\t\t\t\tiframe.className = \"dijitBackgroundIframe\";\r\n\t\t\t\t\tiframe.setAttribute(\"role\", \"presentation\");\r\n\t\t\t\t\tdomStyle.set(iframe, \"opacity\", 0.1);\r\n\t\t\t\t}\r\n\t\t\t\tiframe.tabIndex = -1; // Magic to prevent iframe from getting focus on tab keypress - as style didn't work.\r\n\t\t\t}\r\n\t\t\treturn iframe;\r\n\t\t};\r\n\r\n\t\tthis.push = function(iframe){\r\n\t\t\tiframe.style.display=\"none\";\r\n\t\t\tqueue.push(iframe);\r\n\t\t}\r\n\t}();\r\n\r\n\r\n\tdijit.BackgroundIframe = function(/*DomNode*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tFor IE/FF z-index shenanigans. id attribute is required.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tnew dijit.BackgroundIframe(node).\r\n\t\t//\r\n\t\t//\t\tMakes a background iframe as a child of node, that fills\r\n\t\t//\t\tarea (and position) of node\r\n\r\n\t\tif(!node.id){ throw new Error(\"no id\"); }\r\n\t\tif(has(\"config-bgIframe\")){\r\n\t\t\tvar iframe = (this.iframe = _frames.pop());\r\n\t\t\tnode.appendChild(iframe);\r\n\t\t\tif(has(\"ie\")<7 || has(\"quirks\")){\r\n\t\t\t\tthis.resize(node);\r\n\t\t\t\tthis._conn = on(node, 'resize', lang.hitch(this, \"resize\", node));\r\n\t\t\t}else{\r\n\t\t\t\tdomStyle.set(iframe, {\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\theight: '100%'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlang.extend(dijit.BackgroundIframe, {\r\n\t\tresize: function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResize the iframe so it's the same size as node.\r\n\t\t\t//\t\tNeeded on IE6 and IE/quirks because height:100% doesn't work right.\r\n\t\t\tif(this.iframe){\r\n\t\t\t\tdomStyle.set(this.iframe, {\r\n\t\t\t\t\twidth: node.offsetWidth + 'px',\r\n\t\t\t\t\theight: node.offsetHeight + 'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdestroy the iframe\r\n\t\t\tif(this._conn){\r\n\t\t\t\tthis._conn.remove();\r\n\t\t\t\tthis._conn = null;\r\n\t\t\t}\r\n\t\t\tif(this.iframe){\r\n\t\t\t\tthis.iframe.parentNode.removeChild(this.iframe);\r\n\t\t\t\t_frames.push(this.iframe);\r\n\t\t\t\tdelete this.iframe;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn dijit.BackgroundIframe;\r\n});\r\n\ndefine('dijit/popup',[\r\n\t\"dojo/_base/array\", // array.forEach array.some\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.isDescendant\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.destroy\r\n\t\"dojo/dom-geometry\", // domGeometry.isBodyLtr\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/has\", // has(\"config-bgIframe\")\r\n\t\"dojo/keys\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"./place\",\r\n\t\"./BackgroundIframe\",\r\n\t\"./Viewport\",\r\n\t\"./main\"    // dijit (defining dijit.popup to match API doc)\r\n], function(array, aspect, declare, dom, domAttr, domConstruct, domGeometry, domStyle, has, keys, lang, on,\r\n\t\t\tplace, BackgroundIframe, Viewport, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/popup\r\n\r\n\t/*=====\r\n\t var __OpenArgs = {\r\n\t\t // popup: Widget\r\n\t\t //\t\twidget to display\r\n\t\t // parent: Widget\r\n\t\t //\t\tthe button etc. that is displaying this popup\r\n\t\t // around: DomNode\r\n\t\t //\t\tDOM node (typically a button); place popup relative to this node.  (Specify this *or* \"x\" and \"y\" parameters.)\r\n\t\t // x: Integer\r\n\t\t //\t\tAbsolute horizontal position (in pixels) to place node at.  (Specify this *or* \"around\" parameter.)\r\n\t\t // y: Integer\r\n\t\t //\t\tAbsolute vertical position (in pixels) to place node at.  (Specify this *or* \"around\" parameter.)\r\n\t\t // orient: Object|String\r\n\t\t //\t\tWhen the around parameter is specified, orient should be a list of positions to try, ex:\r\n\t\t //\t|\t[ \"below\", \"above\" ]\r\n\t\t //\t\tFor backwards compatibility it can also be an (ordered) hash of tuples of the form\r\n\t\t //\t\t(around-node-corner, popup-node-corner), ex:\r\n\t\t //\t|\t{ \"BL\": \"TL\", \"TL\": \"BL\" }\r\n\t\t //\t\twhere BL means \"bottom left\" and \"TL\" means \"top left\", etc.\r\n\t\t //\r\n\t\t //\t\tdijit/popup.open() tries to position the popup according to each specified position, in order,\r\n\t\t //\t\tuntil the popup appears fully within the viewport.\r\n\t\t //\r\n\t\t //\t\tThe default value is [\"below\", \"above\"]\r\n\t\t //\r\n\t\t //\t\tWhen an (x,y) position is specified rather than an around node, orient is either\r\n\t\t //\t\t\"R\" or \"L\".  R (for right) means that it tries to put the popup to the right of the mouse,\r\n\t\t //\t\tspecifically positioning the popup's top-right corner at the mouse position, and if that doesn't\r\n\t\t //\t\tfit in the viewport, then it tries, in order, the bottom-right corner, the top left corner,\r\n\t\t //\t\tand the top-right corner.\r\n\t\t // onCancel: Function\r\n\t\t //\t\tcallback when user has canceled the popup by:\r\n\t\t //\r\n\t\t //\t\t1. hitting ESC or\r\n\t\t //\t\t2. by using the popup widget's proprietary cancel mechanism (like a cancel button in a dialog);\r\n\t\t //\t\t   i.e. whenever popupWidget.onCancel() is called, args.onCancel is called\r\n\t\t // onClose: Function\r\n\t\t //\t\tcallback whenever this popup is closed\r\n\t\t // onExecute: Function\r\n\t\t //\t\tcallback when user \"executed\" on the popup/sub-popup by selecting a menu choice, etc. (top menu only)\r\n\t\t // padding: place.__Position\r\n\t\t //\t\tadding a buffer around the opening position. This is only useful when around is not set.\r\n\t\t // maxHeight: Integer\r\n\t\t //\t\tThe max height for the popup.  Any popup taller than this will have scrollbars.\r\n\t\t //\t\tSet to Infinity for no max height.  Default is to limit height to available space in viewport,\r\n\t\t //\t\tabove or below the aroundNode or specified x/y position.\r\n\t };\r\n\t =====*/\r\n\r\n\tfunction destroyWrapper(){\r\n\t\t// summary:\r\n\t\t//\t\tFunction to destroy wrapper when popup widget is destroyed.\r\n\t\t//\t\tLeft in this scope to avoid memory leak on IE8 on refresh page, see #15206.\r\n\t\tif(this._popupWrapper){\r\n\t\t\tdomConstruct.destroy(this._popupWrapper);\r\n\t\t\tdelete this._popupWrapper;\r\n\t\t}\r\n\t}\r\n\r\n\tvar PopupManager = declare(null, {\r\n\t\t// summary:\r\n\t\t//\t\tUsed to show drop downs (ex: the select list of a ComboBox)\r\n\t\t//\t\tor popups (ex: right-click context menus).\r\n\r\n\t\t// _stack: dijit/_WidgetBase[]\r\n\t\t//\t\tStack of currently popped up widgets.\r\n\t\t//\t\t(someone opened _stack[0], and then it opened _stack[1], etc.)\r\n\t\t_stack: [],\r\n\r\n\t\t// _beginZIndex: Number\r\n\t\t//\t\tZ-index of the first popup.   (If first popup opens other\r\n\t\t//\t\tpopups they get a higher z-index.)\r\n\t\t_beginZIndex: 1000,\r\n\r\n\t\t_idGen: 1,\r\n\r\n\t\t_repositionAll: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIf screen has been scrolled, reposition all the popups in the stack.\r\n\t\t\t//\t\tThen set timer to check again later.\r\n\r\n\t\t\tif(this._firstAroundNode){\t// guard for when clearTimeout() on IE doesn't work\r\n\t\t\t\tvar oldPos = this._firstAroundPosition,\r\n\t\t\t\t\tnewPos = domGeometry.position(this._firstAroundNode, true),\r\n\t\t\t\t\tdx = newPos.x - oldPos.x,\r\n\t\t\t\t\tdy = newPos.y - oldPos.y;\r\n\r\n\t\t\t\tif(dx || dy){\r\n\t\t\t\t\tthis._firstAroundPosition = newPos;\r\n\t\t\t\t\tfor(var i = 0; i < this._stack.length; i++){\r\n\t\t\t\t\t\tvar style = this._stack[i].wrapper.style;\r\n\t\t\t\t\t\tstyle.top = (parseFloat(style.top) + dy) + \"px\";\r\n\t\t\t\t\t\tif(style.right == \"auto\"){\r\n\t\t\t\t\t\t\tstyle.left = (parseFloat(style.left) + dx) + \"px\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tstyle.right = (parseFloat(style.right) - dx) + \"px\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._aroundMoveListener = setTimeout(lang.hitch(this, \"_repositionAll\"), dx || dy ? 10 : 50);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_createWrapper: function(/*Widget*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInitialization for widgets that will be used as popups.\r\n\t\t\t//\t\tPuts widget inside a wrapper DIV (if not already in one),\r\n\t\t\t//\t\tand returns pointer to that wrapper DIV.\r\n\r\n\t\t\tvar wrapper = widget._popupWrapper,\r\n\t\t\t\tnode = widget.domNode;\r\n\r\n\t\t\tif(!wrapper){\r\n\t\t\t\t// Create wrapper <div> for when this widget [in the future] will be used as a popup.\r\n\t\t\t\t// This is done early because of IE bugs where creating/moving DOM nodes causes focus\r\n\t\t\t\t// to go wonky, see tests/robot/Toolbar.html to reproduce\r\n\t\t\t\twrapper = domConstruct.create(\"div\", {\r\n\t\t\t\t\t\"class\": \"dijitPopup\",\r\n\t\t\t\t\tstyle: { display: \"none\"},\r\n\t\t\t\t\trole: \"region\",\r\n\t\t\t\t\t\"aria-label\": widget[\"aria-label\"] || widget.label || widget.name || widget.id\r\n\t\t\t\t}, widget.ownerDocumentBody);\r\n\t\t\t\twrapper.appendChild(node);\r\n\r\n\t\t\t\tvar s = node.style;\r\n\t\t\t\ts.display = \"\";\r\n\t\t\t\ts.visibility = \"\";\r\n\t\t\t\ts.position = \"\";\r\n\t\t\t\ts.top = \"0px\";\r\n\r\n\t\t\t\twidget._popupWrapper = wrapper;\r\n\t\t\t\taspect.after(widget, \"destroy\", destroyWrapper, true);\r\n\r\n\t\t\t\t// Workaround iOS problem where clicking a Menu can focus an <input> (or click a button) behind it.\r\n\t\t\t\t// Need to be careful though that you can still focus <input>'s and click <button>'s in a TooltipDialog.\r\n\t\t\t\t// Also, be careful not to break (native) scrolling of dropdown like ComboBox's options list.\r\n\t\t\t\tif(\"ontouchend\" in document) {\r\n\t\t\t\t\ton(wrapper, \"touchend\", function (evt){\r\n\t\t\t\t\t\tif(!/^(input|button|textarea)$/i.test(evt.target.tagName)) {\r\n\t\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn wrapper;\r\n\t\t},\r\n\r\n\t\tmoveOffScreen: function(/*Widget*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMoves the popup widget off-screen.\r\n\t\t\t//\t\tDo not use this method to hide popups when not in use, because\r\n\t\t\t//\t\tthat will create an accessibility issue: the offscreen popup is\r\n\t\t\t//\t\tstill in the tabbing order.\r\n\r\n\t\t\t// Create wrapper if not already there\r\n\t\t\tvar wrapper = this._createWrapper(widget);\r\n\r\n\t\t\t// Besides setting visibility:hidden, move it out of the viewport, see #5776, #10111, #13604\r\n\t\t\tvar ltr = domGeometry.isBodyLtr(widget.ownerDocument),\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tvisibility: \"hidden\",\r\n\t\t\t\t\ttop: \"-9999px\",\r\n\t\t\t\t\tdisplay: \"\"\r\n\t\t\t\t};\r\n\t\t\tstyle[ltr ? \"left\" : \"right\"] = \"-9999px\";\r\n\t\t\tstyle[ltr ? \"right\" : \"left\"] = \"auto\";\r\n\t\t\tdomStyle.set(wrapper, style);\r\n\r\n\t\t\treturn wrapper;\r\n\t\t},\r\n\r\n\t\thide: function(/*Widget*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide this popup widget (until it is ready to be shown).\r\n\t\t\t//\t\tInitialization for widgets that will be used as popups\r\n\t\t\t//\r\n\t\t\t//\t\tAlso puts widget inside a wrapper DIV (if not already in one)\r\n\t\t\t//\r\n\t\t\t//\t\tIf popup widget needs to layout it should\r\n\t\t\t//\t\tdo so when it is made visible, and popup._onShow() is called.\r\n\r\n\t\t\t// Create wrapper if not already there\r\n\t\t\tvar wrapper = this._createWrapper(widget);\r\n\r\n\t\t\tdomStyle.set(wrapper, {\r\n\t\t\t\tdisplay: \"none\",\r\n\t\t\t\theight: \"auto\",\t\t// Open may have limited the height to fit in the viewport\r\n\t\t\t\toverflow: \"visible\",\r\n\t\t\t\tborder: \"\"\t\t\t// Open() may have moved border from popup to wrapper.\r\n\t\t\t});\r\n\r\n\t\t\t// Open() may have moved border from popup to wrapper.  Move it back.\r\n\t\t\tvar node = widget.domNode;\r\n\t\t\tif(\"_originalStyle\" in node){\r\n\t\t\t\tnode.style.cssText = node._originalStyle;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetTopPopup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCompute the closest ancestor popup that's *not* a child of another popup.\r\n\t\t\t//\t\tEx: For a TooltipDialog with a button that spawns a tree of menus, find the popup of the button.\r\n\t\t\tvar stack = this._stack;\r\n\t\t\tfor(var pi = stack.length - 1; pi > 0 && stack[pi].parent === stack[pi - 1].widget; pi--){\r\n\t\t\t\t/* do nothing, just trying to get right value for pi */\r\n\t\t\t}\r\n\t\t\treturn stack[pi];\r\n\t\t},\r\n\r\n\t\topen: function(/*__OpenArgs*/ args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPopup the widget at the specified position\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\topening at the mouse position\r\n\t\t\t//\t\t|\t\tpopup.open({popup: menuWidget, x: evt.pageX, y: evt.pageY});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\topening the widget as a dropdown\r\n\t\t\t//\t\t|\t\tpopup.open({parent: this, popup: menuWidget, around: this.domNode, onClose: function(){...}});\r\n\t\t\t//\r\n\t\t\t//\t\tNote that whatever widget called dijit/popup.open() should also listen to its own _onBlur callback\r\n\t\t\t//\t\t(fired from _base/focus.js) to know that focus has moved somewhere else and thus the popup should be closed.\r\n\r\n\t\t\tvar stack = this._stack,\r\n\t\t\t\twidget = args.popup,\r\n\t\t\t\tnode = widget.domNode,\r\n\t\t\t\torient = args.orient || [\"below\", \"below-alt\", \"above\", \"above-alt\"],\r\n\t\t\t\tltr = args.parent ? args.parent.isLeftToRight() : domGeometry.isBodyLtr(widget.ownerDocument),\r\n\t\t\t\taround = args.around,\r\n\t\t\t\tid = (args.around && args.around.id) ? (args.around.id + \"_dropdown\") : (\"popup_\" + this._idGen++);\r\n\r\n\t\t\t// If we are opening a new popup that isn't a child of a currently opened popup, then\r\n\t\t\t// close currently opened popup(s).   This should happen automatically when the old popups\r\n\t\t\t// gets the _onBlur() event, except that the _onBlur() event isn't reliable on IE, see [22198].\r\n\t\t\twhile(stack.length && (!args.parent || !dom.isDescendant(args.parent.domNode, stack[stack.length - 1].widget.domNode))){\r\n\t\t\t\tthis.close(stack[stack.length - 1].widget);\r\n\t\t\t}\r\n\r\n\t\t\t// Get pointer to popup wrapper, and create wrapper if it doesn't exist.  Remove display:none (but keep\r\n\t\t\t// off screen) so we can do sizing calculations.\r\n\t\t\tvar wrapper = this.moveOffScreen(widget);\r\n\r\n\t\t\tif(widget.startup && !widget._started){\r\n\t\t\t\twidget.startup(); // this has to be done after being added to the DOM\r\n\t\t\t}\r\n\r\n\t\t\t// Limit height to space available in viewport either above or below aroundNode (whichever side has more\r\n\t\t\t// room), adding scrollbar if necessary. Can't add scrollbar to widget because it may be a <table> (ex:\r\n\t\t\t// dijit/Menu), so add to wrapper, and then move popup's border to wrapper so scroll bar inside border.\r\n\t\t\tvar maxHeight, popupSize = domGeometry.position(node);\r\n\t\t\tif(\"maxHeight\" in args && args.maxHeight != -1){\r\n\t\t\t\tmaxHeight = args.maxHeight || Infinity;\t// map 0 --> infinity for back-compat of _HasDropDown.maxHeight\r\n\t\t\t}else{\r\n\t\t\t\tvar viewport = Viewport.getEffectiveBox(this.ownerDocument),\r\n\t\t\t\t\taroundPos = around ? domGeometry.position(around, false) : {y: args.y - (args.padding||0), h: (args.padding||0) * 2};\r\n\t\t\t\tmaxHeight = Math.floor(Math.max(aroundPos.y, viewport.h - (aroundPos.y + aroundPos.h)));\r\n\t\t\t}\r\n\t\t\tif(popupSize.h > maxHeight){\r\n\t\t\t\t// Get style of popup's border.  Unfortunately domStyle.get(node, \"border\") doesn't work on FF or IE,\r\n\t\t\t\t// and domStyle.get(node, \"borderColor\") etc. doesn't work on FF, so need to use fully qualified names.\r\n\t\t\t\tvar cs = domStyle.getComputedStyle(node),\r\n\t\t\t\t\tborderStyle = cs.borderLeftWidth + \" \" + cs.borderLeftStyle + \" \" + cs.borderLeftColor;\r\n\t\t\t\tdomStyle.set(wrapper, {\r\n\t\t\t\t\toverflowY: \"scroll\",\r\n\t\t\t\t\theight: maxHeight + \"px\",\r\n\t\t\t\t\tborder: borderStyle\t// so scrollbar is inside border\r\n\t\t\t\t});\r\n\t\t\t\tnode._originalStyle = node.style.cssText;\r\n\t\t\t\tnode.style.border = \"none\";\r\n\t\t\t}\r\n\r\n\t\t\tdomAttr.set(wrapper, {\r\n\t\t\t\tid: id,\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tzIndex: this._beginZIndex + stack.length\r\n\t\t\t\t},\r\n\t\t\t\t\"class\": \"dijitPopup \" + (widget.baseClass || widget[\"class\"] || \"\").split(\" \")[0] + \"Popup\",\r\n\t\t\t\tdijitPopupParent: args.parent ? args.parent.id : \"\"\r\n\t\t\t});\r\n\r\n\t\t\tif(stack.length == 0 && around){\r\n\t\t\t\t// First element on stack. Save position of aroundNode and setup listener for changes to that position.\r\n\t\t\t\tthis._firstAroundNode = around;\r\n\t\t\t\tthis._firstAroundPosition = domGeometry.position(around, true);\r\n\t\t\t\tthis._aroundMoveListener = setTimeout(lang.hitch(this, \"_repositionAll\"), 50);\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"config-bgIframe\") && !widget.bgIframe){\r\n\t\t\t\t// setting widget.bgIframe triggers cleanup in _WidgetBase.destroyRendering()\r\n\t\t\t\twidget.bgIframe = new BackgroundIframe(wrapper);\r\n\t\t\t}\r\n\r\n\t\t\t// position the wrapper node and make it visible\r\n\t\t\tvar layoutFunc = widget.orient ? lang.hitch(widget, \"orient\") : null,\r\n\t\t\t\tbest = around ?\r\n\t\t\t\t\tplace.around(wrapper, around, orient, ltr, layoutFunc) :\r\n\t\t\t\t\tplace.at(wrapper, args, orient == 'R' ? ['TR', 'BR', 'TL', 'BL'] : ['TL', 'BL', 'TR', 'BR'], args.padding,\r\n\t\t\t\t\t\tlayoutFunc);\r\n\r\n\t\t\twrapper.style.visibility = \"visible\";\r\n\t\t\tnode.style.visibility = \"visible\";\t// counteract effects from _HasDropDown\r\n\r\n\t\t\tvar handlers = [];\r\n\r\n\t\t\t// provide default escape and tab key handling\r\n\t\t\t// (this will work for any widget, not just menu)\r\n\t\t\thandlers.push(on(wrapper, \"keydown\", lang.hitch(this, function(evt){\r\n\t\t\t\tif(evt.keyCode == keys.ESCAPE && args.onCancel){\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\targs.onCancel();\r\n\t\t\t\t}else if(evt.keyCode == keys.TAB){\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tvar topPopup = this.getTopPopup();\r\n\t\t\t\t\tif(topPopup && topPopup.onCancel){\r\n\t\t\t\t\t\ttopPopup.onCancel();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\r\n\t\t\t// watch for cancel/execute events on the popup and notify the caller\r\n\t\t\t// (for a menu, \"execute\" means clicking an item)\r\n\t\t\tif(widget.onCancel && args.onCancel){\r\n\t\t\t\thandlers.push(widget.on(\"cancel\", args.onCancel));\r\n\t\t\t}\r\n\r\n\t\t\thandlers.push(widget.on(widget.onExecute ? \"execute\" : \"change\", lang.hitch(this, function(){\r\n\t\t\t\tvar topPopup = this.getTopPopup();\r\n\t\t\t\tif(topPopup && topPopup.onExecute){\r\n\t\t\t\t\ttopPopup.onExecute();\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\r\n\t\t\tstack.push({\r\n\t\t\t\twidget: widget,\r\n\t\t\t\twrapper: wrapper,\r\n\t\t\t\tparent: args.parent,\r\n\t\t\t\tonExecute: args.onExecute,\r\n\t\t\t\tonCancel: args.onCancel,\r\n\t\t\t\tonClose: args.onClose,\r\n\t\t\t\thandlers: handlers\r\n\t\t\t});\r\n\r\n\t\t\tif(widget.onOpen){\r\n\t\t\t\t// TODO: in 2.0 standardize onShow() (used by StackContainer) and onOpen() (used here)\r\n\t\t\t\twidget.onOpen(best);\r\n\t\t\t}\r\n\r\n\t\t\treturn best;\r\n\t\t},\r\n\r\n\t\tclose: function(/*Widget?*/ popup){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClose specified popup and any popups that it parented.\r\n\t\t\t//\t\tIf no popup is specified, closes all popups.\r\n\r\n\t\t\tvar stack = this._stack;\r\n\r\n\t\t\t// Basically work backwards from the top of the stack closing popups\r\n\t\t\t// until we hit the specified popup, but IIRC there was some issue where closing\r\n\t\t\t// a popup would cause others to close too.  Thus if we are trying to close B in [A,B,C]\r\n\t\t\t// closing C might close B indirectly and then the while() condition will run where stack==[A]...\r\n\t\t\t// so the while condition is constructed defensively.\r\n\t\t\twhile((popup && array.some(stack, function(elem){\r\n\t\t\t\treturn elem.widget == popup;\r\n\t\t\t})) ||\r\n\t\t\t\t(!popup && stack.length)){\r\n\t\t\t\tvar top = stack.pop(),\r\n\t\t\t\t\twidget = top.widget,\r\n\t\t\t\t\tonClose = top.onClose;\r\n\r\n\t\t\t\tif (widget.bgIframe) {\r\n\t\t\t\t\t// push the iframe back onto the stack.\r\n\t\t\t\t\twidget.bgIframe.destroy();\r\n\t\t\t\t\tdelete widget.bgIframe;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(widget.onClose){\r\n\t\t\t\t\t// TODO: in 2.0 standardize onHide() (used by StackContainer) and onClose() (used here).\r\n\t\t\t\t\t// Actually, StackContainer also calls onClose(), but to mean that the pane is being deleted\r\n\t\t\t\t\t// (i.e. that the TabContainer's tab's [x] icon was clicked)\r\n\t\t\t\t\twidget.onClose();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar h;\r\n\t\t\t\twhile(h = top.handlers.pop()){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Hide the widget and it's wrapper unless it has already been destroyed in above onClose() etc.\r\n\t\t\t\tif(widget && widget.domNode){\r\n\t\t\t\t\tthis.hide(widget);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(onClose){\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(stack.length == 0 && this._aroundMoveListener){\r\n\t\t\t\tclearTimeout(this._aroundMoveListener);\r\n\t\t\t\tthis._firstAroundNode = this._firstAroundPosition = this._aroundMoveListener = null;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn (dijit.popup = new PopupManager());\r\n});\r\n\ndefine('dijit/_base/popup',[\r\n\t\"dojo/dom-class\", // domClass.contains\r\n\t\"dojo/_base/window\",\r\n\t\"../popup\",\r\n\t\"../BackgroundIframe\"\t// just loading for back-compat, in case client code is referencing it\r\n], function(domClass, win, popup){\r\n\r\n// module:\r\n//\t\tdijit/_base/popup\r\n\r\n/*=====\r\nreturn {\r\n\t// summary:\r\n\t//\t\tDeprecated.   Old module for popups, new code should use dijit/popup directly.\r\n};\r\n=====*/\r\n\r\n\r\n// Hack support for old API passing in node instead of a widget (to various methods)\r\nvar origCreateWrapper = popup._createWrapper;\r\npopup._createWrapper = function(widget){\r\n\tif(!widget.declaredClass){\r\n\t\t// make fake widget to pass to new API\r\n\t\twidget = {\r\n\t\t\t_popupWrapper: (widget.parentNode && domClass.contains(widget.parentNode, \"dijitPopup\")) ?\r\n\t\t\t\twidget.parentNode : null,\r\n\t\t\tdomNode: widget,\r\n\t\t\tdestroy: function(){},\r\n\t\t\townerDocument: widget.ownerDocument,\r\n\t\t\townerDocumentBody: win.body(widget.ownerDocument)\r\n\t\t};\r\n\t}\r\n\treturn origCreateWrapper.call(this, widget);\r\n};\r\n\r\n// Support old format of orient parameter\r\nvar origOpen = popup.open;\r\npopup.open = function(/*__OpenArgs*/ args){\r\n\t// Convert old hash structure (ex: {\"BL\": \"TL\", ...}) of orient to format compatible w/new popup.open() API.\r\n\t// Don't do conversion for:\r\n\t//\t\t- null parameter (that means to use the default positioning)\r\n\t//\t\t- \"R\" or \"L\" strings used to indicate positioning for context menus (when there is no around node)\r\n\t//\t\t- new format, ex: [\"below\", \"above\"]\r\n\t//\t\t- return value from deprecated dijit.getPopupAroundAlignment() method,\r\n\t//\t\t\tex: [\"below\", \"above\"]\r\n\tif(args.orient && typeof args.orient != \"string\" && !(\"length\" in args.orient)){\r\n\t\tvar ary = [];\r\n\t\tfor(var key in args.orient){\r\n\t\t\tary.push({aroundCorner: key, corner: args.orient[key]});\r\n\t\t}\r\n\t\targs.orient = ary;\r\n\t}\r\n\r\n\treturn origOpen.call(this, args);\r\n};\r\n\r\nreturn popup;\r\n});\r\n\ndefine('dijit/_base/scroll',[\r\n\t\"dojo/window\", // windowUtils.scrollIntoView\r\n\t\"../main\"\t// export symbol to dijit\r\n], function(windowUtils, dijit){\r\n\t// module:\r\n\t//\t\tdijit/_base/scroll\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tBack compatibility module, new code should use windowUtils directly instead of using this module.\r\n\t};\r\n\t=====*/\r\n\r\n\tdijit.scrollIntoView = function(/*DomNode*/ node, /*Object?*/ pos){\r\n\t\t// summary:\r\n\t\t//\t\tScroll the passed node into view, if it is not already.\r\n\t\t//\t\tDeprecated, use `windowUtils.scrollIntoView` instead.\r\n\r\n\t\twindowUtils.scrollIntoView(node, pos);\r\n\t};\r\n});\r\n\ndefine('dojo/uacss',[\"./dom-geometry\", \"./_base/lang\", \"./domReady\", \"./sniff\", \"./_base/window\"],\r\n\tfunction(geometry, lang, domReady, has, baseWindow){\r\n\r\n\t// module:\r\n\t//\t\tdojo/uacss\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tApplies pre-set CSS classes to the top-level HTML node, based on:\r\n\t\t//\r\n\t\t//\t\t- browser (ex: dj_ie)\r\n\t\t//\t\t- browser version (ex: dj_ie6)\r\n\t\t//\t\t- box model (ex: dj_contentBox)\r\n\t\t//\t\t- text direction (ex: dijitRtl)\r\n\t\t//\r\n\t\t//\t\tIn addition, browser, browser version, and box model are\r\n\t\t//\t\tcombined with an RTL flag when browser text is RTL. ex: dj_ie-rtl.\r\n\t\t//\r\n\t\t//\t\tReturns the has() method.\r\n\t};\r\n\t=====*/\r\n\r\n\tvar\r\n\t\thtml = baseWindow.doc.documentElement,\r\n\t\tie = has(\"ie\"),\r\n\t\topera = has(\"opera\"),\r\n\t\tmaj = Math.floor,\r\n\t\tff = has(\"ff\"),\r\n\t\tboxModel = geometry.boxModel.replace(/-/,''),\r\n\r\n\t\tclasses = {\r\n\t\t\t\"dj_quirks\": has(\"quirks\"),\r\n\r\n\t\t\t// NOTE: Opera not supported by dijit\r\n\t\t\t\"dj_opera\": opera,\r\n\r\n\t\t\t\"dj_khtml\": has(\"khtml\"),\r\n\r\n\t\t\t\"dj_webkit\": has(\"webkit\"),\r\n\t\t\t\"dj_safari\": has(\"safari\"),\r\n\t\t\t\"dj_chrome\": has(\"chrome\"),\r\n\r\n\t\t\t\"dj_gecko\": has(\"mozilla\"),\r\n\r\n\t\t\t\"dj_ios\": has(\"ios\"),\r\n\t\t\t\"dj_android\": has(\"android\")\r\n\t\t}; // no dojo unsupported browsers\r\n\r\n\tif(ie){\r\n\t\tclasses[\"dj_ie\"] = true;\r\n\t\tclasses[\"dj_ie\" + maj(ie)] = true;\r\n\t\tclasses[\"dj_iequirks\"] = has(\"quirks\");\r\n\t}\r\n\tif(ff){\r\n\t\tclasses[\"dj_ff\" + maj(ff)] = true;\r\n\t}\r\n\r\n\tclasses[\"dj_\" + boxModel] = true;\r\n\r\n\t// apply browser, browser version, and box model class names\r\n\tvar classStr = \"\";\r\n\tfor(var clz in classes){\r\n\t\tif(classes[clz]){\r\n\t\t\tclassStr += clz + \" \";\r\n\t\t}\r\n\t}\r\n\thtml.className = lang.trim(html.className + \" \" + classStr);\r\n\r\n\t// If RTL mode, then add dj_rtl flag plus repeat existing classes with -rtl extension.\r\n\t// We can't run the code below until the <body> tag has loaded (so we can check for dir=rtl).\r\n\tdomReady(function(){\r\n\t\tif(!geometry.isBodyLtr()){\r\n\t\t\tvar rtlClassStr = \"dj_rtl dijitRtl \" + classStr.replace(/ /g, \"-rtl \");\r\n\t\t\thtml.className = lang.trim(html.className + \" \" + rtlClassStr + \"dj_rtl dijitRtl \" + classStr.replace(/ /g, \"-rtl \"));\r\n\t\t}\r\n\t});\r\n\treturn has;\r\n});\r\n\ndefine('dijit/_base/sniff',[ \"dojo/uacss\" ], function(){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base/sniff\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated, back compatibility module, new code should require dojo/uacss directly instead of this module.\r\n\t};\r\n\t=====*/\r\n});\r\n\ndefine('dijit/typematic',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/connect\", // connect._keyPress\r\n\t\"dojo/_base/lang\", // lang.mixin, lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"./main\"        // setting dijit.typematic global\r\n], function(array, connect, lang, on, has, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/typematic\r\n\r\n\tvar typematic = (dijit.typematic = {\r\n\t\t// summary:\r\n\t\t//\t\tThese functions are used to repetitively call a user specified callback\r\n\t\t//\t\tmethod when a specific key or mouse click over a specific DOM node is\r\n\t\t//\t\theld down for a specific amount of time.\r\n\t\t//\t\tOnly 1 such event is allowed to occur on the browser page at 1 time.\r\n\r\n\t\t_fireEventAndReload: function(){\r\n\t\t\tthis._timer = null;\r\n\t\t\tthis._callback(++this._count, this._node, this._evt);\r\n\r\n\t\t\t// Schedule next event, timer is at most minDelay (default 10ms) to avoid\r\n\t\t\t// browser overload (particularly avoiding starving DOH robot so it never gets to send a mouseup)\r\n\t\t\tthis._currentTimeout = Math.max(\r\n\t\t\t\tthis._currentTimeout < 0 ? this._initialDelay :\r\n\t\t\t\t\t(this._subsequentDelay > 1 ? this._subsequentDelay : Math.round(this._currentTimeout * this._subsequentDelay)),\r\n\t\t\t\tthis._minDelay);\r\n\t\t\tthis._timer = setTimeout(lang.hitch(this, \"_fireEventAndReload\"), this._currentTimeout);\r\n\t\t},\r\n\r\n\t\ttrigger: function(/*Event*/ evt, /*Object*/ _this, /*DOMNode*/ node, /*Function*/ callback, /*Object*/ obj, /*Number?*/ subsequentDelay, /*Number?*/ initialDelay, /*Number?*/ minDelay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStart a timed, repeating callback sequence.\r\n\t\t\t//\t\tIf already started, the function call is ignored.\r\n\t\t\t//\t\tThis method is not normally called by the user but can be\r\n\t\t\t//\t\twhen the normal listener code is insufficient.\r\n\t\t\t// evt:\r\n\t\t\t//\t\tkey or mouse event object to pass to the user callback\r\n\t\t\t// _this:\r\n\t\t\t//\t\tpointer to the user's widget space.\r\n\t\t\t// node:\r\n\t\t\t//\t\tthe DOM node object to pass the the callback function\r\n\t\t\t// callback:\r\n\t\t\t//\t\tfunction to call until the sequence is stopped called with 3 parameters:\r\n\t\t\t// count:\r\n\t\t\t//\t\tinteger representing number of repeated calls (0..n) with -1 indicating the iteration has stopped\r\n\t\t\t// node:\r\n\t\t\t//\t\tthe DOM node object passed in\r\n\t\t\t// evt:\r\n\t\t\t//\t\tkey or mouse event object\r\n\t\t\t// obj:\r\n\t\t\t//\t\tuser space object used to uniquely identify each typematic sequence\r\n\t\t\t// subsequentDelay:\r\n\t\t\t//\t\tif > 1, the number of milliseconds until the 3->n events occur\r\n\t\t\t//\t\tor else the fractional time multiplier for the next event's delay, default=0.9\r\n\t\t\t// initialDelay:\r\n\t\t\t//\t\tthe number of milliseconds until the 2nd event occurs, default=500ms\r\n\t\t\t// minDelay:\r\n\t\t\t//\t\tthe maximum delay in milliseconds for event to fire, default=10ms\r\n\t\t\tif(obj != this._obj){\r\n\t\t\t\tthis.stop();\r\n\t\t\t\tthis._initialDelay = initialDelay || 500;\r\n\t\t\t\tthis._subsequentDelay = subsequentDelay || 0.90;\r\n\t\t\t\tthis._minDelay = minDelay || 10;\r\n\t\t\t\tthis._obj = obj;\r\n\t\t\t\tthis._node = node;\r\n\t\t\t\tthis._currentTimeout = -1;\r\n\t\t\t\tthis._count = -1;\r\n\t\t\t\tthis._callback = lang.hitch(_this, callback);\r\n\t\t\t\tthis._evt = { faux: true };\r\n\t\t\t\tfor(var attr in evt){\r\n\t\t\t\t\tif(attr != \"layerX\" && attr != \"layerY\"){ // prevent WebKit warnings\r\n\t\t\t\t\t\tvar v = evt[attr];\r\n\t\t\t\t\t\tif(typeof v != \"function\" && typeof v != \"undefined\"){\r\n\t\t\t\t\t\t\tthis._evt[attr] = v\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._fireEventAndReload();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstop: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStop an ongoing timed, repeating callback sequence.\r\n\t\t\tif(this._timer){\r\n\t\t\t\tclearTimeout(this._timer);\r\n\t\t\t\tthis._timer = null;\r\n\t\t\t}\r\n\t\t\tif(this._obj){\r\n\t\t\t\tthis._callback(-1, this._node, this._evt);\r\n\t\t\t\tthis._obj = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddKeyListener: function(/*DOMNode*/ node, /*Object*/ keyObject, /*Object*/ _this, /*Function*/ callback, /*Number*/ subsequentDelay, /*Number*/ initialDelay, /*Number?*/ minDelay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStart listening for a specific typematic key.\r\n\t\t\t//\t\tSee also the trigger method for other parameters.\r\n\t\t\t// keyObject:\r\n\t\t\t//\t\tan object defining the key to listen for:\r\n\t\t\t//\r\n\t\t\t//\t\t- keyCode: the keyCode (number) to listen for, used for non-printable keys\r\n\t\t\t//\t\t- charCode: the charCode (number) to listen for, used for printable keys\r\n\t\t\t//\t\t- charOrCode: deprecated, use keyCode or charCode\r\n\t\t\t//\t\t- ctrlKey: desired ctrl key state to initiate the callback sequence:\r\n\t\t\t//\t\t\t- pressed (true)\r\n\t\t\t//\t\t\t- released (false)\r\n\t\t\t//\t\t\t- either (unspecified)\r\n\t\t\t//\t\t- altKey: same as ctrlKey but for the alt key\r\n\t\t\t//\t\t- shiftKey: same as ctrlKey but for the shift key\r\n\t\t\t// returns:\r\n\t\t\t//\t\ta connection handle\r\n\r\n\t\t\t// Setup keydown or keypress listener depending on whether keyCode or charCode was specified.\r\n\t\t\t// If charOrCode is specified use deprecated connect._keypress synthetic event (remove for 2.0)\r\n\t\t\tvar type = \"keyCode\" in keyObject ? \"keydown\" : \"charCode\" in keyObject ? \"keypress\" : connect._keypress,\r\n\t\t\t\tattr = \"keyCode\" in keyObject ? \"keyCode\" : \"charCode\" in keyObject ? \"charCode\" : \"charOrCode\";\r\n\r\n\t\t\tvar handles = [\r\n\t\t\t\ton(node, type, lang.hitch(this, function(evt){\r\n\t\t\t\t\tif(evt[attr] == keyObject[attr] &&\r\n\t\t\t\t\t\t(keyObject.ctrlKey === undefined || keyObject.ctrlKey == evt.ctrlKey) &&\r\n\t\t\t\t\t\t(keyObject.altKey === undefined || keyObject.altKey == evt.altKey) &&\r\n\t\t\t\t\t\t(keyObject.metaKey === undefined || keyObject.metaKey == (evt.metaKey || false)) && // IE doesn't even set metaKey\r\n\t\t\t\t\t\t(keyObject.shiftKey === undefined || keyObject.shiftKey == evt.shiftKey)){\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\ttypematic.trigger(evt, _this, node, callback, keyObject, subsequentDelay, initialDelay, minDelay);\r\n\t\t\t\t\t}else if(typematic._obj == keyObject){\r\n\t\t\t\t\t\ttypematic.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t})),\r\n\t\t\t\ton(node, \"keyup\", lang.hitch(this, function(){\r\n\t\t\t\t\tif(typematic._obj == keyObject){\r\n\t\t\t\t\t\ttypematic.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t];\r\n\t\t\treturn { remove: function(){\r\n\t\t\t\tarray.forEach(handles, function(h){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t});\r\n\t\t\t} };\r\n\t\t},\r\n\r\n\t\taddMouseListener: function(/*DOMNode*/ node, /*Object*/ _this, /*Function*/ callback, /*Number*/ subsequentDelay, /*Number*/ initialDelay, /*Number?*/ minDelay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStart listening for a typematic mouse click.\r\n\t\t\t//\t\tSee the trigger method for other parameters.\r\n\t\t\t// returns:\r\n\t\t\t//\t\ta connection handle\r\n\t\t\tvar handles = [\r\n\t\t\t\ton(node, \"mousedown\", lang.hitch(this, function(evt){\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\ttypematic.trigger(evt, _this, node, callback, node, subsequentDelay, initialDelay, minDelay);\r\n\t\t\t\t})),\r\n\t\t\t\ton(node, \"mouseup\", lang.hitch(this, function(evt){\r\n\t\t\t\t\tif(this._obj){\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttypematic.stop();\r\n\t\t\t\t})),\r\n\t\t\t\ton(node, \"mouseout\", lang.hitch(this, function(evt){\r\n\t\t\t\t\tif(this._obj){\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttypematic.stop();\r\n\t\t\t\t})),\r\n\t\t\t\ton(node, \"dblclick\", lang.hitch(this, function(evt){\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tif(has(\"ie\") < 9){\r\n\t\t\t\t\t\ttypematic.trigger(evt, _this, node, callback, node, subsequentDelay, initialDelay, minDelay);\r\n\t\t\t\t\t\tsetTimeout(lang.hitch(this, typematic.stop), 50);\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t];\r\n\t\t\treturn { remove: function(){\r\n\t\t\t\tarray.forEach(handles, function(h){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t});\r\n\t\t\t} };\r\n\t\t},\r\n\r\n\t\taddListener: function(/*Node*/ mouseNode, /*Node*/ keyNode, /*Object*/ keyObject, /*Object*/ _this, /*Function*/ callback, /*Number*/ subsequentDelay, /*Number*/ initialDelay, /*Number?*/ minDelay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStart listening for a specific typematic key and mouseclick.\r\n\t\t\t//\t\tThis is a thin wrapper to addKeyListener and addMouseListener.\r\n\t\t\t//\t\tSee the addMouseListener and addKeyListener methods for other parameters.\r\n\t\t\t// mouseNode:\r\n\t\t\t//\t\tthe DOM node object to listen on for mouse events.\r\n\t\t\t// keyNode:\r\n\t\t\t//\t\tthe DOM node object to listen on for key events.\r\n\t\t\t// returns:\r\n\t\t\t//\t\ta connection handle\r\n\t\t\tvar handles = [\r\n\t\t\t\tthis.addKeyListener(keyNode, keyObject, _this, callback, subsequentDelay, initialDelay, minDelay),\r\n\t\t\t\tthis.addMouseListener(mouseNode, _this, callback, subsequentDelay, initialDelay, minDelay)\r\n\t\t\t];\r\n\t\t\treturn { remove: function(){\r\n\t\t\t\tarray.forEach(handles, function(h){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t});\r\n\t\t\t} };\r\n\t\t}\r\n\t});\r\n\r\n\treturn typematic;\r\n});\r\n\ndefine('dijit/_base/typematic',[\"../typematic\"], function(){\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated, for back-compat, just loads top level module\r\n\t};\r\n\t=====*/\r\n\r\n});\r\n\ndefine('dojo/hccss',[\r\n\t\"require\",\t\t\t// require, require.toUrl\r\n\t\"./_base/config\", // config.blankGif\r\n\t\"./dom-class\", // domClass.add\r\n\t\"./dom-style\", // domStyle.getComputedStyle\r\n\t\"./has\",\r\n\t\"./domReady\",\r\n\t\"./_base/window\" // win.body\r\n], function(require, config, domClass, domStyle, has, domReady, win){\r\n\r\n\t// module:\r\n\t//\t\tdojo/hccss\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tTest if computer is in high contrast mode (i.e. if browser is not displaying background images).\r\n\t\t//\t\tDefines `has(\"highcontrast\")` and sets `dj_a11y` CSS class on `<body>` if machine is in high contrast mode.\r\n\t\t//\t\tReturns `has()` method;\r\n\t};\r\n\t=====*/\r\n\r\n\t// Has() test for when background images aren't displayed.  Don't call has(\"highcontrast\") before dojo/domReady!.\r\n\thas.add(\"highcontrast\", function(){\r\n\t\t// note: if multiple documents, doesn't matter which one we use\r\n\t\tvar div = win.doc.createElement(\"div\");\r\n\t\tdiv.style.cssText = \"border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;\" +\r\n\t\t\t\"background-image: url(\\\"\" + (config.blankGif || require.toUrl(\"./resources/blank.gif\")) + \"\\\");\";\r\n\t\twin.body().appendChild(div);\r\n\r\n\t\tvar cs = domStyle.getComputedStyle(div),\r\n\t\t\tbkImg = cs.backgroundImage,\r\n\t\t\thc = (cs.borderTopColor == cs.borderRightColor) ||\r\n\t\t\t\t(bkImg && (bkImg == \"none\" || bkImg == \"url(invalid-url:)\" ));\r\n\r\n\t\tif(has(\"ie\") <= 8){\r\n\t\t\tdiv.outerHTML = \"\";\t\t// prevent mixed-content warning, see http://support.microsoft.com/kb/925014\r\n\t\t}else{\r\n\t\t\twin.body().removeChild(div);\r\n\t\t}\r\n\r\n\t\treturn hc;\r\n\t});\r\n\r\n\tdomReady(function(){\r\n\t\tif(has(\"highcontrast\")){\r\n\t\t\tdomClass.add(win.body(), \"dj_a11y\");\r\n\t\t}\r\n\t});\r\n\r\n\treturn has;\r\n});\r\n\ndefine('dijit/hccss',[\"dojo/dom-class\", \"dojo/hccss\", \"dojo/domReady\", \"dojo/_base/window\"], function(domClass, has, domReady, win){\r\n\r\n\t// module:\r\n\t//\t\tdijit/hccss\r\n\r\n\t/*=====\r\n\treturn function(){\r\n\t\t// summary:\r\n\t\t//\t\tTest if computer is in high contrast mode, and sets `dijit_a11y` flag on `<body>` if it is.\r\n\t\t//\t\tDeprecated, use ``dojo/hccss`` instead.\r\n\t};\r\n\t=====*/\r\n\r\n\tdomReady(function(){\r\n\t\tif(has(\"highcontrast\")){\r\n\t\t\tdomClass.add(win.body(), \"dijit_a11y\");\r\n\t\t}\r\n\t});\r\n\r\n\treturn has;\r\n});\r\n\ndefine('dijit/_base/wai',[\r\n\t\"dojo/dom-attr\", // domAttr.attr\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"../main\",\t// export symbols to dijit\r\n\t\"../hccss\"\t\t\t// not using this module directly, but loading it sets CSS flag on <html>\r\n], function(domAttr, lang, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base/wai\r\n\r\n\tvar exports = {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated methods for setting/getting wai roles and states.\r\n\t\t//\t\tNew code should call setAttribute()/getAttribute() directly.\r\n\t\t//\r\n\t\t//\t\tAlso loads hccss to apply dj_a11y class to root node if machine is in high-contrast mode.\r\n\r\n\t\thasWaiRole: function(/*Element*/ elem, /*String?*/ role){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetermines if an element has a particular role.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tTrue if elem has the specific role attribute and false if not.\r\n\t\t\t//\t\tFor backwards compatibility if role parameter not provided,\r\n\t\t\t//\t\treturns true if has a role\r\n\t\t\tvar waiRole = this.getWaiRole(elem);\r\n\t\t\treturn role ? (waiRole.indexOf(role) > -1) : (waiRole.length > 0);\r\n\t\t},\r\n\r\n\t\tgetWaiRole: function(/*Element*/ elem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the role for an element (which should be a wai role).\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe role of elem or an empty string if elem\r\n\t\t\t//\t\tdoes not have a role.\r\n\t\t\t return lang.trim((domAttr.get(elem, \"role\") || \"\").replace(\"wairole:\",\"\"));\r\n\t\t},\r\n\r\n\t\tsetWaiRole: function(/*Element*/ elem, /*String*/ role){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the role on an element.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReplace existing role attribute with new role.\r\n\r\n\t\t\tdomAttr.set(elem, \"role\", role);\r\n\t\t},\r\n\r\n\t\tremoveWaiRole: function(/*Element*/ elem, /*String*/ role){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves the specified role from an element.\r\n\t\t\t//\t\tRemoves role attribute if no specific role provided (for backwards compat.)\r\n\r\n\t\t\tvar roleValue = domAttr.get(elem, \"role\");\r\n\t\t\tif(!roleValue){ return; }\r\n\t\t\tif(role){\r\n\t\t\t\tvar t = lang.trim((\" \" + roleValue + \" \").replace(\" \" + role + \" \", \" \"));\r\n\t\t\t\tdomAttr.set(elem, \"role\", t);\r\n\t\t\t}else{\r\n\t\t\t\telem.removeAttribute(\"role\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thasWaiState: function(/*Element*/ elem, /*String*/ state){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetermines if an element has a given state.\r\n\t\t\t// description:\r\n\t\t\t//\t\tChecks for an attribute called \"aria-\"+state.\r\n\t\t\t// returns:\r\n\t\t\t//\t\ttrue if elem has a value for the given state and\r\n\t\t\t//\t\tfalse if it does not.\r\n\r\n\t\t\treturn elem.hasAttribute ? elem.hasAttribute(\"aria-\"+state) : !!elem.getAttribute(\"aria-\"+state);\r\n\t\t},\r\n\r\n\t\tgetWaiState: function(/*Element*/ elem, /*String*/ state){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the value of a state on an element.\r\n\t\t\t// description:\r\n\t\t\t//\t\tChecks for an attribute called \"aria-\"+state.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe value of the requested state on elem\r\n\t\t\t//\t\tor an empty string if elem has no value for state.\r\n\r\n\t\t\treturn elem.getAttribute(\"aria-\"+state) || \"\";\r\n\t\t},\r\n\r\n\t\tsetWaiState: function(/*Element*/ elem, /*String*/ state, /*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets a state on an element.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets an attribute called \"aria-\"+state.\r\n\r\n\t\t\telem.setAttribute(\"aria-\"+state, value);\r\n\t\t},\r\n\r\n\t\tremoveWaiState: function(/*Element*/ elem, /*String*/ state){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves a state from an element.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets an attribute called \"aria-\"+state.\r\n\r\n\t\t\telem.removeAttribute(\"aria-\"+state);\r\n\t\t}\r\n\t};\r\n\r\n\tlang.mixin(dijit, exports);\r\n\r\n\t/*===== return exports; =====*/\r\n\treturn dijit;\t// for back compat :-(\r\n});\r\n\ndefine('dijit/_base/window',[\r\n\t\"dojo/window\", // windowUtils.get\r\n\t\"../main\"\t// export symbol to dijit\r\n], function(windowUtils, dijit){\r\n\t// module:\r\n\t//\t\tdijit/_base/window\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tBack compatibility module, new code should use windowUtils directly instead of using this module.\r\n\t};\r\n\t=====*/\r\n\r\n\tdijit.getDocumentWindow = function(doc){\r\n\t\treturn windowUtils.get(doc);\r\n\t};\r\n});\r\n\ndefine('dijit/_base',[\r\n\t\"./main\",\r\n\t\"./a11y\",\t// used to be in dijit/_base/manager\r\n\t\"./WidgetSet\",\t// used to be in dijit/_base/manager\r\n\t\"./_base/focus\",\r\n\t\"./_base/manager\",\r\n\t\"./_base/place\",\r\n\t\"./_base/popup\",\r\n\t\"./_base/scroll\",\r\n\t\"./_base/sniff\",\r\n\t\"./_base/typematic\",\r\n\t\"./_base/wai\",\r\n\t\"./_base/window\"\r\n], function(dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_base\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tIncludes all the modules in dijit/_base\r\n\t};\r\n\t=====*/\r\n\r\n\treturn dijit._base;\r\n});\r\n\ndefine('dojo/_base/url',[\"./kernel\"], function(dojo){\r\n\t// module:\r\n\t//\t\tdojo/url\r\n\r\n\tvar\r\n\t\tore = new RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?$\"),\r\n\t\tire = new RegExp(\"^((([^\\\\[:]+):)?([^@]+)@)?(\\\\[([^\\\\]]+)\\\\]|([^\\\\[:]*))(:([0-9]+))?$\"),\r\n\t\t_Url = function(){\r\n\t\t\tvar n = null,\r\n\t\t\t\t_a = arguments,\r\n\t\t\t\turi = [_a[0]];\r\n\t\t\t// resolve uri components relative to each other\r\n\t\t\tfor(var i = 1; i<_a.length; i++){\r\n\t\t\t\tif(!_a[i]){ continue; }\r\n\r\n\t\t\t\t// Safari doesn't support this.constructor so we have to be explicit\r\n\t\t\t\t// FIXME: Tracked (and fixed) in Webkit bug 3537.\r\n\t\t\t\t//\t\thttp://bugs.webkit.org/show_bug.cgi?id=3537\r\n\t\t\t\tvar relobj = new _Url(_a[i]+\"\"),\r\n\t\t\t\t\turiobj = new _Url(uri[0]+\"\");\r\n\r\n\t\t\t\tif(\r\n\t\t\t\t\trelobj.path == \"\" &&\r\n\t\t\t\t\t!relobj.scheme &&\r\n\t\t\t\t\t!relobj.authority &&\r\n\t\t\t\t\t!relobj.query\r\n\t\t\t\t){\r\n\t\t\t\t\tif(relobj.fragment != n){\r\n\t\t\t\t\t\turiobj.fragment = relobj.fragment;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trelobj = uriobj;\r\n\t\t\t\t}else if(!relobj.scheme){\r\n\t\t\t\t\trelobj.scheme = uriobj.scheme;\r\n\r\n\t\t\t\t\tif(!relobj.authority){\r\n\t\t\t\t\t\trelobj.authority = uriobj.authority;\r\n\r\n\t\t\t\t\t\tif(relobj.path.charAt(0) != \"/\"){\r\n\t\t\t\t\t\t\tvar path = uriobj.path.substring(0,\r\n\t\t\t\t\t\t\t\turiobj.path.lastIndexOf(\"/\") + 1) + relobj.path;\r\n\r\n\t\t\t\t\t\t\tvar segs = path.split(\"/\");\r\n\t\t\t\t\t\t\tfor(var j = 0; j < segs.length; j++){\r\n\t\t\t\t\t\t\t\tif(segs[j] == \".\"){\r\n\t\t\t\t\t\t\t\t\t// flatten \"./\" references\r\n\t\t\t\t\t\t\t\t\tif(j == segs.length - 1){\r\n\t\t\t\t\t\t\t\t\t\tsegs[j] = \"\";\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tsegs.splice(j, 1);\r\n\t\t\t\t\t\t\t\t\t\tj--;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else if(j > 0 && !(j == 1 && segs[0] == \"\") &&\r\n\t\t\t\t\t\t\t\t\tsegs[j] == \"..\" && segs[j-1] != \"..\"){\r\n\t\t\t\t\t\t\t\t\t// flatten \"../\" references\r\n\t\t\t\t\t\t\t\t\tif(j == (segs.length - 1)){\r\n\t\t\t\t\t\t\t\t\t\tsegs.splice(j, 1);\r\n\t\t\t\t\t\t\t\t\t\tsegs[j - 1] = \"\";\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tsegs.splice(j - 1, 2);\r\n\t\t\t\t\t\t\t\t\t\tj -= 2;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trelobj.path = segs.join(\"/\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\turi = [];\r\n\t\t\t\tif(relobj.scheme){\r\n\t\t\t\t\turi.push(relobj.scheme, \":\");\r\n\t\t\t\t}\r\n\t\t\t\tif(relobj.authority){\r\n\t\t\t\t\turi.push(\"//\", relobj.authority);\r\n\t\t\t\t}\r\n\t\t\t\turi.push(relobj.path);\r\n\t\t\t\tif(relobj.query){\r\n\t\t\t\t\turi.push(\"?\", relobj.query);\r\n\t\t\t\t}\r\n\t\t\t\tif(relobj.fragment){\r\n\t\t\t\t\turi.push(\"#\", relobj.fragment);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.uri = uri.join(\"\");\r\n\r\n\t\t\t// break the uri into its main components\r\n\t\t\tvar r = this.uri.match(ore);\r\n\r\n\t\t\tthis.scheme = r[2] || (r[1] ? \"\" : n);\r\n\t\t\tthis.authority = r[4] || (r[3] ? \"\" : n);\r\n\t\t\tthis.path = r[5]; // can never be undefined\r\n\t\t\tthis.query = r[7] || (r[6] ? \"\" : n);\r\n\t\t\tthis.fragment\t = r[9] || (r[8] ? \"\" : n);\r\n\r\n\t\t\tif(this.authority != n){\r\n\t\t\t\t// server based naming authority\r\n\t\t\t\tr = this.authority.match(ire);\r\n\r\n\t\t\t\tthis.user = r[3] || n;\r\n\t\t\t\tthis.password = r[4] || n;\r\n\t\t\t\tthis.host = r[6] || r[7]; // ipv6 || ipv4\r\n\t\t\t\tthis.port = r[9] || n;\r\n\t\t\t}\r\n\t\t};\r\n\t_Url.prototype.toString = function(){ return this.uri; };\r\n\r\n\treturn dojo._Url = _Url;\r\n});\r\n\ndefine('dojo/promise/all',[\r\n\t\"../_base/array\",\r\n\t\"../Deferred\",\r\n\t\"../when\"\r\n], function(array, Deferred, when){\r\n\t\"use strict\";\r\n\r\n\t// module:\r\n\t//\t\tdojo/promise/all\r\n\r\n\tvar some = array.some;\r\n\r\n\treturn function all(objectOrArray){\r\n\t\t// summary:\r\n\t\t//\t\tTakes multiple promises and returns a new promise that is fulfilled\r\n\t\t//\t\twhen all promises have been resolved or one has been rejected.\r\n\t\t// description:\r\n\t\t//\t\tTakes multiple promises and returns a new promise that is fulfilled\r\n\t\t//\t\twhen all promises have been resolved or one has been rejected. If one of\r\n\t\t//\t\tthe promises is rejected, the returned promise is also rejected. Canceling\r\n\t\t//\t\tthe returned promise will *not* cancel any passed promises.\r\n\t\t// objectOrArray: Object|Array?\r\n\t\t//\t\tThe promise will be fulfilled with a list of results if invoked with an\r\n\t\t//\t\tarray, or an object of results when passed an object (using the same\r\n\t\t//\t\tkeys). If passed neither an object or array it is resolved with an\r\n\t\t//\t\tundefined value.\r\n\t\t// returns: dojo/promise/Promise\r\n\r\n\t\tvar object, array;\r\n\t\tif(objectOrArray instanceof Array){\r\n\t\t\tarray = objectOrArray;\r\n\t\t}else if(objectOrArray && typeof objectOrArray === \"object\"){\r\n\t\t\tobject = objectOrArray;\r\n\t\t}\r\n\r\n\t\tvar results;\r\n\t\tvar keyLookup = [];\r\n\t\tif(object){\r\n\t\t\tarray = [];\r\n\t\t\tfor(var key in object){\r\n\t\t\t\tif(Object.hasOwnProperty.call(object, key)){\r\n\t\t\t\t\tkeyLookup.push(key);\r\n\t\t\t\t\tarray.push(object[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults = {};\r\n\t\t}else if(array){\r\n\t\t\tresults = [];\r\n\t\t}\r\n\r\n\t\tif(!array || !array.length){\r\n\t\t\treturn new Deferred().resolve(results);\r\n\t\t}\r\n\r\n\t\tvar deferred = new Deferred();\r\n\t\tdeferred.promise.always(function(){\r\n\t\t\tresults = keyLookup = null;\r\n\t\t});\r\n\t\tvar waiting = array.length;\r\n\t\tsome(array, function(valueOrPromise, index){\r\n\t\t\tif(!object){\r\n\t\t\t\tkeyLookup.push(index);\r\n\t\t\t}\r\n\t\t\twhen(valueOrPromise, function(value){\r\n\t\t\t\tif(!deferred.isFulfilled()){\r\n\t\t\t\t\tresults[keyLookup[index]] = value;\r\n\t\t\t\t\tif(--waiting === 0){\r\n\t\t\t\t\t\tdeferred.resolve(results);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, deferred.reject);\r\n\t\t\treturn deferred.isFulfilled();\r\n\t\t});\r\n\t\treturn deferred.promise;\t// dojo/promise/Promise\r\n\t};\r\n});\r\n\ndefine('dojo/date/stamp',[\"../_base/lang\", \"../_base/array\"], function(lang, array){\r\n\r\n// module:\r\n//\t\tdojo/date/stamp\r\n\r\nvar stamp = {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n};\r\nlang.setObject(\"dojo.date.stamp\", stamp);\r\n\r\n// Methods to convert dates to or from a wire (string) format using well-known conventions\r\n\r\nstamp.fromISOString = function(/*String*/ formattedString, /*Number?*/ defaultTime){\r\n\t// summary:\r\n\t//\t\tReturns a Date object given a string formatted according to a subset of the ISO-8601 standard.\r\n\t//\r\n\t// description:\r\n\t//\t\tAccepts a string formatted according to a profile of ISO8601 as defined by\r\n\t//\t\t[RFC3339](http://www.ietf.org/rfc/rfc3339.txt), except that partial input is allowed.\r\n\t//\t\tCan also process dates as specified [by the W3C](http://www.w3.org/TR/NOTE-datetime)\r\n\t//\t\tThe following combinations are valid:\r\n\t//\r\n\t//\t\t- dates only\r\n\t//\t\t\t- yyyy\r\n\t//\t\t\t- yyyy-MM\r\n\t//\t\t\t- yyyy-MM-dd\r\n\t//\t\t- times only, with an optional time zone appended\r\n\t//\t\t\t- THH:mm\r\n\t//\t\t\t- THH:mm:ss\r\n\t//\t\t\t- THH:mm:ss.SSS\r\n\t//\t\t- and \"datetimes\" which could be any combination of the above\r\n\t//\r\n\t//\t\ttimezones may be specified as Z (for UTC) or +/- followed by a time expression HH:mm\r\n\t//\t\tAssumes the local time zone if not specified.  Does not validate.  Improperly formatted\r\n\t//\t\tinput may return null.  Arguments which are out of bounds will be handled\r\n\t//\t\tby the Date constructor (e.g. January 32nd typically gets resolved to February 1st)\r\n\t//\t\tOnly years between 100 and 9999 are supported.\r\n  \t// formattedString:\r\n\t//\t\tA string such as 2005-06-30T08:05:00-07:00 or 2005-06-30 or T08:05:00\r\n\t// defaultTime:\r\n\t//\t\tUsed for defaults for fields omitted in the formattedString.\r\n\t//\t\tUses 1970-01-01T00:00:00.0Z by default.\r\n\r\n\tif(!stamp._isoRegExp){\r\n\t\tstamp._isoRegExp =\r\n//TODO: could be more restrictive and check for 00-59, etc.\r\n\t\t\t/^(?:(\\d{4})(?:-(\\d{2})(?:-(\\d{2}))?)?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(.\\d+)?)?((?:[+-](\\d{2}):(\\d{2}))|Z)?)?$/;\r\n\t}\r\n\r\n\tvar match = stamp._isoRegExp.exec(formattedString),\r\n\t\tresult = null;\r\n\r\n\tif(match){\r\n\t\tmatch.shift();\r\n\t\tif(match[1]){match[1]--;} // Javascript Date months are 0-based\r\n\t\tif(match[6]){match[6] *= 1000;} // Javascript Date expects fractional seconds as milliseconds\r\n\r\n\t\tif(defaultTime){\r\n\t\t\t// mix in defaultTime.  Relatively expensive, so use || operators for the fast path of defaultTime === 0\r\n\t\t\tdefaultTime = new Date(defaultTime);\r\n\t\t\tarray.forEach(array.map([\"FullYear\", \"Month\", \"Date\", \"Hours\", \"Minutes\", \"Seconds\", \"Milliseconds\"], function(prop){\r\n\t\t\t\treturn defaultTime[\"get\" + prop]();\r\n\t\t\t}), function(value, index){\r\n\t\t\t\tmatch[index] = match[index] || value;\r\n\t\t\t});\r\n\t\t}\r\n\t\tresult = new Date(match[0]||1970, match[1]||0, match[2]||1, match[3]||0, match[4]||0, match[5]||0, match[6]||0); //TODO: UTC defaults\r\n\t\tif(match[0] < 100){\r\n\t\t\tresult.setFullYear(match[0] || 1970);\r\n\t\t}\r\n\r\n\t\tvar offset = 0,\r\n\t\t\tzoneSign = match[7] && match[7].charAt(0);\r\n\t\tif(zoneSign != 'Z'){\r\n\t\t\toffset = ((match[8] || 0) * 60) + (Number(match[9]) || 0);\r\n\t\t\tif(zoneSign != '-'){ offset *= -1; }\r\n\t\t}\r\n\t\tif(zoneSign){\r\n\t\t\toffset -= result.getTimezoneOffset();\r\n\t\t}\r\n\t\tif(offset){\r\n\t\t\tresult.setTime(result.getTime() + offset * 60000);\r\n\t\t}\r\n\t}\r\n\r\n\treturn result; // Date or null\r\n};\r\n\r\n/*=====\r\nvar __Options = {\r\n\t// selector: String\r\n\t//\t\t\"date\" or \"time\" for partial formatting of the Date object.\r\n\t//\t\tBoth date and time will be formatted by default.\r\n\t// zulu: Boolean\r\n\t//\t\tif true, UTC/GMT is used for a timezone\r\n\t// milliseconds: Boolean\r\n\t//\t\tif true, output milliseconds\r\n};\r\n=====*/\r\n\r\nstamp.toISOString = function(/*Date*/ dateObject, /*__Options?*/ options){\r\n\t// summary:\r\n\t//\t\tFormat a Date object as a string according a subset of the ISO-8601 standard\r\n\t//\r\n\t// description:\r\n\t//\t\tWhen options.selector is omitted, output follows [RFC3339](http://www.ietf.org/rfc/rfc3339.txt)\r\n\t//\t\tThe local time zone is included as an offset from GMT, except when selector=='time' (time without a date)\r\n\t//\t\tDoes not check bounds.  Only years between 100 and 9999 are supported.\r\n\t//\r\n\t// dateObject:\r\n\t//\t\tA Date object\r\n\r\n\tvar _ = function(n){ return (n < 10) ? \"0\" + n : n; };\r\n\toptions = options || {};\r\n\tvar formattedDate = [],\r\n\t\tgetter = options.zulu ? \"getUTC\" : \"get\",\r\n\t\tdate = \"\";\r\n\tif(options.selector != \"time\"){\r\n\t\tvar year = dateObject[getter+\"FullYear\"]();\r\n\t\tdate = [\"0000\".substr((year+\"\").length)+year, _(dateObject[getter+\"Month\"]()+1), _(dateObject[getter+\"Date\"]())].join('-');\r\n\t}\r\n\tformattedDate.push(date);\r\n\tif(options.selector != \"date\"){\r\n\t\tvar time = [_(dateObject[getter+\"Hours\"]()), _(dateObject[getter+\"Minutes\"]()), _(dateObject[getter+\"Seconds\"]())].join(':');\r\n\t\tvar millis = dateObject[getter+\"Milliseconds\"]();\r\n\t\tif(options.milliseconds){\r\n\t\t\ttime += \".\"+ (millis < 100 ? \"0\" : \"\") + _(millis);\r\n\t\t}\r\n\t\tif(options.zulu){\r\n\t\t\ttime += \"Z\";\r\n\t\t}else if(options.selector != \"time\"){\r\n\t\t\tvar timezoneOffset = dateObject.getTimezoneOffset();\r\n\t\t\tvar absOffset = Math.abs(timezoneOffset);\r\n\t\t\ttime += (timezoneOffset > 0 ? \"-\" : \"+\") +\r\n\t\t\t\t_(Math.floor(absOffset/60)) + \":\" + _(absOffset%60);\r\n\t\t}\r\n\t\tformattedDate.push(time);\r\n\t}\r\n\treturn formattedDate.join('T'); // String\r\n};\r\n\r\nreturn stamp;\r\n});\r\n\ndefine('dojo/selector/_loader',[\"../has\", \"require\",\"module\"],function(has, require,module){\r\n\r\n\r\n\r\n\tif (require.isBrowser===false) { // for build,will be changed with better implementation. by LWF\r\n\r\n\t\treturn {\r\n\t        load: function (name, req, onLoad, config) {\r\n\t            onLoad();\r\n\t        }\t\t\t\r\n\t\t};\r\n\t}\r\n\r\n\r\nvar testDiv = document.createElement(\"div\");\r\nhas.add(\"dom-qsa2.1\", !!testDiv.querySelectorAll);\r\nhas.add(\"dom-qsa3\", function(){\r\n\t\t\t// test to see if we have a reasonable native selector engine available\r\n\t\t\ttry{\r\n\t\t\t\ttestDiv.innerHTML = \"<p class='TEST'></p>\"; // test kind of from sizzle\r\n\t\t\t\t// Safari can't handle uppercase or unicode characters when\r\n\t\t\t\t// in quirks mode, IE8 can't handle pseudos like :empty\r\n\t\t\t\treturn testDiv.querySelectorAll(\".TEST:empty\").length == 1;\r\n\t\t\t}catch(e){}\r\n\t\t});\r\n\r\nvar fullEngine;\r\nvar acme = \"./acme\", lite = \"./lite\";\r\nreturn {\r\n\t// summary:\r\n\t//\t\tThis module handles loading the appropriate selector engine for the given browser\r\n\r\n\tload: function(id, parentRequire, loaded, config){\r\n\t\tvar req = require;\r\n\t\t// here we implement the default logic for choosing a selector engine\r\n\t\tid = id == \"default\" ? has(\"config-selectorEngine\") || \"css3\" : id;\r\n\t\tid = id == \"css2\" || id == \"lite\" ? lite :\r\n\t\t\t\tid == \"css2.1\" ? has(\"dom-qsa2.1\") ? lite : acme :\r\n\t\t\t\tid == \"css3\" ? has(\"dom-qsa3\") ? lite : acme :\r\n\t\t\t\tid == \"acme\" ? acme : (req = parentRequire) && id;\r\n\t\tif(id.charAt(id.length-1) == '?'){\r\n\t\t\tid = id.substring(0,id.length - 1);\r\n\t\t\tvar optionalLoad = true;\r\n\t\t}\r\n\t\t// the query engine is optional, only load it if a native one is not available or existing one has not been loaded\r\n\t\tif(optionalLoad && (has(\"dom-compliant-qsa\") || fullEngine)){\r\n\t\t\treturn loaded(fullEngine);\r\n\t\t}\r\n\t\t// load the referenced selector engine\r\n\t\treq([id], function(engine){\r\n\t\t\tif(id != \"./lite\"){\r\n\t\t\t\tfullEngine = engine;\r\n\t\t\t}\r\n\t\t\tloaded(engine);\r\n\t\t});\r\n\t}\r\n};\r\n});\r\n\n\ndefine('dojo/query',[\"./_base/kernel\", \"./has\", \"./dom\", \"./on\", \"./_base/array\", \"./_base/lang\", \"./selector/_loader\", \"./selector/_loader!default\"],\r\n\tfunction(dojo, has, dom, on, array, lang, loader, defaultEngine){\r\n\r\n\t\"use strict\";\r\n\r\n\thas.add(\"array-extensible\", function(){\r\n\t\t// test to see if we can extend an array (not supported in old IE)\r\n\t\treturn lang.delegate([], {length: 1}).length == 1 && !has(\"bug-for-in-skips-shadowed\");\r\n\t});\r\n\t\r\n\tvar ap = Array.prototype, aps = ap.slice, apc = ap.concat, forEach = array.forEach;\r\n\r\n\tvar tnl = function(/*Array*/ a, /*dojo/NodeList?*/ parent, /*Function?*/ NodeListCtor){\r\n\t\t// summary:\r\n\t\t//\t\tdecorate an array to make it look like a `dojo/NodeList`.\r\n\t\t// a:\r\n\t\t//\t\tArray of nodes to decorate.\r\n\t\t// parent:\r\n\t\t//\t\tAn optional parent NodeList that generated the current\r\n\t\t//\t\tlist of nodes. Used to call _stash() so the parent NodeList\r\n\t\t//\t\tcan be accessed via end() later.\r\n\t\t// NodeListCtor:\r\n\t\t//\t\tAn optional constructor function to use for any\r\n\t\t//\t\tnew NodeList calls. This allows a certain chain of\r\n\t\t//\t\tNodeList calls to use a different object than dojo/NodeList.\r\n\t\tvar nodeList = new (NodeListCtor || this._NodeListCtor || nl)(a);\r\n\t\treturn parent ? nodeList._stash(parent) : nodeList;\r\n\t};\r\n\r\n\tvar loopBody = function(f, a, o){\r\n\t\ta = [0].concat(aps.call(a, 0));\r\n\t\to = o || dojo.global;\r\n\t\treturn function(node){\r\n\t\t\ta[0] = node;\r\n\t\t\treturn f.apply(o, a);\r\n\t\t};\r\n\t};\r\n\r\n\t// adapters\r\n\r\n\tvar adaptAsForEach = function(f, o){\r\n\t\t// summary:\r\n\t\t//\t\tadapts a single node function to be used in the forEach-type\r\n\t\t//\t\tactions. The initial object is returned from the specialized\r\n\t\t//\t\tfunction.\r\n\t\t// f: Function\r\n\t\t//\t\ta function to adapt\r\n\t\t// o: Object?\r\n\t\t//\t\tan optional context for f\r\n\t\treturn function(){\r\n\t\t\tthis.forEach(loopBody(f, arguments, o));\r\n\t\t\treturn this;\t// Object\r\n\t\t};\r\n\t};\r\n\r\n\tvar adaptAsMap = function(f, o){\r\n\t\t// summary:\r\n\t\t//\t\tadapts a single node function to be used in the map-type\r\n\t\t//\t\tactions. The return is a new array of values, as via `dojo/_base/array.map`\r\n\t\t// f: Function\r\n\t\t//\t\ta function to adapt\r\n\t\t// o: Object?\r\n\t\t//\t\tan optional context for f\r\n\t\treturn function(){\r\n\t\t\treturn this.map(loopBody(f, arguments, o));\r\n\t\t};\r\n\t};\r\n\r\n\tvar adaptAsFilter = function(f, o){\r\n\t\t// summary:\r\n\t\t//\t\tadapts a single node function to be used in the filter-type actions\r\n\t\t// f: Function\r\n\t\t//\t\ta function to adapt\r\n\t\t// o: Object?\r\n\t\t//\t\tan optional context for f\r\n\t\treturn function(){\r\n\t\t\treturn this.filter(loopBody(f, arguments, o));\r\n\t\t};\r\n\t};\r\n\r\n\tvar adaptWithCondition = function(f, g, o){\r\n\t\t// summary:\r\n\t\t//\t\tadapts a single node function to be used in the map-type\r\n\t\t//\t\tactions, behaves like forEach() or map() depending on arguments\r\n\t\t// f: Function\r\n\t\t//\t\ta function to adapt\r\n\t\t// g: Function\r\n\t\t//\t\ta condition function, if true runs as map(), otherwise runs as forEach()\r\n\t\t// o: Object?\r\n\t\t//\t\tan optional context for f and g\r\n\t\treturn function(){\r\n\t\t\tvar a = arguments, body = loopBody(f, a, o);\r\n\t\t\tif(g.call(o || dojo.global, a)){\r\n\t\t\t\treturn this.map(body);\t// self\r\n\t\t\t}\r\n\t\t\tthis.forEach(body);\r\n\t\t\treturn this;\t// self\r\n\t\t};\r\n\t};\r\n\r\n\tvar NodeList = function(array){\r\n\t\t// summary:\r\n\t\t//\t\tArray-like object which adds syntactic\r\n\t\t//\t\tsugar for chaining, common iteration operations, animation, and\r\n\t\t//\t\tnode manipulation. NodeLists are most often returned as the\r\n\t\t//\t\tresult of dojo/query() calls.\r\n\t\t// description:\r\n\t\t//\t\tNodeList instances provide many utilities that reflect\r\n\t\t//\t\tcore Dojo APIs for Array iteration and manipulation, DOM\r\n\t\t//\t\tmanipulation, and event handling. Instead of needing to dig up\r\n\t\t//\t\tfunctions in the dojo package, NodeLists generally make the\r\n\t\t//\t\tfull power of Dojo available for DOM manipulation tasks in a\r\n\t\t//\t\tsimple, chainable way.\r\n\t\t// example:\r\n\t\t//\t\tcreate a node list from a node\r\n\t\t//\t\t|\trequire([\"dojo/query\", \"dojo/dom\"\r\n\t\t//\t\t|\t], function(query, dom){\r\n\t\t//\t\t|\t\tquery.NodeList(dom.byId(\"foo\"));\r\n\t\t//\t\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tget a NodeList from a CSS query and iterate on it\r\n\t\t//\t\t|\trequire([\"dojo/on\", \"dojo/dom\"\r\n\t\t//\t\t|\t], function(on, dom){\r\n\t\t//\t\t|\t\tvar l = query(\".thinger\");\r\n\t\t//\t\t|\t\tl.forEach(function(node, index, nodeList){\r\n\t\t//\t\t|\t\t\tconsole.log(index, node.innerHTML);\r\n\t\t//\t\t|\t\t});\r\n\t\t//\t\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tuse native and Dojo-provided array methods to manipulate a\r\n\t\t//\t\tNodeList without needing to use dojo.* functions explicitly:\r\n\t\t//\t\t|\trequire([\"dojo/query\", \"dojo/dom-construct\", \"dojo/dom\"\r\n\t\t//\t\t|\t], function(query, domConstruct, dom){\r\n\t\t//\t\t|\t\tvar l = query(\".thinger\");\r\n\t\t//\t\t|\t\t// since NodeLists are real arrays, they have a length\r\n\t\t//\t\t|\t\t// property that is both readable and writable and\r\n\t\t//\t\t|\t\t// push/pop/shift/unshift methods\r\n\t\t//\t\t|\t\tconsole.log(l.length);\r\n\t\t//\t\t|\t\tl.push(domConstruct.create(\"span\"));\r\n\t\t//\t\t|\r\n\t\t//\t\t|\t\t// dojo's normalized array methods work too:\r\n\t\t//\t\t|\t\tconsole.log( l.indexOf(dom.byId(\"foo\")) );\r\n\t\t//\t\t|\t\t// ...including the special \"function as string\" shorthand\r\n\t\t//\t\t|\t\tconsole.log( l.every(\"item.nodeType == 1\") );\r\n\t\t//\t\t|\r\n\t\t//\t\t|\t\t// NodeLists can be [..] indexed, or you can use the at()\r\n\t\t//\t\t|\t\t// function to get specific items wrapped in a new NodeList:\r\n\t\t//\t\t|\t\tvar node = l[3]; // the 4th element\r\n\t\t//\t\t|\t\tvar newList = l.at(1, 3); // the 2nd and 4th elements\r\n\t\t//\t\t|\t});\r\n\t\t// example:\r\n\t\t//\t\tchainability is a key advantage of NodeLists:\r\n\t\t//\t\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t//\t\t|\t], function(query){\r\n\t\t//\t\t|\t\tquery(\".thinger\")\r\n\t\t//\t\t|\t\t\t.onclick(function(e){ /* ... */ })\r\n\t\t//\t\t|\t\t\t.at(1, 3, 8) // get a subset\r\n\t\t//\t\t|\t\t\t\t.style(\"padding\", \"5px\")\r\n\t\t//\t\t|\t\t\t\t.forEach(console.log);\r\n\t\t//\t\t|\t});\r\n\r\n\t\tvar isNew = this instanceof nl && has(\"array-extensible\");\r\n\t\tif(typeof array == \"number\"){\r\n\t\t\tarray = Array(array);\r\n\t\t}\r\n\t\tvar nodeArray = (array && \"length\" in array) ? array : arguments;\r\n\t\tif(isNew || !nodeArray.sort){\r\n\t\t\t// make sure it's a real array before we pass it on to be wrapped \r\n\t\t\tvar target = isNew ? this : [],\r\n\t\t\t\tl = target.length = nodeArray.length;\r\n\t\t\tfor(var i = 0; i < l; i++){\r\n\t\t\t\ttarget[i] = nodeArray[i];\r\n\t\t\t}\r\n\t\t\tif(isNew){\r\n\t\t\t\t// called with new operator, this means we are going to use this instance and push\r\n\t\t\t\t// the nodes on to it. This is usually much faster since the NodeList properties\r\n\t\t\t\t//\tdon't need to be copied (unless the list of nodes is extremely large).\r\n\t\t\t\treturn target;\r\n\t\t\t}\r\n\t\t\tnodeArray = target;\r\n\t\t}\r\n\t\t// called without new operator, use a real array and copy prototype properties,\r\n\t\t// this is slower and exists for back-compat. Should be removed in 2.0.\r\n\t\tlang._mixin(nodeArray, nlp);\r\n\t\tnodeArray._NodeListCtor = function(array){\r\n\t\t\t// call without new operator to preserve back-compat behavior\r\n\t\t\treturn nl(array);\r\n\t\t};\r\n\t\treturn nodeArray;\r\n\t};\r\n\t\r\n\tvar nl = NodeList, nlp = nl.prototype = \r\n\t\thas(\"array-extensible\") ? [] : {};// extend an array if it is extensible\r\n\r\n\t// expose adapters and the wrapper as private functions\r\n\r\n\tnl._wrap = nlp._wrap = tnl;\r\n\tnl._adaptAsMap = adaptAsMap;\r\n\tnl._adaptAsForEach = adaptAsForEach;\r\n\tnl._adaptAsFilter  = adaptAsFilter;\r\n\tnl._adaptWithCondition = adaptWithCondition;\r\n\r\n\t// mass assignment\r\n\r\n\t// add array redirectors\r\n\tforEach([\"slice\", \"splice\"], function(name){\r\n\t\tvar f = ap[name];\r\n\t\t//Use a copy of the this array via this.slice() to allow .end() to work right in the splice case.\r\n\t\t// CANNOT apply ._stash()/end() to splice since it currently modifies\r\n\t\t// the existing this array -- it would break backward compatibility if we copy the array before\r\n\t\t// the splice so that we can use .end(). So only doing the stash option to this._wrap for slice.\r\n\t\tnlp[name] = function(){ return this._wrap(f.apply(this, arguments), name == \"slice\" ? this : null); };\r\n\t});\r\n\t// concat should be here but some browsers with native NodeList have problems with it\r\n\r\n\t// add array.js redirectors\r\n\tforEach([\"indexOf\", \"lastIndexOf\", \"every\", \"some\"], function(name){\r\n\t\tvar f = array[name];\r\n\t\tnlp[name] = function(){ return f.apply(dojo, [this].concat(aps.call(arguments, 0))); };\r\n\t});\r\n\r\n\tlang.extend(NodeList, {\r\n\t\t// copy the constructors\r\n\t\tconstructor: nl,\r\n\t\t_NodeListCtor: nl,\r\n\t\ttoString: function(){\r\n\t\t\t// Array.prototype.toString can't be applied to objects, so we use join\r\n\t\t\treturn this.join(\",\");\r\n\t\t},\r\n\t\t_stash: function(parent){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tprivate function to hold to a parent NodeList. end() to return the parent NodeList.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\tHow to make a `dojo/NodeList` method that only returns the third node in\r\n\t\t\t//\t\tthe dojo/NodeList but allows access to the original NodeList by using this._stash:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/_base/lang\", \"dojo/NodeList\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query, lang){\r\n\t\t\t//\t|\t\tlang.extend(NodeList, {\r\n\t\t\t//\t|\t\t\tthird: function(){\r\n\t\t\t//\t|\t\t\t\tvar newNodeList = NodeList(this[2]);\r\n\t\t\t//\t|\t\t\t\treturn newNodeList._stash(this);\r\n\t\t\t//\t|\t\t\t}\r\n\t\t\t//\t|\t\t});\r\n\t\t\t//\t|\t\t// then see how _stash applies a sub-list, to be .end()'ed out of\r\n\t\t\t//\t|\t\tquery(\".foo\")\r\n\t\t\t//\t|\t\t\t.third()\r\n\t\t\t//\t|\t\t\t\t.addClass(\"thirdFoo\")\r\n\t\t\t//\t|\t\t\t.end()\r\n\t\t\t//\t|\t\t\t// access to the orig .foo list\r\n\t\t\t//\t|\t\t\t.removeClass(\"foo\")\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\tthis._parent = parent;\r\n\t\t\treturn this; // dojo/NodeList\r\n\t\t},\r\n\r\n\t\ton: function(eventName, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tListen for events on the nodes in the NodeList. Basic usage is:\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t\t|\trequire([\"dojo/query\"\r\n\t\t\t//\t\t|\t], function(query){\r\n\t\t\t//\t\t|\t\tquery(\".my-class\").on(\"click\", listener);\r\n\t\t\t//\t\t\tThis supports event delegation by using selectors as the first argument with the event names as\r\n\t\t\t//\t\t\tpseudo selectors. For example:\r\n\t\t\t//\t\t| \t\tquery(\"#my-list\").on(\"li:click\", listener);\r\n\t\t\t//\t\t\tThis will listen for click events within `<li>` elements that are inside the `#my-list` element.\r\n\t\t\t//\t\t\tBecause on supports CSS selector syntax, we can use comma-delimited events as well:\r\n\t\t\t//\t\t| \t\tquery(\"#my-list\").on(\"li button:mouseover, li:click\", listener);\r\n\t\t\t//\t\t|\t});\r\n\t\t\tvar handles = this.map(function(node){\r\n\t\t\t\treturn on(node, eventName, listener); // TODO: apply to the NodeList so the same selector engine is used for matches\r\n\t\t\t});\r\n\t\t\thandles.remove = function(){\r\n\t\t\t\tfor(var i = 0; i < handles.length; i++){\r\n\t\t\t\t\thandles[i].remove();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn handles;\r\n\t\t},\r\n\r\n\t\tend: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEnds use of the current `NodeList` by returning the previous NodeList\r\n\t\t\t//\t\tthat generated the current NodeList.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns the `NodeList` that generated the current `NodeList`. If there\r\n\t\t\t//\t\tis no parent NodeList, an empty NodeList is returned.\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"a\")\r\n\t\t\t//\t|\t\t\t.filter(\".disabled\")\r\n\t\t\t//\t|\t\t\t\t// operate on the anchors that only have a disabled class\r\n\t\t\t//\t|\t\t\t\t.style(\"color\", \"grey\")\r\n\t\t\t//\t|\t\t\t.end()\r\n\t\t\t//\t|\t\t\t// jump back to the list of anchors\r\n\t\t\t//\t|\t\t\t.style(...)\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\tif(this._parent){\r\n\t\t\t\treturn this._parent;\r\n\t\t\t}else{\r\n\t\t\t\t//Just return empty list.\r\n\t\t\t\treturn new this._NodeListCtor(0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Global_Objects:Array#Methods\r\n\r\n\t\t// FIXME: handle return values for #3244\r\n\t\t//\t\thttp://trac.dojotoolkit.org/ticket/3244\r\n\r\n\t\t// FIXME:\r\n\t\t//\t\tneed to wrap or implement:\r\n\t\t//\t\t\tjoin (perhaps w/ innerHTML/outerHTML overload for toString() of items?)\r\n\t\t//\t\t\treduce\r\n\t\t//\t\t\treduceRight\r\n\r\n\t\t/*=====\r\n\t\tslice: function(begin, end){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new NodeList, maintaining this one in place\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method behaves exactly like the Array.slice method\r\n\t\t\t//\t\twith the caveat that it returns a `dojo/NodeList` and not a\r\n\t\t\t//\t\traw Array. For more details, see Mozilla's [slice\r\n\t\t\t//\t\tdocumentation](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/slice)\r\n\t\t\t// begin: Integer\r\n\t\t\t//\t\tCan be a positive or negative integer, with positive\r\n\t\t\t//\t\tintegers noting the offset to begin at, and negative\r\n\t\t\t//\t\tintegers denoting an offset from the end (i.e., to the left\r\n\t\t\t//\t\tof the end)\r\n\t\t\t// end: Integer?\r\n\t\t\t//\t\tOptional parameter to describe what position relative to\r\n\t\t\t//\t\tthe NodeList's zero index to end the slice at. Like begin,\r\n\t\t\t//\t\tcan be positive or negative.\r\n\t\t\treturn this._wrap(a.slice.apply(this, arguments));\r\n\t\t},\r\n\r\n\t\tsplice: function(index, howmany, item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new NodeList, manipulating this NodeList based on\r\n\t\t\t//\t\tthe arguments passed, potentially splicing in new elements\r\n\t\t\t//\t\tat an offset, optionally deleting elements\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method behaves exactly like the Array.splice method\r\n\t\t\t//\t\twith the caveat that it returns a `dojo/NodeList` and not a\r\n\t\t\t//\t\traw Array. For more details, see Mozilla's [splice\r\n\t\t\t//\t\tdocumentation](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice)\r\n\t\t\t//\t\tFor backwards compatibility, calling .end() on the spliced NodeList\r\n\t\t\t//\t\tdoes not return the original NodeList -- splice alters the NodeList in place.\r\n\t\t\t// index: Integer\r\n\t\t\t//\t\tbegin can be a positive or negative integer, with positive\r\n\t\t\t//\t\tintegers noting the offset to begin at, and negative\r\n\t\t\t//\t\tintegers denoting an offset from the end (i.e., to the left\r\n\t\t\t//\t\tof the end)\r\n\t\t\t// howmany: Integer?\r\n\t\t\t//\t\tOptional parameter to describe what position relative to\r\n\t\t\t//\t\tthe NodeList's zero index to end the slice at. Like begin,\r\n\t\t\t//\t\tcan be positive or negative.\r\n\t\t\t// item: Object...?\r\n\t\t\t//\t\tAny number of optional parameters may be passed in to be\r\n\t\t\t//\t\tspliced into the NodeList\r\n\t\t\treturn this._wrap(a.splice.apply(this, arguments));\t// dojo/NodeList\r\n\t\t},\r\n\r\n\t\tindexOf: function(value, fromIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsee `dojo/_base/array.indexOf()`. The primary difference is that the acted-on\r\n\t\t\t//\t\tarray is implicitly this NodeList\r\n\t\t\t// value: Object\r\n\t\t\t//\t\tThe value to search for.\r\n\t\t\t// fromIndex: Integer?\r\n\t\t\t//\t\tThe location to start searching from. Optional. Defaults to 0.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor more details on the behavior of indexOf, see Mozilla's\r\n\t\t\t//\t\t[indexOf\r\n\t\t\t//\t\tdocs](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf)\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPositive Integer or 0 for a match, -1 of not found.\r\n\t\t\treturn d.indexOf(this, value, fromIndex); // Integer\r\n\t\t},\r\n\r\n\t\tlastIndexOf: function(value, fromIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsee `dojo/_base/array.lastIndexOf()`. The primary difference is that the\r\n\t\t\t//\t\tacted-on array is implicitly this NodeList\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor more details on the behavior of lastIndexOf, see\r\n\t\t\t//\t\tMozilla's [lastIndexOf\r\n\t\t\t//\t\tdocs](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf)\r\n\t\t\t// value: Object\r\n\t\t\t//\t\tThe value to search for.\r\n\t\t\t// fromIndex: Integer?\r\n\t\t\t//\t\tThe location to start searching from. Optional. Defaults to 0.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPositive Integer or 0 for a match, -1 of not found.\r\n\t\t\treturn d.lastIndexOf(this, value, fromIndex); // Integer\r\n\t\t},\r\n\r\n\t\tevery: function(callback, thisObject){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsee `dojo/_base/array.every()` and the [Array.every\r\n\t\t\t//\t\tdocs](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every).\r\n\t\t\t//\t\tTakes the same structure of arguments and returns as\r\n\t\t\t//\t\tdojo/_base/array.every() with the caveat that the passed array is\r\n\t\t\t//\t\timplicitly this NodeList\r\n\t\t\t// callback: Function\r\n\t\t\t//\t\tthe callback\r\n\t\t\t// thisObject: Object?\r\n\t\t\t//\t\tthe context\r\n\t\t\treturn d.every(this, callback, thisObject); // Boolean\r\n\t\t},\r\n\r\n\t\tsome: function(callback, thisObject){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTakes the same structure of arguments and returns as\r\n\t\t\t//\t\t`dojo/_base/array.some()` with the caveat that the passed array is\r\n\t\t\t//\t\timplicitly this NodeList.  See `dojo/_base/array.some()` and Mozilla's\r\n\t\t\t//\t\t[Array.some\r\n\t\t\t//\t\tdocumentation](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some).\r\n\t\t\t// callback: Function\r\n\t\t\t//\t\tthe callback\r\n\t\t\t// thisObject: Object?\r\n\t\t\t//\t\tthe context\r\n\t\t\treturn d.some(this, callback, thisObject); // Boolean\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tconcat: function(item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new NodeList comprised of items in this NodeList\r\n\t\t\t//\t\tas well as items passed in as parameters\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method behaves exactly like the Array.concat method\r\n\t\t\t//\t\twith the caveat that it returns a `NodeList` and not a\r\n\t\t\t//\t\traw Array. For more details, see the [Array.concat\r\n\t\t\t//\t\tdocs](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/concat)\r\n\t\t\t// item: Object?\r\n\t\t\t//\t\tAny number of optional parameters may be passed in to be\r\n\t\t\t//\t\tspliced into the NodeList\r\n\r\n\t\t\t//return this._wrap(apc.apply(this, arguments));\r\n\t\t\t// the line above won't work for the native NodeList, or for Dojo NodeLists either :-(\r\n\r\n\t\t\t// implementation notes:\r\n\t\t\t// Array.concat() doesn't recognize native NodeLists or Dojo NodeLists\r\n\t\t\t// as arrays, and so does not inline them into a unioned array, but\r\n\t\t\t// appends them as single entities. Both the original NodeList and the\r\n\t\t\t// items passed in as parameters must be converted to raw Arrays\r\n\t\t\t// and then the concatenation result may be re-_wrap()ed as a Dojo NodeList.\r\n\r\n\t\t\tvar t = aps.call(this, 0),\r\n\t\t\t\tm = array.map(arguments, function(a){\r\n\t\t\t\t\treturn aps.call(a, 0);\r\n\t\t\t\t});\r\n\t\t\treturn this._wrap(apc.apply(t, m), this);\t// dojo/NodeList\r\n\t\t},\r\n\r\n\t\tmap: function(/*Function*/ func, /*Function?*/ obj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsee `dojo/_base/array.map()`. The primary difference is that the acted-on\r\n\t\t\t//\t\tarray is implicitly this NodeList and the return is a\r\n\t\t\t//\t\tNodeList (a subclass of Array)\r\n\t\t\treturn this._wrap(array.map(this, func, obj), this); // dojo/NodeList\r\n\t\t},\r\n\r\n\t\tforEach: function(callback, thisObj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsee `dojo/_base/array.forEach()`. The primary difference is that the acted-on\r\n\t\t\t//\t\tarray is implicitly this NodeList. If you want the option to break out\r\n\t\t\t//\t\tof the forEach loop, use every() or some() instead.\r\n\t\t\tforEach(this, callback, thisObj);\r\n\t\t\t// non-standard return to allow easier chaining\r\n\t\t\treturn this; // dojo/NodeList\r\n\t\t},\r\n\t\tfilter: function(/*String|Function*/ filter){\r\n\t\t\t// summary:\r\n\t\t\t//\t\t\"masks\" the built-in javascript filter() method (supported\r\n\t\t\t//\t\tin Dojo via `dojo/_base/array.filter`) to support passing a simple\r\n\t\t\t//\t\tstring filter in addition to supporting filtering function\r\n\t\t\t//\t\tobjects.\r\n\t\t\t// filter:\r\n\t\t\t//\t\tIf a string, a CSS rule like \".thinger\" or \"div > span\".\r\n\t\t\t// example:\r\n\t\t\t//\t\t\"regular\" JS filter syntax as exposed in `dojo/_base/array.filter`:\r\n\t\t\t//\t\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t\t|\t], function(query){\r\n\t\t\t//\t\t|\t\tquery(\"*\").filter(function(item){\r\n\t\t\t//\t\t|\t\t\t// highlight every paragraph\r\n\t\t\t//\t\t|\t\t\treturn (item.nodeName == \"p\");\r\n\t\t\t//\t\t|\t\t}).style(\"backgroundColor\", \"yellow\");\r\n\t\t\t//\t\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tthe same filtering using a CSS selector\r\n\t\t\t//\t\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t\t|\t], function(query){\r\n\t\t\t//\t\t|\t\tquery(\"*\").filter(\"p\").styles(\"backgroundColor\", \"yellow\");\r\n\t\t\t//\t\t|\t});\r\n\r\n\t\t\tvar a = arguments, items = this, start = 0;\r\n\t\t\tif(typeof filter == \"string\"){ // inline'd type check\r\n\t\t\t\titems = query._filterResult(this, a[0]);\r\n\t\t\t\tif(a.length == 1){\r\n\t\t\t\t\t// if we only got a string query, pass back the filtered results\r\n\t\t\t\t\treturn items._stash(this); // dojo/NodeList\r\n\t\t\t\t}\r\n\t\t\t\t// if we got a callback, run it over the filtered items\r\n\t\t\t\tstart = 1;\r\n\t\t\t}\r\n\t\t\treturn this._wrap(array.filter(items, a[start], a[start + 1]), this);\t// dojo/NodeList\r\n\t\t},\r\n\t\tinstantiate: function(/*String|Object*/ declaredClass, /*Object?*/ properties){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate a new instance of a specified class, using the\r\n\t\t\t//\t\tspecified properties and each node in the NodeList as a\r\n\t\t\t//\t\tsrcNodeRef.\r\n\t\t\t// example:\r\n\t\t\t//\t\tGrabs all buttons in the page and converts them to dijit/form/Button's.\r\n\t\t\t//\t|\tvar buttons = query(\"button\").instantiate(Button, {showLabel: true});\r\n\t\t\tvar c = lang.isFunction(declaredClass) ? declaredClass : lang.getObject(declaredClass);\r\n\t\t\tproperties = properties || {};\r\n\t\t\treturn this.forEach(function(node){\r\n\t\t\t\tnew c(properties, node);\r\n\t\t\t});\t// dojo/NodeList\r\n\t\t},\r\n\t\tat: function(/*===== index =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new NodeList comprised of items in this NodeList\r\n\t\t\t//\t\tat the given index or indices.\r\n\t\t\t//\r\n\t\t\t// index: Integer...\r\n\t\t\t//\t\tOne or more 0-based indices of items in the current\r\n\t\t\t//\t\tNodeList. A negative index will start at the end of the\r\n\t\t\t//\t\tlist and go backwards.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\tShorten the list to the first, second, and third elements\r\n\t\t\t//\t|\trequire([\"dojo/query\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"a\").at(0, 1, 2).forEach(fn);\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\tRetrieve the first and last elements of a unordered list:\r\n\t\t\t//\t|\trequire([\"dojo/query\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"ul > li\").at(0, -1).forEach(cb);\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\tDo something for the first element only, but end() out back to\r\n\t\t\t//\tthe original list and continue chaining:\r\n\t\t\t//\t|\trequire([\"dojo/query\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"a\").at(0).onclick(fn).end().forEach(function(n){\r\n\t\t\t//\t|\t\t\tconsole.log(n); // all anchors on the page.\r\n\t\t\t//\t|\t})\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\tvar t = new this._NodeListCtor(0);\r\n\t\t\tforEach(arguments, function(i){\r\n\t\t\t\tif(i < 0){ i = this.length + i; }\r\n\t\t\t\tif(this[i]){ t.push(this[i]); }\r\n\t\t\t}, this);\r\n\t\t\treturn t._stash(this); // dojo/NodeList\r\n\t\t}\r\n\t});\r\n\r\n\tfunction queryForEngine(engine, NodeList){\r\n\t\tvar query = function(/*String*/ query, /*String|DOMNode?*/ root){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns nodes which match the given CSS selector, searching the\r\n\t\t\t//\t\tentire document by default but optionally taking a node to scope\r\n\t\t\t//\t\tthe search by. Returns an instance of NodeList.\r\n\t\t\tif(typeof root == \"string\"){\r\n\t\t\t\troot = dom.byId(root);\r\n\t\t\t\tif(!root){\r\n\t\t\t\t\treturn new NodeList([]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar results = typeof query == \"string\" ? engine(query, root) : query ? (query.end && query.on) ? query : [query] : [];\r\n\t\t\tif(results.end && results.on){\r\n\t\t\t\t// already wrapped\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t\treturn new NodeList(results);\r\n\t\t};\r\n\t\tquery.matches = engine && engine.match || function(node, selector, root){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTest to see if a node matches a selector\r\n\t\t\treturn query.filter([node], selector, root).length > 0;\r\n\t\t};\r\n\t\t// the engine provides a filtering function, use it to for matching\r\n\t\tquery.filter = engine && engine.filter || function(nodes, selector, root){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFilters an array of nodes. Note that this does not guarantee to return a NodeList, just an array.\r\n\t\t\treturn query(selector, root).filter(function(node){\r\n\t\t\t\treturn array.indexOf(nodes, node) > -1;\r\n\t\t\t});\r\n\t\t};\r\n\t\tif(typeof engine != \"function\"){\r\n\t\t\tvar search = engine && engine.search || function(el,selector) {\r\n\t\t\t\treturn el.querySelectorAll(selector);\r\n\t\t\t};\r\n\t\t\tengine = function(selector, root){\r\n\t\t\t\t// Slick does it backwards (or everyone else does it backwards, probably the latter)\r\n\t\t\t\treturn search(root || document, selector);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn query;\r\n\t}\r\n\tvar query = queryForEngine(defaultEngine, NodeList);\r\n\t/*=====\r\n\tquery = function(selector, context){\r\n\t\t// summary:\r\n\t\t//\t\tThis modules provides DOM querying functionality. The module export is a function\r\n\t\t//\t\tthat can be used to query for DOM nodes by CSS selector and returns a NodeList\r\n\t\t//\t\trepresenting the matching nodes.\r\n\t\t// selector: String\r\n\t\t//\t\tA CSS selector to search for.\r\n\t\t// context: String|DomNode?\r\n\t\t//\t\tAn optional context to limit the searching scope. Only nodes under `context` will be\r\n\t\t//\t\tscanned.\r\n\t\t// example:\r\n\t\t//\t\tadd an onclick handler to every submit button in the document\r\n\t\t//\t\twhich causes the form to be sent via Ajax instead:\r\n\t\t//\t|\trequire([\"dojo/query\", \"dojo/request\", \"dojo/dom-form\", \"dojo/dom-construct\", \"dojo/dom-style\"\r\n\t\t//\t|\t], function(query, request, domForm, domConstruct, domStyle){\r\n\t\t//\t|\t\tquery(\"input[type='submit']\").on(\"click\", function(e){\r\n\t\t//\t|\t\t\te.preventDefault(); // prevent sending the form\r\n\t\t//\t|\t\t\tvar btn = e.target;\r\n\t\t//\t|\t\t\trequest.post(\"http://example.com/\", {\r\n\t\t//\t|\t\t\t\tdata: domForm.toObject(btn.form)\r\n\t\t//\t|\t\t\t}).then(function(response){\r\n\t\t//\t|\t\t\t\t// replace the form with the response\r\n\t\t//\t|\t\t\t\tdomConstruct.create(div, {innerHTML: response}, btn.form, \"after\");\r\n\t\t//\t|\t\t\t\tdomStyle.set(btn.form, \"display\", \"none\");\r\n\t\t//\t|\t\t\t});\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tdojo/query is responsible for loading the appropriate query engine and wrapping\r\n\t\t//\t\tits results with a `NodeList`. You can use dojo/query with a specific selector engine\r\n\t\t//\t\tby using it as a plugin. For example, if you installed the sizzle package, you could\r\n\t\t//\t\tuse it as the selector engine with:\r\n\t\t//\t\t|\trequire([\"dojo/query!sizzle\"], function(query){\r\n\t\t//\t\t|\t\tquery(\"div\")...\r\n\t\t//\r\n\t\t//\t\tThe id after the ! can be a module id of the selector engine or one of the following values:\r\n\t\t//\r\n\t\t//\t\t- acme: This is the default engine used by Dojo base, and will ensure that the full\r\n\t\t//\t\tAcme engine is always loaded.\r\n\t\t//\r\n\t\t//\t\t- css2: If the browser has a native selector engine, this will be used, otherwise a\r\n\t\t//\t\tvery minimal lightweight selector engine will be loaded that can do simple CSS2 selectors\r\n\t\t//\t\t(by #id, .class, tag, and [name=value] attributes, with standard child or descendant (>)\r\n\t\t//\t\toperators) and nothing more.\r\n\t\t//\r\n\t\t//\t\t- css2.1: If the browser has a native selector engine, this will be used, otherwise the\r\n\t\t//\t\tfull Acme engine will be loaded.\r\n\t\t//\r\n\t\t//\t\t- css3: If the browser has a native selector engine with support for CSS3 pseudo\r\n\t\t//\t\tselectors (most modern browsers except IE8), this will be used, otherwise the\r\n\t\t//\t\tfull Acme engine will be loaded.\r\n\t\t//\r\n\t\t//\t\t- Or the module id of a selector engine can be used to explicitly choose the selector engine\r\n\t\t//\r\n\t\t//\t\tFor example, if you are using CSS3 pseudo selectors in module, you can specify that\r\n\t\t//\t\tyou will need support them with:\r\n\t\t//\t\t|\trequire([\"dojo/query!css3\"], function(query){\r\n\t\t//\t\t|\t\tquery('#t > h3:nth-child(odd)')...\r\n\t\t//\r\n\t\t//\t\tYou can also choose the selector engine/load configuration by setting the query-selector:\r\n\t\t//\t\tFor example:\r\n\t\t//\t\t|\t<script data-dojo-config=\"query-selector:'css3'\" src=\"dojo.js\"></script>\r\n\t\t//\r\n\t\treturn new NodeList(); // dojo/NodeList\r\n\t };\r\n\t =====*/\r\n\r\n\t// the query that is returned from this module is slightly different than dojo.query,\r\n\t// because dojo.query has to maintain backwards compatibility with returning a\r\n\t// true array which has performance problems. The query returned from the module\r\n\t// does not use true arrays, but rather inherits from Array, making it much faster to\r\n\t// instantiate.\r\n\tdojo.query = queryForEngine(defaultEngine, function(array){\r\n\t\t// call it without the new operator to invoke the back-compat behavior that returns a true array\r\n\t\treturn NodeList(array);\t// dojo/NodeList\r\n\t});\r\n\r\n\r\n\tif (require.isBrowser===false) { // for build,will be changed with better implementation. by LWF\r\n\t\tquery.load = function (name, req, onLoad, config) {\r\n\t        onLoad();\r\n\t    };\t\t\r\n\t} else {\r\n\t\tquery.load = function(id, parentRequire, loaded){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcan be used as AMD plugin to conditionally load new query engine\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/query!custom\"], function(qsa){\r\n\t\t\t//\t|\t\t// loaded selector/custom.js as engine\r\n\t\t\t//\t|\t\tqsa(\"#foobar\").forEach(...);\r\n\t\t\t//\t|\t});\r\n\t\t\tloader.load(id, parentRequire, function(engine){\r\n\t\t\t\tloaded(queryForEngine(engine, NodeList));\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\r\n\tdojo._filterQueryResult = query._filterResult = function(nodes, selector, root){\r\n\t\treturn new NodeList(query.filter(nodes, selector, root));\r\n\t};\r\n\tdojo.NodeList = query.NodeList = NodeList;\r\n\treturn query;\r\n});\r\n\ndefine('dojo/ready',[\"./_base/kernel\", \"./has\", \"require\", \"./has!host-browser?./domReady\", \"./_base/lang\"], function(dojo, has, require, domReady, lang){\r\n\t// module:\r\n\t//\t\tdojo/ready\r\n\t// note:\r\n\t//\t\tThis module should be unnecessary in dojo 2.0\r\n\r\n\tvar\r\n\t\t// truthy if DOMContentLoaded or better (e.g., window.onload fired) has been achieved\r\n\t\tisDomReady = 0,\r\n\r\n\t\t// The queue of functions waiting to execute as soon as dojo.ready conditions satisfied\r\n\t\tloadQ = [],\r\n\r\n\t\t// prevent recursion in onLoad\r\n\t\tonLoadRecursiveGuard = 0,\r\n\r\n\t\thandleDomReady = function(){\r\n\t\t\tisDomReady = 1;\r\n\t\t\tdojo._postLoad = dojo.config.afterOnLoad = true;\r\n\t\t\tonEvent();\r\n\t\t},\r\n\r\n\t\tonEvent = function(){\r\n\t\t\t// Called when some state changes:\r\n\t\t\t//\t\t- dom ready\r\n\t\t\t//\t\t- dojo/domReady has finished processing everything in its queue\r\n\t\t\t//\t\t- task added to loadQ\r\n\t\t\t//\t\t- require() has finished loading all currently requested modules\r\n\t\t\t//\r\n\t\t\t// Run the functions queued with dojo.ready if appropriate.\r\n\r\n\r\n\t\t\t//guard against recursions into this function\r\n\t\t\tif(onLoadRecursiveGuard){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tonLoadRecursiveGuard = 1;\r\n\r\n\t\t\t// Run tasks in queue if require() is finished loading modules, the dom is ready, and there are no\r\n\t\t\t// pending tasks registered via domReady().\r\n\t\t\t// The last step is necessary so that a user defined dojo.ready() callback is delayed until after the\r\n\t\t\t// domReady() calls inside of dojo.\t  Failure can be seen on dijit/tests/robot/Dialog_ally.html on IE8\r\n\t\t\t// because the dijit/focus.js domReady() callback doesn't execute until after the test starts running.\r\n\t\t\twhile(isDomReady && (!domReady || domReady._Q.length == 0) && (require.idle ? require.idle() : true) && loadQ.length){\r\n\t\t\t\tvar f = loadQ.shift();\r\n\t\t\t\ttry{\r\n\t\t\t\t\tf();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t// force the dojo.js on(\"error\") handler do display the message\r\n\t\t\t\t\te.info = e.message;\r\n\t\t\t\t\tif(require.signal){\r\n\t\t\t\t\t\trequire.signal(\"error\", e);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tonLoadRecursiveGuard = 0;\r\n\t\t};\r\n\r\n\t// Check if we should run the next queue operation whenever require() finishes loading modules or domReady\r\n\t// finishes processing it's queue.\r\n\trequire.on && require.on(\"idle\", onEvent);\r\n\tif(domReady){\r\n\t\tdomReady._onQEmpty = onEvent;\r\n\t}\r\n\r\n\tvar ready = dojo.ready = dojo.addOnLoad = function(priority, context, callback){\r\n\t\t// summary:\r\n\t\t//\t\tAdd a function to execute on DOM content loaded and all requested modules have arrived and been evaluated.\r\n\t\t//\t\tIn most cases, the `domReady` plug-in should suffice and this method should not be needed.\r\n\t\t//\r\n\t\t//\t\tWhen called in a non-browser environment, just checks that all requested modules have arrived and been\r\n\t\t//\t\tevaluated.\r\n\t\t// priority: Integer?\r\n\t\t//\t\tThe order in which to exec this callback relative to other callbacks, defaults to 1000\r\n\t\t// context: Object?|Function\r\n\t\t//\t\tThe context in which to run execute callback, or a callback if not using context\r\n\t\t// callback: Function?\r\n\t\t//\t\tThe function to execute.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tSimple DOM and Modules ready syntax\r\n\t\t//\t|\trequire([\"dojo/ready\"], function(ready){\r\n\t\t//\t|\t\tready(function(){ alert(\"Dom ready!\"); });\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tUsing a priority\r\n\t\t//\t|\trequire([\"dojo/ready\"], function(ready){\r\n\t\t//\t|\t\tready(2, function(){ alert(\"low priority ready!\"); })\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tUsing context\r\n\t\t//\t|\trequire([\"dojo/ready\"], function(ready){\r\n\t\t//\t|\t\tready(foo, function(){\r\n\t\t//\t|\t\t\t// in here, this == foo\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tUsing dojo/hitch style args:\r\n\t\t//\t|\trequire([\"dojo/ready\"], function(ready){\r\n\t\t//\t|\t\tvar foo = { dojoReady: function(){ console.warn(this, \"dojo dom and modules ready.\"); } };\r\n\t\t//\t|\t\tready(foo, \"dojoReady\");\r\n\t\t//\t|\t});\r\n\r\n\t\tvar hitchArgs = lang._toArray(arguments);\r\n\t\tif(typeof priority != \"number\"){\r\n\t\t\tcallback = context;\r\n\t\t\tcontext = priority;\r\n\t\t\tpriority = 1000;\r\n\t\t}else{\r\n\t\t\thitchArgs.shift();\r\n\t\t}\r\n\t\tcallback = callback ?\r\n\t\t\tlang.hitch.apply(dojo, hitchArgs) :\r\n\t\t\tfunction(){\r\n\t\t\t\tcontext();\r\n\t\t\t};\r\n\t\tcallback.priority = priority;\r\n\t\tfor(var i = 0; i < loadQ.length && priority >= loadQ[i].priority; i++){}\r\n\t\tloadQ.splice(i, 0, callback);\r\n\t\tonEvent();\r\n\t};\r\n\r\n\thas.add(\"dojo-config-addOnLoad\", 1);\r\n\tif(has(\"dojo-config-addOnLoad\")){\r\n\t\tvar dca = dojo.config.addOnLoad;\r\n\t\tif(dca){\r\n\t\t\tready[(lang.isArray(dca) ? \"apply\" : \"call\")](dojo, dca);\r\n\t\t}\r\n\t}\r\n\r\n\tif(has(\"dojo-sync-loader\") && dojo.config.parseOnLoad && !dojo.isAsync){\r\n\t\tready(99, function(){\r\n\t\t\tif(!dojo.parser){\r\n\t\t\t\tdojo.deprecated(\"Add explicit require(['dojo/parser']);\", \"\", \"2.0\");\r\n\t\t\t\trequire([\"dojo/parser\"]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif(domReady){\r\n\t\tdomReady(handleDomReady);\r\n\t}else{\r\n\t\thandleDomReady();\r\n\t}\r\n\r\n\treturn ready;\r\n});\r\n\ndefine('dojo/parser',[\r\n\t\"require\", \"./_base/kernel\", \"./_base/lang\", \"./_base/array\", \"./_base/config\", \"./dom\", \"./_base/window\",\r\n\t\t\"./_base/url\", \"./aspect\", \"./promise/all\", \"./date/stamp\", \"./Deferred\", \"./has\", \"./query\", \"./on\", \"./ready\"\r\n], function(require, dojo, dlang, darray, config, dom, dwindow, _Url, aspect, all, dates, Deferred, has, query, don, ready){\r\n\r\n\t// module:\r\n\t//\t\tdojo/parser\r\n\r\n\tnew Date(\"X\"); // workaround for #11279, new Date(\"\") == NaN\r\n\r\n\t// data-dojo-props etc. is not restricted to JSON, it can be any javascript\r\n\tfunction myEval(text){\r\n\t\treturn eval(\"(\" + text + \")\");\r\n\t}\r\n\r\n\t// Widgets like BorderContainer add properties to _Widget via dojo.extend().\r\n\t// If BorderContainer is loaded after _Widget's parameter list has been cached,\r\n\t// we need to refresh that parameter list (for _Widget and all widgets that extend _Widget).\r\n\tvar extendCnt = 0;\r\n\taspect.after(dlang, \"extend\", function(){\r\n\t\textendCnt++;\r\n\t}, true);\r\n\r\n\tfunction getNameMap(ctor){\r\n\t\t// summary:\r\n\t\t//\t\tReturns map from lowercase name to attribute name in class, ex: {onclick: \"onClick\"}\r\n\t\tvar map = ctor._nameCaseMap, proto = ctor.prototype;\r\n\r\n\t\t// Create the map if it's undefined.\r\n\t\t// Refresh the map if a superclass was possibly extended with new methods since the map was created.\r\n\t\tif(!map || map._extendCnt < extendCnt){\r\n\t\t\tmap = ctor._nameCaseMap = {};\r\n\t\t\tfor(var name in proto){\r\n\t\t\t\tif(name.charAt(0) === \"_\"){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\t// skip internal properties\r\n\t\t\t\tmap[name.toLowerCase()] = name;\r\n\t\t\t}\r\n\t\t\tmap._extendCnt = extendCnt;\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\n\t// Map from widget name or list of widget names(ex: \"dijit/form/Button,acme/MyMixin\") to a constructor.\r\n\tvar _ctorMap = {};\r\n\r\n\tfunction getCtor(/*String[]*/ types, /*Function?*/ contextRequire){\r\n\t\t// summary:\r\n\t\t//\t\tRetrieves a constructor.  If the types array contains more than one class/MID then the\r\n\t\t//\t\tsubsequent classes will be mixed into the first class and a unique constructor will be\r\n\t\t//\t\treturned for that array.\r\n\r\n\t\tvar ts = types.join();\r\n\t\tif(!_ctorMap[ts]){\r\n\t\t\tvar mixins = [];\r\n\t\t\tfor(var i = 0, l = types.length; i < l; i++){\r\n\t\t\t\tvar t = types[i];\r\n\t\t\t\t// TODO: Consider swapping getObject and require in the future\r\n\t\t\t\tmixins[mixins.length] = (_ctorMap[t] = _ctorMap[t] || (dlang.getObject(t) || (~t.indexOf('/') &&\r\n\t\t\t\t\t(contextRequire ? contextRequire(t) : require(t)))));\r\n\t\t\t}\r\n\t\t\tvar ctor = mixins.shift();\r\n\t\t\t_ctorMap[ts] = mixins.length ? (ctor.createSubclass ? ctor.createSubclass(mixins) : ctor.extend.apply(ctor, mixins)) : ctor;\r\n\t\t}\r\n\r\n\t\treturn _ctorMap[ts];\r\n\t}\r\n\r\n\tvar parser = {\r\n\t\t// summary:\r\n\t\t//\t\tThe Dom/Widget parsing package\r\n\r\n\t\t_clearCache: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClear cached data.   Used mainly for benchmarking.\r\n\t\t\textendCnt++;\r\n\t\t\t_ctorMap = {};\r\n\t\t},\r\n\r\n\t\t_functionFromScript: function(script, attrData){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert a `<script type=\"dojo/method\" args=\"a, b, c\"> ... </script>`\r\n\t\t\t//\t\tinto a function\r\n\t\t\t// script: DOMNode\r\n\t\t\t//\t\tThe `<script>` DOMNode\r\n\t\t\t// attrData: String\r\n\t\t\t//\t\tFor HTML5 compliance, searches for attrData + \"args\" (typically\r\n\t\t\t//\t\t\"data-dojo-args\") instead of \"args\"\r\n\t\t\tvar preamble = \"\",\r\n\t\t\t\tsuffix = \"\",\r\n\t\t\t\targsStr = (script.getAttribute(attrData + \"args\") || script.getAttribute(\"args\")),\r\n\t\t\t\twithStr = script.getAttribute(\"with\");\r\n\r\n\t\t\t// Convert any arguments supplied in script tag into an array to be passed to the\r\n\t\t\tvar fnArgs = (argsStr || \"\").split(/\\s*,\\s*/);\r\n\r\n\t\t\tif(withStr && withStr.length){\r\n\t\t\t\tdarray.forEach(withStr.split(/\\s*,\\s*/), function(part){\r\n\t\t\t\t\tpreamble += \"with(\" + part + \"){\";\r\n\t\t\t\t\tsuffix += \"}\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn new Function(fnArgs, preamble + script.innerHTML + suffix);\r\n\t\t},\r\n\r\n\t\tinstantiate: function(nodes, mixin, options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTakes array of nodes, and turns them into class instances and\r\n\t\t\t//\t\tpotentially calls a startup method to allow them to connect with\r\n\t\t\t//\t\tany children.\r\n\t\t\t// nodes: Array\r\n\t\t\t//\t\tArray of DOM nodes\r\n\t\t\t// mixin: Object?\r\n\t\t\t//\t\tAn object that will be mixed in with each node in the array.\r\n\t\t\t//\t\tValues in the mixin will override values in the node, if they\r\n\t\t\t//\t\texist.\r\n\t\t\t// options: Object?\r\n\t\t\t//\t\tAn object used to hold kwArgs for instantiation.\r\n\t\t\t//\t\tSee parse.options argument for details.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tArray of instances.\r\n\r\n\t\t\tmixin = mixin || {};\r\n\t\t\toptions = options || {};\r\n\r\n\t\t\tvar dojoType = (options.scope || dojo._scopeName) + \"Type\", // typically \"dojoType\"\r\n\t\t\t\tattrData = \"data-\" + (options.scope || dojo._scopeName) + \"-\", // typically \"data-dojo-\"\r\n\t\t\t\tdataDojoType = attrData + \"type\", // typically \"data-dojo-type\"\r\n\t\t\t\tdataDojoMixins = attrData + \"mixins\";\t\t\t\t\t// typically \"data-dojo-mixins\"\r\n\r\n\t\t\tvar list = [];\r\n\t\t\tdarray.forEach(nodes, function(node){\r\n\t\t\t\tvar type = dojoType in mixin ? mixin[dojoType] : node.getAttribute(dataDojoType) || node.getAttribute(dojoType);\r\n\t\t\t\tif(type){\r\n\t\t\t\t\tvar mixinsValue = node.getAttribute(dataDojoMixins),\r\n\t\t\t\t\t\ttypes = mixinsValue ? [type].concat(mixinsValue.split(/\\s*,\\s*/)) : [type];\r\n\r\n\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\tnode: node,\r\n\t\t\t\t\t\ttypes: types\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Instantiate the nodes and return the list of instances.\r\n\t\t\treturn this._instantiate(list, mixin, options);\r\n\t\t},\r\n\r\n\t\t_instantiate: function(nodes, mixin, options, returnPromise){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTakes array of objects representing nodes, and turns them into class instances and\r\n\t\t\t//\t\tpotentially calls a startup method to allow them to connect with\r\n\t\t\t//\t\tany children.\r\n\t\t\t// nodes: Array\r\n\t\t\t//\t\tArray of objects like\r\n\t\t\t//\t|\t\t{\r\n\t\t\t//\t|\t\t\tctor: Function (may be null)\r\n\t\t\t//\t|\t\t\ttypes: [\"dijit/form/Button\", \"acme/MyMixin\"] (used if ctor not specified)\r\n\t\t\t//\t|\t\t\tnode: DOMNode,\r\n\t\t\t//\t|\t\t\tscripts: [ ... ],\t// array of <script type=\"dojo/...\"> children of node\r\n\t\t\t//\t|\t\t\tinherited: { ... }\t// settings inherited from ancestors like dir, theme, etc.\r\n\t\t\t//\t|\t\t}\r\n\t\t\t// mixin: Object\r\n\t\t\t//\t\tAn object that will be mixed in with each node in the array.\r\n\t\t\t//\t\tValues in the mixin will override values in the node, if they\r\n\t\t\t//\t\texist.\r\n\t\t\t// options: Object\r\n\t\t\t//\t\tAn options object used to hold kwArgs for instantiation.\r\n\t\t\t//\t\tSee parse.options argument for details.\r\n\t\t\t// returnPromise: Boolean\r\n\t\t\t//\t\tReturn a Promise rather than the instance; supports asynchronous widget creation.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tArray of instances, or if returnPromise is true, a promise for array of instances\r\n\t\t\t//\t\tthat resolves when instances have finished initializing.\r\n\r\n\t\t\t// Call widget constructors.   Some may be asynchronous and return promises.\r\n\t\t\tvar thelist = darray.map(nodes, function(obj){\r\n\t\t\t\tvar ctor = obj.ctor || getCtor(obj.types, options.contextRequire);\r\n\t\t\t\t// If we still haven't resolved a ctor, it is fatal now\r\n\t\t\t\tif(!ctor){\r\n\t\t\t\t\tthrow new Error(\"Unable to resolve constructor for: '\" + obj.types.join() + \"'\");\r\n\t\t\t\t}\r\n\t\t\t\treturn this.construct(ctor, obj.node, mixin, options, obj.scripts, obj.inherited);\r\n\t\t\t}, this);\r\n\r\n\t\t\t// After all widget construction finishes, call startup on each top level instance if it makes sense (as for\r\n\t\t\t// widgets).  Parent widgets will recursively call startup on their (non-top level) children\r\n\t\t\tfunction onConstruct(thelist){\r\n\t\t\t\tif(!mixin._started && !options.noStart){\r\n\t\t\t\t\tdarray.forEach(thelist, function(instance){\r\n\t\t\t\t\t\tif(typeof instance.startup === \"function\" && !instance._started){\r\n\t\t\t\t\t\t\tinstance.startup();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn thelist;\r\n\t\t\t}\r\n\r\n\t\t\tif(returnPromise){\r\n\t\t\t\treturn all(thelist).then(onConstruct);\r\n\t\t\t}else{\r\n\t\t\t\t// Back-compat path, remove for 2.0\r\n\t\t\t\treturn onConstruct(thelist);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tconstruct: function(ctor, node, mixin, options, scripts, inherited){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls new ctor(params, node), where params is the hash of parameters specified on the node,\r\n\t\t\t//\t\texcluding data-dojo-type and data-dojo-mixins.   Does not call startup().\r\n\t\t\t// ctor: Function\r\n\t\t\t//\t\tWidget constructor.\r\n\t\t\t// node: DOMNode\r\n\t\t\t//\t\tThis node will be replaced/attached to by the widget.  It also specifies the arguments to pass to ctor.\r\n\t\t\t// mixin: Object?\r\n\t\t\t//\t\tAttributes in this object will be passed as parameters to ctor,\r\n\t\t\t//\t\toverriding attributes specified on the node.\r\n\t\t\t// options: Object?\r\n\t\t\t//\t\tAn options object used to hold kwArgs for instantiation.   See parse.options argument for details.\r\n\t\t\t// scripts: DomNode[]?\r\n\t\t\t//\t\tArray of `<script type=\"dojo/*\">` DOMNodes.  If not specified, will search for `<script>` tags inside node.\r\n\t\t\t// inherited: Object?\r\n\t\t\t//\t\tSettings from dir=rtl or lang=... on a node above this node.   Overrides options.inherited.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tInstance or Promise for the instance, if markupFactory() itself returned a promise\r\n\r\n\t\t\tvar proto = ctor && ctor.prototype;\r\n\t\t\toptions = options || {};\r\n\r\n\t\t\t// Setup hash to hold parameter settings for this widget.\tStart with the parameter\r\n\t\t\t// settings inherited from ancestors (\"dir\" and \"lang\").\r\n\t\t\t// Inherited setting may later be overridden by explicit settings on node itself.\r\n\t\t\tvar params = {};\r\n\r\n\t\t\tif(options.defaults){\r\n\t\t\t\t// settings for the document itself (or whatever subtree is being parsed)\r\n\t\t\t\tdlang.mixin(params, options.defaults);\r\n\t\t\t}\r\n\t\t\tif(inherited){\r\n\t\t\t\t// settings from dir=rtl or lang=... on a node above this node\r\n\t\t\t\tdlang.mixin(params, inherited);\r\n\t\t\t}\r\n\r\n\t\t\t// Get list of attributes explicitly listed in the markup\r\n\t\t\tvar attributes;\r\n\t\t\tif(has(\"dom-attributes-explicit\")){\r\n\t\t\t\t// Standard path to get list of user specified attributes\r\n\t\t\t\tattributes = node.attributes;\r\n\t\t\t}else if(has(\"dom-attributes-specified-flag\")){\r\n\t\t\t\t// Special processing needed for IE8, to skip a few faux values in attributes[]\r\n\t\t\t\tattributes = darray.filter(node.attributes, function(a){\r\n\t\t\t\t\treturn a.specified;\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t// Special path for IE6-7, avoid (sometimes >100) bogus entries in node.attributes\r\n\t\t\t\tvar clone = /^input$|^img$/i.test(node.nodeName) ? node : node.cloneNode(false),\r\n\t\t\t\t\tattrs = clone.outerHTML.replace(/=[^\\s\"']+|=\"[^\"]*\"|='[^']*'/g, \"\").replace(/^\\s*<[a-zA-Z0-9]*\\s*/, \"\").replace(/\\s*>.*$/, \"\");\r\n\r\n\t\t\t\tattributes = darray.map(attrs.split(/\\s+/), function(name){\r\n\t\t\t\t\tvar lcName = name.toLowerCase();\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t// getAttribute() doesn't work for button.value, returns innerHTML of button.\r\n\t\t\t\t\t\t// but getAttributeNode().value doesn't work for the form.encType or li.value\r\n\t\t\t\t\t\tvalue: (node.nodeName == \"LI\" && name == \"value\") || lcName == \"enctype\" ?\r\n\t\t\t\t\t\t\tnode.getAttribute(lcName) : node.getAttributeNode(lcName).value\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Hash to convert scoped attribute name (ex: data-dojo17-params) to something friendly (ex: data-dojo-params)\r\n\t\t\t// TODO: remove scope for 2.0\r\n\t\t\tvar scope = options.scope || dojo._scopeName,\r\n\t\t\t\tattrData = \"data-\" + scope + \"-\", // typically \"data-dojo-\"\r\n\t\t\t\thash = {};\r\n\t\t\tif(scope !== \"dojo\"){\r\n\t\t\t\thash[attrData + \"props\"] = \"data-dojo-props\";\r\n\t\t\t\thash[attrData + \"type\"] = \"data-dojo-type\";\r\n\t\t\t\thash[attrData + \"mixins\"] = \"data-dojo-mixins\";\r\n\t\t\t\thash[scope + \"type\"] = \"dojoType\";\r\n\t\t\t\thash[attrData + \"id\"] = \"data-dojo-id\";\r\n\t\t\t}\r\n\r\n\t\t\t// Read in attributes and process them, including data-dojo-props, data-dojo-type,\r\n\t\t\t// dojoAttachPoint, etc., as well as normal foo=bar attributes.\r\n\t\t\tvar i = 0, item, funcAttrs = [], jsname, extra;\r\n\t\t\twhile(item = attributes[i++]){\r\n\t\t\t\tvar name = item.name,\r\n\t\t\t\t\tlcName = name.toLowerCase(),\r\n\t\t\t\t\tvalue = item.value;\r\n\r\n\t\t\t\tswitch(hash[lcName] || lcName){\r\n\t\t\t\t// Already processed, just ignore\r\n\t\t\t\tcase \"data-dojo-type\":\r\n\t\t\t\tcase \"dojotype\":\r\n\t\t\t\tcase \"data-dojo-mixins\":\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// Data-dojo-props.   Save for later to make sure it overrides direct foo=bar settings\r\n\t\t\t\tcase \"data-dojo-props\":\r\n\t\t\t\t\textra = value;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// data-dojo-id or jsId. TODO: drop jsId in 2.0\r\n\t\t\t\tcase \"data-dojo-id\":\r\n\t\t\t\tcase \"jsid\":\r\n\t\t\t\t\tjsname = value;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// For the benefit of _Templated\r\n\t\t\t\tcase \"data-dojo-attach-point\":\r\n\t\t\t\tcase \"dojoattachpoint\":\r\n\t\t\t\t\tparams.dojoAttachPoint = value;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"data-dojo-attach-event\":\r\n\t\t\t\tcase \"dojoattachevent\":\r\n\t\t\t\t\tparams.dojoAttachEvent = value;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// Special parameter handling needed for IE\r\n\t\t\t\tcase \"class\":\r\n\t\t\t\t\tparams[\"class\"] = node.className;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"style\":\r\n\t\t\t\t\tparams[\"style\"] = node.style && node.style.cssText;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// Normal attribute, ex: value=\"123\"\r\n\r\n\t\t\t\t\t// Find attribute in widget corresponding to specified name.\r\n\t\t\t\t\t// May involve case conversion, ex: onclick --> onClick\r\n\t\t\t\t\tif(!(name in proto)){\r\n\t\t\t\t\t\tvar map = getNameMap(ctor);\r\n\t\t\t\t\t\tname = map[lcName] || name;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set params[name] to value, doing type conversion\r\n\t\t\t\t\tif(name in proto){\r\n\t\t\t\t\t\tswitch(typeof proto[name]){\r\n\t\t\t\t\t\tcase \"string\":\r\n\t\t\t\t\t\t\tparams[name] = value;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"number\":\r\n\t\t\t\t\t\t\tparams[name] = value.length ? Number(value) : NaN;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"boolean\":\r\n\t\t\t\t\t\t\t// for checked/disabled value might be \"\" or \"checked\".\t interpret as true.\r\n\t\t\t\t\t\t\tparams[name] = value.toLowerCase() != \"false\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"function\":\r\n\t\t\t\t\t\t\tif(value === \"\" || value.search(/[^\\w\\.]+/i) != -1){\r\n\t\t\t\t\t\t\t\t// The user has specified some text for a function like \"return x+5\"\r\n\t\t\t\t\t\t\t\tparams[name] = new Function(value);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// The user has specified the name of a global function like \"myOnClick\"\r\n\t\t\t\t\t\t\t\t// or a single word function \"return\"\r\n\t\t\t\t\t\t\t\tparams[name] = dlang.getObject(value, false) || new Function(value);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfuncAttrs.push(name);\t// prevent \"double connect\", see #15026\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tvar pVal = proto[name];\r\n\t\t\t\t\t\t\tparams[name] =\r\n\t\t\t\t\t\t\t\t(pVal && \"length\" in pVal) ? (value ? value.split(/\\s*,\\s*/) : []) :\t// array\r\n\t\t\t\t\t\t\t\t\t(pVal instanceof Date) ?\r\n\t\t\t\t\t\t\t\t\t\t(value == \"\" ? new Date(\"\") :\t// the NaN of dates\r\n\t\t\t\t\t\t\t\t\t\tvalue == \"now\" ? new Date() :\t// current date\r\n\t\t\t\t\t\t\t\t\t\tdates.fromISOString(value)) :\r\n\t\t\t\t\t\t\t\t(pVal instanceof _Url) ? (dojo.baseUrl + value) :\r\n\t\t\t\t\t\t\t\tmyEval(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tparams[name] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove function attributes from DOMNode to prevent \"double connect\" problem, see #15026.\r\n\t\t\t// Do this as a separate loop since attributes[] is often a live collection (depends on the browser though).\r\n\t\t\tfor(var j = 0; j < funcAttrs.length; j++){\r\n\t\t\t\tvar lcfname = funcAttrs[j].toLowerCase();\r\n\t\t\t\tnode.removeAttribute(lcfname);\r\n\t\t\t\tnode[lcfname] = null;\r\n\t\t\t}\r\n\r\n\t\t\t// Mix things found in data-dojo-props into the params, overriding any direct settings\r\n\t\t\tif(extra){\r\n\t\t\t\ttry{\r\n\t\t\t\t\textra = myEval.call(options.propsThis, \"{\" + extra + \"}\");\r\n\t\t\t\t\tdlang.mixin(params, extra);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t// give the user a pointer to their invalid parameters. FIXME: can we kill this in production?\r\n\t\t\t\t\tthrow new Error(e.toString() + \" in data-dojo-props='\" + extra + \"'\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Any parameters specified in \"mixin\" override everything else.\r\n\t\t\tdlang.mixin(params, mixin);\r\n\r\n\t\t\t// Get <script> nodes associated with this widget, if they weren't specified explicitly\r\n\t\t\tif(!scripts){\r\n\t\t\t\tscripts = (ctor && (ctor._noScript || proto._noScript) ? [] : query(\"> script[type^='dojo/']\", node));\r\n\t\t\t}\r\n\r\n\t\t\t// Process <script type=\"dojo/*\"> script tags\r\n\t\t\t// <script type=\"dojo/method\" data-dojo-event=\"foo\"> tags are added to params, and passed to\r\n\t\t\t// the widget on instantiation.\r\n\t\t\t// <script type=\"dojo/method\"> tags (with no event) are executed after instantiation\r\n\t\t\t// <script type=\"dojo/connect\" data-dojo-event=\"foo\"> tags are dojo.connected after instantiation,\r\n\t\t\t// and likewise with <script type=\"dojo/aspect\" data-dojo-method=\"foo\">\r\n\t\t\t// <script type=\"dojo/watch\" data-dojo-prop=\"foo\"> tags are dojo.watch after instantiation\r\n\t\t\t// <script type=\"dojo/on\" data-dojo-event=\"foo\"> tags are dojo.on after instantiation\r\n\t\t\t// note: dojo/* script tags cannot exist in self closing widgets, like <input />\r\n\t\t\tvar aspects = [],\t// aspects to connect after instantiation\r\n\t\t\t\tcalls = [],\t\t// functions to call after instantiation\r\n\t\t\t\twatches = [],  // functions to watch after instantiation\r\n\t\t\t\tons = []; // functions to on after instantiation\r\n\r\n\t\t\tif(scripts){\r\n\t\t\t\tfor(i = 0; i < scripts.length; i++){\r\n\t\t\t\t\tvar script = scripts[i];\r\n\t\t\t\t\tnode.removeChild(script);\r\n\t\t\t\t\t// FIXME: drop event=\"\" support in 2.0. use data-dojo-event=\"\" instead\r\n\t\t\t\t\tvar event = (script.getAttribute(attrData + \"event\") || script.getAttribute(\"event\")),\r\n\t\t\t\t\t\tprop = script.getAttribute(attrData + \"prop\"),\r\n\t\t\t\t\t\tmethod = script.getAttribute(attrData + \"method\"),\r\n\t\t\t\t\t\tadvice = script.getAttribute(attrData + \"advice\"),\r\n\t\t\t\t\t\tscriptType = script.getAttribute(\"type\"),\r\n\t\t\t\t\t\tnf = this._functionFromScript(script, attrData);\r\n\t\t\t\t\tif(event){\r\n\t\t\t\t\t\tif(scriptType == \"dojo/connect\"){\r\n\t\t\t\t\t\t\taspects.push({ method: event, func: nf });\r\n\t\t\t\t\t\t}else if(scriptType == \"dojo/on\"){\r\n\t\t\t\t\t\t\tons.push({ event: event, func: nf });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// <script type=\"dojo/method\" data-dojo-event=\"foo\">\r\n\t\t\t\t\t\t\t// TODO for 2.0: use data-dojo-method=\"foo\" instead (also affects dijit/Declaration)\r\n\t\t\t\t\t\t\tparams[event] = nf;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(scriptType == \"dojo/aspect\"){\r\n\t\t\t\t\t\taspects.push({ method: method, advice: advice, func: nf });\r\n\t\t\t\t\t}else if(scriptType == \"dojo/watch\"){\r\n\t\t\t\t\t\twatches.push({ prop: prop, func: nf });\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tcalls.push(nf);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// create the instance\r\n\t\t\tvar markupFactory = ctor.markupFactory || proto.markupFactory;\r\n\t\t\tvar instance = markupFactory ? markupFactory(params, node, ctor) : new ctor(params, node);\r\n\r\n\t\t\tfunction onInstantiate(instance){\r\n\t\t\t\t// map it to the JS namespace if that makes sense\r\n\t\t\t\tif(jsname){\r\n\t\t\t\t\tdlang.setObject(jsname, instance);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// process connections and startup functions\r\n\t\t\t\tfor(i = 0; i < aspects.length; i++){\r\n\t\t\t\t\taspect[aspects[i].advice || \"after\"](instance, aspects[i].method, dlang.hitch(instance, aspects[i].func), true);\r\n\t\t\t\t}\r\n\t\t\t\tfor(i = 0; i < calls.length; i++){\r\n\t\t\t\t\tcalls[i].call(instance);\r\n\t\t\t\t}\r\n\t\t\t\tfor(i = 0; i < watches.length; i++){\r\n\t\t\t\t\tinstance.watch(watches[i].prop, watches[i].func);\r\n\t\t\t\t}\r\n\t\t\t\tfor(i = 0; i < ons.length; i++){\r\n\t\t\t\t\tdon(instance, ons[i].event, ons[i].func);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn instance;\r\n\t\t\t}\r\n\r\n\t\t\tif(instance.then){\r\n\t\t\t\treturn instance.then(onInstantiate);\r\n\t\t\t}else{\r\n\t\t\t\treturn onInstantiate(instance);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscan: function(root, options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScan a DOM tree and return an array of objects representing the DOMNodes\r\n\t\t\t//\t\tthat need to be turned into widgets.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSearch specified node (or document root node) recursively for class instances\r\n\t\t\t//\t\tand return an array of objects that represent potential widgets to be\r\n\t\t\t//\t\tinstantiated. Searches for either data-dojo-type=\"MID\" or dojoType=\"MID\" where\r\n\t\t\t//\t\t\"MID\" is a module ID like \"dijit/form/Button\" or a fully qualified Class name\r\n\t\t\t//\t\tlike \"dijit/form/Button\".  If the MID is not currently available, scan will\r\n\t\t\t//\t\tattempt to require() in the module.\r\n\t\t\t//\r\n\t\t\t//\t\tSee parser.parse() for details of markup.\r\n\t\t\t// root: DomNode?\r\n\t\t\t//\t\tA default starting root node from which to start the parsing. Can be\r\n\t\t\t//\t\tomitted, defaulting to the entire document. If omitted, the `options`\r\n\t\t\t//\t\tobject can be passed in this place. If the `options` object has a\r\n\t\t\t//\t\t`rootNode` member, that is used.\r\n\t\t\t// options: Object\r\n\t\t\t//\t\ta kwArgs options object, see parse() for details\r\n\t\t\t//\r\n\t\t\t// returns: Promise\r\n\t\t\t//\t\tA promise that is resolved with the nodes that have been parsed.\r\n\r\n\t\t\tvar list = [], // Output List\r\n\t\t\t\tmids = [], // An array of modules that are not yet loaded\r\n\t\t\t\tmidsHash = {}; // Used to keep the mids array unique\r\n\r\n\t\t\tvar dojoType = (options.scope || dojo._scopeName) + \"Type\", // typically \"dojoType\"\r\n\t\t\t\tattrData = \"data-\" + (options.scope || dojo._scopeName) + \"-\", // typically \"data-dojo-\"\r\n\t\t\t\tdataDojoType = attrData + \"type\", // typically \"data-dojo-type\"\r\n\t\t\t\tdataDojoTextDir = attrData + \"textdir\", // typically \"data-dojo-textdir\"\r\n\t\t\t\tdataDojoMixins = attrData + \"mixins\";\t\t\t\t\t// typically \"data-dojo-mixins\"\r\n\r\n\t\t\t// Info on DOMNode currently being processed\r\n\t\t\tvar node = root.firstChild;\r\n\r\n\t\t\t// Info on parent of DOMNode currently being processed\r\n\t\t\t//\t- inherited: dir, lang, and textDir setting of parent, or inherited by parent\r\n\t\t\t//\t- parent: pointer to identical structure for my parent (or null if no parent)\r\n\t\t\t//\t- scripts: if specified, collects <script type=\"dojo/...\"> type nodes from children\r\n\t\t\tvar inherited = options.inherited;\r\n\t\t\tif(!inherited){\r\n\t\t\t\tfunction findAncestorAttr(node, attr){\r\n\t\t\t\t\treturn (node.getAttribute && node.getAttribute(attr)) ||\r\n\t\t\t\t\t\t(node.parentNode && findAncestorAttr(node.parentNode, attr));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinherited = {\r\n\t\t\t\t\tdir: findAncestorAttr(root, \"dir\"),\r\n\t\t\t\t\tlang: findAncestorAttr(root, \"lang\"),\r\n\t\t\t\t\ttextDir: findAncestorAttr(root, dataDojoTextDir)\r\n\t\t\t\t};\r\n\t\t\t\tfor(var key in inherited){\r\n\t\t\t\t\tif(!inherited[key]){\r\n\t\t\t\t\t\tdelete inherited[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Metadata about parent node\r\n\t\t\tvar parent = {\r\n\t\t\t\tinherited: inherited\r\n\t\t\t};\r\n\r\n\t\t\t// For collecting <script type=\"dojo/...\"> type nodes (when null, we don't need to collect)\r\n\t\t\tvar scripts;\r\n\r\n\t\t\t// when true, only look for <script type=\"dojo/...\"> tags, and don't recurse to children\r\n\t\t\tvar scriptsOnly;\r\n\r\n\t\t\tfunction getEffective(parent){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tGet effective dir, lang, textDir settings for specified obj\r\n\t\t\t\t//\t\t(matching \"parent\" object structure above), and do caching.\r\n\t\t\t\t//\t\tTake care not to return null entries.\r\n\t\t\t\tif(!parent.inherited){\r\n\t\t\t\t\tparent.inherited = {};\r\n\t\t\t\t\tvar node = parent.node,\r\n\t\t\t\t\t\tgrandparent = getEffective(parent.parent);\r\n\t\t\t\t\tvar inherited = {\r\n\t\t\t\t\t\tdir: node.getAttribute(\"dir\") || grandparent.dir,\r\n\t\t\t\t\t\tlang: node.getAttribute(\"lang\") || grandparent.lang,\r\n\t\t\t\t\t\ttextDir: node.getAttribute(dataDojoTextDir) || grandparent.textDir\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfor(var key in inherited){\r\n\t\t\t\t\t\tif(inherited[key]){\r\n\t\t\t\t\t\t\tparent.inherited[key] = inherited[key];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn parent.inherited;\r\n\t\t\t}\r\n\r\n\t\t\t// DFS on DOM tree, collecting nodes with data-dojo-type specified.\r\n\t\t\twhile(true){\r\n\t\t\t\tif(!node){\r\n\t\t\t\t\t// Finished this level, continue to parent's next sibling\r\n\t\t\t\t\tif(!parent || !parent.node){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode = parent.node.nextSibling;\r\n\t\t\t\t\tscriptsOnly = false;\r\n\t\t\t\t\tparent = parent.parent;\r\n\t\t\t\t\tscripts = parent.scripts;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(node.nodeType != 1){\r\n\t\t\t\t\t// Text or comment node, skip to next sibling\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(scripts && node.nodeName.toLowerCase() == \"script\"){\r\n\t\t\t\t\t// Save <script type=\"dojo/...\"> for parent, then continue to next sibling\r\n\t\t\t\t\ttype = node.getAttribute(\"type\");\r\n\t\t\t\t\tif(type && /^dojo\\/\\w/i.test(type)){\r\n\t\t\t\t\t\tscripts.push(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif(scriptsOnly){\r\n\t\t\t\t\t// scriptsOnly flag is set, we have already collected scripts if the parent wants them, so now we shouldn't\r\n\t\t\t\t\t// continue further analysis of the node and will continue to the next sibling\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check for data-dojo-type attribute, fallback to backward compatible dojoType\r\n\t\t\t\t// TODO: Remove dojoType in 2.0\r\n\t\t\t\tvar type = node.getAttribute(dataDojoType) || node.getAttribute(dojoType);\r\n\r\n\t\t\t\t// Short circuit for leaf nodes containing nothing [but text]\r\n\t\t\t\tvar firstChild = node.firstChild;\r\n\t\t\t\tif(!type && (!firstChild || (firstChild.nodeType == 3 && !firstChild.nextSibling))){\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Meta data about current node\r\n\t\t\t\tvar current;\r\n\r\n\t\t\t\tvar ctor = null;\r\n\t\t\t\tif(type){\r\n\t\t\t\t\t// If dojoType/data-dojo-type specified, add to output array of nodes to instantiate.\r\n\t\t\t\t\tvar mixinsValue = node.getAttribute(dataDojoMixins),\r\n\t\t\t\t\t\ttypes = mixinsValue ? [type].concat(mixinsValue.split(/\\s*,\\s*/)) : [type];\r\n\r\n\t\t\t\t\t// Note: won't find classes declared via dojo/Declaration or any modules that haven't been\r\n\t\t\t\t\t// loaded yet so use try/catch to avoid throw from require()\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tctor = getCtor(types, options.contextRequire);\r\n\t\t\t\t\t}catch(e){}\r\n\r\n\t\t\t\t\t// If the constructor was not found, check to see if it has modules that can be loaded\r\n\t\t\t\t\tif(!ctor){\r\n\t\t\t\t\t\tdarray.forEach(types, function(t){\r\n\t\t\t\t\t\t\tif(~t.indexOf('/') && !midsHash[t]){\r\n\t\t\t\t\t\t\t\t// If the type looks like a MID and it currently isn't in the array of MIDs to load, add it.\r\n\t\t\t\t\t\t\t\tmidsHash[t] = true;\r\n\t\t\t\t\t\t\t\tmids[mids.length] = t;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar childScripts = ctor && !ctor.prototype._noScript ? [] : null; // <script> nodes that are parent's children\r\n\r\n\t\t\t\t\t// Setup meta data about this widget node, and save it to list of nodes to instantiate\r\n\t\t\t\t\tcurrent = {\r\n\t\t\t\t\t\ttypes: types,\r\n\t\t\t\t\t\tctor: ctor,\r\n\t\t\t\t\t\tparent: parent,\r\n\t\t\t\t\t\tnode: node,\r\n\t\t\t\t\t\tscripts: childScripts\r\n\t\t\t\t\t};\r\n\t\t\t\t\tcurrent.inherited = getEffective(current); // dir & lang settings for current node, explicit or inherited\r\n\t\t\t\t\tlist.push(current);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Meta data about this non-widget node\r\n\t\t\t\t\tcurrent = {\r\n\t\t\t\t\t\tnode: node,\r\n\t\t\t\t\t\tscripts: scripts,\r\n\t\t\t\t\t\tparent: parent\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Recurse, collecting <script type=\"dojo/...\"> children, and also looking for\r\n\t\t\t\t// descendant nodes with dojoType specified (unless the widget has the stopParser flag).\r\n\t\t\t\t// When finished with children, go to my next sibling.\r\n\t\t\t\tscripts = childScripts;\r\n\t\t\t\tscriptsOnly = node.stopParser || (ctor && ctor.prototype.stopParser && !(options.template));\r\n\t\t\t\tparent = current;\r\n\t\t\t\tnode = firstChild;\r\n\t\t\t}\r\n\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\t// If there are modules to load then require them in\r\n\t\t\tif(mids.length){\r\n\t\t\t\t// Warn that there are modules being auto-required\r\n\t\t\t\tif(has(\"dojo-debug-messages\")){\r\n\t\t\t\t\tconsole.warn(\"WARNING: Modules being Auto-Required: \" + mids.join(\", \"));\r\n\t\t\t\t}\r\n\t\t\t\tvar r = options.contextRequire || require;\r\n\t\t\t\tr(mids, function(){\r\n\t\t\t\t\t// Go through list of widget nodes, filling in missing constructors, and filtering out nodes that shouldn't\r\n\t\t\t\t\t// be instantiated due to a stopParser flag on an ancestor that we belatedly learned about due to\r\n\t\t\t\t\t// auto-require of a module like ContentPane.   Assumes list is in DFS order.\r\n\t\t\t\t\td.resolve(darray.filter(list, function(widget){\r\n\t\t\t\t\t\tif(!widget.ctor){\r\n\t\t\t\t\t\t\t// Attempt to find the constructor again.   Still won't find classes defined via\r\n\t\t\t\t\t\t\t// dijit/Declaration so need to try/catch.\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\twidget.ctor = getCtor(widget.types, options.contextRequire);\r\n\t\t\t\t\t\t\t}catch(e){}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get the parent widget\r\n\t\t\t\t\t\tvar parent = widget.parent;\r\n\t\t\t\t\t\twhile(parent && !parent.types){\r\n\t\t\t\t\t\t\tparent = parent.parent;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Return false if this node should be skipped due to stopParser on an ancestor.\r\n\t\t\t\t\t\t// Since list[] is in DFS order, this loop will always set parent.instantiateChildren before\r\n\t\t\t\t\t\t// trying to compute widget.instantiate.\r\n\t\t\t\t\t\tvar proto = widget.ctor && widget.ctor.prototype;\r\n\t\t\t\t\t\twidget.instantiateChildren = !(proto && proto.stopParser && !(options.template));\r\n\t\t\t\t\t\twidget.instantiate = !parent || (parent.instantiate && parent.instantiateChildren);\r\n\t\t\t\t\t\treturn widget.instantiate;\r\n\t\t\t\t\t}));\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t// There were no modules to load, so just resolve with the parsed nodes.   This separate code path is for\r\n\t\t\t\t// efficiency, to avoid running the require() and the callback code above.\r\n\t\t\t\td.resolve(list);\r\n\t\t\t}\r\n\r\n\t\t\t// Return the promise\r\n\t\t\treturn d.promise;\r\n\t\t},\r\n\r\n\t\t_require: function(/*DOMNode*/ script, /*Object?*/ options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper for _scanAMD().  Takes a `<script type=dojo/require>bar: \"acme/bar\", ...</script>` node,\r\n\t\t\t//\t\tcalls require() to load the specified modules and (asynchronously) assign them to the specified global\r\n\t\t\t//\t\tvariables, and returns a Promise for when that operation completes.\r\n\t\t\t//\r\n\t\t\t//\t\tIn the example above, it is effectively doing a require([\"acme/bar\", ...], function(a){ bar = a; }).\r\n\r\n\t\t\tvar hash = myEval(\"{\" + script.innerHTML + \"}\"), // can't use dojo/json::parse() because maybe no quotes\r\n\t\t\t\tvars = [],\r\n\t\t\t\tmids = [],\r\n\t\t\t\td = new Deferred();\r\n\r\n\t\t\tvar contextRequire = (options && options.contextRequire) || require;\r\n\r\n\t\t\tfor(var name in hash){\r\n\t\t\t\tvars.push(name);\r\n\t\t\t\tmids.push(hash[name]);\r\n\t\t\t}\r\n\r\n\t\t\tcontextRequire(mids, function(){\r\n\t\t\t\tfor(var i = 0; i < vars.length; i++){\r\n\t\t\t\t\tdlang.setObject(vars[i], arguments[i]);\r\n\t\t\t\t}\r\n\t\t\t\td.resolve(arguments);\r\n\t\t\t});\r\n\r\n\t\t\treturn d.promise;\r\n\t\t},\r\n\r\n\t\t_scanAmd: function(root, options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScans the DOM for any declarative requires and returns their values.\r\n\t\t\t// description:\r\n\t\t\t//\t\tLooks for `<script type=dojo/require>bar: \"acme/bar\", ...</script>` node, calls require() to load the\r\n\t\t\t//\t\tspecified modules and (asynchronously) assign them to the specified global variables,\r\n\t\t\t//\t\tand returns a Promise for when those operations complete.\r\n\t\t\t// root: DomNode\r\n\t\t\t//\t\tThe node to base the scan from.\r\n\t\t\t// options: Object?\r\n\t\t\t//\t\ta kwArgs options object, see parse() for details\r\n\r\n\t\t\t// Promise that resolves when all the <script type=dojo/require> nodes have finished loading.\r\n\t\t\tvar deferred = new Deferred(),\r\n\t\t\t\tpromise = deferred.promise;\r\n\t\t\tdeferred.resolve(true);\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tquery(\"script[type='dojo/require']\", root).forEach(function(node){\r\n\t\t\t\t// Fire off require() call for specified modules.  Chain this require to fire after\r\n\t\t\t\t// any previous requires complete, so that layers can be loaded before individual module require()'s fire.\r\n\t\t\t\tpromise = promise.then(function(){\r\n\t\t\t\t\treturn self._require(node, options);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Remove from DOM so it isn't seen again\r\n\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t},\r\n\r\n\t\tparse: function(rootNode, options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScan the DOM for class instances, and instantiate them.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSearch specified node (or root node) recursively for class instances,\r\n\t\t\t//\t\tand instantiate them. Searches for either data-dojo-type=\"Class\" or\r\n\t\t\t//\t\tdojoType=\"Class\" where \"Class\" is a a fully qualified class name,\r\n\t\t\t//\t\tlike `dijit/form/Button`\r\n\t\t\t//\r\n\t\t\t//\t\tUsing `data-dojo-type`:\r\n\t\t\t//\t\tAttributes using can be mixed into the parameters used to instantiate the\r\n\t\t\t//\t\tClass by using a `data-dojo-props` attribute on the node being converted.\r\n\t\t\t//\t\t`data-dojo-props` should be a string attribute to be converted from JSON.\r\n\t\t\t//\r\n\t\t\t//\t\tUsing `dojoType`:\r\n\t\t\t//\t\tAttributes are read from the original domNode and converted to appropriate\r\n\t\t\t//\t\ttypes by looking up the Class prototype values. This is the default behavior\r\n\t\t\t//\t\tfrom Dojo 1.0 to Dojo 1.5. `dojoType` support is deprecated, and will\r\n\t\t\t//\t\tgo away in Dojo 2.0.\r\n\t\t\t// rootNode: DomNode?\r\n\t\t\t//\t\tA default starting root node from which to start the parsing. Can be\r\n\t\t\t//\t\tomitted, defaulting to the entire document. If omitted, the `options`\r\n\t\t\t//\t\tobject can be passed in this place. If the `options` object has a\r\n\t\t\t//\t\t`rootNode` member, that is used.\r\n\t\t\t// options: Object?\r\n\t\t\t//\t\tA hash of options.\r\n\t\t\t//\r\n\t\t\t//\t\t- noStart: Boolean?:\r\n\t\t\t//\t\t\twhen set will prevent the parser from calling .startup()\r\n\t\t\t//\t\t\twhen locating the nodes.\r\n\t\t\t//\t\t- rootNode: DomNode?:\r\n\t\t\t//\t\t\tidentical to the function's `rootNode` argument, though\r\n\t\t\t//\t\t\tallowed to be passed in via this `options object.\r\n\t\t\t//\t\t- template: Boolean:\r\n\t\t\t//\t\t\tIf true, ignores ContentPane's stopParser flag and parses contents inside of\r\n\t\t\t//\t\t\ta ContentPane inside of a template.   This allows dojoAttachPoint on widgets/nodes\r\n\t\t\t//\t\t\tnested inside the ContentPane to work.\r\n\t\t\t//\t\t- inherited: Object:\r\n\t\t\t//\t\t\tHash possibly containing dir and lang settings to be applied to\r\n\t\t\t//\t\t\tparsed widgets, unless there's another setting on a sub-node that overrides\r\n\t\t\t//\t\t- scope: String:\r\n\t\t\t//\t\t\tRoot for attribute names to search for.   If scopeName is dojo,\r\n\t\t\t//\t\t\twill search for data-dojo-type (or dojoType).   For backwards compatibility\r\n\t\t\t//\t\t\treasons defaults to dojo._scopeName (which is \"dojo\" except when\r\n\t\t\t//\t\t\tmulti-version support is used, when it will be something like dojo16, dojo20, etc.)\r\n\t\t\t//\t\t- propsThis: Object:\r\n\t\t\t//\t\t\tIf specified, \"this\" referenced from data-dojo-props will refer to propsThis.\r\n\t\t\t//\t\t\tIntended for use from the widgets-in-template feature of `dijit._WidgetsInTemplateMixin`\r\n\t\t\t//\t\t- contextRequire: Function:\r\n\t\t\t//\t\t\tIf specified, this require is utilised for looking resolving modules instead of the\r\n\t\t\t//\t\t\t`dojo/parser` context `require()`.  Intended for use from the widgets-in-template feature of\r\n\t\t\t//\t\t\t`dijit._WidgetsInTemplateMixin`.\r\n\t\t\t// returns: Mixed\r\n\t\t\t//\t\tReturns a blended object that is an array of the instantiated objects, but also can include\r\n\t\t\t//\t\ta promise that is resolved with the instantiated objects.  This is done for backwards\r\n\t\t\t//\t\tcompatibility.  If the parser auto-requires modules, it will always behave in a promise\r\n\t\t\t//\t\tfashion and `parser.parse().then(function(instances){...})` should be used.\r\n\t\t\t// example:\r\n\t\t\t//\t\tParse all widgets on a page:\r\n\t\t\t//\t|\t\tparser.parse();\r\n\t\t\t// example:\r\n\t\t\t//\t\tParse all classes within the node with id=\"foo\"\r\n\t\t\t//\t|\t\tparser.parse(dojo.byId('foo'));\r\n\t\t\t// example:\r\n\t\t\t//\t\tParse all classes in a page, but do not call .startup() on any\r\n\t\t\t//\t\tchild\r\n\t\t\t//\t|\t\tparser.parse({ noStart: true })\r\n\t\t\t// example:\r\n\t\t\t//\t\tParse all classes in a node, but do not call .startup()\r\n\t\t\t//\t|\t\tparser.parse(someNode, { noStart:true });\r\n\t\t\t//\t|\t\t// or\r\n\t\t\t//\t|\t\tparser.parse({ noStart:true, rootNode: someNode });\r\n\r\n\t\t\t// determine the root node and options based on the passed arguments.\r\n\t\t\tvar root;\r\n\t\t\tif(!options && rootNode && rootNode.rootNode){\r\n\t\t\t\toptions = rootNode;\r\n\t\t\t\troot = options.rootNode;\r\n\t\t\t}else if(rootNode && dlang.isObject(rootNode) && !(\"nodeType\" in rootNode)){\r\n\t\t\t\toptions = rootNode;\r\n\t\t\t}else{\r\n\t\t\t\troot = rootNode;\r\n\t\t\t}\r\n\t\t\troot = root ? dom.byId(root) : dwindow.body();\r\n\r\n\t\t\toptions = options || {};\r\n\r\n\t\t\tvar mixin = options.template ? { template: true } : {},\r\n\t\t\t\tinstances = [],\r\n\t\t\t\tself = this;\r\n\r\n\t\t\t// First scan for any <script type=dojo/require> nodes, and execute.\r\n\t\t\t// Then scan for all nodes with data-dojo-type, and load any unloaded modules.\r\n\t\t\t// Then build the object instances.  Add instances to already existing (but empty) instances[] array,\r\n\t\t\t// which may already have been returned to caller.  Also, use otherwise to collect and throw any errors\r\n\t\t\t// that occur during the parse().\r\n\t\t\tvar p =\r\n\t\t\t\tthis._scanAmd(root, options).then(function(){\r\n\t\t\t\t\treturn self.scan(root, options);\r\n\t\t\t\t}).then(function(parsedNodes){\r\n\t\t\t\t\treturn self._instantiate(parsedNodes, mixin, options, true);\r\n\t\t\t\t}).then(function(_instances){\r\n\t\t\t\t\t// Copy the instances into the instances[] array we declared above, and are accessing as\r\n\t\t\t\t\t// our return value.\r\n\t\t\t\t\treturn instances = instances.concat(_instances);\r\n\t\t\t\t}).otherwise(function(e){\r\n\t\t\t\t\t// TODO Modify to follow better pattern for promise error management when available\r\n\t\t\t\t\tconsole.error(\"dojo/parser::parse() error\", e);\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t});\r\n\r\n\t\t\t// Blend the array with the promise\r\n\t\t\tdlang.mixin(instances, p);\r\n\t\t\treturn instances;\r\n\t\t}\r\n\t};\r\n\r\n\tif(has(\"extend-dojo\")){\r\n\t\tdojo.parser = parser;\r\n\t}\r\n\r\n\t// Register the parser callback. It should be the first callback\r\n\t// after the a11y test.\r\n\tif(config.parseOnLoad){\r\n\t\tready(100, parser, \"parse\");\r\n\t}\r\n\r\n\treturn parser;\r\n});\r\n\ndefine('dijit/Destroyable',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\"\r\n], function(array, aspect, declare){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Destroyable\r\n\r\n\treturn declare(\"dijit.Destroyable\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin to track handles and release them when instance is destroyed.\r\n\t\t// description:\r\n\t\t//\t\tCall this.own(...) on list of handles (returned from dojo/aspect, dojo/on,\r\n\t\t//\t\tdojo/Stateful::watch, or any class (including widgets) with a destroyRecursive() or destroy() method.\r\n\t\t//\t\tThen call destroy() later to destroy this instance and release the resources.\r\n\r\n\t\tdestroy: function(/*Boolean*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroy this class, releasing any resources registered via own().\r\n\t\t\tthis._destroyed = true;\r\n\t\t},\r\n\r\n\t\town: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTrack specified handles and remove/destroy them when this instance is destroyed, unless they were\r\n\t\t\t//\t\talready removed/destroyed manually.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe array of specified handles, so you can do for example:\r\n\t\t\t//\t|\t\tvar handle = this.own(on(...))[0];\r\n\r\n\t\t\tvar cleanupMethods = [\r\n\t\t\t\t\"destroyRecursive\",\r\n\t\t\t\t\"destroy\",\r\n\t\t\t\t\"remove\"\r\n\t\t\t];\r\n\r\n\t\t\tarray.forEach(arguments, function(handle){\r\n\t\t\t\t// When this.destroy() is called, destroy handle.  Since I'm using aspect.before(),\r\n\t\t\t\t// the handle will be destroyed before a subclass's destroy() method starts running, before it calls\r\n\t\t\t\t// this.inherited() or even if it doesn't call this.inherited() at all.  If that's an issue, make an\r\n\t\t\t\t// onDestroy() method and connect to that instead.\r\n\t\t\t\tvar destroyMethodName;\r\n\t\t\t\tvar odh = aspect.before(this, \"destroy\", function (preserveDom){\r\n\t\t\t\t\thandle[destroyMethodName](preserveDom);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Callback for when handle is manually destroyed.\r\n\t\t\t\tvar hdhs = [];\r\n\t\t\t\tfunction onManualDestroy(){\r\n\t\t\t\t\todh.remove();\r\n\t\t\t\t\tarray.forEach(hdhs, function(hdh){\r\n\t\t\t\t\t\thdh.remove();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Setup listeners for manual destroy of handle.\r\n\t\t\t\t// Also computes destroyMethodName, used in listener above.\r\n\t\t\t\tif(handle.then){\r\n\t\t\t\t\t// Special path for Promises.  Detect when Promise is resolved, rejected, or\r\n\t\t\t\t\t// canceled (nb: cancelling a Promise causes it to be rejected).\r\n\t\t\t\t\tdestroyMethodName = \"cancel\";\r\n\t\t\t\t\thandle.then(onManualDestroy, onManualDestroy);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Path for other handles.  Just use AOP to detect when handle is manually destroyed.\r\n\t\t\t\t\tarray.forEach(cleanupMethods, function(cleanupMethod){\r\n\t\t\t\t\t\tif(typeof handle[cleanupMethod] === \"function\"){\r\n\t\t\t\t\t\t\tif(!destroyMethodName){\r\n\t\t\t\t\t\t\t\t// Use first matching method name in above listener (prefer destroyRecursive() to destroy())\r\n\t\t\t\t\t\t\t\tdestroyMethodName = cleanupMethod;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thdhs.push(aspect.after(handle, cleanupMethod, onManualDestroy, true));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\treturn arguments;\t\t// handle\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_WidgetBase',[\r\n\t\"require\", // require.toUrl\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/config\", // config.blankGif\r\n\t\"dojo/_base/connect\", // connect.connect\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/dom-attr\", // domAttr.set domAttr.remove\r\n\t\"dojo/dom-class\", // domClass.add domClass.replace\r\n\t\"dojo/dom-construct\", // domConstruct.destroy domConstruct.place\r\n\t\"dojo/dom-geometry\", // isBodyLtr\r\n\t\"dojo/dom-style\", // domStyle.set, domStyle.get\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/lang\", // mixin(), isArray(), etc.\r\n\t\"dojo/on\",\r\n\t\"dojo/ready\",\r\n\t\"dojo/Stateful\", // Stateful\r\n\t\"dojo/topic\",\r\n\t\"dojo/_base/window\", // win.body()\r\n\t\"./Destroyable\",\r\n\t\"dojo/has!dojo-bidi?./_BidiMixin\",\r\n\t\"./registry\"    // registry.getUniqueId(), registry.findWidgets()\r\n], function(require, array, aspect, config, connect, declare,\r\n\t\t\tdom, domAttr, domClass, domConstruct, domGeometry, domStyle, has, kernel,\r\n\t\t\tlang, on, ready, Stateful, topic, win, Destroyable, _BidiMixin, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_WidgetBase\r\n\r\n\t// Flag to make dijit load modules the app didn't explicitly request, for backwards compatibility\r\n\thas.add(\"dijit-legacy-requires\", !kernel.isAsync);\r\n\r\n\t// Flag to enable support for textdir attribute\r\n\thas.add(\"dojo-bidi\", false);\r\n\r\n\r\n\t// For back-compat, remove in 2.0.\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/_base/manager\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\t// Nested hash listing attributes for each tag, all strings in lowercase.\r\n\t// ex: {\"div\": {\"style\": true, \"tabindex\" true}, \"form\": { ...\r\n\tvar tagAttrs = {};\r\n\r\n\tfunction getAttrs(obj){\r\n\t\tvar ret = {};\r\n\t\tfor(var attr in obj){\r\n\t\t\tret[attr.toLowerCase()] = true;\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tfunction nonEmptyAttrToDom(attr){\r\n\t\t// summary:\r\n\t\t//\t\tReturns a setter function that copies the attribute to this.domNode,\r\n\t\t//\t\tor removes the attribute from this.domNode, depending on whether the\r\n\t\t//\t\tvalue is defined or not.\r\n\t\treturn function(val){\r\n\t\t\tdomAttr[val ? \"set\" : \"remove\"](this.domNode, attr, val);\r\n\t\t\tthis._set(attr, val);\r\n\t\t};\r\n\t}\r\n\r\n\tfunction isEqual(a, b){\r\n\t\t//\tsummary:\r\n\t\t//\t\tFunction that determines whether two values are identical,\r\n\t\t//\t\ttaking into account that NaN is not normally equal to itself\r\n\t\t//\t\tin JS.\r\n\r\n\t\treturn a === b || (/* a is NaN */ a !== a && /* b is NaN */ b !== b);\r\n\t}\r\n\r\n\tvar _WidgetBase = declare(\"dijit._WidgetBase\", [Stateful, Destroyable], {\r\n\t\t// summary:\r\n\t\t//\t\tFuture base class for all Dijit widgets.\r\n\t\t// description:\r\n\t\t//\t\tFuture base class for all Dijit widgets.\r\n\t\t//\t\t_Widget extends this class adding support for various features needed by desktop.\r\n\t\t//\r\n\t\t//\t\tProvides stubs for widget lifecycle methods for subclasses to extend, like postMixInProperties(), buildRendering(),\r\n\t\t//\t\tpostCreate(), startup(), and destroy(), and also public API methods like set(), get(), and watch().\r\n\t\t//\r\n\t\t//\t\tWidgets can provide custom setters/getters for widget attributes, which are called automatically by set(name, value).\r\n\t\t//\t\tFor an attribute XXX, define methods _setXXXAttr() and/or _getXXXAttr().\r\n\t\t//\r\n\t\t//\t\t_setXXXAttr can also be a string/hash/array mapping from a widget attribute XXX to the widget's DOMNodes:\r\n\t\t//\r\n\t\t//\t\t- DOM node attribute\r\n\t\t// |\t\t_setFocusAttr: {node: \"focusNode\", type: \"attribute\"}\r\n\t\t// |\t\t_setFocusAttr: \"focusNode\"\t(shorthand)\r\n\t\t// |\t\t_setFocusAttr: \"\"\t\t(shorthand, maps to this.domNode)\r\n\t\t//\t\tMaps this.focus to this.focusNode.focus, or (last example) this.domNode.focus\r\n\t\t//\r\n\t\t//\t\t- DOM node innerHTML\r\n\t\t//\t|\t\t_setTitleAttr: { node: \"titleNode\", type: \"innerHTML\" }\r\n\t\t//\t\tMaps this.title to this.titleNode.innerHTML\r\n\t\t//\r\n\t\t//\t\t- DOM node innerText\r\n\t\t//\t|\t\t_setTitleAttr: { node: \"titleNode\", type: \"innerText\" }\r\n\t\t//\t\tMaps this.title to this.titleNode.innerText\r\n\t\t//\r\n\t\t//\t\t- DOM node CSS class\r\n\t\t// |\t\t_setMyClassAttr: { node: \"domNode\", type: \"class\" }\r\n\t\t//\t\tMaps this.myClass to this.domNode.className\r\n\t\t//\r\n\t\t//\t\tIf the value of _setXXXAttr is an array, then each element in the array matches one of the\r\n\t\t//\t\tformats of the above list.\r\n\t\t//\r\n\t\t//\t\tIf the custom setter is null, no action is performed other than saving the new value\r\n\t\t//\t\tin the widget (in this).\r\n\t\t//\r\n\t\t//\t\tIf no custom setter is defined for an attribute, then it will be copied\r\n\t\t//\t\tto this.focusNode (if the widget defines a focusNode), or this.domNode otherwise.\r\n\t\t//\t\tThat's only done though for attributes that match DOMNode attributes (title,\r\n\t\t//\t\talt, aria-labelledby, etc.)\r\n\r\n\t\t// id: [const] String\r\n\t\t//\t\tA unique, opaque ID string that can be assigned by users or by the\r\n\t\t//\t\tsystem. If the developer passes an ID which is known not to be\r\n\t\t//\t\tunique, the specified ID is ignored and the system-generated ID is\r\n\t\t//\t\tused instead.\r\n\t\tid: \"\",\r\n\t\t_setIdAttr: \"domNode\", // to copy to this.domNode even for auto-generated id's\r\n\r\n\t\t// lang: [const] String\r\n\t\t//\t\tRarely used.  Overrides the default Dojo locale used to render this widget,\r\n\t\t//\t\tas defined by the [HTML LANG](http://www.w3.org/TR/html401/struct/dirlang.html#adef-lang) attribute.\r\n\t\t//\t\tValue must be among the list of locales specified during by the Dojo bootstrap,\r\n\t\t//\t\tformatted according to [RFC 3066](http://www.ietf.org/rfc/rfc3066.txt) (like en-us).\r\n\t\tlang: \"\",\r\n\t\t// set on domNode even when there's a focus node.\tbut don't set lang=\"\", since that's invalid.\r\n\t\t_setLangAttr: nonEmptyAttrToDom(\"lang\"),\r\n\r\n\t\t// dir: [const] String\r\n\t\t//\t\tBi-directional support, as defined by the [HTML DIR](http://www.w3.org/TR/html401/struct/dirlang.html#adef-dir)\r\n\t\t//\t\tattribute. Either left-to-right \"ltr\" or right-to-left \"rtl\".  If undefined, widgets renders in page's\r\n\t\t//\t\tdefault direction.\r\n\t\tdir: \"\",\r\n\t\t// set on domNode even when there's a focus node.\tbut don't set dir=\"\", since that's invalid.\r\n\t\t_setDirAttr: nonEmptyAttrToDom(\"dir\"), // to set on domNode even when there's a focus node\r\n\r\n\t\t// class: String\r\n\t\t//\t\tHTML class attribute\r\n\t\t\"class\": \"\",\r\n\t\t_setClassAttr: { node: \"domNode\", type: \"class\" },\r\n\r\n\t\t// Override automatic assigning type --> focusNode, it causes exception on IE6-8.\r\n\t\t// Instead, type must be specified as ${type} in the template, as part of the original DOM.\r\n\t\t_setTypeAttr: null,\r\n\r\n\t\t// style: String||Object\r\n\t\t//\t\tHTML style attributes as cssText string or name/value hash\r\n\t\tstyle: \"\",\r\n\r\n\t\t// title: String\r\n\t\t//\t\tHTML title attribute.\r\n\t\t//\r\n\t\t//\t\tFor form widgets this specifies a tooltip to display when hovering over\r\n\t\t//\t\tthe widget (just like the native HTML title attribute).\r\n\t\t//\r\n\t\t//\t\tFor TitlePane or for when this widget is a child of a TabContainer, AccordionContainer,\r\n\t\t//\t\tetc., it's used to specify the tab label, accordion pane title, etc.  In this case it's\r\n\t\t//\t\tinterpreted as HTML.\r\n\t\ttitle: \"\",\r\n\r\n\t\t// tooltip: String\r\n\t\t//\t\tWhen this widget's title attribute is used to for a tab label, accordion pane title, etc.,\r\n\t\t//\t\tthis specifies the tooltip to appear when the mouse is hovered over that text.\r\n\t\ttooltip: \"\",\r\n\r\n\t\t// baseClass: [protected] String\r\n\t\t//\t\tRoot CSS class of the widget (ex: dijitTextBox), used to construct CSS classes to indicate\r\n\t\t//\t\twidget state.\r\n\t\tbaseClass: \"\",\r\n\r\n\t\t// srcNodeRef: [readonly] DomNode\r\n\t\t//\t\tpointer to original DOM node\r\n\t\tsrcNodeRef: null,\r\n\r\n\t\t// domNode: [readonly] DomNode\r\n\t\t//\t\tThis is our visible representation of the widget! Other DOM\r\n\t\t//\t\tNodes may by assigned to other properties, usually through the\r\n\t\t//\t\ttemplate system's data-dojo-attach-point syntax, but the domNode\r\n\t\t//\t\tproperty is the canonical \"top level\" node in widget UI.\r\n\t\tdomNode: null,\r\n\r\n\t\t// containerNode: [readonly] DomNode\r\n\t\t//\t\tDesignates where children of the source DOM node will be placed.\r\n\t\t//\t\t\"Children\" in this case refers to both DOM nodes and widgets.\r\n\t\t//\t\tFor example, for myWidget:\r\n\t\t//\r\n\t\t//\t\t|\t<div data-dojo-type=myWidget>\r\n\t\t//\t\t|\t\t<b> here's a plain DOM node\r\n\t\t//\t\t|\t\t<span data-dojo-type=subWidget>and a widget</span>\r\n\t\t//\t\t|\t\t<i> and another plain DOM node </i>\r\n\t\t//\t\t|\t</div>\r\n\t\t//\r\n\t\t//\t\tcontainerNode would point to:\r\n\t\t//\r\n\t\t//\t\t|\t\t<b> here's a plain DOM node\r\n\t\t//\t\t|\t\t<span data-dojo-type=subWidget>and a widget</span>\r\n\t\t//\t\t|\t\t<i> and another plain DOM node </i>\r\n\t\t//\r\n\t\t//\t\tIn templated widgets, \"containerNode\" is set via a\r\n\t\t//\t\tdata-dojo-attach-point assignment.\r\n\t\t//\r\n\t\t//\t\tcontainerNode must be defined for any widget that accepts innerHTML\r\n\t\t//\t\t(like ContentPane or BorderContainer or even Button), and conversely\r\n\t\t//\t\tis null for widgets that don't, like TextBox.\r\n\t\tcontainerNode: null,\r\n\r\n\t\t// ownerDocument: [const] Document?\r\n\t\t//\t\tThe document this widget belongs to.  If not specified to constructor, will default to\r\n\t\t//\t\tsrcNodeRef.ownerDocument, or if no sourceRef specified, then to the document global\r\n\t\townerDocument: null,\r\n\t\t_setOwnerDocumentAttr: function(val){\r\n\t\t\t// this setter is merely to avoid automatically trying to set this.domNode.ownerDocument\r\n\t\t\tthis._set(\"ownerDocument\", val);\r\n\t\t},\r\n\r\n\t\t/*=====\r\n\t\t// _started: [readonly] Boolean\r\n\t\t//\t\tstartup() has completed.\r\n\t\t_started: false,\r\n\t\t=====*/\r\n\r\n\t\t// attributeMap: [protected] Object\r\n\t\t//\t\tDeprecated.\tInstead of attributeMap, widget should have a _setXXXAttr attribute\r\n\t\t//\t\tfor each XXX attribute to be mapped to the DOM.\r\n\t\t//\r\n\t\t//\t\tattributeMap sets up a \"binding\" between attributes (aka properties)\r\n\t\t//\t\tof the widget and the widget's DOM.\r\n\t\t//\t\tChanges to widget attributes listed in attributeMap will be\r\n\t\t//\t\treflected into the DOM.\r\n\t\t//\r\n\t\t//\t\tFor example, calling set('title', 'hello')\r\n\t\t//\t\ton a TitlePane will automatically cause the TitlePane's DOM to update\r\n\t\t//\t\twith the new title.\r\n\t\t//\r\n\t\t//\t\tattributeMap is a hash where the key is an attribute of the widget,\r\n\t\t//\t\tand the value reflects a binding to a:\r\n\t\t//\r\n\t\t//\t\t- DOM node attribute\r\n\t\t// |\t\tfocus: {node: \"focusNode\", type: \"attribute\"}\r\n\t\t//\t\tMaps this.focus to this.focusNode.focus\r\n\t\t//\r\n\t\t//\t\t- DOM node innerHTML\r\n\t\t//\t|\t\ttitle: { node: \"titleNode\", type: \"innerHTML\" }\r\n\t\t//\t\tMaps this.title to this.titleNode.innerHTML\r\n\t\t//\r\n\t\t//\t\t- DOM node innerText\r\n\t\t//\t|\t\ttitle: { node: \"titleNode\", type: \"innerText\" }\r\n\t\t//\t\tMaps this.title to this.titleNode.innerText\r\n\t\t//\r\n\t\t//\t\t- DOM node CSS class\r\n\t\t// |\t\tmyClass: { node: \"domNode\", type: \"class\" }\r\n\t\t//\t\tMaps this.myClass to this.domNode.className\r\n\t\t//\r\n\t\t//\t\tIf the value is an array, then each element in the array matches one of the\r\n\t\t//\t\tformats of the above list.\r\n\t\t//\r\n\t\t//\t\tThere are also some shorthands for backwards compatibility:\r\n\t\t//\r\n\t\t//\t\t- string --> { node: string, type: \"attribute\" }, for example:\r\n\t\t//\r\n\t\t//\t|\t\"focusNode\" ---> { node: \"focusNode\", type: \"attribute\" }\r\n\t\t//\r\n\t\t//\t\t- \"\" --> { node: \"domNode\", type: \"attribute\" }\r\n\t\tattributeMap: {},\r\n\r\n\t\t// _blankGif: [protected] String\r\n\t\t//\t\tPath to a blank 1x1 image.\r\n\t\t//\t\tUsed by `<img>` nodes in templates that really get their image via CSS background-image.\r\n\t\t_blankGif: config.blankGif || require.toUrl(\"dojo/resources/blank.gif\"),\r\n\r\n\t\t//////////// INITIALIZATION METHODS ///////////////////////////////////////\r\n\r\n\t\t/*=====\r\n\t\tconstructor: function(params, srcNodeRef){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified:\r\n\t\t\t//\r\n\t\t\t//\t\t- use srcNodeRef.innerHTML as my contents\r\n\t\t\t//\t\t- if this is a behavioral widget then apply behavior to that srcNodeRef\r\n\t\t\t//\t\t- otherwise, replace srcNodeRef with my generated DOM tree\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\t_introspect: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCollect metadata about this widget (only once per class, not once per instance):\r\n\t\t\t//\r\n\t\t\t//\t\t\t- list of attributes with custom setters, storing in this.constructor._setterAttrs\r\n\t\t\t//\t\t\t- generate this.constructor._onMap, mapping names like \"mousedown\" to functions like onMouseDown\r\n\r\n\t\t\tvar ctor = this.constructor;\r\n\t\t\tif(!ctor._setterAttrs){\r\n\t\t\t\tvar proto = ctor.prototype,\r\n\t\t\t\t\tattrs = ctor._setterAttrs = [], // attributes with custom setters\r\n\t\t\t\t\tonMap = (ctor._onMap = {});\r\n\r\n\t\t\t\t// Items in this.attributeMap are like custom setters.  For back-compat, remove for 2.0.\r\n\t\t\t\tfor(var name in proto.attributeMap){\r\n\t\t\t\t\tattrs.push(name);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Loop over widget properties, collecting properties with custom setters and filling in ctor._onMap.\r\n\t\t\t\tfor(name in proto){\r\n\t\t\t\t\tif(/^on/.test(name)){\r\n\t\t\t\t\t\tonMap[name.substring(2).toLowerCase()] = name;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(/^_set[A-Z](.*)Attr$/.test(name)){\r\n\t\t\t\t\t\tname = name.charAt(4).toLowerCase() + name.substr(5, name.length - 9);\r\n\t\t\t\t\t\tif(!proto.attributeMap || !(name in proto.attributeMap)){\r\n\t\t\t\t\t\t\tattrs.push(name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Note: this isn't picking up info on properties like aria-label and role, that don't have custom setters\r\n\t\t\t\t// but that set() maps to attributes on this.domNode or this.focusNode\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostscript: function(/*Object?*/params, /*DomNode|String*/srcNodeRef){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tKicks off widget instantiation.  See create() for details.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Note that we skip calling this.inherited(), i.e. dojo/Stateful::postscript(), because 1.x widgets don't\r\n\t\t\t// expect their custom setters to get called until after buildRendering().  Consider changing for 2.0.\r\n\r\n\t\t\tthis.create(params, srcNodeRef);\r\n\t\t},\r\n\r\n\t\tcreate: function(params, srcNodeRef){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tKick off the life-cycle of a widget\r\n\t\t\t// description:\r\n\t\t\t//\t\tCreate calls a number of widget methods (postMixInProperties, buildRendering, postCreate,\r\n\t\t\t//\t\tetc.), some of which of you'll want to override. See http://dojotoolkit.org/reference-guide/dijit/_WidgetBase.html\r\n\t\t\t//\t\tfor a discussion of the widget creation lifecycle.\r\n\t\t\t//\r\n\t\t\t//\t\tOf course, adventurous developers could override create entirely, but this should\r\n\t\t\t//\t\tonly be done as a last resort.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified:\r\n\t\t\t//\r\n\t\t\t//\t\t- use srcNodeRef.innerHTML as my contents\r\n\t\t\t//\t\t- if this is a behavioral widget then apply behavior to that srcNodeRef\r\n\t\t\t//\t\t- otherwise, replace srcNodeRef with my generated DOM tree\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// First time widget is instantiated, scan prototype to figure out info about custom setters etc.\r\n\t\t\tthis._introspect();\r\n\r\n\t\t\t// store pointer to original DOM tree\r\n\t\t\tthis.srcNodeRef = dom.byId(srcNodeRef);\r\n\r\n\t\t\t// No longer used, remove for 2.0.\r\n\t\t\tthis._connects = [];\r\n\t\t\tthis._supportingWidgets = [];\r\n\r\n\t\t\t// this is here for back-compat, remove in 2.0 (but check NodeList-instantiate.html test)\r\n\t\t\tif(this.srcNodeRef && (typeof this.srcNodeRef.id == \"string\")){\r\n\t\t\t\tthis.id = this.srcNodeRef.id;\r\n\t\t\t}\r\n\r\n\t\t\t// mix in our passed parameters\r\n\t\t\tif(params){\r\n\t\t\t\tthis.params = params;\r\n\t\t\t\tlang.mixin(this, params);\r\n\t\t\t}\r\n\t\t\tthis.postMixInProperties();\r\n\r\n\t\t\t// Generate an id for the widget if one wasn't specified, or it was specified as id: undefined.\r\n\t\t\t// Do this before buildRendering() because it might expect the id to be there.\r\n\t\t\tif(!this.id){\r\n\t\t\t\tthis.id = registry.getUniqueId(this.declaredClass.replace(/\\./g, \"_\"));\r\n\t\t\t\tif(this.params){\r\n\t\t\t\t\t// if params contains {id: undefined}, prevent _applyAttributes() from processing it\r\n\t\t\t\t\tdelete this.params.id;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// The document and <body> node this widget is associated with\r\n\t\t\tthis.ownerDocument = this.ownerDocument || (this.srcNodeRef ? this.srcNodeRef.ownerDocument : document);\r\n\t\t\tthis.ownerDocumentBody = win.body(this.ownerDocument);\r\n\r\n\t\t\tregistry.add(this);\r\n\r\n\t\t\tthis.buildRendering();\r\n\r\n\t\t\tvar deleteSrcNodeRef;\r\n\r\n\t\t\tif(this.domNode){\r\n\t\t\t\t// Copy attributes listed in attributeMap into the [newly created] DOM for the widget.\r\n\t\t\t\t// Also calls custom setters for all attributes with custom setters.\r\n\t\t\t\tthis._applyAttributes();\r\n\r\n\t\t\t\t// If srcNodeRef was specified, then swap out original srcNode for this widget's DOM tree.\r\n\t\t\t\t// For 2.0, move this after postCreate().  postCreate() shouldn't depend on the\r\n\t\t\t\t// widget being attached to the DOM since it isn't when a widget is created programmatically like\r\n\t\t\t\t// new MyWidget({}).\tSee #11635.\r\n\t\t\t\tvar source = this.srcNodeRef;\r\n\t\t\t\tif(source && source.parentNode && this.domNode !== source){\r\n\t\t\t\t\tsource.parentNode.replaceChild(this.domNode, source);\r\n\t\t\t\t\tdeleteSrcNodeRef = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Note: for 2.0 may want to rename widgetId to dojo._scopeName + \"_widgetId\",\r\n\t\t\t\t// assuming that dojo._scopeName even exists in 2.0\r\n\t\t\t\tthis.domNode.setAttribute(\"widgetId\", this.id);\r\n\t\t\t}\r\n\t\t\tthis.postCreate();\r\n\r\n\t\t\t// If srcNodeRef has been processed and removed from the DOM (e.g. TemplatedWidget) then delete it to allow GC.\r\n\t\t\t// I think for back-compatibility it isn't deleting srcNodeRef until after postCreate() has run.\r\n\t\t\tif(deleteSrcNodeRef){\r\n\t\t\t\tdelete this.srcNodeRef;\r\n\t\t\t}\r\n\r\n\t\t\tthis._created = true;\r\n\t\t},\r\n\r\n\t\t_applyAttributes: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStep during widget creation to copy  widget attributes to the\r\n\t\t\t//\t\tDOM according to attributeMap and _setXXXAttr objects, and also to call\r\n\t\t\t//\t\tcustom _setXXXAttr() methods.\r\n\t\t\t//\r\n\t\t\t//\t\tSkips over blank/false attribute values, unless they were explicitly specified\r\n\t\t\t//\t\tas parameters to the widget, since those are the default anyway,\r\n\t\t\t//\t\tand setting tabIndex=\"\" is different than not setting tabIndex at all.\r\n\t\t\t//\r\n\t\t\t//\t\tFor backwards-compatibility reasons attributeMap overrides _setXXXAttr when\r\n\t\t\t//\t\t_setXXXAttr is a hash/string/array, but _setXXXAttr as a functions override attributeMap.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Call this.set() for each property that was either specified as parameter to constructor,\r\n\t\t\t// or is in the list found above.\tFor correlated properties like value and displayedValue, the one\r\n\t\t\t// specified as a parameter should take precedence.\r\n\t\t\t// Particularly important for new DateTextBox({displayedValue: ...}) since DateTextBox's default value is\r\n\t\t\t// NaN and thus is not ignored like a default value of \"\".\r\n\r\n\t\t\t// Step 1: Save the current values of the widget properties that were specified as parameters to the constructor.\r\n\t\t\t// Generally this.foo == this.params.foo, except if postMixInProperties() changed the value of this.foo.\r\n\t\t\tvar params = {};\r\n\t\t\tfor(var key in this.params || {}){\r\n\t\t\t\tparams[key] = this._get(key);\r\n\t\t\t}\r\n\r\n\t\t\t// Step 2: Call set() for each property with a non-falsy value that wasn't passed as a parameter to the constructor\r\n\t\t\tarray.forEach(this.constructor._setterAttrs, function(key){\r\n\t\t\t\tif(!(key in params)){\r\n\t\t\t\t\tvar val = this._get(key);\r\n\t\t\t\t\tif(val){\r\n\t\t\t\t\t\tthis.set(key, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\t// Step 3: Call set() for each property that was specified as parameter to constructor.\r\n\t\t\t// Use params hash created above to ignore side effects from step #2 above.\r\n\t\t\tfor(key in params){\r\n\t\t\t\tthis.set(key, params[key]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled after the parameters to the widget have been read-in,\r\n\t\t\t//\t\tbut before the widget template is instantiated. Especially\r\n\t\t\t//\t\tuseful to set properties that are referenced in the widget\r\n\t\t\t//\t\ttemplate.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConstruct the UI for this widget, setting this.domNode.\r\n\t\t\t//\t\tMost widgets will mixin `dijit._TemplatedMixin`, which implements this method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!this.domNode){\r\n\t\t\t\t// Create root node if it wasn't created by _TemplatedMixin\r\n\t\t\t\tthis.domNode = this.srcNodeRef || this.ownerDocument.createElement(\"div\");\r\n\t\t\t}\r\n\r\n\t\t\t// baseClass is a single class name or occasionally a space-separated list of names.\r\n\t\t\t// Add those classes to the DOMNode.  If RTL mode then also add with Rtl suffix.\r\n\t\t\t// TODO: make baseClass custom setter\r\n\t\t\tif(this.baseClass){\r\n\t\t\t\tvar classes = this.baseClass.split(\" \");\r\n\t\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\t\tclasses = classes.concat(array.map(classes, function(name){\r\n\t\t\t\t\t\treturn name + \"Rtl\";\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tdomClass.add(this.domNode, classes);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcessing after the DOM fragment is created\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalled after the DOM fragment has been created, but not necessarily\r\n\t\t\t//\t\tadded to the document.  Do not include any operations which rely on\r\n\t\t\t//\t\tnode dimensions or placement.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcessing after the DOM fragment is added to the document\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalled after a widget and its children have been created and added to the page,\r\n\t\t\t//\t\tand all related widgets have finished their create() cycle, up through postCreate().\r\n\t\t\t//\r\n\t\t\t//\t\tNote that startup() may be called while the widget is still hidden, for example if the widget is\r\n\t\t\t//\t\tinside a hidden dijit/Dialog or an unselected tab of a dijit/layout/TabContainer.\r\n\t\t\t//\t\tFor widgets that need to do layout, it's best to put that layout code inside resize(), and then\r\n\t\t\t//\t\textend dijit/layout/_LayoutWidget so that resize() is called when the widget is visible.\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._started = true;\r\n\t\t\tarray.forEach(this.getChildren(), function(obj){\r\n\t\t\t\tif(!obj._started && !obj._destroyed && lang.isFunction(obj.startup)){\r\n\t\t\t\t\tobj.startup();\r\n\t\t\t\t\tobj._started = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//////////// DESTROY FUNCTIONS ////////////////////////////////\r\n\r\n\t\tdestroyRecursive: function(/*Boolean?*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroy this widget and its descendants\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis is the generic \"destructor\" function that all widget users\r\n\t\t\t//\t\tshould call to cleanly discard with a widget. Once a widget is\r\n\t\t\t//\t\tdestroyed, it is removed from the manager object.\r\n\t\t\t// preserveDom:\r\n\t\t\t//\t\tIf true, this method will leave the original DOM structure\r\n\t\t\t//\t\talone of descendant Widgets. Note: This will NOT work with\r\n\t\t\t//\t\tdijit._TemplatedMixin widgets.\r\n\r\n\t\t\tthis._beingDestroyed = true;\r\n\t\t\tthis.destroyDescendants(preserveDom);\r\n\t\t\tthis.destroy(preserveDom);\r\n\t\t},\r\n\r\n\t\tdestroy: function(/*Boolean*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroy this widget, but not its descendants.  Descendants means widgets inside of\r\n\t\t\t//\t\tthis.containerNode.   Will also destroy any resources (including widgets) registered via this.own().\r\n\t\t\t//\r\n\t\t\t//\t\tThis method will also destroy internal widgets such as those created from a template,\r\n\t\t\t//\t\tassuming those widgets exist inside of this.domNode but outside of this.containerNode.\r\n\t\t\t//\r\n\t\t\t//\t\tFor 2.0 it's planned that this method will also destroy descendant widgets, so apps should not\r\n\t\t\t//\t\tdepend on the current ability to destroy a widget without destroying its descendants.   Generally\r\n\t\t\t//\t\tthey should use destroyRecursive() for widgets with children.\r\n\t\t\t// preserveDom: Boolean\r\n\t\t\t//\t\tIf true, this method will leave the original DOM structure alone.\r\n\t\t\t//\t\tNote: This will not yet work with _TemplatedMixin widgets\r\n\r\n\t\t\tthis._beingDestroyed = true;\r\n\t\t\tthis.uninitialize();\r\n\r\n\t\t\tfunction destroy(w){\r\n\t\t\t\tif(w.destroyRecursive){\r\n\t\t\t\t\tw.destroyRecursive(preserveDom);\r\n\t\t\t\t}else if(w.destroy){\r\n\t\t\t\t\tw.destroy(preserveDom);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Back-compat, remove for 2.0\r\n\t\t\tarray.forEach(this._connects, lang.hitch(this, \"disconnect\"));\r\n\t\t\tarray.forEach(this._supportingWidgets, destroy);\r\n\r\n\t\t\t// Destroy supporting widgets, but not child widgets under this.containerNode (for 2.0, destroy child widgets\r\n\t\t\t// here too).   if() statement is to guard against exception if destroy() called multiple times (see #15815).\r\n\t\t\tif(this.domNode){\r\n\t\t\t\tarray.forEach(registry.findWidgets(this.domNode, this.containerNode), destroy);\r\n\t\t\t}\r\n\r\n\t\t\tthis.destroyRendering(preserveDom);\r\n\t\t\tregistry.remove(this.id);\r\n\t\t\tthis._destroyed = true;\r\n\t\t},\r\n\r\n\t\tdestroyRendering: function(/*Boolean?*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroys the DOM nodes associated with this widget.\r\n\t\t\t// preserveDom:\r\n\t\t\t//\t\tIf true, this method will leave the original DOM structure alone\r\n\t\t\t//\t\tduring tear-down. Note: this will not work with _Templated\r\n\t\t\t//\t\twidgets yet.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.bgIframe){\r\n\t\t\t\tthis.bgIframe.destroy(preserveDom);\r\n\t\t\t\tdelete this.bgIframe;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.domNode){\r\n\t\t\t\tif(preserveDom){\r\n\t\t\t\t\tdomAttr.remove(this.domNode, \"widgetId\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomConstruct.destroy(this.domNode);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.domNode;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.srcNodeRef){\r\n\t\t\t\tif(!preserveDom){\r\n\t\t\t\t\tdomConstruct.destroy(this.srcNodeRef);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.srcNodeRef;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroyDescendants: function(/*Boolean?*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRecursively destroy the children of this widget and their\r\n\t\t\t//\t\tdescendants.\r\n\t\t\t// preserveDom:\r\n\t\t\t//\t\tIf true, the preserveDom attribute is passed to all descendant\r\n\t\t\t//\t\twidget's .destroy() method. Not for use with _Templated\r\n\t\t\t//\t\twidgets.\r\n\r\n\t\t\t// get all direct descendants and destroy them recursively\r\n\t\t\tarray.forEach(this.getChildren(), function(widget){\r\n\t\t\t\tif(widget.destroyRecursive){\r\n\t\t\t\t\twidget.destroyRecursive(preserveDom);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tuninitialize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated. Override destroy() instead to implement custom widget tear-down\r\n\t\t\t//\t\tbehavior.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t////////////////// GET/SET, CUSTOM SETTERS, ETC. ///////////////////\r\n\r\n\t\t_setStyleAttr: function(/*String||Object*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the style attribute of the widget according to value,\r\n\t\t\t//\t\twhich is either a hash like {height: \"5px\", width: \"3px\"}\r\n\t\t\t//\t\tor a plain string\r\n\t\t\t// description:\r\n\t\t\t//\t\tDetermines which node to set the style on based on style setting\r\n\t\t\t//\t\tin attributeMap.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar mapNode = this.domNode;\r\n\r\n\t\t\t// Note: technically we should revert any style setting made in a previous call\r\n\t\t\t// to his method, but that's difficult to keep track of.\r\n\r\n\t\t\tif(lang.isObject(value)){\r\n\t\t\t\tdomStyle.set(mapNode, value);\r\n\t\t\t}else{\r\n\t\t\t\tif(mapNode.style.cssText){\r\n\t\t\t\t\tmapNode.style.cssText += \"; \" + value;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tmapNode.style.cssText = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._set(\"style\", value);\r\n\t\t},\r\n\r\n\t\t_attrToDom: function(/*String*/ attr, /*String*/ value, /*Object?*/ commands){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReflect a widget attribute (title, tabIndex, duration etc.) to\r\n\t\t\t//\t\tthe widget DOM, as specified by commands parameter.\r\n\t\t\t//\t\tIf commands isn't specified then it's looked up from attributeMap.\r\n\t\t\t//\t\tNote some attributes like \"type\"\r\n\t\t\t//\t\tcannot be processed this way as they are not mutable.\r\n\t\t\t// attr:\r\n\t\t\t//\t\tName of member variable (ex: \"focusNode\" maps to this.focusNode) pointing\r\n\t\t\t//\t\tto DOMNode inside the widget, or alternately pointing to a subwidget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tcommands = arguments.length >= 3 ? commands : this.attributeMap[attr];\r\n\r\n\t\t\tarray.forEach(lang.isArray(commands) ? commands : [commands], function(command){\r\n\r\n\t\t\t\t// Get target node and what we are doing to that node\r\n\t\t\t\tvar mapNode = this[command.node || command || \"domNode\"];\t// DOM node\r\n\t\t\t\tvar type = command.type || \"attribute\";\t// class, innerHTML, innerText, or attribute\r\n\r\n\t\t\t\tswitch(type){\r\n\t\t\t\t\tcase \"attribute\":\r\n\t\t\t\t\t\tif(lang.isFunction(value)){ // functions execute in the context of the widget\r\n\t\t\t\t\t\t\tvalue = lang.hitch(this, value);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get the name of the DOM node attribute; usually it's the same\r\n\t\t\t\t\t\t// as the name of the attribute in the widget (attr), but can be overridden.\r\n\t\t\t\t\t\t// Also maps handler names to lowercase, like onSubmit --> onsubmit\r\n\t\t\t\t\t\tvar attrName = command.attribute ? command.attribute :\r\n\t\t\t\t\t\t\t(/^on[A-Z][a-zA-Z]*$/.test(attr) ? attr.toLowerCase() : attr);\r\n\r\n\t\t\t\t\t\tif(mapNode.tagName){\r\n\t\t\t\t\t\t\t// Normal case, mapping to a DOMNode.  Note that modern browsers will have a mapNode.set()\r\n\t\t\t\t\t\t\t// method, but for consistency we still call domAttr\r\n\t\t\t\t\t\t\tdomAttr.set(mapNode, attrName, value);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// mapping to a sub-widget\r\n\t\t\t\t\t\t\tmapNode.set(attrName, value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"innerText\":\r\n\t\t\t\t\t\tmapNode.innerHTML = \"\";\r\n\t\t\t\t\t\tmapNode.appendChild(this.ownerDocument.createTextNode(value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"innerHTML\":\r\n\t\t\t\t\t\tmapNode.innerHTML = value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"class\":\r\n\t\t\t\t\t\tdomClass.replace(mapNode, value, this[attr]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tget: function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet a property from a widget.\r\n\t\t\t// name:\r\n\t\t\t//\t\tThe property to get.\r\n\t\t\t// description:\r\n\t\t\t//\t\tGet a named property from a widget. The property may\r\n\t\t\t//\t\tpotentially be retrieved via a getter method. If no getter is defined, this\r\n\t\t\t//\t\tjust retrieves the object's property.\r\n\t\t\t//\r\n\t\t\t//\t\tFor example, if the widget has properties `foo` and `bar`\r\n\t\t\t//\t\tand a method named `_getFooAttr()`, calling:\r\n\t\t\t//\t\t`myWidget.get(\"foo\")` would be equivalent to calling\r\n\t\t\t//\t\t`widget._getFooAttr()` and `myWidget.get(\"bar\")`\r\n\t\t\t//\t\twould be equivalent to the expression\r\n\t\t\t//\t\t`widget.bar2`\r\n\t\t\tvar names = this._getAttrNames(name);\r\n\t\t\treturn this[names.g] ? this[names.g]() : this._get(name);\r\n\t\t},\r\n\r\n\t\tset: function(name, value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet a property on a widget\r\n\t\t\t// name:\r\n\t\t\t//\t\tThe property to set.\r\n\t\t\t// value:\r\n\t\t\t//\t\tThe value to set in the property.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets named properties on a widget which may potentially be handled by a\r\n\t\t\t//\t\tsetter in the widget.\r\n\t\t\t//\r\n\t\t\t//\t\tFor example, if the widget has properties `foo` and `bar`\r\n\t\t\t//\t\tand a method named `_setFooAttr()`, calling\r\n\t\t\t//\t\t`myWidget.set(\"foo\", \"Howdy!\")` would be equivalent to calling\r\n\t\t\t//\t\t`widget._setFooAttr(\"Howdy!\")` and `myWidget.set(\"bar\", 3)`\r\n\t\t\t//\t\twould be equivalent to the statement `widget.bar = 3;`\r\n\t\t\t//\r\n\t\t\t//\t\tset() may also be called with a hash of name/value pairs, ex:\r\n\t\t\t//\r\n\t\t\t//\t|\tmyWidget.set({\r\n\t\t\t//\t|\t\tfoo: \"Howdy\",\r\n\t\t\t//\t|\t\tbar: 3\r\n\t\t\t//\t|\t});\r\n\t\t\t//\r\n\t\t\t//\tThis is equivalent to calling `set(foo, \"Howdy\")` and `set(bar, 3)`\r\n\r\n\t\t\tif(typeof name === \"object\"){\r\n\t\t\t\tfor(var x in name){\r\n\t\t\t\t\tthis.set(x, name[x]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tvar names = this._getAttrNames(name),\r\n\t\t\t\tsetter = this[names.s];\r\n\t\t\tif(lang.isFunction(setter)){\r\n\t\t\t\t// use the explicit setter\r\n\t\t\t\tvar result = setter.apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t}else{\r\n\t\t\t\t// Mapping from widget attribute to DOMNode/subwidget attribute/value/etc.\r\n\t\t\t\t// Map according to:\r\n\t\t\t\t//\t\t1. attributeMap setting, if one exists (TODO: attributeMap deprecated, remove in 2.0)\r\n\t\t\t\t//\t\t2. _setFooAttr: {...} type attribute in the widget (if one exists)\r\n\t\t\t\t//\t\t3. apply to focusNode or domNode if standard attribute name, excluding funcs like onClick.\r\n\t\t\t\t// Checks if an attribute is a \"standard attribute\" by whether the DOMNode JS object has a similar\r\n\t\t\t\t// attribute name (ex: accept-charset attribute matches jsObject.acceptCharset).\r\n\t\t\t\t// Note also that Tree.focusNode() is a function not a DOMNode, so test for that.\r\n\t\t\t\tvar defaultNode = this.focusNode && !lang.isFunction(this.focusNode) ? \"focusNode\" : \"domNode\",\r\n\t\t\t\t\ttag = this[defaultNode] && this[defaultNode].tagName,\r\n\t\t\t\t\tattrsForTag = tag && (tagAttrs[tag] || (tagAttrs[tag] = getAttrs(this[defaultNode]))),\r\n\t\t\t\t\tmap = name in this.attributeMap ? this.attributeMap[name] :\r\n\t\t\t\t\t\tnames.s in this ? this[names.s] :\r\n\t\t\t\t\t\t\t((attrsForTag && names.l in attrsForTag && typeof value != \"function\") ||\r\n\t\t\t\t\t\t\t\t/^aria-|^data-|^role$/.test(name)) ? defaultNode : null;\r\n\t\t\t\tif(map != null){\r\n\t\t\t\t\tthis._attrToDom(name, value, map);\r\n\t\t\t\t}\r\n\t\t\t\tthis._set(name, value);\r\n\t\t\t}\r\n\t\t\treturn result || this;\r\n\t\t},\r\n\r\n\t\t_attrPairNames: {}, // shared between all widgets\r\n\t\t_getAttrNames: function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function for get() and set().\r\n\t\t\t//\t\tCaches attribute name values so we don't do the string ops every time.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar apn = this._attrPairNames;\r\n\t\t\tif(apn[name]){\r\n\t\t\t\treturn apn[name];\r\n\t\t\t}\r\n\t\t\tvar uc = name.replace(/^[a-z]|-[a-zA-Z]/g, function(c){\r\n\t\t\t\treturn c.charAt(c.length - 1).toUpperCase();\r\n\t\t\t});\r\n\t\t\treturn (apn[name] = {\r\n\t\t\t\tn: name + \"Node\",\r\n\t\t\t\ts: \"_set\" + uc + \"Attr\", // converts dashes to camel case, ex: accept-charset --> _setAcceptCharsetAttr\r\n\t\t\t\tg: \"_get\" + uc + \"Attr\",\r\n\t\t\t\tl: uc.toLowerCase()        // lowercase name w/out dashes, ex: acceptcharset\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_set: function(/*String*/ name, /*anything*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function to set new value for specified property, and call handlers\r\n\t\t\t//\t\tregistered with watch() if the value has changed.\r\n\t\t\tvar oldValue = this[name];\r\n\t\t\tthis[name] = value;\r\n\t\t\tif(this._created && !isEqual(oldValue, value)){\r\n\t\t\t\tif(this._watchCallbacks){\r\n\t\t\t\t\tthis._watchCallbacks(name, oldValue, value);\r\n\t\t\t\t}\r\n\t\t\t\tthis.emit(\"attrmodified-\" + name, {\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\tprevValue: oldValue,\r\n\t\t\t\t\t\tnewValue: value\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_get: function(/*String*/ name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function to get value for specified property stored by this._set(),\r\n\t\t\t//\t\ti.e. for properties with custom setters.  Used mainly by custom getters.\r\n\t\t\t//\r\n\t\t\t//\t\tFor example, CheckBox._getValueAttr() calls this._get(\"value\").\r\n\r\n\t\t\t// future: return name in this.props ? this.props[name] : this[name];\r\n\t\t\treturn this[name];\r\n\t\t},\r\n\r\n\t\temit: function(/*String*/ type, /*Object?*/ eventObj, /*Array?*/ callbackArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUsed by widgets to signal that a synthetic event occurred, ex:\r\n\t\t\t//\t|\tmyWidget.emit(\"attrmodified-selectedChildWidget\", {}).\r\n\t\t\t//\r\n\t\t\t//\t\tEmits an event on this.domNode named type.toLowerCase(), based on eventObj.\r\n\t\t\t//\t\tAlso calls onType() method, if present, and returns value from that method.\r\n\t\t\t//\t\tBy default passes eventObj to callback, but will pass callbackArgs instead, if specified.\r\n\t\t\t//\t\tModifies eventObj by adding missing parameters (bubbles, cancelable, widget).\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Specify fallback values for bubbles, cancelable in case they are not set in eventObj.\r\n\t\t\t// Also set pointer to widget, although since we can't add a pointer to the widget for native events\r\n\t\t\t// (see #14729), maybe we shouldn't do it here?\r\n\t\t\teventObj = eventObj || {};\r\n\t\t\tif(eventObj.bubbles === undefined){\r\n\t\t\t\teventObj.bubbles = true;\r\n\t\t\t}\r\n\t\t\tif(eventObj.cancelable === undefined){\r\n\t\t\t\teventObj.cancelable = true;\r\n\t\t\t}\r\n\t\t\tif(!eventObj.detail){\r\n\t\t\t\teventObj.detail = {};\r\n\t\t\t}\r\n\t\t\teventObj.detail.widget = this;\r\n\r\n\t\t\tvar ret, callback = this[\"on\" + type];\r\n\t\t\tif(callback){\r\n\t\t\t\tret = callback.apply(this, callbackArgs ? callbackArgs : [eventObj]);\r\n\t\t\t}\r\n\r\n\t\t\t// Emit event, but avoid spurious emit()'s as parent sets properties on child during startup/destroy\r\n\t\t\tif(this._started && !this._beingDestroyed){\r\n\t\t\t\ton.emit(this.domNode, type.toLowerCase(), eventObj);\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\ton: function(/*String|Function*/ type, /*Function*/ func){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCall specified function when event occurs, ex: myWidget.on(\"click\", function(){ ... }).\r\n\t\t\t// type:\r\n\t\t\t//\t\tName of event (ex: \"click\") or extension event like touch.press.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCall specified function when event `type` occurs, ex: `myWidget.on(\"click\", function(){ ... })`.\r\n\t\t\t//\t\tNote that the function is not run in any particular scope, so if (for example) you want it to run in the\r\n\t\t\t//\t\twidget's scope you must do `myWidget.on(\"click\", lang.hitch(myWidget, func))`.\r\n\r\n\t\t\t// For backwards compatibility, if there's an onType() method in the widget then connect to that.\r\n\t\t\t// Remove in 2.0.\r\n\t\t\tvar widgetMethod = this._onMap(type);\r\n\t\t\tif(widgetMethod){\r\n\t\t\t\treturn aspect.after(this, widgetMethod, func, true);\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, just listen for the event on this.domNode.\r\n\t\t\treturn this.own(on(this.domNode, type, func))[0];\r\n\t\t},\r\n\r\n\t\t_onMap: function(/*String|Function*/ type){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMaps on() type parameter (ex: \"mousemove\") to method name (ex: \"onMouseMove\").\r\n\t\t\t//\t\tIf type is a synthetic event like touch.press then returns undefined.\r\n\t\t\tvar ctor = this.constructor, map = ctor._onMap;\r\n\t\t\tif(!map){\r\n\t\t\t\tmap = (ctor._onMap = {});\r\n\t\t\t\tfor(var attr in ctor.prototype){\r\n\t\t\t\t\tif(/^on/.test(attr)){\r\n\t\t\t\t\t\tmap[attr.replace(/^on/, \"\").toLowerCase()] = attr;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn map[typeof type == \"string\" && type.toLowerCase()];\t// String\r\n\t\t},\r\n\r\n\t\ttoString: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a string that represents the widget.\r\n\t\t\t// description:\r\n\t\t\t//\t\tWhen a widget is cast to a string, this method will be used to generate the\r\n\t\t\t//\t\toutput. Currently, it does not implement any sort of reversible\r\n\t\t\t//\t\tserialization.\r\n\t\t\treturn '[Widget ' + this.declaredClass + ', ' + (this.id || 'NO ID') + ']'; // String\r\n\t\t},\r\n\r\n\t\tgetChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns all direct children of this widget, i.e. all widgets underneath this.containerNode whose parent\r\n\t\t\t//\t\tis this widget.   Note that it does not return all descendants, but rather just direct children.\r\n\t\t\t//\t\tAnalogous to [Node.childNodes](https://developer.mozilla.org/en-US/docs/DOM/Node.childNodes),\r\n\t\t\t//\t\texcept containing widgets rather than DOMNodes.\r\n\t\t\t//\r\n\t\t\t//\t\tThe result intentionally excludes internally created widgets (a.k.a. supporting widgets)\r\n\t\t\t//\t\toutside of this.containerNode.\r\n\t\t\t//\r\n\t\t\t//\t\tNote that the array returned is a simple array.  Application code should not assume\r\n\t\t\t//\t\texistence of methods like forEach().\r\n\r\n\t\t\treturn this.containerNode ? registry.findWidgets(this.containerNode) : []; // dijit/_WidgetBase[]\r\n\t\t},\r\n\r\n\t\tgetParent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the parent widget of this widget.\r\n\r\n\t\t\treturn registry.getEnclosingWidget(this.domNode.parentNode);\r\n\t\t},\r\n\r\n\t\tconnect: function(/*Object|null*/ obj, /*String|Function*/ event, /*String|Function*/ method){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, will be removed in 2.0, use this.own(on(...)) or this.own(aspect.after(...)) instead.\r\n\t\t\t//\r\n\t\t\t//\t\tConnects specified obj/event to specified method of this object\r\n\t\t\t//\t\tand registers for disconnect() on widget destroy.\r\n\t\t\t//\r\n\t\t\t//\t\tProvide widget-specific analog to dojo.connect, except with the\r\n\t\t\t//\t\timplicit use of this widget as the target object.\r\n\t\t\t//\t\tEvents connected with `this.connect` are disconnected upon\r\n\t\t\t//\t\tdestruction.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle that can be passed to `disconnect` in order to disconnect before\r\n\t\t\t//\t\tthe widget is destroyed.\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar btn = new Button();\r\n\t\t\t//\t|\t// when foo.bar() is called, call the listener we're going to\r\n\t\t\t//\t|\t// provide in the scope of btn\r\n\t\t\t//\t|\tbtn.connect(foo, \"bar\", function(){\r\n\t\t\t//\t|\t\tconsole.debug(this.toString());\r\n\t\t\t//\t|\t});\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn this.own(connect.connect(obj, event, this, method))[0];\t// handle\r\n\t\t},\r\n\r\n\t\tdisconnect: function(handle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, will be removed in 2.0, use handle.remove() instead.\r\n\t\t\t//\r\n\t\t\t//\t\tDisconnects handle created by `connect`.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\thandle.remove();\r\n\t\t},\r\n\r\n\t\tsubscribe: function(t, method){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, will be removed in 2.0, use this.own(topic.subscribe()) instead.\r\n\t\t\t//\r\n\t\t\t//\t\tSubscribes to the specified topic and calls the specified method\r\n\t\t\t//\t\tof this object and registers for unsubscribe() on widget destroy.\r\n\t\t\t//\r\n\t\t\t//\t\tProvide widget-specific analog to dojo.subscribe, except with the\r\n\t\t\t//\t\timplicit use of this widget as the target object.\r\n\t\t\t// t: String\r\n\t\t\t//\t\tThe topic\r\n\t\t\t// method: Function\r\n\t\t\t//\t\tThe callback\r\n\t\t\t// example:\r\n\t\t\t//\t|\tvar btn = new Button();\r\n\t\t\t//\t|\t// when /my/topic is published, this button changes its label to\r\n\t\t\t//\t|\t// be the parameter of the topic.\r\n\t\t\t//\t|\tbtn.subscribe(\"/my/topic\", function(v){\r\n\t\t\t//\t|\t\tthis.set(\"label\", v);\r\n\t\t\t//\t|\t});\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this.own(topic.subscribe(t, lang.hitch(this, method)))[0];\t// handle\r\n\t\t},\r\n\r\n\t\tunsubscribe: function(/*Object*/ handle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, will be removed in 2.0, use handle.remove() instead.\r\n\t\t\t//\r\n\t\t\t//\t\tUnsubscribes handle created by this.subscribe.\r\n\t\t\t//\t\tAlso removes handle from this widget's list of subscriptions\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\thandle.remove();\r\n\t\t},\r\n\r\n\t\tisLeftToRight: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn this widget's explicit or implicit orientation (true for LTR, false for RTL)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this.dir ? (this.dir.toLowerCase() == \"ltr\") : domGeometry.isBodyLtr(this.ownerDocument); //Boolean\r\n\t\t},\r\n\r\n\t\tisFocusable: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn true if this widget can currently be focused\r\n\t\t\t//\t\tand false if not\r\n\t\t\treturn this.focus && (domStyle.get(this.domNode, \"display\") != \"none\");\r\n\t\t},\r\n\r\n\t\tplaceAt: function(/*String|DomNode|DocumentFragment|dijit/_WidgetBase*/ reference, /*String|Int?*/ position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPlace this widget somewhere in the DOM based\r\n\t\t\t//\t\ton standard domConstruct.place() conventions.\r\n\t\t\t// description:\r\n\t\t\t//\t\tA convenience function provided in all _Widgets, providing a simple\r\n\t\t\t//\t\tshorthand mechanism to put an existing (or newly created) Widget\r\n\t\t\t//\t\tsomewhere in the dom, and allow chaining.\r\n\t\t\t// reference:\r\n\t\t\t//\t\tWidget, DOMNode, DocumentFragment, or id of widget or DOMNode\r\n\t\t\t// position:\r\n\t\t\t//\t\tIf reference is a widget (or id of widget), and that widget has an \".addChild\" method,\r\n\t\t\t//\t\tit will be called passing this widget instance into that method, supplying the optional\r\n\t\t\t//\t\tposition index passed.  In this case position (if specified) should be an integer.\r\n\t\t\t//\r\n\t\t\t//\t\tIf reference is a DOMNode (or id matching a DOMNode but not a widget),\r\n\t\t\t//\t\tthe position argument can be a numeric index or a string\r\n\t\t\t//\t\t\"first\", \"last\", \"before\", or \"after\", same as dojo/dom-construct::place().\r\n\t\t\t// returns: dijit/_WidgetBase\r\n\t\t\t//\t\tProvides a useful return of the newly created dijit._Widget instance so you\r\n\t\t\t//\t\tcan \"chain\" this function by instantiating, placing, then saving the return value\r\n\t\t\t//\t\tto a variable.\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// create a Button with no srcNodeRef, and place it in the body:\r\n\t\t\t//\t|\tvar button = new Button({ label:\"click\" }).placeAt(win.body());\r\n\t\t\t//\t|\t// now, 'button' is still the widget reference to the newly created button\r\n\t\t\t//\t|\tbutton.on(\"click\", function(e){ console.log('click'); }));\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// create a button out of a node with id=\"src\" and append it to id=\"wrapper\":\r\n\t\t\t//\t|\tvar button = new Button({},\"src\").placeAt(\"wrapper\");\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// place a new button as the first element of some div\r\n\t\t\t//\t|\tvar button = new Button({ label:\"click\" }).placeAt(\"wrapper\",\"first\");\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// create a contentpane and add it to a TabContainer\r\n\t\t\t//\t|\tvar tc = dijit.byId(\"myTabs\");\r\n\t\t\t//\t|\tnew ContentPane({ href:\"foo.html\", title:\"Wow!\" }).placeAt(tc)\r\n\r\n\t\t\tvar refWidget = !reference.tagName && registry.byId(reference);\r\n\t\t\tif(refWidget && refWidget.addChild && (!position || typeof position === \"number\")){\r\n\t\t\t\t// Adding this to refWidget and can use refWidget.addChild() to handle everything.\r\n\t\t\t\trefWidget.addChild(this, position);\r\n\t\t\t}else{\r\n\t\t\t\t// \"reference\" is a plain DOMNode, or we can't use refWidget.addChild().   Use domConstruct.place() and\r\n\t\t\t\t// target refWidget.containerNode for nested placement (position==number, \"first\", \"last\", \"only\"), and\r\n\t\t\t\t// refWidget.domNode otherwise (\"after\"/\"before\"/\"replace\").  (But not supported officially, see #14946.)\r\n\t\t\t\tvar ref = refWidget && (\"domNode\" in refWidget) ?\r\n\t\t\t\t\t(refWidget.containerNode && !/after|before|replace/.test(position || \"\") ?\r\n\t\t\t\t\t\trefWidget.containerNode : refWidget.domNode) : dom.byId(reference, this.ownerDocument);\r\n\t\t\t\tdomConstruct.place(this.domNode, ref, position);\r\n\r\n\t\t\t\t// Start this iff it has a parent widget that's already started.\r\n\t\t\t\t// TODO: for 2.0 maybe it should also start the widget when this.getParent() returns null??\r\n\t\t\t\tif(!this._started && (this.getParent() || {})._started){\r\n\t\t\t\t\tthis.startup();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tdefer: function(fcn, delay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWrapper to setTimeout to avoid deferred functions executing\r\n\t\t\t//\t\tafter the originating widget has been destroyed.\r\n\t\t\t//\t\tReturns an object handle with a remove method (that returns null) (replaces clearTimeout).\r\n\t\t\t// fcn: Function\r\n\t\t\t//\t\tFunction reference.\r\n\t\t\t// delay: Number?\r\n\t\t\t//\t\tDelay, defaults to 0.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar timer = setTimeout(lang.hitch(this,\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\tif(!timer){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttimer = null;\r\n\t\t\t\t\tif(!this._destroyed){\r\n\t\t\t\t\t\tlang.hitch(this, fcn)();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tdelay || 0\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\tremove: function(){\r\n\t\t\t\t\tif(timer){\r\n\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\ttimer = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null; // so this works well: handle = handle.remove();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\t_WidgetBase.extend(_BidiMixin);\r\n\t}\r\n\r\n\treturn _WidgetBase;\r\n});\r\n\ndefine('dojo/touch',[\"./_base/kernel\", \"./aspect\", \"./dom\", \"./dom-class\", \"./_base/lang\", \"./on\", \"./has\", \"./mouse\", \"./domReady\", \"./_base/window\"],\r\nfunction(dojo, aspect, dom, domClass, lang, on, has, mouse, domReady, win){\r\n\r\n\t// module:\r\n\t//\t\tdojo/touch\r\n\r\n\tvar ios4 = has(\"ios\") < 5;\r\n\r\n\t// Detect if platform supports Pointer Events, and if so, the names of the events (pointerdown vs. MSPointerDown).\r\n\tvar hasPointer = has(\"pointer-events\") || has(\"MSPointer\"),\r\n\t\tpointer = (function () {\r\n\t\t\tvar pointer = {};\r\n\t\t\tfor (var type in { down: 1, move: 1, up: 1, cancel: 1, over: 1, out: 1 }) {\r\n\t\t\t\tpointer[type] = has(\"MSPointer\") ?\r\n\t\t\t\t\t\"MSPointer\" + type.charAt(0).toUpperCase() + type.slice(1) :\r\n\t\t\t\t\t\"pointer\" + type;\r\n\t\t\t}\r\n\t\t\treturn pointer;\r\n\t\t})();\r\n\r\n\t// Detect if platform supports the webkit touchstart/touchend/... events\r\n\tvar hasTouch = has(\"touch-events\");\r\n\r\n\t// Click generation variables\r\n\tvar clicksInited, clickTracker, useTarget = false, clickTarget, clickX, clickY, clickDx, clickDy, clickTime;\r\n\r\n\t// Time of most recent touchstart, touchmove, or touchend event\r\n\tvar lastTouch;\r\n\r\n\tfunction dualEvent(mouseType, touchType, pointerType){\r\n\t\t// Returns synthetic event that listens for both the specified mouse event and specified touch event.\r\n\t\t// But ignore fake mouse events that were generated due to the user touching the screen.\r\n\t\tif(hasPointer && pointerType){\r\n\t\t\t// IE10+: MSPointer* events are designed to handle both mouse and touch in a uniform way,\r\n\t\t\t// so just use that regardless of hasTouch.\r\n\t\t\treturn function(node, listener){\r\n\t\t\t\treturn on(node, pointerType, listener);\r\n\t\t\t}\r\n\t\t}else if(hasTouch){\r\n\t\t\treturn function(node, listener){\r\n\t\t\t\tvar handle1 = on(node, touchType, function(evt){\r\n\t\t\t\t\t\tlistener.call(this, evt);\r\n\r\n\t\t\t\t\t\t// On slow mobile browsers (see https://bugs.dojotoolkit.org/ticket/17634),\r\n\t\t\t\t\t\t// a handler for a touch event may take >1s to run.  That time shouldn't\r\n\t\t\t\t\t\t// be included in the calculation for lastTouch.\r\n\t\t\t\t\t\tlastTouch = (new Date()).getTime();\r\n\t\t\t\t\t}),\r\n\t\t\t\t\thandle2 = on(node, mouseType, function(evt){\r\n\t\t\t\t\t\tif(!lastTouch || (new Date()).getTime() > lastTouch + 1000){\r\n\t\t\t\t\t\t\tlistener.call(this, evt);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\treturn {\r\n\t\t\t\t\tremove: function(){\r\n\t\t\t\t\t\thandle1.remove();\r\n\t\t\t\t\t\thandle2.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\t// Avoid creating listeners for touch events on performance sensitive older browsers like IE6\r\n\t\t\treturn function(node, listener){\r\n\t\t\t\treturn on(node, mouseType, listener);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction marked(/*DOMNode*/ node){\r\n\t\t// Search for node ancestor has been marked with the dojoClick property to indicate special processing.\r\n\t\t// Returns marked ancestor.\r\n\t\tdo{\r\n\t\t\tif(node.dojoClick !== undefined){ return node; }\r\n\t\t}while(node = node.parentNode);\r\n\t}\r\n\t\r\n\tfunction doClicks(e, moveType, endType){\r\n\t\t// summary:\r\n\t\t//\t\tSetup touch listeners to generate synthetic clicks immediately (rather than waiting for the browser\r\n\t\t//\t\tto generate clicks after the double-tap delay) and consistently (regardless of whether event.preventDefault()\r\n\t\t//\t\twas called in an event listener. Synthetic clicks are generated only if a node or one of its ancestors has\r\n\t\t//\t\tits dojoClick property set to truthy. If a node receives synthetic clicks because one of its ancestors has its\r\n\t\t//      dojoClick property set to truthy, you can disable synthetic clicks on this node by setting its own dojoClick property\r\n\t\t//      to falsy.\r\n\t\t\r\n\t\tvar markedNode = marked(e.target);\r\n\t\tclickTracker  = !e.target.disabled && markedNode && markedNode.dojoClick; // click threshold = true, number, x/y object, or \"useTarget\"\r\n\t\tif(clickTracker){\r\n\t\t\tuseTarget = (clickTracker == \"useTarget\");\r\n\t\t\tclickTarget = (useTarget?markedNode:e.target);\r\n\t\t\tif(useTarget){\r\n\t\t\t\t// We expect a click, so prevent any other \r\n\t\t\t\t// default action on \"touchpress\"\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tclickX = e.changedTouches ? e.changedTouches[0].pageX - win.global.pageXOffset : e.clientX;\r\n\t\t\tclickY = e.changedTouches ? e.changedTouches[0].pageY - win.global.pageYOffset : e.clientY;\r\n\t\t\tclickDx = (typeof clickTracker == \"object\" ? clickTracker.x : (typeof clickTracker == \"number\" ? clickTracker : 0)) || 4;\r\n\t\t\tclickDy = (typeof clickTracker == \"object\" ? clickTracker.y : (typeof clickTracker == \"number\" ? clickTracker : 0)) || 4;\r\n\r\n\t\t\t// add move/end handlers only the first time a node with dojoClick is seen,\r\n\t\t\t// so we don't add too much overhead when dojoClick is never set.\r\n\t\t\tif(!clicksInited){\r\n\t\t\t\tclicksInited = true;\r\n\r\n\t\t\t\tfunction updateClickTracker(e){\r\n\t\t\t\t\tif(useTarget){\r\n\t\t\t\t\t\tclickTracker = dom.isDescendant(\r\n\t\t\t\t\t\t\twin.doc.elementFromPoint(\r\n\t\t\t\t\t\t\t\t(e.changedTouches ? e.changedTouches[0].pageX - win.global.pageXOffset : e.clientX),\r\n\t\t\t\t\t\t\t\t(e.changedTouches ? e.changedTouches[0].pageY - win.global.pageYOffset : e.clientY)),\r\n\t\t\t\t\t\t\tclickTarget);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tclickTracker = clickTracker &&\r\n\t\t\t\t\t\t\t(e.changedTouches ? e.changedTouches[0].target : e.target) == clickTarget &&\r\n\t\t\t\t\t\t\tMath.abs((e.changedTouches ? e.changedTouches[0].pageX - win.global.pageXOffset : e.clientX) - clickX) <= clickDx &&\r\n\t\t\t\t\t\t\tMath.abs((e.changedTouches ? e.changedTouches[0].pageY - win.global.pageYOffset : e.clientY) - clickY) <= clickDy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\twin.doc.addEventListener(moveType, function(e){\r\n\t\t\t\t\tupdateClickTracker(e);\r\n\t\t\t\t\tif(useTarget){\r\n\t\t\t\t\t\t// prevent native scroll event and ensure touchend is\r\n\t\t\t\t\t\t// fire after touch moves between press and release.\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\r\n\t\t\t\twin.doc.addEventListener(endType, function(e){\r\n\t\t\t\t\tupdateClickTracker(e);\r\n\t\t\t\t\tif(clickTracker){\r\n\t\t\t\t\t\tclickTime = (new Date()).getTime();\r\n\t\t\t\t\t\tvar target = (useTarget?clickTarget:e.target);\r\n\t\t\t\t\t\tif(target.tagName === \"LABEL\"){\r\n\t\t\t\t\t\t\t// when clicking on a label, forward click to its associated input if any\r\n\t\t\t\t\t\t\ttarget = dom.byId(target.getAttribute(\"for\")) || target;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//some attributes can be on the Touch object, not on the Event:\r\n\t\t\t\t\t\t//http://www.w3.org/TR/touch-events/#touch-interface\r\n\t\t\t\t\t\tvar src = (e.changedTouches) ? e.changedTouches[0] : e;\r\n\t\t\t\t\t\t//create the synthetic event.\r\n\t\t\t\t\t\t//http://www.w3.org/TR/DOM-Level-3-Events/#widl-MouseEvent-initMouseEvent\r\n\t\t\t\t\t\tvar clickEvt = document.createEvent(\"MouseEvents\");\r\n\t\t\t\t\t\tclickEvt._dojo_click = true;\r\n\t\t\t\t\t\tclickEvt.initMouseEvent(\"click\",\r\n\t\t\t\t\t\t\ttrue, //bubbles\r\n\t\t\t\t\t\t\ttrue, //cancelable\r\n\t\t\t\t\t\t\te.view,\r\n\t\t\t\t\t\t\te.detail,\r\n\t\t\t\t\t\t\tsrc.screenX,\r\n\t\t\t\t\t\t\tsrc.screenY,\r\n\t\t\t\t\t\t\tsrc.clientX,\r\n\t\t\t\t\t\t\tsrc.clientY,\r\n\t\t\t\t\t\t\te.ctrlKey,\r\n\t\t\t\t\t\t\te.altKey,\r\n\t\t\t\t\t\t\te.shiftKey,\r\n\t\t\t\t\t\t\te.metaKey,\r\n\t\t\t\t\t\t\t0, //button\r\n\t\t\t\t\t\t\tnull //related target\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\ton.emit(target, \"click\", clickEvt);\r\n\r\n\t\t\t\t\t\t\t// refresh clickTime in case app-defined click handler took a long time to run\r\n\t\t\t\t\t\t\tclickTime = (new Date()).getTime();\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\r\n\t\t\t\tfunction stopNativeEvents(type){\r\n\t\t\t\t\twin.doc.addEventListener(type, function(e){\r\n\t\t\t\t\t\t// Stop native events when we emitted our own click event.  Note that the native click may occur\r\n\t\t\t\t\t\t// on a different node than the synthetic click event was generated on.  For example,\r\n\t\t\t\t\t\t// click on a menu item, causing the menu to disappear, and then (~300ms later) the browser\r\n\t\t\t\t\t\t// sends a click event to the node that was *underneath* the menu.  So stop all native events\r\n\t\t\t\t\t\t// sent shortly after ours, similar to what is done in dualEvent.\r\n\t\t\t\t\t\t// The INPUT.dijitOffScreen test is for offscreen inputs used in dijit/form/Button, on which\r\n\t\t\t\t\t\t// we call click() explicitly, we don't want to stop this event.\r\n\t\t\t\t\t\t\tif(!e._dojo_click &&\r\n\t\t\t\t\t\t\t\t(new Date()).getTime() <= clickTime + 1000 &&\r\n\t\t\t\t\t\t\t\t!(e.target.tagName == \"INPUT\" && domClass.contains(e.target, \"dijitOffScreen\"))){\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.stopImmediatePropagation && e.stopImmediatePropagation();\r\n\t\t\t\t\t\t\tif(type == \"click\" && (e.target.tagName != \"INPUT\" || e.target.type == \"radio\" || e.target.type == \"checkbox\")\r\n\t\t\t\t\t\t\t\t&& e.target.tagName != \"TEXTAREA\" && e.target.tagName != \"AUDIO\" && e.target.tagName != \"VIDEO\"){\r\n\t\t\t\t\t\t\t\t // preventDefault() breaks textual <input>s on android, keyboard doesn't popup,\r\n\t\t\t\t\t\t\t\t // but it is still needed for checkboxes and radio buttons, otherwise in some cases\r\n\t\t\t\t\t\t\t\t // the checked state becomes inconsistent with the widget's state\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstopNativeEvents(\"click\");\r\n\r\n\t\t\t\t// We also stop mousedown/up since these would be sent well after with our \"fast\" click (300ms),\r\n\t\t\t\t// which can confuse some dijit widgets.\r\n\t\t\t\tstopNativeEvents(\"mousedown\");\r\n\t\t\t\tstopNativeEvents(\"mouseup\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar hoveredNode;\r\n\r\n\tif(hasPointer){\r\n\t\t // MSPointer (IE10+) already has support for over and out, so we just need to init click support\r\n\t\tdomReady(function(){\r\n\t\t\twin.doc.addEventListener(pointer.down, function(evt){\r\n\t\t\t\tdoClicks(evt, pointer.move, pointer.up);\r\n\t\t\t}, true);\r\n\t\t});\r\n\t}else if(hasTouch){\r\n\t\tdomReady(function(){\r\n\t\t\t// Keep track of currently hovered node\r\n\t\t\thoveredNode = win.body();\t// currently hovered node\r\n\r\n\t\t\twin.doc.addEventListener(\"touchstart\", function(evt){\r\n\t\t\t\t\tlastTouch = (new Date()).getTime();\r\n\r\n\t\t\t\t// Precede touchstart event with touch.over event.  DnD depends on this.\r\n\t\t\t\t// Use addEventListener(cb, true) to run cb before any touchstart handlers on node run,\r\n\t\t\t\t// and to ensure this code runs even if the listener on the node does event.stop().\r\n\t\t\t\tvar oldNode = hoveredNode;\r\n\t\t\t\thoveredNode = evt.target;\r\n\t\t\t\ton.emit(oldNode, \"dojotouchout\", {\r\n\t\t\t\t\trelatedTarget: hoveredNode,\r\n\t\t\t\t\tbubbles: true\r\n\t\t\t\t});\r\n\t\t\t\ton.emit(hoveredNode, \"dojotouchover\", {\r\n\t\t\t\t\trelatedTarget: oldNode,\r\n\t\t\t\t\tbubbles: true\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdoClicks(evt, \"touchmove\", \"touchend\"); // init click generation\r\n\t\t\t}, true);\r\n\r\n\t\t\tfunction copyEventProps(evt){\r\n\t\t\t\t// Make copy of event object and also set bubbles:true.  Used when calling on.emit().\r\n\t\t\t\tvar props = lang.delegate(evt, {\r\n\t\t\t\t\tbubbles: true\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(has(\"ios\") >= 6){\r\n\t\t\t\t\t// On iOS6 \"touches\" became a non-enumerable property, which\r\n\t\t\t\t\t// is not hit by for...in.  Ditto for the other properties below.\r\n\t\t\t\t\tprops.touches = evt.touches;\r\n\t\t\t\t\tprops.altKey = evt.altKey;\r\n\t\t\t\t\tprops.changedTouches = evt.changedTouches;\r\n\t\t\t\t\tprops.ctrlKey = evt.ctrlKey;\r\n\t\t\t\t\tprops.metaKey = evt.metaKey;\r\n\t\t\t\t\tprops.shiftKey = evt.shiftKey;\r\n\t\t\t\t\tprops.targetTouches = evt.targetTouches;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn props;\r\n\t\t\t}\r\n\r\n\t\t\ton(win.doc, \"touchmove\", function(evt){\r\n\t\t\t\tlastTouch = (new Date()).getTime();\r\n\r\n\t\t\t\tvar newNode = win.doc.elementFromPoint(\r\n\t\t\t\t\tevt.pageX - (ios4 ? 0 : win.global.pageXOffset), // iOS 4 expects page coords\r\n\t\t\t\t\tevt.pageY - (ios4 ? 0 : win.global.pageYOffset)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif(newNode){\r\n\t\t\t\t\t// Fire synthetic touchover and touchout events on nodes since the browser won't do it natively.\r\n\t\t\t\t\tif(hoveredNode !== newNode){\r\n\t\t\t\t\t\t// touch out on the old node\r\n\t\t\t\t\t\ton.emit(hoveredNode, \"dojotouchout\", {\r\n\t\t\t\t\t\t\trelatedTarget: newNode,\r\n\t\t\t\t\t\t\tbubbles: true\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// touchover on the new node\r\n\t\t\t\t\t\ton.emit(newNode, \"dojotouchover\", {\r\n\t\t\t\t\t\t\trelatedTarget: hoveredNode,\r\n\t\t\t\t\t\t\tbubbles: true\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\thoveredNode = newNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Unlike a listener on \"touchmove\", on(node, \"dojotouchmove\", listener) fires when the finger\r\n\t\t\t\t\t// drags over the specified node, regardless of which node the touch started on.\r\n\t\t\t\t\tif(!on.emit(newNode, \"dojotouchmove\", copyEventProps(evt))){\r\n\t\t\t\t\t\t// emit returns false when synthetic event \"dojotouchmove\" is cancelled, so we prevent the\r\n\t\t\t\t\t\t// default behavior of the underlying native event \"touchmove\".\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Fire a dojotouchend event on the node where the finger was before it was removed from the screen.\r\n\t\t\t// This is different than the native touchend, which fires on the node where the drag started.\r\n\t\t\ton(win.doc, \"touchend\", function(evt){\r\n\t\t\t\t\tlastTouch = (new Date()).getTime();\r\n\t\t\t\tvar node = win.doc.elementFromPoint(\r\n\t\t\t\t\tevt.pageX - (ios4 ? 0 : win.global.pageXOffset), // iOS 4 expects page coords\r\n\t\t\t\t\tevt.pageY - (ios4 ? 0 : win.global.pageYOffset)\r\n\t\t\t\t) || win.body(); // if out of the screen\r\n\r\n\t\t\t\ton.emit(node, \"dojotouchend\", copyEventProps(evt));\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t//device neutral events - touch.press|move|release|cancel/over/out\r\n\tvar touch = {\r\n\t\tpress: dualEvent(\"mousedown\", \"touchstart\", pointer.down),\r\n\t\tmove: dualEvent(\"mousemove\", \"dojotouchmove\", pointer.move),\r\n\t\trelease: dualEvent(\"mouseup\", \"dojotouchend\", pointer.up),\r\n\t\tcancel: dualEvent(mouse.leave, \"touchcancel\", hasPointer ? pointer.cancel : null),\r\n\t\tover: dualEvent(\"mouseover\", \"dojotouchover\", pointer.over),\r\n\t\tout: dualEvent(\"mouseout\", \"dojotouchout\", pointer.out),\r\n\t\tenter: mouse._eventHandler(dualEvent(\"mouseover\",\"dojotouchover\", pointer.over)),\r\n\t\tleave: mouse._eventHandler(dualEvent(\"mouseout\", \"dojotouchout\", pointer.out))\r\n\t};\r\n\r\n\t/*=====\r\n\ttouch = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module provides unified touch event handlers by exporting\r\n\t\t//\t\tpress, move, release and cancel which can also run well on desktop.\r\n\t\t//\t\tBased on http://dvcs.w3.org/hg/webevents/raw-file/tip/touchevents.html\r\n\t\t//      Also, if the dojoClick property is set to truthy on a DOM node, dojo/touch generates\r\n\t\t//      click events immediately for this node and its descendants (except for descendants that\r\n\t\t//      have a dojoClick property set to falsy), to avoid the delay before native browser click events,\r\n\t\t//      and regardless of whether evt.preventDefault() was called in a touch.press event listener.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tUsed with dojo/on\r\n\t\t//\t\t|\tdefine([\"dojo/on\", \"dojo/touch\"], function(on, touch){\r\n\t\t//\t\t|\t\ton(node, touch.press, function(e){});\r\n\t\t//\t\t|\t\ton(node, touch.move, function(e){});\r\n\t\t//\t\t|\t\ton(node, touch.release, function(e){});\r\n\t\t//\t\t|\t\ton(node, touch.cancel, function(e){});\r\n\t\t// example:\r\n\t\t//\t\tUsed with touch.* directly\r\n\t\t//\t\t|\ttouch.press(node, function(e){});\r\n\t\t//\t\t|\ttouch.move(node, function(e){});\r\n\t\t//\t\t|\ttouch.release(node, function(e){});\r\n\t\t//\t\t|\ttouch.cancel(node, function(e){});\r\n\t\t// example:\r\n\t\t//\t\tHave dojo/touch generate clicks without delay, with a default move threshold of 4 pixels\r\n\t\t//\t\t|\tnode.dojoClick = true;\r\n\t\t// example:\r\n\t\t//\t\tHave dojo/touch generate clicks without delay, with a move threshold of 10 pixels horizontally and vertically\r\n\t\t//\t\t|\tnode.dojoClick = 10;\r\n\t\t// example:\r\n\t\t//\t\tHave dojo/touch generate clicks without delay, with a move threshold of 50 pixels horizontally and 10 pixels vertically\r\n\t\t//\t\t|\tnode.dojoClick = {x:50, y:5};\r\n\t\t// example:\r\n\t\t//\t\tDisable clicks without delay generated by dojo/touch on a node that has an ancestor with property dojoClick set to truthy\r\n\t\t//\t\t|  node.dojoClick = false;\r\n\r\n\t\tpress: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to 'touchstart'|'mousedown' for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tmove: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener that fires when the mouse cursor or a finger is dragged over the given node.\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\trelease: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to releasing the mouse button while the cursor is over the given node\r\n\t\t\t//\t\t(i.e. \"mouseup\") or for removing the finger from the screen while touching the given node.\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tcancel: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to 'touchcancel'|'mouseleave' for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tover: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to 'mouseover' or touch equivalent for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tout: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to 'mouseout' or touch equivalent for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tenter: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to mouse.enter or touch equivalent for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t},\r\n\t\tleave: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegister a listener to mouse.leave or touch equivalent for the given node\r\n\t\t\t// node: Dom\r\n\t\t\t//\t\tTarget node to listen to\r\n\t\t\t// listener: Function\r\n\t\t\t//\t\tCallback function\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle which will be used to remove the listener by handle.remove()\r\n\t\t}\r\n\t};\r\n\t=====*/\r\n\r\n\thas(\"extend-dojo\") && (dojo.touch = touch);\r\n\r\n\treturn touch;\r\n});\r\n\ndefine('dijit/a11yclick',[\r\n\t\"dojo/keys\", // keys.ENTER keys.SPACE\r\n\t\"dojo/mouse\",\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\" // touch support for click is now there\r\n], function(keys, mouse, on, touch){\r\n\r\n\t// module:\r\n\t//\t\tdijit/a11yclick\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tCustom press, release, and click synthetic events\r\n\t\t//\t\twhich trigger on a left mouse click, touch, or space/enter keyup.\r\n\r\n\t\tclick: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLogical click operation for mouse, touch, or keyboard (space/enter key)\r\n\t\t},\r\n\t\tpress: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMousedown (left button), touchstart, or keydown (space or enter) corresponding to logical click operation.\r\n\t\t},\r\n\t\trelease: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMouseup (left button), touchend, or keyup (space or enter) corresponding to logical click operation.\r\n\t\t},\r\n\t\tmove: function(node, listener){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMouse cursor or a finger is dragged over the given node.\r\n\t\t}\r\n\t};\r\n\t=====*/\r\n\r\n\tfunction clickKey(/*Event*/ e){\r\n\t\t// Test if this keyboard event should be tracked as the start (if keydown) or end (if keyup) of a click event.\r\n\t\t// Only track for nodes marked to be tracked, and not for buttons or inputs,\r\n\t\t// since buttons handle keyboard click natively, and text inputs should not\r\n\t\t// prevent typing spaces or newlines.\r\n\t\tif((e.keyCode === keys.ENTER || e.keyCode === keys.SPACE) && !/input|button|textarea/i.test(e.target.nodeName)){\r\n\r\n\t\t\t// Test if a node or its ancestor has been marked with the dojoClick property to indicate special processing\r\n\t\t\tfor(var node = e.target; node; node = node.parentNode){\r\n\t\t\t\tif(node.dojoClick){ return true; }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar lastKeyDownNode;\r\n\r\n\ton(document, \"keydown\", function(e){\r\n\t\t//console.log(\"a11yclick: onkeydown, e.target = \", e.target, \", lastKeyDownNode was \", lastKeyDownNode, \", equality is \", (e.target === lastKeyDownNode));\r\n\t\tif(clickKey(e)){\r\n\t\t\t// needed on IE for when focus changes between keydown and keyup - otherwise dropdown menus do not work\r\n\t\t\tlastKeyDownNode = e.target;\r\n\r\n\t\t\t// Prevent viewport scrolling on space key in IE<9.\r\n\t\t\t// (Reproducible on test_Button.html on any of the first dijit/form/Button examples)\r\n\t\t\te.preventDefault();\r\n\t\t}else{\r\n\t\t\tlastKeyDownNode = null;\r\n\t\t}\r\n\t});\r\n\r\n\ton(document, \"keyup\", function(e){\r\n\t\t//console.log(\"a11yclick: onkeyup, e.target = \", e.target, \", lastKeyDownNode was \", lastKeyDownNode, \", equality is \", (e.target === lastKeyDownNode));\r\n\t\tif(clickKey(e) && e.target == lastKeyDownNode){\t// === breaks greasemonkey\r\n\t\t\t//need reset here or have problems in FF when focus returns to trigger element after closing popup/alert\r\n\t\t\tlastKeyDownNode = null;\r\n\r\n\t\t\ton.emit(e.target, \"click\", {\r\n\t\t\t\tcancelable: true,\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tctrlKey: e.ctrlKey,\r\n\t\t\t\tshiftKey: e.shiftKey,\r\n\t\t\t\tmetaKey: e.metaKey,\r\n\t\t\t\taltKey: e.altKey,\r\n\t\t\t\t_origType: e.type\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// I want to return a hash of the synthetic events, but for backwards compatibility the main return value\r\n\t// needs to be the click event.   Change for 2.0.\r\n\r\n\tvar click = function(node, listener){\r\n\t\t// Set flag on node so that keydown/keyup above emits click event.\r\n\t\t// Also enables fast click processing from dojo/touch.\r\n\t\tnode.dojoClick = true;\r\n\r\n\t\treturn on(node, \"click\", listener);\r\n\t};\r\n\tclick.click = click;\t// forward compatibility with 2.0\r\n\r\n\tclick.press =  function(node, listener){\r\n\t\tvar touchListener = on(node, touch.press, function(evt){\r\n\t\t\tif(evt.type == \"mousedown\" && !mouse.isLeft(evt)){\r\n\t\t\t\t// Ignore right click\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlistener(evt);\r\n\t\t}), keyListener = on(node, \"keydown\", function(evt){\r\n\t\t\tif(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n\t\t\t\tlistener(evt);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tremove: function(){\r\n\t\t\t\ttouchListener.remove();\r\n\t\t\t\tkeyListener.remove();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tclick.release =  function(node, listener){\r\n\t\tvar touchListener = on(node, touch.release, function(evt){\r\n\t\t\tif(evt.type == \"mouseup\" && !mouse.isLeft(evt)){\r\n\t\t\t\t// Ignore right click\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlistener(evt);\r\n\t\t}), keyListener = on(node, \"keyup\", function(evt){\r\n\t\t\tif(evt.keyCode === keys.ENTER || evt.keyCode === keys.SPACE){\r\n\t\t\t\tlistener(evt);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tremove: function(){\r\n\t\t\t\ttouchListener.remove();\r\n\t\t\t\tkeyListener.remove();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\tclick.move = touch.move;\t// just for convenience\r\n\r\n\treturn click;\r\n});\r\n\ndefine('dijit/_OnDijitClickMixin',[\r\n\t\"dojo/on\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/keys\", // keys.ENTER keys.SPACE\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/has\", // has(\"dom-addeventlistener\")\r\n\t\"./a11yclick\"\r\n], function(on, array, keys, declare, has, a11yclick){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_OnDijitClickMixin\r\n\r\n\tvar ret = declare(\"dijit._OnDijitClickMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.   New code should access the dijit/a11yclick event directly, ex:\r\n\t\t//\t\t|\tthis.own(on(node, a11yclick, function(){ ... }));\r\n\t\t//\r\n\t\t//\t\tMixing in this class will make _WidgetBase.connect(node, \"ondijitclick\", ...) work.\r\n\t\t//\t\tIt also used to be necessary to make templates with ondijitclick work, but now you can just require\r\n\t\t//\t\tdijit/a11yclick.\r\n\r\n\t\tconnect: function(obj, event, method){\r\n\t\t\t// override _WidgetBase.connect() to make this.connect(node, \"ondijitclick\", ...) work\r\n\t\t\treturn this.inherited(arguments, [obj, event == \"ondijitclick\" ? a11yclick : event, method]);\r\n\t\t}\r\n\t});\r\n\r\n\tret.a11yclick = a11yclick;\t// back compat\r\n\r\n\treturn ret;\r\n});\r\n\ndefine('dijit/_FocusMixin',[\r\n\t\"./focus\",\r\n\t\"./_WidgetBase\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\" // lang.extend\r\n], function(focus, _WidgetBase, declare, lang){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_FocusMixin\r\n\r\n\t// We don't know where _FocusMixin will occur in the inheritance chain, but we need the _onFocus()/_onBlur() below\r\n\t// to be last in the inheritance chain, so mixin to _WidgetBase.\r\n\tlang.extend(_WidgetBase, {\r\n\t\t// focused: [readonly] Boolean\r\n\t\t//\t\tThis widget or a widget it contains has focus, or is \"active\" because\r\n\t\t//\t\tit was recently clicked.\r\n\t\tfocused: false,\r\n\r\n\t\tonFocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the widget becomes \"active\" because\r\n\t\t\t//\t\tit or a widget inside of it either has focus, or has recently\r\n\t\t\t//\t\tbeen clicked.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the widget stops being \"active\" because\r\n\t\t\t//\t\tfocus moved to something outside of it, or the user\r\n\t\t\t//\t\tclicked somewhere outside of it, or the widget was\r\n\t\t\t//\t\thidden.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t_onFocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is where widgets do processing for when they are active,\r\n\t\t\t//\t\tsuch as changing CSS classes.  See onFocus() for more details.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.onFocus();\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is where widgets do processing for when they stop being active,\r\n\t\t\t//\t\tsuch as changing CSS classes.  See onBlur() for more details.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.onBlur();\r\n\t\t}\r\n\t});\r\n\r\n\treturn declare(\"dijit._FocusMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin to widget to provide _onFocus() and _onBlur() methods that\r\n\t\t//\t\tfire when a widget or its descendants get/lose focus\r\n\r\n\t\t// flag that I want _onFocus()/_onBlur() notifications from focus manager\r\n\t\t_focusManager: focus\r\n\t});\r\n\r\n});\r\n\ndefine('dijit/_Widget',[\r\n\t\"dojo/aspect\",\t// aspect.around\r\n\t\"dojo/_base/config\",\t// config.isDebug\r\n\t\"dojo/_base/connect\",\t// connect.connect\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/query\",\r\n\t\"dojo/ready\",\r\n\t\"./registry\",\t// registry.byNode\r\n\t\"./_WidgetBase\",\r\n\t\"./_OnDijitClickMixin\",\r\n\t\"./_FocusMixin\",\r\n\t\"dojo/uacss\",\t\t// browser sniffing (included for back-compat; subclasses may be using)\r\n\t\"./hccss\"\t\t// high contrast mode sniffing (included to set CSS classes on <body>, module ret value unused)\r\n], function(aspect, config, connect, declare, has, kernel, lang, query, ready,\r\n\t\t\tregistry, _WidgetBase, _OnDijitClickMixin, _FocusMixin){\r\n\r\n\r\n// module:\r\n//\t\tdijit/_Widget\r\n\r\n\r\nfunction connectToDomNode(){\r\n\t// summary:\r\n\t//\t\tIf user connects to a widget method === this function, then they will\r\n\t//\t\tinstead actually be connecting the equivalent event on this.domNode\r\n}\r\n\r\n// Trap dojo.connect() calls to connectToDomNode methods, and redirect to _Widget.on()\r\nfunction aroundAdvice(originalConnect){\r\n\treturn function(obj, event, scope, method){\r\n\t\tif(obj && typeof event == \"string\" && obj[event] == connectToDomNode){\r\n\t\t\treturn obj.on(event.substring(2).toLowerCase(), lang.hitch(scope, method));\r\n\t\t}\r\n\t\treturn originalConnect.apply(connect, arguments);\r\n\t};\r\n}\r\naspect.around(connect, \"connect\", aroundAdvice);\r\nif(kernel.connect){\r\n\taspect.around(kernel, \"connect\", aroundAdvice);\r\n}\r\n\r\nvar _Widget = declare(\"dijit._Widget\", [_WidgetBase, _OnDijitClickMixin, _FocusMixin], {\r\n\t// summary:\r\n\t//\t\tOld base class for widgets.   New widgets should extend `dijit/_WidgetBase` instead\r\n\t// description:\r\n\t//\t\tOld Base class for Dijit widgets.\r\n\t//\r\n\t//\t\tExtends _WidgetBase, adding support for:\r\n\t//\r\n\t//\t\t- declaratively/programatically specifying widget initialization parameters like\r\n\t//\t\t\tonMouseMove=\"foo\" that call foo when this.domNode gets a mousemove event\r\n\t//\t\t- ondijitclick:\r\n\t//\t\t\tSupport new data-dojo-attach-event=\"ondijitclick: ...\" that is triggered by a mouse click or a SPACE/ENTER keypress\r\n\t//\t\t- focus related functions:\r\n\t//\t\t\tIn particular, the onFocus()/onBlur() callbacks.   Driven internally by\r\n\t//\t\t\tdijit/_base/focus.js.\r\n\t//\t\t- deprecated methods\r\n\t//\t\t- onShow(), onHide(), onClose()\r\n\t//\r\n\t//\t\tAlso, by loading code in dijit/_base, turns on:\r\n\t//\r\n\t//\t\t- browser sniffing (putting browser class like `dj_ie` on `<html>` node)\r\n\t//\t\t- high contrast mode sniffing (add `dijit_a11y` class to `<body>` if machine is in high contrast mode)\r\n\r\n\r\n\t////////////////// DEFERRED CONNECTS ///////////////////\r\n\r\n\tonClick: connectToDomNode,\r\n\t/*=====\r\n\tonClick: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of mouse click events.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonDblClick: connectToDomNode,\r\n\t/*=====\r\n\tonDblClick: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of mouse double click events.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonKeyDown: connectToDomNode,\r\n\t/*=====\r\n\tonKeyDown: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of keys being pressed down.\r\n\t\t// event:\r\n\t\t//\t\tkey Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonKeyPress: connectToDomNode,\r\n\t/*=====\r\n\tonKeyPress: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of printable keys being typed.\r\n\t\t// event:\r\n\t\t//\t\tkey Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonKeyUp: connectToDomNode,\r\n\t/*=====\r\n\tonKeyUp: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of keys being released.\r\n\t\t// event:\r\n\t\t//\t\tkey Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseDown: connectToDomNode,\r\n\t/*=====\r\n\tonMouseDown: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse button is pressed down.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseMove: connectToDomNode,\r\n\t/*=====\r\n\tonMouseMove: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse moves over nodes contained within this widget.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseOut: connectToDomNode,\r\n\t/*=====\r\n\tonMouseOut: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse moves off of nodes contained within this widget.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseOver: connectToDomNode,\r\n\t/*=====\r\n\tonMouseOver: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse moves onto nodes contained within this widget.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseLeave: connectToDomNode,\r\n\t/*=====\r\n\tonMouseLeave: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse moves off of this widget.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseEnter: connectToDomNode,\r\n\t/*=====\r\n\tonMouseEnter: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse moves onto this widget.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\tonMouseUp: connectToDomNode,\r\n\t/*=====\r\n\tonMouseUp: function(event){\r\n\t\t// summary:\r\n\t\t//\t\tConnect to this function to receive notifications of when the mouse button is released.\r\n\t\t// event:\r\n\t\t//\t\tmouse Event\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\t=====*/\r\n\r\n\tconstructor: function(params /*===== ,srcNodeRef =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tCreate the widget.\r\n\t\t// params: Object|null\r\n\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t// srcNodeRef: DOMNode|String?\r\n\t\t//\t\tIf a srcNodeRef (DOM node) is specified:\r\n\t\t//\r\n\t\t//\t\t- use srcNodeRef.innerHTML as my contents\r\n\t\t//\t\t- if this is a behavioral widget then apply behavior to that srcNodeRef\r\n\t\t//\t\t- otherwise, replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t// extract parameters like onMouseMove that should connect directly to this.domNode\r\n\t\tthis._toConnect = {};\r\n\t\tfor(var name in params){\r\n\t\t\tif(this[name] === connectToDomNode){\r\n\t\t\t\tthis._toConnect[name.replace(/^on/, \"\").toLowerCase()] = params[name];\r\n\t\t\t\tdelete params[name];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tpostCreate: function(){\r\n\t\tthis.inherited(arguments);\r\n\r\n\t\t// perform connection from this.domNode to user specified handlers (ex: onMouseMove)\r\n\t\tfor(var name in this._toConnect){\r\n\t\t\tthis.on(name, this._toConnect[name]);\r\n\t\t}\r\n\t\tdelete this._toConnect;\r\n\t},\r\n\r\n\ton: function(/*String|Function*/ type, /*Function*/ func){\r\n\t\tif(this[this._onMap(type)] === connectToDomNode){\r\n\t\t\t// Use connect.connect() rather than on() to get handling for \"onmouseenter\" on non-IE,\r\n\t\t\t// normalization of onkeypress/onkeydown to behave like firefox, etc.\r\n\t\t\t// Also, need to specify context as \"this\" rather than the default context of the DOMNode\r\n\t\t\t// Remove in 2.0.\r\n\t\t\treturn connect.connect(this.domNode, type.toLowerCase(), this, func);\r\n\t\t}\r\n\t\treturn this.inherited(arguments);\r\n\t},\r\n\r\n\t_setFocusedAttr: function(val){\r\n\t\t// Remove this method in 2.0 (or sooner), just here to set _focused == focused, for back compat\r\n\t\t// (but since it's a private variable we aren't required to keep supporting it).\r\n\t\tthis._focused = val;\r\n\t\tthis._set(\"focused\", val);\r\n\t},\r\n\r\n\t////////////////// DEPRECATED METHODS ///////////////////\r\n\r\n\tsetAttribute: function(/*String*/ attr, /*anything*/ value){\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.  Use set() instead.\r\n\t\t// tags:\r\n\t\t//\t\tdeprecated\r\n\t\tkernel.deprecated(this.declaredClass+\"::setAttribute(attr, value) is deprecated. Use set() instead.\", \"\", \"2.0\");\r\n\t\tthis.set(attr, value);\r\n\t},\r\n\r\n\tattr: function(/*String|Object*/name, /*Object?*/value){\r\n\t\t// summary:\r\n\t\t//\t\tThis method is deprecated, use get() or set() directly.\r\n\t\t// name:\r\n\t\t//\t\tThe property to get or set. If an object is passed here and not\r\n\t\t//\t\ta string, its keys are used as names of attributes to be set\r\n\t\t//\t\tand the value of the object as values to set in the widget.\r\n\t\t// value:\r\n\t\t//\t\tOptional. If provided, attr() operates as a setter. If omitted,\r\n\t\t//\t\tthe current value of the named property is returned.\r\n\t\t// tags:\r\n\t\t//\t\tdeprecated\r\n\r\n\t\tvar args = arguments.length;\r\n\t\tif(args >= 2 || typeof name === \"object\"){ // setter\r\n\t\t\treturn this.set.apply(this, arguments);\r\n\t\t}else{ // getter\r\n\t\t\treturn this.get(name);\r\n\t\t}\r\n\t},\r\n\r\n\tgetDescendants: function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturns all the widgets contained by this, i.e., all widgets underneath this.containerNode.\r\n\t\t//\t\tThis method should generally be avoided as it returns widgets declared in templates, which are\r\n\t\t//\t\tsupposed to be internal/hidden, but it's left here for back-compat reasons.\r\n\r\n\t\tkernel.deprecated(this.declaredClass+\"::getDescendants() is deprecated. Use getChildren() instead.\", \"\", \"2.0\");\r\n\t\treturn this.containerNode ? query('[widgetId]', this.containerNode).map(registry.byNode) : []; // dijit/_WidgetBase[]\r\n\t},\r\n\r\n\t////////////////// MISCELLANEOUS METHODS ///////////////////\r\n\r\n\t_onShow: function(){\r\n\t\t// summary:\r\n\t\t//\t\tInternal method called when this widget is made visible.\r\n\t\t//\t\tSee `onShow` for details.\r\n\t\tthis.onShow();\r\n\t},\r\n\r\n\tonShow: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCalled when this widget becomes the selected pane in a\r\n\t\t//\t\t`dijit/layout/TabContainer`, `dijit/layout/StackContainer`,\r\n\t\t//\t\t`dijit/layout/AccordionContainer`, etc.\r\n\t\t//\r\n\t\t//\t\tAlso called to indicate display of a `dijit.Dialog`, `dijit.TooltipDialog`, or `dijit.TitlePane`.\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\r\n\tonHide: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCalled when another widget becomes the selected pane in a\r\n\t\t//\t\t`dijit/layout/TabContainer`, `dijit/layout/StackContainer`,\r\n\t\t//\t\t`dijit/layout/AccordionContainer`, etc.\r\n\t\t//\r\n\t\t//\t\tAlso called to indicate hide of a `dijit.Dialog`, `dijit.TooltipDialog`, or `dijit.TitlePane`.\r\n\t\t// tags:\r\n\t\t//\t\tcallback\r\n\t},\r\n\r\n\tonClose: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCalled when this widget is being displayed as a popup (ex: a Calendar popped\r\n\t\t//\t\tup from a DateTextBox), and it is hidden.\r\n\t\t//\t\tThis is called from the dijit.popup code, and should not be called directly.\r\n\t\t//\r\n\t\t//\t\tAlso used as a parameter for children of `dijit/layout/StackContainer` or subclasses.\r\n\t\t//\t\tCallback if a user tries to close the child.   Child will be closed if this function returns true.\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\r\n\t\treturn true;\t\t// Boolean\r\n\t}\r\n});\r\n\r\n// For back-compat, remove in 2.0.\r\nif(has(\"dijit-legacy-requires\")){\r\n\tready(0, function(){\r\n\t\tvar requires = [\"dijit/_base\"];\r\n\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t});\r\n}\r\nreturn _Widget;\r\n});\r\n\ndefine('dojo/text',[\"./_base/kernel\", \"require\", \"./has\", \"./has!host-browser?./request\"], function(dojo, require, has, request){\r\n\t// module:\r\n\t//\t\tdojo/text\r\n\tif (require.isBrowser===false) { // for build,will be changed with better implementation. by LWF\r\n\t\treturn {\r\n\t        load: function (name, req, onLoad, config) {\r\n\t            onLoad();\r\n\t        }\t\t\t\r\n\t\t};\r\n\t}\r\n\r\n\tvar getText;\r\n\tif(has(\"host-browser\")){\r\n\t\tgetText= function(url, sync, load){\r\n\t\t\trequest(url, {sync:!!sync, headers: { 'X-Requested-With': null } }).then(load);\r\n\t\t};\r\n\t}else{\r\n\t\t// Path for node.js and rhino, to load from local file system.\r\n\t\t// TODO: use node.js native methods rather than depending on a require.getText() method to exist.\r\n\t\tif(require.getText){\r\n\t\t\tgetText= require.getText;\r\n\t\t}else{\r\n\t\t\tconsole.error(\"dojo/text plugin failed to load because loader does not support getText\");\r\n\t\t}\r\n\t}\r\n\r\n\tvar\r\n\t\ttheCache = {},\r\n\r\n\t\tstrip= function(text){\r\n\t\t\t//Strips <?xml ...?> declarations so that external SVG and XML\r\n\t\t\t//documents can be added to a document without worry. Also, if the string\r\n\t\t\t//is an HTML document, only the part inside the body tag is returned.\r\n\t\t\tif(text){\r\n\t\t\t\ttext= text.replace(/^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im, \"\");\r\n\t\t\t\tvar matches= text.match(/<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im);\r\n\t\t\t\tif(matches){\r\n\t\t\t\t\ttext= matches[1];\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ttext = \"\";\r\n\t\t\t}\r\n\t\t\treturn text;\r\n\t\t},\r\n\r\n\t\tnotFound = {},\r\n\r\n\t\tpending = {};\r\n\r\n\tdojo.cache = function(/*String||Object*/module, /*String*/url, /*String||Object?*/value){\r\n\t\t// summary:\r\n\t\t//\t\tA getter and setter for storing the string content associated with the\r\n\t\t//\t\tmodule and url arguments.\r\n\t\t// description:\r\n\t\t//\t\tIf module is a string that contains slashes, then it is interpretted as a fully\r\n\t\t//\t\tresolved path (typically a result returned by require.toUrl), and url should not be\r\n\t\t//\t\tprovided. This is the preferred signature. If module is a string that does not\r\n\t\t//\t\tcontain slashes, then url must also be provided and module and url are used to\r\n\t\t//\t\tcall `dojo.moduleUrl()` to generate a module URL. This signature is deprecated.\r\n\t\t//\t\tIf value is specified, the cache value for the moduleUrl will be set to\r\n\t\t//\t\tthat value. Otherwise, dojo.cache will fetch the moduleUrl and store it\r\n\t\t//\t\tin its internal cache and return that cached value for the URL. To clear\r\n\t\t//\t\ta cache value pass null for value. Since XMLHttpRequest (XHR) is used to fetch the\r\n\t\t//\t\tthe URL contents, only modules on the same domain of the page can use this capability.\r\n\t\t//\t\tThe build system can inline the cache values though, to allow for xdomain hosting.\r\n\t\t// module: String||Object\r\n\t\t//\t\tIf a String with slashes, a fully resolved path; if a String without slashes, the\r\n\t\t//\t\tmodule name to use for the base part of the URL, similar to module argument\r\n\t\t//\t\tto `dojo.moduleUrl`. If an Object, something that has a .toString() method that\r\n\t\t//\t\tgenerates a valid path for the cache item. For example, a dojo._Url object.\r\n\t\t// url: String\r\n\t\t//\t\tThe rest of the path to append to the path derived from the module argument. If\r\n\t\t//\t\tmodule is an object, then this second argument should be the \"value\" argument instead.\r\n\t\t// value: String||Object?\r\n\t\t//\t\tIf a String, the value to use in the cache for the module/url combination.\r\n\t\t//\t\tIf an Object, it can have two properties: value and sanitize. The value property\r\n\t\t//\t\tshould be the value to use in the cache, and sanitize can be set to true or false,\r\n\t\t//\t\tto indicate if XML declarations should be removed from the value and if the HTML\r\n\t\t//\t\tinside a body tag in the value should be extracted as the real value. The value argument\r\n\t\t//\t\tor the value property on the value argument are usually only used by the build system\r\n\t\t//\t\tas it inlines cache content.\r\n\t\t// example:\r\n\t\t//\t\tTo ask dojo.cache to fetch content and store it in the cache (the dojo[\"cache\"] style\r\n\t\t//\t\tof call is used to avoid an issue with the build system erroneously trying to intern\r\n\t\t//\t\tthis example. To get the build system to intern your dojo.cache calls, use the\r\n\t\t//\t\t\"dojo.cache\" style of call):\r\n\t\t//\t\t| //If template.html contains \"<h1>Hello</h1>\" that will be\r\n\t\t//\t\t| //the value for the text variable.\r\n\t\t//\t\t| //Note: This is pre-AMD, deprecated syntax\r\n\t\t//\t\t| var text = dojo[\"cache\"](\"my.module\", \"template.html\");\r\n\t\t// example:\r\n\t\t//\t\tTo ask dojo.cache to fetch content and store it in the cache, and sanitize the input\r\n\t\t//\t\t (the dojo[\"cache\"] style of call is used to avoid an issue with the build system\r\n\t\t//\t\terroneously trying to intern this example. To get the build system to intern your\r\n\t\t//\t\tdojo.cache calls, use the \"dojo.cache\" style of call):\r\n\t\t//\t\t| //If template.html contains \"<html><body><h1>Hello</h1></body></html>\", the\r\n\t\t//\t\t| //text variable will contain just \"<h1>Hello</h1>\".\r\n\t\t//\t\t| //Note: This is pre-AMD, deprecated syntax\r\n\t\t//\t\t| var text = dojo[\"cache\"](\"my.module\", \"template.html\", {sanitize: true});\r\n\t\t// example:\r\n\t\t//\t\tSame example as previous, but demonstrates how an object can be passed in as\r\n\t\t//\t\tthe first argument, then the value argument can then be the second argument.\r\n\t\t//\t\t| //If template.html contains \"<html><body><h1>Hello</h1></body></html>\", the\r\n\t\t//\t\t| //text variable will contain just \"<h1>Hello</h1>\".\r\n\t\t//\t\t| //Note: This is pre-AMD, deprecated syntax\r\n\t\t//\t\t| var text = dojo[\"cache\"](new dojo._Url(\"my/module/template.html\"), {sanitize: true});\r\n\r\n\t\t//\t * (string string [value]) => (module, url, value)\r\n\t\t//\t * (object [value])        => (module, value), url defaults to \"\"\r\n\t\t//\r\n\t\t//\t * if module is an object, then it must be convertable to a string\r\n\t\t//\t * (module, url) module + (url ? (\"/\" + url) : \"\") must be a legal argument to require.toUrl\r\n\t\t//\t * value may be a string or an object; if an object then may have the properties \"value\" and/or \"sanitize\"\r\n\t\tvar key;\r\n\t\tif(typeof module==\"string\"){\r\n\t\t\tif(/\\//.test(module)){\r\n\t\t\t\t// module is a version 1.7+ resolved path\r\n\t\t\t\tkey = module;\r\n\t\t\t\tvalue = url;\r\n\t\t\t}else{\r\n\t\t\t\t// module is a version 1.6- argument to dojo.moduleUrl\r\n\t\t\t\tkey = require.toUrl(module.replace(/\\./g, \"/\") + (url ? (\"/\" + url) : \"\"));\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tkey = module + \"\";\r\n\t\t\tvalue = url;\r\n\t\t}\r\n\t\tvar\r\n\t\t\tval = (value != undefined && typeof value != \"string\") ? value.value : value,\r\n\t\t\tsanitize = value && value.sanitize;\r\n\r\n\t\tif(typeof val == \"string\"){\r\n\t\t\t//We have a string, set cache value\r\n\t\t\ttheCache[key] = val;\r\n\t\t\treturn sanitize ? strip(val) : val;\r\n\t\t}else if(val === null){\r\n\t\t\t//Remove cached value\r\n\t\t\tdelete theCache[key];\r\n\t\t\treturn null;\r\n\t\t}else{\r\n\t\t\t//Allow cache values to be empty strings. If key property does\r\n\t\t\t//not exist, fetch it.\r\n\t\t\tif(!(key in theCache)){\r\n\t\t\t\tgetText(key, true, function(text){\r\n\t\t\t\t\ttheCache[key]= text;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn sanitize ? strip(theCache[key]) : theCache[key];\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tThis module implements the dojo/text! plugin and the dojo.cache API.\r\n\t\t// description:\r\n\t\t//\t\tWe choose to include our own plugin to leverage functionality already contained in dojo\r\n\t\t//\t\tand thereby reduce the size of the plugin compared to various foreign loader implementations.\r\n\t\t//\t\tAlso, this allows foreign AMD loaders to be used without their plugins.\r\n\t\t//\r\n\t\t//\t\tCAUTION: this module is designed to optionally function synchronously to support the dojo v1.x synchronous\r\n\t\t//\t\tloader. This feature is outside the scope of the CommonJS plugins specification.\r\n\r\n\t\t// the dojo/text caches it's own resources because of dojo.cache\r\n\t\tdynamic: true,\r\n\r\n\t\tnormalize: function(id, toAbsMid){\r\n\t\t\t// id is something like (path may be relative):\r\n\t\t\t//\r\n\t\t\t//\t \"path/to/text.html\"\r\n\t\t\t//\t \"path/to/text.html!strip\"\r\n\t\t\tvar parts= id.split(\"!\"),\r\n\t\t\t\turl= parts[0];\r\n\t\t\treturn (/^\\./.test(url) ? toAbsMid(url) : url) + (parts[1] ? \"!\" + parts[1] : \"\");\r\n\t\t},\r\n\r\n\t\tload: function(id, require, load){\r\n\t\t\t// id: String\r\n\t\t\t//\t\tPath to the resource.\r\n\t\t\t// require: Function\r\n\t\t\t//\t\tObject that include the function toUrl with given id returns a valid URL from which to load the text.\r\n\t\t\t// load: Function\r\n\t\t\t//\t\tCallback function which will be called, when the loading finished.\r\n\r\n\t\t\t// id is something like (path is always absolute):\r\n\t\t\t//\r\n\t\t\t//\t \"path/to/text.html\"\r\n\t\t\t//\t \"path/to/text.html!strip\"\r\n\t\t\tvar\r\n\t\t\t\tparts= id.split(\"!\"),\r\n\t\t\t\tstripFlag= parts.length>1,\r\n\t\t\t\tabsMid= parts[0],\r\n\t\t\t\turl = require.toUrl(parts[0]),\r\n\t\t\t\trequireCacheUrl = \"url:\" + url,\r\n\t\t\t\ttext = notFound,\r\n\t\t\t\tfinish = function(text){\r\n\t\t\t\t\tload(stripFlag ? strip(text) : text);\r\n\t\t\t\t};\r\n\t\t\tif(absMid in theCache){\r\n\t\t\t\ttext = theCache[absMid];\r\n\t\t\t}else if(require.cache && requireCacheUrl in require.cache){\r\n\t\t\t\ttext = require.cache[requireCacheUrl];\r\n\t\t\t}else if(url in theCache){\r\n\t\t\t\ttext = theCache[url];\r\n\t\t\t}\r\n\t\t\tif(text===notFound){\r\n\t\t\t\tif(pending[url]){\r\n\t\t\t\t\tpending[url].push(finish);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar pendingList = pending[url] = [finish];\r\n\t\t\t\t\tgetText(url, !require.async, function(text){\r\n\t\t\t\t\t\ttheCache[absMid]= theCache[url]= text;\r\n\t\t\t\t\t\tfor(var i = 0; i<pendingList.length;){\r\n\t\t\t\t\t\t\tpendingList[i++](text);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete pending[url];\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfinish(text);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n});\r\n\r\n\ndefine('dojo/cache',[\"./_base/kernel\", \"./text\"], function(dojo){\r\n\t// module:\r\n\t//\t\tdojo/cache\r\n\r\n\t// dojo.cache is defined in dojo/text\r\n\treturn dojo.cache;\r\n});\r\n\ndefine('dojo/string',[\r\n\t\"./_base/kernel\",\t// kernel.global\r\n\t\"./_base/lang\"\r\n], function(kernel, lang){\r\n\r\n// module:\r\n//\t\tdojo/string\r\nvar ESCAPE_REGEXP = /[&<>'\"\\/]/g;\r\nvar ESCAPE_MAP = {\r\n\t'&': '&amp;',\r\n\t'<': '&lt;',\r\n\t'>': '&gt;',\r\n\t'\"': '&quot;',\r\n\t\"'\": '&#x27;',\r\n\t'/': '&#x2F;'\r\n};\r\nvar string = {\r\n\t// summary:\r\n\t//\t\tString utilities for Dojo\r\n};\r\nlang.setObject(\"dojo.string\", string);\r\n\r\nstring.escape = function(/*String*/str){\r\n\t// summary:\r\n\t//\t\tEfficiently escape a string for insertion into HTML (innerHTML or attributes), replacing &, <, >, \", ', and / characters.\r\n\t// str:\r\n\t//\t\tthe string to escape\r\n\tif(!str){ return \"\"; }\r\n\treturn str.replace(ESCAPE_REGEXP, function(c) {\r\n\t\treturn ESCAPE_MAP[c];\r\n\t});\r\n};\r\n\r\nstring.rep = function(/*String*/str, /*Integer*/num){\r\n\t// summary:\r\n\t//\t\tEfficiently replicate a string `n` times.\r\n\t// str:\r\n\t//\t\tthe string to replicate\r\n\t// num:\r\n\t//\t\tnumber of times to replicate the string\r\n\r\n\tif(num <= 0 || !str){ return \"\"; }\r\n\r\n\tvar buf = [];\r\n\tfor(;;){\r\n\t\tif(num & 1){\r\n\t\t\tbuf.push(str);\r\n\t\t}\r\n\t\tif(!(num >>= 1)){ break; }\r\n\t\tstr += str;\r\n\t}\r\n\treturn buf.join(\"\");\t// String\r\n};\r\n\r\nstring.pad = function(/*String*/text, /*Integer*/size, /*String?*/ch, /*Boolean?*/end){\r\n\t// summary:\r\n\t//\t\tPad a string to guarantee that it is at least `size` length by\r\n\t//\t\tfilling with the character `ch` at either the start or end of the\r\n\t//\t\tstring. Pads at the start, by default.\r\n\t// text:\r\n\t//\t\tthe string to pad\r\n\t// size:\r\n\t//\t\tlength to provide padding\r\n\t// ch:\r\n\t//\t\tcharacter to pad, defaults to '0'\r\n\t// end:\r\n\t//\t\tadds padding at the end if true, otherwise pads at start\r\n\t// example:\r\n\t//\t|\t// Fill the string to length 10 with \"+\" characters on the right.  Yields \"Dojo++++++\".\r\n\t//\t|\tstring.pad(\"Dojo\", 10, \"+\", true);\r\n\r\n\tif(!ch){\r\n\t\tch = '0';\r\n\t}\r\n\tvar out = String(text),\r\n\t\tpad = string.rep(ch, Math.ceil((size - out.length) / ch.length));\r\n\treturn end ? out + pad : pad + out;\t// String\r\n};\r\n\r\nstring.substitute = function(\t/*String*/\t\ttemplate,\r\n\t\t\t\t\t\t\t\t\t/*Object|Array*/map,\r\n\t\t\t\t\t\t\t\t\t/*Function?*/\ttransform,\r\n\t\t\t\t\t\t\t\t\t/*Object?*/\t\tthisObject){\r\n\t// summary:\r\n\t//\t\tPerforms parameterized substitutions on a string. Throws an\r\n\t//\t\texception if any parameter is unmatched.\r\n\t// template:\r\n\t//\t\ta string with expressions in the form `${key}` to be replaced or\r\n\t//\t\t`${key:format}` which specifies a format function. keys are case-sensitive.\r\n\t// map:\r\n\t//\t\thash to search for substitutions\r\n\t// transform:\r\n\t//\t\ta function to process all parameters before substitution takes\r\n\t//\t\tplace, e.g. mylib.encodeXML\r\n\t// thisObject:\r\n\t//\t\twhere to look for optional format function; default to the global\r\n\t//\t\tnamespace\r\n\t// example:\r\n\t//\t\tSubstitutes two expressions in a string from an Array or Object\r\n\t//\t|\t// returns \"File 'foo.html' is not found in directory '/temp'.\"\r\n\t//\t|\t// by providing substitution data in an Array\r\n\t//\t|\tstring.substitute(\r\n\t//\t|\t\t\"File '${0}' is not found in directory '${1}'.\",\r\n\t//\t|\t\t[\"foo.html\",\"/temp\"]\r\n\t//\t|\t);\r\n\t//\t|\r\n\t//\t|\t// also returns \"File 'foo.html' is not found in directory '/temp'.\"\r\n\t//\t|\t// but provides substitution data in an Object structure.  Dotted\r\n\t//\t|\t// notation may be used to traverse the structure.\r\n\t//\t|\tstring.substitute(\r\n\t//\t|\t\t\"File '${name}' is not found in directory '${info.dir}'.\",\r\n\t//\t|\t\t{ name: \"foo.html\", info: { dir: \"/temp\" } }\r\n\t//\t|\t);\r\n\t// example:\r\n\t//\t\tUse a transform function to modify the values:\r\n\t//\t|\t// returns \"file 'foo.html' is not found in directory '/temp'.\"\r\n\t//\t|\tstring.substitute(\r\n\t//\t|\t\t\"${0} is not found in ${1}.\",\r\n\t//\t|\t\t[\"foo.html\",\"/temp\"],\r\n\t//\t|\t\tfunction(str){\r\n\t//\t|\t\t\t// try to figure out the type\r\n\t//\t|\t\t\tvar prefix = (str.charAt(0) == \"/\") ? \"directory\": \"file\";\r\n\t//\t|\t\t\treturn prefix + \" '\" + str + \"'\";\r\n\t//\t|\t\t}\r\n\t//\t|\t);\r\n\t// example:\r\n\t//\t\tUse a formatter\r\n\t//\t|\t// returns \"thinger -- howdy\"\r\n\t//\t|\tstring.substitute(\r\n\t//\t|\t\t\"${0:postfix}\", [\"thinger\"], null, {\r\n\t//\t|\t\t\tpostfix: function(value, key){\r\n\t//\t|\t\t\t\treturn value + \" -- howdy\";\r\n\t//\t|\t\t\t}\r\n\t//\t|\t\t}\r\n\t//\t|\t);\r\n\r\n\tthisObject = thisObject || kernel.global;\r\n\ttransform = transform ?\r\n\t\tlang.hitch(thisObject, transform) : function(v){ return v; };\r\n\r\n\treturn template.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g,\r\n\t\tfunction(match, key, format){\r\n\t\t\tvar value = lang.getObject(key, false, map);\r\n\t\t\tif(format){\r\n\t\t\t\tvalue = lang.getObject(format, false, thisObject).call(thisObject, value, key);\r\n\t\t\t}\r\n\t\t\treturn transform(value, key).toString();\r\n\t\t}); // String\r\n};\r\n\r\nstring.trim = String.prototype.trim ?\r\n\tlang.trim : // aliasing to the native function\r\n\tfunction(str){\r\n\t\tstr = str.replace(/^\\s+/, '');\r\n\t\tfor(var i = str.length - 1; i >= 0; i--){\r\n\t\t\tif(/\\S/.test(str.charAt(i))){\r\n\t\t\t\tstr = str.substring(0, i + 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str;\r\n\t};\r\n\r\n/*=====\r\n string.trim = function(str){\r\n\t // summary:\r\n\t //\t\tTrims whitespace from both sides of the string\r\n\t // str: String\r\n\t //\t\tString to be trimmed\r\n\t // returns: String\r\n\t //\t\tReturns the trimmed string\r\n\t // description:\r\n\t //\t\tThis version of trim() was taken from [Steven Levithan's blog](http://blog.stevenlevithan.com/archives/faster-trim-javascript).\r\n\t //\t\tThe short yet performant version of this function is dojo/_base/lang.trim(),\r\n\t //\t\twhich is part of Dojo base.  Uses String.prototype.trim instead, if available.\r\n\t return \"\";\t// String\r\n };\r\n =====*/\r\n\r\n\treturn string;\r\n});\r\n\ndefine('dijit/_AttachMixin',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/connect\",\t// remove for 2.0\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/mouse\",\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\",\r\n\t\"./_WidgetBase\"\r\n], function(require, array, connect, declare, lang, mouse, on, touch, _WidgetBase){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_AttachMixin\r\n\r\n\t// Map from string name like \"mouseenter\" to synthetic event like mouse.enter\r\n\tvar synthEvents = lang.delegate(touch, {\r\n\t\t\"mouseenter\": mouse.enter,\r\n\t\t\"mouseleave\": mouse.leave,\r\n\t\t\"keypress\": connect._keypress\t// remove for 2.0\r\n\t});\r\n\r\n\t// To be lightweight, _AttachMixin doesn't require() dijit/a11yclick.\r\n\t// If the subclass has a template using \"ondijitclick\", it must load dijit/a11yclick itself.\r\n\t// In that case, the a11yclick variable below will get set to point to that synthetic event.\r\n\tvar a11yclick;\r\n\r\n\tvar _AttachMixin = declare(\"dijit._AttachMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets to attach to dom nodes and setup events via\r\n\t\t//\t\tconvenient data-dojo-attach-point and data-dojo-attach-event DOM attributes.\r\n\t\t//\r\n\t\t//\t\tSuperclass of _TemplatedMixin, and can also be used standalone when templates are pre-rendered on the\r\n\t\t//\t\tserver.\r\n\t\t//\r\n\t\t//\t\tDoes not [yet] handle widgets like ContentPane with this.containerNode set.   It should skip\r\n\t\t//\t\tscanning for data-dojo-attach-point and data-dojo-attach-event inside this.containerNode, but it\r\n\t\t//\t\tdoesn't.\r\n\r\n/*=====\r\n\t\t// _attachPoints: [private] String[]\r\n\t\t//\t\tList of widget attribute names associated with data-dojo-attach-point=... in the\r\n\t\t//\t\ttemplate, ex: [\"containerNode\", \"labelNode\"]\r\n\t\t_attachPoints: [],\r\n\r\n\t\t// _attachEvents: [private] Handle[]\r\n\t\t//\t\tList of connections associated with data-dojo-attach-event=... in the\r\n\t\t//\t\ttemplate\r\n\t\t_attachEvents: [],\r\n\r\n\t\t// attachScope: [public] Object\r\n\t\t//\t\tObject to which attach points and events will be scoped.  Defaults\r\n\t\t//\t\tto 'this'.\r\n\t\tattachScope: undefined,\r\n\r\n\t\t// searchContainerNode: [protected] Boolean\r\n\t\t//\t\tSearch descendants of this.containerNode for data-dojo-attach-point and data-dojo-attach-event.\r\n\t\t//\t\tShould generally be left false (the default value) both for performance and to avoid failures when\r\n\t\t//\t\tthis.containerNode holds other _AttachMixin instances with their own attach points and events.\r\n \t\tsearchContainerNode: false,\r\n =====*/\r\n\r\n\t\tconstructor: function(/*===== params, srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree.\r\n\r\n\t\t\tthis._attachPoints = [];\r\n\t\t\tthis._attachEvents = [];\r\n\t\t},\r\n\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach to DOM nodes marked with special attributes.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// recurse through the node, looking for, and attaching to, our\r\n\t\t\t// attachment points and events, which should be defined on the template node.\r\n\t\t\tthis._attachTemplateNodes(this.domNode);\r\n\r\n\t\t\tthis._beforeFillContent();\t\t// hook for _WidgetsInTemplateMixin\r\n\t\t},\r\n\r\n\t\t_beforeFillContent: function(){\r\n\t\t},\r\n\r\n\t\t_attachTemplateNodes: function(rootNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIterate through the dom nodes and attach functions and nodes accordingly.\r\n\t\t\t// description:\r\n\t\t\t//\t\tMap widget properties and functions to the handlers specified in\r\n\t\t\t//\t\tthe dom node and it's descendants. This function iterates over all\r\n\t\t\t//\t\tnodes and looks for these properties:\r\n\t\t\t//\r\n\t\t\t//\t\t- dojoAttachPoint/data-dojo-attach-point\r\n\t\t\t//\t\t- dojoAttachEvent/data-dojo-attach-event\r\n\t\t\t// rootNode: DomNode\r\n\t\t\t//\t\tThe node to search for properties. All descendants will be searched.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// DFS to process all nodes except those inside of this.containerNode\r\n\t\t\tvar node = rootNode;\r\n\t\t\twhile(true){\r\n\t\t\t\tif(node.nodeType == 1 && (this._processTemplateNode(node, function(n,p){ return n.getAttribute(p); },\r\n\t\t\t\t\t\tthis._attach) || this.searchContainerNode) && node.firstChild){\r\n\t\t\t\t\tnode = node.firstChild;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(node == rootNode){ return; }\r\n\t\t\t\t\twhile(!node.nextSibling){\r\n\t\t\t\t\t\tnode = node.parentNode;\r\n\t\t\t\t\t\tif(node == rootNode){ return; }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_processTemplateNode: function(/*DOMNode|Widget*/ baseNode, getAttrFunc, attachFunc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcess data-dojo-attach-point and data-dojo-attach-event for given node or widget.\r\n\t\t\t//\t\tReturns true if caller should process baseNode's children too.\r\n\r\n\t\t\tvar ret = true;\r\n\r\n\t\t\t// Process data-dojo-attach-point\r\n\t\t\tvar _attachScope = this.attachScope || this,\r\n\t\t\t\tattachPoint = getAttrFunc(baseNode, \"dojoAttachPoint\") || getAttrFunc(baseNode, \"data-dojo-attach-point\");\r\n\t\t\tif(attachPoint){\r\n\t\t\t\tvar point, points = attachPoint.split(/\\s*,\\s*/);\r\n\t\t\t\twhile((point = points.shift())){\r\n\t\t\t\t\tif(lang.isArray(_attachScope[point])){\r\n\t\t\t\t\t\t_attachScope[point].push(baseNode);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_attachScope[point] = baseNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tret = (point != \"containerNode\");\r\n\t\t\t\t\tthis._attachPoints.push(point);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Process data-dojo-attach-event\r\n\t\t\tvar attachEvent = getAttrFunc(baseNode, \"dojoAttachEvent\") || getAttrFunc(baseNode, \"data-dojo-attach-event\");\r\n\t\t\tif(attachEvent){\r\n\t\t\t\t// NOTE: we want to support attributes that have the form\r\n\t\t\t\t// \"domEvent: nativeEvent; ...\"\r\n\t\t\t\tvar event, events = attachEvent.split(/\\s*,\\s*/);\r\n\t\t\t\tvar trim = lang.trim;\r\n\t\t\t\twhile((event = events.shift())){\r\n\t\t\t\t\tif(event){\r\n\t\t\t\t\t\tvar thisFunc = null;\r\n\t\t\t\t\t\tif(event.indexOf(\":\") != -1){\r\n\t\t\t\t\t\t\t// oh, if only JS had tuple assignment\r\n\t\t\t\t\t\t\tvar funcNameArr = event.split(\":\");\r\n\t\t\t\t\t\t\tevent = trim(funcNameArr[0]);\r\n\t\t\t\t\t\t\tthisFunc = trim(funcNameArr[1]);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tevent = trim(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!thisFunc){\r\n\t\t\t\t\t\t\tthisFunc = event;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._attachEvents.push(attachFunc(baseNode, event, lang.hitch(_attachScope, thisFunc)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t_attach: function(node, type, func){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRoughly corresponding to dojo/on, this is the default function for processing a\r\n\t\t\t//\t\tdata-dojo-attach-event.  Meant to attach to DOMNodes, not to widgets.\r\n\t\t\t// node: DOMNode\r\n\t\t\t//\t\tThe node to setup a listener on.\r\n\t\t\t// type: String\r\n\t\t\t//\t\tEvent name like \"click\".\r\n\t\t\t// getAttrFunc: Function\r\n\t\t\t//\t\tFunction to get the specified property for a given DomNode/Widget.\r\n\t\t\t// attachFunc: Function?\r\n\t\t\t//\t\tAttaches an event handler from the specified node/widget to specified function.\r\n\r\n\t\t\t// Map special type names like \"mouseenter\" to synthetic events.\r\n\t\t\t// Subclasses are responsible to require() dijit/a11yclick if they want to use it.\r\n\t\t\ttype = type.replace(/^on/, \"\").toLowerCase();\r\n\t\t\tif(type == \"dijitclick\"){\r\n\t\t\t\ttype = a11yclick || (a11yclick = require(\"./a11yclick\"));\r\n\t\t\t}else{\r\n\t\t\t\ttype = synthEvents[type] || type;\r\n\t\t\t}\r\n\r\n\t\t\treturn on(node, type, func);\r\n\t\t},\r\n\r\n\t\t_detachTemplateNodes: function() {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetach and clean up the attachments made in _attachtempalteNodes.\r\n\r\n\t\t\t// Delete all attach points to prevent IE6 memory leaks.\r\n\t\t\tvar _attachScope = this.attachScope || this;\r\n\t\t\tarray.forEach(this._attachPoints, function(point){\r\n\t\t\t\tdelete _attachScope[point];\r\n\t\t\t});\r\n\t\t\tthis._attachPoints = [];\r\n\r\n\t\t\t// And same for event handlers\r\n\t\t\tarray.forEach(this._attachEvents, function(handle){ handle.remove(); });\r\n\t\t\tthis._attachEvents = [];\r\n\t\t},\r\n\r\n\t\tdestroyRendering: function(){\r\n\t\t\tthis._detachTemplateNodes();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\t// These arguments can be specified for widgets which are used in templates.\r\n\t// Since any widget can be specified as sub widgets in template, mix it\r\n\t// into the base widget class.  (This is a hack, but it's effective.).\r\n\t// Remove for 2.0.   Also, hide from API doc parser.\r\n\tlang.extend(_WidgetBase, /*===== {} || =====*/ {\r\n\t\tdojoAttachEvent: \"\",\r\n\t\tdojoAttachPoint: \"\"\r\n\t});\r\n\t\r\n\treturn _AttachMixin;\r\n});\r\n\ndefine('dijit/_TemplatedMixin',[\r\n\t\"dojo/cache\",\t// dojo.cache\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.destroy, domConstruct.toDom\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/string\", // string.substitute string.trim\r\n\t\"./_AttachMixin\"\r\n], function(cache, declare, domConstruct, lang, on, has, string, _AttachMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_TemplatedMixin\r\n\r\n\tvar _TemplatedMixin = declare(\"dijit._TemplatedMixin\", _AttachMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets that are instantiated from a template\r\n\r\n\t\t// templateString: [protected] String\r\n\t\t//\t\tA string that represents the widget template.\r\n\t\t//\t\tUse in conjunction with dojo.cache() to load from a file.\r\n\t\ttemplateString: null,\r\n\r\n\t\t// templatePath: [protected deprecated] String\r\n\t\t//\t\tPath to template (HTML file) for this widget relative to dojo.baseUrl.\r\n\t\t//\t\tDeprecated: use templateString with require([... \"dojo/text!...\"], ...) instead\r\n\t\ttemplatePath: null,\r\n\r\n\t\t// skipNodeCache: [protected] Boolean\r\n\t\t//\t\tIf using a cached widget template nodes poses issues for a\r\n\t\t//\t\tparticular widget class, it can set this property to ensure\r\n\t\t//\t\tthat its template is always re-built from a string\r\n\t\t_skipNodeCache: false,\r\n\r\n/*=====\r\n\t\t// _rendered: Boolean\r\n\t\t//\t\tNot normally use, but this flag can be set by the app if the server has already rendered the template,\r\n\t\t//\t\ti.e. already inlining the template for the widget into the main page.   Reduces _TemplatedMixin to\r\n\t\t//\t\tjust function like _AttachMixin.\r\n\t\t_rendered: false,\r\n=====*/\r\n\r\n\t\t// Set _AttachMixin.searchContainerNode to true for back-compat for widgets that have data-dojo-attach-point's\r\n\t\t// and events inside this.containerNode.   Remove for 2.0.\r\n\t\tsearchContainerNode: true,\r\n\r\n\t\t_stringRepl: function(tmpl){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDoes substitution of ${foo} type properties in template string\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar className = this.declaredClass, _this = this;\r\n\t\t\t// Cache contains a string because we need to do property replacement\r\n\t\t\t// do the property replacement\r\n\t\t\treturn string.substitute(tmpl, this, function(value, key){\r\n\t\t\t\tif(key.charAt(0) == '!'){ value = lang.getObject(key.substr(1), false, _this); }\r\n\t\t\t\tif(typeof value == \"undefined\"){ throw new Error(className+\" template:\"+key); } // a debugging aide\r\n\t\t\t\tif(value == null){ return \"\"; }\r\n\r\n\t\t\t\t// Substitution keys beginning with ! will skip the transform step,\r\n\t\t\t\t// in case a user wishes to insert unescaped markup, e.g. ${!foo}\r\n\t\t\t\treturn key.charAt(0) == \"!\" ? value : this._escapeValue(\"\" + value);\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_escapeValue: function(/*String*/ val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEscape a value to be inserted into the template, either into an attribute value\r\n\t\t\t//\t\t(ex: foo=\"${bar}\") or as inner text of an element (ex: <span>${foo}</span>)\r\n\r\n\t\t\t// Safer substitution, see heading \"Attribute values\" in\r\n\t\t\t// http://www.w3.org/TR/REC-html40/appendix/notes.html#h-B.3.2\r\n\t\t\t// and also https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet#RULE_.231_-_HTML_Escape_Before_Inserting_Untrusted_Data_into_HTML_Element_Content\r\n\t\t\treturn val.replace(/[\"'<>&]/g, function(val){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\"&\": \"&amp;\",\r\n\t\t\t\t\t\"<\": \"&lt;\",\r\n\t\t\t\t\t\">\": \"&gt;\",\r\n\t\t\t\t\t\"\\\"\": \"&quot;\",\r\n\t\t\t\t\t\"'\": \"&#x27;\"\r\n\t\t\t\t}[val];\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConstruct the UI for this widget from a template, setting this.domNode.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!this._rendered){\r\n\t\t\t\tif(!this.templateString){\r\n\t\t\t\t\tthis.templateString = cache(this.templatePath, {sanitize: true});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Lookup cached version of template, and download to cache if it\r\n\t\t\t\t// isn't there already.  Returns either a DomNode or a string, depending on\r\n\t\t\t\t// whether or not the template contains ${foo} replacement parameters.\r\n\t\t\t\tvar cached = _TemplatedMixin.getCachedTemplate(this.templateString, this._skipNodeCache, this.ownerDocument);\r\n\r\n\t\t\t\tvar node;\r\n\t\t\t\tif(lang.isString(cached)){\r\n\t\t\t\t\tnode = domConstruct.toDom(this._stringRepl(cached), this.ownerDocument);\r\n\t\t\t\t\tif(node.nodeType != 1){\r\n\t\t\t\t\t\t// Flag common problems such as templates with multiple top level nodes (nodeType == 11)\r\n\t\t\t\t\t\tthrow new Error(\"Invalid template: \" + cached);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// if it's a node, all we have to do is clone it\r\n\t\t\t\t\tnode = cached.cloneNode(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.domNode = node;\r\n\t\t\t}\r\n\r\n\t\t\t// Call down to _WidgetBase.buildRendering() to get base classes assigned\r\n\t\t\t// TODO: change the baseClass assignment to _setBaseClassAttr\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(!this._rendered){\r\n\t\t\t\tthis._fillContent(this.srcNodeRef);\r\n\t\t\t}\r\n\r\n\t\t\tthis._rendered = true;\r\n\t\t},\r\n\r\n\t\t_fillContent: function(/*DomNode*/ source){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRelocate source contents to templated container node.\r\n\t\t\t//\t\tthis.containerNode must be able to receive children, or exceptions will be thrown.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar dest = this.containerNode;\r\n\t\t\tif(source && dest){\r\n\t\t\t\twhile(source.hasChildNodes()){\r\n\t\t\t\t\tdest.appendChild(source.firstChild);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t// key is templateString; object is either string or DOM tree\r\n\t_TemplatedMixin._templateCache = {};\r\n\r\n\t_TemplatedMixin.getCachedTemplate = function(templateString, alwaysUseString, doc){\r\n\t\t// summary:\r\n\t\t//\t\tStatic method to get a template based on the templatePath or\r\n\t\t//\t\ttemplateString key\r\n\t\t// templateString: String\r\n\t\t//\t\tThe template\r\n\t\t// alwaysUseString: Boolean\r\n\t\t//\t\tDon't cache the DOM tree for this template, even if it doesn't have any variables\r\n\t\t// doc: Document?\r\n\t\t//\t\tThe target document.   Defaults to document global if unspecified.\r\n\t\t// returns: Mixed\r\n\t\t//\t\tEither string (if there are ${} variables that need to be replaced) or just\r\n\t\t//\t\ta DOM tree (if the node can be cloned directly)\r\n\r\n\t\t// is it already cached?\r\n\t\tvar tmplts = _TemplatedMixin._templateCache;\r\n\t\tvar key = templateString;\r\n\t\tvar cached = tmplts[key];\r\n\t\tif(cached){\r\n\t\t\ttry{\r\n\t\t\t\t// if the cached value is an innerHTML string (no ownerDocument) or a DOM tree created within the\r\n\t\t\t\t// current document, then use the current cached value\r\n\t\t\t\tif(!cached.ownerDocument || cached.ownerDocument == (doc || document)){\r\n\t\t\t\t\t// string or node of the same document\r\n\t\t\t\t\treturn cached;\r\n\t\t\t\t}\r\n\t\t\t}catch(e){ /* squelch */ } // IE can throw an exception if cached.ownerDocument was reloaded\r\n\t\t\tdomConstruct.destroy(cached);\r\n\t\t}\r\n\r\n\t\ttemplateString = string.trim(templateString);\r\n\r\n\t\tif(alwaysUseString || templateString.match(/\\$\\{([^\\}]+)\\}/g)){\r\n\t\t\t// there are variables in the template so all we can do is cache the string\r\n\t\t\treturn (tmplts[key] = templateString); //String\r\n\t\t}else{\r\n\t\t\t// there are no variables in the template so we can cache the DOM tree\r\n\t\t\tvar node = domConstruct.toDom(templateString, doc);\r\n\t\t\tif(node.nodeType != 1){\r\n\t\t\t\tthrow new Error(\"Invalid template: \" + templateString);\r\n\t\t\t}\r\n\t\t\treturn (tmplts[key] = node); //Node\r\n\t\t}\r\n\t};\r\n\r\n\tif(has(\"ie\")){\r\n\t\ton(window, \"unload\", function(){\r\n\t\t\tvar cache = _TemplatedMixin._templateCache;\r\n\t\t\tfor(var key in cache){\r\n\t\t\t\tvar value = cache[key];\r\n\t\t\t\tif(typeof value == \"object\"){ // value is either a string or a DOM node template\r\n\t\t\t\t\tdomConstruct.destroy(value);\r\n\t\t\t\t}\r\n\t\t\t\tdelete cache[key];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn _TemplatedMixin;\r\n});\r\n\ndefine('dijit/_Container',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.place\r\n\t\"dojo/_base/kernel\" // kernel.deprecated\r\n], function(array, declare, domConstruct, kernel){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_Container\r\n\r\n\treturn declare(\"dijit._Container\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets that contain HTML and/or a set of widget children.\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.containerNode){\r\n\t\t\t\t// All widgets with descendants must set containerNode.\r\n\t\t\t\t// NB: this code doesn't quite work right because for TabContainer it runs before\r\n\t\t\t\t// _TemplatedMixin::buildRendering(), and thus\r\n\t\t\t\t// sets this.containerNode to this.domNode, later to be overridden by the assignment in the template.\r\n\t\t\t\tthis.containerNode = this.domNode;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\taddChild: function(/*dijit/_WidgetBase*/ widget, /*int?*/ insertIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMakes the given widget a child of this widget.\r\n\t\t\t// description:\r\n\t\t\t//\t\tInserts specified child widget's dom node as a child of this widget's\r\n\t\t\t//\t\tcontainer node, and possibly does other processing (such as layout).\r\n\r\n\t\t\t// I want to just call domConstruct.place(widget.domNode, this.containerNode, insertIndex), but the counting\r\n\t\t\t// is thrown off by text nodes and comment nodes that show up when constructed by markup.\r\n\t\t\t// In the future consider stripping those nodes on construction, either in the parser or this widget code.\r\n\t\t\tvar refNode = this.containerNode;\r\n\t\t\tif(insertIndex > 0){\r\n\t\t\t\t// Old-school way to get nth child; dojo.query would be easier but _Container was weened from dojo.query\r\n\t\t\t\t// in #10087 to minimize download size.   Not sure if that's still and issue with new smaller dojo/query.\r\n\t\t\t\trefNode = refNode.firstChild;\r\n\t\t\t\twhile(insertIndex > 0){\r\n\t\t\t\t\tif(refNode.nodeType == 1){ insertIndex--; }\r\n\t\t\t\t\trefNode = refNode.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t\tif(refNode){\r\n\t\t\t\t\tinsertIndex = \"before\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// to support addChild(child, n-1) where there are n children (should add child at end)\r\n\t\t\t\t\trefNode = this.containerNode;\r\n\t\t\t\t\tinsertIndex = \"last\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdomConstruct.place(widget.domNode, refNode, insertIndex);\r\n\r\n\t\t\t// If I've been started but the child widget hasn't been started,\r\n\t\t\t// start it now.  Make sure to do this after widget has been\r\n\t\t\t// inserted into the DOM tree, so it can see that it's being controlled by me,\r\n\t\t\t// so it doesn't try to size itself.\r\n\t\t\tif(this._started && !widget._started){\r\n\t\t\t\twidget.startup();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/*Widget|int*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves the passed widget instance from this widget but does\r\n\t\t\t//\t\tnot destroy it.  You can also pass in an integer indicating\r\n\t\t\t//\t\tthe index within the container to remove (ie, removeChild(5) removes the sixth widget).\r\n\r\n\t\t\tif(typeof widget == \"number\"){\r\n\t\t\t\twidget = this.getChildren()[widget];\r\n\t\t\t}\r\n\r\n\t\t\tif(widget){\r\n\t\t\t\tvar node = widget.domNode;\r\n\t\t\t\tif(node && node.parentNode){\r\n\t\t\t\t\tnode.parentNode.removeChild(node); // detach but don't destroy\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thasChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if widget has child widgets, i.e. if this.containerNode contains widgets.\r\n\t\t\treturn this.getChildren().length > 0;\t// Boolean\r\n\t\t},\r\n\r\n\t\t_getSiblingOfChild: function(/*dijit/_WidgetBase*/ child, /*int*/ dir){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the next or previous widget sibling of child\r\n\t\t\t// dir:\r\n\t\t\t//\t\tif 1, get the next sibling\r\n\t\t\t//\t\tif -1, get the previous sibling\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.\", \"\", \"2.0\");\r\n\t\t\tvar children = this.getChildren(),\r\n\t\t\t\tidx = array.indexOf(children, child);\t// int\r\n\t\t\treturn children[idx + dir];\r\n\t\t},\r\n\r\n\t\tgetIndexOfChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the index of the child in this container or -1 if not found\r\n\t\t\treturn array.indexOf(this.getChildren(), child);\t// int\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_Contained',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./registry\"\t// registry.getEnclosingWidget(), registry.byNode()\r\n], function(declare, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_Contained\r\n\r\n\treturn declare(\"dijit._Contained\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets that are children of a container widget\r\n\t\t// example:\r\n\t\t//\t|\t// make a basic custom widget that knows about its parents\r\n\t\t//\t|\tdeclare(\"my.customClass\",[dijit._WidgetBase, dijit._Contained],{});\r\n\r\n\t\t_getSibling: function(/*String*/ which){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns next or previous sibling\r\n\t\t\t// which:\r\n\t\t\t//\t\tEither \"next\" or \"previous\"\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar node = this.domNode;\r\n\t\t\tdo{\r\n\t\t\t\tnode = node[which+\"Sibling\"];\r\n\t\t\t}while(node && node.nodeType != 1);\r\n\t\t\treturn node && registry.byNode(node);\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tgetPreviousSibling: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns null if this is the first child of the parent,\r\n\t\t\t//\t\totherwise returns the next element sibling to the \"left\".\r\n\r\n\t\t\treturn this._getSibling(\"previous\"); // dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tgetNextSibling: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns null if this is the last child of the parent,\r\n\t\t\t//\t\totherwise returns the next element sibling to the \"right\".\r\n\r\n\t\t\treturn this._getSibling(\"next\"); // dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tgetIndexInParent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the index of this widget within its container parent.\r\n\t\t\t//\t\tIt returns -1 if the parent does not exist, or if the parent\r\n\t\t\t//\t\tis not a dijit/_Container\r\n\r\n\t\t\tvar p = this.getParent();\r\n\t\t\tif(!p || !p.getIndexOfChild){\r\n\t\t\t\treturn -1; // int\r\n\t\t\t}\r\n\t\t\treturn p.getIndexOfChild(this); // int\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/layout/_LayoutWidget',[\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"../_Widget\",\r\n\t\"../_Container\",\r\n\t\"../_Contained\",\r\n\t\"../Viewport\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-geometry\", // domGeometry.marginBox\r\n\t\"dojo/dom-style\" // domStyle.getComputedStyle\r\n], function(lang, _Widget, _Container, _Contained, Viewport,\r\n\tdeclare, domClass, domGeometry, domStyle){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/_LayoutWidget\r\n\r\n\r\n\treturn declare(\"dijit.layout._LayoutWidget\", [_Widget, _Container, _Contained], {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for a _Container widget which is responsible for laying out its children.\r\n\t\t//\t\tWidgets which mixin this code must define layout() to manage placement and sizing of the children.\r\n\r\n\t\t// baseClass: [protected extension] String\r\n\t\t//\t\tThis class name is applied to the widget's domNode\r\n\t\t//\t\tand also may be used to generate names for sub nodes,\r\n\t\t//\t\tfor example dijitTabContainer-content.\r\n\t\tbaseClass: \"dijitLayoutContainer\",\r\n\r\n\t\t// isLayoutContainer: [protected] Boolean\r\n\t\t//\t\tIndicates that this widget is going to call resize() on its\r\n\t\t//\t\tchildren widgets, setting their size, when they become visible.\r\n\t\tisLayoutContainer: true,\r\n\r\n\t\t// Cancel _WidgetBase's _setTitleAttr because we don't want the title property (used to specify\r\n\t\t// tab labels) to be set as an attribute on this.domNode... otherwise a tooltip shows up over the\r\n\t\t// entire widget.\r\n\t\t_setTitleAttr: null,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomClass.add(this.domNode, \"dijitContainer\");\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled after all the widgets have been instantiated and their\r\n\t\t\t//\t\tdom nodes have been inserted somewhere under <body>.\r\n\t\t\t//\r\n\t\t\t//\t\tWidgets should override this method to do any initialization\r\n\t\t\t//\t\tdependent on other widgets existing, and then call\r\n\t\t\t//\t\tthis superclass method to finish things off.\r\n\t\t\t//\r\n\t\t\t//\t\tstartup() in subclasses shouldn't do anything\r\n\t\t\t//\t\tsize related because the size of the widget hasn't been set yet.\r\n\r\n\t\t\tif(this._started){ return; }\r\n\r\n\t\t\t// Need to call inherited first - so that child widgets get started\r\n\t\t\t// up correctly\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// If I am a not being controlled by a parent layout widget...\r\n\t\t\tvar parent = this.getParent && this.getParent();\r\n\t\t\tif(!(parent && parent.isLayoutContainer)){\r\n\t\t\t\t// Do recursive sizing and layout of all my descendants\r\n\t\t\t\t// (passing in no argument to resize means that it has to glean the size itself)\r\n\t\t\t\tthis.resize();\r\n\r\n\t\t\t\t// Since my parent isn't a layout container, and my style *may be* width=height=100%\r\n\t\t\t\t// or something similar (either set directly or via a CSS class),\r\n\t\t\t\t// monitor when viewport size changes so that I can re-layout.\r\n\t\t\t\tthis.own(Viewport.on(\"resize\", lang.hitch(this, \"resize\")));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresize: function(changeSize, resultSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCall this to resize a widget, or after its size has changed.\r\n\t\t\t// description:\r\n\t\t\t//\t\t####Change size mode:\r\n\t\t\t//\r\n\t\t\t//\t\tWhen changeSize is specified, changes the marginBox of this widget\r\n\t\t\t//\t\tand forces it to re-layout its contents accordingly.\r\n\t\t\t//\t\tchangeSize may specify height, width, or both.\r\n\t\t\t//\r\n\t\t\t//\t\tIf resultSize is specified it indicates the size the widget will\r\n\t\t\t//\t\tbecome after changeSize has been applied.\r\n\t\t\t//\r\n\t\t\t//\t\t####Notification mode:\r\n\t\t\t//\r\n\t\t\t//\t\tWhen changeSize is null, indicates that the caller has already changed\r\n\t\t\t//\t\tthe size of the widget, or perhaps it changed because the browser\r\n\t\t\t//\t\twindow was resized.  Tells widget to re-layout its contents accordingly.\r\n\t\t\t//\r\n\t\t\t//\t\tIf resultSize is also specified it indicates the size the widget has\r\n\t\t\t//\t\tbecome.\r\n\t\t\t//\r\n\t\t\t//\t\tIn either mode, this method also:\r\n\t\t\t//\r\n\t\t\t//\t\t1. Sets this._borderBox and this._contentBox to the new size of\r\n\t\t\t//\t\t\tthe widget.  Queries the current domNode size if necessary.\r\n\t\t\t//\t\t2. Calls layout() to resize contents (and maybe adjust child widgets).\r\n\t\t\t// changeSize: Object?\r\n\t\t\t//\t\tSets the widget to this margin-box size and position.\r\n\t\t\t//\t\tMay include any/all of the following properties:\r\n\t\t\t//\t|\t{w: int, h: int, l: int, t: int}\r\n\t\t\t// resultSize: Object?\r\n\t\t\t//\t\tThe margin-box size of this widget after applying changeSize (if\r\n\t\t\t//\t\tchangeSize is specified).  If caller knows this size and\r\n\t\t\t//\t\tpasses it in, we don't need to query the browser to get the size.\r\n\t\t\t//\t|\t{w: int, h: int}\r\n\r\n\t\t\tvar node = this.domNode;\r\n\r\n\t\t\t// set margin box size, unless it wasn't specified, in which case use current size\r\n\t\t\tif(changeSize){\r\n\t\t\t\tdomGeometry.setMarginBox(node, changeSize);\r\n\t\t\t}\r\n\r\n\t\t\t// If either height or width wasn't specified by the user, then query node for it.\r\n\t\t\t// But note that setting the margin box and then immediately querying dimensions may return\r\n\t\t\t// inaccurate results, so try not to depend on it.\r\n\t\t\tvar mb = resultSize || {};\r\n\t\t\tlang.mixin(mb, changeSize || {});\t// changeSize overrides resultSize\r\n\t\t\tif( !(\"h\" in mb) || !(\"w\" in mb) ){\r\n\t\t\t\tmb = lang.mixin(domGeometry.getMarginBox(node), mb);\t// just use domGeometry.marginBox() to fill in missing values\r\n\t\t\t}\r\n\r\n\t\t\t// Compute and save the size of my border box and content box\r\n\t\t\t// (w/out calling domGeometry.getContentBox() since that may fail if size was recently set)\r\n\t\t\tvar cs = domStyle.getComputedStyle(node);\r\n\t\t\tvar me = domGeometry.getMarginExtents(node, cs);\r\n\t\t\tvar be = domGeometry.getBorderExtents(node, cs);\r\n\t\t\tvar bb = (this._borderBox = {\r\n\t\t\t\tw: mb.w - (me.w + be.w),\r\n\t\t\t\th: mb.h - (me.h + be.h)\r\n\t\t\t});\r\n\t\t\tvar pe = domGeometry.getPadExtents(node, cs);\r\n\t\t\tthis._contentBox = {\r\n\t\t\t\tl: domStyle.toPixelValue(node, cs.paddingLeft),\r\n\t\t\t\tt: domStyle.toPixelValue(node, cs.paddingTop),\r\n\t\t\t\tw: bb.w - pe.w,\r\n\t\t\t\th: bb.h - pe.h\r\n\t\t\t};\r\n\r\n\t\t\t// Callback for widget to adjust size of its children\r\n\t\t\tthis.layout();\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWidgets override this method to size and position their contents/children.\r\n\t\t\t//\t\tWhen this is called this._contentBox is guaranteed to be set (see resize()).\r\n\t\t\t//\r\n\t\t\t//\t\tThis is called after startup(), and also when the widget's size has been\r\n\t\t\t//\t\tchanged.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/child){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCommon setup for initial children and children which are added after startup\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\tvar cls = this.baseClass + \"-child \"\r\n\t\t\t\t+ (child.baseClass ? this.baseClass + \"-\" + child.baseClass : \"\");\r\n\t\t\tdomClass.add(child.domNode, cls);\r\n\t\t},\r\n\r\n\t\taddChild: function(/*dijit/_WidgetBase*/ child, /*Integer?*/ insertIndex){\r\n\t\t\t// Overrides _Container.addChild() to call _setupChild()\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this._started){\r\n\t\t\t\tthis._setupChild(child);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// Overrides _Container.removeChild() to remove class added by _setupChild()\r\n\t\t\tvar cls = this.baseClass + \"-child\"\r\n\t\t\t\t\t+ (child.baseClass ?\r\n\t\t\t\t\t\t\" \" + this.baseClass + \"-\" + child.baseClass : \"\");\r\n\t\t\tdomClass.remove(child.domNode, cls);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_CssStateMixin',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.isDescendant()\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/domReady\",\r\n\t\"dojo/touch\",\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"./a11yclick\",\r\n\t\"./registry\"\r\n], function(array, declare, dom, domClass, has, lang, on, domReady, touch, win, a11yclick, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_CssStateMixin\r\n\r\n\tvar CssStateMixin = declare(\"dijit._CssStateMixin\", [], {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets to set CSS classes on the widget DOM nodes depending on hover/mouse press/focus\r\n\t\t//\t\tstate changes, and also higher-level state changes such becoming disabled or selected.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tBy mixing this class into your widget, and setting the this.baseClass attribute, it will automatically\r\n\t\t//\t\tmaintain CSS classes on the widget root node (this.domNode) depending on hover,\r\n\t\t//\t\tactive, focus, etc. state.   Ex: with a baseClass of dijitButton, it will apply the classes\r\n\t\t//\t\tdijitButtonHovered and dijitButtonActive, as the user moves the mouse over the widget and clicks it.\r\n\t\t//\r\n\t\t//\t\tIt also sets CSS like dijitButtonDisabled based on widget semantic state.\r\n\t\t//\r\n\t\t//\t\tBy setting the cssStateNodes attribute, a widget can also track events on subnodes (like buttons\r\n\t\t//\t\twithin the widget).\r\n\r\n\t\t/*=====\r\n\t\t // cssStateNodes: [protected] Object\r\n\t\t //\t\tSubclasses may define a cssStateNodes property that lists sub-nodes within the widget that\r\n\t\t //\t\tneed CSS classes applied on mouse hover/press and focus.\r\n\t\t //\r\n\t\t //\t\tEach entry in this optional hash is a an attach-point name (like \"upArrowButton\") mapped to a CSS class name\r\n\t\t //\t\t(like \"dijitUpArrowButton\"). Example:\r\n\t\t //\t|\t\t{\r\n\t\t //\t|\t\t\t\"upArrowButton\": \"dijitUpArrowButton\",\r\n\t\t //\t|\t\t\t\"downArrowButton\": \"dijitDownArrowButton\"\r\n\t\t //\t|\t\t}\r\n\t\t //\t\tThe above will set the CSS class dijitUpArrowButton to the this.upArrowButton DOMNode when it\r\n\t\t //\t\tis hovered, etc.\r\n\t\t cssStateNodes: {},\r\n\t\t =====*/\r\n\r\n\t\t// hovering: [readonly] Boolean\r\n\t\t//\t\tTrue if cursor is over this widget\r\n\t\thovering: false,\r\n\r\n\t\t// active: [readonly] Boolean\r\n\t\t//\t\tTrue if mouse was pressed while over this widget, and hasn't been released yet\r\n\t\tactive: false,\r\n\r\n\t\t_applyAttributes: function(){\r\n\t\t\t// This code would typically be in postCreate(), but putting in _applyAttributes() for\r\n\t\t\t// performance: so the class changes happen before DOM is inserted into the document.\r\n\t\t\t// Change back to postCreate() in 2.0.  See #11635.\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Monitoring changes to disabled, readonly, etc. state, and update CSS class of root node\r\n\t\t\tarray.forEach([\"disabled\", \"readOnly\", \"checked\", \"selected\", \"focused\", \"state\", \"hovering\", \"active\", \"_opened\"], function(attr){\r\n\t\t\t\tthis.watch(attr, lang.hitch(this, \"_setStateClass\"));\r\n\t\t\t}, this);\r\n\r\n\t\t\t// Track hover and active mouse events on widget root node, plus possibly on subnodes\r\n\t\t\tfor(var ap in this.cssStateNodes || {}){\r\n\t\t\t\tthis._trackMouseState(this[ap], this.cssStateNodes[ap]);\r\n\t\t\t}\r\n\t\t\tthis._trackMouseState(this.domNode, this.baseClass);\r\n\r\n\t\t\t// Set state initially; there's probably no hover/active/focus state but widget might be\r\n\t\t\t// disabled/readonly/checked/selected so we want to set CSS classes for those conditions.\r\n\t\t\tthis._setStateClass();\r\n\t\t},\r\n\r\n\t\t_cssMouseEvent: function(/*Event*/ event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for CSS event on this.domNode. Sets hovering and active properties depending on mouse state,\r\n\t\t\t//\t\twhich triggers _setStateClass() to set appropriate CSS classes for this.domNode.\r\n\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tswitch(event.type){\r\n\t\t\t\t\tcase \"mouseover\":\r\n\t\t\t\t\tcase \"MSPointerOver\":\r\n\t\t\t\t\tcase \"pointerover\":\r\n\t\t\t\t\t\tthis._set(\"hovering\", true);\r\n\t\t\t\t\t\tthis._set(\"active\", this._mouseDown);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mouseout\":\r\n\t\t\t\t\tcase \"MSPointerOut\":\r\n\t\t\t\t\tcase \"pointerout\":\r\n\t\t\t\t\t\tthis._set(\"hovering\", false);\r\n\t\t\t\t\t\tthis._set(\"active\", false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mousedown\":\r\n\t\t\t\t\tcase \"touchstart\":\r\n\t\t\t\t\tcase \"MSPointerDown\":\r\n\t\t\t\t\tcase \"pointerdown\":\r\n\t\t\t\t\tcase \"keydown\":\r\n\t\t\t\t\t\tthis._set(\"active\", true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mouseup\":\r\n\t\t\t\t\tcase \"dojotouchend\":\r\n\t\t\t\t\tcase \"MSPointerUp\":\r\n\t\t\t\t\tcase \"pointerup\":\r\n\t\t\t\t\tcase \"keyup\":\r\n\t\t\t\t\t\tthis._set(\"active\", false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setStateClass: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUpdate the visual state of the widget by setting the css classes on this.domNode\r\n\t\t\t//\t\t(or this.stateNode if defined) by combining this.baseClass with\r\n\t\t\t//\t\tvarious suffixes that represent the current widget state(s).\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tIn the case where a widget has multiple\r\n\t\t\t//\t\tstates, it sets the class based on all possible\r\n\t\t\t//\t\tcombinations.  For example, an invalid form widget that is being hovered\r\n\t\t\t//\t\twill be \"dijitInput dijitInputInvalid dijitInputHover dijitInputInvalidHover\".\r\n\t\t\t//\r\n\t\t\t//\t\tThe widget may have one or more of the following states, determined\r\n\t\t\t//\t\tby this.state, this.checked, this.valid, and this.selected:\r\n\t\t\t//\r\n\t\t\t//\t\t- Error - ValidationTextBox sets this.state to \"Error\" if the current input value is invalid\r\n\t\t\t//\t\t- Incomplete - ValidationTextBox sets this.state to \"Incomplete\" if the current input value is not finished yet\r\n\t\t\t//\t\t- Checked - ex: a checkmark or a ToggleButton in a checked state, will have this.checked==true\r\n\t\t\t//\t\t- Selected - ex: currently selected tab will have this.selected==true\r\n\t\t\t//\r\n\t\t\t//\t\tIn addition, it may have one or more of the following states,\r\n\t\t\t//\t\tbased on this.disabled and flags set in _onMouse (this.active, this.hovering) and from focus manager (this.focused):\r\n\t\t\t//\r\n\t\t\t//\t\t- Disabled\t- if the widget is disabled\r\n\t\t\t//\t\t- Active\t\t- if the mouse (or space/enter key?) is being pressed down\r\n\t\t\t//\t\t- Focused\t\t- if the widget has focus\r\n\t\t\t//\t\t- Hover\t\t- if the mouse is over the widget\r\n\r\n\t\t\t// Compute new set of classes\r\n\t\t\tvar newStateClasses = this.baseClass.split(\" \");\r\n\r\n\t\t\tfunction multiply(modifier){\r\n\t\t\t\tnewStateClasses = newStateClasses.concat(array.map(newStateClasses, function(c){\r\n\t\t\t\t\treturn c + modifier;\r\n\t\t\t\t}), \"dijit\" + modifier);\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\t// For RTL mode we need to set an addition class like dijitTextBoxRtl.\r\n\t\t\t\tmultiply(\"Rtl\");\r\n\t\t\t}\r\n\r\n\t\t\tvar checkedState = this.checked == \"mixed\" ? \"Mixed\" : (this.checked ? \"Checked\" : \"\");\r\n\t\t\tif(this.checked){\r\n\t\t\t\tmultiply(checkedState);\r\n\t\t\t}\r\n\t\t\tif(this.state){\r\n\t\t\t\tmultiply(this.state);\r\n\t\t\t}\r\n\t\t\tif(this.selected){\r\n\t\t\t\tmultiply(\"Selected\");\r\n\t\t\t}\r\n\t\t\tif(this._opened){\r\n\t\t\t\tmultiply(\"Opened\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.disabled){\r\n\t\t\t\tmultiply(\"Disabled\");\r\n\t\t\t}else if(this.readOnly){\r\n\t\t\t\tmultiply(\"ReadOnly\");\r\n\t\t\t}else{\r\n\t\t\t\tif(this.active){\r\n\t\t\t\t\tmultiply(\"Active\");\r\n\t\t\t\t}else if(this.hovering){\r\n\t\t\t\t\tmultiply(\"Hover\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(this.focused){\r\n\t\t\t\tmultiply(\"Focused\");\r\n\t\t\t}\r\n\r\n\t\t\t// Remove old state classes and add new ones.\r\n\t\t\t// For performance concerns we only write into domNode.className once.\r\n\t\t\tvar tn = this.stateNode || this.domNode,\r\n\t\t\t\tclassHash = {};\t// set of all classes (state and otherwise) for node\r\n\r\n\t\t\tarray.forEach(tn.className.split(\" \"), function(c){\r\n\t\t\t\tclassHash[c] = true;\r\n\t\t\t});\r\n\r\n\t\t\tif(\"_stateClasses\" in this){\r\n\t\t\t\tarray.forEach(this._stateClasses, function(c){\r\n\t\t\t\t\tdelete classHash[c];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(newStateClasses, function(c){\r\n\t\t\t\tclassHash[c] = true;\r\n\t\t\t});\r\n\r\n\t\t\tvar newClasses = [];\r\n\t\t\tfor(var c in classHash){\r\n\t\t\t\tnewClasses.push(c);\r\n\t\t\t}\r\n\t\t\ttn.className = newClasses.join(\" \");\r\n\r\n\t\t\tthis._stateClasses = newStateClasses;\r\n\t\t},\r\n\r\n\t\t_subnodeCssMouseEvent: function(node, clazz, evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for hover/active mouse event on widget's subnode\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfunction hover(isHovering){\r\n\t\t\t\tdomClass.toggle(node, clazz + \"Hover\", isHovering);\r\n\t\t\t}\r\n\r\n\t\t\tfunction active(isActive){\r\n\t\t\t\tdomClass.toggle(node, clazz + \"Active\", isActive);\r\n\t\t\t}\r\n\r\n\t\t\tfunction focused(isFocused){\r\n\t\t\t\tdomClass.toggle(node, clazz + \"Focused\", isFocused);\r\n\t\t\t}\r\n\r\n\t\t\tswitch(evt.type){\r\n\t\t\t\tcase \"mouseover\":\r\n\t\t\t\tcase \"MSPointerOver\":\r\n\t\t\t\tcase \"pointerover\":\r\n\t\t\t\t\thover(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"mouseout\":\r\n\t\t\t\tcase \"MSPointerOut\":\r\n\t\t\t\tcase \"pointerout\":\r\n\t\t\t\t\thover(false);\r\n\t\t\t\t\tactive(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"mousedown\":\r\n\t\t\t\tcase \"touchstart\":\r\n\t\t\t\tcase \"MSPointerDown\":\r\n\t\t\t\tcase \"pointerdown\":\r\n\t\t\t\tcase \"keydown\":\r\n\t\t\t\t\tactive(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"mouseup\":\r\n\t\t\t\tcase \"MSPointerUp\":\r\n\t\t\t\tcase \"pointerup\":\r\n\t\t\t\tcase \"dojotouchend\":\r\n\t\t\t\tcase \"keyup\":\r\n\t\t\t\t\tactive(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"focus\":\r\n\t\t\t\tcase \"focusin\":\r\n\t\t\t\t\tfocused(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"blur\":\r\n\t\t\t\tcase \"focusout\":\r\n\t\t\t\t\tfocused(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_trackMouseState: function(/*DomNode*/ node, /*String*/ clazz){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTrack mouse/focus events on specified node and set CSS class on that node to indicate\r\n\t\t\t//\t\tcurrent state.   Usually not called directly, but via cssStateNodes attribute.\r\n\t\t\t// description:\r\n\t\t\t//\t\tGiven class=foo, will set the following CSS class on the node\r\n\t\t\t//\r\n\t\t\t//\t\t- fooActive: if the user is currently pressing down the mouse button while over the node\r\n\t\t\t//\t\t- fooHover: if the user is hovering the mouse over the node, but not pressing down a button\r\n\t\t\t//\t\t- fooFocus: if the node is focused\r\n\t\t\t//\r\n\t\t\t//\t\tNote that it won't set any classes if the widget is disabled.\r\n\t\t\t// node: DomNode\r\n\t\t\t//\t\tShould be a sub-node of the widget, not the top node (this.domNode), since the top node\r\n\t\t\t//\t\tis handled specially and automatically just by mixing in this class.\r\n\t\t\t// clazz: String\r\n\t\t\t//\t\tCSS class name (ex: dijitSliderUpArrow)\r\n\r\n\t\t\t// Flag for listener code below to call this._cssMouseEvent() or this._subnodeCssMouseEvent()\r\n\t\t\t// when node is hovered/active\r\n\t\t\tnode._cssState = clazz;\r\n\t\t}\r\n\t});\r\n\r\n\tdomReady(function(){\r\n\t\t// Document level listener to catch hover etc. events on widget root nodes and subnodes.\r\n\t\t// Note that when the mouse is moved quickly, a single onmouseenter event could signal that multiple widgets\r\n\t\t// have been hovered or unhovered (try test_Accordion.html)\r\n\r\n\t\tfunction pointerHandler(evt, target, relatedTarget){\r\n\t\t\t// Handler for mouseover, mouseout, a11yclick.press and a11click.release events\r\n\r\n\t\t\t// Poor man's event propagation.  Don't propagate event to ancestors of evt.relatedTarget,\r\n\t\t\t// to avoid processing mouseout events moving from a widget's domNode to a descendant node;\r\n\t\t\t// such events shouldn't be interpreted as a mouseleave on the widget.\r\n\t\t\tif(relatedTarget && dom.isDescendant(relatedTarget, target)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor(var node = target; node && node != relatedTarget; node = node.parentNode){\r\n\t\t\t\t// Process any nodes with _cssState property.   They are generally widget root nodes,\r\n\t\t\t\t// but could also be sub-nodes within a widget\r\n\t\t\t\tif(node._cssState){\r\n\t\t\t\t\tvar widget = registry.getEnclosingWidget(node);\r\n\t\t\t\t\tif(widget){\r\n\t\t\t\t\t\tif(node == widget.domNode){\r\n\t\t\t\t\t\t\t// event on the widget's root node\r\n\t\t\t\t\t\t\twidget._cssMouseEvent(evt);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// event on widget's sub-node\r\n\t\t\t\t\t\t\twidget._subnodeCssMouseEvent(node, node._cssState, evt);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar body = win.body(), activeNode;\r\n\r\n\t\t// Handle pointer related events (i.e. mouse or touch)\r\n\t\ton(body, touch.over, function(evt){\r\n\t\t\t// Using touch.over rather than mouseover mainly to ignore phantom mouse events on iOS.\r\n\t\t\tpointerHandler(evt, evt.target, evt.relatedTarget);\r\n\t\t});\r\n\t\ton(body, touch.out, function(evt){\r\n\t\t\t// Using touch.out rather than mouseout mainly to ignore phantom mouse events on iOS.\r\n\t\t\tpointerHandler(evt, evt.target, evt.relatedTarget);\r\n\t\t});\r\n\t\ton(body, a11yclick.press, function(evt){\r\n\t\t\t// Save the a11yclick.press target to reference when the a11yclick.release comes.\r\n\t\t\tactiveNode = evt.target;\r\n\t\t\tpointerHandler(evt, activeNode)\r\n\t\t});\r\n\t\ton(body, a11yclick.release, function(evt){\r\n\t\t\t// The release event could come on a separate node than the press event, if for example user slid finger.\r\n\t\t\t// Reference activeNode to reset the state of the node that got state set in the a11yclick.press handler.\r\n\t\t\tpointerHandler(evt, activeNode);\r\n\t\t\tactiveNode = null;\r\n\t\t});\r\n\r\n\t\t// Track focus events on widget sub-nodes that have been registered via _trackMouseState().\r\n\t\t// However, don't track focus events on the widget root nodes, because focus is tracked via the\r\n\t\t// focus manager (and it's not really tracking focus, but rather tracking that focus is on one of the widget's\r\n\t\t// nodes or a subwidget's node or a popup node, etc.)\r\n\t\t// Remove for 2.0 (if focus CSS needed, just use :focus pseudo-selector).\r\n\t\ton(body, \"focusin, focusout\", function(evt){\r\n\t\t\tvar node = evt.target;\r\n\t\t\tif(node._cssState && !node.getAttribute(\"widgetId\")){\r\n\t\t\t\tvar widget = registry.getEnclosingWidget(node);\r\n\t\t\t\tif(widget){\r\n\t\t\t\t\twidget._subnodeCssMouseEvent(node, node._cssState, evt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\treturn CssStateMixin;\r\n});\r\n\ndefine('dijit/form/_FormWidgetMixin',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-style\", // domStyle.get\r\n\t\"dojo/_base/lang\", // lang.hitch lang.isArray\r\n\t\"dojo/mouse\", // mouse.isLeft\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"webkit\")\r\n\t\"dojo/window\", // winUtils.scrollIntoView\r\n\t\"../a11y\"    // a11y.hasDefaultTabStop\r\n], function(array, declare, domAttr, domStyle, lang, mouse, on, has, winUtils, a11y){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormWidgetMixin\r\n\r\n\treturn declare(\"dijit.form._FormWidgetMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets corresponding to native HTML elements such as `<checkbox>` or `<button>`,\r\n\t\t//\t\twhich can be children of a `<form>` node or a `dijit/form/Form` widget.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tRepresents a single HTML element.\r\n\t\t//\t\tAll these widgets should have these attributes just like native HTML input elements.\r\n\t\t//\t\tYou can set them during widget construction or afterwards, via `dijit/_WidgetBase.set()`.\r\n\t\t//\r\n\t\t//\t\tThey also share some common methods.\r\n\r\n\t\t// name: [const] String\r\n\t\t//\t\tName used when submitting form; same as \"name\" attribute or plain HTML elements\r\n\t\tname: \"\",\r\n\r\n\t\t// alt: String\r\n\t\t//\t\tCorresponds to the native HTML `<input>` element's attribute.\r\n\t\talt: \"\",\r\n\r\n\t\t// value: String\r\n\t\t//\t\tCorresponds to the native HTML `<input>` element's attribute.\r\n\t\tvalue: \"\",\r\n\r\n\t\t// type: [const] String\r\n\t\t//\t\tCorresponds to the native HTML `<input>` element's attribute.\r\n\t\ttype: \"text\",\r\n\r\n\t\t// type: String\r\n\t\t//\t\tApply aria-label in markup to the widget's focusNode\r\n\t\t\"aria-label\": \"focusNode\",\r\n\r\n\t\t// tabIndex: String\r\n\t\t//\t\tOrder fields are traversed when user hits the tab key\r\n\t\ttabIndex: \"0\",\r\n\t\t_setTabIndexAttr: \"focusNode\", // force copy even when tabIndex default value, needed since Button is <span>\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tShould this widget respond to user input?\r\n\t\t//\t\tIn markup, this is specified as \"disabled='disabled'\", or just \"disabled\".\r\n\t\tdisabled: false,\r\n\r\n\t\t// intermediateChanges: Boolean\r\n\t\t//\t\tFires onChange for each value change or only on demand\r\n\t\tintermediateChanges: false,\r\n\r\n\t\t// scrollOnFocus: Boolean\r\n\t\t//\t\tOn focus, should this widget scroll into view?\r\n\t\tscrollOnFocus: true,\r\n\r\n\t\t// Override _WidgetBase mapping id to this.domNode, needs to be on focusNode so <label> etc.\r\n\t\t// works with screen reader\r\n\t\t_setIdAttr: \"focusNode\",\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\tthis._set(\"disabled\", value);\r\n\t\t\tdomAttr.set(this.focusNode, 'disabled', value);\r\n\t\t\tif(this.valueNode){\r\n\t\t\t\tdomAttr.set(this.valueNode, 'disabled', value);\r\n\t\t\t}\r\n\t\t\tthis.focusNode.setAttribute(\"aria-disabled\", value ? \"true\" : \"false\");\r\n\r\n\t\t\tif(value){\r\n\t\t\t\t// reset these, because after the domNode is disabled, we can no longer receive\r\n\t\t\t\t// mouse related events, see #4200\r\n\t\t\t\tthis._set(\"hovering\", false);\r\n\t\t\t\tthis._set(\"active\", false);\r\n\r\n\t\t\t\t// clear tab stop(s) on this widget's focusable node(s)  (ComboBox has two focusable nodes)\r\n\t\t\t\tvar attachPointNames = \"tabIndex\" in this.attributeMap ? this.attributeMap.tabIndex :\r\n\t\t\t\t\t(\"_setTabIndexAttr\" in this) ? this._setTabIndexAttr : \"focusNode\";\r\n\t\t\t\tarray.forEach(lang.isArray(attachPointNames) ? attachPointNames : [attachPointNames], function(attachPointName){\r\n\t\t\t\t\tvar node = this[attachPointName];\r\n\t\t\t\t\t// complex code because tabIndex=-1 on a <div> doesn't work on FF\r\n\t\t\t\t\tif(has(\"webkit\") || a11y.hasDefaultTabStop(node)){    // see #11064 about webkit bug\r\n\t\t\t\t\t\tnode.setAttribute('tabIndex', \"-1\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnode.removeAttribute('tabIndex');\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}else{\r\n\t\t\t\tif(this.tabIndex != \"\"){\r\n\t\t\t\t\tthis.set('tabIndex', this.tabIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onFocus: function(/*String*/ by){\r\n\t\t\t// If user clicks on the widget, even if the mouse is released outside of it,\r\n\t\t\t// this widget's focusNode should get focus (to mimic native browser behavior).\r\n\t\t\t// Browsers often need help to make sure the focus via mouse actually gets to the focusNode.\r\n\t\t\t// TODO: consider removing all of this for 2.0 or sooner, see #16622 etc.\r\n\t\t\tif(by == \"mouse\" && this.isFocusable()){\r\n\t\t\t\t// IE exhibits strange scrolling behavior when refocusing a node so only do it when !focused.\r\n\t\t\t\tvar focusHandle = this.own(on(this.focusNode, \"focus\", function(){\r\n\t\t\t\t\tmouseUpHandle.remove();\r\n\t\t\t\t\tfocusHandle.remove();\r\n\t\t\t\t}))[0];\r\n\t\t\t\t// Set a global event to handle mouseup, so it fires properly\r\n\t\t\t\t// even if the cursor leaves this.domNode before the mouse up event.\r\n\t\t\t\tvar event = has(\"pointer-events\") ? \"pointerup\" : has(\"MSPointer\") ? \"MSPointerUp\" :\r\n\t\t\t\t\thas(\"touch-events\") ? \"touchend, mouseup\" :\t\t// seems like overkill but see #16622, #16725\r\n\t\t\t\t\t\"mouseup\";\r\n\t\t\t\tvar mouseUpHandle = this.own(on(this.ownerDocumentBody, event, lang.hitch(this, function(evt){\r\n\t\t\t\t\tmouseUpHandle.remove();\r\n\t\t\t\t\tfocusHandle.remove();\r\n\t\t\t\t\t// if here, then the mousedown did not focus the focusNode as the default action\r\n\t\t\t\t\tif(this.focused){\r\n\t\t\t\t\t\tif(evt.type == \"touchend\"){\r\n\t\t\t\t\t\t\tthis.defer(\"focus\"); // native focus hasn't occurred yet\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.focus(); // native focus already occurred on mousedown\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})))[0];\r\n\t\t\t}\r\n\t\t\tif(this.scrollOnFocus){\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\twinUtils.scrollIntoView(this.domNode);\r\n\t\t\t\t}); // without defer, the input caret position can change on mouse click\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tisFocusable: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTells if this widget is focusable or not.  Used internally by dijit.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn !this.disabled && this.focusNode && (domStyle.get(this.domNode, \"display\") != \"none\");\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPut focus on this widget\r\n\t\t\tif(!this.disabled && this.focusNode.focus){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tthis.focusNode.focus();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t}\r\n\t\t\t\t/*squelch errors from hidden nodes*/\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcompare: function(/*anything*/ val1, /*anything*/ val2){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCompare 2 values (as returned by get('value') for this widget).\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(typeof val1 == \"number\" && typeof val2 == \"number\"){\r\n\t\t\t\treturn (isNaN(val1) && isNaN(val2)) ? 0 : val1 - val2;\r\n\t\t\t}else if(val1 > val2){\r\n\t\t\t\treturn 1;\r\n\t\t\t}else if(val1 < val2){\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonChange: function(/*===== newValue =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when this widget's value is changed.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t// _onChangeActive: [private] Boolean\r\n\t\t//\t\tIndicates that changes to the value should call onChange() callback.\r\n\t\t//\t\tThis is false during widget initialization, to avoid calling onChange()\r\n\t\t//\t\twhen the initial value is set.\r\n\t\t_onChangeActive: false,\r\n\r\n\t\t_handleOnChange: function(/*anything*/ newValue, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the value of the widget is set.  Calls onChange() if appropriate\r\n\t\t\t// newValue:\r\n\t\t\t//\t\tthe new value\r\n\t\t\t// priorityChange:\r\n\t\t\t//\t\tFor a slider, for example, dragging the slider is priorityChange==false,\r\n\t\t\t//\t\tbut on mouse up, it's priorityChange==true.  If intermediateChanges==false,\r\n\t\t\t//\t\tonChange is only called form priorityChange=true events.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._lastValueReported == undefined && (priorityChange === null || !this._onChangeActive)){\r\n\t\t\t\t// this block executes not for a change, but during initialization,\r\n\t\t\t\t// and is used to store away the original value (or for ToggleButton, the original checked state)\r\n\t\t\t\tthis._resetValue = this._lastValueReported = newValue;\r\n\t\t\t}\r\n\t\t\tthis._pendingOnChange = this._pendingOnChange\r\n\t\t\t\t|| (typeof newValue != typeof this._lastValueReported)\r\n\t\t\t\t|| (this.compare(newValue, this._lastValueReported) != 0);\r\n\t\t\tif((this.intermediateChanges || priorityChange || priorityChange === undefined) && this._pendingOnChange){\r\n\t\t\t\tthis._lastValueReported = newValue;\r\n\t\t\t\tthis._pendingOnChange = false;\r\n\t\t\t\tif(this._onChangeActive){\r\n\t\t\t\t\tif(this._onChangeHandle){\r\n\t\t\t\t\t\tthis._onChangeHandle.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// defer allows hidden value processing to run and\r\n\t\t\t\t\t// also the onChange handler can safely adjust focus, etc\r\n\t\t\t\t\tthis._onChangeHandle = this.defer(\r\n\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\tthis._onChangeHandle = null;\r\n\t\t\t\t\t\t\tthis.onChange(newValue);\r\n\t\t\t\t\t\t}); // try to collapse multiple onChange's fired faster than can be processed\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreate: function(){\r\n\t\t\t// Overrides _Widget.create()\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._onChangeActive = true;\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this._onChangeHandle){ // destroy called before last onChange has fired\r\n\t\t\t\tthis._onChangeHandle.remove();\r\n\t\t\t\tthis.onChange(this._lastValueReported);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_FormWidget',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/sniff\", // has(\"dijit-legacy-requires\"), has(\"msapp\")\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/ready\",\r\n\t\"../_Widget\",\r\n\t\"../_CssStateMixin\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"./_FormWidgetMixin\"\r\n], function(declare, has, kernel, ready, _Widget, _CssStateMixin, _TemplatedMixin, _FormWidgetMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormWidget\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/form/_FormValueWidget\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\treturn declare(\"dijit.form._FormWidget\", [_Widget, _TemplatedMixin, _CssStateMixin, _FormWidgetMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for widgets corresponding to native HTML elements such as `<checkbox>` or `<button>`,\r\n\t\t//\t\twhich can be children of a `<form>` node or a `dijit/form/Form` widget.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tRepresents a single HTML element.\r\n\t\t//\t\tAll these widgets should have these attributes just like native HTML input elements.\r\n\t\t//\t\tYou can set them during widget construction or afterwards, via `dijit/_WidgetBase.set()`.\r\n\t\t//\r\n\t\t//\t\tThey also share some common methods.\r\n\r\n\t\tsetDisabled: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('disabled', ...) instead.\r\n\t\t\tkernel.deprecated(\"setDisabled(\" + disabled + \") is deprecated. Use set('disabled',\" + disabled + \") instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('disabled', disabled);\r\n\t\t},\r\n\r\n\t\tsetValue: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('value', ...) instead.\r\n\t\t\tkernel.deprecated(\"dijit.form._FormWidget:setValue(\" + value + \") is deprecated.  Use set('value',\" + value + \") instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('value', value);\r\n\t\t},\r\n\r\n\t\tgetValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use get('value') instead.\r\n\t\t\tkernel.deprecated(this.declaredClass + \"::getValue() is deprecated. Use get('value') instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.get('value');\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// Setup name=foo string to be referenced from the template (but only if a name has been specified).\r\n\t\t\t// Unfortunately we can't use _setNameAttr to set the name in IE due to IE limitations, see #8484, #8660.\r\n\t\t\t// But when IE6 and IE7 are desupported, then we probably don't need this anymore, so should remove it in 2.0.\r\n\t\t\t// Also, don't do this for Windows 8 Store Apps because it causes a security exception (see #16452).\r\n\t\t\t// Regarding escaping, see heading \"Attribute values\" in\r\n\t\t\t// http://www.w3.org/TR/REC-html40/appendix/notes.html#h-B.3.2\r\n\t\t\tthis.nameAttrSetting = (this.name && !has(\"msapp\")) ? ('name=\"' + this.name.replace(/\"/g, \"&quot;\") + '\"') : '';\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_FormValueMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/keys\", // keys.ESCAPE\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/on\",\r\n\t\"./_FormWidgetMixin\"\r\n], function(declare, domAttr, keys, lang, on, _FormWidgetMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormValueMixin\r\n\r\n\treturn declare(\"dijit.form._FormValueMixin\", _FormWidgetMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets corresponding to native HTML elements such as `<input>` or `<select>`\r\n\t\t//\t\tthat have user changeable values.\r\n\t\t// description:\r\n\t\t//\t\tEach _FormValueMixin represents a single input value, and has a (possibly hidden) `<input>` element,\r\n\t\t//\t\tto which it serializes it's input value, so that form submission (either normal submission or via FormBind?)\r\n\t\t//\t\tworks as expected.\r\n\r\n\t\t// readOnly: Boolean\r\n\t\t//\t\tShould this widget respond to user input?\r\n\t\t//\t\tIn markup, this is specified as \"readOnly\".\r\n\t\t//\t\tSimilar to disabled except readOnly form values are submitted.\r\n\t\treadOnly: false,\r\n\r\n\t\t_setReadOnlyAttr: function(/*Boolean*/ value){\r\n\t\t\tdomAttr.set(this.focusNode, 'readOnly', value);\r\n\t\t\tthis._set(\"readOnly\", value);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Update our reset value if it hasn't yet been set (because this.set()\r\n\t\t\t// is only called when there *is* a value)\r\n\t\t\tif(this._resetValue === undefined){\r\n\t\t\t\tthis._lastValueReported = this._resetValue = this.value;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*anything*/ newValue, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', value) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the value of the widget.\r\n\t\t\t//\t\tIf the value has changed, then fire onChange event, unless priorityChange\r\n\t\t\t//\t\tis specified as null (or false?)\r\n\t\t\tthis._handleOnChange(newValue, priorityChange);\r\n\t\t},\r\n\r\n\t\t_handleOnChange: function(/*anything*/ newValue, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the value of the widget has changed.  Saves the new value in this.value,\r\n\t\t\t//\t\tand calls onChange() if appropriate.   See _FormWidget._handleOnChange() for details.\r\n\t\t\tthis._set(\"value\", newValue);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tundo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRestore the value to the last value passed to onChange\r\n\t\t\tthis._setValueAttr(this._lastValueReported, false);\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReset the widget's value to what it was at initialization time\r\n\t\t\tthis._hasBeenBlurred = false;\r\n\t\t\tthis._setValueAttr(this._resetValue, true);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_FormValueWidget',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"./_FormWidget\",\r\n\t\"./_FormValueMixin\"\r\n], function(declare, has, _FormWidget, _FormValueMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormValueWidget\r\n\r\n\treturn declare(\"dijit.form._FormValueWidget\", [_FormWidget, _FormValueMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for widgets corresponding to native HTML elements such as `<input>` or `<select>`\r\n\t\t//\t\tthat have user changeable values.\r\n\t\t// description:\r\n\t\t//\t\tEach _FormValueWidget represents a single input value, and has a (possibly hidden) `<input>` element,\r\n\t\t//\t\tto which it serializes it's input value, so that form submission (either normal submission or via FormBind?)\r\n\t\t//\t\tworks as expected.\r\n\r\n\t\t// Don't attempt to mixin the 'type', 'name' attributes here programatically -- they must be declared\r\n\t\t// directly in the template as read by the parser in order to function. IE is known to specifically\r\n\t\t// require the 'name' attribute at element creation time.  See #8484, #8660.\r\n\r\n\t\t_layoutHackIE7: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWork around table sizing bugs on IE7 by forcing redraw\r\n\r\n\t\t\tif(has(\"ie\") == 7){ // fix IE7 layout bug when the widget is scrolled out of sight\r\n\t\t\t\tvar domNode = this.domNode;\r\n\t\t\t\tvar parent = domNode.parentNode;\r\n\t\t\t\tvar pingNode = domNode.firstChild || domNode; // target node most unlikely to have a custom filter\r\n\t\t\t\tvar origFilter = pingNode.style.filter; // save custom filter, most likely nothing\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\twhile(parent && parent.clientHeight == 0){ // search for parents that haven't rendered yet\r\n\t\t\t\t\t(function ping(){\r\n\t\t\t\t\t\tvar disconnectHandle = _this.connect(parent, \"onscroll\",\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t_this.disconnect(disconnectHandle); // only call once\r\n\t\t\t\t\t\t\t\tpingNode.style.filter = (new Date()).getMilliseconds(); // set to anything that's unique\r\n\t\t\t\t\t\t\t\t_this.defer(function(){\r\n\t\t\t\t\t\t\t\t\tpingNode.style.filter = origFilter;\r\n\t\t\t\t\t\t\t\t}); // restore custom filter, if any\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})();\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/dijit',[\r\n\t\"./main\",\r\n\t\"./_base\",\r\n\t\"dojo/parser\",\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_Container\",\r\n\t\"./layout/_LayoutWidget\",\r\n\t\"./form/_FormWidget\",\r\n\t\"./form/_FormValueWidget\"\r\n], function(dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/dijit\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tA roll-up for common dijit methods\r\n\t\t//\t\tAll the stuff in _base (these are the function that are guaranteed available without an explicit dojo.require)\r\n\t\t//\t\tAnd some other stuff that we tend to pull in all the time anyway\r\n\t};\r\n\t=====*/\r\n\r\n\treturn dijit;\r\n});\r\n\n\ndefine('dijit/_PaletteMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.place\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/on\",\r\n\t\"./_CssStateMixin\",\r\n\t\"./a11yclick\",\r\n\t\"./focus\",\r\n\t\"./typematic\"\r\n], function(declare, domAttr, domClass, domConstruct, keys, lang, on, _CssStateMixin, a11yclick, focus, typematic){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_PaletteMixin\r\n\r\n\tvar PaletteMixin = declare(\"dijit._PaletteMixin\", _CssStateMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tA keyboard accessible palette, for picking a color/emoticon/etc.\r\n\t\t// description:\r\n\t\t//\t\tA mixin for a grid showing various entities, so the user can pick a certain entity.\r\n\r\n\t\t// defaultTimeout: Number\r\n\t\t//\t\tNumber of milliseconds before a held key or button becomes typematic\r\n\t\tdefaultTimeout: 500,\r\n\r\n\t\t// timeoutChangeRate: Number\r\n\t\t//\t\tFraction of time used to change the typematic timer between events\r\n\t\t//\t\t1.0 means that each typematic event fires at defaultTimeout intervals\r\n\t\t//\t\tLess than 1.0 means that each typematic event fires at an increasing faster rate\r\n\t\ttimeoutChangeRate: 0.90,\r\n\r\n\t\t// value: String\r\n\t\t//\t\tCurrently selected color/emoticon/etc.\r\n\t\tvalue: \"\",\r\n\r\n\t\t// _selectedCell: [private] Integer\r\n\t\t//\t\tIndex of the currently selected cell. Initially, none selected\r\n\t\t_selectedCell: -1,\r\n\r\n\t\t/*=====\r\n\t\t // _currentFocus: [private] DomNode\r\n\t\t //\t\tThe currently focused cell (if the palette itself has focus), or otherwise\r\n\t\t //\t\tthe cell to be focused when the palette itself gets focus.\r\n\t\t //\t\tDifferent from value, which represents the selected (i.e. clicked) cell.\r\n\t\t _currentFocus: null,\r\n\t\t =====*/\r\n\r\n\t\t/*=====\r\n\t\t // _xDim: [protected] Integer\r\n\t\t //\t\tThis is the number of cells horizontally across.\r\n\t\t _xDim: null,\r\n\t\t =====*/\r\n\r\n\t\t/*=====\r\n\t\t // _yDim: [protected] Integer\r\n\t\t //\t\tThis is the number of cells vertically down.\r\n\t\t _yDim: null,\r\n\t\t =====*/\r\n\r\n\t\t// tabIndex: String\r\n\t\t//\t\tWidget tab index.\r\n\t\ttabIndex: \"0\",\r\n\r\n\t\t// cellClass: [protected] String\r\n\t\t//\t\tCSS class applied to each cell in the palette\r\n\t\tcellClass: \"dijitPaletteCell\",\r\n\r\n\t\t// dyeClass: [protected] Constructor\r\n\t\t//\t\tConstructor for Object created for each cell of the palette.\r\n\t\t//\t\tdyeClass should implement the dijit/_PaletteMixin.__Dye interface.\r\n\t\tdyeClass: null,\r\n\r\n\t\t_dyeFactory: function(value /*===== , row, col, title =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn instance of dijit.Dye for specified cell of palette\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\t// Remove string support for 2.0\r\n\t\t\tvar dyeClassObj = typeof this.dyeClass == \"string\" ? lang.getObject(this.dyeClass) : this.dyeClass;\r\n\t\t\treturn new dyeClassObj(value);\r\n\t\t},\r\n\r\n\t\t_preparePalette: function(choices, titles){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSubclass must call _preparePalette() from postCreate(), passing in the tooltip\r\n\t\t\t//\t\tfor each cell\r\n\t\t\t// choices: String[][]\r\n\t\t\t//\t\tid's for each cell of the palette, used to create Dye JS object for each cell\r\n\t\t\t// titles: String[]\r\n\t\t\t//\t\tLocalized tooltip for each cell\r\n\r\n\t\t\tthis._cells = [];\r\n\t\t\tvar url = this._blankGif;\r\n\r\n\t\t\tthis.own(on(this.gridNode, a11yclick, lang.hitch(this, \"_onCellClick\")));\r\n\r\n\t\t\tfor(var row = 0; row < choices.length; row++){\r\n\t\t\t\tvar rowNode = domConstruct.create(\"tr\", {tabIndex: \"-1\", role: \"row\"}, this.gridNode);\r\n\t\t\t\tfor(var col = 0; col < choices[row].length; col++){\r\n\t\t\t\t\tvar value = choices[row][col];\r\n\t\t\t\t\tif(value){\r\n\t\t\t\t\t\tvar cellObject = this._dyeFactory(value, row, col, titles[value]);\r\n\r\n\t\t\t\t\t\tvar cellNode = domConstruct.create(\"td\", {\r\n\t\t\t\t\t\t\t\"class\": this.cellClass,\r\n\t\t\t\t\t\t\ttabIndex: \"-1\",\r\n\t\t\t\t\t\t\ttitle: titles[value],\r\n\t\t\t\t\t\t\trole: \"gridcell\"\r\n\t\t\t\t\t\t}, rowNode);\r\n\r\n\t\t\t\t\t\t// prepare cell inner structure\r\n\t\t\t\t\t\tcellObject.fillCell(cellNode, url);\r\n\r\n\t\t\t\t\t\tcellNode.idx = this._cells.length;\r\n\r\n\t\t\t\t\t\t// save cell info into _cells\r\n\t\t\t\t\t\tthis._cells.push({node: cellNode, dye: cellObject});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._xDim = choices[0].length;\r\n\t\t\tthis._yDim = choices.length;\r\n\r\n\t\t\t// Now set all events\r\n\t\t\t// The palette itself is navigated to with the tab key on the keyboard\r\n\t\t\t// Keyboard navigation within the Palette is with the arrow keys\r\n\t\t\t// Spacebar selects the cell.\r\n\t\t\t// For the up key the index is changed by negative the x dimension.\r\n\r\n\t\t\tvar keyIncrementMap = {\r\n\t\t\t\tUP_ARROW: -this._xDim,\r\n\t\t\t\t// The down key the index is increase by the x dimension.\r\n\t\t\t\tDOWN_ARROW: this._xDim,\r\n\t\t\t\t// Right and left move the index by 1.\r\n\t\t\t\tRIGHT_ARROW: this.isLeftToRight() ? 1 : -1,\r\n\t\t\t\tLEFT_ARROW: this.isLeftToRight() ? -1 : 1\r\n\t\t\t};\r\n\t\t\tfor(var key in keyIncrementMap){\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\ttypematic.addKeyListener(\r\n\t\t\t\t\t\tthis.domNode,\r\n\t\t\t\t\t\t{keyCode: keys[key], ctrlKey: false, altKey: false, shiftKey: false},\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\tvar increment = keyIncrementMap[key];\r\n\t\t\t\t\t\t\treturn function(count){\r\n\t\t\t\t\t\t\t\tthis._navigateByKey(increment, count);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}(),\r\n\t\t\t\t\t\tthis.timeoutChangeRate,\r\n\t\t\t\t\t\tthis.defaultTimeout\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Set initial navigable node.\r\n\t\t\tthis._setCurrent(this._cells[0].node);\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus this widget.  Puts focus on the most recently focused cell.\r\n\r\n\t\t\t// The cell already has tabIndex set, just need to set CSS and focus it\r\n\t\t\tfocus.focus(this._currentFocus);\r\n\t\t},\r\n\r\n\t\t_onCellClick: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for click, enter key & space key. Selects the cell.\r\n\t\t\t// evt:\r\n\t\t\t//\t\tThe event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar target = evt.target;\r\n\r\n\t\t\t// Find TD associated with click event.   For ColorPalette user likely clicked IMG inside of TD\r\n\t\t\twhile(target.tagName != \"TD\"){\r\n\t\t\t\tif(!target.parentNode || target == this.gridNode){    // probably can never happen, but just in case\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttarget = target.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tvar value = this._getDye(target).getValue();\r\n\r\n\t\t\t// First focus the clicked cell, and then send onChange() notification.\r\n\t\t\t// onChange() (via _setValueAttr) must be after the focus call, because\r\n\t\t\t// it may trigger a refocus to somewhere else (like the Editor content area), and that\r\n\t\t\t// second focus should win.\r\n\t\t\tthis._setCurrent(target);\r\n\t\t\tfocus.focus(target);\r\n\t\t\tthis._setValueAttr(value, true);\r\n\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t},\r\n\r\n\t\t_setCurrent: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets which node is the focused cell.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAt any point in time there's exactly one\r\n\t\t\t//\t\tcell with tabIndex != -1.   If focus is inside the palette then\r\n\t\t\t//\t\tfocus is on that cell.\r\n\t\t\t//\r\n\t\t\t//\t\tAfter calling this method, arrow key handlers and mouse click handlers\r\n\t\t\t//\t\tshould focus the cell in a setTimeout().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(\"_currentFocus\" in this){\r\n\t\t\t\t// Remove tabIndex on old cell\r\n\t\t\t\tdomAttr.set(this._currentFocus, \"tabIndex\", \"-1\");\r\n\t\t\t}\r\n\r\n\t\t\t// Set tabIndex of new cell\r\n\t\t\tthis._currentFocus = node;\r\n\t\t\tif(node){\r\n\t\t\t\tdomAttr.set(node, \"tabIndex\", this.tabIndex);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value, priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis selects a cell. It triggers the onChange event.\r\n\t\t\t// value: String\r\n\t\t\t//\t\tValue of the cell to select\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\t// priorityChange: Boolean?\r\n\t\t\t//\t\tOptional parameter used to tell the select whether or not to fire\r\n\t\t\t//\t\tonChange event.\r\n\r\n\t\t\t// clear old selected cell\r\n\t\t\tif(this._selectedCell >= 0){\r\n\t\t\t\tdomClass.remove(this._cells[this._selectedCell].node, this.cellClass + \"Selected\");\r\n\t\t\t}\r\n\t\t\tthis._selectedCell = -1;\r\n\r\n\t\t\t// search for cell matching specified value\r\n\t\t\tif(value){\r\n\t\t\t\tfor(var i = 0; i < this._cells.length; i++){\r\n\t\t\t\t\tif(value == this._cells[i].dye.getValue()){\r\n\t\t\t\t\t\tthis._selectedCell = i;\r\n\t\t\t\t\t\tdomClass.add(this._cells[i].node, this.cellClass + \"Selected\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// record new value, or null if no matching cell\r\n\t\t\tthis._set(\"value\", this._selectedCell >= 0 ? value : null);\r\n\r\n\t\t\tif(priorityChange || priorityChange === undefined){\r\n\t\t\t\tthis.onChange(value);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonChange: function(/*===== value =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a cell is selected.\r\n\t\t\t// value: String\r\n\t\t\t//\t\tValue corresponding to cell.\r\n\t\t},\r\n\r\n\t\t_navigateByKey: function(increment, typeCount){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is the callback for typematic.\r\n\t\t\t//\t\tIt changes the focus and the highlighed cell.\r\n\t\t\t// increment:\r\n\t\t\t//\t\tHow much the key is navigated.\r\n\t\t\t// typeCount:\r\n\t\t\t//\t\tHow many times typematic has fired.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// typecount == -1 means the key is released.\r\n\t\t\tif(typeCount == -1){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar newFocusIndex = this._currentFocus.idx + increment;\r\n\t\t\tif(newFocusIndex < this._cells.length && newFocusIndex > -1){\r\n\t\t\t\tvar focusNode = this._cells[newFocusIndex].node;\r\n\t\t\t\tthis._setCurrent(focusNode);\r\n\r\n\t\t\t\t// Actually focus the node, for the benefit of screen readers.\r\n\t\t\t\t// Use defer because IE doesn't like changing focus inside of an event handler\r\n\t\t\t\tthis.defer(lang.hitch(focus, \"focus\", focusNode));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getDye: function(/*DomNode*/ cell){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet JS object for given cell DOMNode\r\n\r\n\t\t\treturn this._cells[cell.idx].dye;\r\n\t\t}\r\n\t});\r\n\r\n\t/*=====\r\n\t PaletteMixin.__Dye = declare(\"dijit.Dye\", null, {\r\n\t\t // summary:\r\n\t\t //\t\tInterface for the JS Object associated with a palette cell (i.e. DOMNode)\r\n\r\n\t\t constructor: function(alias, row, col){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tInitialize according to value or alias like \"white\"\r\n\t\t\t // alias: String\r\n\t\t },\r\n\r\n\t\t getValue: function(){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tReturn \"value\" of cell; meaning of \"value\" varies by subclass.\r\n\t\t\t // description:\r\n\t\t\t //\t\tFor example color hex value, emoticon ascii value etc, entity hex value.\r\n\t\t },\r\n\r\n\t\t fillCell: function(cell, blankGif){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tAdd cell DOMNode inner structure\r\n\t\t\t // cell: DomNode\r\n\t\t\t //\t\tThe surrounding cell\r\n\t\t\t // blankGif: String\r\n\t\t\t //\t\tURL for blank cell image\r\n\t\t }\r\n\t });\r\n\t =====*/\r\n\r\n\treturn PaletteMixin;\r\n});\r\n\ndefine('dojo/json',[\"./has\"], function(has){\r\n\t\"use strict\";\r\n\tvar hasJSON = typeof JSON != \"undefined\";\r\n\thas.add(\"json-parse\", hasJSON); // all the parsers work fine\r\n\t\t// Firefox 3.5/Gecko 1.9 fails to use replacer in stringify properly https://bugzilla.mozilla.org/show_bug.cgi?id=509184\r\n\thas.add(\"json-stringify\", hasJSON && JSON.stringify({a:0}, function(k,v){return v||1;}) == '{\"a\":1}');\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tFunctions to parse and serialize JSON\r\n\r\n\t\tparse: function(str, strict){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tParses a [JSON](http://json.org) string to return a JavaScript object.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis function follows [native JSON API](https://developer.mozilla.org/en/JSON)\r\n\t\t\t//\t\tThrows for invalid JSON strings. This delegates to eval() if native JSON\r\n\t\t\t//\t\tsupport is not available. By default this will evaluate any valid JS expression.\r\n\t\t\t//\t\tWith the strict parameter set to true, the parser will ensure that only\r\n\t\t\t//\t\tvalid JSON strings are parsed (otherwise throwing an error). Without the strict\r\n\t\t\t//\t\tparameter, the content passed to this method must come\r\n\t\t\t//\t\tfrom a trusted source.\r\n\t\t\t// str:\r\n\t\t\t//\t\ta string literal of a JSON item, for instance:\r\n\t\t\t//\t\t`'{ \"foo\": [ \"bar\", 1, { \"baz\": \"thud\" } ] }'`\r\n\t\t\t// strict:\r\n\t\t\t//\t\tWhen set to true, this will ensure that only valid, secure JSON is ever parsed.\r\n\t\t\t//\t\tMake sure this is set to true for untrusted content. Note that on browsers/engines\r\n\t\t\t//\t\twithout native JSON support, setting this to true will run slower.\r\n\t\t},\r\n\t\tstringify: function(value, replacer, spacer){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a [JSON](http://json.org) serialization of an object.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns a [JSON](http://json.org) serialization of an object.\r\n\t\t\t//\t\tThis function follows [native JSON API](https://developer.mozilla.org/en/JSON)\r\n\t\t\t//\t\tNote that this doesn't check for infinite recursion, so don't do that!\r\n\t\t\t// value:\r\n\t\t\t//\t\tA value to be serialized.\r\n\t\t\t// replacer:\r\n\t\t\t//\t\tA replacer function that is called for each value and can return a replacement\r\n\t\t\t// spacer:\r\n\t\t\t//\t\tA spacer string to be used for pretty printing of JSON\r\n\t\t\t// example:\r\n\t\t\t//\t\tsimple serialization of a trivial object\r\n\t\t\t//\t|\tdefine([\"dojo/json\"], function(JSON){\r\n\t\t\t// \t|\t\tvar jsonStr = JSON.stringify({ howdy: \"stranger!\", isStrange: true });\r\n\t\t\t//\t|\t\tdoh.is('{\"howdy\":\"stranger!\",\"isStrange\":true}', jsonStr);\r\n\t\t}\r\n\t};\r\n\t=====*/\r\n\r\n\tif(has(\"json-stringify\")){\r\n\t\treturn JSON;\r\n\t}else{\r\n\t\tvar escapeString = function(/*String*/str){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds escape sequences for non-visual characters, double quote and\r\n\t\t\t//\t\tbackslash and surrounds with double quotes to form a valid string\r\n\t\t\t//\t\tliteral.\r\n\t\t\treturn ('\"' + str.replace(/([\"\\\\])/g, '\\\\$1') + '\"').\r\n\t\t\t\treplace(/[\\f]/g, \"\\\\f\").replace(/[\\b]/g, \"\\\\b\").replace(/[\\n]/g, \"\\\\n\").\r\n\t\t\t\treplace(/[\\t]/g, \"\\\\t\").replace(/[\\r]/g, \"\\\\r\"); // string\r\n\t\t};\r\n\t\treturn {\r\n\t\t\tparse: has(\"json-parse\") ? JSON.parse : function(str, strict){\r\n\t\t\t\tif(strict && !/^([\\s\\[\\{]*(?:\"(?:\\\\.|[^\"])*\"|-?\\d[\\d\\.]*(?:[Ee][+-]?\\d+)?|null|true|false|)[\\s\\]\\}]*(?:,|:|$))+$/.test(str)){\r\n\t\t\t\t\tthrow new SyntaxError(\"Invalid characters in JSON\");\r\n\t\t\t\t}\r\n\t\t\t\treturn eval('(' + str + ')');\r\n\t\t\t},\r\n\t\t\tstringify: function(value, replacer, spacer){\r\n\t\t\t\tvar undef;\r\n\t\t\t\tif(typeof replacer == \"string\"){\r\n\t\t\t\t\tspacer = replacer;\r\n\t\t\t\t\treplacer = null;\r\n\t\t\t\t}\r\n\t\t\t\tfunction stringify(it, indent, key){\r\n\t\t\t\t\tif(replacer){\r\n\t\t\t\t\t\tit = replacer(key, it);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar val, objtype = typeof it;\r\n\t\t\t\t\tif(objtype == \"number\"){\r\n\t\t\t\t\t\treturn isFinite(it) ? it + \"\" : \"null\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(objtype == \"boolean\"){\r\n\t\t\t\t\t\treturn it + \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(it === null){\r\n\t\t\t\t\t\treturn \"null\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof it == \"string\"){\r\n\t\t\t\t\t\treturn escapeString(it);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(objtype == \"function\" || objtype == \"undefined\"){\r\n\t\t\t\t\t\treturn undef; // undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// short-circuit for objects that support \"json\" serialization\r\n\t\t\t\t\t// if they return \"self\" then just pass-through...\r\n\t\t\t\t\tif(typeof it.toJSON == \"function\"){\r\n\t\t\t\t\t\treturn stringify(it.toJSON(key), indent, key);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(it instanceof Date){\r\n\t\t\t\t\t\treturn '\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"'.replace(/\\{(\\w+)(\\+)?\\}/g, function(t, prop, plus){\r\n\t\t\t\t\t\t\tvar num = it[\"getUTC\" + prop]() + (plus ? 1 : 0);\r\n\t\t\t\t\t\t\treturn num < 10 ? \"0\" + num : num;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(it.valueOf() !== it){\r\n\t\t\t\t\t\t// primitive wrapper, try again unwrapped:\r\n\t\t\t\t\t\treturn stringify(it.valueOf(), indent, key);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar nextIndent= spacer ? (indent + spacer) : \"\";\r\n\t\t\t\t\t/* we used to test for DOM nodes and throw, but FF serializes them as {}, so cross-browser consistency is probably not efficiently attainable */ \r\n\t\t\t\t\r\n\t\t\t\t\tvar sep = spacer ? \" \" : \"\";\r\n\t\t\t\t\tvar newLine = spacer ? \"\\n\" : \"\";\r\n\t\t\t\t\r\n\t\t\t\t\t// array\r\n\t\t\t\t\tif(it instanceof Array){\r\n\t\t\t\t\t\tvar itl = it.length, res = [];\r\n\t\t\t\t\t\tfor(key = 0; key < itl; key++){\r\n\t\t\t\t\t\t\tvar obj = it[key];\r\n\t\t\t\t\t\t\tval = stringify(obj, nextIndent, key);\r\n\t\t\t\t\t\t\tif(typeof val != \"string\"){\r\n\t\t\t\t\t\t\t\tval = \"null\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tres.push(newLine + nextIndent + val);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn \"[\" + res.join(\",\") + newLine + indent + \"]\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// generic object code path\r\n\t\t\t\t\tvar output = [];\r\n\t\t\t\t\tfor(key in it){\r\n\t\t\t\t\t\tvar keyStr;\r\n\t\t\t\t\t\tif(it.hasOwnProperty(key)){\r\n\t\t\t\t\t\t\tif(typeof key == \"number\"){\r\n\t\t\t\t\t\t\t\tkeyStr = '\"' + key + '\"';\r\n\t\t\t\t\t\t\t}else if(typeof key == \"string\"){\r\n\t\t\t\t\t\t\t\tkeyStr = escapeString(key);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// skip non-string or number keys\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tval = stringify(it[key], nextIndent, key);\r\n\t\t\t\t\t\t\tif(typeof val != \"string\"){\r\n\t\t\t\t\t\t\t\t// skip non-serializable values\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// At this point, the most non-IE browsers don't get in this branch \r\n\t\t\t\t\t\t\t// (they have native JSON), so push is definitely the way to\r\n\t\t\t\t\t\t\toutput.push(newLine + nextIndent + keyStr + \":\" + sep + val);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn \"{\" + output.join(\",\") + newLine + indent + \"}\"; // String\r\n\t\t\t\t}\r\n\t\t\t\treturn stringify(value, \"\", \"\");\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\n\ndefine('dojo/i18n',[\"./_base/kernel\", \"require\", \"./has\", \"./_base/array\", \"./_base/config\", \"./_base/lang\", \"./has!host-browser?./_base/xhr\", \"./json\", \"module\"],\r\n\r\n\tfunction(dojo, require, has, array, config, lang, xhr, json, module){\r\n\r\n\tif (require.isBrowser===false) { // for build,will be changed with better implementation. by LWF\r\n\t\treturn {\r\n\t        load: function (name, req, onLoad, config) {\r\n\t            onLoad();\r\n\t        }\t\t\t\r\n\t\t};\r\n\t}\r\n\r\n\t// module:\r\n\t// module:\r\n\t// module:\r\n\t//\t\tdojo/i18n\r\n\r\n\thas.add(\"dojo-preload-i18n-Api\",\r\n\t\t// if true, define the preload localizations machinery\r\n\t\t1\r\n\t);\r\n\r\n\thas.add(\"dojo-v1x-i18n-Api\",\r\n\t\t// if true, define the v1.x i18n functions\r\n\t\t1\r\n\t);\r\n\r\n\tvar\r\n\t\tthisModule = dojo.i18n =\r\n\t\t\t{\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tThis module implements the dojo/i18n! plugin and the v1.6- i18n API\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tWe choose to include our own plugin to leverage functionality already contained in dojo\r\n\t\t\t\t//\t\tand thereby reduce the size of the plugin compared to various loader implementations. Also, this\r\n\t\t\t\t//\t\tallows foreign AMD loaders to be used without their plugins.\r\n\t\t\t},\r\n\r\n\t\tnlsRe =\r\n\t\t\t// regexp for reconstructing the master bundle name from parts of the regexp match\r\n\t\t\t// nlsRe.exec(\"foo/bar/baz/nls/en-ca/foo\") gives:\r\n\t\t\t// [\"foo/bar/baz/nls/en-ca/foo\", \"foo/bar/baz/nls/\", \"/\", \"/\", \"en-ca\", \"foo\"]\r\n\t\t\t// nlsRe.exec(\"foo/bar/baz/nls/foo\") gives:\r\n\t\t\t// [\"foo/bar/baz/nls/foo\", \"foo/bar/baz/nls/\", \"/\", \"/\", \"foo\", \"\"]\r\n\t\t\t// so, if match[5] is blank, it means this is the top bundle definition.\r\n\t\t\t// courtesy of http://requirejs.org\r\n\t\t\t/(^.*(^|\\/)nls)(\\/|$)([^\\/]*)\\/?([^\\/]*)/,\r\n\r\n\t\tgetAvailableLocales = function(\r\n\t\t\troot,\r\n\t\t\tlocale,\r\n\t\t\tbundlePath,\r\n\t\t\tbundleName\r\n\t\t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturn a vector of module ids containing all available locales with respect to the target locale\r\n\t\t\t//\t\tFor example, assuming:\r\n\t\t\t//\r\n\t\t\t//\t\t- the root bundle indicates specific bundles for \"fr\" and \"fr-ca\",\r\n\t\t\t//\t\t-  bundlePath is \"myPackage/nls\"\r\n\t\t\t//\t\t- bundleName is \"myBundle\"\r\n\t\t\t//\r\n\t\t\t//\t\tThen a locale argument of \"fr-ca\" would return\r\n\t\t\t//\r\n\t\t\t//\t\t\t[\"myPackage/nls/myBundle\", \"myPackage/nls/fr/myBundle\", \"myPackage/nls/fr-ca/myBundle\"]\r\n\t\t\t//\r\n\t\t\t//\t\tNotice that bundles are returned least-specific to most-specific, starting with the root.\r\n\t\t\t//\r\n\t\t\t//\t\tIf root===false indicates we're working with a pre-AMD i18n bundle that doesn't tell about the available locales;\r\n\t\t\t//\t\ttherefore, assume everything is available and get 404 errors that indicate a particular localization is not available\r\n\r\n\t\t\tfor(var result = [bundlePath + bundleName], localeParts = locale.split(\"-\"), current = \"\", i = 0; i<localeParts.length; i++){\r\n\t\t\t\tcurrent += (current ? \"-\" : \"\") + localeParts[i];\r\n\t\t\t\tif(!root || root[current]){\r\n\t\t\t\t\tresult.push(bundlePath + current + \"/\" + bundleName);\r\n\t\t\t\t\tresult.specificity = current;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\tcache = {},\r\n\r\n\t\tgetBundleName = function(moduleName, bundleName, locale){\r\n\t\t\tlocale = locale ? locale.toLowerCase() : dojo.locale;\r\n\t\t\tmoduleName = moduleName.replace(/\\./g, \"/\");\r\n\t\t\tbundleName = bundleName.replace(/\\./g, \"/\");\r\n\t\t\treturn (/root/i.test(locale)) ?\r\n\t\t\t\t(moduleName + \"/nls/\" + bundleName) :\r\n\t\t\t\t(moduleName + \"/nls/\" + locale + \"/\" + bundleName);\r\n\t\t},\r\n\r\n\t\tgetL10nName = dojo.getL10nName = function(moduleName, bundleName, locale){\r\n\t\t\treturn moduleName = module.id + \"!\" + getBundleName(moduleName, bundleName, locale);\r\n\t\t},\r\n\r\n\t\tdoLoad = function(require, bundlePathAndName, bundlePath, bundleName, locale, load){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tget the root bundle which instructs which other bundles are required to construct the localized bundle\r\n\t\t\trequire([bundlePathAndName], function(root){\r\n\t\t\t\tvar current = lang.clone(root.root || root.ROOT),// 1.6 built bundle defined ROOT\r\n\t\t\t\t\tavailableLocales = getAvailableLocales(!root._v1x && root, locale, bundlePath, bundleName);\r\n\t\t\t\trequire(availableLocales, function(){\r\n\t\t\t\t\tfor (var i = 1; i<availableLocales.length; i++){\r\n\t\t\t\t\t\tcurrent = lang.mixin(lang.clone(current), arguments[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// target may not have been resolve (e.g., maybe only \"fr\" exists when \"fr-ca\" was requested)\r\n\t\t\t\t\tvar target = bundlePathAndName + \"/\" + locale;\r\n\t\t\t\t\tcache[target] = current;\r\n\t\t\t\t\tcurrent.$locale = availableLocales.specificity;\r\n\t\t\t\t\tload();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tnormalize = function(id, toAbsMid){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tid may be relative.\r\n\t\t\t//\t\tpreload has form `*preload*<path>/nls/<module>*<flattened locales>` and\r\n\t\t\t//\t\ttherefore never looks like a relative\r\n\t\t\treturn /^\\./.test(id) ? toAbsMid(id) : id;\r\n\t\t},\r\n\r\n\t\tgetLocalesToLoad = function(targetLocale){\r\n\t\t\tvar list = config.extraLocale || [];\r\n\t\t\tlist = lang.isArray(list) ? list : [list];\r\n\t\t\tlist.push(targetLocale);\r\n\t\t\treturn list;\r\n\t\t},\r\n\r\n\t\tload = function(id, require, load){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tid is in one of the following formats\r\n\t\t\t//\r\n\t\t\t//\t\t1. <path>/nls/<bundle>\r\n\t\t\t//\t\t\t=> load the bundle, localized to config.locale; load all bundles localized to\r\n\t\t\t//\t\t\tconfig.extraLocale (if any); return the loaded bundle localized to config.locale.\r\n\t\t\t//\r\n\t\t\t//\t\t2. <path>/nls/<locale>/<bundle>\r\n\t\t\t//\t\t\t=> load then return the bundle localized to <locale>\r\n\t\t\t//\r\n\t\t\t//\t\t3. *preload*<path>/nls/<module>*<JSON array of available locales>\r\n\t\t\t//\t\t\t=> for config.locale and all config.extraLocale, load all bundles found\r\n\t\t\t//\t\t\tin the best-matching bundle rollup. A value of 1 is returned, which\r\n\t\t\t//\t\t\tis meaningless other than to say the plugin is executing the requested\r\n\t\t\t//\t\t\tpreloads\r\n\t\t\t//\r\n\t\t\t//\t\tIn cases 1 and 2, <path> is always normalized to an absolute module id upon entry; see\r\n\t\t\t//\t\tnormalize. In case 3, it <path> is assumed to be absolute; this is arranged by the builder.\r\n\t\t\t//\r\n\t\t\t//\t\tTo load a bundle means to insert the bundle into the plugin's cache and publish the bundle\r\n\t\t\t//\t\tvalue to the loader. Given <path>, <bundle>, and a particular <locale>, the cache key\r\n\t\t\t//\r\n\t\t\t//\t\t\t<path>/nls/<bundle>/<locale>\r\n\t\t\t//\r\n\t\t\t//\t\twill hold the value. Similarly, then plugin will publish this value to the loader by\r\n\t\t\t//\r\n\t\t\t//\t\t\tdefine(\"<path>/nls/<bundle>/<locale>\", <bundle-value>);\r\n\t\t\t//\r\n\t\t\t//\t\tGiven this algorithm, other machinery can provide fast load paths be preplacing\r\n\t\t\t//\t\tvalues in the plugin's cache, which is public. When a load is demanded the\r\n\t\t\t//\t\tcache is inspected before starting any loading. Explicitly placing values in the plugin\r\n\t\t\t//\t\tcache is an advanced/experimental feature that should not be needed; use at your own risk.\r\n\t\t\t//\r\n\t\t\t//\t\tFor the normal AMD algorithm, the root bundle is loaded first, which instructs the\r\n\t\t\t//\t\tplugin what additional localized bundles are required for a particular locale. These\r\n\t\t\t//\t\tadditional locales are loaded and a mix of the root and each progressively-specific\r\n\t\t\t//\t\tlocale is returned. For example:\r\n\t\t\t//\r\n\t\t\t//\t\t1. The client demands \"dojo/i18n!some/path/nls/someBundle\r\n\t\t\t//\r\n\t\t\t//\t\t2. The loader demands load(some/path/nls/someBundle)\r\n\t\t\t//\r\n\t\t\t//\t\t3. This plugin require's \"some/path/nls/someBundle\", which is the root bundle.\r\n\t\t\t//\r\n\t\t\t//\t\t4. Assuming config.locale is \"ab-cd-ef\" and the root bundle indicates that localizations\r\n\t\t\t//\t\tare available for \"ab\" and \"ab-cd-ef\" (note the missing \"ab-cd\", then the plugin\r\n\t\t\t//\t\trequires \"some/path/nls/ab/someBundle\" and \"some/path/nls/ab-cd-ef/someBundle\"\r\n\t\t\t//\r\n\t\t\t//\t\t5. Upon receiving all required bundles, the plugin constructs the value of the bundle\r\n\t\t\t//\t\tab-cd-ef as...\r\n\t\t\t//\r\n\t\t\t//\t\t\t\tmixin(mixin(mixin({}, require(\"some/path/nls/someBundle\"),\r\n\t\t\t//\t\t  \t\t\trequire(\"some/path/nls/ab/someBundle\")),\r\n\t\t\t//\t\t\t\t\trequire(\"some/path/nls/ab-cd-ef/someBundle\"));\r\n\t\t\t//\r\n\t\t\t//\t\tThis value is inserted into the cache and published to the loader at the\r\n\t\t\t//\t\tkey/module-id some/path/nls/someBundle/ab-cd-ef.\r\n\t\t\t//\r\n\t\t\t//\t\tThe special preload signature (case 3) instructs the plugin to stop servicing all normal requests\r\n\t\t\t//\t\t(further preload requests will be serviced) until all ongoing preloading has completed.\r\n\t\t\t//\r\n\t\t\t//\t\tThe preload signature instructs the plugin that a special rollup module is available that contains\r\n\t\t\t//\t\tone or more flattened, localized bundles. The JSON array of available locales indicates which locales\r\n\t\t\t//\t\tare available. Here is an example:\r\n\t\t\t//\r\n\t\t\t//\t\t\t*preload*some/path/nls/someModule*[\"root\", \"ab\", \"ab-cd-ef\"]\r\n\t\t\t//\r\n\t\t\t//\t\tThis indicates the following rollup modules are available:\r\n\t\t\t//\r\n\t\t\t//\t\t\tsome/path/nls/someModule_ROOT\r\n\t\t\t//\t\t\tsome/path/nls/someModule_ab\r\n\t\t\t//\t\t\tsome/path/nls/someModule_ab-cd-ef\r\n\t\t\t//\r\n\t\t\t//\t\tEach of these modules is a normal AMD module that contains one or more flattened bundles in a hash.\r\n\t\t\t//\t\tFor example, assume someModule contained the bundles some/bundle/path/someBundle and\r\n\t\t\t//\t\tsome/bundle/path/someOtherBundle, then some/path/nls/someModule_ab would be expressed as follows:\r\n\t\t\t//\r\n\t\t\t//\t\t\tdefine({\r\n\t\t\t//\t\t\t\tsome/bundle/path/someBundle:<value of someBundle, flattened with respect to locale ab>,\r\n\t\t\t//\t\t\t\tsome/bundle/path/someOtherBundle:<value of someOtherBundle, flattened with respect to locale ab>,\r\n\t\t\t//\t\t\t});\r\n\t\t\t//\r\n\t\t\t//\t\tE.g., given this design, preloading for locale==\"ab\" can execute the following algorithm:\r\n\t\t\t//\r\n\t\t\t//\t\t\trequire([\"some/path/nls/someModule_ab\"], function(rollup){\r\n\t\t\t//\t\t\t\tfor(var p in rollup){\r\n\t\t\t//\t\t\t\t\tvar id = p + \"/ab\",\r\n\t\t\t//\t\t\t\t\tcache[id] = rollup[p];\r\n\t\t\t//\t\t\t\t\tdefine(id, rollup[p]);\r\n\t\t\t//\t\t\t\t}\r\n\t\t\t//\t\t\t});\r\n\t\t\t//\r\n\t\t\t//\t\tSimilarly, if \"ab-cd\" is requested, the algorithm can determine that \"ab\" is the best available and\r\n\t\t\t//\t\tload accordingly.\r\n\t\t\t//\r\n\t\t\t//\t\tThe builder will write such rollups for every layer if a non-empty localeList  profile property is\r\n\t\t\t//\t\tprovided. Further, the builder will include the following cache entry in the cache associated with\r\n\t\t\t//\t\tany layer.\r\n\t\t\t//\r\n\t\t\t//\t\t\t\"*now\":function(r){r(['dojo/i18n!*preload*<path>/nls/<module>*<JSON array of available locales>']);}\r\n\t\t\t//\r\n\t\t\t//\t\tThe *now special cache module instructs the loader to apply the provided function to context-require\r\n\t\t\t//\t\twith respect to the particular layer being defined. This causes the plugin to hold all normal service\r\n\t\t\t//\t\trequests until all preloading is complete.\r\n\t\t\t//\r\n\t\t\t//\t\tNotice that this algorithm is rarely better than the standard AMD load algorithm. Consider the normal case\r\n\t\t\t//\t\twhere the target locale has a single segment and a layer depends on a single bundle:\r\n\t\t\t//\r\n\t\t\t//\t\tWithout Preloads:\r\n\t\t\t//\r\n\t\t\t//\t\t1. Layer loads root bundle.\r\n\t\t\t//\t\t2. bundle is demanded; plugin loads single localized bundle.\r\n\t\t\t//\r\n\t\t\t//\t\tWith Preloads:\r\n\t\t\t//\r\n\t\t\t//\t\t1. Layer causes preloading of target bundle.\r\n\t\t\t//\t\t2. bundle is demanded; service is delayed until preloading complete; bundle is returned.\r\n\t\t\t//\r\n\t\t\t//\t\tIn each case a single transaction is required to load the target bundle. In cases where multiple bundles\r\n\t\t\t//\t\tare required and/or the locale has multiple segments, preloads still requires a single transaction whereas\r\n\t\t\t//\t\tthe normal path requires an additional transaction for each additional bundle/locale-segment. However all\r\n\t\t\t//\t\tof these additional transactions can be done concurrently. Owing to this analysis, the entire preloading\r\n\t\t\t//\t\talgorithm can be discard during a build by setting the has feature dojo-preload-i18n-Api to false.\r\n\r\n\t\t\tif(has(\"dojo-preload-i18n-Api\")){\r\n\t\t\t\tvar split = id.split(\"*\"),\r\n\t\t\t\t\tpreloadDemand = split[1] == \"preload\";\r\n\t\t\t\tif(preloadDemand){\r\n\t\t\t\t\tif(!cache[id]){\r\n\t\t\t\t\t\t// use cache[id] to prevent multiple preloads of the same preload; this shouldn't happen, but\r\n\t\t\t\t\t\t// who knows what over-aggressive human optimizers may attempt\r\n\t\t\t\t\t\tcache[id] = 1;\r\n\t\t\t\t\t\tpreloadL10n(split[2], json.parse(split[3]), 1, require);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// don't stall the loader!\r\n\t\t\t\t\tload(1);\r\n\t\t\t\t}\r\n\t\t\t\tif(preloadDemand || waitForPreloads(id, require, load)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar match = nlsRe.exec(id),\r\n\t\t\t\tbundlePath = match[1] + \"/\",\r\n\t\t\t\tbundleName = match[5] || match[4],\r\n\t\t\t\tbundlePathAndName = bundlePath + bundleName,\r\n\t\t\t\tlocaleSpecified = (match[5] && match[4]),\r\n\t\t\t\ttargetLocale =\tlocaleSpecified || dojo.locale || \"\",\r\n\t\t\t\tloadTarget = bundlePathAndName + \"/\" + targetLocale,\r\n\t\t\t\tloadList = localeSpecified ? [targetLocale] : getLocalesToLoad(targetLocale),\r\n\t\t\t\tremaining = loadList.length,\r\n\t\t\t\tfinish = function(){\r\n\t\t\t\t\tif(!--remaining){\r\n\t\t\t\t\t\tload(lang.delegate(cache[loadTarget]));\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\tarray.forEach(loadList, function(locale){\r\n\t\t\t\tvar target = bundlePathAndName + \"/\" + locale;\r\n\t\t\t\tif(has(\"dojo-preload-i18n-Api\")){\r\n\t\t\t\t\tcheckForLegacyModules(target);\r\n\t\t\t\t}\r\n\t\t\t\tif(!cache[target]){\r\n\t\t\t\t\tdoLoad(require, bundlePathAndName, bundlePath, bundleName, locale, finish);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfinish();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\tif(has(\"dojo-unit-tests\")){\r\n\t\tvar unitTests = thisModule.unitTests = [];\r\n\t}\r\n\r\n\tif(has(\"dojo-preload-i18n-Api\") || has(\"dojo-v1x-i18n-Api\")){\r\n\t\tvar normalizeLocale = thisModule.normalizeLocale = function(locale){\r\n\t\t\t\tvar result = locale ? locale.toLowerCase() : dojo.locale;\r\n\t\t\t\treturn result == \"root\" ? \"ROOT\" : result;\r\n\t\t\t},\r\n\r\n\t\t\tisXd = function(mid, contextRequire){\r\n\t\t\t\treturn (has(\"dojo-sync-loader\") && has(\"dojo-v1x-i18n-Api\")) ?\r\n\t\t\t\t\tcontextRequire.isXdUrl(require.toUrl(mid + \".js\")) :\r\n\t\t\t\t\ttrue;\r\n\t\t\t},\r\n\r\n\t\t\tpreloading = 0,\r\n\r\n\t\t\tpreloadWaitQueue = [],\r\n\r\n\t\t\tpreloadL10n = thisModule._preloadLocalizations = function(/*String*/bundlePrefix, /*Array*/localesGenerated, /*boolean?*/ guaranteedAmdFormat, /*function?*/ contextRequire){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tLoad available flattened resource bundles associated with a particular module for dojo/locale and all dojo/config.extraLocale (if any)\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tOnly called by built layer files. The entire locale hierarchy is loaded. For example,\r\n\t\t\t\t//\t\tif locale==\"ab-cd\", then ROOT, \"ab\", and \"ab-cd\" are loaded. This is different than v1.6-\r\n\t\t\t\t//\t\tin that the v1.6- would only load ab-cd...which was *always* flattened.\r\n\t\t\t\t//\r\n\t\t\t\t//\t\tIf guaranteedAmdFormat is true, then the module can be loaded with require thereby circumventing the detection algorithm\r\n\t\t\t\t//\t\tand the extra possible extra transaction.\r\n\r\n\t\t\t\t// If this function is called from legacy code, then guaranteedAmdFormat and contextRequire will be undefined. Since the function\r\n\t\t\t\t// needs a require in order to resolve module ids, fall back to the context-require associated with this dojo/i18n module, which\r\n\t\t\t\t// itself may have been mapped.\r\n\t\t\t\tcontextRequire = contextRequire || require;\r\n\r\n\t\t\t\tfunction doRequire(mid, callback){\r\n\t\t\t\t\tif(isXd(mid, contextRequire) || guaranteedAmdFormat){\r\n\t\t\t\t\t\tcontextRequire([mid], callback);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsyncRequire([mid], callback, contextRequire);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction forEachLocale(locale, func){\r\n\t\t\t\t\t// given locale= \"ab-cd-ef\", calls func on \"ab-cd-ef\", \"ab-cd\", \"ab\", \"ROOT\"; stops calling the first time func returns truthy\r\n\t\t\t\t\tvar parts = locale.split(\"-\");\r\n\t\t\t\t\twhile(parts.length){\r\n\t\t\t\t\t\tif(func(parts.join(\"-\"))){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tparts.pop();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunc(\"ROOT\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction preloadingAddLock(){\r\n\t\t\t\t\t\tpreloading++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction preloadingRelLock(){\r\n\t\t\t\t\t\t--preloading;\r\n\t\t\t\t\t\twhile(!preloading && preloadWaitQueue.length){\r\n\t\t\t\t\t\t\tload.apply(null, preloadWaitQueue.shift());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction cacheId(path, name, loc, require){\r\n\t\t\t\t\t\t// path is assumed to have a trailing \"/\"\r\n\t\t\t\t\t\treturn require.toAbsMid(path + name + \"/\" + loc)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction preload(locale){\r\n\t\t\t\t\t\tlocale = normalizeLocale(locale);\r\n\t\t\t\t\t\tforEachLocale(locale, function(loc){\r\n\t\t\t\t\t\t\tif(array.indexOf(localesGenerated, loc) >= 0){\r\n\t\t\t\t\t\t\t\tvar mid = bundlePrefix.replace(/\\./g, \"/\") + \"_\" + loc;\r\n\t\t\t\t\t\t\t\tpreloadingAddLock();\r\n\t\t\t\t\t\t\t\tdoRequire(mid, function(rollup){\r\n\t\t\t\t\t\t\t\t\tfor(var p in rollup){\r\n\t\t\t\t\t\t\t\t\t\tvar bundle = rollup[p],\r\n\t\t\t\t\t\t\t\t\t\t\tmatch = p.match(/(.+)\\/([^\\/]+)$/),\r\n\t\t\t\t\t\t\t\t\t\t\tbundleName, bundlePath;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t// If there is no match, the bundle is not a regular bundle from an AMD layer.\r\n\t\t\t\t\t\t\t\t\t\t\tif (!match){continue;}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tbundleName = match[2];\r\n\t\t\t\t\t\t\t\t\t\t\tbundlePath = match[1] + \"/\";\r\n\r\n\t\t\t\t\t\t\t\t\t\t// backcompat\r\n\t\t\t\t\t\t\t\t\t\tbundle._localized = bundle._localized || {};\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar localized;\r\n\t\t\t\t\t\t\t\t\t\tif(loc === \"ROOT\"){\r\n\t\t\t\t\t\t\t\t\t\t\tvar root = localized = bundle._localized;\r\n\t\t\t\t\t\t\t\t\t\t\tdelete bundle._localized;\r\n\t\t\t\t\t\t\t\t\t\t\troot.root = bundle;\r\n\t\t\t\t\t\t\t\t\t\t\tcache[require.toAbsMid(p)] = root;\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\tlocalized = bundle._localized;\r\n\t\t\t\t\t\t\t\t\t\t\tcache[cacheId(bundlePath, bundleName, loc, require)] = bundle;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(loc !== locale){\r\n\t\t\t\t\t\t\t\t\t\t\t// capture some locale variables\r\n\t\t\t\t\t\t\t\t\t\t\tfunction improveBundle(bundlePath, bundleName, bundle, localized){\r\n\t\t\t\t\t\t\t\t\t\t\t\t// locale was not flattened and we've fallen back to a less-specific locale that was flattened\r\n\t\t\t\t\t\t\t\t\t\t\t\t// for example, we had a flattened 'fr', a 'fr-ca' is available for at least this bundle, and\r\n\t\t\t\t\t\t\t\t\t\t\t\t// locale==='fr-ca'; therefore, we must improve the bundle as retrieved from the rollup by\r\n\t\t\t\t\t\t\t\t\t\t\t\t// manually loading the fr-ca version of the bundle and mixing this into the already-retrieved 'fr'\r\n\t\t\t\t\t\t\t\t\t\t\t\t// version of the bundle.\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Remember, different bundles may have different sets of locales available.\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t\t\t\t\t\t// we are really falling back on the regular algorithm here, but--hopefully--starting with most\r\n\t\t\t\t\t\t\t\t\t\t\t\t// of the required bundles already on board as given by the rollup and we need to \"manually\" load\r\n\t\t\t\t\t\t\t\t\t\t\t\t// only one locale from a few bundles...or even better...we won't find anything better to load.\r\n\t\t\t\t\t\t\t\t\t\t\t\t// This algorithm ensures there is nothing better to load even when we can only load a less-specific rollup.\r\n\t\t\t\t\t\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t\t\t\t\t\t// note: this feature is only available in async mode\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// inspect the loaded bundle that came from the rollup to see if something better is available\r\n\t\t\t\t\t\t\t\t\t\t\t\t// for any bundle in a rollup, more-specific available locales are given at localized.\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar requiredBundles = [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcacheIds = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\tforEachLocale(locale, function(loc){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(localized[loc]){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequiredBundles.push(require.toAbsMid(bundlePath + loc + \"/\" + bundleName));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcacheIds.push(cacheId(bundlePath, bundleName, loc, require));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(requiredBundles.length){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpreloadingAddLock();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontextRequire(requiredBundles, function(){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < requiredBundles.length; i++){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbundle = lang.mixin(lang.clone(bundle), arguments[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcache[cacheIds[i]] = bundle;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// this is the best possible (maybe a perfect match, maybe not), accept it\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcache[cacheId(bundlePath, bundleName, locale, require)] = lang.clone(bundle);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpreloadingRelLock();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// this is the best possible (definitely not a perfect match), accept it\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcache[cacheId(bundlePath, bundleName, locale, require)] = bundle;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\timproveBundle(bundlePath, bundleName, bundle, localized);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tpreloadingRelLock();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\tpreload();\r\n\t\t\t\tarray.forEach(dojo.config.extraLocale, preload);\r\n\t\t\t},\r\n\r\n\t\t\twaitForPreloads = function(id, require, load){\r\n\t\t\t\tif(preloading){\r\n\t\t\t\t\tpreloadWaitQueue.push([id, require, load]);\r\n\t\t\t\t}\r\n\t\t\t\treturn preloading;\r\n\t\t\t},\r\n\r\n\t\t\tcheckForLegacyModules = function()\r\n\t\t\t\t{};\r\n\t}\r\n\r\n\tif(has(\"dojo-v1x-i18n-Api\")){\r\n\t\t// this code path assumes the dojo loader and won't work with a standard AMD loader\r\n\t\tvar amdValue = {},\r\n\t\t\tevalBundle =\r\n\t\t\t\t// use the function ctor to keep the minifiers away (also come close to global scope, but this is secondary)\r\n\t\t\t\tnew Function(\r\n\t\t\t\t\t\"__bundle\",\t\t\t\t   // the bundle to evalutate\r\n\t\t\t\t\t\"__checkForLegacyModules\", // a function that checks if __bundle defined __mid in the global space\r\n\t\t\t\t\t\"__mid\",\t\t\t\t   // the mid that __bundle is intended to define\r\n\t\t\t\t\t\"__amdValue\",\r\n\r\n\t\t\t\t\t// returns one of:\r\n\t\t\t\t\t//\t\t1 => the bundle was an AMD bundle\r\n\t\t\t\t\t//\t\ta legacy bundle object that is the value of __mid\r\n\t\t\t\t\t//\t\tinstance of Error => could not figure out how to evaluate bundle\r\n\r\n\t\t\t\t\t  // used to detect when __bundle calls define\r\n\t\t\t\t\t  \"var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\"\r\n\t\t\t\t\t+ \"\t   require = function(){define.called = 1;};\"\r\n\r\n\t\t\t\t\t+ \"try{\"\r\n\t\t\t\t\t+\t\t\"define.called = 0;\"\r\n\t\t\t\t\t+\t\t\"eval(__bundle);\"\r\n\t\t\t\t\t+\t\t\"if(define.called==1)\"\r\n\t\t\t\t\t\t\t\t// bundle called define; therefore signal it's an AMD bundle\r\n\t\t\t\t\t+\t\t\t\"return __amdValue;\"\r\n\r\n\t\t\t\t\t+\t\t\"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))\"\r\n\t\t\t\t\t\t\t\t// bundle was probably a v1.6- built NLS flattened NLS bundle that defined __mid in the global space\r\n\t\t\t\t\t+\t\t\t\"return __checkForLegacyModules;\"\r\n\r\n\t\t\t\t\t+ \"}catch(e){}\"\r\n\t\t\t\t\t// evaulating the bundle was *neither* an AMD *nor* a legacy flattened bundle\r\n\t\t\t\t\t// either way, re-eval *after* surrounding with parentheses\r\n\r\n\t\t\t\t\t+ \"try{\"\r\n\t\t\t\t\t+\t\t\"return eval('('+__bundle+')');\"\r\n\t\t\t\t\t+ \"}catch(e){\"\r\n\t\t\t\t\t+\t\t\"return e;\"\r\n\t\t\t\t\t+ \"}\"\r\n\t\t\t\t),\r\n\r\n\t\t\tsyncRequire = function(deps, callback, require){\r\n\t\t\t\tvar results = [];\r\n\t\t\t\tarray.forEach(deps, function(mid){\r\n\t\t\t\t\tvar url = require.toUrl(mid + \".js\");\r\n\r\n\t\t\t\t\tfunction load(text){\r\n\t\t\t\t\t\tvar result = evalBundle(text, checkForLegacyModules, mid, amdValue);\r\n\t\t\t\t\t\tif(result===amdValue){\r\n\t\t\t\t\t\t\t// the bundle was an AMD module; re-inject it through the normal AMD path\r\n\t\t\t\t\t\t\t// we gotta do this since it could be an anonymous module and simply evaluating\r\n\t\t\t\t\t\t\t// the text here won't provide the loader with the context to know what\r\n\t\t\t\t\t\t\t// module is being defined()'d. With browser caching, this should be free; further\r\n\t\t\t\t\t\t\t// this entire code path can be circumvented by using the AMD format to begin with\r\n\t\t\t\t\t\t\tresults.push(cache[url] = amdValue.result);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(result instanceof Error){\r\n\t\t\t\t\t\t\t\tconsole.error(\"failed to evaluate i18n bundle; url=\" + url, result);\r\n\t\t\t\t\t\t\t\tresult = {};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// nls/<locale>/<bundle-name> indicates not the root.\r\n\t\t\t\t\t\t\tresults.push(cache[url] = (/nls\\/[^\\/]+\\/[^\\/]+$/.test(url) ? result : {root:result, _v1x:1}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(cache[url]){\r\n\t\t\t\t\t\tresults.push(cache[url]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar bundle = require.syncLoadNls(mid);\r\n\t\t\t\t\t\t// don't need to check for legacy since syncLoadNls returns a module if the module\r\n\t\t\t\t\t\t// (1) was already loaded, or (2) was in the cache. In case 1, if syncRequire is called\r\n\t\t\t\t\t\t// from getLocalization --> load, then load will have called checkForLegacyModules() before\r\n\t\t\t\t\t\t// calling syncRequire; if syncRequire is called from preloadLocalizations, then we\r\n\t\t\t\t\t\t// don't care about checkForLegacyModules() because that will be done when a particular\r\n\t\t\t\t\t\t// bundle is actually demanded. In case 2, checkForLegacyModules() is never relevant\r\n\t\t\t\t\t\t// because cached modules are always v1.7+ built modules.\r\n\t\t\t\t\t\tif(bundle){\r\n\t\t\t\t\t\t\tresults.push(bundle);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(!xhr){\r\n\t\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\t\trequire.getText(url, true, load);\r\n\t\t\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\t\t\tresults.push(cache[url] = {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\txhr.get({\r\n\t\t\t\t\t\t\t\t\turl:url,\r\n\t\t\t\t\t\t\t\t\tsync:true,\r\n\t\t\t\t\t\t\t\t\tload:load,\r\n\t\t\t\t\t\t\t\t\terror:function(){\r\n\t\t\t\t\t\t\t\t\t\tresults.push(cache[url] = {});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tcallback && callback.apply(null, results);\r\n\t\t\t};\r\n\r\n\t\tcheckForLegacyModules = function(target){\r\n\t\t\t// legacy code may have already loaded [e.g] the raw bundle x/y/z at x.y.z; when true, push into the cache\r\n\t\t\tfor(var result, names = target.split(\"/\"), object = dojo.global[names[0]], i = 1; object && i<names.length-1; object = object[names[i++]]){}\r\n\t\t\tif(object){\r\n\t\t\t\tresult = object[names[i]];\r\n\t\t\t\tif(!result){\r\n\t\t\t\t\t// fallback for incorrect bundle build of 1.6\r\n\t\t\t\t\tresult = object[names[i].replace(/-/g,\"_\")];\r\n\t\t\t\t}\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tcache[target] = result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\r\n\t\tthisModule.getLocalization = function(moduleName, bundleName, locale){\r\n\t\t\tvar result,\r\n\t\t\t\tl10nName = getBundleName(moduleName, bundleName, locale);\r\n\t\t\tload(\r\n\t\t\t\tl10nName,\r\n\r\n\t\t\t\t// isXd() and syncRequire() need a context-require in order to resolve the mid with respect to a reference module.\r\n\t\t\t\t// Since this legacy function does not have the concept of a reference module, resolve with respect to this\r\n\t\t\t\t// dojo/i18n module, which, itself may have been mapped.\r\n\t\t\t\t(!isXd(l10nName, require) ? function(deps, callback){ syncRequire(deps, callback, require); } : require),\r\n\r\n\t\t\t\tfunction(result_){ result = result_; }\r\n\t\t\t);\r\n\t\t\treturn result;\r\n\t\t};\r\n\r\n\t\tif(has(\"dojo-unit-tests\")){\r\n\t\t\tunitTests.push(function(doh){\r\n\t\t\t\tdoh.register(\"tests.i18n.unit\", function(t){\r\n\t\t\t\t\tvar check;\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"{prop:1}\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is({prop:1}, check); t.is(undefined, check[1]);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"({prop:1})\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is({prop:1}, check); t.is(undefined, check[1]);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"{'prop-x':1}\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is({'prop-x':1}, check); t.is(undefined, check[1]);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"({'prop-x':1})\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is({'prop-x':1}, check); t.is(undefined, check[1]);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"define({'prop-x':1})\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is(amdValue, check); t.is({'prop-x':1}, amdValue.result);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"define('some/module', {'prop-x':1})\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is(amdValue, check); t.is({'prop-x':1}, amdValue.result);\r\n\r\n\t\t\t\t\tcheck = evalBundle(\"this is total nonsense and should throw an error\", checkForLegacyModules, \"nonsense\", amdValue);\r\n\t\t\t\t\tt.is(check instanceof Error, true);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn lang.mixin(thisModule, {\r\n\t\tdynamic:true,\r\n\t\tnormalize:normalize,\r\n\t\tload:load,\r\n\t\tcache:cache,\r\n\t\tgetL10nName: getL10nName\r\n\t});\r\n});\r\n\ndefine('dojo/_base/Color',[\"./kernel\", \"./lang\", \"./array\", \"./config\"], function(dojo, lang, ArrayUtil, config){\r\n\r\n\tvar Color = dojo.Color = function(/*Array|String|Object*/ color){\r\n\t\t// summary:\r\n\t\t//\t\tTakes a named string, hex string, array of rgb or rgba values,\r\n\t\t//\t\tan object with r, g, b, and a properties, or another `Color` object\r\n\t\t//\t\tand creates a new Color instance to work from.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWork with a Color instance:\r\n\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t|\t\tvar c = new Color();\r\n\t\t//\t|\t\tc.setColor([0,0,0]); // black\r\n\t\t//\t|\t\tvar hex = c.toHex(); // #000000\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tWork with a node's color:\r\n\t\t//\t| \r\n\t\t//\t|\trequire([\"dojo/_base/color\", \"dojo/dom-style\"], function(Color, domStyle){\r\n\t\t//\t|\t\tvar color = domStyle(\"someNode\", \"backgroundColor\");\r\n\t\t//\t|\t\tvar n = new Color(color);\r\n\t\t//\t|\t\t// adjust the color some\r\n\t\t//\t|\t\tn.r *= .5;\r\n\t\t//\t|\t\tconsole.log(n.toString()); // rgb(128, 255, 255);\r\n\t\t//\t|\t});\r\n\t\tif(color){ this.setColor(color); }\r\n\t};\r\n\r\n\t// FIXME:\r\n\t// there's got to be a more space-efficient way to encode or discover\r\n\t// these!! Use hex?\r\n\tColor.named = {\r\n\t\t// summary:\r\n\t\t//\t\tDictionary list of all CSS named colors, by name. Values are 3-item arrays with corresponding RG and B values.\r\n\t\t\"black\":  [0,0,0],\r\n\t\t\"silver\": [192,192,192],\r\n\t\t\"gray\":\t  [128,128,128],\r\n\t\t\"white\":  [255,255,255],\r\n\t\t\"maroon\": [128,0,0],\r\n\t\t\"red\":\t  [255,0,0],\r\n\t\t\"purple\": [128,0,128],\r\n\t\t\"fuchsia\":[255,0,255],\r\n\t\t\"green\":  [0,128,0],\r\n\t\t\"lime\":\t  [0,255,0],\r\n\t\t\"olive\":  [128,128,0],\r\n\t\t\"yellow\": [255,255,0],\r\n\t\t\"navy\":\t  [0,0,128],\r\n\t\t\"blue\":\t  [0,0,255],\r\n\t\t\"teal\":\t  [0,128,128],\r\n\t\t\"aqua\":\t  [0,255,255],\r\n\t\t\"transparent\": config.transparentColor || [0,0,0,0]\r\n\t};\r\n\r\n\tlang.extend(Color, {\r\n\t\tr: 255, g: 255, b: 255, a: 1,\r\n\t\t_set: function(r, g, b, a){\r\n\t\t\tvar t = this; t.r = r; t.g = g; t.b = b; t.a = a;\r\n\t\t},\r\n\t\tsetColor: function(/*Array|String|Object*/ color){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTakes a named string, hex string, array of rgb or rgba values,\r\n\t\t\t//\t\tan object with r, g, b, and a properties, or another `Color` object\r\n\t\t\t//\t\tand sets this color instance to that value.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(); // no color\r\n\t\t\t//\t|\t\tc.setColor(\"#ededed\"); // greyish\r\n\t\t\t//\t|\t});\r\n\t\t\tif(lang.isString(color)){\r\n\t\t\t\tColor.fromString(color, this);\r\n\t\t\t}else if(lang.isArray(color)){\r\n\t\t\t\tColor.fromArray(color, this);\r\n\t\t\t}else{\r\n\t\t\t\tthis._set(color.r, color.g, color.b, color.a);\r\n\t\t\t\tif(!(color instanceof Color)){ this.sanitize(); }\r\n\t\t\t}\r\n\t\t\treturn this;\t// Color\r\n\t\t},\r\n\t\tsanitize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEnsures the object has correct attributes\r\n\t\t\t// description:\r\n\t\t\t//\t\tthe default implementation does nothing, include dojo.colors to\r\n\t\t\t//\t\taugment it with real checks\r\n\t\t\treturn this;\t// Color\r\n\t\t},\r\n\t\ttoRgb: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns 3 component array of rgb values\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(\"#000000\");\r\n\t\t\t//\t|\t\tconsole.log(c.toRgb()); // [0,0,0]\r\n\t\t\t//\t|\t});\r\n\t\t\tvar t = this;\r\n\t\t\treturn [t.r, t.g, t.b]; // Array\r\n\t\t},\r\n\t\ttoRgba: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a 4 component array of rgba values from the color\r\n\t\t\t//\t\trepresented by this object.\r\n\t\t\tvar t = this;\r\n\t\t\treturn [t.r, t.g, t.b, t.a];\t// Array\r\n\t\t},\r\n\t\ttoHex: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a CSS color string in hexadecimal representation\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tconsole.log(new Color([0,0,0]).toHex()); // #000000\r\n\t\t\t//\t|\t});\r\n\t\t\tvar arr = ArrayUtil.map([\"r\", \"g\", \"b\"], function(x){\r\n\t\t\t\tvar s = this[x].toString(16);\r\n\t\t\t\treturn s.length < 2 ? \"0\" + s : s;\r\n\t\t\t}, this);\r\n\t\t\treturn \"#\" + arr.join(\"\");\t// String\r\n\t\t},\r\n\t\ttoCss: function(/*Boolean?*/ includeAlpha){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a css color string in rgb(a) representation\r\n\t\t\t// example:\r\n\t\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t\t//\t|\t\tvar c = new Color(\"#FFF\").toCss();\r\n\t\t\t//\t|\t\tconsole.log(c); // rgb('255','255','255')\r\n\t\t\t//\t|\t});\r\n\t\t\tvar t = this, rgb = t.r + \", \" + t.g + \", \" + t.b;\r\n\t\t\treturn (includeAlpha ? \"rgba(\" + rgb + \", \" + t.a : \"rgb(\" + rgb) + \")\";\t// String\r\n\t\t},\r\n\t\ttoString: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a visual representation of the color\r\n\t\t\treturn this.toCss(true); // String\r\n\t\t}\r\n\t});\r\n\r\n\tColor.blendColors = dojo.blendColors = function(\r\n\t\t/*Color*/ start,\r\n\t\t/*Color*/ end,\r\n\t\t/*Number*/ weight,\r\n\t\t/*Color?*/ obj\r\n\t){\r\n\t\t// summary:\r\n\t\t//\t\tBlend colors end and start with weight from 0 to 1, 0.5 being a 50/50 blend,\r\n\t\t//\t\tcan reuse a previously allocated Color object for the result\r\n\t\tvar t = obj || new Color();\r\n\t\tArrayUtil.forEach([\"r\", \"g\", \"b\", \"a\"], function(x){\r\n\t\t\tt[x] = start[x] + (end[x] - start[x]) * weight;\r\n\t\t\tif(x != \"a\"){ t[x] = Math.round(t[x]); }\r\n\t\t});\r\n\t\treturn t.sanitize();\t// Color\r\n\t};\r\n\r\n\tColor.fromRgb = dojo.colorFromRgb = function(/*String*/ color, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tReturns a `Color` instance from a string of the form\r\n\t\t//\t\t\"rgb(...)\" or \"rgba(...)\". Optionally accepts a `Color`\r\n\t\t//\t\tobject to update with the parsed value and return instead of\r\n\t\t//\t\tcreating a new object.\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar m = color.toLowerCase().match(/^rgba?\\(([\\s\\.,0-9]+)\\)/);\r\n\t\treturn m && Color.fromArray(m[1].split(/\\s*,\\s*/), obj);\t// Color\r\n\t};\r\n\r\n\tColor.fromHex = dojo.colorFromHex = function(/*String*/ color, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tConverts a hex string with a '#' prefix to a color object.\r\n\t\t//\t\tSupports 12-bit #rgb shorthand. Optionally accepts a\r\n\t\t//\t\t`Color` object to update with the parsed value.\r\n\t\t//\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t|\t\tvar thing = new Color().fromHex(\"#ededed\"); // grey, longhand\r\n\t\t//\t|\t\tvar thing2 = new Color().fromHex(\"#000\"); // black, shorthand\r\n\t\t//\t|\t});\r\n\t\tvar t = obj || new Color(),\r\n\t\t\tbits = (color.length == 4) ? 4 : 8,\r\n\t\t\tmask = (1 << bits) - 1;\r\n\t\tcolor = Number(\"0x\" + color.substr(1));\r\n\t\tif(isNaN(color)){\r\n\t\t\treturn null; // Color\r\n\t\t}\r\n\t\tArrayUtil.forEach([\"b\", \"g\", \"r\"], function(x){\r\n\t\t\tvar c = color & mask;\r\n\t\t\tcolor >>= bits;\r\n\t\t\tt[x] = bits == 4 ? 17 * c : c;\r\n\t\t});\r\n\t\tt.a = 1;\r\n\t\treturn t;\t// Color\r\n\t};\r\n\r\n\tColor.fromArray = dojo.colorFromArray = function(/*Array*/ a, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tBuilds a `Color` from a 3 or 4 element array, mapping each\r\n\t\t//\t\telement in sequence to the rgb(a) values of the color.\r\n\t\t// example:\r\n\t\t//\t\t|\trequire([\"dojo/_base/color\"], function(Color){\r\n\t\t//\t\t|\t\tvar myColor = new Color().fromArray([237,237,237,0.5]); // grey, 50% alpha\r\n\t\t//\t\t|\t});\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar t = obj || new Color();\r\n\t\tt._set(Number(a[0]), Number(a[1]), Number(a[2]), Number(a[3]));\r\n\t\tif(isNaN(t.a)){ t.a = 1; }\r\n\t\treturn t.sanitize();\t// Color\r\n\t};\r\n\r\n\tColor.fromString = dojo.colorFromString = function(/*String*/ str, /*Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tParses `str` for a color value. Accepts hex, rgb, and rgba\r\n\t\t//\t\tstyle color values.\r\n\t\t// description:\r\n\t\t//\t\tAcceptable input values for str may include arrays of any form\r\n\t\t//\t\taccepted by dojo.colorFromArray, hex strings such as \"#aaaaaa\", or\r\n\t\t//\t\trgb or rgba strings such as \"rgb(133, 200, 16)\" or \"rgba(10, 10,\r\n\t\t//\t\t10, 50)\"\r\n\t\t// returns:\r\n\t\t//\t\tA Color object. If obj is passed, it will be the return value.\r\n\t\tvar a = Color.named[str];\r\n\t\treturn a && Color.fromArray(a, obj) || Color.fromRgb(str, obj) || Color.fromHex(str, obj);\t// Color\r\n\t};\r\n\r\n\treturn Color;\r\n});\r\n\n\ndefine('dojo/colors',[\"./_base/kernel\", \"./_base/lang\", \"./_base/Color\", \"./_base/array\"], function(dojo, lang, Color, ArrayUtil){\r\n\t// module:\r\n\t//\t\tdojo/colors\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tColor utilities, extending Base dojo.Color\r\n\t};\r\n\t=====*/\r\n\r\n\tvar ColorExt = {};\r\n\tlang.setObject(\"dojo.colors\", ColorExt);\r\n\r\n//TODO: this module appears to break naming conventions\r\n\r\n\t// this is a standard conversion prescribed by the CSS3 Color Module\r\n\tvar hue2rgb = function(m1, m2, h){\r\n\t\tif(h < 0){ ++h; }\r\n\t\tif(h > 1){ --h; }\r\n\t\tvar h6 = 6 * h;\r\n\t\tif(h6 < 1){ return m1 + (m2 - m1) * h6; }\r\n\t\tif(2 * h < 1){ return m2; }\r\n\t\tif(3 * h < 2){ return m1 + (m2 - m1) * (2 / 3 - h) * 6; }\r\n\t\treturn m1;\r\n\t};\r\n\t// Override base Color.fromRgb with the impl in this module\r\n\tdojo.colorFromRgb = Color.fromRgb = function(/*String*/ color, /*dojo/_base/Color?*/ obj){\r\n\t\t// summary:\r\n\t\t//\t\tget rgb(a) array from css-style color declarations\r\n\t\t// description:\r\n\t\t//\t\tthis function can handle all 4 CSS3 Color Module formats: rgb,\r\n\t\t//\t\trgba, hsl, hsla, including rgb(a) with percentage values.\r\n\t\tvar m = color.toLowerCase().match(/^(rgba?|hsla?)\\(([\\s\\.\\-,%0-9]+)\\)/);\r\n\t\tif(m){\r\n\t\t\tvar c = m[2].split(/\\s*,\\s*/), l = c.length, t = m[1], a;\r\n\t\t\tif((t == \"rgb\" && l == 3) || (t == \"rgba\" && l == 4)){\r\n\t\t\t\tvar r = c[0];\r\n\t\t\t\tif(r.charAt(r.length - 1) == \"%\"){\r\n\t\t\t\t\t// 3 rgb percentage values\r\n\t\t\t\t\ta = ArrayUtil.map(c, function(x){\r\n\t\t\t\t\t\treturn parseFloat(x) * 2.56;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(l == 4){ a[3] = c[3]; }\r\n\t\t\t\t\treturn Color.fromArray(a, obj); // dojo/_base/Color\r\n\t\t\t\t}\r\n\t\t\t\treturn Color.fromArray(c, obj); // dojo/_base/Color\r\n\t\t\t}\r\n\t\t\tif((t == \"hsl\" && l == 3) || (t == \"hsla\" && l == 4)){\r\n\t\t\t\t// normalize hsl values\r\n\t\t\t\tvar H = ((parseFloat(c[0]) % 360) + 360) % 360 / 360,\r\n\t\t\t\t\tS = parseFloat(c[1]) / 100,\r\n\t\t\t\t\tL = parseFloat(c[2]) / 100,\r\n\t\t\t\t\t// calculate rgb according to the algorithm\r\n\t\t\t\t\t// recommended by the CSS3 Color Module\r\n\t\t\t\t\tm2 = L <= 0.5 ? L * (S + 1) : L + S - L * S,\r\n\t\t\t\t\tm1 = 2 * L - m2;\r\n\t\t\t\ta = [\r\n\t\t\t\t\thue2rgb(m1, m2, H + 1 / 3) * 256,\r\n\t\t\t\t\thue2rgb(m1, m2, H) * 256,\r\n\t\t\t\t\thue2rgb(m1, m2, H - 1 / 3) * 256,\r\n\t\t\t\t\t1\r\n\t\t\t\t];\r\n\t\t\t\tif(l == 4){ a[3] = c[3]; }\r\n\t\t\t\treturn Color.fromArray(a, obj); // dojo/_base/Color\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\t// dojo/_base/Color\r\n\t};\r\n\r\n\tvar confine = function(c, low, high){\r\n\t\t// summary:\r\n\t\t//\t\tsanitize a color component by making sure it is a number,\r\n\t\t//\t\tand clamping it to valid values\r\n\t\tc = Number(c);\r\n\t\treturn isNaN(c) ? high : c < low ? low : c > high ? high : c;\t// Number\r\n\t};\r\n\r\n\tColor.prototype.sanitize = function(){\r\n\t\t// summary:\r\n\t\t//\t\tmakes sure that the object has correct attributes\r\n\t\tvar t = this;\r\n\t\tt.r = Math.round(confine(t.r, 0, 255));\r\n\t\tt.g = Math.round(confine(t.g, 0, 255));\r\n\t\tt.b = Math.round(confine(t.b, 0, 255));\r\n\t\tt.a = confine(t.a, 0, 1);\r\n\t\treturn this;\t// dojo/_base/Color\r\n\t};\r\n\r\n\tColorExt.makeGrey = Color.makeGrey = function(/*Number*/ g, /*Number?*/ a){\r\n\t\t// summary:\r\n\t\t//\t\tcreates a greyscale color with an optional alpha\r\n\t\treturn Color.fromArray([g, g, g, a]);\t// dojo/_base/Color\r\n\t};\r\n\r\n\t// mixin all CSS3 named colors not already in _base, along with SVG 1.0 variant spellings\r\n\tlang.mixin(Color.named, {\r\n\t\t\"aliceblue\":\t[240,248,255],\r\n\t\t\"antiquewhite\": [250,235,215],\r\n\t\t\"aquamarine\":\t[127,255,212],\r\n\t\t\"azure\":\t[240,255,255],\r\n\t\t\"beige\":\t[245,245,220],\r\n\t\t\"bisque\":\t[255,228,196],\r\n\t\t\"blanchedalmond\":\t[255,235,205],\r\n\t\t\"blueviolet\":\t[138,43,226],\r\n\t\t\"brown\":\t[165,42,42],\r\n\t\t\"burlywood\":\t[222,184,135],\r\n\t\t\"cadetblue\":\t[95,158,160],\r\n\t\t\"chartreuse\":\t[127,255,0],\r\n\t\t\"chocolate\":\t[210,105,30],\r\n\t\t\"coral\":\t[255,127,80],\r\n\t\t\"cornflowerblue\":\t[100,149,237],\r\n\t\t\"cornsilk\": [255,248,220],\r\n\t\t\"crimson\":\t[220,20,60],\r\n\t\t\"cyan\": [0,255,255],\r\n\t\t\"darkblue\": [0,0,139],\r\n\t\t\"darkcyan\": [0,139,139],\r\n\t\t\"darkgoldenrod\":\t[184,134,11],\r\n\t\t\"darkgray\": [169,169,169],\r\n\t\t\"darkgreen\":\t[0,100,0],\r\n\t\t\"darkgrey\": [169,169,169],\r\n\t\t\"darkkhaki\":\t[189,183,107],\r\n\t\t\"darkmagenta\":\t[139,0,139],\r\n\t\t\"darkolivegreen\":\t[85,107,47],\r\n\t\t\"darkorange\":\t[255,140,0],\r\n\t\t\"darkorchid\":\t[153,50,204],\r\n\t\t\"darkred\":\t[139,0,0],\r\n\t\t\"darksalmon\":\t[233,150,122],\r\n\t\t\"darkseagreen\": [143,188,143],\r\n\t\t\"darkslateblue\":\t[72,61,139],\r\n\t\t\"darkslategray\":\t[47,79,79],\r\n\t\t\"darkslategrey\":\t[47,79,79],\r\n\t\t\"darkturquoise\":\t[0,206,209],\r\n\t\t\"darkviolet\":\t[148,0,211],\r\n\t\t\"deeppink\": [255,20,147],\r\n\t\t\"deepskyblue\":\t[0,191,255],\r\n\t\t\"dimgray\":\t[105,105,105],\r\n\t\t\"dimgrey\":\t[105,105,105],\r\n\t\t\"dodgerblue\":\t[30,144,255],\r\n\t\t\"firebrick\":\t[178,34,34],\r\n\t\t\"floralwhite\":\t[255,250,240],\r\n\t\t\"forestgreen\":\t[34,139,34],\r\n\t\t\"gainsboro\":\t[220,220,220],\r\n\t\t\"ghostwhite\":\t[248,248,255],\r\n\t\t\"gold\": [255,215,0],\r\n\t\t\"goldenrod\":\t[218,165,32],\r\n\t\t\"greenyellow\":\t[173,255,47],\r\n\t\t\"grey\": [128,128,128],\r\n\t\t\"honeydew\": [240,255,240],\r\n\t\t\"hotpink\":\t[255,105,180],\r\n\t\t\"indianred\":\t[205,92,92],\r\n\t\t\"indigo\":\t[75,0,130],\r\n\t\t\"ivory\":\t[255,255,240],\r\n\t\t\"khaki\":\t[240,230,140],\r\n\t\t\"lavender\": [230,230,250],\r\n\t\t\"lavenderblush\":\t[255,240,245],\r\n\t\t\"lawngreen\":\t[124,252,0],\r\n\t\t\"lemonchiffon\": [255,250,205],\r\n\t\t\"lightblue\":\t[173,216,230],\r\n\t\t\"lightcoral\":\t[240,128,128],\r\n\t\t\"lightcyan\":\t[224,255,255],\r\n\t\t\"lightgoldenrodyellow\": [250,250,210],\r\n\t\t\"lightgray\":\t[211,211,211],\r\n\t\t\"lightgreen\":\t[144,238,144],\r\n\t\t\"lightgrey\":\t[211,211,211],\r\n\t\t\"lightpink\":\t[255,182,193],\r\n\t\t\"lightsalmon\":\t[255,160,122],\r\n\t\t\"lightseagreen\":\t[32,178,170],\r\n\t\t\"lightskyblue\": [135,206,250],\r\n\t\t\"lightslategray\":\t[119,136,153],\r\n\t\t\"lightslategrey\":\t[119,136,153],\r\n\t\t\"lightsteelblue\":\t[176,196,222],\r\n\t\t\"lightyellow\":\t[255,255,224],\r\n\t\t\"limegreen\":\t[50,205,50],\r\n\t\t\"linen\":\t[250,240,230],\r\n\t\t\"magenta\":\t[255,0,255],\r\n\t\t\"mediumaquamarine\": [102,205,170],\r\n\t\t\"mediumblue\":\t[0,0,205],\r\n\t\t\"mediumorchid\": [186,85,211],\r\n\t\t\"mediumpurple\": [147,112,219],\r\n\t\t\"mediumseagreen\":\t[60,179,113],\r\n\t\t\"mediumslateblue\":\t[123,104,238],\r\n\t\t\"mediumspringgreen\":\t[0,250,154],\r\n\t\t\"mediumturquoise\":\t[72,209,204],\r\n\t\t\"mediumvioletred\":\t[199,21,133],\r\n\t\t\"midnightblue\": [25,25,112],\r\n\t\t\"mintcream\":\t[245,255,250],\r\n\t\t\"mistyrose\":\t[255,228,225],\r\n\t\t\"moccasin\": [255,228,181],\r\n\t\t\"navajowhite\":\t[255,222,173],\r\n\t\t\"oldlace\":\t[253,245,230],\r\n\t\t\"olivedrab\":\t[107,142,35],\r\n\t\t\"orange\":\t[255,165,0],\r\n\t\t\"orangered\":\t[255,69,0],\r\n\t\t\"orchid\":\t[218,112,214],\r\n\t\t\"palegoldenrod\":\t[238,232,170],\r\n\t\t\"palegreen\":\t[152,251,152],\r\n\t\t\"paleturquoise\":\t[175,238,238],\r\n\t\t\"palevioletred\":\t[219,112,147],\r\n\t\t\"papayawhip\":\t[255,239,213],\r\n\t\t\"peachpuff\":\t[255,218,185],\r\n\t\t\"peru\": [205,133,63],\r\n\t\t\"pink\": [255,192,203],\r\n\t\t\"plum\": [221,160,221],\r\n\t\t\"powderblue\":\t[176,224,230],\r\n\t\t\"rosybrown\":\t[188,143,143],\r\n\t\t\"royalblue\":\t[65,105,225],\r\n\t\t\"saddlebrown\":\t[139,69,19],\r\n\t\t\"salmon\":\t[250,128,114],\r\n\t\t\"sandybrown\":\t[244,164,96],\r\n\t\t\"seagreen\": [46,139,87],\r\n\t\t\"seashell\": [255,245,238],\r\n\t\t\"sienna\":\t[160,82,45],\r\n\t\t\"skyblue\":\t[135,206,235],\r\n\t\t\"slateblue\":\t[106,90,205],\r\n\t\t\"slategray\":\t[112,128,144],\r\n\t\t\"slategrey\":\t[112,128,144],\r\n\t\t\"snow\": [255,250,250],\r\n\t\t\"springgreen\":\t[0,255,127],\r\n\t\t\"steelblue\":\t[70,130,180],\r\n\t\t\"tan\":\t[210,180,140],\r\n\t\t\"thistle\":\t[216,191,216],\r\n\t\t\"tomato\":\t[255,99,71],\r\n\t\t\"turquoise\":\t[64,224,208],\r\n\t\t\"violet\":\t[238,130,238],\r\n\t\t\"wheat\":\t[245,222,179],\r\n\t\t\"whitesmoke\":\t[245,245,245],\r\n\t\t\"yellowgreen\":\t[154,205,50]\r\n\t});\r\n\r\n\treturn Color;\t// TODO: return ColorExt, not Color\r\n});\r\n\ndefine('dijit/ColorPalette',[\r\n\t\"require\", // require.toUrl\r\n\t\"dojo/text!./templates/ColorPalette.html\",\r\n\t\"./_Widget\", // used also to load dijit/hccss for setting has(\"highcontrast\")\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_PaletteMixin\",\r\n\t\"./hccss\", // has(\"highcontrast\")\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/_base/Color\", // dojo.Color dojo.Color.named\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.place\r\n\t\"dojo/string\", // string.substitute\r\n\t\"dojo/i18n!dojo/nls/colors\", // translations\r\n\t\"dojo/colors\"    // extend dojo.Color w/names of other colors\r\n], function(require, template, _Widget, _TemplatedMixin, _PaletteMixin, has, i18n, Color,\r\n\tdeclare, domConstruct, string){\r\n\r\n\t// module:\r\n\t//\t\tdijit/ColorPalette\r\n\r\n\tvar ColorPalette = declare(\"dijit.ColorPalette\", [_Widget, _TemplatedMixin, _PaletteMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA keyboard accessible color-picking widget\r\n\t\t// description:\r\n\t\t//\t\tGrid showing various colors, so the user can pick a certain color.\r\n\t\t//\t\tCan be used standalone, or as a popup.\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\t<div data-dojo-type=\"dijit/ColorPalette\"></div>\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\tvar picker = new dijit.ColorPalette({ },srcNode);\r\n\t\t// |\tpicker.startup();\r\n\r\n\r\n\t\t// palette: [const] String\r\n\t\t//\t\tSize of grid, either \"7x10\" or \"3x4\".\r\n\t\tpalette: \"7x10\",\r\n\r\n\t\t// _palettes: [protected] Map\r\n\t\t//\t\tThis represents the value of the colors.\r\n\t\t//\t\tThe first level is a hashmap of the different palettes available.\r\n\t\t//\t\tThe next two dimensions represent the columns and rows of colors.\r\n\t\t_palettes: {\r\n\t\t\t\"7x10\": [\r\n\t\t\t\t[\"white\", \"seashell\", \"cornsilk\", \"lemonchiffon\", \"lightyellow\", \"palegreen\", \"paleturquoise\", \"lightcyan\", \"lavender\", \"plum\"],\r\n\t\t\t\t[\"lightgray\", \"pink\", \"bisque\", \"moccasin\", \"khaki\", \"lightgreen\", \"lightseagreen\", \"lightskyblue\", \"cornflowerblue\", \"violet\"],\r\n\t\t\t\t[\"silver\", \"lightcoral\", \"sandybrown\", \"orange\", \"palegoldenrod\", \"chartreuse\", \"mediumturquoise\", \"skyblue\", \"mediumslateblue\", \"orchid\"],\r\n\t\t\t\t[\"gray\", \"red\", \"orangered\", \"darkorange\", \"yellow\", \"limegreen\", \"darkseagreen\", \"royalblue\", \"slateblue\", \"mediumorchid\"],\r\n\t\t\t\t[\"dimgray\", \"crimson\", \"chocolate\", \"coral\", \"gold\", \"forestgreen\", \"seagreen\", \"blue\", \"blueviolet\", \"darkorchid\"],\r\n\t\t\t\t[\"darkslategray\", \"firebrick\", \"saddlebrown\", \"sienna\", \"olive\", \"green\", \"darkcyan\", \"mediumblue\", \"darkslateblue\", \"darkmagenta\" ],\r\n\t\t\t\t[\"black\", \"darkred\", \"maroon\", \"brown\", \"darkolivegreen\", \"darkgreen\", \"midnightblue\", \"navy\", \"indigo\", \"purple\"]\r\n\t\t\t],\r\n\r\n\t\t\t\"3x4\": [\r\n\t\t\t\t[\"white\", \"lime\", \"green\", \"blue\"],\r\n\t\t\t\t[\"silver\", \"yellow\", \"fuchsia\", \"navy\"],\r\n\t\t\t\t[\"gray\", \"red\", \"purple\", \"black\"]\r\n\t\t\t]\r\n\t\t},\r\n\r\n\t\t// templateString: String\r\n\t\t//\t\tThe template of this widget.\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitColorPalette\",\r\n\r\n\t\t_dyeFactory: function(value, row, col, title){\r\n\t\t\t// Overrides _PaletteMixin._dyeFactory().\r\n\t\t\treturn new this._dyeClass(value, row, col, title);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// Instantiate the template, which makes a skeleton into which we'll insert a bunch of\r\n\t\t\t// <img> nodes\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t//\tCreates customized constructor for dye class (color of a single cell) for\r\n\t\t\t//\tspecified palette and high-contrast vs. normal mode.   Used in _getDye().\r\n\t\t\tthis._dyeClass = declare(ColorPalette._Color, {\r\n\t\t\t\tpalette: this.palette\r\n\t\t\t});\r\n\r\n\t\t\t// Creates <img> nodes in each cell of the template.\r\n\t\t\tthis._preparePalette(\r\n\t\t\t\tthis._palettes[this.palette],\r\n\t\t\t\ti18n.getLocalization(\"dojo\", \"colors\", this.lang));\r\n\t\t}\r\n\t});\r\n\r\n\tColorPalette._Color = declare(\"dijit._Color\", Color, {\r\n\t\t// summary:\r\n\t\t//\t\tObject associated with each cell in a ColorPalette palette.\r\n\t\t//\t\tImplements dijit/Dye.\r\n\r\n\t\t// Template for each cell in normal (non-high-contrast mode).  Each cell contains a wrapper\r\n\t\t// node for showing the border (called dijitPaletteImg for back-compat), and dijitColorPaletteSwatch\r\n\t\t// for showing the color.\r\n\t\ttemplate: \"<span class='dijitInline dijitPaletteImg'>\" +\r\n\t\t\t\"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>\" +\r\n\t\t\t\"</span>\",\r\n\r\n\t\t// Template for each cell in high contrast mode.  Each cell contains an image with the whole palette,\r\n\t\t// but scrolled and clipped to show the correct color only\r\n\t\thcTemplate: \"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>\" +\r\n\t\t\t\"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>\" +\r\n\t\t\t\"</span>\",\r\n\r\n\t\t// _imagePaths: [protected] Map\r\n\t\t//\t\tThis is stores the path to the palette images used for high-contrast mode display\r\n\t\t_imagePaths: {\r\n\t\t\t\"7x10\": require.toUrl(\"./themes/a11y/colors7x10.png\"),\r\n\t\t\t\"3x4\": require.toUrl(\"./themes/a11y/colors3x4.png\")\r\n\t\t},\r\n\r\n\t\tconstructor: function(alias, row, col, title){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConstructor for ColorPalette._Color\r\n\t\t\t// alias: String\r\n\t\t\t//\t\tEnglish name of the color.\r\n\t\t\t// row: Number\r\n\t\t\t//\t\tVertical position in grid.\r\n\t\t\t// column: Number\r\n\t\t\t//\t\tHorizontal position in grid.\r\n\t\t\t// title: String\r\n\t\t\t//\t\tLocalized name of the color.\r\n\t\t\tthis._title = title;\r\n\t\t\tthis._row = row;\r\n\t\t\tthis._col = col;\r\n\t\t\tthis.setColor(Color.named[alias]);\r\n\t\t},\r\n\r\n\t\tgetValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tNote that although dijit._Color is initialized with a value like \"white\" getValue() always\r\n\t\t\t//\t\treturns a hex value\r\n\t\t\treturn this.toHex();\r\n\t\t},\r\n\r\n\t\tfillCell: function(/*DOMNode*/ cell, /*String*/ blankGif){\r\n\t\t\tvar html = string.substitute(has(\"highcontrast\") ? this.hcTemplate : this.template, {\r\n\t\t\t\t// substitution variables for normal mode\r\n\t\t\t\tcolor: this.toHex(),\r\n\t\t\t\tblankGif: blankGif,\r\n\t\t\t\talt: this._title,\r\n\t\t\t\ttitle: this._title,\r\n\r\n\t\t\t\t// variables used for high contrast mode\r\n\t\t\t\timage: this._imagePaths[this.palette].toString(),\r\n\t\t\t\tleft: this._col * -20 - 5,\r\n\t\t\t\ttop: this._row * -20 - 5,\r\n\t\t\t\tsize: this.palette == \"7x10\" ? \"height: 145px; width: 206px\" : \"height: 64px; width: 86px\"\r\n\t\t\t});\r\n\r\n\t\t\tdomConstruct.place(html, cell);\r\n\t\t}\r\n\t});\r\n\r\n\treturn ColorPalette;\r\n});\r\n\ndefine('dijit/_WidgetsInTemplateMixin',[\r\n\t\"dojo/_base/array\", // forEach()\r\n\t\"dojo/aspect\", // after()\r\n\t\"dojo/_base/declare\", // declare()\r\n\t\"dojo/_base/lang\",\t// hitch()\r\n\t\"dojo/parser\" // parse()\r\n], function(array, aspect, declare, lang, parser){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_WidgetsInTemplateMixin\r\n\r\n\treturn declare(\"dijit._WidgetsInTemplateMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin to supplement _TemplatedMixin when template contains widgets\r\n\r\n\t\t// _earlyTemplatedStartup: Boolean\r\n\t\t//\t\tA fallback to preserve the 1.0 - 1.3 behavior of children in\r\n\t\t//\t\ttemplates having their startup called before the parent widget\r\n\t\t//\t\tfires postCreate. Defaults to 'false', causing child widgets to\r\n\t\t//\t\thave their .startup() called immediately before a parent widget\r\n\t\t//\t\t.startup(), but always after the parent .postCreate(). Set to\r\n\t\t//\t\t'true' to re-enable to previous, arguably broken, behavior.\r\n\t\t_earlyTemplatedStartup: false,\r\n\r\n\t\t// widgetsInTemplate: [protected] Boolean\r\n\t\t//\t\tShould we parse the template to find widgets that might be\r\n\t\t//\t\tdeclared in markup inside it?  (Remove for 2.0 and assume true)\r\n\t\twidgetsInTemplate: true,\r\n\r\n\t\t// contextRequire: Function\r\n\t\t//\t\tUsed to provide a context require to the dojo/parser in order to be\r\n\t\t//\t\table to use relative MIDs (e.g. `./Widget`) in the widget's template.\r\n\t\tcontextRequire: null,\r\n\r\n\t\t_beforeFillContent: function(){\r\n\t\t\tif(this.widgetsInTemplate){\r\n\t\t\t\t// Before copying over content, instantiate widgets in template\r\n\t\t\t\tvar node = this.domNode;\r\n\r\n\t\t\t\tif(this.containerNode && !this.searchContainerNode){\r\n\t\t\t\t\t// Tell parse call below not to look for widgets inside of this.containerNode\r\n\t\t\t\t\tthis.containerNode.stopParser = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparser.parse(node, {\r\n\t\t\t\t\tnoStart: !this._earlyTemplatedStartup,\r\n\t\t\t\t\ttemplate: true,\r\n\t\t\t\t\tinherited: {dir: this.dir, lang: this.lang, textDir: this.textDir},\r\n\t\t\t\t\tpropsThis: this,\t// so data-dojo-props of widgets in the template can reference \"this\" to refer to me\r\n\t\t\t\t\tcontextRequire: this.contextRequire,\r\n\t\t\t\t\tscope: \"dojo\"\t// even in multi-version mode templates use dojoType/data-dojo-type\r\n\t\t\t\t}).then(lang.hitch(this, function(widgets){\r\n\t\t\t\t\tthis._startupWidgets = widgets;\r\n\r\n\t\t\t\t\t// _WidgetBase::destroy() will destroy any supporting widgets under this.domNode.\r\n\t\t\t\t\t// If we wanted to, we could call this.own() on anything in this._startupWidgets that was moved outside\r\n\t\t\t\t\t// of this.domNode (like Dialog, which is moved to <body>).\r\n\r\n\t\t\t\t\t// Hook up attach points and events for nodes that were converted to widgets\r\n\t\t\t\t\tfor(var i = 0; i < widgets.length; i++){\r\n\t\t\t\t\t\tthis._processTemplateNode(widgets[i], function(n,p){\r\n\t\t\t\t\t\t\t// callback to get a property of a widget\r\n\t\t\t\t\t\t\treturn n[p];\r\n\t\t\t\t\t\t}, function(widget, type, callback){\r\n\t\t\t\t\t\t\t// callback to do data-dojo-attach-event to a widget\r\n\t\t\t\t\t\t\tif(type in widget){\r\n\t\t\t\t\t\t\t\t// back-compat, remove for 2.0\r\n\t\t\t\t\t\t\t\treturn widget.connect(widget, type, callback);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// 1.x may never hit this branch, but it's the default for 2.0\r\n\t\t\t\t\t\t\t\treturn widget.on(type, callback, true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cleanup flag set above, just in case\r\n\t\t\t\t\tif(this.containerNode && this.containerNode.stopParser){\r\n\t\t\t\t\t\tdelete this.containerNode.stopParser;\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tif(!this._startupWidgets){\r\n\t\t\t\t\tthrow new Error(this.declaredClass + \": parser returned unfilled promise (probably waiting for module auto-load), \" +\r\n\t\t\t\t\t\t\"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_processTemplateNode: function(/*DOMNode|Widget*/ baseNode, getAttrFunc, attachFunc){\r\n\t\t\t// Override _AttachMixin._processNode to skip DOMNodes with data-dojo-type set.   They are handled separately\r\n\t\t\t// in the _beforeFillContent() code above.\r\n\r\n\t\t\tif(getAttrFunc(baseNode, \"dojoType\") || getAttrFunc(baseNode, \"data-dojo-type\")){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tarray.forEach(this._startupWidgets, function(w){\r\n\t\t\t\tif(w && !w._started && w.startup){\r\n\t\t\t\t\tw.startup();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._startupWidgets = null;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/NodeList-dom',[\"./_base/kernel\", \"./query\", \"./_base/array\", \"./_base/lang\", \"./dom-class\", \"./dom-construct\", \"./dom-geometry\", \"./dom-attr\", \"./dom-style\"], function(dojo, query, array, lang, domCls, domCtr, domGeom, domAttr, domStyle){\r\n\r\n\t// module:\r\n\t//\t\tdojo/NodeList-dom.js\r\n\r\n\t/*=====\r\n\t return function(){\r\n\t\t // summary:\r\n\t\t //\t\tAdds DOM related methods to NodeList, and returns NodeList constructor.\r\n\t };\r\n\t =====*/\r\n\r\n\tvar magicGuard = function(a){\r\n\t\t// summary:\r\n\t\t//\t\tthe guard function for dojo/dom-attr() and dojo/dom-style()\r\n\t\treturn a.length == 1 && (typeof a[0] == \"string\"); // inline'd type check\r\n\t};\r\n\r\n\tvar orphan = function(node){\r\n\t\t// summary:\r\n\t\t//\t\tfunction to orphan nodes\r\n\t\tvar p = node.parentNode;\r\n\t\tif(p){\r\n\t\t\tp.removeChild(node);\r\n\t\t}\r\n\t};\r\n\t// FIXME: should we move orphan() to dojo/_base/html?\r\n\r\n\tvar NodeList = query.NodeList,\r\n\t\tawc = NodeList._adaptWithCondition,\r\n\t\taafe = NodeList._adaptAsForEach,\r\n\t\taam = NodeList._adaptAsMap;\r\n\r\n\tfunction getSet(module){\r\n\t\treturn function(node, name, value){\r\n\t\t\tif(arguments.length == 2){\r\n\t\t\t\treturn module[typeof name == \"string\" ? \"get\" : \"set\"](node, name);\r\n\t\t\t}\r\n\t\t\t// setter\r\n\t\t\treturn module.set(node, name, value);\r\n\t\t};\r\n\t}\r\n\r\n\tlang.extend(NodeList, {\r\n\t\t_normalize: function(/*String||Element||Object||NodeList*/content, /*DOMNode?*/refNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tnormalizes data to an array of items to insert.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf content is an object, it can have special properties \"template\" and\r\n\t\t\t//\t\t\"parse\". If \"template\" is defined, then the template value is run through\r\n\t\t\t//\t\tdojo/string.substitute (if dojo/string.substitute() has been required elsewhere),\r\n\t\t\t//\t\tor if templateFunc is a function on the content, that function will be used to\r\n\t\t\t//\t\ttransform the template into a final string to be used for for passing to dojo/dom-construct.toDom().\r\n\t\t\t//\t\tIf content.parse is true, then it is remembered for later, for when the content\r\n\t\t\t//\t\tnodes are inserted into the DOM. At that point, the nodes will be parsed for widgets\r\n\t\t\t//\t\t(if dojo/parser has been required elsewhere).\r\n\r\n\t\t\t//Wanted to just use a DocumentFragment, but for the array/NodeList\r\n\t\t\t//case that meant using cloneNode, but we may not want that.\r\n\t\t\t//Cloning should only happen if the node operations span\r\n\t\t\t//multiple refNodes. Also, need a real array, not a NodeList from the\r\n\t\t\t//DOM since the node movements could change those NodeLists.\r\n\r\n\t\t\tvar parse = content.parse === true;\r\n\r\n\t\t\t//Do we have an object that needs to be run through a template?\r\n\t\t\tif(typeof content.template == \"string\"){\r\n\t\t\t\tvar templateFunc = content.templateFunc || (dojo.string && dojo.string.substitute);\r\n\t\t\t\tcontent = templateFunc ? templateFunc(content.template, content) : content;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = (typeof content);\r\n\t\t\tif(type == \"string\" || type == \"number\"){\r\n\t\t\t\tcontent = domCtr.toDom(content, (refNode && refNode.ownerDocument));\r\n\t\t\t\tif(content.nodeType == 11){\r\n\t\t\t\t\t//DocumentFragment. It cannot handle cloneNode calls, so pull out the children.\r\n\t\t\t\t\tcontent = lang._toArray(content.childNodes);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcontent = [content];\r\n\t\t\t\t}\r\n\t\t\t}else if(!lang.isArrayLike(content)){\r\n\t\t\t\tcontent = [content];\r\n\t\t\t}else if(!lang.isArray(content)){\r\n\t\t\t\t//To get to this point, content is array-like, but\r\n\t\t\t\t//not an array, which likely means a DOM NodeList. Convert it now.\r\n\t\t\t\tcontent = lang._toArray(content);\r\n\t\t\t}\r\n\r\n\t\t\t//Pass around the parse info\r\n\t\t\tif(parse){\r\n\t\t\t\tcontent._runParse = true;\r\n\t\t\t}\r\n\t\t\treturn content; //Array\r\n\t\t},\r\n\r\n\t\t_cloneNode: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tprivate utility to clone a node. Not very interesting in the vanilla\r\n\t\t\t//\t\tdojo/NodeList case, but delegates could do interesting things like\r\n\t\t\t//\t\tclone event handlers if that is derivable from the node.\r\n\t\t\treturn node.cloneNode(true);\r\n\t\t},\r\n\r\n\t\t_place: function(/*Array*/ary, /*DOMNode*/refNode, /*String*/position, /*Boolean*/useClone){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tprivate utility to handle placing an array of nodes relative to another node.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAllows for cloning the nodes in the array, and for\r\n\t\t\t//\t\toptionally parsing widgets, if ary._runParse is true.\r\n\r\n\t\t\t//Avoid a disallowed operation if trying to do an innerHTML on a non-element node.\r\n\t\t\tif(refNode.nodeType != 1 && position == \"only\"){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar rNode = refNode, tempNode;\r\n\r\n\t\t\t//Always cycle backwards in case the array is really a\r\n\t\t\t//DOM NodeList and the DOM operations take it out of the live collection.\r\n\t\t\tvar length = ary.length;\r\n\t\t\tfor(var i = length - 1; i >= 0; i--){\r\n\t\t\t\tvar node = (useClone ? this._cloneNode(ary[i]) : ary[i]);\r\n\r\n\t\t\t\t//If need widget parsing, use a temp node, instead of waiting after inserting into\r\n\t\t\t\t//real DOM because we need to start widget parsing at one node up from current node,\r\n\t\t\t\t//which could cause some already parsed widgets to be parsed again.\r\n\t\t\t\tif(ary._runParse && dojo.parser && dojo.parser.parse){\r\n\t\t\t\t\tif(!tempNode){\r\n\t\t\t\t\t\ttempNode = rNode.ownerDocument.createElement(\"div\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttempNode.appendChild(node);\r\n\t\t\t\t\tdojo.parser.parse(tempNode);\r\n\t\t\t\t\tnode = tempNode.firstChild;\r\n\t\t\t\t\twhile(tempNode.firstChild){\r\n\t\t\t\t\t\ttempNode.removeChild(tempNode.firstChild);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(i == length - 1){\r\n\t\t\t\t\tdomCtr.place(node, rNode, position);\r\n\t\t\t\t}else{\r\n\t\t\t\t\trNode.parentNode.insertBefore(node, rNode);\r\n\t\t\t\t}\r\n\t\t\t\trNode = node;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tposition: aam(domGeom.position),\r\n\t\t/*=====\r\n\t\tposition: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns border-box objects (x/y/w/h) of all elements in a node list\r\n\t\t\t//\t\tas an Array (*not* a NodeList). Acts like `dojo/dom-geometry-position`, though\r\n\t\t\t//\t\tassumes the node passed is each node in this list.\r\n\r\n\t\t\treturn dojo.map(this, dojo.position); // Array\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tattr: awc(getSet(domAttr), magicGuard),\r\n\t\t/*=====\r\n\t\tattr: function(property, value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tgets or sets the DOM attribute for every element in the\r\n\t\t\t//\t\tNodeList. See also `dojo/dom-attr`\r\n\t\t\t// property: String\r\n\t\t\t//\t\tthe attribute to get/set\r\n\t\t\t// value: String?\r\n\t\t\t//\t\toptional. The value to set the property to\r\n\t\t\t// returns:\r\n\t\t\t//\t\tif no value is passed, the result is an array of attribute values\r\n\t\t\t//\t\tIf a value is passed, the return is this NodeList\r\n\t\t\t// example:\r\n\t\t\t//\t\tMake all nodes with a particular class focusable:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"], function(query){\r\n\t\t\t//\t|\t\tquery(\".focusable\").attr(\"tabIndex\", -1);\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tDisable a group of buttons:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"], function(query){\r\n\t\t\t//\t|\t\tquery(\"button.group\").attr(\"disabled\", true);\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tinnerHTML can be assigned or retrieved as well:\r\n\t\t\t//\t|\t// get the innerHTML (as an array) for each list item\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"], function(query){\r\n\t\t\t//\t|\t\tvar ih = query(\"li.replaceable\").attr(\"innerHTML\");\r\n\t\t\t//\t|\t});\r\n\t\t\treturn; // dojo/NodeList|Array\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tstyle: awc(getSet(domStyle), magicGuard),\r\n\t\t/*=====\r\n\t\tstyle: function(property, value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tgets or sets the CSS property for every element in the NodeList\r\n\t\t\t// property: String\r\n\t\t\t//\t\tthe CSS property to get/set, in JavaScript notation\r\n\t\t\t//\t\t(\"lineHieght\" instead of \"line-height\")\r\n\t\t\t// value: String?\r\n\t\t\t//\t\toptional. The value to set the property to\r\n\t\t\t// returns:\r\n\t\t\t//\t\tif no value is passed, the result is an array of strings.\r\n\t\t\t//\t\tIf a value is passed, the return is this NodeList\r\n\t\t\treturn; // dojo/NodeList\r\n\t\t\treturn; // Array\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\taddClass: aafe(domCls.add),\r\n\t\t/*=====\r\n\t\taddClass: function(className){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadds the specified class to every node in the list\r\n\t\t\t// className: String|Array\r\n\t\t\t//\t\tA String class name to add, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\treturn; // dojo/NodeList\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tremoveClass: aafe(domCls.remove),\r\n\t\t/*=====\r\n\t\tremoveClass: function(className){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves the specified class from every node in the list\r\n\t\t\t// className: String|Array?\r\n\t\t\t//\t\tAn optional String class name to remove, or several space-separated\r\n\t\t\t//\t\tclass names, or an array of class names. If omitted, all class names\r\n\t\t\t//\t\twill be deleted.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tthis list\r\n\t\t\treturn; // dojo/NodeList\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\ttoggleClass: aafe(domCls.toggle),\r\n\t\t/*=====\r\n\t\ttoggleClass: function(className, condition){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds a class to node if not present, or removes if present.\r\n\t\t\t//\t\tPass a boolean condition if you want to explicitly add or remove.\r\n\t\t\t// condition: Boolean?\r\n\t\t\t//\t\tIf passed, true means to add the class, false means to remove.\r\n\t\t\t// className: String\r\n\t\t\t//\t\tthe CSS class to add\r\n\t\t\treturn; // dojo/NodeList\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\treplaceClass: aafe(domCls.replace),\r\n\t\t/*=====\r\n\t\treplaceClass: function(addClassStr, removeClassStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReplaces one or more classes on a node if not present.\r\n\t\t\t//\t\tOperates more quickly than calling `removeClass()` and `addClass()`\r\n\t\t\t// addClassStr: String|Array\r\n\t\t\t//\t\tA String class name to add, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\t// removeClassStr: String|Array?\r\n\t\t\t//\t\tA String class name to remove, or several space-separated class names,\r\n\t\t\t//\t\tor an array of class names.\r\n\t\t\treturn; // dojo/NodeList\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\tempty: aafe(domCtr.empty),\r\n\t\t/*=====\r\n\t\tempty: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tclears all content from each node in the list. Effectively\r\n\t\t\t//\t\tequivalent to removing all child nodes from every item in\r\n\t\t\t//\t\tthe list.\r\n\t\t\treturn this.forEach(\"item.innerHTML='';\"); // dojo/NodeList\r\n\t\t\t// FIXME: should we be checking for and/or disposing of widgets below these nodes?\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tremoveAttr: aafe(domAttr.remove),\r\n\t\t/*=====\r\n\t\t removeAttr: function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves an attribute from each node in the list.\r\n\t\t\t// name: String\r\n\t\t\t//\t\tthe name of the attribute to remove\r\n\t\t\treturn;\t\t// dojo/NodeList\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\tmarginBox: aam(domGeom.getMarginBox),\r\n\t\t/*=====\r\n\t\tmarginBox: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns margin-box size of nodes\r\n\t\t \treturn; // dojo/NodeList\r\n\t\t },\r\n\t\t =====*/\r\n\r\n\t\t// FIXME: connectPublisher()? connectRunOnce()?\r\n\r\n\t\t/*\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdestroys every item in the list.\r\n\t\t\tthis.forEach(d.destroy);\r\n\t\t\t// FIXME: should we be checking for and/or disposing of widgets below these nodes?\r\n\t\t},\r\n\t\t*/\r\n\r\n\t\tplace: function(/*String||Node*/ queryOrNode, /*String*/ position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tplaces elements of this node list relative to the first element matched\r\n\t\t\t//\t\tby queryOrNode. Returns the original NodeList. See: `dojo/dom-construct.place`\r\n\t\t\t// queryOrNode:\r\n\t\t\t//\t\tmay be a string representing any valid CSS3 selector or a DOM node.\r\n\t\t\t//\t\tIn the selector case, only the first matching element will be used\r\n\t\t\t//\t\tfor relative positioning.\r\n\t\t\t// position:\r\n\t\t\t//\t\tcan be one of:\r\n\t\t\t//\r\n\t\t\t//\t\t-\t\"last\" (default)\r\n\t\t\t//\t\t-\t\"first\"\r\n\t\t\t//\t\t-\t\"before\"\r\n\t\t\t//\t\t-\t\"after\"\r\n\t\t\t//\t\t-\t\"only\"\r\n\t\t\t//\t\t-\t\"replace\"\r\n\t\t\t//\r\n\t\t\t//\t\tor an offset in the childNodes property\r\n\t\t\tvar item = query(queryOrNode)[0];\r\n\t\t\treturn this.forEach(function(node){ domCtr.place(node, item, position); }); // dojo/NodeList\r\n\t\t},\r\n\r\n\t\torphan: function(/*String?*/ filter){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves elements in this list that match the filter\r\n\t\t\t//\t\tfrom their parents and returns them as a new NodeList.\r\n\t\t\t// filter:\r\n\t\t\t//\t\tCSS selector like \".foo\" or \"div > span\"\r\n\t\t\t// returns:\r\n\t\t\t//\t\tNodeList containing the orphaned elements\r\n\t\t\treturn (filter ? query._filterResult(this, filter) : this).forEach(orphan); // dojo/NodeList\r\n\t\t},\r\n\r\n\t\tadopt: function(/*String||Array||DomNode*/ queryOrListOrNode, /*String?*/ position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tplaces any/all elements in queryOrListOrNode at a\r\n\t\t\t//\t\tposition relative to the first element in this list.\r\n\t\t\t//\t\tReturns a dojo/NodeList of the adopted elements.\r\n\t\t\t// queryOrListOrNode:\r\n\t\t\t//\t\ta DOM node or a query string or a query result.\r\n\t\t\t//\t\tRepresents the nodes to be adopted relative to the\r\n\t\t\t//\t\tfirst element of this NodeList.\r\n\t\t\t// position:\r\n\t\t\t//\t\tcan be one of:\r\n\t\t\t//\r\n\t\t\t//\t\t-\t\"last\" (default)\r\n\t\t\t//\t\t-\t\"first\"\r\n\t\t\t//\t\t-\t\"before\"\r\n\t\t\t//\t\t-\t\"after\"\r\n\t\t\t//\t\t-\t\"only\"\r\n\t\t\t//\t\t-\t\"replace\"\r\n\t\t\t//\r\n\t\t\t//\t\tor an offset in the childNodes property\r\n\t\t\treturn query(queryOrListOrNode).place(this[0], position)._stash(this);\t// dojo/NodeList\r\n\t\t},\r\n\r\n\t\t// FIXME: do we need this?\r\n\t\tquery: function(/*String*/ queryStr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a new list whose members match the passed query,\r\n\t\t\t//\t\tassuming elements of the current NodeList as the root for\r\n\t\t\t//\t\teach search.\r\n\t\t\t// example:\r\n\t\t\t//\t\tassume a DOM created by this markup:\r\n\t\t\t//\t|\t<div id=\"foo\">\r\n\t\t\t//\t|\t\t<p>\r\n\t\t\t//\t|\t\t\tbacon is tasty, <span>dontcha think?</span>\r\n\t\t\t//\t|\t\t</p>\r\n\t\t\t//\t|\t</div>\r\n\t\t\t//\t|\t<div id=\"bar\">\r\n\t\t\t//\t|\t\t<p>great comedians may not be funny <span>in person</span></p>\r\n\t\t\t//\t|\t</div>\r\n\t\t\t//\t\tIf we are presented with the following definition for a NodeList:\r\n\t\t\t//\t|\trequire([\"dojo/dom\", \"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(dom, query){\r\n\t\t\t//\t|\t\tvar l = new NodeList(dom.byId(\"foo\"), dom.byId(\"bar\"));\r\n\t\t\t//\t\tit's possible to find all span elements under paragraphs\r\n\t\t\t//\t\tcontained by these elements with this sub-query:\r\n\t\t\t//\t|\t\tvar spans = l.query(\"p span\");\r\n\t\t\t//\t|\t});\r\n\r\n\t\t\t// FIXME: probably slow\r\n\t\t\tif(!queryStr){ return this; }\r\n\t\t\tvar ret = new NodeList;\r\n\t\t\tthis.map(function(node){\r\n\t\t\t\t// FIXME: why would we ever get undefined here?\r\n\t\t\t\tquery(queryStr, node).forEach(function(subNode){\r\n\t\t\t\t\tif(subNode !== undefined){\r\n\t\t\t\t\t\tret.push(subNode);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn ret._stash(this);\t// dojo/NodeList\r\n\t\t},\r\n\r\n\t\tfilter: function(/*String|Function*/ filter){\r\n\t\t\t// summary:\r\n\t\t\t//\t\t\"masks\" the built-in javascript filter() method (supported\r\n\t\t\t//\t\tin Dojo via `dojo.filter`) to support passing a simple\r\n\t\t\t//\t\tstring filter in addition to supporting filtering function\r\n\t\t\t//\t\tobjects.\r\n\t\t\t// filter:\r\n\t\t\t//\t\tIf a string, a CSS rule like \".thinger\" or \"div > span\".\r\n\t\t\t// example:\r\n\t\t\t//\t\t\"regular\" JS filter syntax as exposed in dojo.filter:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"*\").filter(function(item){\r\n\t\t\t//\t|\t\t\t// highlight every paragraph\r\n\t\t\t//\t|\t\t\treturn (item.nodeName == \"p\");\r\n\t\t\t//\t|\t\t}).style(\"backgroundColor\", \"yellow\");\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\tthe same filtering using a CSS selector\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"*\").filter(\"p\").styles(\"backgroundColor\", \"yellow\");\r\n\t\t\t//\t|\t});\r\n\t\t\tvar a = arguments, items = this, start = 0;\r\n\t\t\tif(typeof filter == \"string\"){ // inline'd type check\r\n\t\t\t\titems = query._filterResult(this, a[0]);\r\n\t\t\t\tif(a.length == 1){\r\n\t\t\t\t\t// if we only got a string query, pass back the filtered results\r\n\t\t\t\t\treturn items._stash(this); // dojo/NodeList\r\n\t\t\t\t}\r\n\t\t\t\t// if we got a callback, run it over the filtered items\r\n\t\t\t\tstart = 1;\r\n\t\t\t}\r\n\t\t\treturn this._wrap(array.filter(items, a[start], a[start + 1]), this);\t// dojo/NodeList\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t// FIXME: should this be \"copyTo\" and include parenting info?\r\n\t\tclone: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates node clones of each element of this list\r\n\t\t\t//\t\tand returns a new list containing the clones\r\n\t\t},\r\n\t\t*/\r\n\r\n\t\taddContent: function(/*String||DomNode||Object||dojo/NodeList*/ content, /*String||Integer?*/ position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadd a node, NodeList or some HTML as a string to every item in the\r\n\t\t\t//\t\tlist.  Returns the original list.\r\n\t\t\t// description:\r\n\t\t\t//\t\ta copy of the HTML content is added to each item in the\r\n\t\t\t//\t\tlist, with an optional position argument. If no position\r\n\t\t\t//\t\targument is provided, the content is appended to the end of\r\n\t\t\t//\t\teach item.\r\n\t\t\t// content:\r\n\t\t\t//\t\tDOM node, HTML in string format, a NodeList or an Object. If a DOM node or\r\n\t\t\t//\t\tNodeList, the content will be cloned if the current NodeList has more than one\r\n\t\t\t//\t\telement. Only the DOM nodes are cloned, no event handlers. If it is an Object,\r\n\t\t\t//\t\tit should be an object with at \"template\" String property that has the HTML string\r\n\t\t\t//\t\tto insert. If dojo.string has already been dojo.required, then dojo.string.substitute\r\n\t\t\t//\t\twill be used on the \"template\" to generate the final HTML string. Other allowed\r\n\t\t\t//\t\tproperties on the object are: \"parse\" if the HTML\r\n\t\t\t//\t\tstring should be parsed for widgets (dojo.require(\"dojo.parser\") to get that\r\n\t\t\t//\t\toption to work), and \"templateFunc\" if a template function besides dojo.string.substitute\r\n\t\t\t//\t\tshould be used to transform the \"template\".\r\n\t\t\t// position:\r\n\t\t\t//\t\tcan be one of:\r\n\t\t\t//\r\n\t\t\t//\t\t-\t\"last\"||\"end\" (default)\r\n\t\t\t//\t\t-\t\"first||\"start\"\r\n\t\t\t//\t\t-\t\"before\"\r\n\t\t\t//\t\t-\t\"after\"\r\n\t\t\t//\t\t-\t\"replace\" (replaces nodes in this NodeList with new content)\r\n\t\t\t//\t\t-\t\"only\" (removes other children of the nodes so new content is the only child)\r\n\t\t\t//\r\n\t\t\t//\t\tor an offset in the childNodes property\r\n\t\t\t// example:\r\n\t\t\t//\t\tappends content to the end if the position is omitted\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"h3 > p\").addContent(\"hey there!\");\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tadd something to the front of each element that has a\r\n\t\t\t//\t\t\"thinger\" property:\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\"[thinger]\").addContent(\"...\", \"first\");\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tadds a header before each element of the list\r\n\t\t\t//\t|\trequire([\"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(query){\r\n\t\t\t//\t|\t\tquery(\".note\").addContent(\"<h4>NOTE:</h4>\", \"before\");\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tadd a clone of a DOM node to the end of every element in\r\n\t\t\t//\t\tthe list, removing it from its existing parent.\r\n\t\t\t//\t|\trequire([\"dojo/dom\", \"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(dom, query){\r\n\t\t\t//\t|\t\tquery(\".note\").addContent(dom.byId(\"foo\"));\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tAppend nodes from a templatized string.\r\n\t\t\t//\t|\trequire([\"dojo/string\", \"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(string, query){\r\n\t\t\t//\t|\t\tquery(\".note\").addContent({\r\n\t\t\t//\t|\t\t\ttemplate: '<b>${id}: </b><span>${name}</span>',\r\n\t\t\t//\t|\t\t\tid: \"user332\",\r\n\t\t\t//\t|\t\t\tname: \"Mr. Anderson\"\r\n\t\t\t//\t|\t\t});\r\n\t\t\t//\t|\t});\r\n\t\t\t// example:\r\n\t\t\t//\t\tAppend nodes from a templatized string that also has widgets parsed.\r\n\t\t\t//\t|\trequire([\"dojo/string\", \"dojo/parser\", \"dojo/query\", \"dojo/NodeList-dom\"\r\n\t\t\t//\t|\t], function(string, parser, query){\r\n\t\t\t//\t|\t\tvar notes = query(\".note\").addContent({\r\n\t\t\t//\t|\t\t\ttemplate: '<button dojoType=\"dijit/form/Button\">${text}</button>',\r\n\t\t\t//\t|\t\t\tparse: true,\r\n\t\t\t//\t|\t\t\ttext: \"Send\"\r\n\t\t\t//\t|\t\t});\r\n\t\t\t//\t|\t});\r\n\t\t\tcontent = this._normalize(content, this[0]);\r\n\t\t\tfor(var i = 0, node; (node = this[i]); i++){\r\n\t\t\t\tif(content.length){\r\n\t\t\t\t\tthis._place(content, node, position, i > 0);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// if it is an empty array, we empty the target node\r\n\t\t\t\t\tdomCtr.empty(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this; // dojo/NodeList\r\n\t\t}\r\n\t});\r\n\r\n\treturn NodeList;\r\n});\r\n\ndefine('dijit/Declaration',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/aspect\",\t// aspect.after\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/parser\", // parser._functionFromScript\r\n\t\"dojo/query\", // query\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_WidgetsInTemplateMixin\",\r\n\t\"dojo/NodeList-dom\"\r\n], function(array, aspect, declare, lang, parser, query, _Widget, _TemplatedMixin, _WidgetsInTemplateMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Declaration\r\n\r\n\treturn declare(\"dijit.Declaration\", _Widget, {\r\n\t\t// summary:\r\n\t\t//\t\tThe Declaration widget allows a developer to declare new widget\r\n\t\t//\t\tclasses directly from a snippet of markup.\r\n\r\n\t\t// _noScript: [private] Boolean\r\n\t\t//\t\tFlag to parser to leave alone the script tags contained inside of me\r\n\t\t_noScript: true,\r\n\r\n\t\t// stopParser: [private] Boolean\r\n\t\t//\t\tFlag to parser to not try and parse widgets declared inside of me\r\n\t\tstopParser: true,\r\n\r\n\t\t// widgetClass: [const] String\r\n\t\t//\t\tName of class being declared, ex: \"acme.myWidget\"\r\n\t\twidgetClass: \"\",\r\n\r\n\t\t// propList: [const] Object\r\n\t\t//\t\tSet of attributes for this widget along with default values, ex:\r\n\t\t//\t\t{delay: 100, title: \"hello world\"}\r\n\t\tdefaults: null,\r\n\r\n\t\t// mixins: [const] String[]\r\n\t\t//\t\tList containing the prototype for this widget, and also any mixins,\r\n\t\t//\t\tex: [\"dijit._Widget\", \"dijit._Container\"]\r\n\t\tmixins: [],\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tvar src = this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),\r\n\t\t\t\tmethods = query(\"> script[type='dojo/method']\", src).orphan(),\r\n\t\t\t\tconnects = query(\"> script[type='dojo/connect']\", src).orphan(), // remove for 2.0\r\n\t\t\t\taspects = query(\"> script[type='dojo/aspect']\", src).orphan(),\r\n\t\t\t\tsrcType = src.nodeName;\r\n\r\n\t\t\tvar propList = this.defaults || {};\r\n\r\n\t\t\t// For all methods defined like <script type=\"dojo/method\" data-dojo-event=\"foo\">,\r\n\t\t\t// add that method to prototype.\r\n\t\t\t// If there's no \"event\" specified then it's code to run on instantiation,\r\n\t\t\t// so it becomes a connection to \"postscript\" (handled below).\r\n\t\t\tarray.forEach(methods, function(s){\r\n\t\t\t\tvar evt = s.getAttribute(\"event\") || s.getAttribute(\"data-dojo-event\"), // remove \"event\" for 2.0\r\n\t\t\t\t\tfunc = parser._functionFromScript(s, \"data-dojo-\");\r\n\t\t\t\tif(evt){\r\n\t\t\t\t\tpropList[evt] = func;\r\n\t\t\t\t}else{\r\n\t\t\t\t\taspects.push(s);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// map array of strings like [ \"dijit.form.Button\" ] to array of mixin objects\r\n\t\t\t// (note that array.map(this.mixins, lang.getObject) doesn't work because it passes\r\n\t\t\t// a bogus third argument to getObject(), confusing it)\r\n\t\t\tif(this.mixins.length){\r\n\t\t\t\tthis.mixins = array.map(this.mixins, function(name){ return lang.getObject(name); } );\r\n\t\t\t}else{\r\n\t\t\t\tthis.mixins = [ _Widget, _TemplatedMixin, _WidgetsInTemplateMixin ];\r\n\t\t\t}\r\n\r\n\t\t\tpropList._skipNodeCache = true;\r\n\t\t\tpropList.templateString =\r\n\t\t\t\t\"<\"+srcType+\" class='\"+src.className+\"'\" +\r\n\t\t\t\t\" data-dojo-attach-point='\"+\r\n\t\t\t\t\t(src.getAttribute(\"data-dojo-attach-point\") || src.getAttribute(\"dojoAttachPoint\") || '')+\r\n\t\t\t\t\"' data-dojo-attach-event='\"+\r\n\t\t\t\t\t(src.getAttribute(\"data-dojo-attach-event\") || src.getAttribute(\"dojoAttachEvent\") || '')+\r\n\t\t\t\t\"' >\"+src.innerHTML.replace(/\\%7B/g,\"{\").replace(/\\%7D/g,\"}\")+\"</\"+srcType+\">\";\r\n\r\n\t\t\t// create the new widget class\r\n\t\t\tvar wc = declare(\r\n\t\t\t\tthis.widgetClass,\r\n\t\t\t\tthis.mixins,\r\n\t\t\t\tpropList\r\n\t\t\t);\r\n\r\n\t\t\t// Handle <script> blocks of form:\r\n\t\t\t//\t\t<script type=\"dojo/aspect\" data-dojo-advice=\"after\" data-dojo-method=\"foo\">\r\n\t\t\t// and\r\n\t\t\t//\t\t<script type=\"dojo/method\">\r\n\t\t\t// (Note that the second one is just shorthand for a dojo/aspect to postscript)\r\n\t\t\t// Since this is a connect in the declaration, we are actually connection to the method\r\n\t\t\t// in the _prototype_.\r\n\t\t\tarray.forEach(aspects, function(s){\r\n\t\t\t\tvar advice = s.getAttribute(\"data-dojo-advice\") || \"after\",\r\n\t\t\t\t\tmethod = s.getAttribute(\"data-dojo-method\") || \"postscript\",\r\n\t\t\t\t\tfunc = parser._functionFromScript(s);\r\n\t\t\t\taspect.after(wc.prototype, method, func, true);\r\n\t\t\t});\r\n\r\n\t\t\t// Handle legacy <script type=\"dojo/connect\" data-dojo-event=\"foo\">.\r\n\t\t\t// Remove for 2.0.\r\n\t\t\tarray.forEach(connects, function(s){\r\n\t\t\t\tvar evt = s.getAttribute(\"event\") || s.getAttribute(\"data-dojo-event\"),\r\n\t\t\t\t\tfunc = parser._functionFromScript(s);\r\n\t\t\t\taspect.after(wc.prototype, evt, func, true);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/_base/fx',[\"./kernel\", \"./config\", /*===== \"./declare\", =====*/ \"./lang\", \"../Evented\", \"./Color\", \"../aspect\", \"../sniff\", \"../dom\", \"../dom-style\"],\r\n\tfunction(dojo, config, /*===== declare, =====*/ lang, Evented, Color, aspect, has, dom, style){\r\n\t// module:\r\n\t//\t\tdojo/_base/fx\r\n\t// notes:\r\n\t//\t\tAnimation loosely package based on Dan Pupius' work, contributed under CLA; see\r\n\t//\t\thttp://pupius.co.uk/js/Toolkit.Drawing.js\r\n\r\n\tvar _mixin = lang.mixin;\r\n\r\n\t// Module export\r\n\tvar basefx = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines the base dojo/_base/fx implementation.\r\n\t};\r\n\r\n\tvar _Line = basefx._Line = function(/*int*/ start, /*int*/ end){\r\n\t\t// summary:\r\n\t\t//\t\tObject used to generate values from a start value to an end value\r\n\t\t// start: int\r\n\t\t//\t\tBeginning value for range\r\n\t\t// end: int\r\n\t\t//\t\tEnding value for range\r\n\t\tthis.start = start;\r\n\t\tthis.end = end;\r\n\t};\r\n\r\n\t_Line.prototype.getValue = function(/*float*/ n){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the point on the line\r\n\t\t// n:\r\n\t\t//\t\ta floating point number greater than 0 and less than 1\r\n\t\treturn ((this.end - this.start) * n) + this.start; // Decimal\r\n\t};\r\n\r\n\tvar Animation = basefx.Animation = function(args){\r\n\t\t// summary:\r\n\t\t//\t\tA generic animation class that fires callbacks into its handlers\r\n\t\t//\t\tobject at various states.\r\n\t\t// description:\r\n\t\t//\t\tA generic animation class that fires callbacks into its handlers\r\n\t\t//\t\tobject at various states. Nearly all dojo animation functions\r\n\t\t//\t\treturn an instance of this method, usually without calling the\r\n\t\t//\t\t.play() method beforehand. Therefore, you will likely need to\r\n\t\t//\t\tcall .play() on instances of `Animation` when one is\r\n\t\t//\t\treturned.\r\n\t\t// args: Object\r\n\t\t//\t\tThe 'magic argument', mixing all the properties into this\r\n\t\t//\t\tanimation instance.\r\n\r\n\t\t_mixin(this, args);\r\n\t\tif(lang.isArray(this.curve)){\r\n\t\t\tthis.curve = new _Line(this.curve[0], this.curve[1]);\r\n\t\t}\r\n\r\n\t};\r\n\tAnimation.prototype = new Evented();\r\n\r\n\tlang.extend(Animation, {\r\n\t\t// duration: Integer\r\n\t\t//\t\tThe time in milliseconds the animation will take to run\r\n\t\tduration: 350,\r\n\r\n\t/*=====\r\n\t\t// curve: _Line|Array\r\n\t\t//\t\tA two element array of start and end values, or a `_Line` instance to be\r\n\t\t//\t\tused in the Animation.\r\n\t\tcurve: null,\r\n\r\n\t\t// easing: Function?\r\n\t\t//\t\tA Function to adjust the acceleration (or deceleration) of the progress\r\n\t\t//\t\tacross a _Line\r\n\t\teasing: null,\r\n\t=====*/\r\n\r\n\t\t// repeat: Integer?\r\n\t\t//\t\tThe number of times to loop the animation\r\n\t\trepeat: 0,\r\n\r\n\t\t// rate: Integer?\r\n\t\t//\t\tthe time in milliseconds to wait before advancing to next frame\r\n\t\t//\t\t(used as a fps timer: 1000/rate = fps)\r\n\t\trate: 20 /* 50 fps */,\r\n\r\n\t/*=====\r\n\t\t// delay: Integer?\r\n\t\t//\t\tThe time in milliseconds to wait before starting animation after it\r\n\t\t//\t\thas been .play()'ed\r\n\t\tdelay: null,\r\n\r\n\t\t// beforeBegin: Event?\r\n\t\t//\t\tSynthetic event fired before a Animation begins playing (synchronous)\r\n\t\tbeforeBegin: null,\r\n\r\n\t\t// onBegin: Event?\r\n\t\t//\t\tSynthetic event fired as a Animation begins playing (useful?)\r\n\t\tonBegin: null,\r\n\r\n\t\t// onAnimate: Event?\r\n\t\t//\t\tSynthetic event fired at each interval of the Animation\r\n\t\tonAnimate: null,\r\n\r\n\t\t// onEnd: Event?\r\n\t\t//\t\tSynthetic event fired after the final frame of the Animation\r\n\t\tonEnd: null,\r\n\r\n\t\t// onPlay: Event?\r\n\t\t//\t\tSynthetic event fired any time the Animation is play()'ed\r\n\t\tonPlay: null,\r\n\r\n\t\t// onPause: Event?\r\n\t\t//\t\tSynthetic event fired when the Animation is paused\r\n\t\tonPause: null,\r\n\r\n\t\t// onStop: Event\r\n\t\t//\t\tSynthetic event fires when the Animation is stopped\r\n\t\tonStop: null,\r\n\r\n\t=====*/\r\n\r\n\t\t_percent: 0,\r\n\t\t_startRepeatCount: 0,\r\n\r\n\t\t_getStep: function(){\r\n\t\t\tvar _p = this._percent,\r\n\t\t\t\t_e = this.easing\r\n\t\t\t;\r\n\t\t\treturn _e ? _e(_p) : _p;\r\n\t\t},\r\n\t\t_fire: function(/*Event*/ evt, /*Array?*/ args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvenience function.  Fire event \"evt\" and pass it the\r\n\t\t\t//\t\targuments specified in \"args\".\r\n\t\t\t// description:\r\n\t\t\t//\t\tConvenience function.  Fire event \"evt\" and pass it the\r\n\t\t\t//\t\targuments specified in \"args\".\r\n\t\t\t//\t\tFires the callback in the scope of this Animation\r\n\t\t\t//\t\tinstance.\r\n\t\t\t// evt:\r\n\t\t\t//\t\tThe event to fire.\r\n\t\t\t// args:\r\n\t\t\t//\t\tThe arguments to pass to the event.\r\n\t\t\tvar a = args||[];\r\n\t\t\tif(this[evt]){\r\n\t\t\t\tif(config.debugAtAllCosts){\r\n\t\t\t\t\tthis[evt].apply(this, a);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tthis[evt].apply(this, a);\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t// squelch and log because we shouldn't allow exceptions in\r\n\t\t\t\t\t\t// synthetic event handlers to cause the internal timer to run\r\n\t\t\t\t\t\t// amuck, potentially pegging the CPU. I'm not a fan of this\r\n\t\t\t\t\t\t// squelch, but hopefully logging will make it clear what's\r\n\t\t\t\t\t\t// going on\r\n\t\t\t\t\t\tconsole.error(\"exception in animation handler for:\", evt);\r\n\t\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this; // Animation\r\n\t\t},\r\n\r\n\t\tplay: function(/*int?*/ delay, /*Boolean?*/ gotoStart){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStart the animation.\r\n\t\t\t// delay:\r\n\t\t\t//\t\tHow many milliseconds to delay before starting.\r\n\t\t\t// gotoStart:\r\n\t\t\t//\t\tIf true, starts the animation from the beginning; otherwise,\r\n\t\t\t//\t\tstarts it from its current position.\r\n\t\t\t// returns: Animation\r\n\t\t\t//\t\tThe instance to allow chaining.\r\n\r\n\t\t\tvar _t = this;\r\n\t\t\tif(_t._delayTimer){ _t._clearTimer(); }\r\n\t\t\tif(gotoStart){\r\n\t\t\t\t_t._stopTimer();\r\n\t\t\t\t_t._active = _t._paused = false;\r\n\t\t\t\t_t._percent = 0;\r\n\t\t\t}else if(_t._active && !_t._paused){\r\n\t\t\t\treturn _t;\r\n\t\t\t}\r\n\r\n\t\t\t_t._fire(\"beforeBegin\", [_t.node]);\r\n\r\n\t\t\tvar de = delay || _t.delay,\r\n\t\t\t\t_p = lang.hitch(_t, \"_play\", gotoStart);\r\n\r\n\t\t\tif(de > 0){\r\n\t\t\t\t_t._delayTimer = setTimeout(_p, de);\r\n\t\t\t\treturn _t;\r\n\t\t\t}\r\n\t\t\t_p();\r\n\t\t\treturn _t;\t// Animation\r\n\t\t},\r\n\r\n\t\t_play: function(gotoStart){\r\n\t\t\tvar _t = this;\r\n\t\t\tif(_t._delayTimer){ _t._clearTimer(); }\r\n\t\t\t_t._startTime = new Date().valueOf();\r\n\t\t\tif(_t._paused){\r\n\t\t\t\t_t._startTime -= _t.duration * _t._percent;\r\n\t\t\t}\r\n\r\n\t\t\t_t._active = true;\r\n\t\t\t_t._paused = false;\r\n\t\t\tvar value = _t.curve.getValue(_t._getStep());\r\n\t\t\tif(!_t._percent){\r\n\t\t\t\tif(!_t._startRepeatCount){\r\n\t\t\t\t\t_t._startRepeatCount = _t.repeat;\r\n\t\t\t\t}\r\n\t\t\t\t_t._fire(\"onBegin\", [value]);\r\n\t\t\t}\r\n\r\n\t\t\t_t._fire(\"onPlay\", [value]);\r\n\r\n\t\t\t_t._cycle();\r\n\t\t\treturn _t; // Animation\r\n\t\t},\r\n\r\n\t\tpause: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPauses a running animation.\r\n\t\t\tvar _t = this;\r\n\t\t\tif(_t._delayTimer){ _t._clearTimer(); }\r\n\t\t\t_t._stopTimer();\r\n\t\t\tif(!_t._active){ return _t; /*Animation*/ }\r\n\t\t\t_t._paused = true;\r\n\t\t\t_t._fire(\"onPause\", [_t.curve.getValue(_t._getStep())]);\r\n\t\t\treturn _t; // Animation\r\n\t\t},\r\n\r\n\t\tgotoPercent: function(/*Decimal*/ percent, /*Boolean?*/ andPlay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the progress of the animation.\r\n\t\t\t// percent:\r\n\t\t\t//\t\tA percentage in decimal notation (between and including 0.0 and 1.0).\r\n\t\t\t// andPlay:\r\n\t\t\t//\t\tIf true, play the animation after setting the progress.\r\n\t\t\tvar _t = this;\r\n\t\t\t_t._stopTimer();\r\n\t\t\t_t._active = _t._paused = true;\r\n\t\t\t_t._percent = percent;\r\n\t\t\tif(andPlay){ _t.play(); }\r\n\t\t\treturn _t; // Animation\r\n\t\t},\r\n\r\n\t\tstop: function(/*boolean?*/ gotoEnd){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStops a running animation.\r\n\t\t\t// gotoEnd:\r\n\t\t\t//\t\tIf true, the animation will end.\r\n\t\t\tvar _t = this;\r\n\t\t\tif(_t._delayTimer){ _t._clearTimer(); }\r\n\t\t\tif(!_t._timer){ return _t; /* Animation */ }\r\n\t\t\t_t._stopTimer();\r\n\t\t\tif(gotoEnd){\r\n\t\t\t\t_t._percent = 1;\r\n\t\t\t}\r\n\t\t\t_t._fire(\"onStop\", [_t.curve.getValue(_t._getStep())]);\r\n\t\t\t_t._active = _t._paused = false;\r\n\t\t\treturn _t; // Animation\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcleanup the animation\r\n\t\t\tthis.stop();\r\n\t\t},\r\n\r\n\t\tstatus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a string token representation of the status of\r\n\t\t\t//\t\tthe animation, one of: \"paused\", \"playing\", \"stopped\"\r\n\t\t\tif(this._active){\r\n\t\t\t\treturn this._paused ? \"paused\" : \"playing\"; // String\r\n\t\t\t}\r\n\t\t\treturn \"stopped\"; // String\r\n\t\t},\r\n\r\n\t\t_cycle: function(){\r\n\t\t\tvar _t = this;\r\n\t\t\tif(_t._active){\r\n\t\t\t\tvar curr = new Date().valueOf();\r\n\t\t\t\t// Allow durations of 0 (instant) by setting step to 1 - see #13798\r\n\t\t\t\tvar step = _t.duration === 0 ? 1 : (curr - _t._startTime) / (_t.duration);\r\n\r\n\t\t\t\tif(step >= 1){\r\n\t\t\t\t\tstep = 1;\r\n\t\t\t\t}\r\n\t\t\t\t_t._percent = step;\r\n\r\n\t\t\t\t// Perform easing\r\n\t\t\t\tif(_t.easing){\r\n\t\t\t\t\tstep = _t.easing(step);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_t._fire(\"onAnimate\", [_t.curve.getValue(step)]);\r\n\r\n\t\t\t\tif(_t._percent < 1){\r\n\t\t\t\t\t_t._startTimer();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t_t._active = false;\r\n\r\n\t\t\t\t\tif(_t.repeat > 0){\r\n\t\t\t\t\t\t_t.repeat--;\r\n\t\t\t\t\t\t_t.play(null, true);\r\n\t\t\t\t\t}else if(_t.repeat == -1){\r\n\t\t\t\t\t\t_t.play(null, true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(_t._startRepeatCount){\r\n\t\t\t\t\t\t\t_t.repeat = _t._startRepeatCount;\r\n\t\t\t\t\t\t\t_t._startRepeatCount = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_t._percent = 0;\r\n\t\t\t\t\t_t._fire(\"onEnd\", [_t.node]);\r\n\t\t\t\t\t!_t.repeat && _t._stopTimer();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _t; // Animation\r\n\t\t},\r\n\r\n\t\t_clearTimer: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClear the play delay timer\r\n\t\t\tclearTimeout(this._delayTimer);\r\n\t\t\tdelete this._delayTimer;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t// the local timer, stubbed into all Animation instances\r\n\tvar ctr = 0,\r\n\t\ttimer = null,\r\n\t\trunner = {\r\n\t\t\trun: function(){}\r\n\t\t};\r\n\r\n\tlang.extend(Animation, {\r\n\r\n\t\t_startTimer: function(){\r\n\t\t\tif(!this._timer){\r\n\t\t\t\tthis._timer = aspect.after(runner, \"run\", lang.hitch(this, \"_cycle\"), true);\r\n\t\t\t\tctr++;\r\n\t\t\t}\r\n\t\t\tif(!timer){\r\n\t\t\t\ttimer = setInterval(lang.hitch(runner, \"run\"), this.rate);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_stopTimer: function(){\r\n\t\t\tif(this._timer){\r\n\t\t\t\tthis._timer.remove();\r\n\t\t\t\tthis._timer = null;\r\n\t\t\t\tctr--;\r\n\t\t\t}\r\n\t\t\tif(ctr <= 0){\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\ttimer = null;\r\n\t\t\t\tctr = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar _makeFadeable =\r\n\t\thas(\"ie\") ? function(node){\r\n\t\t\t// only set the zoom if the \"tickle\" value would be the same as the\r\n\t\t\t// default\r\n\t\t\tvar ns = node.style;\r\n\t\t\t// don't set the width to auto if it didn't already cascade that way.\r\n\t\t\t// We don't want to f anyones designs\r\n\t\t\tif(!ns.width.length && style.get(node, \"width\") == \"auto\"){\r\n\t\t\t\tns.width = \"auto\";\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction(){};\r\n\r\n\tbasefx._fade = function(/*Object*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an animation that will fade the node defined by\r\n\t\t//\t\targs.node from the start to end values passed (args.start\r\n\t\t//\t\targs.end) (end is mandatory, start is optional)\r\n\r\n\t\targs.node = dom.byId(args.node);\r\n\t\tvar fArgs = _mixin({ properties: {} }, args),\r\n\t\t\tprops = (fArgs.properties.opacity = {});\r\n\r\n\t\tprops.start = !(\"start\" in fArgs) ?\r\n\t\t\tfunction(){\r\n\t\t\t\treturn +style.get(fArgs.node, \"opacity\")||0;\r\n\t\t\t} : fArgs.start;\r\n\t\tprops.end = fArgs.end;\r\n\r\n\t\tvar anim = basefx.animateProperty(fArgs);\r\n\t\taspect.after(anim, \"beforeBegin\", lang.partial(_makeFadeable, fArgs.node), true);\r\n\r\n\t\treturn anim; // Animation\r\n\t};\r\n\r\n\t/*=====\r\n\tvar __FadeArgs = declare(null, {\r\n\t\t// node: DOMNode|String\r\n\t\t//\t\tThe node referenced in the animation\r\n\t\t// duration: Integer?\r\n\t\t//\t\tDuration of the animation in milliseconds.\r\n\t\t// easing: Function?\r\n\t\t//\t\tAn easing function.\r\n\t});\r\n\t=====*/\r\n\r\n\tbasefx.fadeIn = function(/*__FadeArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an animation that will fade node defined in 'args' from\r\n\t\t//\t\tits current opacity to fully opaque.\r\n\t\treturn basefx._fade(_mixin({ end: 1 }, args)); // Animation\r\n\t};\r\n\r\n\tbasefx.fadeOut = function(/*__FadeArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an animation that will fade node defined in 'args'\r\n\t\t//\t\tfrom its current opacity to fully transparent.\r\n\t\treturn basefx._fade(_mixin({ end: 0 }, args)); // Animation\r\n\t};\r\n\r\n\tbasefx._defaultEasing = function(/*Decimal?*/ n){\r\n\t\t// summary:\r\n\t\t//\t\tThe default easing function for Animation(s)\r\n\t\treturn 0.5 + ((Math.sin((n + 1.5) * Math.PI)) / 2);\t// Decimal\r\n\t};\r\n\r\n\tvar PropLine = function(properties){\r\n\t\t// PropLine is an internal class which is used to model the values of\r\n\t\t// an a group of CSS properties across an animation lifecycle. In\r\n\t\t// particular, the \"getValue\" function handles getting interpolated\r\n\t\t// values between start and end for a particular CSS value.\r\n\t\tthis._properties = properties;\r\n\t\tfor(var p in properties){\r\n\t\t\tvar prop = properties[p];\r\n\t\t\tif(prop.start instanceof Color){\r\n\t\t\t\t// create a reusable temp color object to keep intermediate results\r\n\t\t\t\tprop.tempColor = new Color();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tPropLine.prototype.getValue = function(r){\r\n\t\tvar ret = {};\r\n\t\tfor(var p in this._properties){\r\n\t\t\tvar prop = this._properties[p],\r\n\t\t\t\tstart = prop.start;\r\n\t\t\tif(start instanceof Color){\r\n\t\t\t\tret[p] = Color.blendColors(start, prop.end, r, prop.tempColor).toCss();\r\n\t\t\t}else if(!lang.isArray(start)){\r\n\t\t\t\tret[p] = ((prop.end - start) * r) + start + (p != \"opacity\" ? prop.units || \"px\" : 0);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n\r\n\t/*=====\r\n\tvar __AnimArgs = declare(__FadeArgs, {\r\n\t\t// properties: Object?\r\n\t\t//\t\tA hash map of style properties to Objects describing the transition,\r\n\t\t//\t\tsuch as the properties of _Line with an additional 'units' property\r\n\t\tproperties: {}\r\n\r\n\t\t//TODOC: add event callbacks\r\n\t});\r\n\t=====*/\r\n\r\n\tbasefx.animateProperty = function(/*__AnimArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an animation that will transition the properties of\r\n\t\t//\t\tnode defined in `args` depending how they are defined in\r\n\t\t//\t\t`args.properties`\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tFoundation of most `dojo/_base/fx`\r\n\t\t//\t\tanimations. It takes an object of \"properties\" corresponding to\r\n\t\t//\t\tstyle properties, and animates them in parallel over a set\r\n\t\t//\t\tduration.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tA simple animation that changes the width of the specified node.\r\n\t\t//\t|\tbasefx.animateProperty({\r\n\t\t//\t|\t\tnode: \"nodeId\",\r\n\t\t//\t|\t\tproperties: { width: 400 },\r\n\t\t//\t|\t}).play();\r\n\t\t//\t\tDojo figures out the start value for the width and converts the\r\n\t\t//\t\tinteger specified for the width to the more expressive but\r\n\t\t//\t\tverbose form `{ width: { end: '400', units: 'px' } }` which you\r\n\t\t//\t\tcan also specify directly. Defaults to 'px' if omitted.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tAnimate width, height, and padding over 2 seconds... the\r\n\t\t//\t\tpedantic way:\r\n\t\t//\t|\tbasefx.animateProperty({ node: node, duration:2000,\r\n\t\t//\t|\t\tproperties: {\r\n\t\t//\t|\t\t\twidth: { start: '200', end: '400', units:\"px\" },\r\n\t\t//\t|\t\t\theight: { start:'200', end: '400', units:\"px\" },\r\n\t\t//\t|\t\t\tpaddingTop: { start:'5', end:'50', units:\"px\" }\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t}).play();\r\n\t\t//\t\tNote 'paddingTop' is used over 'padding-top'. Multi-name CSS properties\r\n\t\t//\t\tare written using \"mixed case\", as the hyphen is illegal as an object key.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tPlug in a different easing function and register a callback for\r\n\t\t//\t\twhen the animation ends. Easing functions accept values between\r\n\t\t//\t\tzero and one and return a value on that basis. In this case, an\r\n\t\t//\t\texponential-in curve.\r\n\t\t//\t|\tbasefx.animateProperty({\r\n\t\t//\t|\t\tnode: \"nodeId\",\r\n\t\t//\t|\t\t// dojo figures out the start value\r\n\t\t//\t|\t\tproperties: { width: { end: 400 } },\r\n\t\t//\t|\t\teasing: function(n){\r\n\t\t//\t|\t\t\treturn (n==0) ? 0 : Math.pow(2, 10 * (n - 1));\r\n\t\t//\t|\t\t},\r\n\t\t//\t|\t\tonEnd: function(node){\r\n\t\t//\t|\t\t\t// called when the animation finishes. The animation\r\n\t\t//\t|\t\t\t// target is passed to this function\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t}).play(500); // delay playing half a second\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tLike all `Animation`s, animateProperty returns a handle to the\r\n\t\t//\t\tAnimation instance, which fires the events common to Dojo FX. Use `aspect.after`\r\n\t\t//\t\tto access these events outside of the Animation definition:\r\n\t\t//\t|\tvar anim = basefx.animateProperty({\r\n\t\t//\t|\t\tnode:\"someId\",\r\n\t\t//\t|\t\tproperties:{\r\n\t\t//\t|\t\t\twidth:400, height:500\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t});\r\n\t\t//\t|\taspect.after(anim, \"onEnd\", function(){\r\n\t\t//\t|\t\tconsole.log(\"animation ended\");\r\n\t\t//\t|\t}, true);\r\n\t\t//\t|\t// play the animation now:\r\n\t\t//\t|\tanim.play();\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tEach property can be a function whose return value is substituted along.\r\n\t\t//\t\tAdditionally, each measurement (eg: start, end) can be a function. The node\r\n\t\t//\t\treference is passed directly to callbacks.\r\n\t\t//\t|\tbasefx.animateProperty({\r\n\t\t//\t|\t\tnode:\"mine\",\r\n\t\t//\t|\t\tproperties:{\r\n\t\t//\t|\t\t\theight:function(node){\r\n\t\t//\t|\t\t\t\t// shrink this node by 50%\r\n\t\t//\t|\t\t\t\treturn domGeom.position(node).h / 2\r\n\t\t//\t|\t\t\t},\r\n\t\t//\t|\t\t\twidth:{\r\n\t\t//\t|\t\t\t\tstart:function(node){ return 100; },\r\n\t\t//\t|\t\t\t\tend:function(node){ return 200; }\r\n\t\t//\t|\t\t\t}\r\n\t\t//\t|\t\t}\r\n\t\t//\t|\t}).play();\r\n\t\t//\r\n\r\n\t\tvar n = args.node = dom.byId(args.node);\r\n\t\tif(!args.easing){ args.easing = dojo._defaultEasing; }\r\n\r\n\t\tvar anim = new Animation(args);\r\n\t\taspect.after(anim, \"beforeBegin\", lang.hitch(anim, function(){\r\n\t\t\tvar pm = {};\r\n\t\t\tfor(var p in this.properties){\r\n\t\t\t\t// Make shallow copy of properties into pm because we overwrite\r\n\t\t\t\t// some values below. In particular if start/end are functions\r\n\t\t\t\t// we don't want to overwrite them or the functions won't be\r\n\t\t\t\t// called if the animation is reused.\r\n\t\t\t\tif(p == \"width\" || p == \"height\"){\r\n\t\t\t\t\tthis.node.display = \"block\";\r\n\t\t\t\t}\r\n\t\t\t\tvar prop = this.properties[p];\r\n\t\t\t\tif(lang.isFunction(prop)){\r\n\t\t\t\t\tprop = prop(n);\r\n\t\t\t\t}\r\n\t\t\t\tprop = pm[p] = _mixin({}, (lang.isObject(prop) ? prop: { end: prop }));\r\n\r\n\t\t\t\tif(lang.isFunction(prop.start)){\r\n\t\t\t\t\tprop.start = prop.start(n);\r\n\t\t\t\t}\r\n\t\t\t\tif(lang.isFunction(prop.end)){\r\n\t\t\t\t\tprop.end = prop.end(n);\r\n\t\t\t\t}\r\n\t\t\t\tvar isColor = (p.toLowerCase().indexOf(\"color\") >= 0);\r\n\t\t\t\tfunction getStyle(node, p){\r\n\t\t\t\t\t// domStyle.get(node, \"height\") can return \"auto\" or \"\" on IE; this is more reliable:\r\n\t\t\t\t\tvar v = { height: node.offsetHeight, width: node.offsetWidth }[p];\r\n\t\t\t\t\tif(v !== undefined){ return v; }\r\n\t\t\t\t\tv = style.get(node, p);\r\n\t\t\t\t\treturn (p == \"opacity\") ? +v : (isColor ? v : parseFloat(v));\r\n\t\t\t\t}\r\n\t\t\t\tif(!(\"end\" in prop)){\r\n\t\t\t\t\tprop.end = getStyle(n, p);\r\n\t\t\t\t}else if(!(\"start\" in prop)){\r\n\t\t\t\t\tprop.start = getStyle(n, p);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(isColor){\r\n\t\t\t\t\tprop.start = new Color(prop.start);\r\n\t\t\t\t\tprop.end = new Color(prop.end);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprop.start = (p == \"opacity\") ? +prop.start : parseFloat(prop.start);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.curve = new PropLine(pm);\r\n\t\t}), true);\r\n\t\taspect.after(anim, \"onAnimate\", lang.hitch(style, \"set\", anim.node), true);\r\n\t\treturn anim; // Animation\r\n\t};\r\n\r\n\tbasefx.anim = function(\t/*DOMNode|String*/\tnode,\r\n\t\t\t\t\t\t\t/*Object*/\t\t\tproperties,\r\n\t\t\t\t\t\t\t/*Integer?*/\t\tduration,\r\n\t\t\t\t\t\t\t/*Function?*/\t\teasing,\r\n\t\t\t\t\t\t\t/*Function?*/\t\tonEnd,\r\n\t\t\t\t\t\t\t/*Integer?*/\t\tdelay){\r\n\t\t// summary:\r\n\t\t//\t\tA simpler interface to `animateProperty()`, also returns\r\n\t\t//\t\tan instance of `Animation` but begins the animation\r\n\t\t//\t\timmediately, unlike nearly every other Dojo animation API.\r\n\t\t// description:\r\n\t\t//\t\tSimpler (but somewhat less powerful) version\r\n\t\t//\t\tof `animateProperty`.  It uses defaults for many basic properties\r\n\t\t//\t\tand allows for positional parameters to be used in place of the\r\n\t\t//\t\tpacked \"property bag\" which is used for other Dojo animation\r\n\t\t//\t\tmethods.\r\n\t\t//\r\n\t\t//\t\tThe `Animation` object returned will be already playing, so\r\n\t\t//\t\tcalling play() on it again is (usually) a no-op.\r\n\t\t// node:\r\n\t\t//\t\ta DOM node or the id of a node to animate CSS properties on\r\n\t\t// duration:\r\n\t\t//\t\tThe number of milliseconds over which the animation\r\n\t\t//\t\tshould run. Defaults to the global animation default duration\r\n\t\t//\t\t(350ms).\r\n\t\t// easing:\r\n\t\t//\t\tAn easing function over which to calculate acceleration\r\n\t\t//\t\tand deceleration of the animation through its duration.\r\n\t\t//\t\tA default easing algorithm is provided, but you may\r\n\t\t//\t\tplug in any you wish. A large selection of easing algorithms\r\n\t\t//\t\tare available in `dojo/fx/easing`.\r\n\t\t// onEnd:\r\n\t\t//\t\tA function to be called when the animation finishes\r\n\t\t//\t\trunning.\r\n\t\t// delay:\r\n\t\t//\t\tThe number of milliseconds to delay beginning the\r\n\t\t//\t\tanimation by. The default is 0.\r\n\t\t// example:\r\n\t\t//\t\tFade out a node\r\n\t\t//\t|\tbasefx.anim(\"id\", { opacity: 0 });\r\n\t\t// example:\r\n\t\t//\t\tFade out a node over a full second\r\n\t\t//\t|\tbasefx.anim(\"id\", { opacity: 0 }, 1000);\r\n\t\treturn basefx.animateProperty({ // Animation\r\n\t\t\tnode: node,\r\n\t\t\tduration: duration || Animation.prototype.duration,\r\n\t\t\tproperties: properties,\r\n\t\t\teasing: easing,\r\n\t\t\tonEnd: onEnd\r\n\t\t}).play(delay || 0);\r\n\t};\r\n\r\n\r\n\tif(has(\"extend-dojo\")){\r\n\t\t_mixin(dojo, basefx);\r\n\t\t// Alias to drop come 2.0:\r\n\t\tdojo._Animation = Animation;\r\n\t}\r\n\r\n\treturn basefx;\r\n});\r\n\ndefine('dojo/dnd/common',[\"../sniff\", \"../_base/kernel\", \"../_base/lang\", \"../dom\"],\r\n\tfunction(has, kernel, lang, dom){\r\n\r\n// module:\r\n//\t\tdojo/dnd/common\r\n\r\nvar exports = lang.getObject(\"dojo.dnd\", true);\r\n/*=====\r\n// TODO: for 2.0, replace line above with this code.\r\nvar exports = {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n};\r\n=====*/\r\n\r\nexports.getCopyKeyState = function(evt){\r\n\treturn evt[has(\"mac\") ? \"metaKey\" : \"ctrlKey\"]\r\n};\r\n\r\nexports._uniqueId = 0;\r\nexports.getUniqueId = function(){\r\n\t// summary:\r\n\t//\t\treturns a unique string for use with any DOM element\r\n\tvar id;\r\n\tdo{\r\n\t\tid = kernel._scopeName + \"Unique\" + (++exports._uniqueId);\r\n\t}while(dom.byId(id));\r\n\treturn id;\r\n};\r\n\r\nexports._empty = {};\r\n\r\nexports.isFormElement = function(/*Event*/ e){\r\n\t// summary:\r\n\t//\t\treturns true if user clicked on a form element\r\n\tvar t = e.target;\r\n\tif(t.nodeType == 3 /*TEXT_NODE*/){\r\n\t\tt = t.parentNode;\r\n\t}\r\n\treturn \" a button textarea input select option \".indexOf(\" \" + t.tagName.toLowerCase() + \" \") >= 0;\t// Boolean\r\n};\r\n\r\nreturn exports;\r\n});\r\n\ndefine('dojo/dnd/autoscroll',[\"../_base/lang\", \"../sniff\", \"../_base/window\", \"../dom-geometry\", \"../dom-style\", \"../window\"],\r\n\tfunction(lang, has, win, domGeom, domStyle, winUtils){\r\n\r\n// module:\r\n//\t\tdojo/dnd/autoscroll\r\n\r\nvar exports = {\r\n\t// summary:\r\n\t//\t\tUsed by dojo/dnd/Manager to scroll document or internal node when the user\r\n\t//\t\tdrags near the edge of the viewport or a scrollable node\r\n};\r\nlang.setObject(\"dojo.dnd.autoscroll\", exports);\r\n\r\nexports.getViewport = winUtils.getBox;\r\n\r\nexports.V_TRIGGER_AUTOSCROLL = 32;\r\nexports.H_TRIGGER_AUTOSCROLL = 32;\r\n\r\nexports.V_AUTOSCROLL_VALUE = 16;\r\nexports.H_AUTOSCROLL_VALUE = 16;\r\n\r\n// These are set by autoScrollStart().\r\n// Set to default values in case autoScrollStart() isn't called. (back-compat, remove for 2.0)\r\nvar viewport,\r\n\tdoc = win.doc,\r\n\tmaxScrollTop = Infinity,\r\n\tmaxScrollLeft = Infinity;\r\n\r\nexports.autoScrollStart = function(d){\r\n\t// summary:\r\n\t//\t\tCalled at the start of a drag.\r\n\t// d: Document\r\n\t//\t\tThe document of the node being dragged.\r\n\r\n\tdoc = d;\r\n\tviewport = winUtils.getBox(doc);\r\n\r\n\t// Save height/width of document at start of drag, before it gets distorted by a user dragging an avatar past\r\n\t// the document's edge\r\n\tvar html = win.body(doc).parentNode;\r\n\tmaxScrollTop = Math.max(html.scrollHeight - viewport.h, 0);\r\n\tmaxScrollLeft = Math.max(html.scrollWidth - viewport.w, 0);\t// usually 0\r\n};\r\n\r\nexports.autoScroll = function(e){\r\n\t// summary:\r\n\t//\t\ta handler for mousemove and touchmove events, which scrolls the window, if\r\n\t//\t\tnecessary\r\n\t// e: Event\r\n\t//\t\tmousemove/touchmove event\r\n\r\n\t// FIXME: needs more docs!\r\n\tvar v = viewport || winUtils.getBox(doc), // getBox() call for back-compat, in case autoScrollStart() wasn't called\r\n\t\thtml = win.body(doc).parentNode,\r\n\t\tdx = 0, dy = 0;\r\n\tif(e.clientX < exports.H_TRIGGER_AUTOSCROLL){\r\n\t\tdx = -exports.H_AUTOSCROLL_VALUE;\r\n\t}else if(e.clientX > v.w - exports.H_TRIGGER_AUTOSCROLL){\r\n\t\tdx = Math.min(exports.H_AUTOSCROLL_VALUE, maxScrollLeft - html.scrollLeft);\t// don't scroll past edge of doc\r\n\t}\r\n\tif(e.clientY < exports.V_TRIGGER_AUTOSCROLL){\r\n\t\tdy = -exports.V_AUTOSCROLL_VALUE;\r\n\t}else if(e.clientY > v.h - exports.V_TRIGGER_AUTOSCROLL){\r\n\t\tdy = Math.min(exports.V_AUTOSCROLL_VALUE, maxScrollTop - html.scrollTop);\t// don't scroll past edge of doc\r\n\t}\r\n\twindow.scrollBy(dx, dy);\r\n};\r\n\r\nexports._validNodes = {\"div\": 1, \"p\": 1, \"td\": 1};\r\nexports._validOverflow = {\"auto\": 1, \"scroll\": 1};\r\n\r\nexports.autoScrollNodes = function(e){\r\n\t// summary:\r\n\t//\t\ta handler for mousemove and touchmove events, which scrolls the first available\r\n\t//\t\tDom element, it falls back to exports.autoScroll()\r\n\t// e: Event\r\n\t//\t\tmousemove/touchmove event\r\n\r\n\t// FIXME: needs more docs!\r\n\r\n\tvar b, t, w, h, rx, ry, dx = 0, dy = 0, oldLeft, oldTop;\r\n\r\n\tfor(var n = e.target; n;){\r\n\t\tif(n.nodeType == 1 && (n.tagName.toLowerCase() in exports._validNodes)){\r\n\t\t\tvar s = domStyle.getComputedStyle(n),\r\n\t\t\t\toverflow = (s.overflow.toLowerCase() in exports._validOverflow),\r\n\t\t\t\toverflowX = (s.overflowX.toLowerCase() in exports._validOverflow),\r\n\t\t\t\toverflowY = (s.overflowY.toLowerCase() in exports._validOverflow);\r\n\t\t\tif(overflow || overflowX || overflowY){\r\n\t\t\t\tb = domGeom.getContentBox(n, s);\r\n\t\t\t\tt = domGeom.position(n, true);\r\n\t\t\t}\r\n\t\t\t// overflow-x\r\n\t\t\tif(overflow || overflowX){\r\n\t\t\t\tw = Math.min(exports.H_TRIGGER_AUTOSCROLL, b.w / 2);\r\n\t\t\t\trx = e.pageX - t.x;\r\n\t\t\t\tif(has(\"webkit\") || has(\"opera\")){\r\n\t\t\t\t\t// FIXME: this code should not be here, it should be taken into account\r\n\t\t\t\t\t// either by the event fixing code, or the domGeom.position()\r\n\t\t\t\t\t// FIXME: this code doesn't work on Opera 9.5 Beta\r\n\t\t\t\t\trx += win.body().scrollLeft;\r\n\t\t\t\t}\r\n\t\t\t\tdx = 0;\r\n\t\t\t\tif(rx > 0 && rx < b.w){\r\n\t\t\t\t\tif(rx < w){\r\n\t\t\t\t\t\tdx = -w;\r\n\t\t\t\t\t}else if(rx > b.w - w){\r\n\t\t\t\t\t\tdx = w;\r\n\t\t\t\t\t}\r\n\t\t\t\t\toldLeft = n.scrollLeft;\r\n\t\t\t\t\tn.scrollLeft = n.scrollLeft + dx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// overflow-y\r\n\t\t\tif(overflow || overflowY){\r\n\t\t\t\t//console.log(b.l, b.t, t.x, t.y, n.scrollLeft, n.scrollTop);\r\n\t\t\t\th = Math.min(exports.V_TRIGGER_AUTOSCROLL, b.h / 2);\r\n\t\t\t\try = e.pageY - t.y;\r\n\t\t\t\tif(has(\"webkit\") || has(\"opera\")){\r\n\t\t\t\t\t// FIXME: this code should not be here, it should be taken into account\r\n\t\t\t\t\t// either by the event fixing code, or the domGeom.position()\r\n\t\t\t\t\t// FIXME: this code doesn't work on Opera 9.5 Beta\r\n\t\t\t\t\try += win.body().scrollTop;\r\n\t\t\t\t}\r\n\t\t\t\tdy = 0;\r\n\t\t\t\tif(ry > 0 && ry < b.h){\r\n\t\t\t\t\tif(ry < h){\r\n\t\t\t\t\t\tdy = -h;\r\n\t\t\t\t\t}else if(ry > b.h - h){\r\n\t\t\t\t\t\tdy = h;\r\n\t\t\t\t\t}\r\n\t\t\t\t\toldTop = n.scrollTop;\r\n\t\t\t\t\tn.scrollTop  = n.scrollTop  + dy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(dx || dy){ return; }\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tn = n.parentNode;\r\n\t\t}catch(x){\r\n\t\t\tn = null;\r\n\t\t}\r\n\t}\r\n\texports.autoScroll(e);\r\n};\r\n\r\nreturn exports;\r\n\r\n});\r\n\ndefine('dojo/dnd/Mover',[\r\n\t\"../_base/array\", \"../_base/declare\", \"../_base/lang\", \"../sniff\", \"../_base/window\",\r\n\t\"../dom\", \"../dom-geometry\", \"../dom-style\", \"../Evented\", \"../on\", \"../touch\", \"./common\", \"./autoscroll\"\r\n], function(array, declare, lang, has, win, dom, domGeom, domStyle, Evented, on, touch, dnd, autoscroll){\r\n\r\n// module:\r\n//\t\tdojo/dnd/Mover\r\n\r\nreturn declare(\"dojo.dnd.Mover\", [Evented], {\r\n\t// summary:\r\n\t//\t\tan object which makes a node follow the mouse, or touch-drag on touch devices.\r\n\t//\t\tUsed as a default mover, and as a base class for custom movers.\r\n\r\n\tconstructor: function(node, e, host){\r\n\t\t// node: Node\r\n\t\t//\t\ta node (or node's id) to be moved\r\n\t\t// e: Event\r\n\t\t//\t\ta mouse event, which started the move;\r\n\t\t//\t\tonly pageX and pageY properties are used\r\n\t\t// host: Object?\r\n\t\t//\t\tobject which implements the functionality of the move,\r\n\t\t//\t \tand defines proper events (onMoveStart and onMoveStop)\r\n\t\tthis.node = dom.byId(node);\r\n\t\tthis.marginBox = {l: e.pageX, t: e.pageY};\r\n\t\tthis.mouseButton = e.button;\r\n\t\tvar h = (this.host = host), d = node.ownerDocument;\r\n\r\n\t\tfunction stopEvent(e){\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\r\n\t\tthis.events = [\r\n\t\t\t// At the start of a drag, onFirstMove is called, and then the following\r\n\t\t\t// listener is disconnected.\r\n\t\t\ton(d, touch.move, lang.hitch(this, \"onFirstMove\")),\r\n\r\n\t\t\t// These are called continually during the drag\r\n\t\t\ton(d, touch.move, lang.hitch(this, \"onMouseMove\")),\r\n\r\n\t\t\t// And these are called at the end of the drag\r\n\t\t\ton(d, touch.release,  lang.hitch(this, \"onMouseUp\")),\r\n\r\n\t\t\t// cancel text selection and text dragging\r\n\t\t\ton(d, \"dragstart\",   stopEvent),\r\n\t\t\ton(d.body, \"selectstart\", stopEvent)\r\n\t\t];\r\n\r\n\t\t// Tell autoscroll that a drag is starting\r\n\t\tautoscroll.autoScrollStart(d);\r\n\r\n\t\t// notify that the move has started\r\n\t\tif(h && h.onMoveStart){\r\n\t\t\th.onMoveStart(this);\r\n\t\t}\r\n\t},\r\n\t// mouse event processors\r\n\tonMouseMove: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tevent processor for onmousemove/ontouchmove\r\n\t\t// e: Event\r\n\t\t//\t\tmouse/touch event\r\n\t\tautoscroll.autoScroll(e);\r\n\t\tvar m = this.marginBox;\r\n\t\tthis.host.onMove(this, {l: m.l + e.pageX, t: m.t + e.pageY}, e);\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t},\r\n\tonMouseUp: function(e){\r\n\t\tif(has(\"webkit\") && has(\"mac\") && this.mouseButton == 2 ?\r\n\t\t\t\te.button == 0 : this.mouseButton == e.button){ // TODO Should condition be met for touch devices, too?\r\n\t\t\tthis.destroy();\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t},\r\n\t// utilities\r\n\tonFirstMove: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tmakes the node absolute; it is meant to be called only once.\r\n\t\t//\t\trelative and absolutely positioned nodes are assumed to use pixel units\r\n\t\tvar s = this.node.style, l, t, h = this.host;\r\n\t\tswitch(s.position){\r\n\t\t\tcase \"relative\":\r\n\t\t\tcase \"absolute\":\r\n\t\t\t\t// assume that left and top values are in pixels already\r\n\t\t\t\tl = Math.round(parseFloat(s.left)) || 0;\r\n\t\t\t\tt = Math.round(parseFloat(s.top)) || 0;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\ts.position = \"absolute\";\t// enforcing the absolute mode\r\n\t\t\t\tvar m = domGeom.getMarginBox(this.node);\r\n\t\t\t\t// event.pageX/pageY (which we used to generate the initial\r\n\t\t\t\t// margin box) includes padding and margin set on the body.\r\n\t\t\t\t// However, setting the node's position to absolute and then\r\n\t\t\t\t// doing domGeom.marginBox on it *doesn't* take that additional\r\n\t\t\t\t// space into account - so we need to subtract the combined\r\n\t\t\t\t// padding and margin.  We use getComputedStyle and\r\n\t\t\t\t// _getMarginBox/_getContentBox to avoid the extra lookup of\r\n\t\t\t\t// the computed style.\r\n\t\t\t\tvar b = win.doc.body;\r\n\t\t\t\tvar bs = domStyle.getComputedStyle(b);\r\n\t\t\t\tvar bm = domGeom.getMarginBox(b, bs);\r\n\t\t\t\tvar bc = domGeom.getContentBox(b, bs);\r\n\t\t\t\tl = m.l - (bc.l - bm.l);\r\n\t\t\t\tt = m.t - (bc.t - bm.t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.marginBox.l = l - this.marginBox.l;\r\n\t\tthis.marginBox.t = t - this.marginBox.t;\r\n\t\tif(h && h.onFirstMove){\r\n\t\t\th.onFirstMove(this, e);\r\n\t\t}\r\n\r\n\t\t// Disconnect touch.move that call this function\r\n\t\tthis.events.shift().remove();\r\n\t},\r\n\tdestroy: function(){\r\n\t\t// summary:\r\n\t\t//\t\tstops the move, deletes all references, so the object can be garbage-collected\r\n\t\tarray.forEach(this.events, function(handle){ handle.remove(); });\r\n\t\t// undo global settings\r\n\t\tvar h = this.host;\r\n\t\tif(h && h.onMoveStop){\r\n\t\t\th.onMoveStop(this);\r\n\t\t}\r\n\t\t// destroy objects\r\n\t\tthis.events = this.node = this.host = null;\r\n\t}\r\n});\r\n\r\n});\r\n\ndefine('dojo/dnd/Moveable',[\r\n\t\"../_base/array\", \"../_base/declare\", \"../_base/lang\",\r\n\t\"../dom\", \"../dom-class\", \"../Evented\", \"../on\", \"../topic\", \"../touch\", \"./common\", \"./Mover\", \"../_base/window\"\r\n], function(array, declare, lang, dom, domClass, Evented, on, topic, touch, dnd, Mover, win){\r\n\r\n// module:\r\n//\t\tdojo/dnd/Moveable\r\n\r\n\r\nvar Moveable = declare(\"dojo.dnd.Moveable\", [Evented], {\r\n\t// summary:\r\n\t//\t\tan object, which makes a node movable\r\n\r\n\t// object attributes (for markup)\r\n\thandle: \"\",\r\n\tdelay: 0,\r\n\tskip: false,\r\n\r\n\tconstructor: function(node, params){\r\n\t\t// node: Node\r\n\t\t//\t\ta node (or node's id) to be moved\r\n\t\t// params: Moveable.__MoveableArgs?\r\n\t\t//\t\toptional parameters\r\n\t\tthis.node = dom.byId(node);\r\n\t\tif(!params){ params = {}; }\r\n\t\tthis.handle = params.handle ? dom.byId(params.handle) : null;\r\n\t\tif(!this.handle){ this.handle = this.node; }\r\n\t\tthis.delay = params.delay > 0 ? params.delay : 0;\r\n\t\tthis.skip  = params.skip;\r\n\t\tthis.mover = params.mover ? params.mover : Mover;\r\n\t\tthis.events = [\r\n\t\t\ton(this.handle, touch.press, lang.hitch(this, \"onMouseDown\")),\r\n\t\t\t// cancel text selection and text dragging\r\n\t\t\ton(this.handle, \"dragstart\",   lang.hitch(this, \"onSelectStart\")),\r\n\t\t\ton(this.handle, \"selectstart\",   lang.hitch(this, \"onSelectStart\"))\r\n\t\t];\r\n\t},\r\n\r\n\t// markup methods\r\n\tmarkupFactory: function(params, node, Ctor){\r\n\t\treturn new Ctor(node, params);\r\n\t},\r\n\r\n\t// methods\r\n\tdestroy: function(){\r\n\t\t// summary:\r\n\t\t//\t\tstops watching for possible move, deletes all references, so the object can be garbage-collected\r\n\t\tarray.forEach(this.events, function(handle){ handle.remove(); });\r\n\t\tthis.events = this.node = this.handle = null;\r\n\t},\r\n\r\n\t// mouse event processors\r\n\tonMouseDown: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tevent processor for onmousedown/ontouchstart, creates a Mover for the node\r\n\t\t// e: Event\r\n\t\t//\t\tmouse/touch event\r\n\t\tif(this.skip && dnd.isFormElement(e)){ return; }\r\n\t\tif(this.delay){\r\n\t\t\tthis.events.push(\r\n\t\t\t\ton(this.handle, touch.move, lang.hitch(this, \"onMouseMove\")),\r\n\t\t\t\ton(this.handle, touch.release, lang.hitch(this, \"onMouseUp\"))\r\n\t\t\t);\r\n\t\t\tthis._lastX = e.pageX;\r\n\t\t\tthis._lastY = e.pageY;\r\n\t\t}else{\r\n\t\t\tthis.onDragDetected(e);\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t},\r\n\tonMouseMove: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tevent processor for onmousemove/ontouchmove, used only for delayed drags\r\n\t\t// e: Event\r\n\t\t//\t\tmouse/touch event\r\n\t\tif(Math.abs(e.pageX - this._lastX) > this.delay || Math.abs(e.pageY - this._lastY) > this.delay){\r\n\t\t\tthis.onMouseUp(e);\r\n\t\t\tthis.onDragDetected(e);\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t},\r\n\tonMouseUp: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tevent processor for onmouseup, used only for delayed drags\r\n\t\t// e: Event\r\n\t\t//\t\tmouse event\r\n\t\tfor(var i = 0; i < 2; ++i){\r\n\t\t\tthis.events.pop().remove();\r\n\t\t}\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\t},\r\n\tonSelectStart: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tevent processor for onselectevent and ondragevent\r\n\t\t// e: Event\r\n\t\t//\t\tmouse event\r\n\t\tif(!this.skip || !dnd.isFormElement(e)){\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t},\r\n\r\n\t// local events\r\n\tonDragDetected: function(/*Event*/ e){\r\n\t\t// summary:\r\n\t\t//\t\tcalled when the drag is detected;\r\n\t\t//\t\tresponsible for creation of the mover\r\n\t\tnew this.mover(this.node, e, this);\r\n\t},\r\n\tonMoveStart: function(/*Mover*/ mover){\r\n\t\t// summary:\r\n\t\t//\t\tcalled before every move operation\r\n\t\ttopic.publish(\"/dnd/move/start\", mover);\r\n\t\tdomClass.add(win.body(), \"dojoMove\");\r\n\t\tdomClass.add(this.node, \"dojoMoveItem\");\r\n\t},\r\n\tonMoveStop: function(/*Mover*/ mover){\r\n\t\t// summary:\r\n\t\t//\t\tcalled after every move operation\r\n\t\ttopic.publish(\"/dnd/move/stop\", mover);\r\n\t\tdomClass.remove(win.body(), \"dojoMove\");\r\n\t\tdomClass.remove(this.node, \"dojoMoveItem\");\r\n\t},\r\n\tonFirstMove: function(/*===== mover, e =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tcalled during the very first move notification;\r\n\t\t//\t\tcan be used to initialize coordinates, can be overwritten.\r\n\t\t// mover: Mover\r\n\t\t// e: Event\r\n\r\n\t\t// default implementation does nothing\r\n\t},\r\n\tonMove: function(mover, leftTop /*=====, e =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tcalled during every move notification;\r\n\t\t//\t\tshould actually move the node; can be overwritten.\r\n\t\t// mover: Mover\r\n\t\t// leftTop: Object\r\n\t\t// e: Event\r\n\t\tthis.onMoving(mover, leftTop);\r\n\t\tvar s = mover.node.style;\r\n\t\ts.left = leftTop.l + \"px\";\r\n\t\ts.top  = leftTop.t + \"px\";\r\n\t\tthis.onMoved(mover, leftTop);\r\n\t},\r\n\tonMoving: function(/*===== mover, leftTop =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tcalled before every incremental move; can be overwritten.\r\n\t\t// mover: Mover\r\n\t\t// leftTop: Object\r\n\r\n\t\t// default implementation does nothing\r\n\t},\r\n\tonMoved: function(/*===== mover, leftTop =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tcalled after every incremental move; can be overwritten.\r\n\t\t// mover: Mover\r\n\t\t// leftTop: Object\r\n\r\n\t\t// default implementation does nothing\r\n\t}\r\n});\r\n\r\n/*=====\r\nMoveable.__MoveableArgs = declare([], {\r\n\t// handle: Node||String\r\n\t//\t\tA node (or node's id), which is used as a mouse handle.\r\n\t//\t\tIf omitted, the node itself is used as a handle.\r\n\thandle: null,\r\n\r\n\t// delay: Number\r\n\t//\t\tdelay move by this number of pixels\r\n\tdelay: 0,\r\n\r\n\t// skip: Boolean\r\n\t//\t\tskip move of form elements\r\n\tskip: false,\r\n\r\n\t// mover: Object\r\n\t//\t\ta constructor of custom Mover\r\n\tmover: dnd.Mover\r\n});\r\n=====*/\r\n\r\nreturn Moveable;\r\n});\r\n\ndefine('dojo/dnd/TimedMoveable',[\"../_base/declare\", \"./Moveable\" /*=====, \"./Mover\" =====*/], function(declare, Moveable /*=====, Mover =====*/){\r\n\t// module:\r\n\t//\t\tdojo/dnd/TimedMoveable\r\n\r\n\t/*=====\r\n\tvar __TimedMoveableArgs = declare([Moveable.__MoveableArgs], {\r\n\t\t// timeout: Number\r\n\t\t//\t\tdelay move by this number of ms,\r\n\t\t//\t\taccumulating position changes during the timeout\r\n\t\ttimeout: 0\r\n\t});\r\n\t=====*/\r\n\r\n\t// precalculate long expressions\r\n\tvar oldOnMove = Moveable.prototype.onMove;\r\n\r\n\treturn declare(\"dojo.dnd.TimedMoveable\", Moveable, {\r\n\t\t// summary:\r\n\t\t//\t\tA specialized version of Moveable to support an FPS throttling.\r\n\t\t//\t\tThis class puts an upper restriction on FPS, which may reduce\r\n\t\t//\t\tthe CPU load. The additional parameter \"timeout\" regulates\r\n\t\t//\t\tthe delay before actually moving the moveable object.\r\n\r\n\t\t// object attributes (for markup)\r\n\t\ttimeout: 40,\t// in ms, 40ms corresponds to 25 fps\r\n\r\n\t\tconstructor: function(node, params){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tan object that makes a node moveable with a timer\r\n\t\t\t// node: Node||String\r\n\t\t\t//\t\ta node (or node's id) to be moved\r\n\t\t\t// params: __TimedMoveableArgs\r\n\t\t\t//\t\tobject with additional parameters.\r\n\r\n\t\t\t// sanitize parameters\r\n\t\t\tif(!params){ params = {}; }\r\n\t\t\tif(params.timeout && typeof params.timeout == \"number\" && params.timeout >= 0){\r\n\t\t\t\tthis.timeout = params.timeout;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonMoveStop: function(/*Mover*/ mover){\r\n\t\t\tif(mover._timer){\r\n\t\t\t\t// stop timer\r\n\t\t\t\tclearTimeout(mover._timer);\r\n\t\t\t\t// reflect the last received position\r\n\t\t\t\toldOnMove.call(this, mover, mover._leftTop);\r\n\t\t\t}\r\n\t\t\tMoveable.prototype.onMoveStop.apply(this, arguments);\r\n\t\t},\r\n\t\tonMove: function(/*Mover*/ mover, /*Object*/ leftTop){\r\n\t\t\tmover._leftTop = leftTop;\r\n\t\t\tif(!mover._timer){\r\n\t\t\t\tvar _t = this;\t// to avoid using dojo.hitch()\r\n\t\t\t\tmover._timer = setTimeout(function(){\r\n\t\t\t\t\t// we don't have any pending requests\r\n\t\t\t\t\tmover._timer = null;\r\n\t\t\t\t\t// reflect the last received position\r\n\t\t\t\t\toldOnMove.call(_t, mover, mover._leftTop);\r\n\t\t\t\t}, this.timeout);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_FormMixin',[\r\n\t\"dojo/_base/array\", // array.every array.filter array.forEach array.indexOf array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.hitch lang.isArray\r\n\t\"dojo/on\",\r\n\t\"dojo/window\" // winUtils.scrollIntoView\r\n], function(array, declare, kernel, lang, on, winUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormMixin\r\n\r\n\treturn declare(\"dijit.form._FormMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for containers of form widgets (i.e. widgets that represent a single value\r\n\t\t//\t\tand can be children of a `<form>` node or `dijit/form/Form` widget)\r\n\t\t// description:\r\n\t\t//\t\tCan extract all the form widgets\r\n\t\t//\t\tvalues and combine them into a single javascript object, or alternately\r\n\t\t//\t\ttake such an object and set the values for all the contained\r\n\t\t//\t\tform widgets\r\n\r\n\t/*=====\r\n\t\t// value: Object\r\n\t\t//\t\tName/value hash for each child widget with a name and value.\r\n\t\t//\t\tChild widgets without names are not part of the hash.\r\n\t\t//\r\n\t\t//\t\tIf there are multiple child widgets w/the same name, value is an array,\r\n\t\t//\t\tunless they are radio buttons in which case value is a scalar (since only\r\n\t\t//\t\tone radio button can be checked at a time).\r\n\t\t//\r\n\t\t//\t\tIf a child widget's name is a dot separated list (like a.b.c.d), it's a nested structure.\r\n\t\t//\r\n\t\t//\t\tExample:\r\n\t\t//\t|\t{ name: \"John Smith\", interests: [\"sports\", \"movies\"] }\r\n\t=====*/\r\n\r\n\t\t// state: [readonly] String\r\n\t\t//\t\tWill be \"Error\" if one or more of the child widgets has an invalid value,\r\n\t\t//\t\t\"Incomplete\" if not all of the required child widgets are filled in.  Otherwise, \"\",\r\n\t\t//\t\twhich indicates that the form is ready to be submitted.\r\n\t\tstate: \"\",\r\n\r\n\t\t// TODO:\r\n\t\t//\t* Repeater\r\n\t\t//\t* better handling for arrays.  Often form elements have names with [] like\r\n\t\t//\t* people[3].sex (for a list of people [{name: Bill, sex: M}, ...])\r\n\r\n\r\n\t\t_getDescendantFormWidgets: function(/*dijit/_WidgetBase[]?*/ children){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns all form widget descendants, searching through non-form child widgets like BorderContainer\r\n\t\t\tvar res = [];\r\n\t\t\tarray.forEach(children || this.getChildren(), function(child){\r\n\t\t\t\tif(\"value\" in child){\r\n\t\t\t\t\tres.push(child);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tres = res.concat(this._getDescendantFormWidgets(child.getChildren()));\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\treturn res;\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\tarray.forEach(this._getDescendantFormWidgets(), function(widget){\r\n\t\t\t\tif(widget.reset){\r\n\t\t\t\t\twidget.reset();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tvalidate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns if the form is valid - same as isValid - but\r\n\t\t\t//\t\tprovides a few additional (ui-specific) features:\r\n\t\t\t//\r\n\t\t\t//\t\t1. it will highlight any sub-widgets that are not valid\r\n\t\t\t//\t\t2. it will call focus() on the first invalid sub-widget\r\n\t\t\tvar didFocus = false;\r\n\t\t\treturn array.every(array.map(this._getDescendantFormWidgets(), function(widget){\r\n\t\t\t\t// Need to set this so that \"required\" widgets get their\r\n\t\t\t\t// state set.\r\n\t\t\t\twidget._hasBeenBlurred = true;\r\n\t\t\t\tvar valid = widget.disabled || !widget.validate || widget.validate();\r\n\t\t\t\tif(!valid && !didFocus){\r\n\t\t\t\t\t// Set focus of the first non-valid widget\r\n\t\t\t\t\twinUtils.scrollIntoView(widget.containerNode || widget.domNode);\r\n\t\t\t\t\twidget.focus();\r\n\t\t\t\t\tdidFocus = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn valid;\r\n\t\t\t}), function(item){ return item; });\r\n\t\t},\r\n\r\n\t\tsetValues: function(val){\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::setValues() is deprecated. Use set('value', val) instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.set('value', val);\r\n\t\t},\r\n\t\t_setValueAttr: function(/*Object*/ obj){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFill in form values from according to an Object (in the format returned by get('value'))\r\n\r\n\t\t\t// generate map from name --> [list of widgets with that name]\r\n\t\t\tvar map = { };\r\n\t\t\tarray.forEach(this._getDescendantFormWidgets(), function(widget){\r\n\t\t\t\tif(!widget.name){ return; }\r\n\t\t\t\tvar entry = map[widget.name] || (map[widget.name] = [] );\r\n\t\t\t\tentry.push(widget);\r\n\t\t\t});\r\n\r\n\t\t\tfor(var name in map){\r\n\t\t\t\tif(!map.hasOwnProperty(name)){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar widgets = map[name],\t\t\t\t\t\t// array of widgets w/this name\r\n\t\t\t\t\tvalues = lang.getObject(name, false, obj);\t// list of values for those widgets\r\n\r\n\t\t\t\tif(values === undefined){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvalues = [].concat(values);\r\n\t\t\t\tif(typeof widgets[0].checked == 'boolean'){\r\n\t\t\t\t\t// for checkbox/radio, values is a list of which widgets should be checked\r\n\t\t\t\t\tarray.forEach(widgets, function(w){\r\n\t\t\t\t\t\tw.set('value', array.indexOf(values, w._get('value')) != -1);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(widgets[0].multiple){\r\n\t\t\t\t\t// it takes an array (e.g. multi-select)\r\n\t\t\t\t\twidgets[0].set('value', values);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// otherwise, values is a list of values to be assigned sequentially to each widget\r\n\t\t\t\t\tarray.forEach(widgets, function(w, i){\r\n\t\t\t\t\t\tw.set('value', values[i]);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/***\r\n\t\t\t *\tTODO: code for plain input boxes (this shouldn't run for inputs that are part of widgets)\r\n\r\n\t\t\tarray.forEach(this.containerNode.elements, function(element){\r\n\t\t\t\tif(element.name == ''){return};\t// like \"continue\"\r\n\t\t\t\tvar namePath = element.name.split(\".\");\r\n\t\t\t\tvar myObj=obj;\r\n\t\t\t\tvar name=namePath[namePath.length-1];\r\n\t\t\t\tfor(var j=1,len2=namePath.length;j<len2;++j){\r\n\t\t\t\t\tvar p=namePath[j - 1];\r\n\t\t\t\t\t// repeater support block\r\n\t\t\t\t\tvar nameA=p.split(\"[\");\r\n\t\t\t\t\tif(nameA.length > 1){\r\n\t\t\t\t\t\tif(typeof(myObj[nameA[0]]) == \"undefined\"){\r\n\t\t\t\t\t\t\tmyObj[nameA[0]]=[ ];\r\n\t\t\t\t\t\t} // if\r\n\r\n\t\t\t\t\t\tnameIndex=parseInt(nameA[1]);\r\n\t\t\t\t\t\tif(typeof(myObj[nameA[0]][nameIndex]) == \"undefined\"){\r\n\t\t\t\t\t\t\tmyObj[nameA[0]][nameIndex] = { };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmyObj=myObj[nameA[0]][nameIndex];\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t} // repeater support ends\r\n\r\n\t\t\t\t\tif(typeof(myObj[p]) == \"undefined\"){\r\n\t\t\t\t\t\tmyObj=undefined;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmyObj=myObj[p];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(typeof(myObj) == \"undefined\"){\r\n\t\t\t\t\treturn;\t\t// like \"continue\"\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof(myObj[name]) == \"undefined\" && this.ignoreNullValues){\r\n\t\t\t\t\treturn;\t\t// like \"continue\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// TODO: widget values (just call set('value', ...) on the widget)\r\n\r\n\t\t\t\t// TODO: maybe should call dojo.getNodeProp() instead\r\n\t\t\t\tswitch(element.type){\r\n\t\t\t\t\tcase \"checkbox\":\r\n\t\t\t\t\t\telement.checked = (name in myObj) &&\r\n\t\t\t\t\t\t\tarray.some(myObj[name], function(val){ return val == element.value; });\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"radio\":\r\n\t\t\t\t\t\telement.checked = (name in myObj) && myObj[name] == element.value;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"select-multiple\":\r\n\t\t\t\t\t\telement.selectedIndex=-1;\r\n\t\t\t\t\t\tarray.forEach(element.options, function(option){\r\n\t\t\t\t\t\t\toption.selected = array.some(myObj[name], function(val){ return option.value == val; });\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"select-one\":\r\n\t\t\t\t\t\telement.selectedIndex=\"0\";\r\n\t\t\t\t\t\tarray.forEach(element.options, function(option){\r\n\t\t\t\t\t\t\toption.selected = option.value == myObj[name];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"hidden\":\r\n\t\t\t\t\tcase \"text\":\r\n\t\t\t\t\tcase \"textarea\":\r\n\t\t\t\t\tcase \"password\":\r\n\t\t\t\t\t\telement.value = myObj[name] || \"\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t*/\r\n\r\n\t\t\t// Note: no need to call this._set(\"value\", ...) as the child updates will trigger onChange events\r\n\t\t\t// which I am monitoring.\r\n\t\t},\r\n\r\n\t\tgetValues: function(){\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::getValues() is deprecated. Use get('value') instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.get('value');\r\n\t\t},\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns Object representing form values.   See description of `value` for details.\r\n\t\t\t// description:\r\n\r\n\t\t\t// The value is updated into this.value every time a child has an onChange event,\r\n\t\t\t// so in the common case this function could just return this.value.   However,\r\n\t\t\t// that wouldn't work when:\r\n\t\t\t//\r\n\t\t\t// 1. User presses return key to submit a form.  That doesn't fire an onchange event,\r\n\t\t\t// and even if it did it would come too late due to the defer(...) in _handleOnChange()\r\n\t\t\t//\r\n\t\t\t// 2. app for some reason calls this.get(\"value\") while the user is typing into a\r\n\t\t\t// form field.   Not sure if that case needs to be supported or not.\r\n\r\n\t\t\t// get widget values\r\n\t\t\tvar obj = { };\r\n\t\t\tarray.forEach(this._getDescendantFormWidgets(), function(widget){\r\n\t\t\t\tvar name = widget.name;\r\n\t\t\t\tif(!name || widget.disabled){ return; }\r\n\r\n\t\t\t\t// Single value widget (checkbox, radio, or plain <input> type widget)\r\n\t\t\t\tvar value = widget.get('value');\r\n\r\n\t\t\t\t// Store widget's value(s) as a scalar, except for checkboxes which are automatically arrays\r\n\t\t\t\tif(typeof widget.checked == 'boolean'){\r\n\t\t\t\t\tif(/Radio/.test(widget.declaredClass)){\r\n\t\t\t\t\t\t// radio button\r\n\t\t\t\t\t\tif(value !== false){\r\n\t\t\t\t\t\t\tlang.setObject(name, value, obj);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// give radio widgets a default of null\r\n\t\t\t\t\t\t\tvalue = lang.getObject(name, false, obj);\r\n\t\t\t\t\t\t\tif(value === undefined){\r\n\t\t\t\t\t\t\t\tlang.setObject(name, null, obj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// checkbox/toggle button\r\n\t\t\t\t\t\tvar ary=lang.getObject(name, false, obj);\r\n\t\t\t\t\t\tif(!ary){\r\n\t\t\t\t\t\t\tary=[];\r\n\t\t\t\t\t\t\tlang.setObject(name, ary, obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(value !== false){\r\n\t\t\t\t\t\t\tary.push(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar prev=lang.getObject(name, false, obj);\r\n\t\t\t\t\tif(typeof prev != \"undefined\"){\r\n\t\t\t\t\t\tif(lang.isArray(prev)){\r\n\t\t\t\t\t\t\tprev.push(value);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlang.setObject(name, [prev, value], obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// unique name\r\n\t\t\t\t\t\tlang.setObject(name, value, obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t/***\r\n\t\t\t * code for plain input boxes (see also domForm.formToObject, can we use that instead of this code?\r\n\t\t\t * but it doesn't understand [] notation, presumably)\r\n\t\t\tvar obj = { };\r\n\t\t\tarray.forEach(this.containerNode.elements, function(elm){\r\n\t\t\t\tif(!elm.name)\t{\r\n\t\t\t\t\treturn;\t\t// like \"continue\"\r\n\t\t\t\t}\r\n\t\t\t\tvar namePath = elm.name.split(\".\");\r\n\t\t\t\tvar myObj=obj;\r\n\t\t\t\tvar name=namePath[namePath.length-1];\r\n\t\t\t\tfor(var j=1,len2=namePath.length;j<len2;++j){\r\n\t\t\t\t\tvar nameIndex = null;\r\n\t\t\t\t\tvar p=namePath[j - 1];\r\n\t\t\t\t\tvar nameA=p.split(\"[\");\r\n\t\t\t\t\tif(nameA.length > 1){\r\n\t\t\t\t\t\tif(typeof(myObj[nameA[0]]) == \"undefined\"){\r\n\t\t\t\t\t\t\tmyObj[nameA[0]]=[ ];\r\n\t\t\t\t\t\t} // if\r\n\t\t\t\t\t\tnameIndex=parseInt(nameA[1]);\r\n\t\t\t\t\t\tif(typeof(myObj[nameA[0]][nameIndex]) == \"undefined\"){\r\n\t\t\t\t\t\t\tmyObj[nameA[0]][nameIndex] = { };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(typeof(myObj[nameA[0]]) == \"undefined\"){\r\n\t\t\t\t\t\tmyObj[nameA[0]] = { }\r\n\t\t\t\t\t} // if\r\n\r\n\t\t\t\t\tif(nameA.length == 1){\r\n\t\t\t\t\t\tmyObj=myObj[nameA[0]];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tmyObj=myObj[nameA[0]][nameIndex];\r\n\t\t\t\t\t} // if\r\n\t\t\t\t} // for\r\n\r\n\t\t\t\tif((elm.type != \"select-multiple\" && elm.type != \"checkbox\" && elm.type != \"radio\") || (elm.type == \"radio\" && elm.checked)){\r\n\t\t\t\t\tif(name == name.split(\"[\")[0]){\r\n\t\t\t\t\t\tmyObj[name]=elm.value;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// can not set value when there is no name\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(elm.type == \"checkbox\" && elm.checked){\r\n\t\t\t\t\tif(typeof(myObj[name]) == 'undefined'){\r\n\t\t\t\t\t\tmyObj[name]=[ ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmyObj[name].push(elm.value);\r\n\t\t\t\t}else if(elm.type == \"select-multiple\"){\r\n\t\t\t\t\tif(typeof(myObj[name]) == 'undefined'){\r\n\t\t\t\t\t\tmyObj[name]=[ ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var jdx=0,len3=elm.options.length; jdx<len3; ++jdx){\r\n\t\t\t\t\t\tif(elm.options[jdx].selected){\r\n\t\t\t\t\t\t\tmyObj[name].push(elm.options[jdx].value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} // if\r\n\t\t\t\tname=undefined;\r\n\t\t\t}); // forEach\r\n\t\t\t***/\r\n\t\t\treturn obj;\r\n\t\t},\r\n\r\n\t\tisValid: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if all of the widgets are valid.\r\n\t\t\t//\t\tDeprecated, will be removed in 2.0.  Use get(\"state\") instead.\r\n\r\n\t\t\treturn this.state == \"\";\r\n\t\t},\r\n\r\n\t\tonValidStateChange: function(/*Boolean*/ /*===== isValid =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub function to connect to if you want to do something\r\n\t\t\t//\t\t(like disable/enable a submit button) when the valid\r\n\t\t\t//\t\tstate changes on the form as a whole.\r\n\t\t\t//\r\n\t\t\t//\t\tDeprecated.  Will be removed in 2.0.  Use watch(\"state\", ...) instead.\r\n\t\t},\r\n\r\n\t\t_getState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCompute what this.state should be based on state of children\r\n\t\t\tvar states = array.map(this._descendants, function(w){\r\n\t\t\t\treturn w.get(\"state\") || \"\";\r\n\t\t\t});\r\n\r\n\t\t\treturn array.indexOf(states, \"Error\") >= 0 ? \"Error\" :\r\n\t\t\t\tarray.indexOf(states, \"Incomplete\") >= 0 ? \"Incomplete\" : \"\";\r\n\t\t},\r\n\r\n\t\tdisconnectChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated method.   Applications no longer need to call this.   Remove for 2.0.\r\n\t\t},\r\n\r\n\t\tconnectChildren: function(/*Boolean*/ inStartup){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tYou can call this function directly, ex. in the event that you\r\n\t\t\t//\t\tprogrammatically add a widget to the form *after* the form has been\r\n\t\t\t//\t\tinitialized.\r\n\r\n\t\t\t// TODO: rename for 2.0\r\n\r\n\t\t\tthis._descendants = this._getDescendantFormWidgets();\r\n\r\n\t\t\t// To get notifications from children they need to be started.   Children didn't used to need to be started,\r\n\t\t\t// so for back-compat, start them here\r\n\t\t\tarray.forEach(this._descendants, function(child){\r\n\t\t\t\tif(!child._started){ child.startup(); }\r\n\t\t\t});\r\n\r\n\t\t\tif(!inStartup){\r\n\t\t\t\tthis._onChildChange();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onChildChange: function(/*String*/ attr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when child's value or disabled state changes\r\n\r\n\t\t\t// The unit tests expect state update to be synchronous, so update it immediately.\r\n\t\t\tif(!attr || attr == \"state\" || attr == \"disabled\"){\r\n\t\t\t\tthis._set(\"state\", this._getState());\r\n\t\t\t}\r\n\r\n\t\t\t// Use defer() to collapse value changes in multiple children into a single\r\n\t\t\t// update to my value.   Multiple updates will occur on:\r\n\t\t\t//\t1. Form.set()\r\n\t\t\t//\t2. Form.reset()\r\n\t\t\t//\t3. user selecting a radio button (which will de-select another radio button,\r\n\t\t\t//\t\t causing two onChange events)\r\n\t\t\tif(!attr || attr == \"value\" || attr == \"disabled\" || attr == \"checked\"){\r\n\t\t\t\tif(this._onChangeDelayTimer){\r\n\t\t\t\t\tthis._onChangeDelayTimer.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis._onChangeDelayTimer = this.defer(function(){\r\n\t\t\t\t\tdelete this._onChangeDelayTimer;\r\n\t\t\t\t\tthis._set(\"value\", this.get(\"value\"));\r\n\t\t\t\t}, 10);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Set initial this.value and this.state.   Don't emit watch() notifications.\r\n\t\t\tthis._descendants = this._getDescendantFormWidgets();\r\n\t\t\tthis.value = this.get(\"value\");\r\n\t\t\tthis.state = this._getState();\r\n\r\n\t\t\t// Initialize value and valid/invalid state tracking.\r\n\t\t\tvar self = this;\r\n\t\t\tthis.own(\r\n\t\t\t\ton(\r\n\t\t\t\t\tthis.containerNode,\r\n\t\t\t\t\t\"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked\",\r\n\t\t\t\t\tfunction(evt){\r\n\t\t\t\t\t\tif(evt.target == self.domNode){\r\n\t\t\t\t\t\t\treturn;\t// ignore events that I fire on myself because my children changed\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself._onChildChange(evt.type.replace(\"attrmodified-\", \"\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\t// Make state change call onValidStateChange(), will be removed in 2.0\r\n\t\t\tthis.watch(\"state\", function(attr, oldVal, newVal){ this.onValidStateChange(newVal == \"\"); });\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\r\n\t});\r\n});\r\n\ndefine('dijit/_DialogMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./a11y\"\t// _getTabNavigable\r\n], function(declare, a11y){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_DialogMixin\r\n\r\n\treturn declare(\"dijit._DialogMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tThis provides functions useful to Dialog and TooltipDialog\r\n\r\n\t\t// actionBarTemplate: String\r\n\t\t//\t\tHTML snippet to show the action bar (gray bar with OK/cancel buttons).\r\n\t\t//\t\tBlank by default, but used by ConfirmDialog/ConfirmTooltipDialog subclasses.\r\n\t\tactionBarTemplate: \"\",\r\n\r\n\t\texecute: function(/*Object*/ /*===== formContents =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when the user hits the submit button.\r\n\t\t\t//\t\tOverride this method to handle Dialog execution.\r\n\t\t\t// description:\r\n\t\t\t//\t\tAfter the user has pressed the submit button, the Dialog\r\n\t\t\t//\t\tfirst calls onExecute() to notify the container to hide the\r\n\t\t\t//\t\tdialog and restore focus to wherever it used to be.\r\n\t\t\t//\r\n\t\t\t//\t\t*Then* this method is called.\r\n\t\t\t// type:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonCancel: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when user has pressed the Dialog's cancel button, to notify container.\r\n\t\t\t// description:\r\n\t\t\t//\t\tDeveloper shouldn't override or connect to this method;\r\n\t\t\t//\t\tit's a private communication device between the TooltipDialog\r\n\t\t\t//\t\tand the thing that opened it (ex: `dijit/form/DropDownButton`)\r\n\t\t\t// type:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\tonExecute: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when user has pressed the dialog's OK button, to notify container.\r\n\t\t\t// description:\r\n\t\t\t//\t\tDeveloper shouldn't override or connect to this method;\r\n\t\t\t//\t\tit's a private communication device between the TooltipDialog\r\n\t\t\t//\t\tand the thing that opened it (ex: `dijit/form/DropDownButton`)\r\n\t\t\t// type:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\t_onSubmit: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when user hits submit button\r\n\t\t\t// type:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.onExecute();\t// notify container that we are about to execute\r\n\t\t\tthis.execute(this.get('value'));\r\n\t\t},\r\n\r\n\t\t_getFocusItems: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFinds focusable items in dialog,\r\n\t\t\t//\t\tand sets this._firstFocusItem and this._lastFocusItem\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar elems = a11y._getTabNavigable(this.domNode);\r\n\t\t\tthis._firstFocusItem = elems.lowest || elems.first || this.closeButtonNode || this.domNode;\r\n\t\t\tthis._lastFocusItem = elems.last || elems.highest || this._firstFocusItem;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/DialogUnderlay',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/aspect\", // aspect.after\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/on\",\r\n\t\"dojo/window\", // winUtils.getBox, winUtils.get\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./BackgroundIframe\",\r\n\t\"./Viewport\",\r\n\t\"./main\" // for back-compat, exporting dijit._underlay (remove in 2.0)\r\n], function(declare, lang, aspect, domAttr, domStyle, on,\r\n\t\t\twinUtils, _Widget, _TemplatedMixin, BackgroundIframe, Viewport, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/DialogUnderlay\r\n\r\n\tvar DialogUnderlay = declare(\"dijit.DialogUnderlay\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA component used to block input behind a `dijit/Dialog`.\r\n\t\t//\r\n\t\t//\t\tNormally this class should not be instantiated directly, but rather shown and hidden via\r\n\t\t//\t\tDialogUnderlay.show() and DialogUnderlay.hide().  And usually the module is not accessed directly\r\n\t\t//\t\tat all, since the underlay is shown and hidden by Dialog.DialogLevelManager.\r\n\t\t//\r\n\t\t//\t\tThe underlay itself can be styled based on and id:\r\n\t\t//\t|\t#myDialog_underlay { background-color:red; }\r\n\t\t//\r\n\t\t//\t\tIn the case of `dijit.Dialog`, this id is based on the id of the Dialog,\r\n\t\t//\t\tsuffixed with _underlay.\r\n\r\n\t\t// Template has two divs; outer div is used for fade-in/fade-out, and also to hold background iframe.\r\n\t\t// Inner div has opacity specified in CSS file.\r\n\t\ttemplateString: \"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>\",\r\n\r\n\t\t// Parameters on creation or updatable later\r\n\r\n\t\t// dialogId: String\r\n\t\t//\t\tId of the dialog.... DialogUnderlay's id is based on this id\r\n\t\tdialogId: \"\",\r\n\r\n\t\t// class: String\r\n\t\t//\t\tThis class name is used on the DialogUnderlay node, in addition to dijitDialogUnderlay\r\n\t\t\"class\": \"\",\r\n\r\n\t\t// This will get overwritten as soon as show() is call, but leave an empty array in case hide() or destroy()\r\n\t\t// is called first.   The array is shared between instances but that's OK because we never write into it.\r\n\t\t_modalConnects: [],\r\n\r\n\t\t_setDialogIdAttr: function(id){\r\n\t\t\tdomAttr.set(this.node, \"id\", id + \"_underlay\");\r\n\t\t\tthis._set(\"dialogId\", id);\r\n\t\t},\r\n\r\n\t\t_setClassAttr: function(clazz){\r\n\t\t\tthis.node.className = \"dijitDialogUnderlay \" + clazz;\r\n\t\t\tthis._set(\"class\", clazz);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// Append the underlay to the body\r\n\t\t\tthis.ownerDocumentBody.appendChild(this.domNode);\r\n\r\n\t\t\tthis.own(on(this.domNode, \"keydown\", lang.hitch(this, \"_onKeyDown\")));\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the background to the size of the viewport\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the background to the size of the viewport (rather than the size\r\n\t\t\t//\t\tof the document) since we need to cover the whole browser window, even\r\n\t\t\t//\t\tif the document is only a few lines long.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar is = this.node.style,\r\n\t\t\t\tos = this.domNode.style;\r\n\r\n\t\t\t// hide the background temporarily, so that the background itself isn't\r\n\t\t\t// causing scrollbars to appear (might happen when user shrinks browser\r\n\t\t\t// window and then we are called to resize)\r\n\t\t\tos.display = \"none\";\r\n\r\n\t\t\t// then resize and show\r\n\t\t\tvar viewport = winUtils.getBox(this.ownerDocument);\r\n\t\t\tos.top = viewport.t + \"px\";\r\n\t\t\tos.left = viewport.l + \"px\";\r\n\t\t\tis.width = viewport.w + \"px\";\r\n\t\t\tis.height = viewport.h + \"px\";\r\n\t\t\tos.display = \"block\";\r\n\t\t},\r\n\r\n\t\tshow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tShow the dialog underlay\r\n\t\t\tthis.domNode.style.display = \"block\";\r\n\t\t\tthis.open = true;\r\n\t\t\tthis.layout();\r\n\t\t\tthis.bgIframe = new BackgroundIframe(this.domNode);\r\n\r\n\t\t\tvar win = winUtils.get(this.ownerDocument);\r\n\t\t\tthis._modalConnects = [\r\n\t\t\t\tViewport.on(\"resize\", lang.hitch(this, \"layout\")),\r\n\t\t\t\ton(win, \"scroll\", lang.hitch(this, \"layout\"))\r\n\t\t\t];\r\n\r\n\t\t},\r\n\r\n\t\thide: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHides the dialog underlay\r\n\r\n\t\t\tthis.bgIframe.destroy();\r\n\t\t\tdelete this.bgIframe;\r\n\t\t\tthis.domNode.style.display = \"none\";\r\n\t\t\twhile(this._modalConnects.length){ (this._modalConnects.pop()).remove(); }\r\n\t\t\tthis.open = false;\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\twhile(this._modalConnects.length){ (this._modalConnects.pop()).remove(); }\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tExtension point so Dialog can monitor keyboard events on the underlay.\r\n\t\t}\r\n\t});\r\n\r\n\tDialogUnderlay.show = function(/*Object*/ attrs, /*Number*/ zIndex){\r\n\t\t// summary:\r\n\t\t//\t\tDisplay the underlay with the given attributes set.  If the underlay is already displayed,\r\n\t\t//\t\tthen adjust it's attributes as specified.\r\n\t\t// attrs:\r\n\t\t//\t\tThe parameters to create DialogUnderlay with.\r\n\t\t// zIndex:\r\n\t\t//\t\tzIndex of the underlay\r\n\r\n\t\tvar underlay = DialogUnderlay._singleton;\r\n\t\tif(!underlay || underlay._destroyed){\r\n\t\t\tunderlay = dijit._underlay = DialogUnderlay._singleton = new DialogUnderlay(attrs);\r\n\t\t}else{\r\n\t\t\tif(attrs){ underlay.set(attrs); }\r\n\t\t}\r\n\t\tdomStyle.set(underlay.domNode, 'zIndex', zIndex);\r\n\t\tif(!underlay.open){\r\n\t\t\tunderlay.show();\r\n\t\t}\r\n\t};\r\n\r\n\tDialogUnderlay.hide = function(){\r\n\t\t// summary:\r\n\t\t//\t\tHide the underlay.\r\n\r\n\t\t// Guard code in case the underlay widget has already been destroyed\r\n\t\t// because we are being called during page unload (when all widgets are destroyed)\r\n\t\tvar underlay = DialogUnderlay._singleton;\r\n\t\tif(underlay && !underlay._destroyed){\r\n\t\t\tunderlay.hide();\r\n\t\t}\r\n\t};\r\n\r\n\treturn DialogUnderlay;\r\n});\r\n\ndefine('dijit/layout/utils',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-geometry\", // domGeometry.marginBox\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/_base/lang\" // lang.mixin, lang.setObject\r\n], function(array, domClass, domGeometry, domStyle, lang){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/utils\r\n\r\n\tfunction capitalize(word){\r\n\t\treturn word.substring(0,1).toUpperCase() + word.substring(1);\r\n\t}\r\n\r\n\tfunction size(widget, dim){\r\n\t\t// size the child\r\n\t\tvar newSize = widget.resize ? widget.resize(dim) : domGeometry.setMarginBox(widget.domNode, dim);\r\n\r\n\t\t// record child's size\r\n\t\tif(newSize){\r\n\t\t\t// if the child returned it's new size then use that\r\n\t\t\tlang.mixin(widget, newSize);\r\n\t\t}else{\r\n\t\t\t// otherwise, call getMarginBox(), but favor our own numbers when we have them.\r\n\t\t\t// the browser lies sometimes\r\n\t\t\tlang.mixin(widget, domGeometry.getMarginBox(widget.domNode));\r\n\t\t\tlang.mixin(widget, dim);\r\n\t\t}\r\n\t}\r\n\r\n\tvar utils = {\r\n\t\t// summary:\r\n\t\t//\t\tUtility functions for doing layout\r\n\r\n\t\tmarginBox2contentBox: function(/*DomNode*/ node, /*Object*/ mb){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGiven the margin-box size of a node, return its content box size.\r\n\t\t\t//\t\tFunctions like domGeometry.contentBox() but is more reliable since it doesn't have\r\n\t\t\t//\t\tto wait for the browser to compute sizes.\r\n\t\t\tvar cs = domStyle.getComputedStyle(node);\r\n\t\t\tvar me = domGeometry.getMarginExtents(node, cs);\r\n\t\t\tvar pb = domGeometry.getPadBorderExtents(node, cs);\r\n\t\t\treturn {\r\n\t\t\t\tl: domStyle.toPixelValue(node, cs.paddingLeft),\r\n\t\t\t\tt: domStyle.toPixelValue(node, cs.paddingTop),\r\n\t\t\t\tw: mb.w - (me.w + pb.w),\r\n\t\t\t\th: mb.h - (me.h + pb.h)\r\n\t\t\t};\r\n\t\t},\r\n\r\n\r\n\t\tlayoutChildren: function(/*DomNode*/ container, /*Object*/ dim, /*Widget[]*/ children,\r\n\t\t\t\t/*String?*/ changedRegionId, /*Number?*/ changedRegionSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLayout a bunch of child dom nodes within a parent dom node\r\n\t\t\t// container:\r\n\t\t\t//\t\tparent node\r\n\t\t\t// dim:\r\n\t\t\t//\t\t{l, t, w, h} object specifying dimensions of container into which to place children\r\n\t\t\t// children:\r\n\t\t\t//\t\tAn array of Widgets or at least objects containing:\r\n\t\t\t//\r\n\t\t\t//\t\t- domNode: pointer to DOM node to position\r\n\t\t\t//\t\t- region or layoutAlign: position to place DOM node\r\n\t\t\t//\t\t- resize(): (optional) method to set size of node\r\n\t\t\t//\t\t- id: (optional) Id of widgets, referenced from resize object, below.\r\n\t\t\t//\r\n\t\t\t//\t\tThe widgets in this array should be ordered according to how they should be laid out\r\n\t\t\t//\t\t(each element will be processed in order, and take up as much remaining space as needed),\r\n\t\t\t//\t\twith the center widget last.\r\n\t\t\t// changedRegionId:\r\n\t\t\t//\t\tIf specified, the slider for the region with the specified id has been dragged, and thus\r\n\t\t\t//\t\tthe region's height or width should be adjusted according to changedRegionSize\r\n\t\t\t// changedRegionSize:\r\n\t\t\t//\t\tSee changedRegionId.\r\n\r\n\t\t\t// copy dim because we are going to modify it\r\n\t\t\tdim = lang.mixin({}, dim);\r\n\r\n\t\t\tdomClass.add(container, \"dijitLayoutContainer\");\r\n\r\n\t\t\t// Move \"client\" elements to the end of the array for layout.  a11y dictates that the author\r\n\t\t\t// needs to be able to put them in the document in tab-order, but this algorithm requires that\r\n\t\t\t// client be last.    TODO: remove for 2.0, all dijit client code already sends children as last item.\r\n\t\t\tchildren = array.filter(children, function(item){ return item.region != \"center\" && item.layoutAlign != \"client\"; })\r\n\t\t\t\t.concat(array.filter(children, function(item){ return item.region == \"center\" || item.layoutAlign == \"client\"; }));\r\n\r\n\t\t\t// set positions/sizes\r\n\t\t\tarray.forEach(children, function(child){\r\n\t\t\t\tvar elm = child.domNode,\r\n\t\t\t\t\tpos = (child.region || child.layoutAlign);\r\n\t\t\t\tif(!pos){\r\n\t\t\t\t\tthrow new Error(\"No region setting for \" + child.id)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set elem to upper left corner of unused space; may move it later\r\n\t\t\t\tvar elmStyle = elm.style;\r\n\t\t\t\telmStyle.left = dim.l+\"px\";\r\n\t\t\t\telmStyle.top = dim.t+\"px\";\r\n\t\t\t\telmStyle.position = \"absolute\";\r\n\r\n\t\t\t\tdomClass.add(elm, \"dijitAlign\" + capitalize(pos));\r\n\r\n\t\t\t\t// Size adjustments to make to this child widget\r\n\t\t\t\tvar sizeSetting = {};\r\n\r\n\t\t\t\t// Check for optional size adjustment due to splitter drag (height adjustment for top/bottom align\r\n\t\t\t\t// panes and width adjustment for left/right align panes.\r\n\t\t\t\tif(changedRegionId && changedRegionId == child.id){\r\n\t\t\t\t\tsizeSetting[child.region == \"top\" || child.region == \"bottom\" ? \"h\" : \"w\"] = changedRegionSize;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(pos == \"leading\"){\r\n\t\t\t\t\tpos = child.isLeftToRight() ? \"left\" : \"right\";\r\n\t\t\t\t}\r\n\t\t\t\tif(pos == \"trailing\"){\r\n\t\t\t\t\tpos = child.isLeftToRight() ? \"right\" : \"left\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set size && adjust record of remaining space.\r\n\t\t\t\t// note that setting the width of a <div> may affect its height.\r\n\t\t\t\tif(pos == \"top\" || pos == \"bottom\"){\r\n\t\t\t\t\tsizeSetting.w = dim.w;\r\n\t\t\t\t\tsize(child, sizeSetting);\r\n\t\t\t\t\tdim.h -= child.h;\r\n\t\t\t\t\tif(pos == \"top\"){\r\n\t\t\t\t\t\tdim.t += child.h;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\telmStyle.top = dim.t + dim.h + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(pos == \"left\" || pos == \"right\"){\r\n\t\t\t\t\tsizeSetting.h = dim.h;\r\n\t\t\t\t\tsize(child, sizeSetting);\r\n\t\t\t\t\tdim.w -= child.w;\r\n\t\t\t\t\tif(pos == \"left\"){\r\n\t\t\t\t\t\tdim.l += child.w;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\telmStyle.left = dim.l + dim.w + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(pos == \"client\" || pos == \"center\"){\r\n\t\t\t\t\tsize(child, dim);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tlang.setObject(\"dijit.layout.utils\", utils);\t// remove for 2.0\r\n\r\n\treturn utils;\r\n});\r\n\ndefine('dijit/layout/_ContentPaneResizeMixin',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.contains domClass.toggle\r\n\t\"dojo/dom-geometry\", // domGeometry.contentBox domGeometry.marginBox\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/query\", // query\r\n\t\"../registry\", // registry.byId\r\n\t\"../Viewport\",\r\n\t\"./utils\" // marginBox2contextBox\r\n], function(array, declare, domClass, domGeometry, domStyle, lang, query,\r\n\t\t\tregistry, Viewport, layoutUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/_ContentPaneResizeMixin\r\n\r\n\treturn declare(\"dijit.layout._ContentPaneResizeMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tResize() functionality of ContentPane.   If there's a single layout widget\r\n\t\t//\t\tchild then it will call resize() with the same dimensions as the ContentPane.\r\n\t\t//\t\tOtherwise just calls resize on each child.\r\n\t\t//\r\n\t\t//\t\tAlso implements basic startup() functionality, where starting the parent\r\n\t\t//\t\twill start the children\r\n\r\n\t\t// doLayout: Boolean\r\n\t\t//\t\t- false - don't adjust size of children\r\n\t\t//\t\t- true - if there is a single visible child widget, set it's size to however big the ContentPane is\r\n\t\tdoLayout: true,\r\n\r\n\t\t// isLayoutContainer: [protected] Boolean\r\n\t\t//\t\tIndicates that this widget will call resize() on it's child widgets\r\n\t\t//\t\twhen they become visible.\r\n\t\tisLayoutContainer: true,\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSee `dijit/layout/_LayoutWidget.startup()` for description.\r\n\t\t\t//\t\tAlthough ContentPane doesn't extend _LayoutWidget, it does implement\r\n\t\t\t//\t\tthe same API.\r\n\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar parent = this.getParent();\r\n\t\t\tthis._childOfLayoutWidget = parent && parent.isLayoutContainer;\r\n\r\n\t\t\t// I need to call resize() on my child/children (when I become visible), unless\r\n\t\t\t// I'm the child of a layout widget in which case my parent will call resize() on me and I'll do it then.\r\n\t\t\tthis._needLayout = !this._childOfLayoutWidget;\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this._isShown()){\r\n\t\t\t\tthis._onShow();\r\n\t\t\t}\r\n\r\n\t\t\tif(!this._childOfLayoutWidget){\r\n\t\t\t\t// Since my parent isn't a layout container, and my style *may be* width=height=100%\r\n\t\t\t\t// or something similar (either set directly or via a CSS class),\r\n\t\t\t\t// monitor when viewport size changes so that I can re-layout.\r\n\t\t\t\t// This is more for subclasses of ContentPane than ContentPane itself, although it\r\n\t\t\t\t// could be useful for a ContentPane if it has a single child widget inheriting ContentPane's size.\r\n\t\t\t\tthis.own(Viewport.on(\"resize\", lang.hitch(this, \"resize\")));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_checkIfSingleChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTest if we have exactly one visible widget as a child,\r\n\t\t\t//\t\tand if so assume that we are a container for that widget,\r\n\t\t\t//\t\tand should propagate startup() and resize() calls to it.\r\n\t\t\t//\t\tSkips over things like data stores since they aren't visible.\r\n\r\n\t\t\tif(!this.doLayout){ return; }\r\n\r\n\t\t\tvar candidateWidgets = [],\r\n\t\t\t\totherVisibleNodes = false;\r\n\r\n\t\t\tquery(\"> *\", this.containerNode).some(function(node){\r\n\t\t\t\tvar widget = registry.byNode(node);\r\n\t\t\t\tif(widget && widget.resize){\r\n\t\t\t\t\tcandidateWidgets.push(widget);\r\n\t\t\t\t}else if(!/script|link|style/i.test(node.nodeName) && node.offsetHeight){\r\n\t\t\t\t\totherVisibleNodes = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis._singleChild = candidateWidgets.length == 1 && !otherVisibleNodes ?\r\n\t\t\t\tcandidateWidgets[0] : null;\r\n\r\n\t\t\t// So we can set overflow: hidden to avoid a safari bug w/scrollbars showing up (#9449)\r\n\t\t\tdomClass.toggle(this.containerNode, this.baseClass + \"SingleChild\", !!this._singleChild);\r\n\t\t},\r\n\r\n\t\tresize: function(changeSize, resultSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSee `dijit/layout/_LayoutWidget.resize()` for description.\r\n\t\t\t//\t\tAlthough ContentPane doesn't extend _LayoutWidget, it does implement\r\n\t\t\t//\t\tthe same API.\r\n\r\n\t\t\tthis._resizeCalled = true;\r\n\r\n\t\t\tthis._scheduleLayout(changeSize, resultSize);\r\n\t\t},\r\n\r\n\t\t_scheduleLayout: function(changeSize, resultSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResize myself, and call resize() on each of my child layout widgets, either now\r\n\t\t\t//\t\t(if I'm currently visible) or when I become visible\r\n\t\t\tif(this._isShown()){\r\n\t\t\t\tthis._layout(changeSize, resultSize);\r\n\t\t\t}else{\r\n\t\t\t\tthis._needLayout = true;\r\n\t\t\t\tthis._changeSize = changeSize;\r\n\t\t\t\tthis._resultSize = resultSize;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_layout: function(changeSize, resultSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResize myself according to optional changeSize/resultSize parameters, like a layout widget.\r\n\t\t\t//\t\tAlso, since I am an isLayoutContainer widget, each of my children expects me to\r\n\t\t\t//\t\tcall resize() or layout() on it.\r\n\t\t\t//\r\n\t\t\t//\t\tShould be called on initialization and also whenever we get new content\r\n\t\t\t//\t\t(from an href, or from set('content', ...))... but deferred until\r\n\t\t\t//\t\tthe ContentPane is visible\r\n\r\n\t\t\tdelete this._needLayout;\r\n\r\n\t\t\t// For the TabContainer --> BorderContainer --> ContentPane case, _onShow() is\r\n\t\t\t// never called directly, so resize() is our trigger to do the initial href download (see [20099]).\r\n\t\t\t// However, don't load href for closed TitlePanes.\r\n\t\t\tif(!this._wasShown && this.open !== false){\r\n\t\t\t\tthis._onShow();\r\n\t\t\t}\r\n\r\n\t\t\t// Set margin box size, unless it wasn't specified, in which case use current size.\r\n\t\t\tif(changeSize){\r\n\t\t\t\tdomGeometry.setMarginBox(this.domNode, changeSize);\r\n\t\t\t}\r\n\r\n\t\t\t// Compute content box size of containerNode in case we [later] need to size our single child.\r\n\t\t\tvar cn = this.containerNode;\r\n\t\t\tif(cn === this.domNode){\r\n\t\t\t\t// If changeSize or resultSize was passed to this method and this.containerNode ==\r\n\t\t\t\t// this.domNode then we can compute the content-box size without querying the node,\r\n\t\t\t\t// which is more reliable (similar to LayoutWidget.resize) (see for example #9449).\r\n\t\t\t\tvar mb = resultSize || {};\r\n\t\t\t\tlang.mixin(mb, changeSize || {}); // changeSize overrides resultSize\r\n\t\t\t\tif(!(\"h\" in mb) || !(\"w\" in mb)){\r\n\t\t\t\t\tmb = lang.mixin(domGeometry.getMarginBox(cn), mb); // just use domGeometry.setMarginBox() to fill in missing values\r\n\t\t\t\t}\r\n\t\t\t\tthis._contentBox = layoutUtils.marginBox2contentBox(cn, mb);\r\n\t\t\t}else{\r\n\t\t\t\tthis._contentBox = domGeometry.getContentBox(cn);\r\n\t\t\t}\r\n\r\n\t\t\tthis._layoutChildren();\r\n\t\t},\r\n\r\n\t\t_layoutChildren: function(){\r\n\t\t\t// Call _checkIfSingleChild() again in case app has manually mucked w/the content\r\n\t\t\t// of the ContentPane (rather than changing it through the set(\"content\", ...) API.\r\n\t\t\tthis._checkIfSingleChild();\r\n\r\n\t\t\tif(this._singleChild && this._singleChild.resize){\r\n\t\t\t\tvar cb = this._contentBox || domGeometry.getContentBox(this.containerNode);\r\n\r\n\t\t\t\t// note: if widget has padding this._contentBox will have l and t set,\r\n\t\t\t\t// but don't pass them to resize() or it will doubly-offset the child\r\n\t\t\t\tthis._singleChild.resize({w: cb.w, h: cb.h});\r\n\t\t\t}else{\r\n\t\t\t\t// All my child widgets are independently sized (rather than matching my size),\r\n\t\t\t\t// but I still need to call resize() on each child to make it layout.\r\n\t\t\t\tvar children = this.getChildren(),\r\n\t\t\t\t\twidget,\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\twhile(widget = children[i++]){\r\n\t\t\t\t\tif(widget.resize){\r\n\t\t\t\t\t\twidget.resize();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_isShown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if the content is currently shown.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf I am a child of a layout widget then it actually returns true if I've ever been visible,\r\n\t\t\t//\t\tnot whether I'm currently visible, since that's much faster than tracing up the DOM/widget\r\n\t\t\t//\t\ttree every call, and at least solves the performance problem on page load by deferring loading\r\n\t\t\t//\t\thidden ContentPanes until they are first shown\r\n\r\n\t\t\tif(this._childOfLayoutWidget){\r\n\t\t\t\t// If we are TitlePane, etc - we return that only *IF* we've been resized\r\n\t\t\t\tif(this._resizeCalled && \"open\" in this){\r\n\t\t\t\t\treturn this.open;\r\n\t\t\t\t}\r\n\t\t\t\treturn this._resizeCalled;\r\n\t\t\t}else if(\"open\" in this){\r\n\t\t\t\treturn this.open;\t\t// for TitlePane, etc.\r\n\t\t\t}else{\r\n\t\t\t\tvar node = this.domNode, parent = this.domNode.parentNode;\r\n\t\t\t\treturn (node.style.display != 'none') && (node.style.visibility != 'hidden') && !domClass.contains(node, \"dijitHidden\") &&\r\n\t\t\t\t\tparent && parent.style && (parent.style.display != 'none');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onShow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the ContentPane is made visible\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor a plain ContentPane, this is called on initialization, from startup().\r\n\t\t\t//\t\tIf the ContentPane is a hidden pane of a TabContainer etc., then it's\r\n\t\t\t//\t\tcalled whenever the pane is made visible.\r\n\t\t\t//\r\n\t\t\t//\t\tDoes layout/resize of child widget(s)\r\n\r\n\t\t\t// Need to keep track of whether ContentPane has been shown (which is different than\r\n\t\t\t// whether or not it's currently visible).\r\n\t\t\tthis._wasShown = true;\r\n\r\n\t\t\tif(this._needLayout){\r\n\t\t\t\t// If a layout has been scheduled for when we become visible, do it now\r\n\t\t\t\tthis._layout(this._changeSize, this._resultSize);\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/html',[\"./_base/kernel\", \"./_base/lang\", \"./_base/array\", \"./_base/declare\", \"./dom\", \"./dom-construct\", \"./parser\"],\r\n\tfunction(kernel, lang, darray, declare, dom, domConstruct, parser){\r\n\t// module:\r\n\t//\t\tdojo/html\r\n\r\n\t// the parser might be needed..\r\n\r\n\t// idCounter is incremented with each instantiation to allow assignment of a unique id for tracking, logging purposes\r\n\tvar idCounter = 0;\r\n\r\n\tvar html = {\r\n\t\t// summary:\r\n\t\t//\t\tTODOC\r\n\r\n\t\t_secureForInnerHtml: function(/*String*/ cont){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremoves !DOCTYPE and title elements from the html string.\r\n\t\t\t//\r\n\t\t\t//\t\tkhtml is picky about dom faults, you can't attach a style or `<title>` node as child of body\r\n\t\t\t//\t\tmust go into head, so we need to cut out those tags\r\n\t\t\t// cont:\r\n\t\t\t//\t\tAn html string for insertion into the dom\r\n\t\t\t//\r\n\t\t\treturn cont.replace(/(?:\\s*<!DOCTYPE\\s[^>]+>|<title[^>]*>[\\s\\S]*?<\\/title>)/ig, \"\"); // String\r\n\t\t},\r\n\r\n\t\t// Deprecated, should use dojo/dom-constuct.empty() directly, remove in 2.0.\r\n\t\t_emptyNode: domConstruct.empty,\r\n\r\n\t\t_setNodeContent: function(/*DomNode*/ node, /*String|DomNode|NodeList*/ cont){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tinserts the given content into the given node\r\n\t\t\t// node:\r\n\t\t\t//\t\tthe parent element\r\n\t\t\t// content:\r\n\t\t\t//\t\tthe content to be set on the parent element.\r\n\t\t\t//\t\tThis can be an html string, a node reference or a NodeList, dojo/NodeList, Array or other enumerable list of nodes\r\n\r\n\t\t\t// always empty\r\n\t\t\tdomConstruct.empty(node);\r\n\r\n\t\t\tif(cont){\r\n\t\t\t\tif(typeof cont == \"string\"){\r\n\t\t\t\t\tcont = domConstruct.toDom(cont, node.ownerDocument);\r\n\t\t\t\t}\r\n\t\t\t\tif(!cont.nodeType && lang.isArrayLike(cont)){\r\n\t\t\t\t\t// handle as enumerable, but it may shrink as we enumerate it\r\n\t\t\t\t\tfor(var startlen=cont.length, i=0; i<cont.length; i=startlen==cont.length ? i+1 : 0){\r\n\t\t\t\t\t\tdomConstruct.place( cont[i], node, \"last\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// pass nodes, documentFragments and unknowns through to dojo.place\r\n\t\t\t\t\tdomConstruct.place(cont, node, \"last\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// return DomNode\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t// we wrap up the content-setting operation in a object\r\n\t\t_ContentSetter: declare(\"dojo.html._ContentSetter\", null, {\r\n\t\t\t// node: DomNode|String\r\n\t\t\t//\t\tAn node which will be the parent element that we set content into\r\n\t\t\tnode: \"\",\r\n\r\n\t\t\t// content: String|DomNode|DomNode[]\r\n\t\t\t//\t\tThe content to be placed in the node. Can be an HTML string, a node reference, or a enumerable list of nodes\r\n\t\t\tcontent: \"\",\r\n\r\n\t\t\t// id: String?\r\n\t\t\t//\t\tUsually only used internally, and auto-generated with each instance\r\n\t\t\tid: \"\",\r\n\r\n\t\t\t// cleanContent: Boolean\r\n\t\t\t//\t\tShould the content be treated as a full html document,\r\n\t\t\t//\t\tand the real content stripped of <html>, <body> wrapper before injection\r\n\t\t\tcleanContent: false,\r\n\r\n\t\t\t// extractContent: Boolean\r\n\t\t\t//\t\tShould the content be treated as a full html document,\r\n\t\t\t//\t\tand the real content stripped of `<html> <body>` wrapper before injection\r\n\t\t\textractContent: false,\r\n\r\n\t\t\t// parseContent: Boolean\r\n\t\t\t//\t\tShould the node by passed to the parser after the new content is set\r\n\t\t\tparseContent: false,\r\n\r\n\t\t\t// parserScope: String\r\n\t\t\t//\t\tFlag passed to parser.\tRoot for attribute names to search for.\t  If scopeName is dojo,\r\n\t\t\t//\t\twill search for data-dojo-type (or dojoType).  For backwards compatibility\r\n\t\t\t//\t\treasons defaults to dojo._scopeName (which is \"dojo\" except when\r\n\t\t\t//\t\tmulti-version support is used, when it will be something like dojo16, dojo20, etc.)\r\n\t\t\tparserScope: kernel._scopeName,\r\n\r\n\t\t\t// startup: Boolean\r\n\t\t\t//\t\tStart the child widgets after parsing them.\t  Only obeyed if parseContent is true.\r\n\t\t\tstartup: true,\r\n\r\n\t\t\t// lifecycle methods\r\n\t\t\tconstructor: function(/*Object*/ params, /*String|DomNode*/ node){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tProvides a configurable, extensible object to wrap the setting on content on a node\r\n\t\t\t\t//\t\tcall the set() method to actually set the content..\r\n\r\n\t\t\t\t// the original params are mixed directly into the instance \"this\"\r\n\t\t\t\tlang.mixin(this, params || {});\r\n\r\n\t\t\t\t// give precedence to params.node vs. the node argument\r\n\t\t\t\t// and ensure its a node, not an id string\r\n\t\t\t\tnode = this.node = dom.byId( this.node || node );\r\n\r\n\t\t\t\tif(!this.id){\r\n\t\t\t\t\tthis.id = [\r\n\t\t\t\t\t\t\"Setter\",\r\n\t\t\t\t\t\t(node) ? node.id || node.tagName : \"\",\r\n\t\t\t\t\t\tidCounter++\r\n\t\t\t\t\t].join(\"_\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset: function(/* String|DomNode|NodeList? */ cont, /*Object?*/ params){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tfront-end to the set-content sequence\r\n\t\t\t\t// cont:\r\n\t\t\t\t//\t\tAn html string, node or enumerable list of nodes for insertion into the dom\r\n\t\t\t\t//\t\tIf not provided, the object's content property will be used\r\n\t\t\t\tif(undefined !== cont){\r\n\t\t\t\t\tthis.content = cont;\r\n\t\t\t\t}\r\n\t\t\t\t// in the re-use scenario, set needs to be able to mixin new configuration\r\n\t\t\t\tif(params){\r\n\t\t\t\t\tthis._mixin(params);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.onBegin();\r\n\t\t\t\tthis.setContent();\r\n\r\n\t\t\t\tvar ret = this.onEnd();\r\n\r\n\t\t\t\tif(ret && ret.then){\r\n\t\t\t\t\t// Make dojox/html/_ContentSetter.set() return a Promise that resolves when load and parse complete.\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Vanilla dojo/html._ContentSetter.set() returns a DOMNode for back compat.   For 2.0, switch it to\r\n\t\t\t\t\t// return a Deferred like above.\r\n\t\t\t\t\treturn this.node;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tsetContent: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tsets the content on the node\r\n\r\n\t\t\t\tvar node = this.node;\r\n\t\t\t\tif(!node){\r\n\t\t\t\t\t// can't proceed\r\n\t\t\t\t\tthrow new Error(this.declaredClass + \": setContent given no node\");\r\n\t\t\t\t}\r\n\t\t\t\ttry{\r\n\t\t\t\t\tnode = html._setNodeContent(node, this.content);\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t// check if a domfault occurs when we are appending this.errorMessage\r\n\t\t\t\t\t// like for instance if domNode is a UL and we try append a DIV\r\n\r\n\t\t\t\t\t// FIXME: need to allow the user to provide a content error message string\r\n\t\t\t\t\tvar errMess = this.onContentError(e);\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tnode.innerHTML = errMess;\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tconsole.error('Fatal ' + this.declaredClass + '.setContent could not change content due to '+e.message, e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// always put back the node for the next method\r\n\t\t\t\tthis.node = node; // DomNode\r\n\t\t\t},\r\n\r\n\t\t\tempty: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tcleanly empty out existing content\r\n\r\n\t\t\t\t// If there is a parse in progress, cancel it.\r\n\t\t\t\tif(this.parseDeferred){\r\n\t\t\t\t\tif(!this.parseDeferred.isResolved()){\r\n\t\t\t\t\t\tthis.parseDeferred.cancel();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete this.parseDeferred;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// destroy any widgets from a previous run\r\n\t\t\t\t// NOTE: if you don't want this you'll need to empty\r\n\t\t\t\t// the parseResults array property yourself to avoid bad things happening\r\n\t\t\t\tif(this.parseResults && this.parseResults.length){\r\n\t\t\t\t\tdarray.forEach(this.parseResults, function(w){\r\n\t\t\t\t\t\tif(w.destroy){\r\n\t\t\t\t\t\t\tw.destroy();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdelete this.parseResults;\r\n\t\t\t\t}\r\n\t\t\t\t// this is fast, but if you know its already empty or safe, you could\r\n\t\t\t\t// override empty to skip this step\r\n\t\t\t\tdomConstruct.empty(this.node);\r\n\t\t\t},\r\n\r\n\t\t\tonBegin: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tCalled after instantiation, but before set();\r\n\t\t\t\t//\t\tIt allows modification of any of the object properties -\r\n\t\t\t\t//\t\tincluding the node and content provided - before the set operation actually takes place\r\n\t\t\t\t//\t\tThis default implementation checks for cleanContent and extractContent flags to\r\n\t\t\t\t//\t\toptionally pre-process html string content\r\n\t\t\t\tvar cont = this.content;\r\n\r\n\t\t\t\tif(lang.isString(cont)){\r\n\t\t\t\t\tif(this.cleanContent){\r\n\t\t\t\t\t\tcont = html._secureForInnerHtml(cont);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(this.extractContent){\r\n\t\t\t\t\t\tvar match = cont.match(/<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im);\r\n\t\t\t\t\t\tif(match){ cont = match[1]; }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// clean out the node and any cruft associated with it - like widgets\r\n\t\t\t\tthis.empty();\r\n\r\n\t\t\t\tthis.content = cont;\r\n\t\t\t\treturn this.node; // DomNode\r\n\t\t\t},\r\n\r\n\t\t\tonEnd: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tCalled after set(), when the new content has been pushed into the node\r\n\t\t\t\t//\t\tIt provides an opportunity for post-processing before handing back the node to the caller\r\n\t\t\t\t//\t\tThis default implementation checks a parseContent flag to optionally run the dojo parser over the new content\r\n\t\t\t\tif(this.parseContent){\r\n\t\t\t\t\t// populates this.parseResults and this.parseDeferred if you need those..\r\n\t\t\t\t\tthis._parse();\r\n\t\t\t\t}\r\n\t\t\t\treturn this.node; // DomNode\r\n\t\t\t\t// TODO: for 2.0 return a Promise indicating that the parse completed.\r\n\t\t\t},\r\n\r\n\t\t\ttearDown: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tmanually reset the Setter instance if its being re-used for example for another set()\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\ttearDown() is not called automatically.\r\n\t\t\t\t//\t\tIn normal use, the Setter instance properties are simply allowed to fall out of scope\r\n\t\t\t\t//\t\tbut the tearDown method can be called to explicitly reset this instance.\r\n\t\t\t\tdelete this.parseResults;\r\n\t\t\t\tdelete this.parseDeferred;\r\n\t\t\t\tdelete this.node;\r\n\t\t\t\tdelete this.content;\r\n\t\t\t},\r\n\r\n\t\t\tonContentError: function(err){\r\n\t\t\t\treturn \"Error occurred setting content: \" + err;\r\n\t\t\t},\r\n\r\n\t\t\tonExecError: function(err){\r\n\t\t\t\treturn \"Error occurred executing scripts: \" + err;\r\n\t\t\t},\r\n\r\n\t\t\t_mixin: function(params){\r\n\t\t\t\t// mix properties/methods into the instance\r\n\t\t\t\t// TODO: the intention with tearDown is to put the Setter's state\r\n\t\t\t\t// back to that of the original constructor (vs. deleting/resetting everything regardless of ctor params)\r\n\t\t\t\t// so we could do something here to move the original properties aside for later restoration\r\n\t\t\t\tvar empty = {}, key;\r\n\t\t\t\tfor(key in params){\r\n\t\t\t\t\tif(key in empty){ continue; }\r\n\t\t\t\t\t// TODO: here's our opportunity to mask the properties we don't consider configurable/overridable\r\n\t\t\t\t\t// .. but history shows we'll almost always guess wrong\r\n\t\t\t\t\tthis[key] = params[key];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_parse: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\truns the dojo parser over the node contents, storing any results in this.parseResults\r\n\t\t\t\t//\t\tand the parse promise in this.parseDeferred\r\n\t\t\t\t//\t\tAny errors resulting from parsing are passed to _onError for handling\r\n\r\n\t\t\t\tvar rootNode = this.node;\r\n\t\t\t\ttry{\r\n\t\t\t\t\t// store the results (widgets, whatever) for potential retrieval\r\n\t\t\t\t\tvar inherited = {};\r\n\t\t\t\t\tdarray.forEach([\"dir\", \"lang\", \"textDir\"], function(name){\r\n\t\t\t\t\t\tif(this[name]){\r\n\t\t\t\t\t\t\tinherited[name] = this[name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t\tvar self = this;\r\n\t\t\t\t\tthis.parseDeferred = parser.parse({\r\n\t\t\t\t\t\trootNode: rootNode,\r\n\t\t\t\t\t\tnoStart: !this.startup,\r\n\t\t\t\t\t\tinherited: inherited,\r\n\t\t\t\t\t\tscope: this.parserScope\r\n\t\t\t\t\t}).then(function(results){\r\n\t\t\t\t\t\t\treturn self.parseResults = results;\r\n\t\t\t\t\t\t}, function(e){\r\n\t\t\t\t\t\t\tself._onError('Content', e, \"Error parsing in _ContentSetter#\" + this.id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tthis._onError('Content', e, \"Error parsing in _ContentSetter#\" + this.id);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t_onError: function(type, err, consoleText){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tshows user the string that is returned by on[type]Error\r\n\t\t\t\t//\t\toverride/implement on[type]Error and return your own string to customize\r\n\t\t\t\tvar errText = this['on' + type + 'Error'].call(this, err);\r\n\t\t\t\tif(consoleText){\r\n\t\t\t\t\tconsole.error(consoleText, err);\r\n\t\t\t\t}else if(errText){ // a empty string won't change current content\r\n\t\t\t\t\thtml._setNodeContent(this.node, errText, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}), // end declare()\r\n\r\n\t\tset: function(/*DomNode*/ node, /*String|DomNode|NodeList*/ cont, /*Object?*/ params){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tinserts (replaces) the given content into the given node. dojo/dom-construct.place(cont, node, \"only\")\r\n\t\t\t//\t\tmay be a better choice for simple HTML insertion.\r\n\t\t\t// description:\r\n\t\t\t//\t\tUnless you need to use the params capabilities of this method, you should use\r\n\t\t\t//\t\tdojo/dom-construct.place(cont, node, \"only\"). dojo/dom-construct..place() has more robust support for injecting\r\n\t\t\t//\t\tan HTML string into the DOM, but it only handles inserting an HTML string as DOM\r\n\t\t\t//\t\telements, or inserting a DOM node. dojo/dom-construct..place does not handle NodeList insertions\r\n\t\t\t//\t\tdojo/dom-construct.place(cont, node, \"only\"). dojo/dom-construct.place() has more robust support for injecting\r\n\t\t\t//\t\tan HTML string into the DOM, but it only handles inserting an HTML string as DOM\r\n\t\t\t//\t\telements, or inserting a DOM node. dojo/dom-construct.place does not handle NodeList insertions\r\n\t\t\t//\t\tor the other capabilities as defined by the params object for this method.\r\n\t\t\t// node:\r\n\t\t\t//\t\tthe parent element that will receive the content\r\n\t\t\t// cont:\r\n\t\t\t//\t\tthe content to be set on the parent element.\r\n\t\t\t//\t\tThis can be an html string, a node reference or a NodeList, dojo/NodeList, Array or other enumerable list of nodes\r\n\t\t\t// params:\r\n\t\t\t//\t\tOptional flags/properties to configure the content-setting. See dojo/html/_ContentSetter\r\n\t\t\t// example:\r\n\t\t\t//\t\tA safe string/node/nodelist content replacement/injection with hooks for extension\r\n\t\t\t//\t\tExample Usage:\r\n\t\t\t//\t|\thtml.set(node, \"some string\");\r\n\t\t\t//\t|\thtml.set(node, contentNode, {options});\r\n\t\t\t//\t|\thtml.set(node, myNode.childNodes, {options});\r\n\t\t\tif(undefined == cont){\r\n\t\t\t\tconsole.warn(\"dojo.html.set: no cont argument provided, using empty string\");\r\n\t\t\t\tcont = \"\";\r\n\t\t\t}\r\n\t\t\tif(!params){\r\n\t\t\t\t// simple and fast\r\n\t\t\t\treturn html._setNodeContent(node, cont, true);\r\n\t\t\t}else{\r\n\t\t\t\t// more options but slower\r\n\t\t\t\t// note the arguments are reversed in order, to match the convention for instantiation via the parser\r\n\t\t\t\tvar op = new html._ContentSetter(lang.mixin(\r\n\t\t\t\t\tparams,\r\n\t\t\t\t\t{ content: cont, node: node }\r\n\t\t\t\t));\r\n\t\t\t\treturn op.set();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tlang.setObject(\"dojo.html\", html);\r\n\r\n\treturn html;\r\n});\r\n\n\ndefine('dojo/_base/Deferred',[\r\n\t\"./kernel\",\r\n\t\"../Deferred\",\r\n\t\"../promise/Promise\",\r\n\t\"../errors/CancelError\",\r\n\t\"../has\",\r\n\t\"./lang\",\r\n\t\"../when\"\r\n], function(dojo, NewDeferred, Promise, CancelError, has, lang, when){\r\n\t// module:\r\n\t//\t\tdojo/_base/Deferred\r\n\r\n\tvar mutator = function(){};\r\n\tvar freeze = Object.freeze || function(){};\r\n\t// A deferred provides an API for creating and resolving a promise.\r\n\tvar Deferred = dojo.Deferred = function(/*Function?*/ canceller){\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.   This module defines the legacy dojo/_base/Deferred API.\r\n\t\t//\t\tNew code should use dojo/Deferred instead.\r\n\t\t// description:\r\n\t\t//\t\tThe Deferred API is based on the concept of promises that provide a\r\n\t\t//\t\tgeneric interface into the eventual completion of an asynchronous action.\r\n\t\t//\t\tThe motivation for promises fundamentally is about creating a\r\n\t\t//\t\tseparation of concerns that allows one to achieve the same type of\r\n\t\t//\t\tcall patterns and logical data flow in asynchronous code as can be\r\n\t\t//\t\tachieved in synchronous code. Promises allows one\r\n\t\t//\t\tto be able to call a function purely with arguments needed for\r\n\t\t//\t\texecution, without conflating the call with concerns of whether it is\r\n\t\t//\t\tsync or async. One shouldn't need to alter a call's arguments if the\r\n\t\t//\t\timplementation switches from sync to async (or vice versa). By having\r\n\t\t//\t\tasync functions return promises, the concerns of making the call are\r\n\t\t//\t\tseparated from the concerns of asynchronous interaction (which are\r\n\t\t//\t\thandled by the promise).\r\n\t\t//\r\n\t\t//\t\tThe Deferred is a type of promise that provides methods for fulfilling the\r\n\t\t//\t\tpromise with a successful result or an error. The most important method for\r\n\t\t//\t\tworking with Dojo's promises is the then() method, which follows the\r\n\t\t//\t\tCommonJS proposed promise API. An example of using a Dojo promise:\r\n\t\t//\r\n\t\t//\t\t|\tvar resultingPromise = someAsyncOperation.then(function(result){\r\n\t\t//\t\t|\t\t... handle result ...\r\n\t\t//\t\t|\t},\r\n\t\t//\t\t|\tfunction(error){\r\n\t\t//\t\t|\t\t... handle error ...\r\n\t\t//\t\t|\t});\r\n\t\t//\r\n\t\t//\t\tThe .then() call returns a new promise that represents the result of the\r\n\t\t//\t\texecution of the callback. The callbacks will never affect the original promises value.\r\n\t\t//\r\n\t\t//\t\tThe Deferred instances also provide the following functions for backwards compatibility:\r\n\t\t//\r\n\t\t//\t\t- addCallback(handler)\r\n\t\t//\t\t- addErrback(handler)\r\n\t\t//\t\t- callback(result)\r\n\t\t//\t\t- errback(result)\r\n\t\t//\r\n\t\t//\t\tCallbacks are allowed to return promises themselves, so\r\n\t\t//\t\tyou can build complicated sequences of events with ease.\r\n\t\t//\r\n\t\t//\t\tThe creator of the Deferred may specify a canceller.  The canceller\r\n\t\t//\t\tis a function that will be called if Deferred.cancel is called\r\n\t\t//\t\tbefore the Deferred fires. You can use this to implement clean\r\n\t\t//\t\taborting of an XMLHttpRequest, etc. Note that cancel will fire the\r\n\t\t//\t\tdeferred with a CancelledError (unless your canceller returns\r\n\t\t//\t\tanother kind of error), so the errbacks should be prepared to\r\n\t\t//\t\thandle that error for cancellable Deferreds.\r\n\t\t// example:\r\n\t\t//\t|\tvar deferred = new Deferred();\r\n\t\t//\t|\tsetTimeout(function(){ deferred.callback({success: true}); }, 1000);\r\n\t\t//\t|\treturn deferred;\r\n\t\t// example:\r\n\t\t//\t\tDeferred objects are often used when making code asynchronous. It\r\n\t\t//\t\tmay be easiest to write functions in a synchronous manner and then\r\n\t\t//\t\tsplit code using a deferred to trigger a response to a long-lived\r\n\t\t//\t\toperation. For example, instead of register a callback function to\r\n\t\t//\t\tdenote when a rendering operation completes, the function can\r\n\t\t//\t\tsimply return a deferred:\r\n\t\t//\r\n\t\t//\t\t|\t// callback style:\r\n\t\t//\t\t|\tfunction renderLotsOfData(data, callback){\r\n\t\t//\t\t|\t\tvar success = false\r\n\t\t//\t\t|\t\ttry{\r\n\t\t//\t\t|\t\t\tfor(var x in data){\r\n\t\t//\t\t|\t\t\t\trenderDataitem(data[x]);\r\n\t\t//\t\t|\t\t\t}\r\n\t\t//\t\t|\t\t\tsuccess = true;\r\n\t\t//\t\t|\t\t}catch(e){ }\r\n\t\t//\t\t|\t\tif(callback){\r\n\t\t//\t\t|\t\t\tcallback(success);\r\n\t\t//\t\t|\t\t}\r\n\t\t//\t\t|\t}\r\n\t\t//\r\n\t\t//\t\t|\t// using callback style\r\n\t\t//\t\t|\trenderLotsOfData(someDataObj, function(success){\r\n\t\t//\t\t|\t\t// handles success or failure\r\n\t\t//\t\t|\t\tif(!success){\r\n\t\t//\t\t|\t\t\tpromptUserToRecover();\r\n\t\t//\t\t|\t\t}\r\n\t\t//\t\t|\t});\r\n\t\t//\t\t|\t// NOTE: no way to add another callback here!!\r\n\t\t// example:\r\n\t\t//\t\tUsing a Deferred doesn't simplify the sending code any, but it\r\n\t\t//\t\tprovides a standard interface for callers and senders alike,\r\n\t\t//\t\tproviding both with a simple way to service multiple callbacks for\r\n\t\t//\t\tan operation and freeing both sides from worrying about details\r\n\t\t//\t\tsuch as \"did this get called already?\". With Deferreds, new\r\n\t\t//\t\tcallbacks can be added at any time.\r\n\t\t//\r\n\t\t//\t\t|\t// Deferred style:\r\n\t\t//\t\t|\tfunction renderLotsOfData(data){\r\n\t\t//\t\t|\t\tvar d = new Deferred();\r\n\t\t//\t\t|\t\ttry{\r\n\t\t//\t\t|\t\t\tfor(var x in data){\r\n\t\t//\t\t|\t\t\t\trenderDataitem(data[x]);\r\n\t\t//\t\t|\t\t\t}\r\n\t\t//\t\t|\t\t\td.callback(true);\r\n\t\t//\t\t|\t\t}catch(e){\r\n\t\t//\t\t|\t\t\td.errback(new Error(\"rendering failed\"));\r\n\t\t//\t\t|\t\t}\r\n\t\t//\t\t|\t\treturn d;\r\n\t\t//\t\t|\t}\r\n\t\t//\r\n\t\t//\t\t|\t// using Deferred style\r\n\t\t//\t\t|\trenderLotsOfData(someDataObj).then(null, function(){\r\n\t\t//\t\t|\t\tpromptUserToRecover();\r\n\t\t//\t\t|\t});\r\n\t\t//\t\t|\t// NOTE: addErrback and addCallback both return the Deferred\r\n\t\t//\t\t|\t// again, so we could chain adding callbacks or save the\r\n\t\t//\t\t|\t// deferred for later should we need to be notified again.\r\n\t\t// example:\r\n\t\t//\t\tIn this example, renderLotsOfData is synchronous and so both\r\n\t\t//\t\tversions are pretty artificial. Putting the data display on a\r\n\t\t//\t\ttimeout helps show why Deferreds rock:\r\n\t\t//\r\n\t\t//\t\t|\t// Deferred style and async func\r\n\t\t//\t\t|\tfunction renderLotsOfData(data){\r\n\t\t//\t\t|\t\tvar d = new Deferred();\r\n\t\t//\t\t|\t\tsetTimeout(function(){\r\n\t\t//\t\t|\t\t\ttry{\r\n\t\t//\t\t|\t\t\t\tfor(var x in data){\r\n\t\t//\t\t|\t\t\t\t\trenderDataitem(data[x]);\r\n\t\t//\t\t|\t\t\t\t}\r\n\t\t//\t\t|\t\t\t\td.callback(true);\r\n\t\t//\t\t|\t\t\t}catch(e){\r\n\t\t//\t\t|\t\t\t\td.errback(new Error(\"rendering failed\"));\r\n\t\t//\t\t|\t\t\t}\r\n\t\t//\t\t|\t\t}, 100);\r\n\t\t//\t\t|\t\treturn d;\r\n\t\t//\t\t|\t}\r\n\t\t//\r\n\t\t//\t\t|\t// using Deferred style\r\n\t\t//\t\t|\trenderLotsOfData(someDataObj).then(null, function(){\r\n\t\t//\t\t|\t\tpromptUserToRecover();\r\n\t\t//\t\t|\t});\r\n\t\t//\r\n\t\t//\t\tNote that the caller doesn't have to change his code at all to\r\n\t\t//\t\thandle the asynchronous case.\r\n\r\n\t\tvar result, finished, canceled, fired, isError, head, nextListener;\r\n\t\tvar promise = (this.promise = new Promise());\r\n\r\n\t\tfunction complete(value){\r\n\t\t\tif(finished){\r\n\t\t\t\tthrow new Error(\"This deferred has already been resolved\");\r\n\t\t\t}\r\n\t\t\tresult = value;\r\n\t\t\tfinished = true;\r\n\t\t\tnotify();\r\n\t\t}\r\n\t\tfunction notify(){\r\n\t\t\tvar mutated;\r\n\t\t\twhile(!mutated && nextListener){\r\n\t\t\t\tvar listener = nextListener;\r\n\t\t\t\tnextListener = nextListener.next;\r\n\t\t\t\tif((mutated = (listener.progress == mutator))){ // assignment and check\r\n\t\t\t\t\tfinished = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar func = (isError ? listener.error : listener.resolved);\r\n\t\t\t\tif(has(\"config-useDeferredInstrumentation\")){\r\n\t\t\t\t\tif(isError && NewDeferred.instrumentRejected){\r\n\t\t\t\t\t\tNewDeferred.instrumentRejected(result, !!func);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(func){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar newResult = func(result);\r\n\t\t\t\t\t\tif (newResult && typeof newResult.then === \"function\"){\r\n\t\t\t\t\t\t\tnewResult.then(lang.hitch(listener.deferred, \"resolve\"), lang.hitch(listener.deferred, \"reject\"), lang.hitch(listener.deferred, \"progress\"));\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar unchanged = mutated && newResult === undefined;\r\n\t\t\t\t\t\tif(mutated && !unchanged){\r\n\t\t\t\t\t\t\tisError = newResult instanceof Error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlistener.deferred[unchanged && isError ? \"reject\" : \"resolve\"](unchanged ? result : newResult);\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tlistener.deferred.reject(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(isError){\r\n\t\t\t\t\t\tlistener.deferred.reject(result);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlistener.deferred.resolve(result);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.isResolved = promise.isResolved = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been resolved.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn fired == 0;\r\n\t\t};\r\n\r\n\t\tthis.isRejected = promise.isRejected = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn fired == 1;\r\n\t\t};\r\n\r\n\t\tthis.isFulfilled = promise.isFulfilled = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been resolved or rejected.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn fired >= 0;\r\n\t\t};\r\n\r\n\t\tthis.isCanceled = promise.isCanceled = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks whether the deferred has been canceled.\r\n\t\t\t// returns: Boolean\r\n\r\n\t\t\treturn canceled;\r\n\t\t};\r\n\r\n\t\t// calling resolve will resolve the promise\r\n\t\tthis.resolve = this.callback = function(value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFulfills the Deferred instance successfully with the provide value\r\n\t\t\tthis.fired = fired = 0;\r\n\t\t\tthis.results = [value, null];\r\n\t\t\tcomplete(value);\r\n\t\t};\r\n\r\n\r\n\t\t// calling error will indicate that the promise failed\r\n\t\tthis.reject = this.errback = function(error){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFulfills the Deferred instance as an error with the provided error\r\n\t\t\tisError = true;\r\n\t\t\tthis.fired = fired = 1;\r\n\t\t\tif(has(\"config-useDeferredInstrumentation\")){\r\n\t\t\t\tif(NewDeferred.instrumentRejected){\r\n\t\t\t\t\tNewDeferred.instrumentRejected(error, !!nextListener);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcomplete(error);\r\n\t\t\tthis.results = [null, error];\r\n\t\t};\r\n\t\t// call progress to provide updates on the progress on the completion of the promise\r\n\t\tthis.progress = function(update){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSend progress events to all listeners\r\n\t\t\tvar listener = nextListener;\r\n\t\t\twhile(listener){\r\n\t\t\t\tvar progress = listener.progress;\r\n\t\t\t\tprogress && progress(update);\r\n\t\t\t\tlistener = listener.next;\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.addCallbacks = function(callback, errback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds callback and error callback for this deferred instance.\r\n\t\t\t// callback: Function?\r\n\t\t\t//\t\tThe callback attached to this deferred object.\r\n\t\t\t// errback: Function?\r\n\t\t\t//\t\tThe error callback attached to this deferred object.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns this deferred object.\r\n\t\t\tthis.then(callback, errback, mutator);\r\n\t\t\treturn this;\t// Deferred\r\n\t\t};\r\n\t\t// provide the implementation of the promise\r\n\t\tpromise.then = this.then = function(/*Function?*/resolvedCallback, /*Function?*/errorCallback, /*Function?*/progressCallback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds a fulfilledHandler, errorHandler, and progressHandler to be called for\r\n\t\t\t//\t\tcompletion of a promise. The fulfilledHandler is called when the promise\r\n\t\t\t//\t\tis fulfilled. The errorHandler is called when a promise fails. The\r\n\t\t\t//\t\tprogressHandler is called for progress events. All arguments are optional\r\n\t\t\t//\t\tand non-function values are ignored. The progressHandler is not only an\r\n\t\t\t//\t\toptional argument, but progress events are purely optional. Promise\r\n\t\t\t//\t\tproviders are not required to ever create progress events.\r\n\t\t\t//\r\n\t\t\t//\t\tThis function will return a new promise that is fulfilled when the given\r\n\t\t\t//\t\tfulfilledHandler or errorHandler callback is finished. This allows promise\r\n\t\t\t//\t\toperations to be chained together. The value returned from the callback\r\n\t\t\t//\t\thandler is the fulfillment value for the returned promise. If the callback\r\n\t\t\t//\t\tthrows an error, the returned promise will be moved to failed state.\r\n\t\t\t//\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns a new promise that represents the result of the\r\n\t\t\t//\t\texecution of the callback. The callbacks will never affect the original promises value.\r\n\t\t\t// example:\r\n\t\t\t//\t\tAn example of using a CommonJS compliant promise:\r\n\t\t\t//\t\t|\tasyncComputeTheAnswerToEverything().\r\n\t\t\t//\t\t|\t\tthen(addTwo).\r\n\t\t\t//\t\t|\t\tthen(printResult, onError);\r\n\t\t\t//\t\t|\t>44\r\n\t\t\t//\r\n\t\t\tvar returnDeferred = progressCallback == mutator ? this : new Deferred(promise.cancel);\r\n\t\t\tvar listener = {\r\n\t\t\t\tresolved: resolvedCallback,\r\n\t\t\t\terror: errorCallback,\r\n\t\t\t\tprogress: progressCallback,\r\n\t\t\t\tdeferred: returnDeferred\r\n\t\t\t};\r\n\t\t\tif(nextListener){\r\n\t\t\t\thead = head.next = listener;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tnextListener = head = listener;\r\n\t\t\t}\r\n\t\t\tif(finished){\r\n\t\t\t\tnotify();\r\n\t\t\t}\r\n\t\t\treturn returnDeferred.promise; // Promise\r\n\t\t};\r\n\t\tvar deferred = this;\r\n\t\tpromise.cancel = this.cancel = function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCancels the asynchronous operation\r\n\t\t\tif(!finished){\r\n\t\t\t\tvar error = canceller && canceller(deferred);\r\n\t\t\t\tif(!finished){\r\n\t\t\t\t\tif (!(error instanceof Error)){\r\n\t\t\t\t\t\terror = new CancelError(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror.log = false;\r\n\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcanceled = true;\r\n\t\t};\r\n\t\tfreeze(promise);\r\n\t};\r\n\tlang.extend(Deferred, {\r\n\t\taddCallback: function(/*Function*/ callback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds successful callback for this deferred instance.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns this deferred object.\r\n\t\t\treturn this.addCallbacks(lang.hitch.apply(dojo, arguments));\t// Deferred\r\n\t\t},\r\n\r\n\t\taddErrback: function(/*Function*/ errback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds error callback for this deferred instance.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns this deferred object.\r\n\t\t\treturn this.addCallbacks(null, lang.hitch.apply(dojo, arguments));\t// Deferred\r\n\t\t},\r\n\r\n\t\taddBoth: function(/*Function*/ callback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd handler as both successful callback and error callback for this deferred instance.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns this deferred object.\r\n\t\t\tvar enclosed = lang.hitch.apply(dojo, arguments);\r\n\t\t\treturn this.addCallbacks(enclosed, enclosed);\t// Deferred\r\n\t\t},\r\n\t\tfired: -1\r\n\t});\r\n\r\n\tDeferred.when = dojo.when = when;\r\n\r\n\treturn Deferred;\r\n});\r\n\ndefine('dojo/io-query',[\"./_base/lang\"], function(lang){\r\n\r\n// module:\r\n//\t\tdojo/io-query\r\n\r\nvar backstop = {};\r\n\r\nreturn {\r\n// summary:\r\n//\t\tThis module defines query string processing functions.\r\n\r\n\tobjectToQuery: function objectToQuery(/*Object*/ map){\r\n\t\t// summary:\r\n        //\t\ttakes a name/value mapping object and returns a string representing\r\n        //\t\ta URL-encoded version of that object.\r\n        // example:\r\n        //\t\tthis object:\r\n        //\r\n        //\t|\t{\r\n        //\t|\t\tblah: \"blah\",\r\n        //\t|\t\tmulti: [\r\n        //\t|\t\t\t\"thud\",\r\n        //\t|\t\t\t\"thonk\"\r\n        //\t|\t\t]\r\n        //\t|\t};\r\n        //\r\n        //\t\tyields the following query string:\r\n        //\r\n        //\t|\t\"blah=blah&multi=thud&multi=thonk\"\r\n\r\n        // FIXME: need to implement encodeAscii!!\r\n        var enc = encodeURIComponent, pairs = [];\r\n        for(var name in map){\r\n            var value = map[name];\r\n            if(value != backstop[name]){\r\n                var assign = enc(name) + \"=\";\r\n                if(lang.isArray(value)){\r\n                    for(var i = 0, l = value.length; i < l; ++i){\r\n                        pairs.push(assign + enc(value[i]));\r\n                    }\r\n                }else{\r\n                    pairs.push(assign + enc(value));\r\n                }\r\n            }\r\n        }\r\n        return pairs.join(\"&\"); // String\r\n    },\r\n\r\n\tqueryToObject: function queryToObject(/*String*/ str){\r\n        // summary:\r\n        //\t\tCreate an object representing a de-serialized query section of a\r\n        //\t\tURL. Query keys with multiple values are returned in an array.\r\n        //\r\n        // example:\r\n        //\t\tThis string:\r\n        //\r\n        //\t|\t\t\"foo=bar&foo=baz&thinger=%20spaces%20=blah&zonk=blarg&\"\r\n        //\r\n        //\t\tresults in this object structure:\r\n        //\r\n        //\t|\t\t{\r\n        //\t|\t\t\tfoo: [ \"bar\", \"baz\" ],\r\n        //\t|\t\t\tthinger: \" spaces =blah\",\r\n        //\t|\t\t\tzonk: \"blarg\"\r\n        //\t|\t\t}\r\n        //\r\n        //\t\tNote that spaces and other urlencoded entities are correctly\r\n        //\t\thandled.\r\n\r\n        // FIXME: should we grab the URL string if we're not passed one?\r\n        var dec = decodeURIComponent, qp = str.split(\"&\"), ret = {}, name, val;\r\n        for(var i = 0, l = qp.length, item; i < l; ++i){\r\n            item = qp[i];\r\n            if(item.length){\r\n                var s = item.indexOf(\"=\");\r\n                if(s < 0){\r\n                    name = dec(item);\r\n                    val = \"\";\r\n                }else{\r\n                    name = dec(item.slice(0, s));\r\n                    val  = dec(item.slice(s + 1));\r\n                }\r\n                if(typeof ret[name] == \"string\"){ // inline'd type check\r\n                    ret[name] = [ret[name]];\r\n                }\r\n\r\n                if(lang.isArray(ret[name])){\r\n                    ret[name].push(val);\r\n                }else{\r\n                    ret[name] = val;\r\n                }\r\n            }\r\n        }\r\n        return ret; // Object\r\n    }\r\n};\r\n});\ndefine('dojo/dom-form',[\"./_base/lang\", \"./dom\", \"./io-query\", \"./json\"], function(lang, dom, ioq, json){\r\n\t// module:\r\n\t//\t\tdojo/dom-form\r\n\r\n    function setValue(/*Object*/ obj, /*String*/ name, /*String*/ value){\r\n        // summary:\r\n        //\t\tFor the named property in object, set the value. If a value\r\n        //\t\talready exists and it is a string, convert the value to be an\r\n        //\t\tarray of values.\r\n\r\n        // Skip it if there is no value\r\n        if(value === null){\r\n            return;\r\n        }\r\n\r\n        var val = obj[name];\r\n        if(typeof val == \"string\"){ // inline'd type check\r\n            obj[name] = [val, value];\r\n        }else if(lang.isArray(val)){\r\n            val.push(value);\r\n        }else{\r\n            obj[name] = value;\r\n        }\r\n    }\r\n\r\n\tvar exclude = \"file|submit|image|reset|button\";\r\n\r\n\tvar form = {\r\n\t\t// summary:\r\n\t\t//\t\tThis module defines form-processing functions.\r\n\r\n\t\tfieldToObject: function fieldToObject(/*DOMNode|String*/ inputNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSerialize a form field to a JavaScript object.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns the value encoded in a form field as\r\n\t\t\t//\t\tas a string or an array of strings. Disabled form elements\r\n\t\t\t//\t\tand unchecked radio and checkboxes are skipped.\tMulti-select\r\n\t\t\t//\t\telements are returned as an array of string values.\r\n\t\t\t// inputNode: DOMNode|String\r\n\t\t\t// returns: Object\r\n\r\n\t\t\tvar ret = null;\r\n\t\t\tinputNode = dom.byId(inputNode);\r\n\t\t\tif(inputNode){\r\n\t\t\t\tvar _in = inputNode.name, type = (inputNode.type || \"\").toLowerCase();\r\n\t\t\t\tif(_in && type && !inputNode.disabled){\r\n\t\t\t\t\tif(type == \"radio\" || type == \"checkbox\"){\r\n\t\t\t\t\t\tif(inputNode.checked){\r\n\t\t\t\t\t\t\tret = inputNode.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(inputNode.multiple){\r\n\t\t\t\t\t\tret = [];\r\n\t\t\t\t\t\tvar nodes = [inputNode.firstChild];\r\n\t\t\t\t\t\twhile(nodes.length){\r\n\t\t\t\t\t\t\tfor(var node = nodes.pop(); node; node = node.nextSibling){\r\n\t\t\t\t\t\t\t\tif(node.nodeType == 1 && node.tagName.toLowerCase() == \"option\"){\r\n\t\t\t\t\t\t\t\t\tif(node.selected){\r\n\t\t\t\t\t\t\t\t\t\tret.push(node.value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tif(node.nextSibling){\r\n\t\t\t\t\t\t\t\t\t\tnodes.push(node.nextSibling);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(node.firstChild){\r\n\t\t\t\t\t\t\t\t\t\tnodes.push(node.firstChild);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tret = inputNode.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ret; // Object\r\n\t\t},\r\n\r\n\t\ttoObject: function formToObject(/*DOMNode|String*/ formNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSerialize a form node to a JavaScript object.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns the values encoded in an HTML form as\r\n\t\t\t//\t\tstring properties in an object which it then returns. Disabled form\r\n\t\t\t//\t\telements, buttons, and other non-value form elements are skipped.\r\n\t\t\t//\t\tMulti-select elements are returned as an array of string values.\r\n\t\t\t// formNode: DOMNode|String\r\n\t\t\t// example:\r\n\t\t\t//\t\tThis form:\r\n\t\t\t//\t\t|\t<form id=\"test_form\">\r\n\t\t\t//\t\t|\t\t<input type=\"text\" name=\"blah\" value=\"blah\">\r\n\t\t\t//\t\t|\t\t<input type=\"text\" name=\"no_value\" value=\"blah\" disabled>\r\n\t\t\t//\t\t|\t\t<input type=\"button\" name=\"no_value2\" value=\"blah\">\r\n\t\t\t//\t\t|\t\t<select type=\"select\" multiple name=\"multi\" size=\"5\">\r\n\t\t\t//\t\t|\t\t\t<option value=\"blah\">blah</option>\r\n\t\t\t//\t\t|\t\t\t<option value=\"thud\" selected>thud</option>\r\n\t\t\t//\t\t|\t\t\t<option value=\"thonk\" selected>thonk</option>\r\n\t\t\t//\t\t|\t\t</select>\r\n\t\t\t//\t\t|\t</form>\r\n\t\t\t//\r\n\t\t\t//\t\tyields this object structure as the result of a call to\r\n\t\t\t//\t\tformToObject():\r\n\t\t\t//\r\n\t\t\t//\t\t|\t{\r\n\t\t\t//\t\t|\t\tblah: \"blah\",\r\n\t\t\t//\t\t|\t\tmulti: [\r\n\t\t\t//\t\t|\t\t\t\"thud\",\r\n\t\t\t//\t\t|\t\t\t\"thonk\"\r\n\t\t\t//\t\t|\t\t]\r\n\t\t\t//\t\t|\t};\r\n\r\n\t\t\tvar ret = {}, elems = dom.byId(formNode).elements;\r\n\t\t\tfor(var i = 0, l = elems.length; i < l; ++i){\r\n\t\t\t\tvar item = elems[i], _in = item.name, type = (item.type || \"\").toLowerCase();\r\n\t\t\t\tif(_in && type && exclude.indexOf(type) < 0 && !item.disabled){\r\n\t\t\t\t\tsetValue(ret, _in, form.fieldToObject(item));\r\n\t\t\t\t\tif(type == \"image\"){\r\n\t\t\t\t\t\tret[_in + \".x\"] = ret[_in + \".y\"] = ret[_in].x = ret[_in].y = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ret; // Object\r\n\t\t},\r\n\r\n\t\ttoQuery: function formToQuery(/*DOMNode|String*/ formNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a URL-encoded string representing the form passed as either a\r\n\t\t\t//\t\tnode or string ID identifying the form to serialize\r\n\t\t\t// formNode: DOMNode|String\r\n\t\t\t// returns: String\r\n\r\n\t\t\treturn ioq.objectToQuery(form.toObject(formNode)); // String\r\n\t\t},\r\n\r\n\t\ttoJson: function formToJson(/*DOMNode|String*/ formNode, /*Boolean?*/ prettyPrint){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate a serialized JSON string from a form node or string\r\n\t\t\t//\t\tID identifying the form to serialize\r\n\t\t\t// formNode: DOMNode|String\r\n\t\t\t// prettyPrint: Boolean?\r\n\t\t\t// returns: String\r\n\r\n\t\t\treturn json.stringify(form.toObject(formNode), null, prettyPrint ? 4 : 0); // String\r\n\t\t}\r\n\t};\r\n\r\n    return form;\r\n});\r\n\ndefine('dojo/_base/json',[\"./kernel\", \"../json\"], function(dojo, json){\r\n\r\n// module:\r\n//\t\tdojo/_base/json\r\n\r\n/*=====\r\nreturn {\r\n\t// summary:\r\n\t//\t\tThis module defines the dojo JSON API.\r\n};\r\n=====*/\r\n\r\ndojo.fromJson = function(/*String*/ js){\r\n\t// summary:\r\n\t//\t\tParses a JavaScript expression and returns a JavaScript value.\r\n\t// description:\r\n\t//\t\tThrows for invalid JavaScript expressions. It does not use a strict JSON parser. It\r\n\t//\t\talways delegates to eval(). The content passed to this method must therefore come\r\n\t//\t\tfrom a trusted source.\r\n\t//\t\tIt is recommend that you use dojo/json's parse function for an\r\n\t//\t\timplementation uses the (faster) native JSON parse when available.\r\n\t// js:\r\n\t//\t\ta string literal of a JavaScript expression, for instance:\r\n\t//\t\t`'{ \"foo\": [ \"bar\", 1, { \"baz\": \"thud\" } ] }'`\r\n\r\n\treturn eval(\"(\" + js + \")\"); // Object\r\n};\r\n\r\n/*=====\r\ndojo._escapeString = function(){\r\n\t// summary:\r\n\t//\t\tAdds escape sequences for non-visual characters, double quote and\r\n\t//\t\tbackslash and surrounds with double quotes to form a valid string\r\n\t//\t\tliteral.\r\n};\r\n=====*/\r\ndojo._escapeString = json.stringify; // just delegate to json.stringify\r\n\r\ndojo.toJsonIndentStr = \"\\t\";\r\ndojo.toJson = function(/*Object*/ it, /*Boolean?*/ prettyPrint){\r\n\t// summary:\r\n\t//\t\tReturns a [JSON](http://json.org) serialization of an object.\r\n\t// description:\r\n\t//\t\tReturns a [JSON](http://json.org) serialization of an object.\r\n\t//\t\tNote that this doesn't check for infinite recursion, so don't do that!\r\n\t//\t\tIt is recommend that you use dojo/json's stringify function for an lighter\r\n\t//\t\tand faster implementation that matches the native JSON API and uses the\r\n\t//\t\tnative JSON serializer when available.\r\n\t// it:\r\n\t//\t\tan object to be serialized. Objects may define their own\r\n\t//\t\tserialization via a special \"__json__\" or \"json\" function\r\n\t//\t\tproperty. If a specialized serializer has been defined, it will\r\n\t//\t\tbe used as a fallback.\r\n\t//\t\tNote that in 1.6, toJson would serialize undefined, but this no longer supported\r\n\t//\t\tsince it is not supported by native JSON serializer.\r\n\t// prettyPrint:\r\n\t//\t\tif true, we indent objects and arrays to make the output prettier.\r\n\t//\t\tThe variable `dojo.toJsonIndentStr` is used as the indent string --\r\n\t//\t\tto use something other than the default (tab), change that variable\r\n\t//\t\tbefore calling dojo.toJson().\r\n\t//\t\tNote that if native JSON support is available, it will be used for serialization,\r\n\t//\t\tand native implementations vary on the exact spacing used in pretty printing.\r\n\t// returns:\r\n\t//\t\tA JSON string serialization of the passed-in object.\r\n\t// example:\r\n\t//\t\tsimple serialization of a trivial object\r\n\t//\t\t|\tvar jsonStr = dojo.toJson({ howdy: \"stranger!\", isStrange: true });\r\n\t//\t\t|\tdoh.is('{\"howdy\":\"stranger!\",\"isStrange\":true}', jsonStr);\r\n\t// example:\r\n\t//\t\ta custom serializer for an objects of a particular class:\r\n\t//\t\t|\tdojo.declare(\"Furby\", null, {\r\n\t//\t\t|\t\tfurbies: \"are strange\",\r\n\t//\t\t|\t\tfurbyCount: 10,\r\n\t//\t\t|\t\t__json__: function(){\r\n\t//\t\t|\t\t},\r\n\t//\t\t|\t});\r\n\r\n\t// use dojo/json\r\n\treturn json.stringify(it, function(key, value){\r\n\t\tif(value){\r\n\t\t\tvar tf = value.__json__||value.json;\r\n\t\t\tif(typeof tf == \"function\"){\r\n\t\t\t\treturn tf.call(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}, prettyPrint && dojo.toJsonIndentStr);\t// String\r\n};\r\n\r\nreturn dojo;\r\n});\r\n\ndefine('dojo/errors/RequestError',['./create'], function(create){\r\n\t// module:\r\n\t//\t\tdojo/errors/RequestError\r\n\r\n\t/*=====\r\n\t return function(){\r\n\t\t // summary:\r\n\t\t //\t\tTODOC\r\n\t };\r\n\t =====*/\r\n\r\n\treturn create(\"RequestError\", function(message, response){\r\n\t\tthis.response = response;\r\n\t});\r\n});\r\n\ndefine('dojo/request/util',[\r\n\t'exports',\r\n\t'../errors/RequestError',\r\n\t'../errors/CancelError',\r\n\t'../Deferred',\r\n\t'../io-query',\r\n\t'../_base/array',\r\n\t'../_base/lang',\r\n\t'../promise/Promise'\r\n], function(exports, RequestError, CancelError, Deferred, ioQuery, array, lang, Promise){\r\n\texports.deepCopy = function deepCopy(target, source){\r\n\t\tfor(var name in source){\r\n\t\t\tvar tval = target[name],\r\n\t\t\t\tsval = source[name];\r\n\t\t\tif(tval !== sval){\r\n\t\t\t\tif(tval && typeof tval === 'object' && sval && typeof sval === 'object'){\r\n\t\t\t\t\texports.deepCopy(tval, sval);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget[name] = sval;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t};\r\n\r\n\texports.deepCreate = function deepCreate(source, properties){\r\n\t\tproperties = properties || {};\r\n\t\tvar target = lang.delegate(source),\r\n\t\t\tname, value;\r\n\r\n\t\tfor(name in source){\r\n\t\t\tvalue = source[name];\r\n\r\n\t\t\tif(value && typeof value === 'object'){\r\n\t\t\t\ttarget[name] = exports.deepCreate(value, properties[name]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn exports.deepCopy(target, properties);\r\n\t};\r\n\r\n\tvar freeze = Object.freeze || function(obj){ return obj; };\r\n\tfunction okHandler(response){\r\n\t\treturn freeze(response);\r\n\t}\r\n\tfunction dataHandler (response) {\r\n\t\treturn response.data || response.text;\r\n\t}\r\n\r\n\texports.deferred = function deferred(response, cancel, isValid, isReady, handleResponse, last){\r\n\t\tvar def = new Deferred(function(reason){\r\n\t\t\tcancel && cancel(def, response);\r\n\r\n\t\t\tif(!reason || !(reason instanceof RequestError) && !(reason instanceof CancelError)){\r\n\t\t\t\treturn new CancelError('Request canceled', response);\r\n\t\t\t}\r\n\t\t\treturn reason;\r\n\t\t});\r\n\r\n\t\tdef.response = response;\r\n\t\tdef.isValid = isValid;\r\n\t\tdef.isReady = isReady;\r\n\t\tdef.handleResponse = handleResponse;\r\n\r\n\t\tfunction errHandler(error){\r\n\t\t\terror.response = response;\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\tvar responsePromise = def.then(okHandler).otherwise(errHandler);\r\n\r\n\t\tif(exports.notify){\r\n\t\t\tresponsePromise.then(\r\n\t\t\t\tlang.hitch(exports.notify, 'emit', 'load'),\r\n\t\t\t\tlang.hitch(exports.notify, 'emit', 'error')\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tvar dataPromise = responsePromise.then(dataHandler);\r\n\r\n\t\t// http://bugs.dojotoolkit.org/ticket/16794\r\n\t\t// The following works around a leak in IE9 through the\r\n\t\t// prototype using lang.delegate on dataPromise and\r\n\t\t// assigning the result a property with a reference to\r\n\t\t// responsePromise.\r\n\t\tvar promise = new Promise();\r\n\t\tfor (var prop in dataPromise) {\r\n\t\t\tif (dataPromise.hasOwnProperty(prop)) {\r\n\t\t\t\tpromise[prop] = dataPromise[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t\tpromise.response = responsePromise;\r\n\t\tfreeze(promise);\r\n\t\t// End leak fix\r\n\r\n\r\n\t\tif(last){\r\n\t\t\tdef.then(function(response){\r\n\t\t\t\tlast.call(def, response);\r\n\t\t\t}, function(error){\r\n\t\t\t\tlast.call(def, response, error);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdef.promise = promise;\r\n\t\tdef.then = promise.then;\r\n\r\n\t\treturn def;\r\n\t};\r\n\r\n\texports.addCommonMethods = function addCommonMethods(provider, methods){\r\n\t\tarray.forEach(methods||['GET', 'POST', 'PUT', 'DELETE'], function(method){\r\n\t\t\tprovider[(method === 'DELETE' ? 'DEL' : method).toLowerCase()] = function(url, options){\r\n\t\t\t\toptions = lang.delegate(options||{});\r\n\t\t\t\toptions.method = method;\r\n\t\t\t\treturn provider(url, options);\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\texports.parseArgs = function parseArgs(url, options, skipData){\r\n\t\tvar data = options.data,\r\n\t\t\tquery = options.query;\r\n\t\t\r\n\t\tif(data && !skipData){\r\n\t\t\tif(typeof data === 'object'){\r\n\t\t\t\toptions.data = ioQuery.objectToQuery(data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(query){\r\n\t\t\tif(typeof query === 'object'){\r\n\t\t\t\tquery = ioQuery.objectToQuery(query);\r\n\t\t\t}\r\n\t\t\tif(options.preventCache){\r\n\t\t\t\tquery += (query ? '&' : '') + 'request.preventCache=' + (+(new Date));\r\n\t\t\t}\r\n\t\t}else if(options.preventCache){\r\n\t\t\tquery = 'request.preventCache=' + (+(new Date));\r\n\t\t}\r\n\r\n\t\tif(url && query){\r\n\t\t\turl += (~url.indexOf('?') ? '&' : '?') + query;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\turl: url,\r\n\t\t\toptions: options,\r\n\t\t\tgetHeader: function(headerName){ return null; }\r\n\t\t};\r\n\t};\r\n\r\n\texports.checkStatus = function(stat){\r\n\t\tstat = stat || 0;\r\n\t\treturn (stat >= 200 && stat < 300) || // allow any 2XX response code\r\n\t\t\tstat === 304 ||                 // or, get it out of the cache\r\n\t\t\tstat === 1223 ||                // or, Internet Explorer mangled the status code\r\n\t\t\t!stat;                         // or, we're Titanium/browser chrome/chrome extension requesting a local file\r\n\t};\r\n});\r\n\ndefine('dojo/errors/RequestTimeoutError',['./create', './RequestError'], function(create, RequestError){\r\n\t// module:\r\n\t//\t\tdojo/errors/RequestTimeoutError\r\n\r\n\t/*=====\r\n\t return function(){\r\n\t\t // summary:\r\n\t\t //\t\tTODOC\r\n\t };\r\n\t =====*/\r\n\r\n\treturn create(\"RequestTimeoutError\", null, RequestError, {\r\n\t\tdojoType: \"timeout\"\r\n\t});\r\n});\r\n\ndefine('dojo/request/watch',[\r\n\t'./util',\r\n\t'../errors/RequestTimeoutError',\r\n\t'../errors/CancelError',\r\n\t'../_base/array',\r\n\t'../has!host-browser?../_base/window:',\r\n\t'../has!host-browser?dom-addeventlistener?:../on:'\r\n], function(util, RequestTimeoutError, CancelError, array, win, on){\r\n\t// avoid setting a timer per request. It degrades performance on IE\r\n\t// something fierece if we don't use unified loops.\r\n\tvar _inFlightIntvl = null,\r\n\t\t_inFlight = [];\r\n\r\n\tfunction watchInFlight(){\r\n\t\t// summary:\r\n\t\t//\t\tinternal method that checks each inflight XMLHttpRequest to see\r\n\t\t//\t\tif it has completed or if the timeout situation applies.\r\n\r\n\t\tvar now = +(new Date);\r\n\r\n\t\t// we need manual loop because we often modify _inFlight (and therefore 'i') while iterating\r\n\t\tfor(var i = 0, dfd; i < _inFlight.length && (dfd = _inFlight[i]); i++){\r\n\t\t\tvar response = dfd.response,\r\n\t\t\t\toptions = response.options;\r\n\t\t\tif((dfd.isCanceled && dfd.isCanceled()) || (dfd.isValid && !dfd.isValid(response))){\r\n\t\t\t\t_inFlight.splice(i--, 1);\r\n\t\t\t\twatch._onAction && watch._onAction();\r\n\t\t\t}else if(dfd.isReady && dfd.isReady(response)){\r\n\t\t\t\t_inFlight.splice(i--, 1);\r\n\t\t\t\tdfd.handleResponse(response);\r\n\t\t\t\twatch._onAction && watch._onAction();\r\n\t\t\t}else if(dfd.startTime){\r\n\t\t\t\t// did we timeout?\r\n\t\t\t\tif(dfd.startTime + (options.timeout || 0) < now){\r\n\t\t\t\t\t_inFlight.splice(i--, 1);\r\n\t\t\t\t\t// Cancel the request so the io module can do appropriate cleanup.\r\n\t\t\t\t\tdfd.cancel(new RequestTimeoutError('Timeout exceeded', response));\r\n\t\t\t\t\twatch._onAction && watch._onAction();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twatch._onInFlight && watch._onInFlight(dfd);\r\n\r\n\t\tif(!_inFlight.length){\r\n\t\t\tclearInterval(_inFlightIntvl);\r\n\t\t\t_inFlightIntvl = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction watch(dfd){\r\n\t\t// summary:\r\n\t\t//\t\tWatches the io request represented by dfd to see if it completes.\r\n\t\t// dfd: Deferred\r\n\t\t//\t\tThe Deferred object to watch.\r\n\t\t// response: Object\r\n\t\t//\t\tThe object used as the value of the request promise.\r\n\t\t// validCheck: Function\r\n\t\t//\t\tFunction used to check if the IO request is still valid. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\t\t// ioCheck: Function\r\n\t\t//\t\tFunction used to check if basic IO call worked. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\t\t// resHandle: Function\r\n\t\t//\t\tFunction used to process response. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\t\tif(dfd.response.options.timeout){\r\n\t\t\tdfd.startTime = +(new Date);\r\n\t\t}\r\n\r\n\t\tif(dfd.isFulfilled()){\r\n\t\t\t// bail out if the deferred is already fulfilled\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t_inFlight.push(dfd);\r\n\t\tif(!_inFlightIntvl){\r\n\t\t\t_inFlightIntvl = setInterval(watchInFlight, 50);\r\n\t\t}\r\n\r\n\t\t// handle sync requests separately from async:\r\n\t\t// http://bugs.dojotoolkit.org/ticket/8467\r\n\t\tif(dfd.response.options.sync){\r\n\t\t\twatchInFlight();\r\n\t\t}\r\n\t}\r\n\r\n\twatch.cancelAll = function cancelAll(){\r\n\t\t// summary:\r\n\t\t//\t\tCancels all pending IO requests, regardless of IO type\r\n\t\ttry{\r\n\t\t\tarray.forEach(_inFlight, function(dfd){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tdfd.cancel(new CancelError('All requests canceled.'));\r\n\t\t\t\t}catch(e){}\r\n\t\t\t});\r\n\t\t}catch(e){}\r\n\t};\r\n\r\n\tif(win && on && win.doc.attachEvent){\r\n\t\t// Automatically call cancel all io calls on unload in IE\r\n\t\t// http://bugs.dojotoolkit.org/ticket/2357\r\n\t\ton(win.global, 'unload', function(){\r\n\t\t\twatch.cancelAll();\r\n\t\t});\r\n\t}\r\n\r\n\treturn watch;\r\n});\r\n\ndefine('dojo/request/handlers',[\r\n\t'../json',\r\n\t'../_base/kernel',\r\n\t'../_base/array',\r\n\t'../has',\r\n\t'../has!dom?../selector/_loader' // only included for has() qsa tests\r\n], function(JSON, kernel, array, has){\r\n\thas.add('activex', typeof ActiveXObject !== 'undefined');\r\n\thas.add('dom-parser', function(global){\r\n\t\treturn 'DOMParser' in global;\r\n\t});\r\n\r\n\tvar handleXML;\r\n\tif(has('activex')){\r\n\t\t// GUIDs obtained from http://msdn.microsoft.com/en-us/library/ms757837(VS.85).aspx\r\n\t\tvar dp = [\r\n\t\t\t'Msxml2.DOMDocument.6.0',\r\n\t\t\t'Msxml2.DOMDocument.4.0',\r\n\t\t\t'MSXML2.DOMDocument.3.0',\r\n\t\t\t'MSXML.DOMDocument' // 2.0\r\n\t\t];\r\n\t\tvar lastParser;\r\n\r\n\t\thandleXML = function(response){\r\n\t\t\tvar result = response.data;\r\n\t\t\tvar text = response.text;\r\n\r\n\t\t\tif(result && has('dom-qsa2.1') && !result.querySelectorAll && has('dom-parser')){\r\n\t\t\t\t// http://bugs.dojotoolkit.org/ticket/15631\r\n\t\t\t\t// IE9 supports a CSS3 querySelectorAll implementation, but the DOM implementation\r\n\t\t\t\t// returned by IE9 xhr.responseXML does not. Manually create the XML DOM to gain\r\n\t\t\t\t// the fuller-featured implementation and avoid bugs caused by the inconsistency\r\n\t\t\t\tresult = new DOMParser().parseFromString(text, 'application/xml');\r\n\t\t\t}\r\n\r\n\t\t\tfunction createDocument(p) {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar dom = new ActiveXObject(p);\r\n\t\t\t\t\t\tdom.async = false;\r\n\t\t\t\t\t\tdom.loadXML(text);\r\n\t\t\t\t\t\tresult = dom;\r\n\t\t\t\t\t\tlastParser = p;\r\n\t\t\t\t\t}catch(e){ return false; }\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif(!result || !result.documentElement){\r\n\t\t\t\t// The creation of an ActiveX object is expensive, so we cache the\r\n\t\t\t\t// parser type to avoid trying all parser types each time we handle a\r\n\t\t\t\t// document. There is some concern that some parser types might fail\r\n\t\t\t\t// depending on the document being parsed. If parsing using the cached\r\n\t\t\t\t// parser type fails, we do the more expensive operation of finding one\r\n\t\t\t\t// that works for the given document.\r\n\t\t\t\t// https://bugs.dojotoolkit.org/ticket/15246\r\n\t\t\t\tif(!lastParser || !createDocument(lastParser)) {\r\n\t\t\t\t\tarray.some(dp, createDocument);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t};\r\n\t}\r\n\r\n\tvar handleNativeResponse = function(response) {\r\n\t\tif(!has('native-xhr2-blob') && response.options.handleAs === 'blob' && typeof Blob !== 'undefined'){\r\n\t\t\treturn new Blob([ response.xhr.response ], { type: response.xhr.getResponseHeader('Content-Type') });\r\n\t\t}\r\n\r\n\t\treturn response.xhr.response;\r\n\t}\r\n\r\n\tvar handlers = {\r\n\t\t'javascript': function(response){\r\n\t\t\treturn kernel.eval(response.text || '');\r\n\t\t},\r\n\t\t'json': function(response){\r\n\t\t\treturn JSON.parse(response.text || null);\r\n\t\t},\r\n\t\t'xml': handleXML,\r\n\t\t'blob': handleNativeResponse,\r\n\t\t'arraybuffer': handleNativeResponse,\r\n\t\t'document': handleNativeResponse\r\n\t};\r\n\r\n\tfunction handle(response){\r\n\t\tvar handler = handlers[response.options.handleAs];\r\n\r\n\t\tresponse.data = handler ? handler(response) : (response.data || response.text);\r\n\r\n\t\treturn response;\r\n\t}\r\n\r\n\thandle.register = function(name, handler){\r\n\t\thandlers[name] = handler;\r\n\t};\r\n\r\n\treturn handle;\r\n});\r\n\ndefine('dojo/request/xhr',[\r\n\t'../errors/RequestError',\r\n\t'./watch',\r\n\t'./handlers',\r\n\t'./util',\r\n\t'../has'/*=====,\r\n\t'../request',\r\n\t'../_base/declare' =====*/\r\n], function(RequestError, watch, handlers, util, has/*=====, request, declare =====*/){\r\n\thas.add('native-xhr', function(){\r\n\t\t// if true, the environment has a native XHR implementation\r\n\t\treturn typeof XMLHttpRequest !== 'undefined';\r\n\t});\r\n\thas.add('dojo-force-activex-xhr', function(){\r\n\t\treturn has('activex') && !document.addEventListener && window.location.protocol === 'file:';\r\n\t});\r\n\r\n\thas.add('native-xhr2', function(){\r\n\t\tif(!has('native-xhr')){ return; }\r\n\t\tvar x = new XMLHttpRequest();\r\n\t\treturn typeof x['addEventListener'] !== 'undefined' &&\r\n\t\t\t(typeof opera === 'undefined' || typeof x['upload'] !== 'undefined');\r\n\t});\r\n\r\n\thas.add('native-formdata', function(){\r\n\t\t// if true, the environment has a native FormData implementation\r\n\t\treturn typeof FormData !== 'undefined';\r\n\t});\r\n\r\n\thas.add('native-response-type', function(){\r\n\t\treturn has('native-xhr') && typeof new XMLHttpRequest().responseType !== 'undefined';\r\n\t});\r\n\r\n\thas.add('native-xhr2-blob', function(){\r\n\t\tif(!has('native-response-type')){ return; }\r\n\t\tvar x = new XMLHttpRequest();\r\n\t\tx.open('GET', '/', true);\r\n\t\tx.responseType = 'blob';\r\n\t\t// will not be set if unsupported\r\n\t\tvar responseType = x.responseType;\r\n\t\tx.abort();\r\n\t\treturn responseType === 'blob';\r\n\t});\r\n\r\n\t// Google Chrome doesn't support \"json\" response type\r\n\t// up to version 30, so it's intentionally not included here\r\n\tvar nativeResponseTypes = {\r\n\t\t'blob': has('native-xhr2-blob') ? 'blob' : 'arraybuffer',\r\n\t\t'document': 'document',\r\n\t\t'arraybuffer': 'arraybuffer'\r\n\t};\r\n\r\n\tfunction handleResponse(response, error){\r\n\t\tvar _xhr = response.xhr;\r\n\t\tresponse.status = response.xhr.status;\r\n\r\n\t\ttry {\r\n\t\t\t// Firefox throws an error when trying to access\r\n\t\t\t// xhr.responseText if response isn't text\r\n\t\t\tresponse.text = _xhr.responseText;\r\n\t\t} catch (e) {}\r\n\r\n\t\tif(response.options.handleAs === 'xml'){\r\n\t\t\tresponse.data = _xhr.responseXML;\r\n\t\t}\r\n\r\n\t\tif(!error){\r\n\t\t\ttry{\r\n\t\t\t\thandlers(response);\r\n\t\t\t}catch(e){\r\n\t\t\t\terror = e;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(error){\r\n\t\t\tthis.reject(error);\r\n\t\t}else if(util.checkStatus(_xhr.status)){\r\n\t\t\tthis.resolve(response);\r\n\t\t}else{\r\n\t\t\terror = new RequestError('Unable to load ' + response.url + ' status: ' + _xhr.status, response);\r\n\r\n\t\t\tthis.reject(error);\r\n\t\t}\r\n\t}\r\n\r\n\tvar isValid, isReady, addListeners, cancel;\r\n\tif(has('native-xhr2')){\r\n\t\t// Any platform with XHR2 will only use the watch mechanism for timeout.\r\n\r\n\t\tisValid = function(response){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCheck to see if the request should be taken out of the watch queue\r\n\t\t\treturn !this.isFulfilled();\r\n\t\t};\r\n\t\tcancel = function(dfd, response){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCanceler for deferred\r\n\t\t\tresponse.xhr.abort();\r\n\t\t};\r\n\t\taddListeners = function(_xhr, dfd, response){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds event listeners to the XMLHttpRequest object\r\n\t\t\tfunction onLoad(evt){\r\n\t\t\t\tdfd.handleResponse(response);\r\n\t\t\t}\r\n\t\t\tfunction onError(evt){\r\n\t\t\t\tvar _xhr = evt.target;\r\n\t\t\t\tvar error = new RequestError('Unable to load ' + response.url + ' status: ' + _xhr.status, response);\r\n\t\t\t\tdfd.handleResponse(response, error);\r\n\t\t\t}\r\n\r\n\t\t\tfunction onProgress(evt){\r\n\t\t\t\tif(evt.lengthComputable){\r\n\t\t\t\t\tresponse.loaded = evt.loaded;\r\n\t\t\t\t\tresponse.total = evt.total;\r\n\t\t\t\t\tdfd.progress(response);\r\n\t\t\t\t} else if(response.xhr.readyState === 3){\r\n\t\t\t\t\tresponse.loaded = evt.position;\r\n\t\t\t\t\tdfd.progress(response);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t_xhr.addEventListener('load', onLoad, false);\r\n\t\t\t_xhr.addEventListener('error', onError, false);\r\n\t\t\t_xhr.addEventListener('progress', onProgress, false);\r\n\r\n\t\t\treturn function(){\r\n\t\t\t\t_xhr.removeEventListener('load', onLoad, false);\r\n\t\t\t\t_xhr.removeEventListener('error', onError, false);\r\n\t\t\t\t_xhr.removeEventListener('progress', onProgress, false);\r\n\t\t\t\t_xhr = null;\r\n\t\t\t};\r\n\t\t};\r\n\t}else{\r\n\t\tisValid = function(response){\r\n\t\t\treturn response.xhr.readyState; //boolean\r\n\t\t};\r\n\t\tisReady = function(response){\r\n\t\t\treturn 4 === response.xhr.readyState; //boolean\r\n\t\t};\r\n\t\tcancel = function(dfd, response){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcanceller function for util.deferred call.\r\n\t\t\tvar xhr = response.xhr;\r\n\t\t\tvar _at = typeof xhr.abort;\r\n\t\t\tif(_at === 'function' || _at === 'object' || _at === 'unknown'){\r\n\t\t\t\txhr.abort();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getHeader(headerName){\r\n\t\treturn this.xhr.getResponseHeader(headerName);\r\n\t}\r\n\r\n\tvar undefined,\r\n\t\tdefaultOptions = {\r\n\t\t\tdata: null,\r\n\t\t\tquery: null,\r\n\t\t\tsync: false,\r\n\t\t\tmethod: 'GET'\r\n\t\t};\r\n\tfunction xhr(url, options, returnDeferred){\r\n\t\tvar isFormData = has('native-formdata') && options && options.data && options.data instanceof FormData;\r\n\t\tvar response = util.parseArgs(\r\n\t\t\turl,\r\n\t\t\tutil.deepCreate(defaultOptions, options),\r\n\t\t\tisFormData\r\n\t\t);\r\n\t\turl = response.url;\r\n\t\toptions = response.options;\r\n\r\n\t\tvar remover,\r\n\t\t\tlast = function(){\r\n\t\t\t\tremover && remover();\r\n\t\t\t};\r\n\r\n\t\t//Make the Deferred object for this xhr request.\r\n\t\tvar dfd = util.deferred(\r\n\t\t\tresponse,\r\n\t\t\tcancel,\r\n\t\t\tisValid,\r\n\t\t\tisReady,\r\n\t\t\thandleResponse,\r\n\t\t\tlast\r\n\t\t);\r\n\t\tvar _xhr = response.xhr = xhr._create();\r\n\r\n\t\tif(!_xhr){\r\n\t\t\t// If XHR factory somehow returns nothings,\r\n\t\t\t// cancel the deferred.\r\n\t\t\tdfd.cancel(new RequestError('XHR was not created'));\r\n\t\t\treturn returnDeferred ? dfd : dfd.promise;\r\n\t\t}\r\n\r\n\t\tresponse.getHeader = getHeader;\r\n\r\n\t\tif(addListeners){\r\n\t\t\tremover = addListeners(_xhr, dfd, response);\r\n\t\t}\r\n\r\n\t\tvar data = options.data,\r\n\t\t\tasync = !options.sync,\r\n\t\t\tmethod = options.method;\r\n\r\n\t\ttry{\r\n\t\t\t// IE6 won't let you call apply() on the native function.\r\n\t\t\t_xhr.open(method, url, async, options.user || undefined, options.password || undefined);\r\n\r\n\t\t\tif(options.withCredentials){\r\n\t\t\t\t_xhr.withCredentials = options.withCredentials;\r\n\t\t\t}\r\n\r\n\t\t\tif(has('native-response-type') && options.handleAs in nativeResponseTypes) {\r\n\t\t\t\t_xhr.responseType = nativeResponseTypes[options.handleAs];\r\n\t\t\t}\r\n\r\n\t\t\tvar headers = options.headers,\r\n\t\t\t\tcontentType = isFormData ? false : 'application/x-www-form-urlencoded';\r\n\t\t\tif(headers){\r\n\t\t\t\tfor(var hdr in headers){\r\n\t\t\t\t\tif(hdr.toLowerCase() === 'content-type'){\r\n\t\t\t\t\t\tcontentType = headers[hdr];\r\n\t\t\t\t\t}else if(headers[hdr]){\r\n\t\t\t\t\t\t//Only add header if it has a value. This allows for instance, skipping\r\n\t\t\t\t\t\t//insertion of X-Requested-With by specifying empty value.\r\n\t\t\t\t\t\t_xhr.setRequestHeader(hdr, headers[hdr]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(contentType && contentType !== false){\r\n\t\t\t\t_xhr.setRequestHeader('Content-Type', contentType);\r\n\t\t\t}\r\n\t\t\tif(!headers || !('X-Requested-With' in headers)){\r\n\t\t\t\t_xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n\t\t\t}\r\n\r\n\t\t\tif(util.notify){\r\n\t\t\t\tutil.notify.emit('send', response, dfd.promise.cancel);\r\n\t\t\t}\r\n\t\t\t_xhr.send(data);\r\n\t\t}catch(e){\r\n\t\t\tdfd.reject(e);\r\n\t\t}\r\n\r\n\t\twatch(dfd);\r\n\t\t_xhr = null;\r\n\r\n\t\treturn returnDeferred ? dfd : dfd.promise;\r\n\t}\r\n\r\n\t/*=====\r\n\txhr = function(url, options){\r\n\t\t// summary:\r\n\t\t//\t\tSends a request using XMLHttpRequest with the given URL and options.\r\n\t\t// url: String\r\n\t\t//\t\tURL to request\r\n\t\t// options: dojo/request/xhr.__Options?\r\n\t\t//\t\tOptions for the request.\r\n\t\t// returns: dojo/request.__Promise\r\n\t};\r\n\txhr.__BaseOptions = declare(request.__BaseOptions, {\r\n\t\t// sync: Boolean?\r\n\t\t//\t\tWhether to make a synchronous request or not. Default\r\n\t\t//\t\tis `false` (asynchronous).\r\n\t\t// data: String|Object|FormData?\r\n\t\t//\t\tData to transfer. This is ignored for GET and DELETE\r\n\t\t//\t\trequests.\r\n\t\t// headers: Object?\r\n\t\t//\t\tHeaders to use for the request.\r\n\t\t// user: String?\r\n\t\t//\t\tUsername to use during the request.\r\n\t\t// password: String?\r\n\t\t//\t\tPassword to use during the request.\r\n\t\t// withCredentials: Boolean?\r\n\t\t//\t\tFor cross-site requests, whether to send credentials\r\n\t\t//\t\tor not.\r\n\t});\r\n\txhr.__MethodOptions = declare(null, {\r\n\t\t// method: String?\r\n\t\t//\t\tThe HTTP method to use to make the request. Must be\r\n\t\t//\t\tuppercase. Default is `\"GET\"`.\r\n\t});\r\n\txhr.__Options = declare([xhr.__BaseOptions, xhr.__MethodOptions]);\r\n\r\n\txhr.get = function(url, options){\r\n\t\t// summary:\r\n\t\t//\t\tSend an HTTP GET request using XMLHttpRequest with the given URL and options.\r\n\t\t// url: String\r\n\t\t//\t\tURL to request\r\n\t\t// options: dojo/request/xhr.__BaseOptions?\r\n\t\t//\t\tOptions for the request.\r\n\t\t// returns: dojo/request.__Promise\r\n\t};\r\n\txhr.post = function(url, options){\r\n\t\t// summary:\r\n\t\t//\t\tSend an HTTP POST request using XMLHttpRequest with the given URL and options.\r\n\t\t// url: String\r\n\t\t//\t\tURL to request\r\n\t\t// options: dojo/request/xhr.__BaseOptions?\r\n\t\t//\t\tOptions for the request.\r\n\t\t// returns: dojo/request.__Promise\r\n\t};\r\n\txhr.put = function(url, options){\r\n\t\t// summary:\r\n\t\t//\t\tSend an HTTP PUT request using XMLHttpRequest with the given URL and options.\r\n\t\t// url: String\r\n\t\t//\t\tURL to request\r\n\t\t// options: dojo/request/xhr.__BaseOptions?\r\n\t\t//\t\tOptions for the request.\r\n\t\t// returns: dojo/request.__Promise\r\n\t};\r\n\txhr.del = function(url, options){\r\n\t\t// summary:\r\n\t\t//\t\tSend an HTTP DELETE request using XMLHttpRequest with the given URL and options.\r\n\t\t// url: String\r\n\t\t//\t\tURL to request\r\n\t\t// options: dojo/request/xhr.__BaseOptions?\r\n\t\t//\t\tOptions for the request.\r\n\t\t// returns: dojo/request.__Promise\r\n\t};\r\n\t=====*/\r\n\txhr._create = function(){\r\n\t\t// summary:\r\n\t\t//\t\tdoes the work of portably generating a new XMLHTTPRequest object.\r\n\t\tthrow new Error('XMLHTTP not available');\r\n\t};\r\n\tif(has('native-xhr') && !has('dojo-force-activex-xhr')){\r\n\t\txhr._create = function(){\r\n\t\t\treturn new XMLHttpRequest();\r\n\t\t};\r\n\t}else if(has('activex')){\r\n\t\ttry{\r\n\t\t\tnew ActiveXObject('Msxml2.XMLHTTP');\r\n\t\t\txhr._create = function(){\r\n\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\r\n\t\t\t};\r\n\t\t}catch(e){\r\n\t\t\ttry{\r\n\t\t\t\tnew ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t\t\txhr._create = function(){\r\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t\t\t};\r\n\t\t\t}catch(e){}\r\n\t\t}\r\n\t}\r\n\r\n\tutil.addCommonMethods(xhr);\r\n\r\n\treturn xhr;\r\n});\r\n\ndefine('dojo/_base/xhr',[\r\n\t\"./kernel\",\r\n\t\"./sniff\",\r\n\t\"require\",\r\n\t\"../io-query\",\r\n\t/*===== \"./declare\", =====*/\r\n\t\"../dom\",\r\n\t\"../dom-form\",\r\n\t\"./Deferred\",\r\n\t\"./config\",\r\n\t\"./json\",\r\n\t\"./lang\",\r\n\t\"./array\",\r\n\t\"../on\",\r\n\t\"../aspect\",\r\n\t\"../request/watch\",\r\n\t\"../request/xhr\",\r\n\t\"../request/util\"\r\n], function(dojo, has, require, ioq, /*===== declare, =====*/ dom, domForm, Deferred, config, json, lang, array, on, aspect, watch, _xhr, util){\r\n\t// module:\r\n\t//\t\tdojo/_base/xhr\r\n\r\n\t/*=====\r\n\tdojo._xhrObj = function(){\r\n\t\t// summary:\r\n\t\t//\t\tdoes the work of portably generating a new XMLHTTPRequest object.\r\n\t};\r\n\t=====*/\r\n\tdojo._xhrObj = _xhr._create;\r\n\r\n\tvar cfg = dojo.config;\r\n\r\n\t// mix in io-query and dom-form\r\n\tdojo.objectToQuery = ioq.objectToQuery;\r\n\tdojo.queryToObject = ioq.queryToObject;\r\n\tdojo.fieldToObject = domForm.fieldToObject;\r\n\tdojo.formToObject = domForm.toObject;\r\n\tdojo.formToQuery = domForm.toQuery;\r\n\tdojo.formToJson = domForm.toJson;\r\n\r\n\t// need to block async callbacks from snatching this thread as the result\r\n\t// of an async callback might call another sync XHR, this hangs khtml forever\r\n\t// must checked by watchInFlight()\r\n\r\n\tdojo._blockAsync = false;\r\n\r\n\t// MOW: remove dojo._contentHandlers alias in 2.0\r\n\tvar handlers = dojo._contentHandlers = dojo.contentHandlers = {\r\n\t\t// summary:\r\n\t\t//\t\tA map of available XHR transport handle types. Name matches the\r\n\t\t//\t\t`handleAs` attribute passed to XHR calls.\r\n\t\t// description:\r\n\t\t//\t\tA map of available XHR transport handle types. Name matches the\r\n\t\t//\t\t`handleAs` attribute passed to XHR calls. Each contentHandler is\r\n\t\t//\t\tcalled, passing the xhr object for manipulation. The return value\r\n\t\t//\t\tfrom the contentHandler will be passed to the `load` or `handle`\r\n\t\t//\t\tfunctions defined in the original xhr call.\r\n\t\t// example:\r\n\t\t//\t\tCreating a custom content-handler:\r\n\t\t//\t|\txhr.contentHandlers.makeCaps = function(xhr){\r\n\t\t//\t|\t\treturn xhr.responseText.toUpperCase();\r\n\t\t//\t|\t}\r\n\t\t//\t|\t// and later:\r\n\t\t//\t|\tdojo.xhrGet({\r\n\t\t//\t|\t\turl:\"foo.txt\",\r\n\t\t//\t|\t\thandleAs:\"makeCaps\",\r\n\t\t//\t|\t\tload: function(data){ /* data is a toUpper version of foo.txt */ }\r\n\t\t//\t|\t});\r\n\r\n\t\t\"text\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler which simply returns the plaintext response data\r\n\t\t\treturn xhr.responseText;\r\n\t\t},\r\n\t\t\"json\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler which returns a JavaScript object created from the response data\r\n\t\t\treturn json.fromJson(xhr.responseText || null);\r\n\t\t},\r\n\t\t\"json-comment-filtered\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler which expects comment-filtered JSON.\r\n\t\t\t// description:\r\n\t\t\t//\t\tA contentHandler which expects comment-filtered JSON.\r\n\t\t\t//\t\tthe json-comment-filtered option was implemented to prevent\r\n\t\t\t//\t\t\"JavaScript Hijacking\", but it is less secure than standard JSON. Use\r\n\t\t\t//\t\tstandard JSON instead. JSON prefixing can be used to subvert hijacking.\r\n\t\t\t//\r\n\t\t\t//\t\tWill throw a notice suggesting to use application/json mimetype, as\r\n\t\t\t//\t\tjson-commenting can introduce security issues. To decrease the chances of hijacking,\r\n\t\t\t//\t\tuse the standard `json` contentHandler, and prefix your \"JSON\" with: {}&&\r\n\t\t\t//\r\n\t\t\t//\t\tuse djConfig.useCommentedJson = true to turn off the notice\r\n\t\t\tif(!config.useCommentedJson){\r\n\t\t\t\tconsole.warn(\"Consider using the standard mimetype:application/json.\"\r\n\t\t\t\t\t+ \" json-commenting can introduce security issues. To\"\r\n\t\t\t\t\t+ \" decrease the chances of hijacking, use the standard the 'json' handler and\"\r\n\t\t\t\t\t+ \" prefix your json with: {}&&\\n\"\r\n\t\t\t\t\t+ \"Use djConfig.useCommentedJson=true to turn off this message.\");\r\n\t\t\t}\r\n\r\n\t\t\tvar value = xhr.responseText;\r\n\t\t\tvar cStartIdx = value.indexOf(\"\\/*\");\r\n\t\t\tvar cEndIdx = value.lastIndexOf(\"*\\/\");\r\n\t\t\tif(cStartIdx == -1 || cEndIdx == -1){\r\n\t\t\t\tthrow new Error(\"JSON was not comment filtered\");\r\n\t\t\t}\r\n\t\t\treturn json.fromJson(value.substring(cStartIdx+2, cEndIdx));\r\n\t\t},\r\n\t\t\"javascript\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler which evaluates the response data, expecting it to be valid JavaScript\r\n\r\n\t\t\t// FIXME: try Moz and IE specific eval variants?\r\n\t\t\treturn dojo.eval(xhr.responseText);\r\n\t\t},\r\n\t\t\"xml\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler returning an XML Document parsed from the response data\r\n\t\t\tvar result = xhr.responseXML;\r\n\r\n\t\t\tif(result && has(\"dom-qsa2.1\") && !result.querySelectorAll && has(\"dom-parser\")){\r\n\t\t\t\t// http://bugs.dojotoolkit.org/ticket/15631\r\n\t\t\t\t// IE9 supports a CSS3 querySelectorAll implementation, but the DOM implementation \r\n\t\t\t\t// returned by IE9 xhr.responseXML does not. Manually create the XML DOM to gain \r\n\t\t\t\t// the fuller-featured implementation and avoid bugs caused by the inconsistency\r\n\t\t\t\tresult = new DOMParser().parseFromString(xhr.responseText, \"application/xml\");\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\tif((!result || !result.documentElement)){\r\n\t\t\t\t\t//WARNING: this branch used by the xml handling in dojo.io.iframe,\r\n\t\t\t\t\t//so be sure to test dojo.io.iframe if making changes below.\r\n\t\t\t\t\tvar ms = function(n){ return \"MSXML\" + n + \".DOMDocument\"; };\r\n\t\t\t\t\tvar dp = [\"Microsoft.XMLDOM\", ms(6), ms(4), ms(3), ms(2)];\r\n\t\t\t\t\tarray.some(dp, function(p){\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tvar dom = new ActiveXObject(p);\r\n\t\t\t\t\t\t\tdom.async = false;\r\n\t\t\t\t\t\t\tdom.loadXML(xhr.responseText);\r\n\t\t\t\t\t\t\tresult = dom;\r\n\t\t\t\t\t\t}catch(e){ return false; }\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result; // DOMDocument\r\n\t\t},\r\n\t\t\"json-comment-optional\": function(xhr){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA contentHandler which checks the presence of comment-filtered JSON and\r\n\t\t\t//\t\talternates between the `json` and `json-comment-filtered` contentHandlers.\r\n\t\t\tif(xhr.responseText && /^[^{\\[]*\\/\\*/.test(xhr.responseText)){\r\n\t\t\t\treturn handlers[\"json-comment-filtered\"](xhr);\r\n\t\t\t}else{\r\n\t\t\t\treturn handlers[\"json\"](xhr);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*=====\r\n\r\n\t// kwargs function parameter definitions.   Assigning to dojo namespace rather than making them local variables\r\n\t// because they are used by dojo/io modules too\r\n\r\n\tdojo.__IoArgs = declare(null, {\r\n\t\t// url: String\r\n\t\t//\t\tURL to server endpoint.\r\n\t\t// content: Object?\r\n\t\t//\t\tContains properties with string values. These\r\n\t\t//\t\tproperties will be serialized as name1=value2 and\r\n\t\t//\t\tpassed in the request.\r\n\t\t// timeout: Integer?\r\n\t\t//\t\tMilliseconds to wait for the response. If this time\r\n\t\t//\t\tpasses, the then error callbacks are called.\r\n\t\t// form: DOMNode?\r\n\t\t//\t\tDOM node for a form. Used to extract the form values\r\n\t\t//\t\tand send to the server.\r\n\t\t// preventCache: Boolean?\r\n\t\t//\t\tDefault is false. If true, then a\r\n\t\t//\t\t\"dojo.preventCache\" parameter is sent in the request\r\n\t\t//\t\twith a value that changes with each request\r\n\t\t//\t\t(timestamp). Useful only with GET-type requests.\r\n\t\t// handleAs: String?\r\n\t\t//\t\tAcceptable values depend on the type of IO\r\n\t\t//\t\ttransport (see specific IO calls for more information).\r\n\t\t// rawBody: String?\r\n\t\t//\t\tSets the raw body for an HTTP request. If this is used, then the content\r\n\t\t//\t\tproperty is ignored. This is mostly useful for HTTP methods that have\r\n\t\t//\t\ta body to their requests, like PUT or POST. This property can be used instead\r\n\t\t//\t\tof postData and putData for dojo/_base/xhr.rawXhrPost and dojo/_base/xhr.rawXhrPut respectively.\r\n\t\t// ioPublish: Boolean?\r\n\t\t//\t\tSet this explicitly to false to prevent publishing of topics related to\r\n\t\t//\t\tIO operations. Otherwise, if djConfig.ioPublish is set to true, topics\r\n\t\t//\t\twill be published via dojo/topic.publish() for different phases of an IO operation.\r\n\t\t//\t\tSee dojo/main.__IoPublish for a list of topics that are published.\r\n\r\n\t\tload: function(response, ioArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function will be\r\n\t\t\t//\t\tcalled on a successful HTTP response code.\r\n\t \t\t// ioArgs: dojo/main.__IoCallbackArgs\r\n\t\t\t//\t\tProvides additional information about the request.\r\n\t\t\t// response: Object\r\n\t\t\t//\t\tThe response in the format as defined with handleAs.\r\n\t\t},\r\n\r\n\t\terror: function(response, ioArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function will\r\n\t\t\t//\t\tbe called when the request fails due to a network or server error, the url\r\n\t\t\t//\t\tis invalid, etc. It will also be called if the load or handle callback throws an\r\n\t\t\t//\t\texception, unless djConfig.debugAtAllCosts is true.\t This allows deployed applications\r\n\t\t\t//\t\tto continue to run even when a logic error happens in the callback, while making\r\n\t\t\t//\t\tit easier to troubleshoot while in debug mode.\r\n\t\t\t// ioArgs: dojo/main.__IoCallbackArgs\r\n\t\t\t//\t\tProvides additional information about the request.\r\n\t\t\t// response: Object\r\n\t\t\t//\t\tThe response in the format as defined with handleAs.\r\n\t\t},\r\n\r\n\t\thandle: function(loadOrError, response, ioArgs){\r\n\t\t\t// summary:\r\n\t \t\t//\t\tThis function will\r\n\t \t\t//\t\tbe called at the end of every request, whether or not an error occurs.\r\n\t\t\t// loadOrError: String\r\n\t\t\t//\t\tProvides a string that tells you whether this function\r\n\t\t\t//\t\twas called because of success (load) or failure (error).\r\n\t\t\t// response: Object\r\n\t\t\t//\t\tThe response in the format as defined with handleAs.\r\n\t\t\t// ioArgs: dojo/main.__IoCallbackArgs\r\n\t\t\t//\t\tProvides additional information about the request.\r\n\t\t}\r\n\t});\r\n\r\n\tdojo.__IoCallbackArgs = declare(null, {\r\n\t\t// args: Object\r\n\t\t//\t\tthe original object argument to the IO call.\r\n\t\t// xhr: XMLHttpRequest\r\n\t\t//\t\tFor XMLHttpRequest calls only, the\r\n\t\t//\t\tXMLHttpRequest object that was used for the\r\n\t\t//\t\trequest.\r\n\t\t// url: String\r\n\t\t//\t\tThe final URL used for the call. Many times it\r\n\t\t//\t\twill be different than the original args.url\r\n\t\t//\t\tvalue.\r\n\t\t// query: String\r\n\t\t//\t\tFor non-GET requests, the\r\n\t\t//\t\tname1=value1&name2=value2 parameters sent up in\r\n\t\t//\t\tthe request.\r\n\t\t// handleAs: String\r\n\t\t//\t\tThe final indicator on how the response will be\r\n\t\t//\t\thandled.\r\n\t\t// id: String\r\n\t\t//\t\tFor dojo/io/script calls only, the internal\r\n\t\t//\t\tscript ID used for the request.\r\n\t\t// canDelete: Boolean\r\n\t\t//\t\tFor dojo/io/script calls only, indicates\r\n\t\t//\t\twhether the script tag that represents the\r\n\t\t//\t\trequest can be deleted after callbacks have\r\n\t\t//\t\tbeen called. Used internally to know when\r\n\t\t//\t\tcleanup can happen on JSONP-type requests.\r\n\t\t// json: Object\r\n\t\t//\t\tFor dojo/io/script calls only: holds the JSON\r\n\t\t//\t\tresponse for JSONP-type requests. Used\r\n\t\t//\t\tinternally to hold on to the JSON responses.\r\n\t\t//\t\tYou should not need to access it directly --\r\n\t\t//\t\tthe same object should be passed to the success\r\n\t\t//\t\tcallbacks directly.\r\n\t});\r\n\r\n\tdojo.__IoPublish = declare(null, {\r\n\t\t// summary:\r\n\t\t//\t\tThis is a list of IO topics that can be published\r\n\t\t//\t\tif djConfig.ioPublish is set to true. IO topics can be\r\n\t\t//\t\tpublished for any Input/Output, network operation. So,\r\n\t\t//\t\tdojo.xhr, dojo.io.script and dojo.io.iframe can all\r\n\t\t//\t\ttrigger these topics to be published.\r\n\t\t// start: String\r\n\t\t//\t\t\"/dojo/io/start\" is sent when there are no outstanding IO\r\n\t\t//\t\trequests, and a new IO request is started. No arguments\r\n\t\t//\t\tare passed with this topic.\r\n\t\t// send: String\r\n\t\t//\t\t\"/dojo/io/send\" is sent whenever a new IO request is started.\r\n\t\t//\t\tIt passes the dojo.Deferred for the request with the topic.\r\n\t\t// load: String\r\n\t\t//\t\t\"/dojo/io/load\" is sent whenever an IO request has loaded\r\n\t\t//\t\tsuccessfully. It passes the response and the dojo.Deferred\r\n\t\t//\t\tfor the request with the topic.\r\n\t\t// error: String\r\n\t\t//\t\t\"/dojo/io/error\" is sent whenever an IO request has errored.\r\n\t\t//\t\tIt passes the error and the dojo.Deferred\r\n\t\t//\t\tfor the request with the topic.\r\n\t\t// done: String\r\n\t\t//\t\t\"/dojo/io/done\" is sent whenever an IO request has completed,\r\n\t\t//\t\teither by loading or by erroring. It passes the error and\r\n\t\t//\t\tthe dojo.Deferred for the request with the topic.\r\n\t\t// stop: String\r\n\t\t//\t\t\"/dojo/io/stop\" is sent when all outstanding IO requests have\r\n\t\t//\t\tfinished. No arguments are passed with this topic.\r\n\t});\r\n\t=====*/\r\n\r\n\r\n\tdojo._ioSetArgs = function(/*dojo/main.__IoArgs*/args,\r\n\t\t\t/*Function*/canceller,\r\n\t\t\t/*Function*/okHandler,\r\n\t\t\t/*Function*/errHandler){\r\n\t\t// summary:\r\n\t\t//\t\tsets up the Deferred and ioArgs property on the Deferred so it\r\n\t\t//\t\tcan be used in an io call.\r\n\t\t// args:\r\n\t\t//\t\tThe args object passed into the public io call. Recognized properties on\r\n\t\t//\t\tthe args object are:\r\n\t\t// canceller:\r\n\t\t//\t\tThe canceller function used for the Deferred object. The function\r\n\t\t//\t\twill receive one argument, the Deferred object that is related to the\r\n\t\t//\t\tcanceller.\r\n\t\t// okHandler:\r\n\t\t//\t\tThe first OK callback to be registered with Deferred. It has the opportunity\r\n\t\t//\t\tto transform the OK response. It will receive one argument -- the Deferred\r\n\t\t//\t\tobject returned from this function.\r\n\t\t// errHandler:\r\n\t\t//\t\tThe first error callback to be registered with Deferred. It has the opportunity\r\n\t\t//\t\tto do cleanup on an error. It will receive two arguments: error (the\r\n\t\t//\t\tError object) and dfd, the Deferred object returned from this function.\r\n\r\n\t\tvar ioArgs = {args: args, url: args.url};\r\n\r\n\t\t//Get values from form if requested.\r\n\t\tvar formObject = null;\r\n\t\tif(args.form){\r\n\t\t\tvar form = dom.byId(args.form);\r\n\t\t\t//IE requires going through getAttributeNode instead of just getAttribute in some form cases,\r\n\t\t\t//so use it for all. See #2844\r\n\t\t\tvar actnNode = form.getAttributeNode(\"action\");\r\n\t\t\tioArgs.url = ioArgs.url || (actnNode ? actnNode.value : null);\r\n\t\t\tformObject = domForm.toObject(form);\r\n\t\t}\r\n\r\n\t\t// set up the query params\r\n\t\tvar miArgs = [{}];\r\n\r\n\t\tif(formObject){\r\n\t\t\t// potentially over-ride url-provided params w/ form values\r\n\t\t\tmiArgs.push(formObject);\r\n\t\t}\r\n\t\tif(args.content){\r\n\t\t\t// stuff in content over-rides what's set by form\r\n\t\t\tmiArgs.push(args.content);\r\n\t\t}\r\n\t\tif(args.preventCache){\r\n\t\t\tmiArgs.push({\"dojo.preventCache\": new Date().valueOf()});\r\n\t\t}\r\n\t\tioArgs.query = ioq.objectToQuery(lang.mixin.apply(null, miArgs));\r\n\r\n\t\t// .. and the real work of getting the deferred in order, etc.\r\n\t\tioArgs.handleAs = args.handleAs || \"text\";\r\n\t\tvar d = new Deferred(function(dfd){\r\n\t\t\tdfd.canceled = true;\r\n\t\t\tcanceller && canceller(dfd);\r\n\r\n\t\t\tvar err = dfd.ioArgs.error;\r\n\t\t\tif(!err){\r\n\t\t\t\terr = new Error(\"request cancelled\");\r\n\t\t\t\terr.dojoType=\"cancel\";\r\n\t\t\t\tdfd.ioArgs.error = err;\r\n\t\t\t}\r\n\t\t\treturn err;\r\n\t\t});\r\n\t\td.addCallback(okHandler);\r\n\r\n\t\t//Support specifying load, error and handle callback functions from the args.\r\n\t\t//For those callbacks, the \"this\" object will be the args object.\r\n\t\t//The callbacks will get the deferred result value as the\r\n\t\t//first argument and the ioArgs object as the second argument.\r\n\t\tvar ld = args.load;\r\n\t\tif(ld && lang.isFunction(ld)){\r\n\t\t\td.addCallback(function(value){\r\n\t\t\t\treturn ld.call(args, value, ioArgs);\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar err = args.error;\r\n\t\tif(err && lang.isFunction(err)){\r\n\t\t\td.addErrback(function(value){\r\n\t\t\t\treturn err.call(args, value, ioArgs);\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar handle = args.handle;\r\n\t\tif(handle && lang.isFunction(handle)){\r\n\t\t\td.addBoth(function(value){\r\n\t\t\t\treturn handle.call(args, value, ioArgs);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Attach error handler last (not including topic publishing)\r\n\t\t// to catch any errors that may have been generated from load\r\n\t\t// or handle functions.\r\n\t\td.addErrback(function(error){\r\n\t\t\treturn errHandler(error, d);\r\n\t\t});\r\n\r\n\t\t//Plug in topic publishing, if dojo.publish is loaded.\r\n\t\tif(cfg.ioPublish && dojo.publish && ioArgs.args.ioPublish !== false){\r\n\t\t\td.addCallbacks(\r\n\t\t\t\tfunction(res){\r\n\t\t\t\t\tdojo.publish(\"/dojo/io/load\", [d, res]);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res){\r\n\t\t\t\t\tdojo.publish(\"/dojo/io/error\", [d, res]);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\td.addBoth(function(res){\r\n\t\t\t\tdojo.publish(\"/dojo/io/done\", [d, res]);\r\n\t\t\t\treturn res;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\td.ioArgs = ioArgs;\r\n\r\n\t\t// FIXME: need to wire up the xhr object's abort method to something\r\n\t\t// analogous in the Deferred\r\n\t\treturn d;\r\n\t};\r\n\r\n\tvar _deferredOk = function(/*Deferred*/dfd){\r\n\t\t// summary:\r\n\t\t//\t\tokHandler function for dojo._ioSetArgs call.\r\n\r\n\t\tvar ret = handlers[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);\r\n\t\treturn ret === undefined ? null : ret;\r\n\t};\r\n\tvar _deferError = function(/*Error*/error, /*Deferred*/dfd){\r\n\t\t// summary:\r\n\t\t//\t\terrHandler function for dojo._ioSetArgs call.\r\n\r\n\t\tif(!dfd.ioArgs.args.failOk){\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t\treturn error;\r\n\t};\r\n\r\n\t//Use a separate count for knowing if we are starting/stopping io calls.\r\n\tvar _checkPubCount = function(dfd){\r\n\t\tif(_pubCount <= 0){\r\n\t\t\t_pubCount = 0;\r\n\t\t\tif(cfg.ioPublish && dojo.publish && (!dfd || dfd && dfd.ioArgs.args.ioPublish !== false)){\r\n\t\t\t\tdojo.publish(\"/dojo/io/stop\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar _pubCount = 0;\r\n\taspect.after(watch, \"_onAction\", function(){\r\n\t\t_pubCount -= 1;\r\n\t});\r\n\taspect.after(watch, \"_onInFlight\", _checkPubCount);\r\n\r\n\tdojo._ioCancelAll = watch.cancelAll;\r\n\t/*=====\r\n\tdojo._ioCancelAll = function(){\r\n\t\t// summary:\r\n\t\t//\t\tCancels all pending IO requests, regardless of IO type\r\n\t\t//\t\t(xhr, script, iframe).\r\n\t};\r\n\t=====*/\r\n\r\n\tdojo._ioNotifyStart = function(/*Deferred*/dfd){\r\n\t\t// summary:\r\n\t\t//\t\tIf dojo.publish is available, publish topics\r\n\t\t//\t\tabout the start of a request queue and/or the\r\n\t\t//\t\tthe beginning of request.\r\n\t\t//\r\n\t\t//\t\tUsed by IO transports. An IO transport should\r\n\t\t//\t\tcall this method before making the network connection.\r\n\t\tif(cfg.ioPublish && dojo.publish && dfd.ioArgs.args.ioPublish !== false){\r\n\t\t\tif(!_pubCount){\r\n\t\t\t\tdojo.publish(\"/dojo/io/start\");\r\n\t\t\t}\r\n\t\t\t_pubCount += 1;\r\n\t\t\tdojo.publish(\"/dojo/io/send\", [dfd]);\r\n\t\t}\r\n\t};\r\n\r\n\tdojo._ioWatch = function(dfd, validCheck, ioCheck, resHandle){\r\n\t\t// summary:\r\n\t\t//\t\tWatches the io request represented by dfd to see if it completes.\r\n\t\t// dfd: Deferred\r\n\t\t//\t\tThe Deferred object to watch.\r\n\t\t// validCheck: Function\r\n\t\t//\t\tFunction used to check if the IO request is still valid. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\t\t// ioCheck: Function\r\n\t\t//\t\tFunction used to check if basic IO call worked. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\t\t// resHandle: Function\r\n\t\t//\t\tFunction used to process response. Gets the dfd\r\n\t\t//\t\tobject as its only argument.\r\n\r\n\t\tvar args = dfd.ioArgs.options = dfd.ioArgs.args;\r\n\t\tlang.mixin(dfd, {\r\n\t\t\tresponse: dfd.ioArgs,\r\n\t\t\tisValid: function(response){\r\n\t\t\t\treturn validCheck(dfd);\r\n\t\t\t},\r\n\t\t\tisReady: function(response){\r\n\t\t\t\treturn ioCheck(dfd);\r\n\t\t\t},\r\n\t\t\thandleResponse: function(response){\r\n\t\t\t\treturn resHandle(dfd);\r\n\t\t\t}\r\n\t\t});\r\n\t\twatch(dfd);\r\n\r\n\t\t_checkPubCount(dfd);\r\n\t};\r\n\r\n\tvar _defaultContentType = \"application/x-www-form-urlencoded\";\r\n\r\n\tdojo._ioAddQueryToUrl = function(/*dojo.__IoCallbackArgs*/ioArgs){\r\n\t\t// summary:\r\n\t\t//\t\tAdds query params discovered by the io deferred construction to the URL.\r\n\t\t//\t\tOnly use this for operations which are fundamentally GET-type operations.\r\n\t\tif(ioArgs.query.length){\r\n\t\t\tioArgs.url += (ioArgs.url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + ioArgs.query;\r\n\t\t\tioArgs.query = null;\r\n\t\t}\r\n\t};\r\n\r\n\t/*=====\r\n\tdojo.__XhrArgs = declare(dojo.__IoArgs, {\r\n\t\t// summary:\r\n\t\t//\t\tIn addition to the properties listed for the dojo._IoArgs type,\r\n\t\t//\t\tthe following properties are allowed for dojo.xhr* methods.\r\n\t\t// handleAs: String?\r\n\t\t//\t\tAcceptable values are: text (default), json, json-comment-optional,\r\n\t\t//\t\tjson-comment-filtered, javascript, xml. See `dojo/_base/xhr.contentHandlers`\r\n\t \t// sync: Boolean?\r\n\t\t//\t\tfalse is default. Indicates whether the request should\r\n\t\t//\t\tbe a synchronous (blocking) request.\r\n\t\t// headers: Object?\r\n\t\t//\t\tAdditional HTTP headers to send in the request.\r\n\t\t// failOk: Boolean?\r\n\t\t//\t\tfalse is default. Indicates whether a request should be\r\n\t\t//\t\tallowed to fail (and therefore no console error message in\r\n\t\t//\t\tthe event of a failure)\r\n\t\t// contentType: String|Boolean\r\n\t\t//\t\t\"application/x-www-form-urlencoded\" is default. Set to false to\r\n\t\t//\t\tprevent a Content-Type header from being sent, or to a string\r\n\t\t//\t\tto send a different Content-Type.\r\n\t });\r\n\t=====*/\r\n\r\n\tdojo.xhr = function(/*String*/ method, /*dojo.__XhrArgs*/ args, /*Boolean?*/ hasBody){\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated.   Use dojo/request instead.\r\n\t\t// description:\r\n\t\t//\t\tSends an HTTP request with the given method.\r\n\t\t//\t\tSee also dojo.xhrGet(), xhrPost(), xhrPut() and dojo.xhrDelete() for shortcuts\r\n\t\t//\t\tfor those HTTP methods. There are also methods for \"raw\" PUT and POST methods\r\n\t\t//\t\tvia dojo.rawXhrPut() and dojo.rawXhrPost() respectively.\r\n\t\t// method:\r\n\t\t//\t\tHTTP method to be used, such as GET, POST, PUT, DELETE. Should be uppercase.\r\n\t\t// hasBody:\r\n\t\t//\t\tIf the request has an HTTP body, then pass true for hasBody.\r\n\r\n\t\tvar rDfd;\r\n\t\t//Make the Deferred object for this xhr request.\r\n\t\tvar dfd = dojo._ioSetArgs(args, function(dfd){\r\n\t\t\trDfd && rDfd.cancel();\r\n\t\t}, _deferredOk, _deferError);\r\n\t\tvar ioArgs = dfd.ioArgs;\r\n\r\n\t\t//Allow for specifying the HTTP body completely.\r\n\t\tif(\"postData\" in args){\r\n\t\t\tioArgs.query = args.postData;\r\n\t\t}else if(\"putData\" in args){\r\n\t\t\tioArgs.query = args.putData;\r\n\t\t}else if(\"rawBody\" in args){\r\n\t\t\tioArgs.query = args.rawBody;\r\n\t\t}else if((arguments.length > 2 && !hasBody) || \"POST|PUT\".indexOf(method.toUpperCase()) === -1){\r\n\t\t\t//Check for hasBody being passed. If no hasBody,\r\n\t\t\t//then only append query string if not a POST or PUT request.\r\n\t\t\tdojo._ioAddQueryToUrl(ioArgs);\r\n\t\t}\r\n\r\n\t\tvar options = {\r\n\t\t\tmethod: method,\r\n\t\t\thandleAs: \"text\",\r\n\t\t\ttimeout: args.timeout,\r\n\t\t\twithCredentials: args.withCredentials,\r\n\t\t\tioArgs: ioArgs\r\n\t\t};\r\n\r\n\t\tif(typeof args.headers !== 'undefined'){\r\n\t\t\toptions.headers = args.headers;\r\n\t\t}\r\n\t\tif(typeof args.contentType !== 'undefined'){\r\n\t\t\tif(!options.headers){\r\n\t\t\t\toptions.headers = {};\r\n\t\t\t}\r\n\t\t\toptions.headers['Content-Type'] = args.contentType;\r\n\t\t}\r\n\t\tif(typeof ioArgs.query !== 'undefined'){\r\n\t\t\toptions.data = ioArgs.query;\r\n\t\t}\r\n\t\tif(typeof args.sync !== 'undefined'){\r\n\t\t\toptions.sync = args.sync;\r\n\t\t}\r\n\r\n\t\tdojo._ioNotifyStart(dfd);\r\n\t\ttry{\r\n\t\t\trDfd = _xhr(ioArgs.url, options, true);\r\n\t\t}catch(e){\r\n\t\t\t// If XHR creation fails, dojo/request/xhr throws\r\n\t\t\t// When this happens, cancel the deferred\r\n\t\t\tdfd.cancel();\r\n\t\t\treturn dfd;\r\n\t\t}\r\n\r\n\t\t// sync ioArgs\r\n\t\tdfd.ioArgs.xhr = rDfd.response.xhr;\r\n\r\n\t\trDfd.then(function(){\r\n\t\t\tdfd.resolve(dfd);\r\n\t\t}).otherwise(function(error){\r\n\t\t\tioArgs.error = error;\r\n\t\t\tif(error.response){\r\n\t\t\t\terror.status = error.response.status;\r\n\t\t\t\terror.responseText = error.response.text;\r\n\t\t\t\terror.xhr = error.response.xhr;\r\n\t\t\t}\r\n\t\t\tdfd.reject(error);\r\n\t\t});\r\n\t\treturn dfd; // dojo/_base/Deferred\r\n\t};\r\n\r\n\tdojo.xhrGet = function(/*dojo.__XhrArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tSends an HTTP GET request to the server.\r\n\t\treturn dojo.xhr(\"GET\", args); // dojo/_base/Deferred\r\n\t};\r\n\r\n\tdojo.rawXhrPost = dojo.xhrPost = function(/*dojo.__XhrArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tSends an HTTP POST request to the server. In addition to the properties\r\n\t\t//\t\tlisted for the dojo.__XhrArgs type, the following property is allowed:\r\n\t\t// postData:\r\n\t\t//\t\tString. Send raw data in the body of the POST request.\r\n\t\treturn dojo.xhr(\"POST\", args, true); // dojo/_base/Deferred\r\n\t};\r\n\r\n\tdojo.rawXhrPut = dojo.xhrPut = function(/*dojo.__XhrArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tSends an HTTP PUT request to the server. In addition to the properties\r\n\t\t//\t\tlisted for the dojo.__XhrArgs type, the following property is allowed:\r\n\t\t// putData:\r\n\t\t//\t\tString. Send raw data in the body of the PUT request.\r\n\t\treturn dojo.xhr(\"PUT\", args, true); // dojo/_base/Deferred\r\n\t};\r\n\r\n\tdojo.xhrDelete = function(/*dojo.__XhrArgs*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tSends an HTTP DELETE request to the server.\r\n\t\treturn dojo.xhr(\"DELETE\", args); // dojo/_base/Deferred\r\n\t};\r\n\r\n\t/*\r\n\tdojo.wrapForm = function(formNode){\r\n\t\t// summary:\r\n\t\t//\t\tA replacement for FormBind, but not implemented yet.\r\n\r\n\t\t// FIXME: need to think harder about what extensions to this we might\r\n\t\t// want. What should we allow folks to do w/ this? What events to\r\n\t\t// set/send?\r\n\t\tthrow new Error(\"dojo.wrapForm not yet implemented\");\r\n\t}\r\n\t*/\r\n\r\n\tdojo._isDocumentOk = function(x){\r\n\t\treturn util.checkStatus(x.status);\r\n\t};\r\n\r\n\tdojo._getText = function(url){\r\n\t\tvar result;\r\n\t\tdojo.xhrGet({url:url, sync:true, load:function(text){\r\n\t\t\tresult = text;\r\n\t\t}});\r\n\t\treturn result;\r\n\t};\r\n\r\n\t// Add aliases for static functions to dojo.xhr since dojo.xhr is what's returned from this module\r\n\tlang.mixin(dojo.xhr, {\r\n\t\t_xhrObj: dojo._xhrObj,\r\n\t\tfieldToObject: domForm.fieldToObject,\r\n\t\tformToObject: domForm.toObject,\r\n\t\tobjectToQuery: ioq.objectToQuery,\r\n\t\tformToQuery: domForm.toQuery,\r\n\t\tformToJson: domForm.toJson,\r\n\t\tqueryToObject: ioq.queryToObject,\r\n\t\tcontentHandlers: handlers,\r\n\t\t_ioSetArgs: dojo._ioSetArgs,\r\n\t\t_ioCancelAll: dojo._ioCancelAll,\r\n\t\t_ioNotifyStart: dojo._ioNotifyStart,\r\n\t\t_ioWatch: dojo._ioWatch,\r\n\t\t_ioAddQueryToUrl: dojo._ioAddQueryToUrl,\r\n\t\t_isDocumentOk: dojo._isDocumentOk,\r\n\t\t_getText: dojo._getText,\r\n\t\tget: dojo.xhrGet,\r\n\t\tpost: dojo.xhrPost,\r\n\t\tput: dojo.xhrPut,\r\n\t\tdel: dojo.xhrDelete\t// because \"delete\" is a reserved word\r\n\t});\r\n\r\n\treturn dojo.xhr;\r\n});\r\n\ndefine('dijit/layout/ContentPane',[\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.mixin lang.delegate lang.hitch lang.isFunction lang.isObject\r\n\t\"../_Widget\",\r\n\t\"../_Container\",\r\n\t\"./_ContentPaneResizeMixin\",\r\n\t\"dojo/string\", // string.substitute\r\n\t\"dojo/html\", // html._ContentSetter\r\n\t\"dojo/i18n!../nls/loading\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/Deferred\", // Deferred\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/dom-attr\", // domAttr.attr\r\n\t\"dojo/dom-construct\", // empty()\r\n\t\"dojo/_base/xhr\", // xhr.get\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/when\"\r\n], function(kernel, lang, _Widget, _Container, _ContentPaneResizeMixin, string, html, nlsLoading, array, declare,\r\n\t\t\tDeferred, dom, domAttr, domConstruct, xhr, i18n, when){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/ContentPane\r\n\r\n\treturn declare(\"dijit.layout.ContentPane\", [_Widget, _Container, _ContentPaneResizeMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA widget containing an HTML fragment, specified inline\r\n\t\t//\t\tor by uri.  Fragment may include widgets.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tThis widget embeds a document fragment in the page, specified\r\n\t\t//\t\teither by uri, javascript generated markup or DOM reference.\r\n\t\t//\t\tAny widgets within this content are instantiated and managed,\r\n\t\t//\t\tbut laid out according to the HTML structure.  Unlike IFRAME,\r\n\t\t//\t\tContentPane embeds a document fragment as would be found\r\n\t\t//\t\tinside the BODY tag of a full HTML document.  It should not\r\n\t\t//\t\tcontain the HTML, HEAD, or BODY tags.\r\n\t\t//\t\tFor more advanced functionality with scripts and\r\n\t\t//\t\tstylesheets, see dojox/layout/ContentPane.  This widget may be\r\n\t\t//\t\tused stand alone or as a base class for other widgets.\r\n\t\t//\t\tContentPane is useful as a child of other layout containers\r\n\t\t//\t\tsuch as BorderContainer or TabContainer, but note that those\r\n\t\t//\t\twidgets can contain any widget as a child.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tSome quick samples:\r\n\t\t//\t\tTo change the innerHTML:\r\n\t\t// |\t\tcp.set('content', '<b>new content</b>')`\r\n\t\t//\t\tOr you can send it a NodeList:\r\n\t\t// |\t\tcp.set('content', dojo.query('div [class=selected]', userSelection))\r\n\t\t//\t\tTo do an ajax update:\r\n\t\t// |\t\tcp.set('href', url)\r\n\r\n\t\t// href: String\r\n\t\t//\t\tThe href of the content that displays now.\r\n\t\t//\t\tSet this at construction if you want to load data externally when the\r\n\t\t//\t\tpane is shown.  (Set preload=true to load it immediately.)\r\n\t\t//\t\tChanging href after creation doesn't have any effect; Use set('href', ...);\r\n\t\thref: \"\",\r\n\r\n\t\t// content: String|DomNode|NodeList|dijit/_Widget\r\n\t\t//\t\tThe innerHTML of the ContentPane.\r\n\t\t//\t\tNote that the initialization parameter / argument to set(\"content\", ...)\r\n\t\t//\t\tcan be a String, DomNode, Nodelist, or _Widget.\r\n\t\tcontent: \"\",\r\n\r\n\t\t// extractContent: Boolean\r\n\t\t//\t\tExtract visible content from inside of `<body> .... </body>`.\r\n\t\t//\t\tI.e., strip `<html>` and `<head>` (and it's contents) from the href\r\n\t\textractContent: false,\r\n\r\n\t\t// parseOnLoad: Boolean\r\n\t\t//\t\tParse content and create the widgets, if any.\r\n\t\tparseOnLoad: true,\r\n\r\n\t\t// parserScope: String\r\n\t\t//\t\tFlag passed to parser.  Root for attribute names to search for.   If scopeName is dojo,\r\n\t\t//\t\twill search for data-dojo-type (or dojoType).  For backwards compatibility\r\n\t\t//\t\treasons defaults to dojo._scopeName (which is \"dojo\" except when\r\n\t\t//\t\tmulti-version support is used, when it will be something like dojo16, dojo20, etc.)\r\n\t\tparserScope: kernel._scopeName,\r\n\r\n\t\t// preventCache: Boolean\r\n\t\t//\t\tPrevent caching of data from href's by appending a timestamp to the href.\r\n\t\tpreventCache: false,\r\n\r\n\t\t// preload: Boolean\r\n\t\t//\t\tForce load of data on initialization even if pane is hidden.\r\n\t\tpreload: false,\r\n\r\n\t\t// refreshOnShow: Boolean\r\n\t\t//\t\tRefresh (re-download) content when pane goes from hidden to shown\r\n\t\trefreshOnShow: false,\r\n\r\n\t\t// loadingMessage: String\r\n\t\t//\t\tMessage that shows while downloading\r\n\t\tloadingMessage: \"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>\",\r\n\r\n\t\t// errorMessage: String\r\n\t\t//\t\tMessage that shows if an error occurs\r\n\t\terrorMessage: \"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>\",\r\n\r\n\t\t// isLoaded: [readonly] Boolean\r\n\t\t//\t\tTrue if the ContentPane has data in it, either specified\r\n\t\t//\t\tduring initialization (via href or inline content), or set\r\n\t\t//\t\tvia set('content', ...) / set('href', ...)\r\n\t\t//\r\n\t\t//\t\tFalse if it doesn't have any content, or if ContentPane is\r\n\t\t//\t\tstill in the process of downloading href.\r\n\t\tisLoaded: false,\r\n\r\n\t\tbaseClass: \"dijitContentPane\",\r\n\r\n\t\t/*======\r\n\t\t // ioMethod: dojo/_base/xhr.get|dojo._base/xhr.post\r\n\t\t //\t\tFunction that should grab the content specified via href.\r\n\t\t ioMethod: dojo.xhrGet,\r\n\t\t ======*/\r\n\r\n\t\t// ioArgs: Object\r\n\t\t//\t\tParameters to pass to xhrGet() request, for example:\r\n\t\t// |\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"href: './bar', ioArgs: {timeout: 500}\">\r\n\t\tioArgs: {},\r\n\r\n\t\t// onLoadDeferred: [readonly] dojo.Deferred\r\n\t\t//\t\tThis is the `dojo.Deferred` returned by set('href', ...) and refresh().\r\n\t\t//\t\tCalling onLoadDeferred.then() registers your\r\n\t\t//\t\tcallback to be called only once, when the prior set('href', ...) call or\r\n\t\t//\t\tthe initial href parameter to the constructor finishes loading.\r\n\t\t//\r\n\t\t//\t\tThis is different than an onLoad() handler which gets called any time any href\r\n\t\t//\t\tor content is loaded.\r\n\t\tonLoadDeferred: null,\r\n\r\n\t\t// Cancel _WidgetBase's _setTitleAttr because we don't want the title attribute (used to specify\r\n\t\t// tab labels) to be copied to ContentPane.domNode... otherwise a tooltip shows up over the\r\n\t\t// entire pane.\r\n\t\t_setTitleAttr: null,\r\n\r\n\t\t// Flag to parser that I'll parse my contents, so it shouldn't.\r\n\t\tstopParser: true,\r\n\r\n\t\t// template: [private] Boolean\r\n\t\t//\t\tFlag from the parser that this ContentPane is inside a template\r\n\t\t//\t\tso the contents are pre-parsed.\r\n\t\t// TODO: this declaration can be commented out in 2.0\r\n\t\ttemplate: false,\r\n\r\n\t\tmarkupFactory: function(params, node, ctor){\r\n\t\t\tvar self = new ctor(params, node);\r\n\r\n\t\t\t// If a parse has started but is waiting for modules to load, then return a Promise for when the parser\r\n\t\t\t// finishes.  Don't return a promise though for the case when content hasn't started loading because the\r\n\t\t\t// ContentPane is hidden and it has an href (ex: hidden pane of a TabContainer).   In that case we consider\r\n\t\t\t// that initialization has already finished.\r\n\t\t\treturn !self.href && self._contentSetter && self._contentSetter.parseDeferred && !self._contentSetter.parseDeferred.isFulfilled() ?\r\n\t\t\t\tself._contentSetter.parseDeferred.then(function(){\r\n\t\t\t\t\treturn self;\r\n\t\t\t\t}) : self;\r\n\t\t},\r\n\r\n\t\tcreate: function(params, srcNodeRef){\r\n\t\t\t// Convert a srcNodeRef argument into a content parameter, so that the original contents are\r\n\t\t\t// processed in the same way as contents set via set(\"content\", ...), calling the parser etc.\r\n\t\t\t// Avoid modifying original params object since that breaks NodeList instantiation, see #11906.\r\n\t\t\tif((!params || !params.template) && srcNodeRef && !(\"href\" in params) && !(\"content\" in params)){\r\n\t\t\t\tsrcNodeRef = dom.byId(srcNodeRef);\r\n\t\t\t\tvar df = srcNodeRef.ownerDocument.createDocumentFragment();\r\n\t\t\t\twhile(srcNodeRef.firstChild){\r\n\t\t\t\t\tdf.appendChild(srcNodeRef.firstChild);\r\n\t\t\t\t}\r\n\t\t\t\tparams = lang.delegate(params, {content: df});\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [params, srcNodeRef]);\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar messages = i18n.getLocalization(\"dijit\", \"loading\", this.lang);\r\n\t\t\tthis.loadingMessage = string.substitute(this.loadingMessage, messages);\r\n\t\t\tthis.errorMessage = string.substitute(this.errorMessage, messages);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Since we have no template we need to set this.containerNode ourselves, to make getChildren() work.\r\n\t\t\t// For subclasses of ContentPane that do have a template, does nothing.\r\n\t\t\tif(!this.containerNode){\r\n\t\t\t\tthis.containerNode = this.domNode;\r\n\t\t\t}\r\n\r\n\t\t\t// remove the title attribute so it doesn't show up when hovering\r\n\t\t\t// over a node  (TODO: remove in 2.0, no longer needed after #11490)\r\n\t\t\tthis.domNode.removeAttribute(\"title\");\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCall startup() on all children including non _Widget ones like dojo/dnd/Source objects\r\n\r\n\t\t\t// This starts all the widgets\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// And this catches stuff like dojo/dnd/Source\r\n\t\t\tif(this._contentSetter){\r\n\t\t\t\tarray.forEach(this._contentSetter.parseResults, function(obj){\r\n\t\t\t\t\tif(!obj._started && !obj._destroyed && lang.isFunction(obj.startup)){\r\n\t\t\t\t\t\tobj.startup();\r\n\t\t\t\t\t\tobj._started = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_startChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when content is loaded.   Calls startup on each child widget.   Similar to ContentPane.startup()\r\n\t\t\t//\t\titself, but avoids marking the ContentPane itself as \"restarted\" (see #15581).\r\n\r\n\t\t\t// This starts all the widgets\r\n\t\t\tarray.forEach(this.getChildren(), function(obj){\r\n\t\t\t\tif(!obj._started && !obj._destroyed && lang.isFunction(obj.startup)){\r\n\t\t\t\t\tobj.startup();\r\n\t\t\t\t\tobj._started = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// And this catches stuff like dojo/dnd/Source\r\n\t\t\tif(this._contentSetter){\r\n\t\t\t\tarray.forEach(this._contentSetter.parseResults, function(obj){\r\n\t\t\t\t\tif(!obj._started && !obj._destroyed && lang.isFunction(obj.startup)){\r\n\t\t\t\t\t\tobj.startup();\r\n\t\t\t\t\t\tobj._started = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetHref: function(/*String|Uri*/ href){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('href', ...) instead.\r\n\t\t\tkernel.deprecated(\"dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.set(\"href\", href);\r\n\t\t},\r\n\t\t_setHrefAttr: function(/*String|Uri*/ href){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set(\"href\", ...) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReset the (external defined) content of this pane and replace with new url\r\n\t\t\t//\t\tNote: It delays the download until widget is shown if preload is false.\r\n\t\t\t// href:\r\n\t\t\t//\t\turl to the page you want to get, must be within the same domain as your mainpage\r\n\r\n\t\t\t// Cancel any in-flight requests (a set('href', ...) will cancel any in-flight set('href', ...))\r\n\t\t\tthis.cancel();\r\n\r\n\t\t\tthis.onLoadDeferred = new Deferred(lang.hitch(this, \"cancel\"));\r\n\t\t\tthis.onLoadDeferred.then(lang.hitch(this, \"onLoad\"));\r\n\r\n\t\t\tthis._set(\"href\", href);\r\n\r\n\t\t\t// _setHrefAttr() is called during creation and by the user, after creation.\r\n\t\t\t// Assuming preload == false, only in the second case do we actually load the URL;\r\n\t\t\t// otherwise it's done in startup(), and only if this widget is shown.\r\n\t\t\tif(this.preload || (this._created && this._isShown())){\r\n\t\t\t\tthis._load();\r\n\t\t\t}else{\r\n\t\t\t\t// Set flag to indicate that href needs to be loaded the next time the\r\n\t\t\t\t// ContentPane is made visible\r\n\t\t\t\tthis._hrefChanged = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.onLoadDeferred;\t\t// Deferred\r\n\t\t},\r\n\r\n\t\tsetContent: function(/*String|DomNode|Nodelist*/data){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('content', ...) instead.\r\n\t\t\tkernel.deprecated(\"dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set(\"content\", data);\r\n\t\t},\r\n\t\t_setContentAttr: function(/*String|DomNode|Nodelist*/data){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"content\", ...) work.\r\n\t\t\t//\t\tReplaces old content with data content, include style classes from old content\r\n\t\t\t// data:\r\n\t\t\t//\t\tthe new Content may be String, DomNode or NodeList\r\n\t\t\t//\r\n\t\t\t//\t\tif data is a NodeList (or an array of nodes) nodes are copied\r\n\t\t\t//\t\tso you can import nodes from another document implicitly\r\n\r\n\t\t\t// clear href so we can't run refresh and clear content\r\n\t\t\t// refresh should only work if we downloaded the content\r\n\t\t\tthis._set(\"href\", \"\");\r\n\r\n\t\t\t// Cancel any in-flight requests (a set('content', ...) will cancel any in-flight set('href', ...))\r\n\t\t\tthis.cancel();\r\n\r\n\t\t\t// Even though user is just setting content directly, still need to define an onLoadDeferred\r\n\t\t\t// because the _onLoadHandler() handler is still getting called from setContent()\r\n\t\t\tthis.onLoadDeferred = new Deferred(lang.hitch(this, \"cancel\"));\r\n\t\t\tif(this._created){\r\n\t\t\t\t// For back-compat reasons, call onLoad() for set('content', ...)\r\n\t\t\t\t// calls but not for content specified in srcNodeRef (ie: <div data-dojo-type=ContentPane>...</div>)\r\n\t\t\t\t// or as initialization parameter (ie: new ContentPane({content: ...})\r\n\t\t\t\tthis.onLoadDeferred.then(lang.hitch(this, \"onLoad\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis._setContent(data || \"\");\r\n\r\n\t\t\tthis._isDownloaded = false; // mark that content is from a set('content') not a set('href')\r\n\r\n\t\t\treturn this.onLoadDeferred;\t// Deferred\r\n\t\t},\r\n\t\t_getContentAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make get(\"content\") work\r\n\t\t\treturn this.containerNode.innerHTML;\r\n\t\t},\r\n\r\n\t\tcancel: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCancels an in-flight download of content\r\n\t\t\tif(this._xhrDfd && (this._xhrDfd.fired == -1)){\r\n\t\t\t\tthis._xhrDfd.cancel();\r\n\t\t\t}\r\n\t\t\tdelete this._xhrDfd; // garbage collect\r\n\r\n\t\t\tthis.onLoadDeferred = null;\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis.cancel();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tdestroyRecursive: function(/*Boolean*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroy the ContentPane and its contents\r\n\r\n\t\t\t// if we have multiple controllers destroying us, bail after the first\r\n\t\t\tif(this._beingDestroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onShow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the ContentPane is made visible\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor a plain ContentPane, this is called on initialization, from startup().\r\n\t\t\t//\t\tIf the ContentPane is a hidden pane of a TabContainer etc., then it's\r\n\t\t\t//\t\tcalled whenever the pane is made visible.\r\n\t\t\t//\r\n\t\t\t//\t\tDoes necessary processing, including href download and layout/resize of\r\n\t\t\t//\t\tchild widget(s)\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this.href){\r\n\t\t\t\tif(!this._xhrDfd && // if there's an href that isn't already being loaded\r\n\t\t\t\t\t(!this.isLoaded || this._hrefChanged || this.refreshOnShow)\r\n\t\t\t\t\t){\r\n\t\t\t\t\treturn this.refresh();\t// If child has an href, promise that fires when the load is complete\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\trefresh: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\t[Re]download contents of href and display\r\n\t\t\t// description:\r\n\t\t\t//\t\t1. cancels any currently in-flight requests\r\n\t\t\t//\t\t2. posts \"loading...\" message\r\n\t\t\t//\t\t3. sends XHR to download new data\r\n\r\n\t\t\t// Cancel possible prior in-flight request\r\n\t\t\tthis.cancel();\r\n\r\n\t\t\tthis.onLoadDeferred = new Deferred(lang.hitch(this, \"cancel\"));\r\n\t\t\tthis.onLoadDeferred.then(lang.hitch(this, \"onLoad\"));\r\n\t\t\tthis._load();\r\n\t\t\treturn this.onLoadDeferred;\t\t// If child has an href, promise that fires when refresh is complete\r\n\t\t},\r\n\r\n\t\t_load: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLoad/reload the href specified in this.href\r\n\r\n\t\t\t// display loading message\r\n\t\t\tthis._setContent(this.onDownloadStart(), true);\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar getArgs = {\r\n\t\t\t\tpreventCache: (this.preventCache || this.refreshOnShow),\r\n\t\t\t\turl: this.href,\r\n\t\t\t\thandleAs: \"text\"\r\n\t\t\t};\r\n\t\t\tif(lang.isObject(this.ioArgs)){\r\n\t\t\t\tlang.mixin(getArgs, this.ioArgs);\r\n\t\t\t}\r\n\r\n\t\t\tvar hand = (this._xhrDfd = (this.ioMethod || xhr.get)(getArgs)),\r\n\t\t\t\treturnedHtml;\r\n\r\n\t\t\thand.then(\r\n\t\t\t\tfunction(html){\r\n\t\t\t\t\treturnedHtml = html;\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tself._isDownloaded = true;\r\n\t\t\t\t\t\treturn self._setContent(html, false);\r\n\t\t\t\t\t}catch(err){\r\n\t\t\t\t\t\tself._onError('Content', err); // onContentError\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfunction(err){\r\n\t\t\t\t\tif(!hand.canceled){\r\n\t\t\t\t\t\t// show error message in the pane\r\n\t\t\t\t\t\tself._onError('Download', err); // onDownloadError\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete self._xhrDfd;\r\n\t\t\t\t\treturn err;\r\n\t\t\t\t}\r\n\t\t\t).then(function(){\r\n\t\t\t\t\tself.onDownloadEnd();\r\n\t\t\t\t\tdelete self._xhrDfd;\r\n\t\t\t\t\treturn returnedHtml;\r\n\t\t\t\t});\r\n\r\n\t\t\t// Remove flag saying that a load is needed\r\n\t\t\tdelete this._hrefChanged;\r\n\t\t},\r\n\r\n\t\t_onLoadHandler: function(data){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is called whenever new content is being loaded\r\n\t\t\tthis._set(\"isLoaded\", true);\r\n\t\t\ttry{\r\n\t\t\t\tthis.onLoadDeferred.resolve(data);\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.error('Error ' + this.widgetId + ' running custom onLoad code: ' + e.message);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onUnloadHandler: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is called whenever the content is being unloaded\r\n\t\t\tthis._set(\"isLoaded\", false);\r\n\t\t\ttry{\r\n\t\t\t\tthis.onUnload();\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.error('Error ' + this.widgetId + ' running custom onUnload code: ' + e.message);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroyDescendants: function(/*Boolean*/ preserveDom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDestroy all the widgets inside the ContentPane and empty containerNode\r\n\r\n\t\t\t// Make sure we call onUnload (but only when the ContentPane has real content)\r\n\t\t\tif(this.isLoaded){\r\n\t\t\t\tthis._onUnloadHandler();\r\n\t\t\t}\r\n\r\n\t\t\t// Even if this.isLoaded == false there might still be a \"Loading...\" message\r\n\t\t\t// to erase, so continue...\r\n\r\n\t\t\t// For historical reasons we need to delete all widgets under this.containerNode,\r\n\t\t\t// even ones that the user has created manually.\r\n\t\t\tvar setter = this._contentSetter;\r\n\t\t\tarray.forEach(this.getChildren(), function(widget){\r\n\t\t\t\tif(widget.destroyRecursive){\r\n\t\t\t\t\t// All widgets will hit this branch\r\n\t\t\t\t\twidget.destroyRecursive(preserveDom);\r\n\t\t\t\t}else if(widget.destroy){\r\n\t\t\t\t\t// Things like dojo/dnd/Source have destroy(), not destroyRecursive()\r\n\t\t\t\t\twidget.destroy(preserveDom);\r\n\t\t\t\t}\r\n\t\t\t\twidget._destroyed = true;\r\n\t\t\t});\r\n\t\t\tif(setter){\r\n\t\t\t\t// Most of the widgets in setter.parseResults have already been destroyed, but\r\n\t\t\t\t// things like Menu that have been moved to <body> haven't yet\r\n\t\t\t\tarray.forEach(setter.parseResults, function(widget){\r\n\t\t\t\t\tif(!widget._destroyed){\r\n\t\t\t\t\t\tif(widget.destroyRecursive){\r\n\t\t\t\t\t\t\t// All widgets will hit this branch\r\n\t\t\t\t\t\t\twidget.destroyRecursive(preserveDom);\r\n\t\t\t\t\t\t}else if(widget.destroy){\r\n\t\t\t\t\t\t\t// Things like dojo/dnd/Source have destroy(), not destroyRecursive()\r\n\t\t\t\t\t\t\twidget.destroy(preserveDom);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twidget._destroyed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdelete setter.parseResults;\r\n\t\t\t}\r\n\r\n\t\t\t// And then clear away all the DOM nodes\r\n\t\t\tif(!preserveDom){\r\n\t\t\t\tdomConstruct.empty(this.containerNode);\r\n\t\t\t}\r\n\r\n\t\t\t// Delete any state information we have about current contents\r\n\t\t\tdelete this._singleChild;\r\n\t\t},\r\n\r\n\t\t_setContent: function(/*String|DocumentFragment*/ cont, /*Boolean*/ isFakeContent){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInsert the content into the container node\r\n\t\t\t// returns:\r\n\t\t\t//\t\tReturns a Deferred promise that is resolved when the content is parsed.\r\n\r\n\t\t\t// first get rid of child widgets\r\n\t\t\tthis.destroyDescendants();\r\n\r\n\t\t\t// html.set will take care of the rest of the details\r\n\t\t\t// we provide an override for the error handling to ensure the widget gets the errors\r\n\t\t\t// configure the setter instance with only the relevant widget instance properties\r\n\t\t\t// NOTE: unless we hook into attr, or provide property setters for each property,\r\n\t\t\t// we need to re-configure the ContentSetter with each use\r\n\t\t\tvar setter = this._contentSetter;\r\n\t\t\tif(!(setter && setter instanceof html._ContentSetter)){\r\n\t\t\t\tsetter = this._contentSetter = new html._ContentSetter({\r\n\t\t\t\t\tnode: this.containerNode,\r\n\t\t\t\t\t_onError: lang.hitch(this, this._onError),\r\n\t\t\t\t\tonContentError: lang.hitch(this, function(e){\r\n\t\t\t\t\t\t// fires if a domfault occurs when we are appending this.errorMessage\r\n\t\t\t\t\t\t// like for instance if domNode is a UL and we try append a DIV\r\n\t\t\t\t\t\tvar errMess = this.onContentError(e);\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tthis.containerNode.innerHTML = errMess;\r\n\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\tconsole.error('Fatal ' + this.id + ' could not change content due to ' + e.message, e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})/*,\r\n\t\t\t\t\t _onError */\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar setterParams = lang.mixin({\r\n\t\t\t\tcleanContent: this.cleanContent,\r\n\t\t\t\textractContent: this.extractContent,\r\n\t\t\t\tparseContent: !cont.domNode && this.parseOnLoad,\r\n\t\t\t\tparserScope: this.parserScope,\r\n\t\t\t\tstartup: false,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir\r\n\t\t\t}, this._contentSetterParams || {});\r\n\r\n\t\t\tvar p = setter.set((lang.isObject(cont) && cont.domNode) ? cont.domNode : cont, setterParams);\r\n\r\n\t\t\t// dojox/layout/html/_base::_ContentSetter.set() returns a Promise that indicates when everything is completed.\r\n\t\t\t// dojo/html::_ContentSetter.set() currently returns the DOMNode, but that will be changed for 2.0.\r\n\t\t\t// So, if set() returns a promise then use it, otherwise fallback to waiting on setter.parseDeferred\r\n\t\t\tvar self = this;\r\n\t\t\treturn when(p && p.then ? p : setter.parseDeferred, function(){\r\n\t\t\t\t// setter params must be pulled afresh from the ContentPane each time\r\n\t\t\t\tdelete self._contentSetterParams;\r\n\r\n\t\t\t\tif(!isFakeContent){\r\n\t\t\t\t\tif(self._started){\r\n\t\t\t\t\t\t// Startup each top level child widget (and they will start their children, recursively)\r\n\t\t\t\t\t\tself._startChildren();\r\n\r\n\t\t\t\t\t\t// Call resize() on each of my child layout widgets,\r\n\t\t\t\t\t\t// or resize() on my single child layout widget...\r\n\t\t\t\t\t\t// either now (if I'm currently visible) or when I become visible\r\n\t\t\t\t\t\tself._scheduleLayout();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself._onLoadHandler(cont);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onError: function(type, err, consoleText){\r\n\t\t\tthis.onLoadDeferred.reject(err);\r\n\r\n\t\t\t// shows user the string that is returned by on[type]Error\r\n\t\t\t// override on[type]Error and return your own string to customize\r\n\t\t\tvar errText = this['on' + type + 'Error'].call(this, err);\r\n\t\t\tif(consoleText){\r\n\t\t\t\tconsole.error(consoleText, err);\r\n\t\t\t}else if(errText){// a empty string won't change current content\r\n\t\t\t\tthis._setContent(errText, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// EVENT's, should be overide-able\r\n\t\tonLoad: function(/*===== data =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent hook, is called after everything is loaded and widgetified\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonUnload: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent hook, is called before old content is cleared\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonDownloadStart: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled before download starts.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThe string returned by this function will be the html\r\n\t\t\t//\t\tthat tells the user we are loading something.\r\n\t\t\t//\t\tOverride with your own function if you want to change text.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn this.loadingMessage;\r\n\t\t},\r\n\r\n\t\tonContentError: function(/*Error*/ /*===== error =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on DOM faults, require faults etc. in content.\r\n\t\t\t//\r\n\t\t\t//\t\tIn order to display an error message in the pane, return\r\n\t\t\t//\t\tthe error message from this method, as an HTML string.\r\n\t\t\t//\r\n\t\t\t//\t\tBy default (if this method is not overriden), it returns\r\n\t\t\t//\t\tnothing, so the error message is just printed to the console.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tonDownloadError: function(/*Error*/ /*===== error =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when download error occurs.\r\n\t\t\t//\r\n\t\t\t//\t\tIn order to display an error message in the pane, return\r\n\t\t\t//\t\tthe error message from this method, as an HTML string.\r\n\t\t\t//\r\n\t\t\t//\t\tDefault behavior (if this method is not overriden) is to display\r\n\t\t\t//\t\tthe error message inside the pane.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn this.errorMessage;\r\n\t\t},\r\n\r\n\t\tonDownloadEnd: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when download is finished.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t}\r\n\t});\r\n});\r\n\n\n\ndefine('dijit/Dialog',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.map\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/Deferred\", // Deferred\r\n\t\"dojo/dom\", // dom.isDescendant\r\n\t\"dojo/dom-class\", // domClass.add domClass.contains\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/_base/fx\", // fx.fadeIn fx.fadeOut\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/keys\",\r\n\t\"dojo/_base/lang\", // lang.mixin lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/ready\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"opera\") has(\"dijit-legacy-requires\")\r\n\t\"dojo/window\", // winUtils.getBox, winUtils.get\r\n\t\"dojo/dnd/Moveable\", // Moveable\r\n\t\"dojo/dnd/TimedMoveable\", // TimedMoveable\r\n\t\"./focus\",\r\n\t\"./_base/manager\", // manager.defaultDuration\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_CssStateMixin\",\r\n\t\"./form/_FormMixin\",\r\n\t\"./_DialogMixin\",\r\n\t\"./DialogUnderlay\",\r\n\t\"./layout/ContentPane\",\r\n\t\"./layout/utils\",\r\n\t\"dojo/text!./templates/Dialog.html\",\r\n\t\"./a11yclick\",\t// template uses ondijitclick\r\n\t\"dojo/i18n!./nls/common\"\r\n], function(require, array, aspect, declare, Deferred,\r\n\t\t\tdom, domClass, domGeometry, domStyle, fx, i18n, keys, lang, on, ready, has, winUtils,\r\n\t\t\tMoveable, TimedMoveable, focus, manager, _Widget, _TemplatedMixin, _CssStateMixin, _FormMixin, _DialogMixin,\r\n\t\t\tDialogUnderlay, ContentPane, utils, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Dialog\r\n\r\n\tvar resolvedDeferred = new Deferred();\r\n\tresolvedDeferred.resolve(true);\r\n\r\n\tvar _DialogBase = declare(\"dijit._DialogBase\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), [_TemplatedMixin, _FormMixin, _DialogMixin, _CssStateMixin], {\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitDialog\",\r\n\r\n\t\tcssStateNodes: {\r\n\t\t\tcloseButtonNode: \"dijitDialogCloseIcon\"\r\n\t\t},\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setTitleAttr: { node: \"titleNode\", type: \"innerHTML\" },\r\n\r\n\t\t// open: [readonly] Boolean\r\n\t\t//\t\tTrue if Dialog is currently displayed on screen.\r\n\t\topen: false,\r\n\r\n\t\t// duration: Integer\r\n\t\t//\t\tThe time in milliseconds it takes the dialog to fade in and out\r\n\t\tduration: manager.defaultDuration,\r\n\r\n\t\t// refocus: Boolean\r\n\t\t//\t\tA Toggle to modify the default focus behavior of a Dialog, which\r\n\t\t//\t\tis to re-focus the element which had focus before being opened.\r\n\t\t//\t\tFalse will disable refocusing. Default: true\r\n\t\trefocus: true,\r\n\r\n\t\t// autofocus: Boolean\r\n\t\t//\t\tA Toggle to modify the default focus behavior of a Dialog, which\r\n\t\t//\t\tis to focus on the first dialog element after opening the dialog.\r\n\t\t//\t\tFalse will disable autofocusing. Default: true\r\n\t\tautofocus: true,\r\n\r\n\t\t// _firstFocusItem: [private readonly] DomNode\r\n\t\t//\t\tThe pointer to the first focusable node in the dialog.\r\n\t\t//\t\tSet by `dijit/_DialogMixin._getFocusItems()`.\r\n\t\t_firstFocusItem: null,\r\n\r\n\t\t// _lastFocusItem: [private readonly] DomNode\r\n\t\t//\t\tThe pointer to which node has focus prior to our dialog.\r\n\t\t//\t\tSet by `dijit/_DialogMixin._getFocusItems()`.\r\n\t\t_lastFocusItem: null,\r\n\r\n\t\t// draggable: Boolean\r\n\t\t//\t\tToggles the movable aspect of the Dialog. If true, Dialog\r\n\t\t//\t\tcan be dragged by it's title. If false it will remain centered\r\n\t\t//\t\tin the viewport.\r\n\t\tdraggable: true,\r\n\t\t_setDraggableAttr: function(/*Boolean*/ val){\r\n\t\t\t// Avoid _WidgetBase behavior of copying draggable attribute to this.domNode,\r\n\t\t\t// as that prevents text select on modern browsers (#14452)\r\n\t\t\tthis._set(\"draggable\", val);\r\n\t\t},\r\n\r\n\t\t// maxRatio: Number\r\n\t\t//\t\tMaximum size to allow the dialog to expand to, relative to viewport size\r\n\t\tmaxRatio: 0.9,\r\n\r\n\t\t// closable: Boolean\r\n\t\t//\t\tDialog show [x] icon to close itself, and ESC key will close the dialog.\r\n\t\tclosable: true,\r\n\t\t_setClosableAttr: function(val){\r\n\t\t\tthis.closeButtonNode.style.display = val ? \"\" : \"none\";\r\n\t\t\tthis._set(\"closable\", val);\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tvar _nlsResources = i18n.getLocalization(\"dijit\", \"common\");\r\n\t\t\tlang.mixin(this, _nlsResources);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tdomStyle.set(this.domNode, {\r\n\t\t\t\tdisplay: \"none\",\r\n\t\t\t\tposition: \"absolute\"\r\n\t\t\t});\r\n\t\t\tthis.ownerDocumentBody.appendChild(this.domNode);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\taspect.after(this, \"onExecute\", lang.hitch(this, \"hide\"), true);\r\n\t\t\taspect.after(this, \"onCancel\", lang.hitch(this, \"hide\"), true);\r\n\r\n\t\t\tthis._modalconnects = [];\r\n\t\t},\r\n\r\n\t\tonLoad: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when data has been loaded from an href.\r\n\t\t\t//\t\tUnlike most other callbacks, this function can be connected to (via `dojo.connect`)\r\n\t\t\t//\t\tbut should *not* be overridden.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\r\n\t\t\t// when href is specified we need to reposition the dialog after the data is loaded\r\n\t\t\t// and find the focusable elements\r\n\t\t\tthis.resize();\r\n\t\t\tthis._position();\r\n\r\n\t\t\tif(this.autofocus && DialogLevelManager.isTop(this)){\r\n\t\t\t\tthis._getFocusItems();\r\n\t\t\t\tfocus.focus(this._firstFocusItem);\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tthis._getFocusItems();\r\n\t\t\tfocus.focus(this._firstFocusItem);\r\n\t\t},\r\n\r\n\t\t_endDrag: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled after dragging the Dialog. Saves the position of the dialog in the viewport,\r\n\t\t\t//\t\tand also adjust position to be fully within the viewport, so user doesn't lose access to handle\r\n\t\t\tvar nodePosition = domGeometry.position(this.domNode),\r\n\t\t\t\tviewport = winUtils.getBox(this.ownerDocument);\r\n\t\t\tnodePosition.y = Math.min(Math.max(nodePosition.y, 0), (viewport.h - nodePosition.h));\r\n\t\t\tnodePosition.x = Math.min(Math.max(nodePosition.x, 0), (viewport.w - nodePosition.w));\r\n\t\t\tthis._relativePosition = nodePosition;\r\n\t\t\tthis._position();\r\n\t\t},\r\n\r\n\t\t_setup: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStuff we need to do before showing the Dialog for the first\r\n\t\t\t//\t\ttime (but we defer it until right beforehand, for\r\n\t\t\t//\t\tperformance reasons).\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar node = this.domNode;\r\n\r\n\t\t\tif(this.titleBar && this.draggable){\r\n\t\t\t\tthis._moveable = new ((has(\"ie\") == 6) ? TimedMoveable // prevent overload, see #5285\r\n\t\t\t\t\t: Moveable)(node, { handle: this.titleBar });\r\n\t\t\t\taspect.after(this._moveable, \"onMoveStop\", lang.hitch(this, \"_endDrag\"), true);\r\n\t\t\t}else{\r\n\t\t\t\tdomClass.add(node, \"dijitDialogFixed\");\r\n\t\t\t}\r\n\r\n\t\t\tthis.underlayAttrs = {\r\n\t\t\t\tdialogId: this.id,\r\n\t\t\t\t\"class\": array.map(this[\"class\"].split(/\\s/),function(s){\r\n\t\t\t\t\treturn s + \"_underlay\";\r\n\t\t\t\t}).join(\" \"),\r\n\t\t\t\t_onKeyDown: lang.hitch(this, \"_onKey\"),\r\n\t\t\t\townerDocument: this.ownerDocument\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_size: function(){\r\n\t\t\t// TODO: remove for 2.0\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t_position: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPosition the dialog in the viewport.  If no relative offset\r\n\t\t\t//\t\tin the viewport has been determined (by dragging, for instance),\r\n\t\t\t//\t\tcenter the dialog.  Otherwise, use the Dialog's stored relative offset,\r\n\t\t\t//\t\tadjusted by the viewport's scroll.\r\n\t\t\tif(!domClass.contains(this.ownerDocumentBody, \"dojoMove\")){    // don't do anything if called during auto-scroll\r\n\t\t\t\tvar node = this.domNode,\r\n\t\t\t\t\tviewport = winUtils.getBox(this.ownerDocument),\r\n\t\t\t\t\tp = this._relativePosition,\r\n\t\t\t\t\tbb = p ? null : domGeometry.position(node),\r\n\t\t\t\t\tl = Math.floor(viewport.l + (p ? p.x : (viewport.w - bb.w) / 2)),\r\n\t\t\t\t\tt = Math.floor(viewport.t + (p ? p.y : (viewport.h - bb.h) / 2))\r\n\t\t\t\t\t;\r\n\t\t\t\tdomStyle.set(node, {\r\n\t\t\t\t\tleft: l + \"px\",\r\n\t\t\t\t\ttop: t + \"px\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onKey: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles the keyboard events for accessibility reasons\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(evt.keyCode == keys.TAB){\r\n\t\t\t\tthis._getFocusItems();\r\n\t\t\t\tvar node = evt.target;\r\n\t\t\t\tif(this._firstFocusItem == this._lastFocusItem){\r\n\t\t\t\t\t// don't move focus anywhere, but don't allow browser to move focus off of dialog either\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}else if(node == this._firstFocusItem && evt.shiftKey){\r\n\t\t\t\t\t// if we are shift-tabbing from first focusable item in dialog, send focus to last item\r\n\t\t\t\t\tfocus.focus(this._lastFocusItem);\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}else if(node == this._lastFocusItem && !evt.shiftKey){\r\n\t\t\t\t\t// if we are tabbing from last focusable item in dialog, send focus to first item\r\n\t\t\t\t\tfocus.focus(this._firstFocusItem);\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}else if(this.closable && evt.keyCode == keys.ESCAPE){\r\n\t\t\t\tthis.onCancel();\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tshow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplay the dialog\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tPromise object that resolves when the display animation is complete\r\n\r\n\t\t\tif(this.open){\r\n\t\t\t\treturn resolvedDeferred.promise;\r\n\t\t\t}\r\n\r\n\t\t\tif(!this._started){\r\n\t\t\t\tthis.startup();\r\n\t\t\t}\r\n\r\n\t\t\t// first time we show the dialog, there's some initialization stuff to do\r\n\t\t\tif(!this._alreadyInitialized){\r\n\t\t\t\tthis._setup();\r\n\t\t\t\tthis._alreadyInitialized = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._fadeOutDeferred){\r\n\t\t\t\t// There's a hide() operation in progress, so cancel it, but still call DialogLevelManager.hide()\r\n\t\t\t\t// as though the hide() completed, in preparation for the DialogLevelManager.show() call below.\r\n\t\t\t\tthis._fadeOutDeferred.cancel();\r\n\t\t\t\tDialogLevelManager.hide(this);\r\n\t\t\t}\r\n\r\n\t\t\t// Recenter Dialog if user scrolls browser.  Connecting to document doesn't work on IE, need to use window.\r\n\t\t\t// Be sure that event object doesn't get passed to resize() method, because it's expecting an optional\r\n\t\t\t// {w: ..., h:...} arg.\r\n\t\t\tvar win = winUtils.get(this.ownerDocument);\r\n\t\t\tthis._modalconnects.push(on(win, \"scroll\", lang.hitch(this, \"resize\", null)));\r\n\r\n\t\t\tthis._modalconnects.push(on(this.domNode, \"keydown\", lang.hitch(this, \"_onKey\")));\r\n\r\n\t\t\tdomStyle.set(this.domNode, {\r\n\t\t\t\topacity: 0,\r\n\t\t\t\tdisplay: \"\"\r\n\t\t\t});\r\n\r\n\t\t\tthis._set(\"open\", true);\r\n\t\t\tthis._onShow(); // lazy load trigger\r\n\r\n\t\t\tthis.resize();\r\n\t\t\tthis._position();\r\n\r\n\t\t\t// fade-in Animation object, setup below\r\n\t\t\tvar fadeIn;\r\n\r\n\t\t\tthis._fadeInDeferred = new Deferred(lang.hitch(this, function(){\r\n\t\t\t\tfadeIn.stop();\r\n\t\t\t\tdelete this._fadeInDeferred;\r\n\t\t\t}));\r\n\r\n\t\t\t// If delay is 0, code below will delete this._fadeInDeferred instantly, so grab promise while we can.\r\n\t\t\tvar promise = this._fadeInDeferred.promise;\r\n\r\n\t\t\tfadeIn = fx.fadeIn({\r\n\t\t\t\tnode: this.domNode,\r\n\t\t\t\tduration: this.duration,\r\n\t\t\t\tbeforeBegin: lang.hitch(this, function(){\r\n\t\t\t\t\tDialogLevelManager.show(this, this.underlayAttrs);\r\n\t\t\t\t}),\r\n\t\t\t\tonEnd: lang.hitch(this, function(){\r\n\t\t\t\t\tif(this.autofocus && DialogLevelManager.isTop(this)){\r\n\t\t\t\t\t\t// find focusable items each time dialog is shown since if dialog contains a widget the\r\n\t\t\t\t\t\t// first focusable items can change\r\n\t\t\t\t\t\tthis._getFocusItems();\r\n\t\t\t\t\t\tfocus.focus(this._firstFocusItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._fadeInDeferred.resolve(true);\r\n\t\t\t\t\tdelete this._fadeInDeferred;\r\n\t\t\t\t})\r\n\t\t\t}).play();\r\n\r\n\t\t\treturn promise;\r\n\t\t},\r\n\r\n\t\thide: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide the dialog\r\n\t\t\t// returns: dojo/promise/Promise\r\n\t\t\t//\t\tPromise object that resolves when the display animation is complete\r\n\r\n\t\t\t// If we haven't been initialized yet then we aren't showing and we can just return.\r\n\t\t\t// Likewise if we are already hidden, or are currently fading out.\r\n\t\t\tif(!this._alreadyInitialized || !this.open){\r\n\t\t\t\treturn resolvedDeferred.promise;\r\n\t\t\t}\r\n\t\t\tif(this._fadeInDeferred){\r\n\t\t\t\tthis._fadeInDeferred.cancel();\r\n\t\t\t}\r\n\r\n\t\t\t// fade-in Animation object, setup below\r\n\t\t\tvar fadeOut;\r\n\r\n\t\t\tthis._fadeOutDeferred = new Deferred(lang.hitch(this, function(){\r\n\t\t\t\tfadeOut.stop();\r\n\t\t\t\tdelete this._fadeOutDeferred;\r\n\t\t\t}));\r\n\r\n\t\t\t// fire onHide when the promise resolves.\r\n\t\t\tthis._fadeOutDeferred.then(lang.hitch(this, 'onHide'));\r\n\r\n\t\t\t// If delay is 0, code below will delete this._fadeOutDeferred instantly, so grab promise while we can.\r\n\t\t\tvar promise = this._fadeOutDeferred.promise;\r\n\r\n\t\t\tfadeOut = fx.fadeOut({\r\n\t\t\t\tnode: this.domNode,\r\n\t\t\t\tduration: this.duration,\r\n\t\t\t\tonEnd: lang.hitch(this, function(){\r\n\t\t\t\t\tthis.domNode.style.display = \"none\";\r\n\t\t\t\t\tDialogLevelManager.hide(this);\r\n\t\t\t\t\tthis._fadeOutDeferred.resolve(true);\r\n\t\t\t\t\tdelete this._fadeOutDeferred;\r\n\t\t\t\t})\r\n\t\t\t}).play();\r\n\r\n\t\t\tif(this._scrollConnected){\r\n\t\t\t\tthis._scrollConnected = false;\r\n\t\t\t}\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this._modalconnects.pop()){\r\n\t\t\t\th.remove();\r\n\t\t\t}\r\n\r\n\t\t\tif(this._relativePosition){\r\n\t\t\t\tdelete this._relativePosition;\r\n\t\t\t}\r\n\t\t\tthis._set(\"open\", false);\r\n\r\n\t\t\treturn promise;\r\n\t\t},\r\n\r\n\t\tresize: function(dim){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled with no argument when viewport scrolled or viewport size changed.  Adjusts Dialog as\r\n\t\t\t//\t\tnecessary to keep it visible.\r\n\t\t\t//\r\n\t\t\t//\t\tCan also be called with an argument (by dojox/layout/ResizeHandle etc.) to explicitly set the\r\n\t\t\t//\t\tsize of the dialog.\r\n\t\t\t// dim: Object?\r\n\t\t\t//\t\tOptional dimension object like {w: 200, h: 300}\r\n\r\n\t\t\tif(this.domNode.style.display != \"none\"){\r\n\r\n\t\t\t\tthis._checkIfSingleChild();\r\n\r\n\t\t\t\tif(!dim){\r\n\t\t\t\t\tif(this._shrunk){\r\n\t\t\t\t\t\t// If we earlier shrunk the dialog to fit in the viewport, reset it to its natural size\r\n\t\t\t\t\t\tif(this._singleChild){\r\n\t\t\t\t\t\t\tif(typeof this._singleChildOriginalStyle != \"undefined\"){\r\n\t\t\t\t\t\t\t\tthis._singleChild.domNode.style.cssText = this._singleChildOriginalStyle;\r\n\t\t\t\t\t\t\t\tdelete this._singleChildOriginalStyle;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tarray.forEach([this.domNode, this.containerNode, this.titleBar, this.actionBarNode], function(node){\r\n\t\t\t\t\t\t\tif(node){\t// because titleBar may not be defined\r\n\t\t\t\t\t\t\t\tdomStyle.set(node, {\r\n\t\t\t\t\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\t\t\t\t\twidth: \"auto\",\r\n\t\t\t\t\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.domNode.style.position = \"absolute\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If necessary, shrink Dialog to fit in viewport and have some space around it\r\n\t\t\t\t\t// to indicate that it's a popup.  This will also compensate for possible scrollbars on viewport.\r\n\t\t\t\t\tvar viewport = winUtils.getBox(this.ownerDocument);\r\n\t\t\t\t\tviewport.w *= this.maxRatio;\r\n\t\t\t\t\tviewport.h *= this.maxRatio;\r\n\r\n\t\t\t\t\tvar bb = domGeometry.position(this.domNode);\r\n\t\t\t\t\tif(bb.w >= viewport.w || bb.h >= viewport.h){\r\n\t\t\t\t\t\tdim = {\r\n\t\t\t\t\t\t\tw: Math.min(bb.w, viewport.w),\r\n\t\t\t\t\t\t\th: Math.min(bb.h, viewport.h)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis._shrunk = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis._shrunk = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Code to run if user has requested an explicit size, or the shrinking code above set an implicit size\r\n\t\t\t\tif(dim){\r\n\t\t\t\t\t// Set this.domNode to specified size\r\n\t\t\t\t\tdomGeometry.setMarginBox(this.domNode, dim);\r\n\r\n\t\t\t\t\t// And then size this.containerNode\r\n\t\t\t\t\tvar layoutNodes = [];\r\n\t\t\t\t\tif(this.titleBar){\r\n\t\t\t\t\t\tlayoutNodes.push({domNode: this.titleBar, region: \"top\"});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.actionBarNode){\r\n\t\t\t\t\t\tlayoutNodes.push({domNode: this.actionBarNode, region: \"bottom\"});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar centerSize = {domNode: this.containerNode, region: \"center\"};\r\n\t\t\t\t\tlayoutNodes.push(centerSize);\r\n\r\n\t\t\t\t\tvar contentDim = utils.marginBox2contentBox(this.domNode, dim);\r\n\t\t\t\t\tutils.layoutChildren(this.domNode, contentDim, layoutNodes);\r\n\r\n\t\t\t\t\t// And then if this.containerNode has a single layout widget child, size it too.\r\n\t\t\t\t\t// Otherwise, make this.containerNode show a scrollbar if it's overflowing.\r\n\t\t\t\t\tif(this._singleChild){\r\n\t\t\t\t\t\tvar cb = utils.marginBox2contentBox(this.containerNode, centerSize);\r\n\t\t\t\t\t\t// note: if containerNode has padding singleChildSize will have l and t set,\r\n\t\t\t\t\t\t// but don't pass them to resize() or it will doubly-offset the child\r\n\t\t\t\t\t\tthis._singleChild.resize({w: cb.w, h: cb.h});\r\n\t\t\t\t\t\t// TODO: save original size for restoring it on another show()?\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.containerNode.style.overflow = \"auto\";\r\n\t\t\t\t\t\tthis._layoutChildren();\t\t// send resize() event to all child widgets\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._layoutChildren();\t\t// send resize() event to all child widgets\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!has(\"touch\") && !dim){\r\n\t\t\t\t\t// If the user has scrolled the viewport then reposition the Dialog.  But don't do it for touch\r\n\t\t\t\t\t// devices, because it will counteract when a keyboard pops up and then the browser auto-scrolls\r\n\t\t\t\t\t// the focused node into view.\r\n\t\t\t\t\tthis._position();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_layoutChildren: function(){\r\n\t\t\t// Override _ContentPaneResizeMixin._layoutChildren because even when there's just a single layout child\r\n\t\t\t// widget, sometimes we don't want to size it explicitly (i.e. to pass a dim argument to resize())\r\n\r\n\t\t\tarray.forEach(this.getChildren(), function(widget){\r\n\t\t\t\tif(widget.resize){\r\n\t\t\t\t\twidget.resize();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this._fadeInDeferred){\r\n\t\t\t\tthis._fadeInDeferred.cancel();\r\n\t\t\t}\r\n\t\t\tif(this._fadeOutDeferred){\r\n\t\t\t\tthis._fadeOutDeferred.cancel();\r\n\t\t\t}\r\n\t\t\tif(this._moveable){\r\n\t\t\t\tthis._moveable.destroy();\r\n\t\t\t}\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this._modalconnects.pop()){\r\n\t\t\t\th.remove();\r\n\t\t\t}\r\n\r\n\t\t\tDialogLevelManager.hide(this);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\t_DialogBase = declare(\"dijit._DialogBase\", _DialogBase, {\r\n\t\t\t_setTitleAttr: function(/*String*/ title){\r\n\t\t\t\tthis._set(\"title\", title);\r\n\t\t\t\tthis.titleNode.innerHTML = title;\r\n\t\t\t\tthis.applyTextDir(this.titleNode);\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\tif(this._created && this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tthis.set(\"title\", this.title);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar Dialog = declare(\"dijit.Dialog\", [ContentPane, _DialogBase], {\r\n\t\t// summary:\r\n\t\t//\t\tA modal dialog Widget.\r\n\t\t// description:\r\n\t\t//\t\tPops up a modal dialog window, blocking access to the screen\r\n\t\t//\t\tand also graying out the screen Dialog is extended from\r\n\t\t//\t\tContentPane so it supports all the same parameters (href, etc.).\r\n\t\t// example:\r\n\t\t// |\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-props=\"href: 'test.html'\"></div>\r\n\t\t// example:\r\n\t\t// |\tvar foo = new Dialog({ title: \"test dialog\", content: \"test content\" });\r\n\t\t// |\tfoo.placeAt(win.body());\r\n\t\t// |\tfoo.startup();\r\n\t});\r\n\tDialog._DialogBase = _DialogBase;\t// for monkey patching and dojox/widget/DialogSimple\r\n\r\n\tvar DialogLevelManager = Dialog._DialogLevelManager = {\r\n\t\t// summary:\r\n\t\t//\t\tControls the various active \"levels\" on the page, starting with the\r\n\t\t//\t\tstuff initially visible on the page (at z-index 0), and then having an entry for\r\n\t\t//\t\teach Dialog shown.\r\n\r\n\t\t_beginZIndex: 950,\r\n\r\n\t\tshow: function(/*dijit/_WidgetBase*/ dialog, /*Object*/ underlayAttrs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCall right before fade-in animation for new dialog.\r\n\t\t\t//\t\tSaves current focus, displays/adjusts underlay for new dialog,\r\n\t\t\t//\t\tand sets the z-index of the dialog itself.\r\n\t\t\t//\r\n\t\t\t//\t\tNew dialog will be displayed on top of all currently displayed dialogs.\r\n\t\t\t//\r\n\t\t\t//\t\tCaller is responsible for setting focus in new dialog after the fade-in\r\n\t\t\t//\t\tanimation completes.\r\n\r\n\t\t\t// Save current focus\r\n\t\t\tds[ds.length - 1].focus = focus.curNode;\r\n\r\n\t\t\t// Set z-index a bit above previous dialog\r\n\t\t\tvar zIndex = ds[ds.length - 1].dialog ? ds[ds.length - 1].zIndex + 2 : Dialog._DialogLevelManager._beginZIndex;\r\n\t\t\tdomStyle.set(dialog.domNode, 'zIndex', zIndex);\r\n\r\n\t\t\t// Display the underlay, or if already displayed then adjust for this new dialog\r\n\t\t\tDialogUnderlay.show(underlayAttrs, zIndex - 1);\r\n\r\n\t\t\tds.push({dialog: dialog, underlayAttrs: underlayAttrs, zIndex: zIndex});\r\n\t\t},\r\n\r\n\t\thide: function(/*dijit/_WidgetBase*/ dialog){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the specified dialog is hidden/destroyed, after the fade-out\r\n\t\t\t//\t\tanimation ends, in order to reset page focus, fix the underlay, etc.\r\n\t\t\t//\t\tIf the specified dialog isn't open then does nothing.\r\n\t\t\t//\r\n\t\t\t//\t\tCaller is responsible for either setting display:none on the dialog domNode,\r\n\t\t\t//\t\tor calling dijit/popup.hide(), or removing it from the page DOM.\r\n\r\n\t\t\tif(ds[ds.length - 1].dialog == dialog){\r\n\t\t\t\t// Removing the top (or only) dialog in the stack, return focus\r\n\t\t\t\t// to previous dialog\r\n\r\n\t\t\t\tds.pop();\r\n\r\n\t\t\t\tvar pd = ds[ds.length - 1];\t// the new active dialog (or the base page itself)\r\n\r\n\t\t\t\t// Adjust underlay\r\n\t\t\t\tif(ds.length == 1){\r\n\t\t\t\t\t// Returning to original page.  Hide the underlay.\r\n\t\t\t\t\tDialogUnderlay.hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Popping back to previous dialog, adjust underlay.\r\n\t\t\t\t\tDialogUnderlay.show(pd.underlayAttrs, pd.zIndex - 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust focus.\r\n\t\t\t\t// TODO: regardless of setting of dialog.refocus, if the exeucte() method set focus somewhere,\r\n\t\t\t\t// don't shift focus back to button.  Note that execute() runs at the start of the fade-out but\r\n\t\t\t\t// this code runs later, at the end of the fade-out.  Menu has code like this.\r\n\t\t\t\tif(dialog.refocus){\r\n\t\t\t\t\t// If we are returning control to a previous dialog but for some reason\r\n\t\t\t\t\t// that dialog didn't have a focused field, set focus to first focusable item.\r\n\t\t\t\t\t// This situation could happen if two dialogs appeared at nearly the same time,\r\n\t\t\t\t\t// since a dialog doesn't set it's focus until the fade-in is finished.\r\n\t\t\t\t\tvar focus = pd.focus;\r\n\t\t\t\t\tif(pd.dialog && (!focus || !dom.isDescendant(focus, pd.dialog.domNode))){\r\n\t\t\t\t\t\tpd.dialog._getFocusItems();\r\n\t\t\t\t\t\tfocus = pd.dialog._firstFocusItem;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(focus){\r\n\t\t\t\t\t\t// Refocus the button that spawned the Dialog.   This will fail in corner cases including\r\n\t\t\t\t\t\t// page unload on IE, because the dijit/form/Button that launched the Dialog may get destroyed\r\n\t\t\t\t\t\t// before this code runs.  (#15058)\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tfocus.focus();\r\n\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// Removing a dialog out of order (#9944, #10705).\r\n\t\t\t\t// Don't need to mess with underlay or z-index or anything.\r\n\t\t\t\tvar idx = array.indexOf(array.map(ds, function(elem){\r\n\t\t\t\t\treturn elem.dialog;\r\n\t\t\t\t}), dialog);\r\n\t\t\t\tif(idx != -1){\r\n\t\t\t\t\tds.splice(idx, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisTop: function(/*dijit/_WidgetBase*/ dialog){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if specified Dialog is the top in the task\r\n\t\t\treturn ds[ds.length - 1].dialog == dialog;\r\n\t\t}\r\n\t};\r\n\r\n\t// Stack representing the various active \"levels\" on the page, starting with the\r\n\t// stuff initially visible on the page (at z-index 0), and then having an entry for\r\n\t// each Dialog shown.\r\n\t// Each element in stack has form {\r\n\t//\t\tdialog: dialogWidget,\r\n\t//\t\tfocus: returnFromGetFocus(),\r\n\t//\t\tunderlayAttrs: attributes to set on underlay (when this widget is active)\r\n\t// }\r\n\tvar ds = Dialog._dialogStack = [\r\n\t\t{dialog: null, focus: null, underlayAttrs: null}    // entry for stuff at z-index: 0\r\n\t];\r\n\r\n\t// If focus was accidentally removed from the dialog, such as if the user clicked a blank\r\n\t// area of the screen, or clicked the browser's address bar and then tabbed into the page,\r\n\t// then refocus.   Won't do anything if focus was removed because the Dialog was closed, or\r\n\t// because a new Dialog popped up on top of the old one, or when focus moves to popups\r\n\tfocus.watch(\"curNode\", function(attr, oldNode, node){\r\n \t\t// Note: if no dialogs, ds.length==1 but ds[ds.length-1].dialog is null\r\n\t\tvar topDialog = ds[ds.length - 1].dialog;\r\n\r\n\t\t// If a node was focused, and there's a Dialog currently showing, and not in the process of fading out...\r\n\t\t// Ignore focus events on other document though because it's likely an Editor inside of the Dialog.\r\n\t\tif(node && topDialog && !topDialog._fadeOutDeferred && node.ownerDocument == topDialog.ownerDocument){\r\n\t\t\t// If the node that was focused is inside the dialog or in a popup, even a context menu that isn't\r\n\t\t\t// technically a descendant of the the dialog, don't do anything.\r\n\t\t\tdo{\r\n\t\t\t\tif(node == topDialog.domNode || domClass.contains(node, \"dijitPopup\")){ return; }\r\n\t\t\t}while(node = node.parentNode);\r\n\r\n\t\t\t// Otherwise, return focus to the dialog.  Use a delay to avoid confusing dijit/focus code's\r\n\t\t\t// own tracking of focus.\r\n\t\t\ttopDialog.focus();\r\n\t\t}\r\n\t});\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/TooltipDialog\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\treturn Dialog;\r\n});\r\n\n\ndefine('dijit/TooltipDialog',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.replace\r\n\t\"dojo/has\",\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"./focus\",\r\n\t\"./layout/ContentPane\",\r\n\t\"./_DialogMixin\",\r\n\t\"./form/_FormMixin\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"dojo/text!./templates/TooltipDialog.html\",\r\n\t\"./main\"        // exports methods to dijit global\r\n], function(declare, domClass, has, keys, lang, on, focus, ContentPane, _DialogMixin, _FormMixin, _TemplatedMixin, template, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/TooltipDialog\r\n\r\n\r\n\tvar TooltipDialog = declare(\"dijit.TooltipDialog\",\r\n\t\t[ContentPane, _TemplatedMixin, _FormMixin, _DialogMixin], {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPops up a dialog that appears like a Tooltip\r\n\r\n\t\t\t// title: String\r\n\t\t\t//\t\tDescription of tooltip dialog (required for a11y)\r\n\t\t\ttitle: \"\",\r\n\r\n\t\t\t// doLayout: [protected] Boolean\r\n\t\t\t//\t\tDon't change this parameter from the default value.\r\n\t\t\t//\t\tThis ContentPane parameter doesn't make sense for TooltipDialog, since TooltipDialog\r\n\t\t\t//\t\tis never a child of a layout container, nor can you specify the size of\r\n\t\t\t//\t\tTooltipDialog in order to control the size of an inner widget.\r\n\t\t\tdoLayout: false,\r\n\r\n\t\t\t// autofocus: Boolean\r\n\t\t\t//\t\tA Toggle to modify the default focus behavior of a Dialog, which\r\n\t\t\t//\t\tis to focus on the first dialog element after opening the dialog.\r\n\t\t\t//\t\tFalse will disable autofocusing.  Default: true.\r\n\t\t\tautofocus: true,\r\n\r\n\t\t\t// baseClass: [protected] String\r\n\t\t\t//\t\tThe root className to use for the various states of this widget\r\n\t\t\tbaseClass: \"dijitTooltipDialog\",\r\n\r\n\t\t\t// _firstFocusItem: [private readonly] DomNode\r\n\t\t\t//\t\tThe pointer to the first focusable node in the dialog.\r\n\t\t\t//\t\tSet by `dijit/_DialogMixin._getFocusItems()`.\r\n\t\t\t_firstFocusItem: null,\r\n\r\n\t\t\t// _lastFocusItem: [private readonly] DomNode\r\n\t\t\t//\t\tThe pointer to which node has focus prior to our dialog.\r\n\t\t\t//\t\tSet by `dijit/_DialogMixin._getFocusItems()`.\r\n\t\t\t_lastFocusItem: null,\r\n\r\n\t\t\ttemplateString: template,\r\n\r\n\t\t\t_setTitleAttr: \"containerNode\",\r\n\r\n\t\t\tpostCreate: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.own(on(this.domNode, \"keydown\", lang.hitch(this, \"_onKey\")));\r\n\t\t\t},\r\n\r\n\t\t\torient: function(/*DomNode*/ node, /*String*/ aroundCorner, /*String*/ tooltipCorner){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tConfigure widget to be displayed in given position relative to the button.\r\n\t\t\t\t//\t\tThis is called from the dijit.popup code, and should not be called\r\n\t\t\t\t//\t\tdirectly.\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprotected\r\n\r\n\t\t\t\t// Note: intentionally not using dijitTooltip class since that sets position:absolute, which\r\n\t\t\t\t// confuses dijit/popup trying to get the size of the tooltip.\r\n\t\t\t\tvar newC = {\r\n\t\t\t\t\t// Real around node\r\n\t\t\t\t\t\"MR-ML\": \"dijitTooltipRight\",\r\n\t\t\t\t\t\"ML-MR\": \"dijitTooltipLeft\",\r\n\t\t\t\t\t\"TM-BM\": \"dijitTooltipAbove\",\r\n\t\t\t\t\t\"BM-TM\": \"dijitTooltipBelow\",\r\n\t\t\t\t\t\"BL-TL\": \"dijitTooltipBelow dijitTooltipABLeft\",\r\n\t\t\t\t\t\"TL-BL\": \"dijitTooltipAbove dijitTooltipABLeft\",\r\n\t\t\t\t\t\"BR-TR\": \"dijitTooltipBelow dijitTooltipABRight\",\r\n\t\t\t\t\t\"TR-BR\": \"dijitTooltipAbove dijitTooltipABRight\",\r\n\t\t\t\t\t\"BR-BL\": \"dijitTooltipRight\",\r\n\t\t\t\t\t\"BL-BR\": \"dijitTooltipLeft\",\r\n\r\n\t\t\t\t\t// Positioning \"around\" a point, ex: mouse position\r\n\t\t\t\t\t\"BR-TL\": \"dijitTooltipBelow dijitTooltipABLeft\",\r\n\t\t\t\t\t\"BL-TR\": \"dijitTooltipBelow dijitTooltipABRight\",\r\n\t\t\t\t\t\"TL-BR\": \"dijitTooltipAbove dijitTooltipABRight\",\r\n\t\t\t\t\t\"TR-BL\": \"dijitTooltipAbove dijitTooltipABLeft\"\r\n\t\t\t\t}[aroundCorner + \"-\" + tooltipCorner];\r\n\r\n\t\t\t\tdomClass.replace(this.domNode, newC, this._currentOrientClass || \"\");\r\n\t\t\t\tthis._currentOrientClass = newC;\r\n\r\n\t\t\t\t// Tooltip.orient() has code to reposition connector for when Tooltip is before/after anchor.\r\n\t\t\t\t// Not putting here to avoid code bloat, and since TooltipDialogs are generally above/below.\r\n\t\t\t\t// Should combine code from Tooltip and TooltipDialog.\r\n\t\t\t},\r\n\r\n\t\t\tfocus: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tFocus on first field\r\n\t\t\t\tthis._getFocusItems();\r\n\t\t\t\tfocus.focus(this._firstFocusItem);\r\n\t\t\t},\r\n\r\n\t\t\tonOpen: function(/*Object*/ pos){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tCalled when dialog is displayed.\r\n\t\t\t\t//\t\tThis is called from the dijit.popup code, and should not be called directly.\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprotected\r\n\r\n\t\t\t\tthis.orient(this.domNode, pos.aroundCorner, pos.corner);\r\n\r\n\t\t\t\t// Position the tooltip connector for middle alignment.\r\n\t\t\t\t// This could not have been done in orient() since the tooltip wasn't positioned at that time.\r\n\t\t\t\tvar aroundNodeCoords = pos.aroundNodePos;\r\n\t\t\t\tif(pos.corner.charAt(0) == 'M' && pos.aroundCorner.charAt(0) == 'M'){\r\n\t\t\t\t\tthis.connectorNode.style.top = aroundNodeCoords.y + ((aroundNodeCoords.h - this.connectorNode.offsetHeight) >> 1) - pos.y + \"px\";\r\n\t\t\t\t\tthis.connectorNode.style.left = \"\";\r\n\t\t\t\t}else if(pos.corner.charAt(1) == 'M' && pos.aroundCorner.charAt(1) == 'M'){\r\n\t\t\t\t\tthis.connectorNode.style.left = aroundNodeCoords.x + ((aroundNodeCoords.w - this.connectorNode.offsetWidth) >> 1) - pos.x + \"px\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._onShow(); // lazy load trigger  (TODO: shouldn't we load before positioning?)\r\n\t\t\t},\r\n\r\n\t\t\tonClose: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tCalled when dialog is hidden.\r\n\t\t\t\t//\t\tThis is called from the dijit.popup code, and should not be called directly.\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprotected\r\n\t\t\t\tthis.onHide();\r\n\t\t\t},\r\n\r\n\t\t\t_onKey: function(/*Event*/ evt){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tHandler for keydown events\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tKeep keyboard focus in dialog; close dialog on escape key\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprivate\r\n\r\n\t\t\t\tif(evt.keyCode == keys.ESCAPE){\r\n\t\t\t\t\t// Use defer to avoid crash on IE, see #10396.  Not sure if this is still needed or not.\r\n\t\t\t\t\t// If this if() wasn't here, presumably dijit/popup would catch the ESCAPE key and close the popup.\r\n\t\t\t\t\tthis.defer(\"onCancel\");\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t}else if(evt.keyCode == keys.TAB){\r\n\t\t\t\t\tvar node = evt.target;\r\n\t\t\t\t\tthis._getFocusItems();\r\n\t\t\t\t\tif(this._firstFocusItem == this._lastFocusItem){\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}else if(node == this._firstFocusItem && evt.shiftKey){\r\n\t\t\t\t\t\tfocus.focus(this._lastFocusItem); // send focus to last item in dialog\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}else if(node == this._lastFocusItem && !evt.shiftKey){\r\n\t\t\t\t\t\tfocus.focus(this._firstFocusItem); // send focus to first item in dialog\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// we want the browser's default tab handling to move focus\r\n\t\t\t\t\t\t// but we don't want the tab to propagate upwards\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTooltipDialog.extend({\r\n\t\t\t_setTitleAttr: function(/*String*/ title){\r\n\t\t\t\tthis.containerNode.title = (this.textDir && this.enforceTextDirWithUcc) ? this.enforceTextDirWithUcc(null, title) : title;\r\n\t\t\t\tthis._set(\"title\", title);\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(/*String*/ textDir){\r\n\t\t\t\tif(!this._created || this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tif(this.textDir && this.title){\r\n\t\t\t\t\t\tthis.containerNode.title = this.enforceTextDirWithUcc(null, this.title);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn TooltipDialog;\r\n});\r\n\ndefine('dijit/_KeyNavMixin',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/keys\", // keys.END keys.HOME, keys.LEFT_ARROW etc.\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dijit/registry\",\r\n\t\"dijit/_FocusMixin\"        // to make _onBlur() work\r\n], function(array, declare, domAttr, keys, lang, on, registry, _FocusMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_KeyNavMixin\r\n\r\n\treturn declare(\"dijit._KeyNavMixin\", _FocusMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin to allow arrow key and letter key navigation of child or descendant widgets.\r\n\t\t//\t\tIt can be used by dijit/_Container based widgets with a flat list of children,\r\n\t\t//\t\tor more complex widgets like dijit/Tree.\r\n\t\t//\r\n\t\t//\t\tTo use this mixin, the subclass must:\r\n\t\t//\r\n\t\t//\t\t\t- Implement  _getNext(), _getFirst(), _getLast(), _onLeftArrow(), _onRightArrow()\r\n\t\t//\t\t\t  _onDownArrow(), _onUpArrow() methods to handle home/end/left/right/up/down keystrokes.\r\n\t\t//\t\t\t  Next and previous in this context refer to a linear ordering of the descendants used\r\n\t\t//\t\t\t  by letter key search.\r\n\t\t//\t\t\t- Set all descendants' initial tabIndex to \"-1\"; both initial descendants and any\r\n\t\t//\t\t\t  descendants added later, by for example addChild()\r\n\t\t//\t\t\t- Define childSelector to a function or string that identifies focusable descendant widgets\r\n\t\t//\r\n\t\t//\t\tAlso, child widgets must implement a focus() method.\r\n\r\n\t\t/*=====\r\n\t\t // focusedChild: [protected readonly] Widget\r\n\t\t //\t\tThe currently focused child widget, or null if there isn't one\r\n\t\t focusedChild: null,\r\n\r\n\t\t // _keyNavCodes: Object\r\n\t\t //\t\tHash mapping key code (arrow keys and home/end key) to functions to handle those keys.\r\n\t\t //\t\tUsually not used directly, as subclasses can instead override _onLeftArrow() etc.\r\n\t\t _keyNavCodes: {},\r\n\t\t =====*/\r\n\r\n\t\t// tabIndex: String\r\n\t\t//\t\tTab index of the container; same as HTML tabIndex attribute.\r\n\t\t//\t\tNote then when user tabs into the container, focus is immediately\r\n\t\t//\t\tmoved to the first item in the container.\r\n\t\ttabIndex: \"0\",\r\n\r\n\t\t// childSelector: [protected abstract] Function||String\r\n\t\t//\t\tSelector (passed to on.selector()) used to identify what to treat as a child widget.   Used to monitor\r\n\t\t//\t\tfocus events and set this.focusedChild.   Must be set by implementing class.   If this is a string\r\n\t\t//\t\t(ex: \"> *\") then the implementing class must require dojo/query.\r\n\t\tchildSelector: null,\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Set tabIndex on this.domNode.  Will be automatic after #7381 is fixed.\r\n\t\t\tdomAttr.set(this.domNode, \"tabIndex\", this.tabIndex);\r\n\r\n\t\t\tif(!this._keyNavCodes){\r\n\t\t\t\tvar keyCodes = this._keyNavCodes = {};\r\n\t\t\t\tkeyCodes[keys.HOME] = lang.hitch(this, \"focusFirstChild\");\r\n\t\t\t\tkeyCodes[keys.END] = lang.hitch(this, \"focusLastChild\");\r\n\t\t\t\tkeyCodes[this.isLeftToRight() ? keys.LEFT_ARROW : keys.RIGHT_ARROW] = lang.hitch(this, \"_onLeftArrow\");\r\n\t\t\t\tkeyCodes[this.isLeftToRight() ? keys.RIGHT_ARROW : keys.LEFT_ARROW] = lang.hitch(this, \"_onRightArrow\");\r\n\t\t\t\tkeyCodes[keys.UP_ARROW] = lang.hitch(this, \"_onUpArrow\");\r\n\t\t\t\tkeyCodes[keys.DOWN_ARROW] = lang.hitch(this, \"_onDownArrow\");\r\n\t\t\t}\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\tchildSelector = typeof this.childSelector == \"string\"\r\n\t\t\t\t\t? this.childSelector\r\n\t\t\t\t\t: lang.hitch(this, \"childSelector\");\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, \"keypress\", lang.hitch(this, \"_onContainerKeypress\")),\r\n\t\t\t\ton(this.domNode, \"keydown\", lang.hitch(this, \"_onContainerKeydown\")),\r\n\t\t\t\ton(this.domNode, \"focus\", lang.hitch(this, \"_onContainerFocus\")),\r\n\t\t\t\ton(this.containerNode, on.selector(childSelector, \"focusin\"), function(evt){\r\n\t\t\t\t\tself._onChildFocus(registry.getEnclosingWidget(this), evt);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_onLeftArrow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on left arrow key, or right arrow key if widget is in RTL mode.\r\n\t\t\t//\t\tShould go back to the previous child in horizontal container widgets like Toolbar.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\t_onRightArrow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on right arrow key, or left arrow key if widget is in RTL mode.\r\n\t\t\t//\t\tShould go to the next child in horizontal container widgets like Toolbar.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\t_onUpArrow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on up arrow key. Should go to the previous child in vertical container widgets like Menu.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\t_onDownArrow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on down arrow key. Should go to the next child in vertical container widgets like Menu.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefault focus() implementation: focus the first child.\r\n\t\t\tthis.focusFirstChild();\r\n\t\t},\r\n\r\n\t\t_getFirstFocusableChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns first child that can be focused.\r\n\r\n\t\t\t// Leverage _getNextFocusableChild() to skip disabled children\r\n\t\t\treturn this._getNextFocusableChild(null, 1);\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\t_getLastFocusableChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns last child that can be focused.\r\n\r\n\t\t\t// Leverage _getNextFocusableChild() to skip disabled children\r\n\t\t\treturn this._getNextFocusableChild(null, -1);\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tfocusFirstChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the first focusable child in the container.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.focusChild(this._getFirstFocusableChild());\r\n\t\t},\r\n\r\n\t\tfocusLastChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the last focusable child in the container.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.focusChild(this._getLastFocusableChild());\r\n\t\t},\r\n\r\n\t\tfocusChild: function(/*dijit/_WidgetBase*/ widget, /*Boolean*/ last){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus specified child widget.\r\n\t\t\t// widget:\r\n\t\t\t//\t\tReference to container's child widget\r\n\t\t\t// last:\r\n\t\t\t//\t\tIf true and if widget has multiple focusable nodes, focus the\r\n\t\t\t//\t\tlast one instead of the first one\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!widget){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.focusedChild && widget !== this.focusedChild){\r\n\t\t\t\tthis._onChildBlur(this.focusedChild);\t// used to be used by _MenuBase\r\n\t\t\t}\r\n\t\t\twidget.set(\"tabIndex\", this.tabIndex);\t// for IE focus outline to appear, must set tabIndex before focus\r\n\t\t\twidget.focus(last ? \"end\" : \"start\");\r\n\r\n\t\t\t// Don't set focusedChild here, because the focus event should trigger a call to _onChildFocus(), which will\r\n\t\t\t// set it.   More importantly, _onChildFocus(), which may be executed asynchronously (after this function\r\n\t\t\t// returns) needs to know the old focusedChild to set its tabIndex to -1.\r\n\t\t},\r\n\r\n\t\t_onContainerFocus: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when the container itself gets focus.\r\n\t\t\t// description:\r\n\t\t\t//\t\tInitially the container itself has a tabIndex, but when it gets\r\n\t\t\t//\t\tfocus, switch focus to first child.\r\n\t\t\t//\r\n\t\t\t//\t\tTODO for 2.0 (or earlier): Instead of having the container tabbable, always maintain a single child\r\n\t\t\t//\t\twidget as tabbable, Requires code in startup(), addChild(), and removeChild().\r\n\t\t\t//\t\tThat would avoid various issues like #17347.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Note that we can't use _onFocus() because switching focus from the\r\n\t\t\t// _onFocus() handler confuses the focus.js code\r\n\t\t\t// (because it causes _onFocusNode() to be called recursively).\r\n\t\t\t// Also, _onFocus() would fire when focus went directly to a child widget due to mouse click.\r\n\r\n\t\t\t// Ignore spurious focus events:\r\n\t\t\t//\t1. focus on a child widget bubbles on FF\r\n\t\t\t//\t2. on IE, clicking the scrollbar of a select dropdown moves focus from the focused child item to me\r\n\t\t\tif(evt.target !== this.domNode || this.focusedChild){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.focus();\r\n\t\t},\r\n\r\n\t\t_onFocus: function(){\r\n\t\t\t// When the container gets focus by being tabbed into, or a descendant gets focus by being clicked,\r\n\t\t\t// set the container's tabIndex to -1 (don't remove as that breaks Safari 4) so that tab or shift-tab\r\n\t\t\t// will go to the fields after/before the container, rather than the container itself\r\n\t\t\tdomAttr.set(this.domNode, \"tabIndex\", \"-1\");\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(evt){\r\n\t\t\t// When focus is moved away the container, and its descendant (popup) widgets,\r\n\t\t\t// then restore the container's tabIndex so that user can tab to it again.\r\n\t\t\t// Note that using _onBlur() so that this doesn't happen when focus is shifted\r\n\t\t\t// to one of my child widgets (typically a popup)\r\n\r\n\t\t\t// TODO: for 2.0 consider changing this to blur whenever the container blurs, to be truthful that there is\r\n\t\t\t// no focused child at that time.\r\n\r\n\t\t\tdomAttr.set(this.domNode, \"tabIndex\", this.tabIndex);\r\n\t\t\tif(this.focusedChild){\r\n\t\t\t\tthis.focusedChild.set(\"tabIndex\", \"-1\");\r\n\t\t\t\tthis.lastFocusedChild = this.focusedChild;\r\n\t\t\t\tthis._set(\"focusedChild\", null);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onChildFocus: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when a child widget gets focus, either by user clicking\r\n\t\t\t//\t\tit, or programatically by arrow key handling code.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIt marks that the current node is the selected one, and the previously\r\n\t\t\t//\t\tselected node no longer is.\r\n\r\n\t\t\tif(child && child != this.focusedChild){\r\n\t\t\t\tif(this.focusedChild && !this.focusedChild._destroyed){\r\n\t\t\t\t\t// mark that the previously focusable node is no longer focusable\r\n\t\t\t\t\tthis.focusedChild.set(\"tabIndex\", \"-1\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// mark that the new node is the currently selected one\r\n\t\t\t\tchild.set(\"tabIndex\", this.tabIndex);\r\n\t\t\t\tthis.lastFocused = child;\t\t// back-compat for Tree, remove for 2.0\r\n\t\t\t\tthis._set(\"focusedChild\", child);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_searchString: \"\",\r\n\t\t// multiCharSearchDuration: Number\r\n\t\t//\t\tIf multiple characters are typed where each keystroke happens within\r\n\t\t//\t\tmultiCharSearchDuration of the previous keystroke,\r\n\t\t//\t\tsearch for nodes matching all the keystrokes.\r\n\t\t//\r\n\t\t//\t\tFor example, typing \"ab\" will search for entries starting with\r\n\t\t//\t\t\"ab\" unless the delay between \"a\" and \"b\" is greater than multiCharSearchDuration.\r\n\t\tmultiCharSearchDuration: 1000,\r\n\r\n\t\tonKeyboardSearch: function(/*dijit/_WidgetBase*/ item, /*Event*/ evt, /*String*/ searchString, /*Number*/ numMatches){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen a key is pressed that matches a child item,\r\n\t\t\t//\t\tthis method is called so that a widget can take appropriate action is necessary.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(item){\r\n\t\t\t\tthis.focusChild(item);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_keyboardSearchCompare: function(/*dijit/_WidgetBase*/ item, /*String*/ searchString){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCompares the searchString to the widget's text label, returning:\r\n\t\t\t//\r\n\t\t\t//\t\t\t* -1: a high priority match  and stop searching\r\n\t\t\t//\t\t \t* 0: not a match\r\n\t\t\t//\t\t \t* 1: a match but keep looking for a higher priority match\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar element = item.domNode,\r\n\t\t\t\ttext = item.label || (element.focusNode ? element.focusNode.label : '') || element.innerText || element.textContent || \"\",\r\n\t\t\t\tcurrentString = text.replace(/^\\s+/, '').substr(0, searchString.length).toLowerCase();\r\n\r\n\t\t\treturn (!!searchString.length && currentString == searchString) ? -1 : 0; // stop searching after first match by default\r\n\t\t},\r\n\r\n\t\t_onContainerKeydown: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen a key is pressed, if it's an arrow key etc. then it's handled here.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar func = this._keyNavCodes[evt.keyCode];\r\n\t\t\tif(func){\r\n\t\t\t\tfunc(evt, this.focusedChild);\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tthis._searchString = ''; // so a DOWN_ARROW b doesn't search for ab\r\n\t\t\t}else if(evt.keyCode == keys.SPACE && this._searchTimer && !(evt.ctrlKey || evt.altKey || evt.metaKey)){\r\n\t\t\t\tevt.stopImmediatePropagation(); // stop a11yclick and _HasDropdown from seeing SPACE if we're doing keyboard searching\r\n\t\t\t\tevt.preventDefault(); // stop IE from scrolling, and most browsers (except FF) from sending keypress\r\n\t\t\t\tthis._keyboardSearch(evt, ' ');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onContainerKeypress: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen a printable key is pressed, it's handled here, searching by letter.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Ignore:\r\n\t\t\t// \t\t- duplicate events on firefox (ex: arrow key that will be handled by keydown handler)\r\n\t\t\t//\t\t- control sequences like CMD-Q.\r\n\t\t\t//\t\t- the SPACE key (only occurs on FF)\r\n\t\t\t//\r\n\t\t\t// Note: if there's no search in progress, then SPACE should be ignored.   If there is a search\r\n\t\t\t// in progress, then SPACE is handled in _onContainerKeyDown.\r\n\t\t\tif(evt.charCode <= keys.SPACE || evt.ctrlKey || evt.altKey || evt.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevt.stopPropagation();\r\n\r\n\t\t\tthis._keyboardSearch(evt, String.fromCharCode(evt.charCode).toLowerCase());\r\n\t\t},\r\n\r\n\t\t_keyboardSearch: function(/*Event*/ evt, /*String*/ keyChar){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPerform a search of the widget's options based on the user's keyboard activity\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalled on keypress (and sometimes keydown), searches through this widget's children\r\n\t\t\t//\t\tlooking for items that match the user's typed search string.  Multiple characters\r\n\t\t\t//\t\ttyped within 1 sec of each other are combined for multicharacter searching.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar\r\n\t\t\t\tmatchedItem = null,\r\n\t\t\t\tsearchString,\r\n\t\t\t\tnumMatches = 0,\r\n\t\t\t\tsearch = lang.hitch(this, function(){\r\n\t\t\t\t\tif(this._searchTimer){\r\n\t\t\t\t\t\tthis._searchTimer.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._searchString += keyChar;\r\n\t\t\t\t\tvar allSameLetter = /^(.)\\1*$/.test(this._searchString);\r\n\t\t\t\t\tvar searchLen = allSameLetter ? 1 : this._searchString.length;\r\n\t\t\t\t\tsearchString = this._searchString.substr(0, searchLen);\r\n\t\t\t\t\t// commented out code block to search again if the multichar search fails after a smaller timeout\r\n\t\t\t\t\t//this._searchTimer = this.defer(function(){ // this is the \"failure\" timeout\r\n\t\t\t\t\t//\tthis._typingSlowly = true; // if the search fails, then treat as a full timeout\r\n\t\t\t\t\t//\tthis._searchTimer = this.defer(function(){ // this is the \"success\" timeout\r\n\t\t\t\t\t//\t\tthis._searchTimer = null;\r\n\t\t\t\t\t//\t\tthis._searchString = '';\r\n\t\t\t\t\t//\t}, this.multiCharSearchDuration >> 1);\r\n\t\t\t\t\t//}, this.multiCharSearchDuration >> 1);\r\n\t\t\t\t\tthis._searchTimer = this.defer(function(){ // this is the \"success\" timeout\r\n\t\t\t\t\t\tthis._searchTimer = null;\r\n\t\t\t\t\t\tthis._searchString = '';\r\n\t\t\t\t\t}, this.multiCharSearchDuration);\r\n\t\t\t\t\tvar currentItem = this.focusedChild || null;\r\n\t\t\t\t\tif(searchLen == 1 || !currentItem){\r\n\t\t\t\t\t\tcurrentItem = this._getNextFocusableChild(currentItem, 1); // skip current\r\n\t\t\t\t\t\tif(!currentItem){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} // no items\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar stop = currentItem;\r\n\t\t\t\t\tdo{\r\n\t\t\t\t\t\tvar rc = this._keyboardSearchCompare(currentItem, searchString);\r\n\t\t\t\t\t\tif(!!rc && numMatches++ == 0){\r\n\t\t\t\t\t\t\tmatchedItem = currentItem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(rc == -1){ // priority match\r\n\t\t\t\t\t\t\tnumMatches = -1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcurrentItem = this._getNextFocusableChild(currentItem, 1);\r\n\t\t\t\t\t}while(currentItem != stop);\r\n\t\t\t\t\t// commented out code block to search again if the multichar search fails after a smaller timeout\r\n\t\t\t\t\t//if(!numMatches && (this._typingSlowly || searchLen == 1)){\r\n\t\t\t\t\t//\tthis._searchString = '';\r\n\t\t\t\t\t//\tif(searchLen > 1){\r\n\t\t\t\t\t//\t\t// if no matches and they're typing slowly, then go back to first letter searching\r\n\t\t\t\t\t//\t\tsearch();\r\n\t\t\t\t\t//\t}\r\n\t\t\t\t\t//}\r\n\t\t\t\t});\r\n\r\n\t\t\tsearch();\r\n\t\t\t// commented out code block to search again if the multichar search fails after a smaller timeout\r\n\t\t\t//this._typingSlowly = false;\r\n\t\t\tthis.onKeyboardSearch(matchedItem, evt, searchString, numMatches);\r\n\t\t},\r\n\r\n\t\t_onChildBlur: function(/*dijit/_WidgetBase*/ /*===== widget =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when focus leaves a child widget to go\r\n\t\t\t//\t\tto a sibling widget.\r\n\t\t\t//\t\tUsed to be used by MenuBase.js (remove for 2.0)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\t_getNextFocusableChild: function(child, dir){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the next or previous focusable descendant, compared to \"child\".\r\n\t\t\t//\t\tImplements and extends _KeyNavMixin._getNextFocusableChild() for a _Container.\r\n\t\t\t// child: Widget\r\n\t\t\t//\t\tThe current widget\r\n\t\t\t// dir: Integer\r\n\t\t\t//\t\t- 1 = after\r\n\t\t\t//\t\t- -1 = before\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\r\n\t\t\tvar wrappedValue = child;\r\n\t\t\tdo{\r\n\t\t\t\tif(!child){\r\n\t\t\t\t\tchild = this[dir > 0 ? \"_getFirst\" : \"_getLast\"]();\r\n\t\t\t\t\tif(!child){ break; }\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchild = this._getNext(child, dir);\r\n\t\t\t\t}\r\n\t\t\t\tif(child != null && child != wrappedValue && child.isFocusable()){\r\n\t\t\t\t\treturn child;\t// dijit/_WidgetBase\r\n\t\t\t\t}\r\n\t\t\t}while(child != wrappedValue);\r\n\t\t\t// no focusable child found\r\n\t\t\treturn null;\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\t_getFirst: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the first child.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\r\n\t\t\treturn null;\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\t_getLast: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the last descendant.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\r\n\t\t\treturn null;\t// dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\t_getNext: function(child, dir){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the next descendant, compared to \"child\".\r\n\t\t\t// child: Widget\r\n\t\t\t//\t\tThe current widget\r\n\t\t\t// dir: Integer\r\n\t\t\t//\t\t- 1 = after\r\n\t\t\t//\t\t- -1 = before\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\r\n\t\t\tif(child){\r\n\t\t\t\tchild = child.domNode;\r\n\t\t\t\twhile(child){\r\n\t\t\t\t\tchild = child[dir < 0 ? \"previousSibling\" : \"nextSibling\"];\r\n\t\t\t\t\tif(child  && \"getAttribute\" in child){\r\n\t\t\t\t\t\tvar w = registry.byNode(child);\r\n\t\t\t\t\t\tif(w){\r\n\t\t\t\t\t\t\treturn w; // dijit/_WidgetBase\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\t// dijit/_WidgetBase\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_KeyNavContainer',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // keys.END keys.HOME\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"./registry\",\r\n\t\"./_Container\",\r\n\t\"./_FocusMixin\",\r\n\t\"./_KeyNavMixin\"\r\n], function(array, declare, domAttr, kernel, keys, lang, registry, _Container, _FocusMixin, _KeyNavMixin){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/_KeyNavContainer\r\n\r\n\treturn declare(\"dijit._KeyNavContainer\", [_FocusMixin, _KeyNavMixin, _Container], {\r\n\t\t// summary:\r\n\t\t//\t\tA _Container with keyboard navigation of its children.\r\n\t\t// description:\r\n\t\t//\t\tProvides normalized keyboard and focusing code for Container widgets.\r\n\t\t//\t\tTo use this mixin, call connectKeyNavHandlers() in postCreate().\r\n\t\t//\t\tAlso, child widgets must implement a focus() method.\r\n\r\n\t\tconnectKeyNavHandlers: function(/*keys[]*/ prevKeyCodes, /*keys[]*/ nextKeyCodes){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  You can call this in postCreate() to attach the keyboard handlers to the container,\r\n\t\t\t//\t\tbut the preferred method is to override _onLeftArrow() and _onRightArrow(), or\r\n\t\t\t//\t\t_onUpArrow() and _onDownArrow(), to call focusPrev() and focusNext().\r\n\t\t\t// prevKeyCodes: keys[]\r\n\t\t\t//\t\tKey codes for navigating to the previous child.\r\n\t\t\t// nextKeyCodes: keys[]\r\n\t\t\t//\t\tKey codes for navigating to the next child.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// TODO: remove for 2.0, and make subclasses override _onLeftArrow, _onRightArrow etc. instead.\r\n\r\n\t\t\tvar keyCodes = (this._keyNavCodes = {});\r\n\t\t\tvar prev = lang.hitch(this, \"focusPrev\");\r\n\t\t\tvar next = lang.hitch(this, \"focusNext\");\r\n\t\t\tarray.forEach(prevKeyCodes, function(code){\r\n\t\t\t\tkeyCodes[code] = prev;\r\n\t\t\t});\r\n\t\t\tarray.forEach(nextKeyCodes, function(code){\r\n\t\t\t\tkeyCodes[code] = next;\r\n\t\t\t});\r\n\t\t\tkeyCodes[keys.HOME] = lang.hitch(this, \"focusFirstChild\");\r\n\t\t\tkeyCodes[keys.END] = lang.hitch(this, \"focusLastChild\");\r\n\t\t},\r\n\r\n\t\tstartupKeyNavChildren: function(){\r\n\t\t\tkernel.deprecated(\"startupKeyNavChildren() call no longer needed\", \"\", \"2.0\");\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tarray.forEach(this.getChildren(), lang.hitch(this, \"_startupChild\"));\r\n\t\t},\r\n\r\n\t\taddChild: function(/*dijit/_WidgetBase*/ widget, /*int?*/ insertIndex){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._startupChild(widget);\r\n\t\t},\r\n\r\n\t\t_startupChild: function(/*dijit/_WidgetBase*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSetup for each child widget.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets tabIndex=-1 on each child, so that the tab key will\r\n\t\t\t//\t\tleave the container rather than visiting each child.\r\n\t\t\t//\r\n\t\t\t//\t\tNote: if you add children by a different method than addChild(), then need to call this manually\r\n\t\t\t//\t\tor at least make sure the child's tabIndex is -1.\r\n\t\t\t//\r\n\t\t\t//\t\tNote: see also _LayoutWidget.setupChild(), which is also called for each child widget.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\twidget.set(\"tabIndex\", \"-1\");\r\n\t\t},\r\n\r\n\t\t_getFirst: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the first child.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\treturn children.length ? children[0] : null;\r\n\t\t},\r\n\r\n\t\t_getLast: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the last descendant.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\treturn children.length ? children[children.length - 1] : null;\r\n\t\t},\r\n\r\n\t\tfocusNext: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the next widget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.focusChild(this._getNextFocusableChild(this.focusedChild, 1));\r\n\t\t},\r\n\r\n\t\tfocusPrev: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the last focusable node in the previous widget\r\n\t\t\t//\t\t(ex: go to the ComboButton icon section rather than button section)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.focusChild(this._getNextFocusableChild(this.focusedChild, -1), true);\r\n\t\t},\r\n\r\n\t\tchildSelector: function(/*DOMNode*/ node){\r\n\t\t\t// Implement _KeyNavMixin.childSelector, to identify focusable child nodes.\r\n\t\t\t// If we allowed a dojo/query dependency from this module this could more simply be a string \"> *\"\r\n\t\t\t// instead of this function.\r\n\r\n\t\t\tvar node = registry.byNode(node);\r\n\t\t\treturn node && node.getParent() == this;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/Toolbar',[\r\n\t\"require\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/has\",\r\n\t\"dojo/keys\", // keys.LEFT_ARROW keys.RIGHT_ARROW\r\n\t\"dojo/ready\",\r\n\t\"./_Widget\",\r\n\t\"./_KeyNavContainer\",\r\n\t\"./_TemplatedMixin\"\r\n], function(require, declare, has, keys, ready, _Widget, _KeyNavContainer, _TemplatedMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Toolbar\r\n\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/ToolbarSeparator\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\treturn declare(\"dijit.Toolbar\", [_Widget, _TemplatedMixin, _KeyNavContainer], {\r\n\t\t// summary:\r\n\t\t//\t\tA Toolbar widget, used to hold things like `dijit/Editor` buttons\r\n\r\n\t\ttemplateString:\r\n\t\t\t'<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">' +\r\n\t\t\t'</div>',\r\n\r\n\t\tbaseClass: \"dijitToolbar\",\r\n\r\n\t\t_onLeftArrow: function(){\r\n\t\t\tthis.focusPrev();\r\n\t\t},\r\n\r\n\t\t_onRightArrow: function(){\r\n\t\t\tthis.focusNext();\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/ToolbarSeparator',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\"\r\n], function(declare, dom, _Widget, _TemplatedMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/ToolbarSeparator\r\n\r\n\r\n\treturn declare(\"dijit.ToolbarSeparator\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA spacer between two `dijit.Toolbar` items\r\n\r\n\t\ttemplateString: '<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>',\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdom.setSelectable(this.domNode, false);\r\n\t\t},\r\n\r\n\t\tisFocusable: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis widget isn't focusable, so pass along that fact.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_ButtonMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/has\",\r\n\t\"../registry\"        // registry.byNode\r\n], function(declare, dom, has, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ButtonMixin\r\n\r\n\tvar ButtonMixin = declare(\"dijit.form._ButtonMixin\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), null, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin to add a thin standard API wrapper to a normal HTML button\r\n\t\t// description:\r\n\t\t//\t\tA label should always be specified (through innerHTML) or the label attribute.\r\n\t\t//\r\n\t\t//\t\tAttach points:\r\n\t\t//\r\n\t\t//\t\t- focusNode (required): this node receives focus\r\n\t\t//\t\t- valueNode (optional): this node's value gets submitted with FORM elements\r\n\t\t//\t\t- containerNode (optional): this node gets the innerHTML assignment for label\r\n\t\t// example:\r\n\t\t// |\t<button data-dojo-type=\"dijit/form/Button\" onClick=\"...\">Hello world</button>\r\n\t\t// example:\r\n\t\t// |\tvar button1 = new Button({label: \"hello world\", onClick: foo});\r\n\t\t// |\tdojo.body().appendChild(button1.domNode);\r\n\r\n\t\t// label: HTML String\r\n\t\t//\t\tContent to display in button.\r\n\t\tlabel: \"\",\r\n\r\n\t\t// type: [const] String\r\n\t\t//\t\tType of button (submit, reset, button, checkbox, radio)\r\n\t\ttype: \"button\",\r\n\r\n\t\t__onClick: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to divert the real click onto the hidden INPUT that has a native default action associated with it\r\n\t\t\t// type:\r\n\t\t\t//\t\tprivate\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\t// cannot use on.emit since button default actions won't occur\r\n\t\t\t\tthis.valueNode.click(e);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to handle click actions\r\n\t\t\tif(this.disabled){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(this.onClick(e) === false){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tvar cancelled = e.defaultPrevented;\r\n\r\n\t\t\t// Signal Form/Dialog to submit/close.  For 2.0, consider removing this code and instead making the Form/Dialog\r\n\t\t\t// listen for bubbled click events where evt.target.type == \"submit\" && !evt.defaultPrevented.\r\n\t\t\tif(!cancelled && this.type == \"submit\" && !(this.valueNode || this.focusNode).form){\r\n\t\t\t\tfor(var node = this.domNode; node.parentNode; node = node.parentNode){\r\n\t\t\t\t\tvar widget = registry.byNode(node);\r\n\t\t\t\t\tif(widget && typeof widget._onSubmit == \"function\"){\r\n\t\t\t\t\t\twidget._onSubmit(e);\r\n\t\t\t\t\t\te.preventDefault(); // action has already occurred\r\n\t\t\t\t\t\tcancelled = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn !cancelled;\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdom.setSelectable(this.focusNode, false);\r\n\t\t},\r\n\r\n\t\tonClick: function(/*Event*/ /*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback for when button is clicked.\r\n\t\t\t//\t\tIf type=\"submit\", return true to perform submit, or false to cancel it.\r\n\t\t\t// type:\r\n\t\t\t//\t\tcallback\r\n\t\t\treturn true;\t\t// Boolean\r\n\t\t},\r\n\r\n\t\t_setLabelAttr: function(/*String*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for set('label', ...) to work.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSet the label (text) of the button; takes an HTML string.\r\n\t\t\tthis._set(\"label\", content);\r\n\t\t\tvar labelNode = this.containerNode || this.focusNode;\r\n\t\t\tlabelNode.innerHTML = content;\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tButtonMixin = declare(\"dijit.form._ButtonMixin\", ButtonMixin, {\r\n\t\t\t_setLabelAttr: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tvar labelNode = this.containerNode || this.focusNode;\r\n\t\t\t\tthis.applyTextDir(labelNode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn ButtonMixin;\r\n});\r\n\n\ndefine('dijit/form/Button',[\r\n\t\"require\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/has\", // has(\"dijit-legacy-requires\")\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.trim\r\n\t\"dojo/ready\",\r\n\t\"./_FormWidget\",\r\n\t\"./_ButtonMixin\",\r\n\t\"dojo/text!./templates/Button.html\",\r\n\t\"../a11yclick\"\t// template uses ondijitclick\r\n], function(require, declare, domClass, has, kernel, lang, ready, _FormWidget, _ButtonMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/Button\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/form/DropDownButton\", \"dijit/form/ComboButton\", \"dijit/form/ToggleButton\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\tvar Button = declare(\"dijit.form.Button\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), [_FormWidget, _ButtonMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tBasically the same thing as a normal HTML button, but with special styling.\r\n\t\t// description:\r\n\t\t//\t\tButtons can display a label, an icon, or both.\r\n\t\t//\t\tA label should always be specified (through innerHTML) or the label\r\n\t\t//\t\tattribute.  It can be hidden via showLabel=false.\r\n\t\t// example:\r\n\t\t// |\t<button data-dojo-type=\"dijit/form/Button\" onClick=\"...\">Hello world</button>\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\tvar button1 = new Button({label: \"hello world\", onClick: foo});\r\n\t\t// |\tdojo.body().appendChild(button1.domNode);\r\n\r\n\t\t// showLabel: Boolean\r\n\t\t//\t\tSet this to true to hide the label text and display only the icon.\r\n\t\t//\t\t(If showLabel=false then iconClass must be specified.)\r\n\t\t//\t\tEspecially useful for toolbars.\r\n\t\t//\t\tIf showLabel=true, the label will become the title (a.k.a. tooltip/hint) of the icon.\r\n\t\t//\r\n\t\t//\t\tThe exception case is for computers in high-contrast mode, where the label\r\n\t\t//\t\twill still be displayed, since the icon doesn't appear.\r\n\t\tshowLabel: true,\r\n\r\n\t\t// iconClass: String\r\n\t\t//\t\tClass to apply to DOMNode in button to make it display an icon\r\n\t\ticonClass: \"dijitNoIcon\",\r\n\t\t_setIconClassAttr: { node: \"iconNode\", type: \"class\" },\r\n\r\n\t\tbaseClass: \"dijitButton\",\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setValueAttr: \"valueNode\",\r\n\t\t_setNameAttr: function(name){\r\n\t\t\t// avoid breaking existing subclasses where valueNode undefined.  Perhaps in 2.0 require it to be defined?\r\n\t\t\tif(this.valueNode){\r\n\t\t\t\tthis.valueNode.setAttribute(\"name\", name);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_fillContent: function(/*DomNode*/ source){\r\n\t\t\t// Overrides _Templated._fillContent().\r\n\t\t\t// If button label is specified as srcNodeRef.innerHTML rather than\r\n\t\t\t// this.params.label, handle it here.\r\n\t\t\t// TODO: remove the method in 2.0, parser will do it all for me\r\n\t\t\tif(source && (!this.params || !(\"label\" in this.params))){\r\n\t\t\t\tvar sourceLabel = lang.trim(source.innerHTML);\r\n\t\t\t\tif(sourceLabel){\r\n\t\t\t\t\tthis.label = sourceLabel; // _applyAttributes will be called after buildRendering completes to update the DOM\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setShowLabelAttr: function(val){\r\n\t\t\tif(this.containerNode){\r\n\t\t\t\tdomClass.toggle(this.containerNode, \"dijitDisplayNone\", !val);\r\n\t\t\t}\r\n\t\t\tthis._set(\"showLabel\", val);\r\n\t\t},\r\n\r\n\t\tsetLabel: function(/*String*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('label', ...) instead.\r\n\t\t\tkernel.deprecated(\"dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set(\"label\", content);\r\n\t\t},\r\n\r\n\t\t_setLabelAttr: function(/*String*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for set('label', ...) to work.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSet the label (text) of the button; takes an HTML string.\r\n\t\t\t//\t\tIf the label is hidden (showLabel=false) then and no title has\r\n\t\t\t//\t\tbeen specified, then label is also set as title attribute of icon.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.showLabel && !(\"title\" in this.params)){\r\n\t\t\t\tthis.titleNode.title = lang.trim(this.containerNode.innerText || this.containerNode.textContent || '');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tButton = declare(\"dijit.form.Button\", Button, {\r\n\t\t\t_setLabelAttr: function(/*String*/ content){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tif(this.titleNode.title){\r\n\t\t\t\t\tthis.applyTextDir(this.titleNode, this.titleNode.title);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(/*String*/ textDir){\r\n\t\t\t\tif(this._created && this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tthis._setLabelAttr(this.label); // call applyTextDir on both focusNode and titleNode\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn Button;\r\n});\r\n\ndefine('dijit/form/_ToggleButtonMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\" // domAttr.set\r\n], function(declare, domAttr){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ToggleButtonMixin\r\n\r\n\treturn declare(\"dijit.form._ToggleButtonMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin to provide functionality to allow a button that can be in two states (checked or not).\r\n\r\n\t\t// checked: Boolean\r\n\t\t//\t\tCorresponds to the native HTML `<input>` element's attribute.\r\n\t\t//\t\tIn markup, specified as \"checked='checked'\" or just \"checked\".\r\n\t\t//\t\tTrue if the button is depressed, or the checkbox is checked,\r\n\t\t//\t\tor the radio button is selected, etc.\r\n\t\tchecked: false,\r\n\r\n\t\t// aria-pressed for toggle buttons, and aria-checked for checkboxes\r\n\t\t_aria_attr: \"aria-pressed\",\r\n\r\n\t\t_onClick: function(/*Event*/ evt){\r\n\t\t\tvar original = this.checked;\r\n\t\t\tthis._set('checked', !original); // partially set the toggled value, assuming the toggle will work, so it can be overridden in the onclick handler\r\n\t\t\tvar ret = this.inherited(arguments); // the user could reset the value here\r\n\t\t\tthis.set('checked', ret ? this.checked : original); // officially set the toggled or user value, or reset it back\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t_setCheckedAttr: function(/*Boolean*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\tthis._set(\"checked\", value);\r\n\t\t\tvar node = this.focusNode || this.domNode;\r\n\t\t\tif(this._created){ // IE is not ready to handle checked attribute (affects tab order)\r\n\t\t\t\t// needlessly setting \"checked\" upsets IE's tab order\r\n\t\t\t\tif(domAttr.get(node, \"checked\") != !!value){\r\n\t\t\t\t\tdomAttr.set(node, \"checked\", !!value); // \"mixed\" -> true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnode.setAttribute(this._aria_attr, String(value)); // aria values should be strings\r\n\t\t\tthis._handleOnChange(value, priorityChange);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){ // use postCreate instead of startup so users forgetting to call startup are OK\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar node = this.focusNode || this.domNode;\r\n\t\t\tif(this.checked){\r\n\t\t\t\t// need this here instead of on the template so IE8 tab order works\r\n\t\t\t\tnode.setAttribute('checked', 'checked');\r\n\t\t\t}\r\n\r\n\t\t\t// Update our reset value if it hasn't yet been set (because this.set()\r\n\t\t\t// is only called when there *is* a value)\r\n\t\t\tif(this._resetValue === undefined){\r\n\t\t\t\tthis._lastValueReported = this._resetValue = this.checked;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReset the widget's value to what it was at initialization time\r\n\r\n\t\t\tthis._hasBeenBlurred = false;\r\n\r\n\t\t\t// set checked state to original setting\r\n\t\t\tthis.set('checked', this.params.checked || false);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/ToggleButton',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"./Button\",\r\n\t\"./_ToggleButtonMixin\"\r\n], function(declare, kernel, Button, _ToggleButtonMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/ToggleButton\r\n\r\n\r\n\treturn declare(\"dijit.form.ToggleButton\", [Button, _ToggleButtonMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA templated button widget that can be in two states (checked or not).\r\n\t\t//\t\tCan be base class for things like tabs or checkbox or radio buttons.\r\n\r\n\t\tbaseClass: \"dijitToggleButton\",\r\n\r\n\t\tsetChecked: function(/*Boolean*/ checked){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('checked', true/false) instead.\r\n\t\t\tkernel.deprecated(\"setChecked(\"+checked+\") is deprecated. Use set('checked',\"+checked+\") instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('checked', checked);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_editor/_Plugin',[\r\n\t\"dojo/_base/connect\", // connect.connect\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.mixin, lang.hitch\r\n\t\"../Destroyable\",\r\n\t\"../form/Button\"\r\n], function(connect, declare, lang, Destroyable, Button){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/_Plugin\r\n\r\n\tvar _Plugin = declare(\"dijit._editor._Plugin\", Destroyable, {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for a \"plugin\" to the editor, which is usually\r\n\t\t//\t\ta single button on the Toolbar and some associated code\r\n\r\n\t\tconstructor: function(args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the plugin.\r\n\t\t\t// args: Object?\r\n\t\t\t//\t\tInitial settings for any of the attributes.\r\n\r\n\t\t\tthis.params = args || {};\r\n\t\t\tlang.mixin(this, this.params);\r\n\t\t\tthis._attrPairNames = {};\r\n\t\t},\r\n\r\n\t\t// editor: [const] dijit.Editor\r\n\t\t//\t\tPoints to the parent editor\r\n\t\teditor: null,\r\n\r\n\t\t// iconClassPrefix: [const] String\r\n\t\t//\t\tThe CSS class name for the button node is formed from `iconClassPrefix` and `command`\r\n\t\ticonClassPrefix: \"dijitEditorIcon\",\r\n\r\n\t\t// button: dijit/_WidgetBase?\r\n\t\t//\t\tPointer to `dijit/form/Button` or other widget (ex: `dijit/form/FilteringSelect`)\r\n\t\t//\t\tthat is added to the toolbar to control this plugin.\r\n\t\t//\t\tIf not specified, will be created on initialization according to `buttonClass`\r\n\t\tbutton: null,\r\n\r\n\t\t// command: String\r\n\t\t//\t\tString like \"insertUnorderedList\", \"outdent\", \"justifyCenter\", etc. that represents an editor command.\r\n\t\t//\t\tPassed to editor.execCommand() if `useDefaultCommand` is true.\r\n\t\tcommand: \"\",\r\n\r\n\t\t// useDefaultCommand: Boolean\r\n\t\t//\t\tIf true, this plugin executes by calling Editor.execCommand() with the argument specified in `command`.\r\n\t\tuseDefaultCommand: true,\r\n\r\n\t\t// buttonClass: Widget Class\r\n\t\t//\t\tClass of widget (ex: dijit.form.Button or dijit/form/FilteringSelect)\r\n\t\t//\t\tthat is added to the toolbar to control this plugin.\r\n\t\t//\t\tThis is used to instantiate the button, unless `button` itself is specified directly.\r\n\t\tbuttonClass: Button,\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tFlag to indicate if this plugin has been disabled and should do nothing\r\n\t\t//\t\thelps control button state, among other things.  Set via the setter api.\r\n\t\tdisabled: false,\r\n\r\n\t\tgetLabel: function(/*String*/key){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the label to use for the button\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn this.editor.commands[key];\t\t// String\r\n\t\t},\r\n\r\n\t\t_initButton: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInitialize the button or other widget that will control this plugin.\r\n\t\t\t//\t\tThis code only works for plugins controlling built-in commands in the editor.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\tif(this.command.length){\r\n\t\t\t\tvar label = this.getLabel(this.command),\r\n\t\t\t\t\teditor = this.editor,\r\n\t\t\t\t\tclassName = this.iconClassPrefix + \" \" + this.iconClassPrefix + this.command.charAt(0).toUpperCase() + this.command.substr(1);\r\n\t\t\t\tif(!this.button){\r\n\t\t\t\t\tvar props = lang.mixin({\r\n\t\t\t\t\t\tlabel: label,\r\n\t\t\t\t\t\townerDocument: editor.ownerDocument,\r\n\t\t\t\t\t\tdir: editor.dir,\r\n\t\t\t\t\t\tlang: editor.lang,\r\n\t\t\t\t\t\tshowLabel: false,\r\n\t\t\t\t\t\ticonClass: className,\r\n\t\t\t\t\t\tdropDown: this.dropDown,\r\n\t\t\t\t\t\ttabIndex: \"-1\"\r\n\t\t\t\t\t}, this.params || {});\r\n\r\n\t\t\t\t\t// Avoid creating Button with a name like \"dijit/editor/_plugins/ToggleDir\", since that name becomes\r\n\t\t\t\t\t// a global object, and then if the ToggleDir plugin is referenced again, _Plugin.js will\r\n\t\t\t\t\t// find the <input> rather than the ToggleDir module.\r\n\t\t\t\t\t// Not necessary in 2.0 once the getObject() call is removed from _Plugin.js.\r\n\t\t\t\t\tdelete props.name;\r\n\r\n\t\t\t\t\tthis.button = new this.buttonClass(props);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this.get(\"disabled\") && this.button){\r\n\t\t\t\tthis.button.set(\"disabled\", this.get(\"disabled\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tthis.dropDown.destroyRecursive();\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tconnect: function(o, f, tf){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use this.own() with dojo/on or dojo/aspect.instead.\r\n\t\t\t//\r\n\t\t\t//\t\tMake a connect.connect() that is automatically disconnected when this plugin is destroyed.\r\n\t\t\t//\t\tSimilar to `dijit/_Widget.connect()`.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected deprecated\r\n\r\n\t\t\tthis.own(connect.connect(o, f, this, tf));\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChange state of the plugin to respond to events in the editor.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis is called on meaningful events in the editor, such as change of selection\r\n\t\t\t//\t\tor caret position (but not simple typing of alphanumeric keys).   It gives the\r\n\t\t\t//\t\tplugin a chance to update the CSS of its button.\r\n\t\t\t//\r\n\t\t\t//\t\tFor example, the \"bold\" plugin will highlight/unhighlight the bold button depending on whether the\r\n\t\t\t//\t\tcharacters next to the caret are bold or not.\r\n\t\t\t//\r\n\t\t\t//\t\tOnly makes sense when `useDefaultCommand` is true, as it calls Editor.queryCommandEnabled(`command`).\r\n\t\t\tvar e = this.editor,\r\n\t\t\t\tc = this.command,\r\n\t\t\t\tchecked, enabled;\r\n\t\t\tif(!e || !e.isLoaded || !c.length){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar disabled = this.get(\"disabled\");\r\n\t\t\tif(this.button){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tenabled = !disabled && e.queryCommandEnabled(c);\r\n\t\t\t\t\tif(this.enabled !== enabled){\r\n\t\t\t\t\t\tthis.enabled = enabled;\r\n\t\t\t\t\t\tthis.button.set('disabled', !enabled);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(enabled){\r\n\t\t\t\t\t\tif(typeof this.button.checked == 'boolean'){\r\n\t\t\t\t\t\t\tchecked = e.queryCommandState(c);\r\n\t\t\t\t\t\t\tif(this.checked !== checked){\r\n\t\t\t\t\t\t\t\tthis.checked = checked;\r\n\t\t\t\t\t\t\t\tthis.button.set('checked', e.queryCommandState(c));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tconsole.log(e); // FIXME: we shouldn't have debug statements in our code.  Log as an error?\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetEditor: function(/*dijit/Editor*/ editor){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTell the plugin which Editor it is associated with.\r\n\r\n\t\t\t// TODO: refactor code to just pass editor to constructor.\r\n\r\n\t\t\t// FIXME: detach from previous editor!!\r\n\t\t\tthis.editor = editor;\r\n\r\n\t\t\t// FIXME: prevent creating this if we don't need to (i.e., editor can't handle our command)\r\n\t\t\tthis._initButton();\r\n\r\n\t\t\t// Processing for buttons that execute by calling editor.execCommand()\r\n\t\t\tif(this.button && this.useDefaultCommand){\r\n\t\t\t\tif(this.editor.queryCommandAvailable(this.command)){\r\n\t\t\t\t\tthis.own(this.button.on(\"click\",\r\n\t\t\t\t\t\tlang.hitch(this.editor, \"execCommand\", this.command, this.commandArg)\r\n\t\t\t\t\t));\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// hide button because editor doesn't support command (due to browser limitations)\r\n\t\t\t\t\tthis.button.domNode.style.display = \"none\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.own(this.editor.on(\"NormalizedDisplayChanged\", lang.hitch(this, \"updateState\")));\r\n\t\t},\r\n\r\n\t\tsetToolbar: function(/*dijit/Toolbar*/ toolbar){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTell the plugin to add it's controller widget (often a button)\r\n\t\t\t//\t\tto the toolbar.  Does nothing if there is no controller widget.\r\n\r\n\t\t\t// TODO: refactor code to just pass toolbar to constructor.\r\n\r\n\t\t\tif(this.button){\r\n\t\t\t\ttoolbar.addChild(this.button);\r\n\t\t\t}\r\n\t\t\t// console.debug(\"adding\", this.button, \"to:\", toolbar);\r\n\t\t},\r\n\r\n\t\tset: function(/* attribute */ name, /* anything */ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet a property on a plugin\r\n\t\t\t// name:\r\n\t\t\t//\t\tThe property to set.\r\n\t\t\t// value:\r\n\t\t\t//\t\tThe value to set in the property.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets named properties on a plugin which may potentially be handled by a\r\n\t\t\t//\t\tsetter in the plugin.\r\n\t\t\t//\t\tFor example, if the plugin has a properties \"foo\"\r\n\t\t\t//\t\tand \"bar\" and a method named \"_setFooAttr\", calling:\r\n\t\t\t//\t|\tplugin.set(\"foo\", \"Howdy!\");\r\n\t\t\t//\t\twould be equivalent to writing:\r\n\t\t\t//\t|\tplugin._setFooAttr(\"Howdy!\");\r\n\t\t\t//\t\tand:\r\n\t\t\t//\t|\tplugin.set(\"bar\", 3);\r\n\t\t\t//\t\twould be equivalent to writing:\r\n\t\t\t//\t|\tplugin.bar = 3;\r\n\t\t\t//\r\n\t\t\t//\t\tset() may also be called with a hash of name/value pairs, ex:\r\n\t\t\t//\t|\tplugin.set({\r\n\t\t\t//\t|\t\tfoo: \"Howdy\",\r\n\t\t\t//\t|\t\tbar: 3\r\n\t\t\t//\t|\t})\r\n\t\t\t//\t\tThis is equivalent to calling set(foo, \"Howdy\") and set(bar, 3)\r\n\t\t\tif(typeof name === \"object\"){\r\n\t\t\t\tfor(var x in name){\r\n\t\t\t\t\tthis.set(x, name[x]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tvar names = this._getAttrNames(name);\r\n\t\t\tif(this[names.s]){\r\n\t\t\t\t// use the explicit setter\r\n\t\t\t\tvar result = this[names.s].apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t}else{\r\n\t\t\t\tthis._set(name, value);\r\n\t\t\t}\r\n\t\t\treturn result || this;\r\n\t\t},\r\n\r\n\t\tget: function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet a property from a plugin.\r\n\t\t\t// name:\r\n\t\t\t//\t\tThe property to get.\r\n\t\t\t// description:\r\n\t\t\t//\t\tGet a named property from a plugin. The property may\r\n\t\t\t//\t\tpotentially be retrieved via a getter method. If no getter is defined, this\r\n\t\t\t//\t\tjust retrieves the object's property.\r\n\t\t\t//\t\tFor example, if the plugin has a properties \"foo\"\r\n\t\t\t//\t\tand \"bar\" and a method named \"_getFooAttr\", calling:\r\n\t\t\t//\t|\tplugin.get(\"foo\");\r\n\t\t\t//\t\twould be equivalent to writing:\r\n\t\t\t//\t|\tplugin._getFooAttr();\r\n\t\t\t//\t\tand:\r\n\t\t\t//\t|\tplugin.get(\"bar\");\r\n\t\t\t//\t\twould be equivalent to writing:\r\n\t\t\t//\t|\tplugin.bar;\r\n\t\t\tvar names = this._getAttrNames(name);\r\n\t\t\treturn this[names.g] ? this[names.g]() : this[name];\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to set the plugin state and call updateState to make sure the\r\n\t\t\t//\t\tbutton is updated appropriately.\r\n\t\t\tthis._set(\"disabled\", disabled);\r\n\t\t\tthis.updateState();\r\n\t\t},\r\n\r\n\t\t_getAttrNames: function(name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function for get() and set().\r\n\t\t\t//\t\tCaches attribute name values so we don't do the string ops every time.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar apn = this._attrPairNames;\r\n\t\t\tif(apn[name]){\r\n\t\t\t\treturn apn[name];\r\n\t\t\t}\r\n\t\t\tvar uc = name.charAt(0).toUpperCase() + name.substr(1);\r\n\t\t\treturn (apn[name] = {\r\n\t\t\t\ts: \"_set\" + uc + \"Attr\",\r\n\t\t\t\tg: \"_get\" + uc + \"Attr\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_set: function(/*String*/ name, /*anything*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function to set new value for specified attribute\r\n\t\t\tthis[name] = value;\r\n\t\t}\r\n\t});\r\n\r\n\t// Hash mapping plugin name to factory, used for registering plugins\r\n\t_Plugin.registry = {};\r\n\r\n\treturn _Plugin;\r\n});\r\n\ndefine('dojo/_base/unload',[\"./kernel\", \"./lang\", \"../on\"], function(dojo, lang, on){\r\n\r\n// module:\r\n//\t\tdojo/unload\r\n\r\nvar win = window;\r\n\r\nvar unload = {\r\n\t// summary:\r\n\t//\t\tThis module contains the document and window unload detection API.\r\n\t//\t\tThis module is deprecated.  Use on(window, \"unload\", func)\r\n\t//\t\tand on(window, \"beforeunload\", func) instead.\r\n\r\n\taddOnWindowUnload: function(/*Object|Function?*/ obj, /*String|Function?*/ functionName){\r\n\t\t// summary:\r\n\t\t//\t\tRegisters a function to be triggered when window.onunload fires.\r\n\t\t//\t\tDeprecated, use on(window, \"unload\", lang.hitch(obj, functionName)) instead.\r\n\t\t// description:\r\n\t\t//\t\tThe first time that addOnWindowUnload is called Dojo\r\n\t\t//\t\twill register a page listener to trigger your unload\r\n\t\t//\t\thandler with. Note that registering these handlers may\r\n\t\t//\t\tdestroy \"fastback\" page caching in browsers that support\r\n\t\t//\t\tit. Be careful trying to modify the DOM or access\r\n\t\t//\t\tJavaScript properties during this phase of page unloading:\r\n\t\t//\t\tthey may not always be available. Consider\r\n\t\t//\t\taddOnUnload() if you need to modify the DOM or do\r\n\t\t//\t\theavy JavaScript work since it fires at the equivalent of\r\n\t\t//\t\tthe page's \"onbeforeunload\" event.\r\n\t\t// example:\r\n\t\t//\t|\tvar afunc = function() {console.log(\"global function\");};\r\n\t\t//\t|\trequire([\"dojo/_base/unload\"], function(unload) {\r\n\t\t//\t|\t\tvar foo = {bar: function(){ console.log(\"bar unloading...\");}, \r\n\t\t//\t|\t\t           data: \"mydata\"};\r\n\t\t//\t|\t\tunload.addOnWindowUnload(afunc);\r\n\t\t//\t|\t\tunload.addOnWindowUnload(foo, \"bar\");\r\n\t\t//\t|\t\tunload.addOnWindowUnload(foo, function(){console.log(\"\", this.data);});\r\n\t\t//\t|\t});\r\n\r\n\t\tif (!dojo.windowUnloaded){\r\n\t\t\ton(win, \"unload\", (dojo.windowUnloaded = function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tsignal fired by impending window destruction. You may use\r\n\t\t\t\t//\t\tdojo.addOnWindowUnload() to register a listener for this\r\n\t\t\t\t//\t\tevent. NOTE: if you wish to dojo.connect() to this method\r\n\t\t\t\t//\t\tto perform page/application cleanup, be aware that this\r\n\t\t\t\t//\t\tevent WILL NOT fire if no handler has been registered with\r\n\t\t\t\t//\t\taddOnWindowUnload(). This behavior started in Dojo 1.3.\r\n\t\t\t\t//\t\tPrevious versions always triggered windowUnloaded(). See\r\n\t\t\t\t//\t\taddOnWindowUnload for more info.\r\n\t\t\t}));\r\n\t\t}\r\n\t\ton(win, \"unload\", lang.hitch(obj, functionName));\r\n\t},\r\n\r\n\taddOnUnload: function(/*Object?|Function?*/ obj, /*String|Function?*/ functionName){\r\n\t\t// summary:\r\n\t\t//\t\tRegisters a function to be triggered when the page unloads.\r\n\t\t//\t\tDeprecated, use on(window, \"beforeunload\", lang.hitch(obj, functionName)) instead.\r\n\t\t// description:\r\n\t\t//\t\tThe first time that addOnUnload is called Dojo will\r\n\t\t//\t\tregister a page listener to trigger your unload handler\r\n\t\t//\t\twith.\r\n\t\t//\r\n\t\t//\t\tIn a browser environment, the functions will be triggered\r\n\t\t//\t\tduring the window.onbeforeunload event. Be careful of doing\r\n\t\t//\t\ttoo much work in an unload handler. onbeforeunload can be\r\n\t\t//\t\ttriggered if a link to download a file is clicked, or if\r\n\t\t//\t\tthe link is a javascript: link. In these cases, the\r\n\t\t//\t\tonbeforeunload event fires, but the document is not\r\n\t\t//\t\tactually destroyed. So be careful about doing destructive\r\n\t\t//\t\toperations in a dojo.addOnUnload callback.\r\n\t\t//\r\n\t\t//\t\tFurther note that calling dojo.addOnUnload will prevent\r\n\t\t//\t\tbrowsers from using a \"fast back\" cache to make page\r\n\t\t//\t\tloading via back button instantaneous.\r\n\t\t// example:\r\n\t\t//\t|\tvar afunc = function() {console.log(\"global function\");};\r\n\t\t//\t|\trequire([\"dojo/_base/unload\"], function(unload) {\r\n\t\t//\t|\t\tvar foo = {bar: function(){ console.log(\"bar unloading...\");}, \r\n\t\t//\t|\t\t           data: \"mydata\"};\r\n\t\t//\t|\t\tunload.addOnUnload(afunc);\r\n\t\t//\t|\t\tunload.addOnUnload(foo, \"bar\");\r\n\t\t//\t|\t\tunload.addOnUnload(foo, function(){console.log(\"\", this.data);});\r\n\t\t//\t|\t});\r\n\r\n\t\ton(win, \"beforeunload\", lang.hitch(obj, functionName));\r\n\t}\r\n};\r\n\r\ndojo.addOnWindowUnload = unload.addOnWindowUnload;\r\ndojo.addOnUnload = unload.addOnUnload;\r\n\r\nreturn unload;\r\n\r\n});\r\n\ndefine('dijit/_editor/range',[\r\n\t\"dojo/_base/array\", // array.every\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\" // lang.isArray\r\n], function(array, declare, lang){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/range\r\n\r\n\tvar rangeapi = {\r\n\t\t// summary:\r\n\t\t//\t\tW3C range API\r\n\r\n\t\tgetIndex: function(/*DomNode*/ node, /*DomNode*/ parent){\r\n\t\t\tvar ret = [], retR = [];\r\n\t\t\tvar onode = node;\r\n\r\n\t\t\tvar pnode, n;\r\n\t\t\twhile(node != parent){\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tpnode = node.parentNode;\r\n\t\t\t\twhile((n = pnode.childNodes[i++])){\r\n\t\t\t\t\tif(n === node){\r\n\t\t\t\t\t\t--i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//if(i>=pnode.childNodes.length){\r\n\t\t\t\t//console.debug(\"Error finding index of a node in dijit/range.getIndex()\");\r\n\t\t\t\t//}\r\n\t\t\t\tret.unshift(i);\r\n\t\t\t\tretR.unshift(i - pnode.childNodes.length);\r\n\t\t\t\tnode = pnode;\r\n\t\t\t}\r\n\r\n\t\t\t//normalized() can not be called so often to prevent\r\n\t\t\t//invalidating selection/range, so we have to detect\r\n\t\t\t//here that any text nodes in a row\r\n\t\t\tif(ret.length > 0 && onode.nodeType == 3){\r\n\t\t\t\tn = onode.previousSibling;\r\n\t\t\t\twhile(n && n.nodeType == 3){\r\n\t\t\t\t\tret[ret.length - 1]--;\r\n\t\t\t\t\tn = n.previousSibling;\r\n\t\t\t\t}\r\n\t\t\t\tn = onode.nextSibling;\r\n\t\t\t\twhile(n && n.nodeType == 3){\r\n\t\t\t\t\tretR[retR.length - 1]++;\r\n\t\t\t\t\tn = n.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {o: ret, r:retR};\r\n\t\t},\r\n\r\n\t\tgetNode: function(/*Array*/ index, /*DomNode*/ parent){\r\n\t\t\tif(!lang.isArray(index) || index.length == 0){\r\n\t\t\t\treturn parent;\r\n\t\t\t}\r\n\t\t\tvar node = parent;\r\n\t\t\t//\tif(!node)debugger\r\n\t\t\tarray.every(index, function(i){\r\n\t\t\t\tif(i >= 0 && i < node.childNodes.length){\r\n\t\t\t\t\tnode = node.childNodes[i];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnode = null;\r\n\t\t\t\t\t//console.debug('Error: can not find node with index',index,'under parent node',parent );\r\n\t\t\t\t\treturn false; //terminate array.every\r\n\t\t\t\t}\r\n\t\t\t\treturn true; //carry on the every loop\r\n\t\t\t});\r\n\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\tgetCommonAncestor: function(n1, n2, root){\r\n\t\t\troot = root || n1.ownerDocument.body;\r\n\t\t\tvar getAncestors = function(n){\r\n\t\t\t\tvar as = [];\r\n\t\t\t\twhile(n){\r\n\t\t\t\t\tas.unshift(n);\r\n\t\t\t\t\tif(n !== root){\r\n\t\t\t\t\t\tn = n.parentNode;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn as;\r\n\t\t\t};\r\n\t\t\tvar n1as = getAncestors(n1);\r\n\t\t\tvar n2as = getAncestors(n2);\r\n\r\n\t\t\tvar m = Math.min(n1as.length, n2as.length);\r\n\t\t\tvar com = n1as[0]; //at least, one element should be in the array: the root (BODY by default)\r\n\t\t\tfor(var i = 1; i < m; i++){\r\n\t\t\t\tif(n1as[i] === n2as[i]){\r\n\t\t\t\t\tcom = n1as[i]\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn com;\r\n\t\t},\r\n\r\n\t\tgetAncestor: function(/*DomNode*/ node, /*RegEx?*/ regex, /*DomNode?*/ root){\r\n\t\t\troot = root || node.ownerDocument.body;\r\n\t\t\twhile(node && node !== root){\r\n\t\t\t\tvar name = node.nodeName.toUpperCase();\r\n\t\t\t\tif(regex.test(name)){\r\n\t\t\t\t\treturn node;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tBlockTagNames: /^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,\r\n\r\n\t\tgetBlockAncestor: function(/*DomNode*/ node, /*RegEx?*/ regex, /*DomNode?*/ root){\r\n\t\t\troot = root || node.ownerDocument.body;\r\n\t\t\tregex = regex || rangeapi.BlockTagNames;\r\n\t\t\tvar block = null, blockContainer;\r\n\t\t\twhile(node && node !== root){\r\n\t\t\t\tvar name = node.nodeName.toUpperCase();\r\n\t\t\t\tif(!block && regex.test(name)){\r\n\t\t\t\t\tblock = node;\r\n\t\t\t\t}\r\n\t\t\t\tif(!blockContainer && (/^(?:BODY|TD|TH|CAPTION)$/).test(name)){\r\n\t\t\t\t\tblockContainer = node;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\treturn {blockNode:block, blockContainer:blockContainer || node.ownerDocument.body};\r\n\t\t},\r\n\r\n\t\tatBeginningOfContainer: function(/*DomNode*/ container, /*DomNode*/ node, /*Int*/ offset){\r\n\t\t\tvar atBeginning = false;\r\n\t\t\tvar offsetAtBeginning = (offset == 0);\r\n\t\t\tif(!offsetAtBeginning && node.nodeType == 3){ //if this is a text node, check whether the left part is all space\r\n\t\t\t\tif(/^[\\s\\xA0]+$/.test(node.nodeValue.substr(0, offset))){\r\n\t\t\t\t\toffsetAtBeginning = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(offsetAtBeginning){\r\n\t\t\t\tvar cnode = node;\r\n\t\t\t\tatBeginning = true;\r\n\t\t\t\twhile(cnode && cnode !== container){\r\n\t\t\t\t\tif(cnode.previousSibling){\r\n\t\t\t\t\t\tatBeginning = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcnode = cnode.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn atBeginning;\r\n\t\t},\r\n\r\n\t\tatEndOfContainer: function(/*DomNode*/ container, /*DomNode*/ node, /*Int*/ offset){\r\n\t\t\tvar atEnd = false;\r\n\t\t\tvar offsetAtEnd = (offset == (node.length || node.childNodes.length));\r\n\t\t\tif(!offsetAtEnd && node.nodeType == 3){ //if this is a text node, check whether the right part is all space\r\n\t\t\t\tif(/^[\\s\\xA0]+$/.test(node.nodeValue.substr(offset))){\r\n\t\t\t\t\toffsetAtEnd = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(offsetAtEnd){\r\n\t\t\t\tvar cnode = node;\r\n\t\t\t\tatEnd = true;\r\n\t\t\t\twhile(cnode && cnode !== container){\r\n\t\t\t\t\tif(cnode.nextSibling){\r\n\t\t\t\t\t\tatEnd = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcnode = cnode.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn atEnd;\r\n\t\t},\r\n\r\n\t\tadjacentNoneTextNode: function(startnode, next){\r\n\t\t\tvar node = startnode;\r\n\t\t\tvar len = (0 - startnode.length) || 0;\r\n\t\t\tvar prop = next ? 'nextSibling' : 'previousSibling';\r\n\t\t\twhile(node){\r\n\t\t\t\tif(node.nodeType != 3){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlen += node.length;\r\n\t\t\t\tnode = node[prop];\r\n\t\t\t}\r\n\t\t\treturn [node,len];\r\n\t\t},\r\n\r\n\t\tcreate: function(/*Window?*/ win){\t// TODO: for 2.0, replace optional window param w/mandatory window or document param\r\n\t\t\twin = win || window;\r\n\t\t\tif(win.getSelection){\r\n\t\t\t\treturn win.document.createRange();\r\n\t\t\t}else{//IE\r\n\t\t\t\treturn new W3CRange();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetSelection: function(/*Window*/ window, /*Boolean?*/ ignoreUpdate){\r\n\t\t\tif(window.getSelection){\r\n\t\t\t\treturn window.getSelection();\r\n\t\t\t}else{//IE\r\n\t\t\t\tvar s = new ie.selection(window);\r\n\t\t\t\tif(!ignoreUpdate){\r\n\t\t\t\t\ts._getCurrentSelection();\r\n\t\t\t\t}\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// TODO: convert to has() test?   But remember IE9 issues with quirks vs. standards in main frame vs. iframe.\r\n\tif(!window.getSelection){\r\n\t\tvar ie = rangeapi.ie = {\r\n\t\t\tcachedSelection: {},\r\n\t\t\tselection: function(window){\r\n\t\t\t\tthis._ranges = [];\r\n\t\t\t\tthis.addRange = function(r, /*boolean*/ internal){\r\n\t\t\t\t\tthis._ranges.push(r);\r\n\t\t\t\t\tif(!internal){\r\n\t\t\t\t\t\tr._select();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.rangeCount = this._ranges.length;\r\n\t\t\t\t};\r\n\t\t\t\tthis.removeAllRanges = function(){\r\n\t\t\t\t\t//don't detach, the range may be used later\r\n\t\t\t\t\t//\t\t\t\tfor(var i=0;i<this._ranges.length;i++){\r\n\t\t\t\t\t//\t\t\t\t\tthis._ranges[i].detach();\r\n\t\t\t\t\t//\t\t\t\t}\r\n\t\t\t\t\tthis._ranges = [];\r\n\t\t\t\t\tthis.rangeCount = 0;\r\n\t\t\t\t};\r\n\t\t\t\tvar _initCurrentRange = function(){\r\n\t\t\t\t\tvar r = window.document.selection.createRange();\r\n\t\t\t\t\tvar type = window.document.selection.type.toUpperCase();\r\n\t\t\t\t\tif(type == \"CONTROL\"){\r\n\t\t\t\t\t\t//TODO: multiple range selection(?)\r\n\t\t\t\t\t\treturn new W3CRange(ie.decomposeControlRange(r));\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn new W3CRange(ie.decomposeTextRange(r));\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.getRangeAt = function(i){\r\n\t\t\t\t\treturn this._ranges[i];\r\n\t\t\t\t};\r\n\t\t\t\tthis._getCurrentSelection = function(){\r\n\t\t\t\t\tthis.removeAllRanges();\r\n\t\t\t\t\tvar r = _initCurrentRange();\r\n\t\t\t\t\tif(r){\r\n\t\t\t\t\t\tthis.addRange(r, true);\r\n\t\t\t\t\t\tthis.isCollapsed = r.collapsed;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.isCollapsed = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tdecomposeControlRange: function(range){\r\n\t\t\t\tvar firstnode = range.item(0), lastnode = range.item(range.length - 1);\r\n\t\t\t\tvar startContainer = firstnode.parentNode, endContainer = lastnode.parentNode;\r\n\t\t\t\tvar startOffset = rangeapi.getIndex(firstnode, startContainer).o[0];\r\n\t\t\t\tvar endOffset = rangeapi.getIndex(lastnode, endContainer).o[0] + 1;\r\n\t\t\t\treturn [startContainer, startOffset,endContainer, endOffset];\r\n\t\t\t},\r\n\t\t\tgetEndPoint: function(range, end){\r\n\t\t\t\tvar atmrange = range.duplicate();\r\n\t\t\t\tatmrange.collapse(!end);\r\n\t\t\t\tvar cmpstr = 'EndTo' + (end ? 'End' : 'Start');\r\n\t\t\t\tvar parentNode = atmrange.parentElement();\r\n\r\n\t\t\t\tvar startnode, startOffset, lastNode;\r\n\t\t\t\tif(parentNode.childNodes.length > 0){\r\n\t\t\t\t\tarray.every(parentNode.childNodes, function(node, i){\r\n\t\t\t\t\t\tvar calOffset;\r\n\t\t\t\t\t\tif(node.nodeType != 3){\r\n\t\t\t\t\t\t\tatmrange.moveToElementText(node);\r\n\r\n\t\t\t\t\t\t\tif(atmrange.compareEndPoints(cmpstr, range) > 0){\r\n\t\t\t\t\t\t\t\t//startnode = node.previousSibling;\r\n\t\t\t\t\t\t\t\tif(lastNode && lastNode.nodeType == 3){\r\n\t\t\t\t\t\t\t\t\t//where shall we put the start? in the text node or after?\r\n\t\t\t\t\t\t\t\t\tstartnode = lastNode;\r\n\t\t\t\t\t\t\t\t\tcalOffset = true;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tstartnode = parentNode;\r\n\t\t\t\t\t\t\t\t\tstartOffset = i;\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tif(i == parentNode.childNodes.length - 1){\r\n\t\t\t\t\t\t\t\t\tstartnode = parentNode;\r\n\t\t\t\t\t\t\t\t\tstartOffset = parentNode.childNodes.length;\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(i == parentNode.childNodes.length - 1){//at the end of this node\r\n\t\t\t\t\t\t\t\tstartnode = node;\r\n\t\t\t\t\t\t\t\tcalOffset = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\t\t\ttry{\r\n\t\t\t\t\t\tif(calOffset && startnode){\r\n\t\t\t\t\t\t\tvar prevnode = rangeapi.adjacentNoneTextNode(startnode)[0];\r\n\t\t\t\t\t\t\tif(prevnode){\r\n\t\t\t\t\t\t\t\tstartnode = prevnode.nextSibling;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tstartnode = parentNode.firstChild; //firstChild must be a text node\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar prevnodeobj = rangeapi.adjacentNoneTextNode(startnode);\r\n\t\t\t\t\t\t\tprevnode = prevnodeobj[0];\r\n\t\t\t\t\t\t\tvar lenoffset = prevnodeobj[1];\r\n\t\t\t\t\t\t\tif(prevnode){\r\n\t\t\t\t\t\t\t\tatmrange.moveToElementText(prevnode);\r\n\t\t\t\t\t\t\t\tatmrange.collapse(false);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tatmrange.moveToElementText(parentNode);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tatmrange.setEndPoint(cmpstr, range);\r\n\t\t\t\t\t\t\tstartOffset = atmrange.text.length - lenoffset;\r\n\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\t\t\t}catch(e){ debugger }\r\n\t\t\t\t\t\tlastNode = node;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstartnode = parentNode;\r\n\t\t\t\t\tstartOffset = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if at the end of startnode and we are dealing with start container, then\r\n\t\t\t\t//move the startnode to nextSibling if it is a text node\r\n\t\t\t\t//TODO: do this for end container?\r\n\t\t\t\tif(!end && startnode.nodeType == 1 && startOffset == startnode.childNodes.length){\r\n\t\t\t\t\tvar nextnode = startnode.nextSibling;\r\n\t\t\t\t\tif(nextnode && nextnode.nodeType == 3){\r\n\t\t\t\t\t\tstartnode = nextnode;\r\n\t\t\t\t\t\tstartOffset = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn [startnode, startOffset];\r\n\t\t\t},\r\n\t\t\tsetEndPoint: function(range, container, offset){\r\n\t\t\t\t//text node\r\n\t\t\t\tvar atmrange = range.duplicate(), node, len;\r\n\t\t\t\tif(container.nodeType != 3){ //normal node\r\n\t\t\t\t\tif(offset > 0){\r\n\t\t\t\t\t\tnode = container.childNodes[offset - 1];\r\n\t\t\t\t\t\tif(node){\r\n\t\t\t\t\t\t\tif(node.nodeType == 3){\r\n\t\t\t\t\t\t\t\tcontainer = node;\r\n\t\t\t\t\t\t\t\toffset = node.length;\r\n\t\t\t\t\t\t\t\t//pass through\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tif(node.nextSibling && node.nextSibling.nodeType == 3){\r\n\t\t\t\t\t\t\t\t\tcontainer = node.nextSibling;\r\n\t\t\t\t\t\t\t\t\toffset = 0;\r\n\t\t\t\t\t\t\t\t\t//pass through\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tatmrange.moveToElementText(node.nextSibling ? node : container);\r\n\t\t\t\t\t\t\t\t\tvar parent = node.parentNode;\r\n\t\t\t\t\t\t\t\t\tvar tempNode = parent.insertBefore(node.ownerDocument.createTextNode(' '), node.nextSibling);\r\n\t\t\t\t\t\t\t\t\tatmrange.collapse(false);\r\n\t\t\t\t\t\t\t\t\tparent.removeChild(tempNode);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tatmrange.moveToElementText(container);\r\n\t\t\t\t\t\tatmrange.collapse(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(container.nodeType == 3){\r\n\t\t\t\t\tvar prevnodeobj = rangeapi.adjacentNoneTextNode(container);\r\n\t\t\t\t\tvar prevnode = prevnodeobj[0];\r\n\t\t\t\t\tlen = prevnodeobj[1];\r\n\t\t\t\t\tif(prevnode){\r\n\t\t\t\t\t\tatmrange.moveToElementText(prevnode);\r\n\t\t\t\t\t\tatmrange.collapse(false);\r\n\t\t\t\t\t\t//if contentEditable is not inherit, the above collapse won't make the end point\r\n\t\t\t\t\t\t//in the correctly position: it always has a -1 offset, so compensate it\r\n\t\t\t\t\t\tif(prevnode.contentEditable != 'inherit'){\r\n\t\t\t\t\t\t\tlen++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tatmrange.moveToElementText(container.parentNode);\r\n\t\t\t\t\t\tatmrange.collapse(true);\r\n\r\n\t\t\t\t\t\t// Correct internal cursor position\r\n\t\t\t\t\t\t// http://bugs.dojotoolkit.org/ticket/15578\r\n\t\t\t\t\t\tatmrange.move('character', 1);\r\n\t\t\t\t\t\tatmrange.move('character', -1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toffset += len;\r\n\t\t\t\t\tif(offset > 0){\r\n\t\t\t\t\t\tif(atmrange.move('character', offset) != offset){\r\n\t\t\t\t\t\t\tconsole.error('Error when moving!');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn atmrange;\r\n\t\t\t},\r\n\t\t\tdecomposeTextRange: function(range){\r\n\t\t\t\tvar tmpary = ie.getEndPoint(range);\r\n\t\t\t\tvar startContainer = tmpary[0], startOffset = tmpary[1];\r\n\t\t\t\tvar endContainer = tmpary[0], endOffset = tmpary[1];\r\n\r\n\t\t\t\tif(range.htmlText.length){\r\n\t\t\t\t\tif(range.htmlText == range.text){ //in the same text node\r\n\t\t\t\t\t\tendOffset = startOffset + range.text.length;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttmpary = ie.getEndPoint(range, true);\r\n\t\t\t\t\t\tendContainer = tmpary[0],endOffset = tmpary[1];\r\n\t\t\t\t\t\t//\t\t\t\t\tif(startContainer.tagName == \"BODY\"){\r\n\t\t\t\t\t\t//\t\t\t\t\t\tstartContainer = startContainer.firstChild;\r\n\t\t\t\t\t\t//\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn [startContainer, startOffset, endContainer, endOffset];\r\n\t\t\t},\r\n\t\t\tsetRange: function(range, startContainer, startOffset, endContainer, endOffset, collapsed){\r\n\t\t\t\tvar start = ie.setEndPoint(range, startContainer, startOffset);\r\n\r\n\t\t\t\trange.setEndPoint('StartToStart', start);\r\n\t\t\t\tif(!collapsed){\r\n\t\t\t\t\tvar end = ie.setEndPoint(range, endContainer, endOffset);\r\n\t\t\t\t}\r\n\t\t\t\trange.setEndPoint('EndToEnd', end || start);\r\n\r\n\t\t\t\treturn range;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar W3CRange = rangeapi.W3CRange = declare(null, {\r\n\t\t\tconstructor: function(){\r\n\t\t\t\tif(arguments.length>0){\r\n\t\t\t\t\tthis.setStart(arguments[0][0],arguments[0][1]);\r\n\t\t\t\t\tthis.setEnd(arguments[0][2],arguments[0][3]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.commonAncestorContainer = null;\r\n\t\t\t\t\tthis.startContainer = null;\r\n\t\t\t\t\tthis.startOffset = 0;\r\n\t\t\t\t\tthis.endContainer = null;\r\n\t\t\t\t\tthis.endOffset = 0;\r\n\t\t\t\t\tthis.collapsed = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_updateInternal: function(){\r\n\t\t\t\tif(this.startContainer !== this.endContainer){\r\n\t\t\t\t\tthis.commonAncestorContainer = rangeapi.getCommonAncestor(this.startContainer, this.endContainer);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.commonAncestorContainer = this.startContainer;\r\n\t\t\t\t}\r\n\t\t\t\tthis.collapsed = (this.startContainer === this.endContainer) && (this.startOffset == this.endOffset);\r\n\t\t\t},\r\n\t\t\tsetStart: function(node, offset){\r\n\t\t\t\toffset=parseInt(offset);\r\n\t\t\t\tif(this.startContainer === node && this.startOffset == offset){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._cachedBookmark;\r\n\r\n\t\t\t\tthis.startContainer = node;\r\n\t\t\t\tthis.startOffset = offset;\r\n\t\t\t\tif(!this.endContainer){\r\n\t\t\t\t\tthis.setEnd(node, offset);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._updateInternal();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetEnd: function(node, offset){\r\n\t\t\t\toffset=parseInt(offset);\r\n\t\t\t\tif(this.endContainer === node && this.endOffset == offset){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._cachedBookmark;\r\n\r\n\t\t\t\tthis.endContainer = node;\r\n\t\t\t\tthis.endOffset = offset;\r\n\t\t\t\tif(!this.startContainer){\r\n\t\t\t\t\tthis.setStart(node, offset);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._updateInternal();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetStartAfter: function(node, offset){\r\n\t\t\t\tthis._setPoint('setStart', node, offset, 1);\r\n\t\t\t},\r\n\t\t\tsetStartBefore: function(node, offset){\r\n\t\t\t\tthis._setPoint('setStart', node, offset, 0);\r\n\t\t\t},\r\n\t\t\tsetEndAfter: function(node, offset){\r\n\t\t\t\tthis._setPoint('setEnd', node, offset, 1);\r\n\t\t\t},\r\n\t\t\tsetEndBefore: function(node, offset){\r\n\t\t\t\tthis._setPoint('setEnd', node, offset, 0);\r\n\t\t\t},\r\n\t\t\t_setPoint: function(what, node, offset, ext){\r\n\t\t\t\tvar index = rangeapi.getIndex(node, node.parentNode).o;\r\n\t\t\t\tthis[what](node.parentNode, index.pop()+ext);\r\n\t\t\t},\r\n\t\t\t_getIERange: function(){\r\n\t\t\t\tvar r = (this._body || this.endContainer.ownerDocument.body).createTextRange();\r\n\t\t\t\tie.setRange(r, this.startContainer, this.startOffset, this.endContainer, this.endOffset, this.collapsed);\r\n\t\t\t\treturn r;\r\n\t\t\t},\r\n\t\t\tgetBookmark: function(){\r\n\t\t\t\tthis._getIERange();\r\n\t\t\t\treturn this._cachedBookmark;\r\n\t\t\t},\r\n\t\t\t_select: function(){\r\n\t\t\t\tvar r = this._getIERange();\r\n\t\t\t\tr.select();\r\n\t\t\t},\r\n\t\t\tdeleteContents: function(){\r\n\t\t\t\tvar s = this.startContainer, r = this._getIERange();\r\n\t\t\t\tif(s.nodeType === 3 && !this.startOffset){\r\n\t\t\t\t\t//if the range starts at the beginning of a\r\n\t\t\t\t\t//text node, move it to before the textnode\r\n\t\t\t\t\t//to make sure the range is still valid\r\n\t\t\t\t\t//after deleteContents() finishes\r\n\t\t\t\t\tthis.setStartBefore(s);\r\n\t\t\t\t}\r\n\t\t\t\tr.pasteHTML('');\r\n\t\t\t\tthis.endContainer = this.startContainer;\r\n\t\t\t\tthis.endOffset = this.startOffset;\r\n\t\t\t\tthis.collapsed = true;\r\n\t\t\t},\r\n\t\t\tcloneRange: function(){\r\n\t\t\t\tvar r = new W3CRange([this.startContainer,this.startOffset,\r\n\t\t\t\t\tthis.endContainer,this.endOffset]);\r\n\t\t\t\tr._body = this._body;\r\n\t\t\t\treturn r;\r\n\t\t\t},\r\n\t\t\tdetach: function(){\r\n\t\t\t\tthis._body = null;\r\n\t\t\t\tthis.commonAncestorContainer = null;\r\n\t\t\t\tthis.startContainer = null;\r\n\t\t\t\tthis.startOffset = 0;\r\n\t\t\t\tthis.endContainer = null;\r\n\t\t\t\tthis.endOffset = 0;\r\n\t\t\t\tthis.collapsed = true;\r\n\t\t\t}\r\n\t\t});\r\n\t} //if(!window.getSelection)\r\n\r\n\t// remove for 2.0\r\n\tlang.setObject(\"dijit.range\", rangeapi);\r\n\r\n\treturn rangeapi;\r\n});\r\n\ndefine('dijit/_editor/html',[\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/lang\", // lang.setObject\r\n\t\"dojo/sniff\" // has(\"ie\")\r\n], function(array, lang, has){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/html\r\n\r\n\tvar exports = {\r\n\t\t// summary:\r\n\t\t//\t\tHTML serialization utility functions used by editor\r\n\t};\r\n\tlang.setObject(\"dijit._editor.html\", exports);\r\n\r\n\tvar escape = exports.escapeXml = function(/*String*/ str, /*Boolean?*/ noSingleQuotes){\r\n\t\t// summary:\r\n\t\t//\t\tAdds escape sequences for special characters in XML: `&<>\"'`.\r\n\t\t//\t\tOptionally skips escapes for single quotes.\r\n\t\tstr = str.replace(/&/gm, \"&amp;\").replace(/</gm, \"&lt;\").replace(/>/gm, \"&gt;\").replace(/\"/gm, \"&quot;\");\r\n\t\tif(!noSingleQuotes){\r\n\t\t\tstr = str.replace(/'/gm, \"&#39;\");\r\n\t\t}\r\n\t\treturn str; // string\r\n\t};\r\n\r\n\texports.getNodeHtml = function(/*DomNode*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tReturn string representing HTML for node and it's children\r\n\t\tvar output = [];\r\n\t\texports.getNodeHtmlHelper(node, output);\r\n\t\treturn output.join(\"\");\r\n\t};\r\n\r\n\texports.getNodeHtmlHelper = function(/*DomNode*/ node, /*String[]*/ output){\r\n\t\t// summary:\r\n\t\t//\t\tPushes array of strings into output[] which represent HTML for node and it's children\r\n\t\tswitch(node.nodeType){\r\n\t\t\tcase 1: // element node\r\n\t\t\t\tvar lName = node.nodeName.toLowerCase();\r\n\t\t\t\tif(!lName || lName.charAt(0) == \"/\"){\r\n\t\t\t\t\t// IE does some strange things with malformed HTML input, like\r\n\t\t\t\t\t// treating a close tag </span> without an open tag <span>, as\r\n\t\t\t\t\t// a new tag with tagName of /span.  Corrupts output HTML, remove\r\n\t\t\t\t\t// them.  Other browsers don't prefix tags that way, so will\r\n\t\t\t\t\t// never show up.\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t\toutput.push('<', lName);\r\n\r\n\t\t\t\t// store the list of attributes and sort it to have the\r\n\t\t\t\t// attributes appear in the dictionary order\r\n\t\t\t\tvar attrarray = [], attrhash = {};\r\n\t\t\t\tvar attr;\r\n\t\t\t\tif(has(\"dom-attributes-explicit\") || has(\"dom-attributes-specified-flag\")){\r\n\t\t\t\t\t// IE8+ and all other browsers.\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\twhile((attr = node.attributes[i++])){\r\n\t\t\t\t\t\t// ignore all attributes starting with _dj which are\r\n\t\t\t\t\t\t// internal temporary attributes used by the editor\r\n\t\t\t\t\t\tvar n = attr.name;\r\n\t\t\t\t\t\tif(n.substr(0, 3) !== '_dj' &&\r\n\t\t\t\t\t\t\t(!has(\"dom-attributes-specified-flag\") || attr.specified) && !(n in attrhash)){    // workaround repeated attributes bug in IE8 (LinkDialog test)\r\n\t\t\t\t\t\t\tvar v = attr.value;\r\n\t\t\t\t\t\t\tif(n == 'src' || n == 'href'){\r\n\t\t\t\t\t\t\t\tif(node.getAttribute('_djrealurl')){\r\n\t\t\t\t\t\t\t\t\tv = node.getAttribute('_djrealurl');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(has(\"ie\") === 8 && n === \"style\"){\r\n\t\t\t\t\t\t\t\tv = v.replace(\"HEIGHT:\", \"height:\").replace(\"WIDTH:\", \"width:\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tattrarray.push([n, v]);\r\n\t\t\t\t\t\t\tattrhash[n] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// IE6-7 code path\r\n\t\t\t\t\tvar clone = /^input$|^img$/i.test(node.nodeName) ? node : node.cloneNode(false);\r\n\t\t\t\t\tvar s = clone.outerHTML;\r\n\t\t\t\t\t// Split up and manage the attrs via regexp\r\n\t\t\t\t\t// similar to prettyPrint attr logic.\r\n\t\t\t\t\tvar rgxp_attrsMatch = /[\\w-]+=(\"[^\"]*\"|'[^']*'|\\S*)/gi\r\n\t\t\t\t\tvar attrSplit = s.match(rgxp_attrsMatch);\r\n\t\t\t\t\ts = s.substr(0, s.indexOf('>'));\r\n\t\t\t\t\tarray.forEach(attrSplit, function(attr){\r\n\t\t\t\t\t\tif(attr){\r\n\t\t\t\t\t\t\tvar idx = attr.indexOf(\"=\");\r\n\t\t\t\t\t\t\tif(idx > 0){\r\n\t\t\t\t\t\t\t\tvar key = attr.substring(0, idx);\r\n\t\t\t\t\t\t\t\tif(key.substr(0, 3) != '_dj'){\r\n\t\t\t\t\t\t\t\t\tif(key == 'src' || key == 'href'){\r\n\t\t\t\t\t\t\t\t\t\tif(node.getAttribute('_djrealurl')){\r\n\t\t\t\t\t\t\t\t\t\t\tattrarray.push([key, node.getAttribute('_djrealurl')]);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar val, match;\r\n\t\t\t\t\t\t\t\t\tswitch(key){\r\n\t\t\t\t\t\t\t\t\t\tcase 'style':\r\n\t\t\t\t\t\t\t\t\t\t\tval = node.style.cssText.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'class':\r\n\t\t\t\t\t\t\t\t\t\t\tval = node.className;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase 'width':\r\n\t\t\t\t\t\t\t\t\t\t\tif(lName === \"img\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t// This somehow gets lost on IE for IMG tags and the like\r\n\t\t\t\t\t\t\t\t\t\t\t\t// and we have to find it in outerHTML, known IE oddity.\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatch = /width=(\\S+)/i.exec(s);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(match){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tval = match[1];\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tcase 'height':\r\n\t\t\t\t\t\t\t\t\t\t\tif(lName === \"img\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t// This somehow gets lost on IE for IMG tags and the like\r\n\t\t\t\t\t\t\t\t\t\t\t\t// and we have to find it in outerHTML, known IE oddity.\r\n\t\t\t\t\t\t\t\t\t\t\t\tmatch = /height=(\\S+)/i.exec(s);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(match){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tval = match[1];\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tval = node.getAttribute(key);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(val != null){\r\n\t\t\t\t\t\t\t\t\t\tattrarray.push([key, val.toString()]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t\tattrarray.sort(function(a, b){\r\n\t\t\t\t\treturn a[0] < b[0] ? -1 : (a[0] == b[0] ? 0 : 1);\r\n\t\t\t\t});\r\n\t\t\t\tvar j = 0;\r\n\t\t\t\twhile((attr = attrarray[j++])){\r\n\t\t\t\t\toutput.push(' ', attr[0], '=\"',\r\n\t\t\t\t\t\t(typeof attr[1] === \"string\" ? escape(attr[1], true) : attr[1]), '\"');\r\n\t\t\t\t}\r\n\t\t\t\tswitch(lName){\r\n\t\t\t\t\tcase 'br':\r\n\t\t\t\t\tcase 'hr':\r\n\t\t\t\t\tcase 'img':\r\n\t\t\t\t\tcase 'input':\r\n\t\t\t\t\tcase 'base':\r\n\t\t\t\t\tcase 'meta':\r\n\t\t\t\t\tcase 'area':\r\n\t\t\t\t\tcase 'basefont':\r\n\t\t\t\t\t\t// These should all be singly closed\r\n\t\t\t\t\t\toutput.push(' />');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'script':\r\n\t\t\t\t\t\t// Browsers handle script tags differently in how you get content,\r\n\t\t\t\t\t\t// but innerHTML always seems to work, so insert its content that way\r\n\t\t\t\t\t\t// Yes, it's bad to allow script tags in the editor code, but some people\r\n\t\t\t\t\t\t// seem to want to do it, so we need to at least return them right.\r\n\t\t\t\t\t\t// other plugins/filters can strip them.\r\n\t\t\t\t\t\toutput.push('>', node.innerHTML, '</', lName, '>');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\toutput.push('>');\r\n\t\t\t\t\t\tif(node.hasChildNodes()){\r\n\t\t\t\t\t\t\texports.getChildrenHtmlHelper(node, output);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toutput.push('</', lName, '>');\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4: // cdata\r\n\t\t\tcase 3: // text\r\n\t\t\t\t// FIXME:\r\n\t\t\t\toutput.push(escape(node.nodeValue, true));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8: // comment\r\n\t\t\t\t// FIXME:\r\n\t\t\t\toutput.push('<!--', escape(node.nodeValue, true), '-->');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\toutput.push(\"<!-- Element not recognized - Type: \", node.nodeType, \" Name: \", node.nodeName, \"-->\");\r\n\t\t}\r\n\t};\r\n\r\n\texports.getChildrenHtml = function(/*DomNode*/ node){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the html content of a DomNode's children\r\n\t\tvar output = [];\r\n\t\texports.getChildrenHtmlHelper(node, output);\r\n\t\treturn output.join(\"\");\r\n\t};\r\n\r\n\texports.getChildrenHtmlHelper = function(/*DomNode*/ dom, /*String[]*/ output){\r\n\t\t// summary:\r\n\t\t//\t\tPushes the html content of a DomNode's children into out[]\r\n\r\n\t\tif(!dom){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar nodes = dom[\"childNodes\"] || dom;\r\n\r\n\t\t// IE issue.\r\n\t\t// If we have an actual node we can check parent relationships on for IE,\r\n\t\t// We should check, as IE sometimes builds invalid DOMS.  If no parent, we can't check\r\n\t\t// And should just process it and hope for the best.\r\n\t\tvar checkParent = !has(\"ie\") || nodes !== dom;\r\n\r\n\t\tvar node, i = 0;\r\n\t\twhile((node = nodes[i++])){\r\n\t\t\t// IE is broken.  DOMs are supposed to be a tree.  But in the case of malformed HTML, IE generates a graph\r\n\t\t\t// meaning one node ends up with multiple references (multiple parents).  This is totally wrong and invalid, but\r\n\t\t\t// such is what it is.  We have to keep track and check for this because otherwise the source output HTML will have dups.\r\n\t\t\t// No other browser generates a graph.  Leave it to IE to break a fundamental DOM rule.  So, we check the parent if we can\r\n\t\t\t// If we can't, nothing more we can do other than walk it.\r\n\t\t\tif(!checkParent || node.parentNode == dom){\r\n\t\t\t\texports.getNodeHtmlHelper(node, output);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\ndefine('dijit/_editor/RichText',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.some\r\n\t\"dojo/_base/config\", // config\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/Deferred\", // Deferred\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/dom-attr\", // domAttr.set or get\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.destroy domConstruct.place\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle domStyle.set\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // keys.BACKSPACE keys.TAB\r\n\t\"dojo/_base/lang\", // lang.clone lang.hitch lang.isArray lang.isFunction lang.isString lang.trim\r\n\t\"dojo/on\", // on()\r\n\t\"dojo/query\", // query\r\n\t\"dojo/domReady\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mozilla\") has(\"opera\") has(\"safari\") has(\"webkit\")\r\n\t\"dojo/topic\", // topic.publish() (publish)\r\n\t\"dojo/_base/unload\", // unload\r\n\t\"dojo/_base/url\", // url\r\n\t\"dojo/window\", // winUtils.get()\r\n\t\"../_Widget\",\r\n\t\"../_CssStateMixin\",\r\n\t\"../selection\",\r\n\t\"./range\",\r\n\t\"./html\",\r\n\t\"../focus\",\r\n\t\"../main\"    // dijit._scopeName\r\n], function(array, config, declare, Deferred, dom, domAttr, domClass, domConstruct, domGeometry, domStyle,\r\n\t\t\tkernel, keys, lang, on, query, domReady, has, topic, unload, _Url, winUtils,\r\n\t\t\t_Widget, _CssStateMixin, selectionapi, rangeapi, htmlapi, focus, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/RichText\r\n\r\n\t// If you want to allow for rich text saving with back/forward actions, you must add a text area to your page with\r\n\t// the id==dijit._scopeName + \"._editor.RichText.value\" (typically \"dijit/_editor/RichText.value). For example,\r\n\t// something like this will work:\r\n\t//\r\n\t//\t<textarea id=\"dijit._editor.RichText.value\" style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>\r\n\r\n\tvar RichText = declare(\"dijit._editor.RichText\", [_Widget, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tdijit/_editor/RichText is the core of dijit.Editor, which provides basic\r\n\t\t//\t\tWYSIWYG editing features.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tdijit/_editor/RichText is the core of dijit.Editor, which provides basic\r\n\t\t//\t\tWYSIWYG editing features. It also encapsulates the differences\r\n\t\t//\t\tof different js engines for various browsers.  Do not use this widget\r\n\t\t//\t\twith an HTML &lt;TEXTAREA&gt; tag, since the browser unescapes XML escape characters,\r\n\t\t//\t\tlike &lt;.  This can have unexpected behavior and lead to security issues\r\n\t\t//\t\tsuch as scripting attacks.\r\n\t\t//\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\tconstructor: function(params /*===== , srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tInitial settings for any of the widget attributes, except readonly attributes.\r\n\t\t\t// srcNodeRef: DOMNode\r\n\t\t\t//\t\tThe widget replaces the specified DOMNode.\r\n\r\n\t\t\t// contentPreFilters: Function(String)[]\r\n\t\t\t//\t\tPre content filter function register array.\r\n\t\t\t//\t\tthese filters will be executed before the actual\r\n\t\t\t//\t\tediting area gets the html content.\r\n\t\t\tthis.contentPreFilters = [];\r\n\r\n\t\t\t// contentPostFilters: Function(String)[]\r\n\t\t\t//\t\tpost content filter function register array.\r\n\t\t\t//\t\tThese will be used on the resulting html\r\n\t\t\t//\t\tfrom contentDomPostFilters. The resulting\r\n\t\t\t//\t\tcontent is the final html (returned by getValue()).\r\n\t\t\tthis.contentPostFilters = [];\r\n\r\n\t\t\t// contentDomPreFilters: Function(DomNode)[]\r\n\t\t\t//\t\tPre content dom filter function register array.\r\n\t\t\t//\t\tThese filters are applied after the result from\r\n\t\t\t//\t\tcontentPreFilters are set to the editing area.\r\n\t\t\tthis.contentDomPreFilters = [];\r\n\r\n\t\t\t// contentDomPostFilters: Function(DomNode)[]\r\n\t\t\t//\t\tPost content dom filter function register array.\r\n\t\t\t//\t\tThese filters are executed on the editing area dom.\r\n\t\t\t//\t\tThe result from these will be passed to contentPostFilters.\r\n\t\t\tthis.contentDomPostFilters = [];\r\n\r\n\t\t\t// editingAreaStyleSheets: dojo._URL[]\r\n\t\t\t//\t\tarray to store all the stylesheets applied to the editing area\r\n\t\t\tthis.editingAreaStyleSheets = [];\r\n\r\n\t\t\t// Make a copy of this.events before we start writing into it, otherwise we\r\n\t\t\t// will modify the prototype which leads to bad things on pages w/multiple editors\r\n\t\t\tthis.events = [].concat(this.events);\r\n\r\n\t\t\tthis._keyHandlers = {};\r\n\r\n\t\t\tif(params && lang.isString(params.value)){\r\n\t\t\t\tthis.value = params.value;\r\n\t\t\t}\r\n\r\n\t\t\tthis.onLoadDeferred = new Deferred();\r\n\t\t},\r\n\r\n\t\tbaseClass: \"dijitEditor\",\r\n\r\n\t\t// inheritWidth: Boolean\r\n\t\t//\t\twhether to inherit the parent's width or simply use 100%\r\n\t\tinheritWidth: false,\r\n\r\n\t\t// focusOnLoad: [deprecated] Boolean\r\n\t\t//\t\tFocus into this widget when the page is loaded\r\n\t\tfocusOnLoad: false,\r\n\r\n\t\t// name: String?\r\n\t\t//\t\tSpecifies the name of a (hidden) `<textarea>` node on the page that's used to save\r\n\t\t//\t\tthe editor content on page leave.   Used to restore editor contents after navigating\r\n\t\t//\t\tto a new page and then hitting the back button.\r\n\t\tname: \"\",\r\n\r\n\t\t// styleSheets: [const] String\r\n\t\t//\t\tsemicolon (\";\") separated list of css files for the editing area\r\n\t\tstyleSheets: \"\",\r\n\r\n\t\t// height: String\r\n\t\t//\t\tSet height to fix the editor at a specific height, with scrolling.\r\n\t\t//\t\tBy default, this is 300px.  If you want to have the editor always\r\n\t\t//\t\tresizes to accommodate the content, use AlwaysShowToolbar plugin\r\n\t\t//\t\tand set height=\"\".  If this editor is used within a layout widget,\r\n\t\t//\t\tset height=\"100%\".\r\n\t\theight: \"300px\",\r\n\r\n\t\t// minHeight: String\r\n\t\t//\t\tThe minimum height that the editor should have.\r\n\t\tminHeight: \"1em\",\r\n\r\n\t\t// isClosed: [private] Boolean\r\n\t\tisClosed: true,\r\n\r\n\t\t// isLoaded: [private] Boolean\r\n\t\tisLoaded: false,\r\n\r\n\t\t// _SEPARATOR: [private] String\r\n\t\t//\t\tUsed to concat contents from multiple editors into a single string,\r\n\t\t//\t\tso they can be saved into a single `<textarea>` node.  See \"name\" attribute.\r\n\t\t_SEPARATOR: \"@@**%%__RICHTEXTBOUNDRY__%%**@@\",\r\n\r\n\t\t// _NAME_CONTENT_SEP: [private] String\r\n\t\t//\t\tUSed to separate name from content.  Just a colon isn't safe.\r\n\t\t_NAME_CONTENT_SEP: \"@@**%%:%%**@@\",\r\n\r\n\t\t// onLoadDeferred: [readonly] dojo/promise/Promise\r\n\t\t//\t\tDeferred which is fired when the editor finishes loading.\r\n\t\t//\t\tCall myEditor.onLoadDeferred.then(callback) it to be informed\r\n\t\t//\t\twhen the rich-text area initialization is finalized.\r\n\t\tonLoadDeferred: null,\r\n\r\n\t\t// isTabIndent: Boolean\r\n\t\t//\t\tMake tab key and shift-tab indent and outdent rather than navigating.\r\n\t\t//\t\tCaution: sing this makes web pages inaccessible to users unable to use a mouse.\r\n\t\tisTabIndent: false,\r\n\r\n\t\t// disableSpellCheck: [const] Boolean\r\n\t\t//\t\tWhen true, disables the browser's native spell checking, if supported.\r\n\t\t//\t\tWorks only in Firefox.\r\n\t\tdisableSpellCheck: false,\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tif(\"textarea\" === this.domNode.tagName.toLowerCase()){\r\n\t\t\t\tconsole.warn(\"RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.\");\r\n\t\t\t}\r\n\r\n\t\t\t// Push in the builtin filters now, making them the first executed, but not over-riding anything\r\n\t\t\t// users passed in.  See: #6062\r\n\t\t\tthis.contentPreFilters = [\r\n\t\t\t\tlang.trim,\t// avoid IE10 problem hitting ENTER on last line when there's a trailing \\n.\r\n\t\t\t\tlang.hitch(this, \"_preFixUrlAttributes\")\r\n\t\t\t].concat(this.contentPreFilters);\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\tthis.contentPreFilters = [this._normalizeFontStyle].concat(this.contentPreFilters);\r\n\t\t\t\tthis.contentPostFilters = [this._removeMozBogus].concat(this.contentPostFilters);\r\n\t\t\t}\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t// Try to clean up WebKit bogus artifacts.  The inserted classes\r\n\t\t\t\t// made by WebKit sometimes messes things up.\r\n\t\t\t\tthis.contentPreFilters = [this._removeWebkitBogus].concat(this.contentPreFilters);\r\n\t\t\t\tthis.contentPostFilters = [this._removeWebkitBogus].concat(this.contentPostFilters);\r\n\t\t\t}\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\t// IE generates <strong> and <em> but we want to normalize to <b> and <i>\r\n\t\t\t\t// Still happens in IE11!\r\n\t\t\t\tthis.contentPostFilters = [this._normalizeFontStyle].concat(this.contentPostFilters);\r\n\t\t\t\tthis.contentDomPostFilters = [lang.hitch(this, \"_stripBreakerNodes\")].concat(this.contentDomPostFilters);\r\n\t\t\t}\r\n\t\t\tthis.contentDomPostFilters = [lang.hitch(this, \"_stripTrailingEmptyNodes\")].concat(this.contentDomPostFilters);\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\ttopic.publish(dijit._scopeName + \"._editor.RichText::init\", this);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Don't call open() until startup() because we need to be attached to the DOM, and also if we are the\r\n\t\t\t// child of a StackContainer, let StackContainer._setupChild() do DOM manipulations before iframe is\r\n\t\t\t// created, to avoid duplicate onload call.\r\n\t\t\tthis.open();\r\n\t\t\tthis.setupDefaultShortcuts();\r\n\t\t},\r\n\r\n\t\tsetupDefaultShortcuts: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd some default key handlers\r\n\t\t\t// description:\r\n\t\t\t//\t\tOverwrite this to setup your own handlers. The default\r\n\t\t\t//\t\timplementation does not use Editor commands, but directly\r\n\t\t\t//\t\texecutes the builtin commands within the underlying browser\r\n\t\t\t//\t\tsupport.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar exec = lang.hitch(this, function(cmd, arg){\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn !this.execCommand(cmd, arg);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tvar ctrlKeyHandlers = {\r\n\t\t\t\tb: exec(\"bold\"),\r\n\t\t\t\ti: exec(\"italic\"),\r\n\t\t\t\tu: exec(\"underline\"),\r\n\t\t\t\ta: exec(\"selectall\"),\r\n\t\t\t\ts: function(){\r\n\t\t\t\t\tthis.save(true);\r\n\t\t\t\t},\r\n\t\t\t\tm: function(){\r\n\t\t\t\t\tthis.isTabIndent = !this.isTabIndent;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t\"1\": exec(\"formatblock\", \"h1\"),\r\n\t\t\t\t\"2\": exec(\"formatblock\", \"h2\"),\r\n\t\t\t\t\"3\": exec(\"formatblock\", \"h3\"),\r\n\t\t\t\t\"4\": exec(\"formatblock\", \"h4\"),\r\n\r\n\t\t\t\t\"\\\\\": exec(\"insertunorderedlist\")\r\n\t\t\t};\r\n\r\n\t\t\tif(!has(\"ie\")){\r\n\t\t\t\tctrlKeyHandlers.Z = exec(\"redo\"); //FIXME: undo?\r\n\t\t\t}\r\n\r\n\t\t\tvar key;\r\n\t\t\tfor(key in ctrlKeyHandlers){\r\n\t\t\t\tthis.addKeyHandler(key, true, false, ctrlKeyHandlers[key]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// events: [private] String[]\r\n\t\t//\t\t events which should be connected to the underlying editing area\r\n\t\tevents: [\"onKeyDown\", \"onKeyUp\"], // onClick handled specially\r\n\r\n\t\t// captureEvents: [deprecated] String[]\r\n\t\t//\t\t Events which should be connected to the underlying editing\r\n\t\t//\t\t area, events in this array will be addListener with\r\n\t\t//\t\t capture=true.\r\n\t\t// TODO: looking at the code I don't see any distinction between events and captureEvents,\r\n\t\t// so get rid of this for 2.0 if not sooner\r\n\t\tcaptureEvents: [],\r\n\r\n\t\t_editorCommandsLocalized: false,\r\n\t\t_localizeEditorCommands: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen IE is running in a non-English locale, the API actually changes,\r\n\t\t\t//\t\tso that we have to say (for example) danraku instead of p (for paragraph).\r\n\t\t\t//\t\tHandle that here.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(RichText._editorCommandsLocalized){\r\n\t\t\t\t// Use the already generate cache of mappings.\r\n\t\t\t\tthis._local2NativeFormatNames = RichText._local2NativeFormatNames;\r\n\t\t\t\tthis._native2LocalFormatNames = RichText._native2LocalFormatNames;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tRichText._editorCommandsLocalized = true;\r\n\t\t\tRichText._local2NativeFormatNames = {};\r\n\t\t\tRichText._native2LocalFormatNames = {};\r\n\t\t\tthis._local2NativeFormatNames = RichText._local2NativeFormatNames;\r\n\t\t\tthis._native2LocalFormatNames = RichText._native2LocalFormatNames;\r\n\t\t\t//in IE, names for blockformat is locale dependent, so we cache the values here\r\n\r\n\t\t\t//put p after div, so if IE returns Normal, we show it as paragraph\r\n\t\t\t//We can distinguish p and div if IE returns Normal, however, in order to detect that,\r\n\t\t\t//we have to call this.document.selection.createRange().parentElement() or such, which\r\n\t\t\t//could slow things down. Leave it as it is for now\r\n\t\t\tvar formats = ['div', 'p', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'ol', 'ul', 'address'];\r\n\t\t\tvar localhtml = \"\", format, i = 0;\r\n\t\t\twhile((format = formats[i++])){\r\n\t\t\t\t//append a <br> after each element to separate the elements more reliably\r\n\t\t\t\tif(format.charAt(1) !== 'l'){\r\n\t\t\t\t\tlocalhtml += \"<\" + format + \"><span>content</span></\" + format + \"><br/>\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlocalhtml += \"<\" + format + \"><li>content</li></\" + format + \"><br/>\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// queryCommandValue returns empty if we hide editNode, so move it out of screen temporary\r\n\t\t\t// Also, IE9 does weird stuff unless we do it inside the editor iframe.\r\n\t\t\tvar style = { position: \"absolute\", top: \"0px\", zIndex: 10, opacity: 0.01 };\r\n\t\t\tvar div = domConstruct.create('div', {style: style, innerHTML: localhtml});\r\n\t\t\tthis.ownerDocumentBody.appendChild(div);\r\n\r\n\t\t\t// IE9 has a timing issue with doing this right after setting\r\n\t\t\t// the inner HTML, so put a delay in.\r\n\t\t\tvar inject = lang.hitch(this, function(){\r\n\t\t\t\tvar node = div.firstChild;\r\n\t\t\t\twhile(node){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tthis.selection.selectElement(node.firstChild);\r\n\t\t\t\t\t\tvar nativename = node.tagName.toLowerCase();\r\n\t\t\t\t\t\tthis._local2NativeFormatNames[nativename] = document.queryCommandValue(\"formatblock\");\r\n\t\t\t\t\t\tthis._native2LocalFormatNames[this._local2NativeFormatNames[nativename]] = nativename;\r\n\t\t\t\t\t\tnode = node.nextSibling.nextSibling;\r\n\t\t\t\t\t\t//console.log(\"Mapped: \", nativename, \" to: \", this._local2NativeFormatNames[nativename]);\r\n\t\t\t\t\t}catch(e){ /*Sqelch the occasional IE9 error */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdomConstruct.destroy(div);\r\n\t\t\t});\r\n\t\t\tthis.defer(inject);\r\n\t\t},\r\n\r\n\t\topen: function(/*DomNode?*/ element){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTransforms the node referenced in this.domNode into a rich text editing\r\n\t\t\t//\t\tnode.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets up the editing area asynchronously. This will result in\r\n\t\t\t//\t\tthe creation and replacement with an iframe.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(!this.onLoadDeferred || this.onLoadDeferred.fired >= 0){\r\n\t\t\t\tthis.onLoadDeferred = new Deferred();\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.isClosed){\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t\ttopic.publish(dijit._scopeName + \"._editor.RichText::open\", this);\r\n\r\n\t\t\tif(arguments.length === 1 && element.nodeName){ // else unchanged\r\n\t\t\t\tthis.domNode = element;\r\n\t\t\t}\r\n\r\n\t\t\tvar dn = this.domNode;\r\n\r\n\t\t\t// Compute initial value of the editor\r\n\t\t\tvar html;\r\n\t\t\tif(lang.isString(this.value)){\r\n\t\t\t\t// Allow setting the editor content programmatically instead of\r\n\t\t\t\t// relying on the initial content being contained within the target\r\n\t\t\t\t// domNode.\r\n\t\t\t\thtml = this.value;\r\n\t\t\t\tdn.innerHTML = \"\";\r\n\t\t\t}else if(dn.nodeName && dn.nodeName.toLowerCase() == \"textarea\"){\r\n\t\t\t\t// if we were created from a textarea, then we need to create a\r\n\t\t\t\t// new editing harness node.\r\n\t\t\t\tvar ta = (this.textarea = dn);\r\n\t\t\t\tthis.name = ta.name;\r\n\t\t\t\thtml = ta.value;\r\n\t\t\t\tdn = this.domNode = this.ownerDocument.createElement(\"div\");\r\n\t\t\t\tdn.setAttribute('widgetId', this.id);\r\n\t\t\t\tta.removeAttribute('widgetId');\r\n\t\t\t\tdn.cssText = ta.cssText;\r\n\t\t\t\tdn.className += \" \" + ta.className;\r\n\t\t\t\tdomConstruct.place(dn, ta, \"before\");\r\n\t\t\t\tvar tmpFunc = lang.hitch(this, function(){\r\n\t\t\t\t\t//some browsers refuse to submit display=none textarea, so\r\n\t\t\t\t\t//move the textarea off screen instead\r\n\t\t\t\t\tdomStyle.set(ta, {\r\n\t\t\t\t\t\tdisplay: \"block\",\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\ttop: \"-1000px\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(has(\"ie\")){ //nasty IE bug: abnormal formatting if overflow is not hidden\r\n\t\t\t\t\t\tvar s = ta.style;\r\n\t\t\t\t\t\tthis.__overflow = s.overflow;\r\n\t\t\t\t\t\ts.overflow = \"hidden\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif(has(\"ie\")){\r\n\t\t\t\t\tthis.defer(tmpFunc, 10);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttmpFunc();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(ta.form){\r\n\t\t\t\t\tvar resetValue = ta.value;\r\n\t\t\t\t\tthis.reset = function(){\r\n\t\t\t\t\t\tvar current = this.getValue();\r\n\t\t\t\t\t\tif(current !== resetValue){\r\n\t\t\t\t\t\t\tthis.replaceValue(resetValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton(ta.form, \"submit\", lang.hitch(this, function(){\r\n\t\t\t\t\t\t// Copy value to the <textarea> so it gets submitted along with form.\r\n\t\t\t\t\t\t// FIXME: should we be calling close() here instead?\r\n\t\t\t\t\t\tdomAttr.set(ta, 'disabled', this.disabled); // don't submit the value if disabled\r\n\t\t\t\t\t\tta.value = this.getValue();\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\thtml = htmlapi.getChildrenHtml(dn);\r\n\t\t\t\tdn.innerHTML = \"\";\r\n\t\t\t}\r\n\t\t\tthis.value = html;\r\n\r\n\t\t\t// If we're a list item we have to put in a blank line to force the\r\n\t\t\t// bullet to nicely align at the top of text\r\n\t\t\tif(dn.nodeName && dn.nodeName === \"LI\"){\r\n\t\t\t\tdn.innerHTML = \" <br>\";\r\n\t\t\t}\r\n\r\n\t\t\t// Construct the editor div structure.\r\n\t\t\tthis.header = dn.ownerDocument.createElement(\"div\");\r\n\t\t\tdn.appendChild(this.header);\r\n\t\t\tthis.editingArea = dn.ownerDocument.createElement(\"div\");\r\n\t\t\tdn.appendChild(this.editingArea);\r\n\t\t\tthis.footer = dn.ownerDocument.createElement(\"div\");\r\n\t\t\tdn.appendChild(this.footer);\r\n\r\n\t\t\tif(!this.name){\r\n\t\t\t\tthis.name = this.id + \"_AUTOGEN\";\r\n\t\t\t}\r\n\r\n\t\t\t// User has pressed back/forward button so we lost the text in the editor, but it's saved\r\n\t\t\t// in a hidden <textarea> (which contains the data for all the editors on this page),\r\n\t\t\t// so get editor value from there\r\n\t\t\tif(this.name !== \"\" && (!config[\"useXDomain\"] || config[\"allowXdRichTextSave\"])){\r\n\t\t\t\tvar saveTextarea = dom.byId(dijit._scopeName + \"._editor.RichText.value\");\r\n\t\t\t\tif(saveTextarea && saveTextarea.value !== \"\"){\r\n\t\t\t\t\tvar datas = saveTextarea.value.split(this._SEPARATOR), i = 0, dat;\r\n\t\t\t\t\twhile((dat = datas[i++])){\r\n\t\t\t\t\t\tvar data = dat.split(this._NAME_CONTENT_SEP);\r\n\t\t\t\t\t\tif(data[0] === this.name){\r\n\t\t\t\t\t\t\tthis.value = data[1];\r\n\t\t\t\t\t\t\tdatas = datas.splice(i, 1);\r\n\t\t\t\t\t\t\tsaveTextarea.value = datas.join(this._SEPARATOR);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!RichText._globalSaveHandler){\r\n\t\t\t\t\tRichText._globalSaveHandler = {};\r\n\t\t\t\t\tunload.addOnUnload(function(){\r\n\t\t\t\t\t\tvar id;\r\n\t\t\t\t\t\tfor(id in RichText._globalSaveHandler){\r\n\t\t\t\t\t\t\tvar f = RichText._globalSaveHandler[id];\r\n\t\t\t\t\t\t\tif(lang.isFunction(f)){\r\n\t\t\t\t\t\t\t\tf();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tRichText._globalSaveHandler[this.id] = lang.hitch(this, \"_saveContent\");\r\n\t\t\t}\r\n\r\n\t\t\tthis.isClosed = false;\r\n\r\n\t\t\tvar ifr = (this.editorObject = this.iframe = this.ownerDocument.createElement('iframe'));\r\n\t\t\tifr.id = this.id + \"_iframe\";\r\n\t\t\tifr.style.border = \"none\";\r\n\t\t\tifr.style.width = \"100%\";\r\n\t\t\tif(this._layoutMode){\r\n\t\t\t\t// iframe should be 100% height, thus getting it's height from surrounding\r\n\t\t\t\t// <div> (which has the correct height set by Editor)\r\n\t\t\t\tifr.style.height = \"100%\";\r\n\t\t\t}else{\r\n\t\t\t\tif(has(\"ie\") >= 7){\r\n\t\t\t\t\tif(this.height){\r\n\t\t\t\t\t\tifr.style.height = this.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.minHeight){\r\n\t\t\t\t\t\tifr.style.minHeight = this.minHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tifr.style.height = this.height ? this.height : this.minHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tifr.frameBorder = 0;\r\n\t\t\tifr._loadFunc = lang.hitch(this, function(w){\r\n\t\t\t\t// This method is called when the editor is first loaded and also if the Editor's\r\n\t\t\t\t// dom node is repositioned. Unfortunately repositioning the Editor tends to\r\n\t\t\t\t// clear the iframe's contents, so we can't just no-op in that case.\r\n\r\n\t\t\t\tthis.window = w;\r\n\t\t\t\tthis.document = w.document;\r\n\r\n\t\t\t\t// instantiate class to access selected text in editor's iframe\r\n\t\t\t\tthis.selection = new selectionapi.SelectionManager(w);\r\n\r\n\t\t\t\tif(has(\"ie\")){\r\n\t\t\t\t\tthis._localizeEditorCommands();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Do final setup and set contents of editor.\r\n\t\t\t\t// Use get(\"value\") rather than html in case _loadFunc() is being called for a second time\r\n\t\t\t\t// because editor's DOMNode was repositioned.\r\n\t\t\t\tthis.onLoad(this.get(\"value\"));\r\n\t\t\t});\r\n\r\n\t\t\t// Attach iframe to document, and set the initial (blank) content.\r\n\t\t\tvar src = this._getIframeDocTxt().replace(/\\\\/g, \"\\\\\\\\\").replace(/'/g, \"\\\\'\"),\r\n\t\t\t\ts;\r\n\r\n\t\t\t// IE10 and earlier will throw an \"Access is denied\" error when attempting to access the parent frame if\r\n\t\t\t// document.domain has been set, unless the child frame also has the same document.domain set. In some\r\n\t\t\t// cases, we can only set document.domain while the document is being constructed using open/write/close;\r\n\t\t\t// attempting to set it later results in a different \"This method can't be used in this context\" error.\r\n\t\t\t// However, in at least IE9-10, sometimes the parent.window check will succeed and the access failure will\r\n\t\t\t// only happen later when trying to access frameElement, so there is an additional check and fix there\r\n\t\t\t// as well. See #17529\r\n\t\t\tif (has(\"ie\") < 11) {\r\n\t\t\t\ts = 'javascript:document.open();try{parent.window;}catch(e){document.domain=\"' + document.domain + '\";}' +\r\n\t\t\t\t\t'document.write(\\'' + src + '\\');document.close()';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ts = \"javascript: '\" + src + \"'\";\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ie\") == 9){\r\n\t\t\t\t// On IE9, attach to document before setting the content, to avoid problem w/iframe running in\r\n\t\t\t\t// wrong security context, see #16633.\r\n\t\t\t\tthis.editingArea.appendChild(ifr);\r\n\t\t\t\tifr.src = s;\r\n\t\t\t}else{\r\n\t\t\t\t// For other browsers, set src first, especially for IE6/7 where attaching first gives a warning on\r\n\t\t\t\t// https:// about \"this page contains secure and insecure items, do you want to view both?\"\r\n\t\t\t\tifr.setAttribute('src', s);\r\n\t\t\t\tthis.editingArea.appendChild(ifr);\r\n\t\t\t}\r\n\r\n\t\t\t// TODO: this is a guess at the default line-height, kinda works\r\n\t\t\tif(dn.nodeName === \"LI\"){\r\n\t\t\t\tdn.lastChild.style.marginTop = \"-1.2em\";\r\n\t\t\t}\r\n\r\n\t\t\tdomClass.add(this.domNode, this.baseClass);\r\n\t\t},\r\n\r\n\t\t//static cache variables shared among all instance of this class\r\n\t\t_local2NativeFormatNames: {},\r\n\t\t_native2LocalFormatNames: {},\r\n\r\n\t\t_getIframeDocTxt: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGenerates the boilerplate text of the document inside the iframe (ie, `<html><head>...</head><body/></html>`).\r\n\t\t\t//\t\tEditor content (if not blank) should be added afterwards.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar _cs = domStyle.getComputedStyle(this.domNode);\r\n\r\n\t\t\t// The contents inside of <body>.  The real contents are set later via a call to setValue().\r\n\t\t\t// In auto-expand mode, need a wrapper div for AlwaysShowToolbar plugin to correctly\r\n\t\t\t// expand/contract the editor as the content changes.\r\n\t\t\tvar html = \"<div id='dijitEditorBody'></div>\";\r\n\r\n\t\t\tvar font = [ _cs.fontWeight, _cs.fontSize, _cs.fontFamily ].join(\" \");\r\n\r\n\t\t\t// line height is tricky - applying a units value will mess things up.\r\n\t\t\t// if we can't get a non-units value, bail out.\r\n\t\t\tvar lineHeight = _cs.lineHeight;\r\n\t\t\tif(lineHeight.indexOf(\"px\") >= 0){\r\n\t\t\t\tlineHeight = parseFloat(lineHeight) / parseFloat(_cs.fontSize);\r\n\t\t\t\t// console.debug(lineHeight);\r\n\t\t\t}else if(lineHeight.indexOf(\"em\") >= 0){\r\n\t\t\t\tlineHeight = parseFloat(lineHeight);\r\n\t\t\t}else{\r\n\t\t\t\t// If we can't get a non-units value, just default\r\n\t\t\t\t// it to the CSS spec default of 'normal'.  Seems to\r\n\t\t\t\t// work better, esp on IE, than '1.0'\r\n\t\t\t\tlineHeight = \"normal\";\r\n\t\t\t}\r\n\t\t\tvar userStyle = \"\";\r\n\t\t\tvar self = this;\r\n\t\t\tthis.style.replace(/(^|;)\\s*(line-|font-?)[^;]+/ig, function(match){\r\n\t\t\t\tmatch = match.replace(/^;/ig, \"\") + ';';\r\n\t\t\t\tvar s = match.split(\":\")[0];\r\n\t\t\t\tif(s){\r\n\t\t\t\t\ts = lang.trim(s);\r\n\t\t\t\t\ts = s.toLowerCase();\r\n\t\t\t\t\tvar i;\r\n\t\t\t\t\tvar sC = \"\";\r\n\t\t\t\t\tfor(i = 0; i < s.length; i++){\r\n\t\t\t\t\t\tvar c = s.charAt(i);\r\n\t\t\t\t\t\tswitch(c){\r\n\t\t\t\t\t\t\tcase \"-\":\r\n\t\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t\t\tc = s.charAt(i).toUpperCase();\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tsC += c;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomStyle.set(self.domNode, sC, \"\");\r\n\t\t\t\t}\r\n\t\t\t\tuserStyle += match + ';';\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// need to find any associated label element, aria-label, or aria-labelledby and update iframe document title\r\n\t\t\tvar label = query('label[for=\"' + this.id + '\"]');\r\n\t\t\tvar title = \"\";\r\n\t\t\tif(label.length){\r\n\t\t\t\ttitle = label[0].innerHTML;\r\n\t\t\t}else if(this[\"aria-label\"]){\r\n\t\t\t\ttitle = this[\"aria-label\"];\r\n\t\t\t}else if(this[\"aria-labelledby\"]){\r\n\t\t\t\ttitle = dom.byId(this[\"aria-labelledby\"]).innerHTML;\r\n\t\t\t}\r\n\r\n\t\t\t// Now that we have the title, also set it as the title attribute on the iframe\r\n\t\t\tthis.iframe.setAttribute(\"title\", title);\r\n\r\n\t\t\treturn [\r\n\t\t\t\t\"<!DOCTYPE html>\",\r\n\t\t\t\tthis.isLeftToRight() ? \"<html lang='\" + this.lang + \"'>\\n<head>\\n\" : \"<html dir='rtl' lang='\" + this.lang + \"'>\\n<head>\\n\",\r\n\t\t\t\ttitle ? \"<title>\" + title + \"</title>\" : \"\",\r\n\t\t\t\t\"<meta http-equiv='Content-Type' content='text/html'>\\n\",\r\n\t\t\t\t\"<style>\\n\",\r\n\t\t\t\t\"\\tbody,html {\\n\",\r\n\t\t\t\t\"\\t\\tbackground:transparent;\\n\",\r\n\t\t\t\t\"\\t\\tpadding: 1px 0 0 0;\\n\",\r\n\t\t\t\t\"\\t\\tmargin: -1px 0 0 0;\\n\", // remove extraneous vertical scrollbar on safari and firefox\r\n\t\t\t\t\"\\t}\\n\",\r\n\t\t\t\t\"\\tbody,html,#dijitEditorBody { outline: none; }\",\r\n\r\n\t\t\t\t// Set <body> to expand to full size of editor, so clicking anywhere will work.\r\n\t\t\t\t// Except in auto-expand mode, in which case the editor expands to the size of <body>.\r\n\t\t\t\t// Also determine how scrollers should be applied.  In autoexpand mode (height = \"\") no scrollers on y at all.\r\n\t\t\t\t// But in fixed height mode we want both x/y scrollers.\r\n\t\t\t\t// Scrollers go on <body> since it's been set to height: 100%.\r\n\t\t\t\t\"html { height: 100%; width: 100%; overflow: hidden; }\\n\",\t// scroll bar is on #dijitEditorBody, shouldn't be on <html>\r\n\t\t\t\tthis.height ? \"\\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\\n\" :\r\n\t\t\t\t\t\"\\tbody,#dijitEditorBody { min-height: \" + this.minHeight + \"; width: 100%; overflow-x: auto; overflow-y: hidden; }\\n\",\r\n\r\n\t\t\t\t// TODO: left positioning will cause contents to disappear out of view\r\n\t\t\t\t//\t   if it gets too wide for the visible area\r\n\t\t\t\t\"\\tbody{\\n\",\r\n\t\t\t\t\"\\t\\ttop:0px;\\n\",\r\n\t\t\t\t\"\\t\\tleft:0px;\\n\",\r\n\t\t\t\t\"\\t\\tright:0px;\\n\",\r\n\t\t\t\t\"\\t\\tfont:\", font, \";\\n\",\r\n\t\t\t\t((this.height || has(\"opera\")) ? \"\" : \"\\t\\tposition: fixed;\\n\"),\r\n\t\t\t\t\"\\t\\tline-height:\", lineHeight, \";\\n\",\r\n\t\t\t\t\"\\t}\\n\",\r\n\t\t\t\t\"\\tp{ margin: 1em 0; }\\n\",\r\n\r\n\t\t\t\t\"\\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\\n\",\r\n\t\t\t\t// Can't set min-height in IE>=9, it puts layout on li, which puts move/resize handles.\r\n\t\t\t\t(has(\"ie\") || has(\"trident\") ? \"\" : \"\\tli{ min-height:1.2em; }\\n\"),\r\n\t\t\t\t\"</style>\\n\",\r\n\t\t\t\tthis._applyEditingAreaStyleSheets(), \"\\n\",\r\n\t\t\t\t\"</head>\\n<body role='main' \",\r\n\r\n\t\t\t\t// Onload handler fills in real editor content.\r\n\t\t\t\t// On IE9, sometimes onload is called twice, and the first time frameElement is null (test_FullScreen.html)\r\n\t\t\t\t// On IE9-10, it is also possible that accessing window.parent in the initial creation of the\r\n\t\t\t\t// iframe DOM will succeed, but trying to access window.frameElement will fail, in which case we\r\n\t\t\t\t// *can* set the domain without a \"This method can't be used in this context\" error. See #17529\r\n\t\t\t\t\"onload='try{frameElement && frameElement._loadFunc(window,document)}catch(e){document.domain=\\\"\" + document.domain + \"\\\";frameElement._loadFunc(window,document)}' \",\r\n\t\t\t\t\"style='\" + userStyle + \"'>\", html, \"</body>\\n</html>\"\r\n\t\t\t].join(\"\"); // String\r\n\t\t},\r\n\r\n\t\t_applyEditingAreaStyleSheets: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tapply the specified css files in styleSheets\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar files = [];\r\n\t\t\tif(this.styleSheets){\r\n\t\t\t\tfiles = this.styleSheets.split(';');\r\n\t\t\t\tthis.styleSheets = '';\r\n\t\t\t}\r\n\r\n\t\t\t//empty this.editingAreaStyleSheets here, as it will be filled in addStyleSheet\r\n\t\t\tfiles = files.concat(this.editingAreaStyleSheets);\r\n\t\t\tthis.editingAreaStyleSheets = [];\r\n\r\n\t\t\tvar text = '', i = 0, url, ownerWindow = winUtils.get(this.ownerDocument);\r\n\t\t\twhile((url = files[i++])){\r\n\t\t\t\tvar abstring = (new _Url(ownerWindow.location, url)).toString();\r\n\t\t\t\tthis.editingAreaStyleSheets.push(abstring);\r\n\t\t\t\ttext += '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + abstring + '\"/>';\r\n\t\t\t}\r\n\t\t\treturn text;\r\n\t\t},\r\n\r\n\t\taddStyleSheet: function(/*dojo/_base/url*/ uri){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadd an external stylesheet for the editing area\r\n\t\t\t// uri:\r\n\t\t\t//\t\tUrl of the external css file\r\n\t\t\tvar url = uri.toString(), ownerWindow = winUtils.get(this.ownerDocument);\r\n\r\n\t\t\t//if uri is relative, then convert it to absolute so that it can be resolved correctly in iframe\r\n\t\t\tif(url.charAt(0) === '.' || (url.charAt(0) !== '/' && !uri.host)){\r\n\t\t\t\turl = (new _Url(ownerWindow.location, url)).toString();\r\n\t\t\t}\r\n\r\n\t\t\tif(array.indexOf(this.editingAreaStyleSheets, url) > -1){\r\n//\t\t\tconsole.debug(\"dijit/_editor/RichText.addStyleSheet(): Style sheet \"+url+\" is already applied\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.editingAreaStyleSheets.push(url);\r\n\t\t\tthis.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\tif(this.document.createStyleSheet){ //IE\r\n\t\t\t\t\tthis.document.createStyleSheet(url);\r\n\t\t\t\t}else{ //other browser\r\n\t\t\t\t\tvar head = this.document.getElementsByTagName(\"head\")[0];\r\n\t\t\t\t\tvar stylesheet = this.document.createElement(\"link\");\r\n\t\t\t\t\tstylesheet.rel = \"stylesheet\";\r\n\t\t\t\t\tstylesheet.type = \"text/css\";\r\n\t\t\t\t\tstylesheet.href = url;\r\n\t\t\t\t\thead.appendChild(stylesheet);\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\tremoveStyleSheet: function(/*dojo/_base/url*/ uri){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremove an external stylesheet for the editing area\r\n\t\t\tvar url = uri.toString(), ownerWindow = winUtils.get(this.ownerDocument);\r\n\t\t\t//if uri is relative, then convert it to absolute so that it can be resolved correctly in iframe\r\n\t\t\tif(url.charAt(0) === '.' || (url.charAt(0) !== '/' && !uri.host)){\r\n\t\t\t\turl = (new _Url(ownerWindow.location, url)).toString();\r\n\t\t\t}\r\n\t\t\tvar index = array.indexOf(this.editingAreaStyleSheets, url);\r\n\t\t\tif(index === -1){\r\n//\t\t\tconsole.debug(\"dijit/_editor/RichText.removeStyleSheet(): Style sheet \"+url+\" has not been applied\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdelete this.editingAreaStyleSheets[index];\r\n\t\t\tquery('link[href=\"' + url + '\"]', this.window.document).orphan();\r\n\t\t},\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tThe editor is disabled; the text cannot be changed.\r\n\t\tdisabled: false,\r\n\r\n\t\t_mozSettingProps: {'styleWithCSS': false},\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._set(\"disabled\", value);\r\n\t\t\tif(!this.isLoaded){\r\n\t\t\t\treturn;\r\n\t\t\t} // this method requires init to be complete\r\n\t\t\tvar preventIEfocus = has(\"ie\") && (this.isLoaded || !this.focusOnLoad);\r\n\t\t\tif(preventIEfocus){\r\n\t\t\t\tthis.editNode.unselectable = \"on\";\r\n\t\t\t}\r\n\t\t\tthis.editNode.contentEditable = !value;\r\n\t\t\tthis.editNode.tabIndex = value ? \"-1\" : this.tabIndex;\r\n\t\t\tif(preventIEfocus){\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tif(this.editNode){        // guard in case widget destroyed before timeout\r\n\t\t\t\t\t\tthis.editNode.unselectable = \"off\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(has(\"mozilla\") && !value && this._mozSettingProps){\r\n\t\t\t\tvar ps = this._mozSettingProps;\r\n\t\t\t\tvar n;\r\n\t\t\t\tfor(n in ps){\r\n\t\t\t\t\tif(ps.hasOwnProperty(n)){\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tthis.document.execCommand(n, false, ps[n]);\r\n\t\t\t\t\t\t}catch(e2){\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._disabledOK = true;\r\n\t\t},\r\n\r\n\t\t/* Event handlers\r\n\t\t *****************/\r\n\r\n\t\tonLoad: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler after the iframe finishes loading.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tEditor contents should be set to this value\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!this.window.__registeredWindow){\r\n\t\t\t\tthis.window.__registeredWindow = true;\r\n\t\t\t\tthis._iframeRegHandle = focus.registerIframe(this.iframe);\r\n\t\t\t}\r\n\r\n\t\t\t// there's a wrapper div around the content, see _getIframeDocTxt().\r\n\t\t\tthis.editNode = this.document.body.firstChild;\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\t// Helper code so IE and FF skip over focusing on the <iframe> and just focus on the inner <div>.\r\n\t\t\t// See #4996 IE wants to focus the BODY tag.\r\n\t\t\tthis.beforeIframeNode = domConstruct.place(\"<div tabIndex=-1></div>\", this.iframe, \"before\");\r\n\t\t\tthis.afterIframeNode = domConstruct.place(\"<div tabIndex=-1></div>\", this.iframe, \"after\");\r\n\t\t\tthis.iframe.onfocus = this.document.onfocus = function(){\r\n\t\t\t\t_this.editNode.focus();\r\n\t\t\t};\r\n\r\n\t\t\tthis.focusNode = this.editNode; // for InlineEditBox\r\n\r\n\r\n\t\t\tvar events = this.events.concat(this.captureEvents);\r\n\t\t\tvar ap = this.iframe ? this.document : this.editNode;\r\n\t\t\tthis.own.apply(this,\r\n\t\t\t\tarray.map(events, function(item){\r\n\t\t\t\t\tvar type = item.toLowerCase().replace(/^on/, \"\");\r\n\t\t\t\t\treturn on(ap, type, lang.hitch(this, item));\r\n\t\t\t\t}, this)\r\n\t\t\t);\r\n\r\n\t\t\tthis.own(\r\n\t\t\t\t// mouseup in the margin does not generate an onclick event\r\n\t\t\t\ton(ap, \"mouseup\", lang.hitch(this, \"onClick\"))\r\n\t\t\t);\r\n\r\n\t\t\tif(has(\"ie\")){ // IE contentEditable\r\n\t\t\t\tthis.own(on(this.document, \"mousedown\", lang.hitch(this, \"_onIEMouseDown\"))); // #4996 fix focus\r\n\r\n\t\t\t\t// give the node Layout on IE\r\n\t\t\t\t// TODO: this may no longer be needed, since we've reverted IE to using an iframe,\r\n\t\t\t\t// not contentEditable.   Removing it would also probably remove the need for creating\r\n\t\t\t\t// the extra <div> in _getIframeDocTxt()\r\n\t\t\t\tthis.editNode.style.zoom = 1.0;\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t//WebKit sometimes doesn't fire right on selections, so the toolbar\r\n\t\t\t\t//doesn't update right.  Therefore, help it out a bit with an additional\r\n\t\t\t\t//listener.  A mouse up will typically indicate a display change, so fire this\r\n\t\t\t\t//and get the toolbar to adapt.  Reference: #9532\r\n\t\t\t\tthis._webkitListener = this.own(on(this.document, \"mouseup\", lang.hitch(this, \"onDisplayChanged\")))[0];\r\n\t\t\t\tthis.own(on(this.document, \"mousedown\", lang.hitch(this, function(e){\r\n\t\t\t\t\tvar t = e.target;\r\n\t\t\t\t\tif(t && (t === this.document.body || t === this.document)){\r\n\t\t\t\t\t\t// Since WebKit uses the inner DIV, we need to check and set position.\r\n\t\t\t\t\t\t// See: #12024 as to why the change was made.\r\n\t\t\t\t\t\tthis.defer(\"placeCursorAtEnd\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})));\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// Try to make sure 'hidden' elements aren't visible in edit mode (like browsers other than IE\r\n\t\t\t\t// do).  See #9103\r\n\t\t\t\ttry{\r\n\t\t\t\t\tthis.document.execCommand('RespectVisibilityInDesign', true, null);\r\n\t\t\t\t}catch(e){/* squelch */\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.isLoaded = true;\r\n\r\n\t\t\tthis.set('disabled', this.disabled); // initialize content to editable (or not)\r\n\r\n\t\t\t// Note that setValue() call will only work after isLoaded is set to true (above)\r\n\r\n\t\t\t// Set up a function to allow delaying the setValue until a callback is fired\r\n\t\t\t// This ensures extensions like dijit.Editor have a way to hold the value set\r\n\t\t\t// until plugins load (and do things like register filters).\r\n\t\t\tvar setContent = lang.hitch(this, function(){\r\n\t\t\t\tthis.setValue(html);\r\n\r\n\t\t\t\t// Tell app that the Editor has finished loading.  isFulfilled() check avoids spurious\r\n\t\t\t\t// console warning when this function is called repeatedly because Editor DOMNode was moved.\r\n\t\t\t\tif(this.onLoadDeferred && !this.onLoadDeferred.isFulfilled()){\r\n\t\t\t\t\tthis.onLoadDeferred.resolve(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.onDisplayChanged();\r\n\t\t\t\tif(this.focusOnLoad){\r\n\t\t\t\t\t// after the document loads, then set focus after updateInterval expires so that\r\n\t\t\t\t\t// onNormalizedDisplayChanged has run to avoid input caret issues\r\n\t\t\t\t\tdomReady(lang.hitch(this, \"defer\", \"focus\", this.updateInterval));\r\n\t\t\t\t}\r\n\t\t\t\t// Save off the initial content now\r\n\t\t\t\tthis.value = this.getValue(true);\r\n\t\t\t});\r\n\t\t\tif(this.setValueDeferred){\r\n\t\t\t\tthis.setValueDeferred.then(setContent);\r\n\t\t\t}else{\r\n\t\t\t\tsetContent();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonKeyDown: function(/* Event */ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for keydown event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Modifier keys should not cause the onKeyPressed event because they do not cause any change to the\r\n\t\t\t// display\r\n\t\t\tif(e.keyCode === keys.SHIFT ||\r\n\t\t\t   e.keyCode === keys.ALT ||\r\n\t\t\t   e.keyCode === keys.META ||\r\n\t\t\t   e.keyCode === keys.CTRL){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif(e.keyCode === keys.TAB && this.isTabIndent){\r\n\t\t\t\t//prevent tab from moving focus out of editor\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t// FIXME: this is a poor-man's indent/outdent. It would be\r\n\t\t\t\t// better if it added 4 \"&nbsp;\" chars in an undoable way.\r\n\t\t\t\t// Unfortunately pasteHTML does not prove to be undoable\r\n\t\t\t\tif(this.queryCommandEnabled((e.shiftKey ? \"outdent\" : \"indent\"))){\r\n\t\t\t\t\tthis.execCommand((e.shiftKey ? \"outdent\" : \"indent\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Make tab and shift-tab skip over the <iframe>, going from the nested <div> to the toolbar\r\n\t\t\t// or next element after the editor\r\n\t\t\tif(e.keyCode == keys.TAB && !this.isTabIndent && !e.ctrlKey && !e.altKey){\r\n\t\t\t\tif(e.shiftKey){\r\n\t\t\t\t\t// focus the <iframe> so the browser will shift-tab away from it instead\r\n\t\t\t\t\tthis.beforeIframeNode.focus();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// focus node after the <iframe> so the browser will tab away from it instead\r\n\t\t\t\t\tthis.afterIframeNode.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Prevent onKeyPressed from firing in order to avoid triggering a display change event when the\r\n\t\t\t\t// editor is tabbed away; this fixes toolbar controls being inappropriately disabled in IE9+\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ie\") < 9 && e.keyCode === keys.BACKSPACE && this.document.selection.type === \"Control\"){\r\n\t\t\t\t// IE has a bug where if a non-text object is selected in the editor,\r\n\t\t\t\t// hitting backspace would act as if the browser's back button was\r\n\t\t\t\t// clicked instead of deleting the object. see #1069\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.execCommand(\"delete\");\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ff\")){\r\n\t\t\t\tif(e.keyCode === keys.PAGE_UP || e.keyCode === keys.PAGE_DOWN){\r\n\t\t\t\t\tif(this.editNode.clientHeight >= this.editNode.scrollHeight){\r\n\t\t\t\t\t\t// Stop the event to prevent firefox from trapping the cursor when there is no scroll bar.\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar handlers = this._keyHandlers[e.keyCode],\r\n\t\t\t\targs = arguments;\r\n\r\n\t\t\tif(handlers && !e.altKey){\r\n\t\t\t\tarray.some(handlers, function(h){\r\n\t\t\t\t\t// treat meta- same as ctrl-, for benefit of mac users\r\n\t\t\t\t\tif(!(h.shift ^ e.shiftKey) && !(h.ctrl ^ (e.ctrlKey || e.metaKey))){\r\n\t\t\t\t\t\tif(!h.handler.apply(this, args)){\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\r\n\t\t\t// function call after the character has been inserted\r\n\t\t\tthis.defer(\"onKeyPressed\", 1);\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tonKeyUp: function(/*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onkeyup event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tsetDisabled: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, use set('disabled', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated('dijit.Editor::setDisabled is deprecated', 'use dijit.Editor::attr(\"disabled\",boolean) instead', 2.0);\r\n\t\t\tthis.set('disabled', disabled);\r\n\t\t},\r\n\t\t_setValueAttr: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRegisters that attr(\"value\", foo) should call setValue(foo)\r\n\t\t\tthis.setValue(value);\r\n\t\t},\r\n\t\t_setDisableSpellCheckAttr: function(/*Boolean*/ disabled){\r\n\t\t\tif(this.document){\r\n\t\t\t\tdomAttr.set(this.document.body, \"spellcheck\", !disabled);\r\n\t\t\t}else{\r\n\t\t\t\t// try again after the editor is finished loading\r\n\t\t\t\tthis.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\t\tdomAttr.set(this.document.body, \"spellcheck\", !disabled);\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\tthis._set(\"disableSpellCheck\", disabled);\r\n\t\t},\r\n\r\n\t\taddKeyHandler: function(/*String|Number*/ key, /*Boolean*/ ctrl, /*Boolean*/ shift, /*Function*/ handler){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd a handler for a keyboard shortcut\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(typeof key == \"string\"){\r\n\t\t\t\t// Something like Ctrl-B.  Since using keydown event, we need to convert string to a number.\r\n\t\t\t\tkey = key.toUpperCase().charCodeAt(0);\r\n\t\t\t}\r\n\r\n\t\t\tif(!lang.isArray(this._keyHandlers[key])){\r\n\t\t\t\tthis._keyHandlers[key] = [];\r\n\t\t\t}\r\n\r\n\t\t\tthis._keyHandlers[key].push({\r\n\t\t\t\tshift: shift || false,\r\n\t\t\t\tctrl: ctrl || false,\r\n\t\t\t\thandler: handler\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonKeyPressed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for after the user has pressed a key, and the display has been updated.\r\n\t\t\t//\t\t(Runs on a timer so that it runs after the display is updated)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.onDisplayChanged(/*e*/); // can't pass in e\r\n\t\t},\r\n\r\n\t\tonClick: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when the user clicks.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// console.info('onClick',this._tryDesignModeOn);\r\n\t\t\tthis.onDisplayChanged(e);\r\n\t\t},\r\n\r\n\t\t_onIEMouseDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIE only to prevent 2 clicks to focus\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!this.focused && !this.disabled){\r\n\t\t\t\tthis.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onBlur: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled from focus manager when focus has moved away from this editor\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Workaround IE problem when you blur the browser windows while an editor is focused: IE hangs\r\n\t\t\t// when you focus editor #1, blur the browser window, and then click editor #0.  See #16939.\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tif(!focus.curNode){\r\n\t\t\t\t\t\tthis.ownerDocumentBody.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar newValue = this.getValue(true);\r\n\t\t\tif(newValue !== this.value){\r\n\t\t\t\tthis.onChange(newValue);\r\n\t\t\t}\r\n\t\t\tthis._set(\"value\", newValue);\r\n\t\t},\r\n\r\n\t\t_onFocus: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled from focus manager when focus has moved into this editor\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// console.info('_onFocus')\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tif(!this._disabledOK){\r\n\t\t\t\t\tthis.set('disabled', false);\r\n\t\t\t\t}\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// TODO: remove in 2.0\r\n\t\tblur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove focus from this instance.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tif(!has(\"ie\") && this.window.document.documentElement && this.window.document.documentElement.focus){\r\n\t\t\t\tthis.window.document.documentElement.focus();\r\n\t\t\t}else if(this.ownerDocumentBody.focus){\r\n\t\t\t\tthis.ownerDocumentBody.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMove focus to this editor\r\n\t\t\tif(!this.isLoaded){\r\n\t\t\t\tthis.focusOnLoad = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(has(\"ie\") < 9){\r\n\t\t\t\t//this.editNode.focus(); -> causes IE to scroll always (strict and quirks mode) to the top the Iframe\r\n\t\t\t\t// if we fire the event manually and let the browser handle the focusing, the latest\r\n\t\t\t\t// cursor position is focused like in FF\r\n\t\t\t\tthis.iframe.fireEvent('onfocus', document.createEventObject()); // createEventObject/fireEvent only in IE < 11\r\n\t\t\t}else{\r\n\t\t\t\t// Firefox and chrome\r\n\t\t\t\tthis.editNode.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// _lastUpdate: 0,\r\n\t\tupdateInterval: 200,\r\n\t\t_updateTimer: null,\r\n\t\tonDisplayChanged: function(/*Event*/ /*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis event will be fired every time the display context\r\n\t\t\t//\t\tchanges and the result needs to be reflected in the UI.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf you don't want to have update too often,\r\n\t\t\t//\t\tonNormalizedDisplayChanged should be used instead\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// var _t=new Date();\r\n\t\t\tif(this._updateTimer){\r\n\t\t\t\tthis._updateTimer.remove();\r\n\t\t\t}\r\n\t\t\tthis._updateTimer = this.defer(\"onNormalizedDisplayChanged\", this.updateInterval);\r\n\r\n\t\t\t// Technically this should trigger a call to watch(\"value\", ...) registered handlers,\r\n\t\t\t// but getValue() is too slow to call on every keystroke so we don't.\r\n\t\t},\r\n\t\tonNormalizedDisplayChanged: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis event is fired every updateInterval ms or more\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf something needs to happen immediately after a\r\n\t\t\t//\t\tuser change, please use onDisplayChanged instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tdelete this._updateTimer;\r\n\t\t},\r\n\t\tonChange: function(/*===== newContent =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is fired if and only if the editor loses focus and\r\n\t\t\t//\t\tthe content is changed.\r\n\t\t},\r\n\t\t_normalizeCommand: function(/*String*/ cmd, /*Anything?*/argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUsed as the advice function to map our\r\n\t\t\t//\t\tnormalized set of commands to those supported by the target\r\n\t\t\t//\t\tbrowser.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar command = cmd.toLowerCase();\r\n\t\t\tif(command === \"formatblock\"){\r\n\t\t\t\tif(has(\"safari\") && argument === undefined){\r\n\t\t\t\t\tcommand = \"heading\";\r\n\t\t\t\t}\r\n\t\t\t}else if(command === \"hilitecolor\" && !has(\"mozilla\")){\r\n\t\t\t\tcommand = \"backcolor\";\r\n\t\t\t}\r\n\r\n\t\t\treturn command;\r\n\t\t},\r\n\r\n\t\t_qcaCache: {},\r\n\t\tqueryCommandAvailable: function(/*String*/ command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests whether a command is supported by the host. Clients\r\n\t\t\t//\t\tSHOULD check whether a command is supported before attempting\r\n\t\t\t//\t\tto use it, behaviour for unsupported commands is undefined.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe command to test for\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// memoizing version. See _queryCommandAvailable for computing version\r\n\t\t\tvar ca = this._qcaCache[command];\r\n\t\t\tif(ca !== undefined){\r\n\t\t\t\treturn ca;\r\n\t\t\t}\r\n\t\t\treturn (this._qcaCache[command] = this._queryCommandAvailable(command));\r\n\t\t},\r\n\r\n\t\t_queryCommandAvailable: function(/*String*/ command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSee queryCommandAvailable().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar ie = 1;\r\n\t\t\tvar mozilla = 1 << 1;\r\n\t\t\tvar webkit = 1 << 2;\r\n\t\t\tvar opera = 1 << 3;\r\n\r\n\t\t\tfunction isSupportedBy(browsers){\r\n\t\t\t\treturn {\r\n\t\t\t\t\tie: Boolean(browsers & ie),\r\n\t\t\t\t\tmozilla: Boolean(browsers & mozilla),\r\n\t\t\t\t\twebkit: Boolean(browsers & webkit),\r\n\t\t\t\t\topera: Boolean(browsers & opera)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar supportedBy = null;\r\n\r\n\t\t\tswitch(command.toLowerCase()){\r\n\t\t\t\tcase \"bold\":\r\n\t\t\t\tcase \"italic\":\r\n\t\t\t\tcase \"underline\":\r\n\t\t\t\tcase \"subscript\":\r\n\t\t\t\tcase \"superscript\":\r\n\t\t\t\tcase \"fontname\":\r\n\t\t\t\tcase \"fontsize\":\r\n\t\t\t\tcase \"forecolor\":\r\n\t\t\t\tcase \"hilitecolor\":\r\n\t\t\t\tcase \"justifycenter\":\r\n\t\t\t\tcase \"justifyfull\":\r\n\t\t\t\tcase \"justifyleft\":\r\n\t\t\t\tcase \"justifyright\":\r\n\t\t\t\tcase \"delete\":\r\n\t\t\t\tcase \"selectall\":\r\n\t\t\t\tcase \"toggledir\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(mozilla | ie | webkit | opera);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"createlink\":\r\n\t\t\t\tcase \"unlink\":\r\n\t\t\t\tcase \"removeformat\":\r\n\t\t\t\tcase \"inserthorizontalrule\":\r\n\t\t\t\tcase \"insertimage\":\r\n\t\t\t\tcase \"insertorderedlist\":\r\n\t\t\t\tcase \"insertunorderedlist\":\r\n\t\t\t\tcase \"indent\":\r\n\t\t\t\tcase \"outdent\":\r\n\t\t\t\tcase \"formatblock\":\r\n\t\t\t\tcase \"inserthtml\":\r\n\t\t\t\tcase \"undo\":\r\n\t\t\t\tcase \"redo\":\r\n\t\t\t\tcase \"strikethrough\":\r\n\t\t\t\tcase \"tabindent\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(mozilla | ie | opera | webkit);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"blockdirltr\":\r\n\t\t\t\tcase \"blockdirrtl\":\r\n\t\t\t\tcase \"dirltr\":\r\n\t\t\t\tcase \"dirrtl\":\r\n\t\t\t\tcase \"inlinedirltr\":\r\n\t\t\t\tcase \"inlinedirrtl\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(ie);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cut\":\r\n\t\t\t\tcase \"copy\":\r\n\t\t\t\tcase \"paste\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(ie | mozilla | webkit | opera);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"inserttable\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(mozilla | ie);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"insertcell\":\r\n\t\t\t\tcase \"insertcol\":\r\n\t\t\t\tcase \"insertrow\":\r\n\t\t\t\tcase \"deletecells\":\r\n\t\t\t\tcase \"deletecols\":\r\n\t\t\t\tcase \"deleterows\":\r\n\t\t\t\tcase \"mergecells\":\r\n\t\t\t\tcase \"splitcell\":\r\n\t\t\t\t\tsupportedBy = isSupportedBy(ie | mozilla);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn ((has(\"ie\") || has(\"trident\")) && supportedBy.ie) ||\r\n\t\t\t\t(has(\"mozilla\") && supportedBy.mozilla) ||\r\n\t\t\t\t(has(\"webkit\") && supportedBy.webkit) ||\r\n\t\t\t\t(has(\"opera\") && supportedBy.opera);\t// Boolean return true if the command is supported, false otherwise\r\n\t\t},\r\n\r\n\t\texecCommand: function(/*String*/ command, argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tExecutes a command in the Rich Text area\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe command to execute\r\n\t\t\t// argument:\r\n\t\t\t//\t\tAn optional argument to the command\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar returnValue;\r\n\r\n\t\t\t//focus() is required for IE to work\r\n\t\t\t//In addition, focus() makes sure after the execution of\r\n\t\t\t//the command, the editor receives the focus as expected\r\n\t\t\tif(this.focused){\r\n\t\t\t\t// put focus back in the iframe, unless focus has somehow been shifted out of the editor completely\r\n\t\t\t\tthis.focus();\r\n\t\t\t}\r\n\r\n\t\t\tcommand = this._normalizeCommand(command, argument);\r\n\r\n\t\t\tif(argument !== undefined){\r\n\t\t\t\tif(command === \"heading\"){\r\n\t\t\t\t\tthrow new Error(\"unimplemented\");\r\n\t\t\t\t}else if(command === \"formatblock\" && (has(\"ie\") || has(\"trident\"))){\r\n\t\t\t\t\targument = '<' + argument + '>';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Check to see if we have any over-rides for commands, they will be functions on this\r\n\t\t\t//widget of the form _commandImpl.  If we don't, fall through to the basic native\r\n\t\t\t//exec command of the browser.\r\n\t\t\tvar implFunc = \"_\" + command + \"Impl\";\r\n\t\t\tif(this[implFunc]){\r\n\t\t\t\treturnValue = this[implFunc](argument);\r\n\t\t\t}else{\r\n\t\t\t\targument = arguments.length > 1 ? argument : null;\r\n\t\t\t\tif(argument || command !== \"createlink\"){\r\n\t\t\t\t\treturnValue = this.document.execCommand(command, false, argument);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.onDisplayChanged();\r\n\t\t\treturn returnValue;\r\n\t\t},\r\n\r\n\t\tqueryCommandEnabled: function(/*String*/ command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCheck whether a command is enabled or not.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe command to execute\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(this.disabled || !this._disabledOK){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tcommand = this._normalizeCommand(command);\r\n\r\n\t\t\t//Check to see if we have any over-rides for commands, they will be functions on this\r\n\t\t\t//widget of the form _commandEnabledImpl.  If we don't, fall through to the basic native\r\n\t\t\t//command of the browser.\r\n\t\t\tvar implFunc = \"_\" + command + \"EnabledImpl\";\r\n\r\n\t\t\tif(this[implFunc]){\r\n\t\t\t\treturn  this[implFunc](command);\r\n\t\t\t}else{\r\n\t\t\t\treturn this._browserQueryCommandEnabled(command);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tqueryCommandState: function(command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCheck the state of a given command and returns true or false.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.disabled || !this._disabledOK){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tcommand = this._normalizeCommand(command);\r\n\t\t\ttry{\r\n\t\t\t\treturn this.document.queryCommandState(command);\r\n\t\t\t}catch(e){\r\n\t\t\t\t//Squelch, occurs if editor is hidden on FF 3 (and maybe others.)\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tqueryCommandValue: function(command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCheck the value of a given command. This matters most for\r\n\t\t\t//\t\tcustom selections and complex values like font value setting.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.disabled || !this._disabledOK){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar r;\r\n\t\t\tcommand = this._normalizeCommand(command);\r\n\t\t\tif((has(\"ie\") || has(\"trident\")) && command === \"formatblock\"){\r\n\t\t\t\tr = this._native2LocalFormatNames[this.document.queryCommandValue(command)];\r\n\t\t\t}else if(has(\"mozilla\") && command === \"hilitecolor\"){\r\n\t\t\t\tvar oldValue;\r\n\t\t\t\ttry{\r\n\t\t\t\t\toldValue = this.document.queryCommandValue(\"styleWithCSS\");\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\toldValue = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.document.execCommand(\"styleWithCSS\", false, true);\r\n\t\t\t\tr = this.document.queryCommandValue(command);\r\n\t\t\t\tthis.document.execCommand(\"styleWithCSS\", false, oldValue);\r\n\t\t\t}else{\r\n\t\t\t\tr = this.document.queryCommandValue(command);\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\t// Misc.\r\n\r\n\t\t_sCall: function(name, args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated, remove for 2.0.   New code should access this.selection directly.\r\n\t\t\t//\t\tRun the named method of dijit/selection over the\r\n\t\t\t//\t\tcurrent editor instance's window, with the passed args.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate deprecated\r\n\r\n\t\t\treturn this.selection[name].apply(this.selection, args);\r\n\t\t},\r\n\r\n\t\t// FIXME: this is a TON of code duplication. Why?\r\n\r\n\t\tplaceCursorAtStart: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPlace the cursor at the start of the editing area.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.focus();\r\n\r\n\t\t\t//see comments in placeCursorAtEnd\r\n\t\t\tvar isvalid = false;\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t// TODO:  Is this branch even necessary?\r\n\t\t\t\tvar first = this.editNode.firstChild;\r\n\t\t\t\twhile(first){\r\n\t\t\t\t\tif(first.nodeType === 3){\r\n\t\t\t\t\t\tif(first.nodeValue.replace(/^\\s+|\\s+$/g, \"\").length > 0){\r\n\t\t\t\t\t\t\tisvalid = true;\r\n\t\t\t\t\t\t\tthis.selection.selectElement(first);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(first.nodeType === 1){\r\n\t\t\t\t\t\tisvalid = true;\r\n\t\t\t\t\t\tvar tg = first.tagName ? first.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\t// Collapse before childless tags.\r\n\t\t\t\t\t\tif(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){\r\n\t\t\t\t\t\t\tthis.selection.selectElement(first);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// Collapse inside tags with children.\r\n\t\t\t\t\t\t\tthis.selection.selectElementChildren(first);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirst = first.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tisvalid = true;\r\n\t\t\t\tthis.selection.selectElementChildren(this.editNode);\r\n\t\t\t}\r\n\t\t\tif(isvalid){\r\n\t\t\t\tthis.selection.collapse(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tplaceCursorAtEnd: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPlace the cursor at the end of the editing area.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.focus();\r\n\r\n\t\t\t//In mozilla, if last child is not a text node, we have to use\r\n\t\t\t// selectElementChildren on this.editNode.lastChild otherwise the\r\n\t\t\t// cursor would be placed at the end of the closing tag of\r\n\t\t\t//this.editNode.lastChild\r\n\t\t\tvar isvalid = false;\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\tvar last = this.editNode.lastChild;\r\n\t\t\t\twhile(last){\r\n\t\t\t\t\tif(last.nodeType === 3){\r\n\t\t\t\t\t\tif(last.nodeValue.replace(/^\\s+|\\s+$/g, \"\").length > 0){\r\n\t\t\t\t\t\t\tisvalid = true;\r\n\t\t\t\t\t\t\tthis.selection.selectElement(last);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(last.nodeType === 1){\r\n\t\t\t\t\t\tisvalid = true;\r\n\t\t\t\t\t\tthis.selection.selectElement(last.lastChild || last);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlast = last.previousSibling;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tisvalid = true;\r\n\t\t\t\tthis.selection.selectElementChildren(this.editNode);\r\n\t\t\t}\r\n\t\t\tif(isvalid){\r\n\t\t\t\tthis.selection.collapse(false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetValue: function(/*Boolean?*/ nonDestructive){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the current content of the editing area (post filters\r\n\t\t\t//\t\tare applied).  Users should call get('value') instead.\r\n\t\t\t// nonDestructive:\r\n\t\t\t//\t\tdefaults to false. Should the post-filtering be run over a copy\r\n\t\t\t//\t\tof the live DOM? Most users should pass \"true\" here unless they\r\n\t\t\t//\t\t*really* know that none of the installed filters are going to\r\n\t\t\t//\t\tmess up the editing session.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.textarea){\r\n\t\t\t\tif(this.isClosed || !this.isLoaded){\r\n\t\t\t\t\treturn this.textarea.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.isLoaded ? this._postFilterContent(null, nonDestructive) : this.value;\r\n\t\t},\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make attr(\"value\") work\r\n\t\t\treturn this.getValue(true);\r\n\t\t},\r\n\r\n\t\tsetValue: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function sets the content. No undo history is preserved.\r\n\t\t\t//\t\tUsers should use set('value', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\r\n\t\t\t// TODO: remove this and getValue() for 2.0, and move code to _setValueAttr()\r\n\r\n\t\t\tif(!this.isLoaded){\r\n\t\t\t\t// try again after the editor is finished loading\r\n\t\t\t\tthis.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\t\tthis.setValue(html);\r\n\t\t\t\t}));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.textarea && (this.isClosed || !this.isLoaded)){\r\n\t\t\t\tthis.textarea.value = html;\r\n\t\t\t}else{\r\n\t\t\t\thtml = this._preFilterContent(html);\r\n\t\t\t\tvar node = this.isClosed ? this.domNode : this.editNode;\r\n\r\n\t\t\t\tnode.innerHTML = html;\r\n\t\t\t\tthis._preDomFilterContent(node);\r\n\t\t\t}\r\n\r\n\t\t\tthis.onDisplayChanged();\r\n\t\t\tthis._set(\"value\", this.getValue(true));\r\n\t\t},\r\n\r\n\t\treplaceValue: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function set the content while trying to maintain the undo stack\r\n\t\t\t//\t\t(now only works fine with Moz, this is identical to setValue in all\r\n\t\t\t//\t\tother browsers)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.isClosed){\r\n\t\t\t\tthis.setValue(html);\r\n\t\t\t}else if(this.window && this.window.getSelection && !has(\"mozilla\")){ // Safari\r\n\t\t\t\t// look ma! it's a totally f'd browser!\r\n\t\t\t\tthis.setValue(html);\r\n\t\t\t}else if(this.window && this.window.getSelection){ // Moz\r\n\t\t\t\thtml = this._preFilterContent(html);\r\n\t\t\t\tthis.execCommand(\"selectall\");\r\n\t\t\t\tthis.execCommand(\"inserthtml\", html);\r\n\t\t\t\tthis._preDomFilterContent(this.editNode);\r\n\t\t\t}else if(this.document && this.document.selection){//IE\r\n\t\t\t\t//In IE, when the first element is not a text node, say\r\n\t\t\t\t//an <a> tag, when replacing the content of the editing\r\n\t\t\t\t//area, the <a> tag will be around all the content\r\n\t\t\t\t//so for now, use setValue for IE too\r\n\t\t\t\tthis.setValue(html);\r\n\t\t\t}\r\n\r\n\t\t\tthis._set(\"value\", this.getValue(true));\r\n\t\t},\r\n\r\n\t\t_preFilterContent: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFilter the input before setting the content of the editing\r\n\t\t\t//\t\tarea. DOM pre-filtering may happen after this\r\n\t\t\t//\t\tstring-based filtering takes place but as of 1.2, this is not\r\n\t\t\t//\t\tguaranteed for operations such as the inserthtml command.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar ec = html;\r\n\t\t\tarray.forEach(this.contentPreFilters, function(ef){\r\n\t\t\t\tif(ef){\r\n\t\t\t\t\tec = ef(ec);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ec;\r\n\t\t},\r\n\t\t_preDomFilterContent: function(/*DomNode*/ dom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tfilter the input's live DOM. All filter operations should be\r\n\t\t\t//\t\tconsidered to be \"live\" and operating on the DOM that the user\r\n\t\t\t//\t\twill be interacting with in their editing session.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tdom = dom || this.editNode;\r\n\t\t\tarray.forEach(this.contentDomPreFilters, function(ef){\r\n\t\t\t\tif(ef && lang.isFunction(ef)){\r\n\t\t\t\t\tef(dom);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_postFilterContent: function(/*DomNode|DomNode[]|String?*/ dom, /*Boolean?*/ nonDestructive){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tfilter the output after getting the content of the editing area\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tpost-filtering allows plug-ins and users to specify any number\r\n\t\t\t//\t\tof transforms over the editor's content, enabling many common\r\n\t\t\t//\t\tuse-cases such as transforming absolute to relative URLs (and\r\n\t\t\t//\t\tvice-versa), ensuring conformance with a particular DTD, etc.\r\n\t\t\t//\t\tThe filters are registered in the contentDomPostFilters and\r\n\t\t\t//\t\tcontentPostFilters arrays. Each item in the\r\n\t\t\t//\t\tcontentDomPostFilters array is a function which takes a DOM\r\n\t\t\t//\t\tNode or array of nodes as its only argument and returns the\r\n\t\t\t//\t\tsame. It is then passed down the chain for further filtering.\r\n\t\t\t//\t\tThe contentPostFilters array behaves the same way, except each\r\n\t\t\t//\t\tmember operates on strings. Together, the DOM and string-based\r\n\t\t\t//\t\tfiltering allow the full range of post-processing that should\r\n\t\t\t//\t\tbe necessaray to enable even the most agressive of post-editing\r\n\t\t\t//\t\tconversions to take place.\r\n\t\t\t//\r\n\t\t\t//\t\tIf nonDestructive is set to \"true\", the nodes are cloned before\r\n\t\t\t//\t\tfiltering proceeds to avoid potentially destructive transforms\r\n\t\t\t//\t\tto the content which may still needed to be edited further.\r\n\t\t\t//\t\tOnce DOM filtering has taken place, the serialized version of\r\n\t\t\t//\t\tthe DOM which is passed is run through each of the\r\n\t\t\t//\t\tcontentPostFilters functions.\r\n\t\t\t//\r\n\t\t\t// dom:\r\n\t\t\t//\t\ta node, set of nodes, which to filter using each of the current\r\n\t\t\t//\t\tmembers of the contentDomPostFilters and contentPostFilters arrays.\r\n\t\t\t//\r\n\t\t\t// nonDestructive:\r\n\t\t\t//\t\tdefaults to \"false\". If true, ensures that filtering happens on\r\n\t\t\t//\t\ta clone of the passed-in content and not the actual node\r\n\t\t\t//\t\titself.\r\n\t\t\t//\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar ec;\r\n\t\t\tif(!lang.isString(dom)){\r\n\t\t\t\tdom = dom || this.editNode;\r\n\t\t\t\tif(this.contentDomPostFilters.length){\r\n\t\t\t\t\tif(nonDestructive){\r\n\t\t\t\t\t\tdom = lang.clone(dom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarray.forEach(this.contentDomPostFilters, function(ef){\r\n\t\t\t\t\t\tdom = ef(dom);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tec = htmlapi.getChildrenHtml(dom);\r\n\t\t\t}else{\r\n\t\t\t\tec = dom;\r\n\t\t\t}\r\n\r\n\t\t\tif(!lang.trim(ec.replace(/^\\xA0\\xA0*/, '').replace(/\\xA0\\xA0*$/, '')).length){\r\n\t\t\t\tec = \"\";\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(this.contentPostFilters, function(ef){\r\n\t\t\t\tec = ef(ec);\r\n\t\t\t});\r\n\r\n\t\t\treturn ec;\r\n\t\t},\r\n\r\n\t\t_saveContent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSaves the content in an onunload event if the editor has not been closed\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar saveTextarea = dom.byId(dijit._scopeName + \"._editor.RichText.value\");\r\n\t\t\tif(saveTextarea){\r\n\t\t\t\tif(saveTextarea.value){\r\n\t\t\t\t\tsaveTextarea.value += this._SEPARATOR;\r\n\t\t\t\t}\r\n\t\t\t\tsaveTextarea.value += this.name + this._NAME_CONTENT_SEP + this.getValue(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tescapeXml: function(/*String*/ str, /*Boolean*/ noSingleQuotes){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds escape sequences for special characters in XML.\r\n\t\t\t//\t\tOptionally skips escapes for single quotes\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tstr = str.replace(/&/gm, \"&amp;\").replace(/</gm, \"&lt;\").replace(/>/gm, \"&gt;\").replace(/\"/gm, \"&quot;\");\r\n\t\t\tif(!noSingleQuotes){\r\n\t\t\t\tstr = str.replace(/'/gm, \"&#39;\");\r\n\t\t\t}\r\n\t\t\treturn str; // string\r\n\t\t},\r\n\r\n\t\tgetNodeHtml: function(/* DomNode */ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use dijit/_editor/html::_getNodeHtml() instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated('dijit.Editor::getNodeHtml is deprecated', 'use dijit/_editor/html::getNodeHtml instead', 2);\r\n\t\t\treturn htmlapi.getNodeHtml(node); // String\r\n\t\t},\r\n\r\n\t\tgetNodeChildrenHtml: function(/* DomNode */ dom){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use dijit/_editor/html::getChildrenHtml() instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated('dijit.Editor::getNodeChildrenHtml is deprecated', 'use dijit/_editor/html::getChildrenHtml instead', 2);\r\n\t\t\treturn htmlapi.getChildrenHtml(dom);\r\n\t\t},\r\n\r\n\t\tclose: function(/*Boolean?*/ save){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tKills the editor and optionally writes back the modified contents to the\r\n\t\t\t//\t\telement from which it originated.\r\n\t\t\t// save:\r\n\t\t\t//\t\tWhether or not to save the changes. If false, the changes are discarded.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.isClosed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(!arguments.length){\r\n\t\t\t\tsave = true;\r\n\t\t\t}\r\n\t\t\tif(save){\r\n\t\t\t\tthis._set(\"value\", this.getValue(true));\r\n\t\t\t}\r\n\r\n\t\t\t// line height is squashed for iframes\r\n\t\t\t// FIXME: why was this here? if(this.iframe){ this.domNode.style.lineHeight = null; }\r\n\r\n\t\t\tif(this.interval){\r\n\t\t\t\tclearInterval(this.interval);\r\n\t\t\t}\r\n\r\n\t\t\tif(this._webkitListener){\r\n\t\t\t\t// Cleanup of WebKit fix: #9532\r\n\t\t\t\tthis._webkitListener.remove();\r\n\t\t\t\tdelete this._webkitListener;\r\n\t\t\t}\r\n\r\n\t\t\t// Guard against memory leaks on IE (see #9268)\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\tthis.iframe.onfocus = null;\r\n\t\t\t}\r\n\t\t\tthis.iframe._loadFunc = null;\r\n\r\n\t\t\tif(this._iframeRegHandle){\r\n\t\t\t\tthis._iframeRegHandle.remove();\r\n\t\t\t\tdelete this._iframeRegHandle;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.textarea){\r\n\t\t\t\tvar s = this.textarea.style;\r\n\t\t\t\ts.position = \"\";\r\n\t\t\t\ts.left = s.top = \"\";\r\n\t\t\t\tif(has(\"ie\")){\r\n\t\t\t\t\ts.overflow = this.__overflow;\r\n\t\t\t\t\tthis.__overflow = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.textarea.value = this.value;\r\n\t\t\t\tdomConstruct.destroy(this.domNode);\r\n\t\t\t\tthis.domNode = this.textarea;\r\n\t\t\t}else{\r\n\t\t\t\t// Note that this destroys the iframe\r\n\t\t\t\tthis.domNode.innerHTML = this.value;\r\n\t\t\t}\r\n\t\t\tdelete this.iframe;\r\n\r\n\t\t\tdomClass.remove(this.domNode, this.baseClass);\r\n\t\t\tthis.isClosed = true;\r\n\t\t\tthis.isLoaded = false;\r\n\r\n\t\t\tdelete this.editNode;\r\n\t\t\tdelete this.focusNode;\r\n\r\n\t\t\tif(this.window && this.window._frameElement){\r\n\t\t\t\tthis.window._frameElement = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.window = null;\r\n\t\t\tthis.document = null;\r\n\t\t\tthis.editingArea = null;\r\n\t\t\tthis.editorObject = null;\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(!this.isClosed){\r\n\t\t\t\tthis.close(false);\r\n\t\t\t}\r\n\t\t\tif(this._updateTimer){\r\n\t\t\t\tthis._updateTimer.remove();\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(RichText._globalSaveHandler){\r\n\t\t\t\tdelete RichText._globalSaveHandler[this.id];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_removeMozBogus: function(/* String */ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPost filter to remove unwanted HTML attributes generated by mozilla\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn html.replace(/\\stype=\"_moz\"/gi, '').replace(/\\s_moz_dirty=\"\"/gi, '').replace(/_moz_resizing=\"(true|false)\"/gi, ''); // String\r\n\t\t},\r\n\t\t_removeWebkitBogus: function(/* String */ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPost filter to remove unwanted HTML attributes generated by webkit\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\thtml = html.replace(/\\sclass=\"webkit-block-placeholder\"/gi, '');\r\n\t\t\thtml = html.replace(/\\sclass=\"apple-style-span\"/gi, '');\r\n\t\t\t// For some reason copy/paste sometime adds extra meta tags for charset on\r\n\t\t\t// webkit (chrome) on mac.They need to be removed.  See: #12007\"\r\n\t\t\thtml = html.replace(/<meta charset=\\\"utf-8\\\" \\/>/gi, '');\r\n\t\t\treturn html; // String\r\n\t\t},\r\n\t\t_normalizeFontStyle: function(/* String */ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert 'strong' and 'em' to 'b' and 'i'.\r\n\t\t\t// description:\r\n\t\t\t//\t\tMoz can not handle strong/em tags correctly, so to help\r\n\t\t\t//\t\tmozilla and also to normalize output, convert them to 'b' and 'i'.\r\n\t\t\t//\r\n\t\t\t//\t\tNote the IE generates 'strong' and 'em' rather than 'b' and 'i'\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn html.replace(/<(\\/)?strong([ \\>])/gi, '<$1b$2')\r\n\t\t\t\t.replace(/<(\\/)?em([ \\>])/gi, '<$1i$2'); // String\r\n\t\t},\r\n\r\n\t\t_preFixUrlAttributes: function(/* String */ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPre-filter to do fixing to href attributes on `<a>` and `<img>` tags\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn html.replace(/(?:(<a(?=\\s).*?\\shref=)(\"|')(.*?)\\2)|(?:(<a\\s.*?href=)([^\"'][^ >]+))/gi,\r\n\t\t\t\t'$1$4$2$3$5$2 _djrealurl=$2$3$5$2')\r\n\t\t\t\t.replace(/(?:(<img(?=\\s).*?\\ssrc=)(\"|')(.*?)\\2)|(?:(<img\\s.*?src=)([^\"'][^ >]+))/gi,\r\n\t\t\t\t'$1$4$2$3$5$2 _djrealurl=$2$3$5$2'); // String\r\n\t\t},\r\n\r\n\t\t/*****************************************************************************\r\n\t\t The following functions implement HTML manipulation commands for various\r\n\t\t browser/contentEditable implementations.  The goal of them is to enforce\r\n\t\t standard behaviors of them.\r\n\t\t ******************************************************************************/\r\n\r\n\t\t/*** queryCommandEnabled implementations ***/\r\n\r\n\t\t_browserQueryCommandEnabled: function(command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tImplementation to call to the native queryCommandEnabled of the browser.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe command to check.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(!command){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar elem = has(\"ie\") < 9 ? this.document.selection.createRange() : this.document;\r\n\t\t\ttry{\r\n\t\t\t\treturn elem.queryCommandEnabled(command);\r\n\t\t\t}catch(e){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_createlinkEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the test for if the create link\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"opera\")){\r\n\t\t\t\tvar sel = this.window.getSelection();\r\n\t\t\t\tif(sel.isCollapsed){\r\n\t\t\t\t\tenabled = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tenabled = this.document.queryCommandEnabled(\"createlink\");\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"createlink\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t_unlinkEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the test for if the unlink\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"mozilla\") || has(\"webkit\")){\r\n\t\t\t\tenabled = this.selection.hasAncestorElement(\"a\");\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"unlink\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t_inserttableEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the test for if the inserttable\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"mozilla\") || has(\"webkit\")){\r\n\t\t\t\tenabled = true;\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"inserttable\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t_cutEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the test for if the cut\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t// WebKit deems clipboard activity as a security threat and natively would return false\r\n\t\t\t\tvar sel = this.window.getSelection();\r\n\t\t\t\tif(sel){\r\n\t\t\t\t\tsel = sel.toString();\r\n\t\t\t\t}\r\n\t\t\t\tenabled = !!sel;\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"cut\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t_copyEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the test for if the copy\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t// WebKit deems clipboard activity as a security threat and natively would return false\r\n\t\t\t\tvar sel = this.window.getSelection();\r\n\t\t\t\tif(sel){\r\n\t\t\t\t\tsel = sel.toString();\r\n\t\t\t\t}\r\n\t\t\t\tenabled = !!sel;\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"copy\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t_pasteEnabledImpl: function(/*===== argument =====*/){\r\n\t\t\t// summary:c\r\n\t\t\t//\t\tThis function implements the test for if the paste\r\n\t\t\t//\t\tcommand should be enabled or not.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar enabled = true;\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\tenabled = this._browserQueryCommandEnabled(\"paste\");\r\n\t\t\t}\r\n\t\t\treturn enabled;\r\n\t\t},\r\n\r\n\t\t/*** execCommand implementations ***/\r\n\r\n\t\t_inserthorizontalruleImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the insertion of HTML 'HR' tags.\r\n\t\t\t//\t\tinto a point on the page.  IE doesn't to it right, so\r\n\t\t\t//\t\twe have to use an alternate form\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\treturn this._inserthtmlImpl(\"<hr>\");\r\n\t\t\t}\r\n\t\t\treturn this.document.execCommand(\"inserthorizontalrule\", false, argument);\r\n\t\t},\r\n\r\n\t\t_unlinkImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the unlink of an 'a' tag.\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif((this.queryCommandEnabled(\"unlink\")) && (has(\"mozilla\") || has(\"webkit\"))){\r\n\t\t\t\tvar a = this.selection.getAncestorElement(\"a\");\r\n\t\t\t\tthis.selection.selectElement(a);\r\n\t\t\t\treturn this.document.execCommand(\"unlink\", false, null);\r\n\t\t\t}\r\n\t\t\treturn this.document.execCommand(\"unlink\", false, argument);\r\n\t\t},\r\n\r\n\t\t_hilitecolorImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the hilitecolor command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar returnValue;\r\n\t\t\tvar isApplied = this._handleTextColorOrProperties(\"hilitecolor\", argument);\r\n\t\t\tif(!isApplied){\r\n\t\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t\t// mozilla doesn't support hilitecolor properly when useCSS is\r\n\t\t\t\t\t// set to false (bugzilla #279330)\r\n\t\t\t\t\tthis.document.execCommand(\"styleWithCSS\", false, true);\r\n\t\t\t\t\tconsole.log(\"Executing color command.\");\r\n\t\t\t\t\treturnValue = this.document.execCommand(\"hilitecolor\", false, argument);\r\n\t\t\t\t\tthis.document.execCommand(\"styleWithCSS\", false, false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturnValue = this.document.execCommand(\"hilitecolor\", false, argument);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn returnValue;\r\n\t\t},\r\n\r\n\t\t_backcolorImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the backcolor command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// Tested under IE 6 XP2, no problem here, comment out\r\n\t\t\t\t// IE weirdly collapses ranges when we exec these commands, so prevent it\r\n\t\t\t\t//\tvar tr = this.document.selection.createRange();\r\n\t\t\t\targument = argument ? argument : null;\r\n\t\t\t}\r\n\t\t\tvar isApplied = this._handleTextColorOrProperties(\"backcolor\", argument);\r\n\t\t\tif(!isApplied){\r\n\t\t\t\tisApplied = this.document.execCommand(\"backcolor\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn isApplied;\r\n\t\t},\r\n\r\n\t\t_forecolorImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the forecolor command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// Tested under IE 6 XP2, no problem here, comment out\r\n\t\t\t\t// IE weirdly collapses ranges when we exec these commands, so prevent it\r\n\t\t\t\t//\tvar tr = this.document.selection.createRange();\r\n\t\t\t\targument = argument ? argument : null;\r\n\t\t\t}\r\n\t\t\tvar isApplied = false;\r\n\t\t\tisApplied = this._handleTextColorOrProperties(\"forecolor\", argument);\r\n\t\t\tif(!isApplied){\r\n\t\t\t\tisApplied = this.document.execCommand(\"forecolor\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn isApplied;\r\n\t\t},\r\n\r\n\t\t_inserthtmlImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the insertion of HTML content into\r\n\t\t\t//\t\ta point on the page.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tThe content to insert, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\targument = this._preFilterContent(argument);\r\n\t\t\tvar rv = true;\r\n\t\t\tif(has(\"ie\") < 9){\r\n\t\t\t\tvar insertRange = this.document.selection.createRange();\r\n\t\t\t\tif(this.document.selection.type.toUpperCase() === 'CONTROL'){\r\n\t\t\t\t\tvar n = insertRange.item(0);\r\n\t\t\t\t\twhile(insertRange.length){\r\n\t\t\t\t\t\tinsertRange.remove(insertRange.item(0));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.outerHTML = argument;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tinsertRange.pasteHTML(argument);\r\n\t\t\t\t}\r\n\t\t\t\tinsertRange.select();\r\n\t\t\t}else if(has(\"trident\") < 8){\r\n\t\t\t\tvar insertRange;\r\n\t\t\t\tvar selection = rangeapi.getSelection(this.window);\r\n\t\t\t\tif(selection && selection.rangeCount && selection.getRangeAt){\r\n\t\t\t\t\tinsertRange = selection.getRangeAt(0);\r\n\t\t\t\t\tinsertRange.deleteContents();\r\n\r\n\t\t\t\t\tvar div = domConstruct.create('div');\r\n\t\t\t\t\tdiv.innerHTML = argument;\r\n\t\t\t\t\tvar node, lastNode;\r\n\t\t\t\t\tvar n = this.document.createDocumentFragment();\r\n\t\t\t\t\twhile((node = div.firstChild)){\r\n\t\t\t\t\t\tlastNode = n.appendChild(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinsertRange.insertNode(n);\r\n\t\t\t\t\tif(lastNode) {\r\n\t\t\t\t\t\tinsertRange = insertRange.cloneRange();\r\n\t\t\t\t\t\tinsertRange.setStartAfter(lastNode);\r\n\t\t\t\t\t\tinsertRange.collapse(false);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(insertRange);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else if(has(\"mozilla\") && !argument.length){\r\n\t\t\t\t//mozilla can not inserthtml an empty html to delete current selection\r\n\t\t\t\t//so we delete the selection instead in this case\r\n\t\t\t\tthis.selection.remove(); // FIXME\r\n\t\t\t}else{\r\n\t\t\t\trv = this.document.execCommand(\"inserthtml\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn rv;\r\n\t\t},\r\n\r\n\t\t_boldImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the bold command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"bold\");\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"bold\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_italicImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the italic command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"italic\");\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"italic\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_underlineImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the underline command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"underline\");\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"underline\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_strikethroughImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the strikethrough command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"strikethrough\");\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"strikethrough\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_superscriptImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the superscript command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"superscript\");\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"superscript\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_subscriptImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements an over-ride of the superscript command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tNot used, operates by selection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis._adaptIESelection();\r\n\t\t\t\tapplied = this._adaptIEFormatAreaAndExec(\"subscript\");\r\n\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"subscript\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_fontnameImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the fontname command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar isApplied;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tisApplied = this._handleTextColorOrProperties(\"fontname\", argument);\r\n\t\t\t}\r\n\t\t\tif(!isApplied){\r\n\t\t\t\tisApplied = this.document.execCommand(\"fontname\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn isApplied;\r\n\t\t},\r\n\r\n\t\t_fontsizeImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the fontsize command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar isApplied;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tisApplied = this._handleTextColorOrProperties(\"fontsize\", argument);\r\n\t\t\t}\r\n\t\t\tif(!isApplied){\r\n\t\t\t\tisApplied = this.document.execCommand(\"fontsize\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn isApplied;\r\n\t\t},\r\n\r\n\t\t_insertorderedlistImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the insertorderedlist command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tapplied = this._adaptIEList(\"insertorderedlist\", argument);\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"insertorderedlist\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\t_insertunorderedlistImpl: function(argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function implements the insertunorderedlist command\r\n\t\t\t// argument:\r\n\t\t\t//\t\targuments to the exec command, if any.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar applied = false;\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tapplied = this._adaptIEList(\"insertunorderedlist\", argument);\r\n\t\t\t}\r\n\t\t\tif(!applied){\r\n\t\t\t\tapplied = this.document.execCommand(\"insertunorderedlist\", false, argument);\r\n\t\t\t}\r\n\t\t\treturn applied;\r\n\t\t},\r\n\r\n\t\tgetHeaderHeight: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA function for obtaining the height of the header node\r\n\t\t\treturn this._getNodeChildrenHeight(this.header); // Number\r\n\t\t},\r\n\r\n\t\tgetFooterHeight: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA function for obtaining the height of the footer node\r\n\t\t\treturn this._getNodeChildrenHeight(this.footer); // Number\r\n\t\t},\r\n\r\n\t\t_getNodeChildrenHeight: function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAn internal function for computing the cumulative height of all child nodes of 'node'\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to process the children of;\r\n\t\t\tvar h = 0;\r\n\t\t\tif(node && node.childNodes){\r\n\t\t\t\t// IE didn't compute it right when position was obtained on the node directly is some cases,\r\n\t\t\t\t// so we have to walk over all the children manually.\r\n\t\t\t\tvar i;\r\n\t\t\t\tfor(i = 0; i < node.childNodes.length; i++){\r\n\t\t\t\t\tvar size = domGeometry.position(node.childNodes[i]);\r\n\t\t\t\t\th += size.h;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn h; // Number\r\n\t\t},\r\n\r\n\t\t_isNodeEmpty: function(node, startOffset){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test if a node is devoid of real content.\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to check.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate.\r\n\t\t\tif(node.nodeType === 1/*element*/){\r\n\t\t\t\tif(node.childNodes.length > 0){\r\n\t\t\t\t\treturn this._isNodeEmpty(node.childNodes[0], startOffset);\t// huh?   why test just first child?\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}else if(node.nodeType === 3/*text*/){\r\n\t\t\t\treturn (node.nodeValue.substring(startOffset) === \"\");\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_removeStartingRangeFromRange: function(node, range){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to adjust selection range by removing the current\r\n\t\t\t//\t\tstart node.\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to remove from the starting range.\r\n\t\t\t// range:\r\n\t\t\t//\t\tThe range to adapt.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(node.nextSibling){\r\n\t\t\t\trange.setStart(node.nextSibling, 0);\r\n\t\t\t}else{\r\n\t\t\t\tvar parent = node.parentNode;\r\n\t\t\t\twhile(parent && parent.nextSibling == null){\r\n\t\t\t\t\t//move up the tree until we find a parent that has another node, that node will be the next node\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tif(parent){\r\n\t\t\t\t\trange.setStart(parent.nextSibling, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn range;\r\n\t\t},\r\n\r\n\t\t_adaptIESelection: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to adapt the IE range by removing leading 'newlines'\r\n\t\t\t//\t\tNeeded to fix issue with bold/italics/underline not working if\r\n\t\t\t//\t\trange included leading 'newlines'.\r\n\t\t\t//\t\tIn IE, if a user starts a selection at the very end of a line,\r\n\t\t\t//\t\tthen the native browser commands will fail to execute correctly.\r\n\t\t\t//\t\tTo work around the issue,  we can remove all empty nodes from\r\n\t\t\t//\t\tthe start of the range selection.\r\n\t\t\tvar selection = rangeapi.getSelection(this.window);\r\n\t\t\tif(selection && selection.rangeCount && !selection.isCollapsed){\r\n\t\t\t\tvar range = selection.getRangeAt(0);\r\n\t\t\t\tvar firstNode = range.startContainer;\r\n\t\t\t\tvar startOffset = range.startOffset;\r\n\r\n\t\t\t\twhile(firstNode.nodeType === 3/*text*/ && startOffset >= firstNode.length && firstNode.nextSibling){\r\n\t\t\t\t\t//traverse the text nodes until we get to the one that is actually highlighted\r\n\t\t\t\t\tstartOffset = startOffset - firstNode.length;\r\n\t\t\t\t\tfirstNode = firstNode.nextSibling;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Remove the starting ranges until the range does not start with an empty node.\r\n\t\t\t\tvar lastNode = null;\r\n\t\t\t\twhile(this._isNodeEmpty(firstNode, startOffset) && firstNode !== lastNode){\r\n\t\t\t\t\tlastNode = firstNode; //this will break the loop in case we can't find the next sibling\r\n\t\t\t\t\trange = this._removeStartingRangeFromRange(firstNode, range); //move the start container to the next node in the range\r\n\t\t\t\t\tfirstNode = range.startContainer;\r\n\t\t\t\t\tstartOffset = 0; //start at the beginning of the new starting range\r\n\t\t\t\t}\r\n\t\t\t\tselection.removeAllRanges();// this will work as long as users cannot select multiple ranges. I have not been able to do that in the editor.\r\n\t\t\t\tselection.addRange(range);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_adaptIEFormatAreaAndExec: function(command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to handle IE's quirkiness regarding how it handles\r\n\t\t\t//\t\tformat commands on a word.  This involves a lit of node splitting\r\n\t\t\t//\t\tand format cloning.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe format command, needed to check if the desired\r\n\t\t\t//\t\tcommand is true or not.\r\n\t\t\tvar selection = rangeapi.getSelection(this.window);\r\n\t\t\tvar doc = this.document;\r\n\t\t\tvar rs, ret, range, txt, startNode, endNode, breaker, sNode;\r\n\t\t\tif(command && selection && selection.isCollapsed){\r\n\t\t\t\tvar isApplied = this.queryCommandValue(command);\r\n\t\t\t\tif(isApplied){\r\n\r\n\t\t\t\t\t// We have to split backwards until we hit the format\r\n\t\t\t\t\tvar nNames = this._tagNamesForCommand(command);\r\n\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\tvar fs = range.startContainer;\r\n\t\t\t\t\tif(fs.nodeType === 3){\r\n\t\t\t\t\t\tvar offset = range.endOffset;\r\n\t\t\t\t\t\tif(fs.length < offset){\r\n\t\t\t\t\t\t\t//We are not looking from the right node, try to locate the correct one\r\n\t\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, offset);\r\n\t\t\t\t\t\t\tfs = ret.node;\r\n\t\t\t\t\t\t\toffset = ret.offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar topNode;\r\n\t\t\t\t\twhile(fs && fs !== this.editNode){\r\n\t\t\t\t\t\t// We have to walk back and see if this is still a format or not.\r\n\t\t\t\t\t\t// Hm, how do I do this?\r\n\t\t\t\t\t\tvar tName = fs.tagName ? fs.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\tif(array.indexOf(nNames, tName) > -1){\r\n\t\t\t\t\t\t\ttopNode = fs;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfs = fs.parentNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Okay, we have a stopping place, time to split things apart.\r\n\t\t\t\t\tif(topNode){\r\n\t\t\t\t\t\t// Okay, we know how far we have to split backwards, so we have to split now.\r\n\t\t\t\t\t\trs = range.startContainer;\r\n\t\t\t\t\t\tvar newblock = doc.createElement(topNode.tagName);\r\n\t\t\t\t\t\tdomConstruct.place(newblock, topNode, \"after\");\r\n\t\t\t\t\t\tif(rs && rs.nodeType === 3){\r\n\t\t\t\t\t\t\t// Text node, we have to split it.\r\n\t\t\t\t\t\t\tvar nodeToMove, tNode;\r\n\t\t\t\t\t\t\tvar endOffset = range.endOffset;\r\n\t\t\t\t\t\t\tif(rs.length < endOffset){\r\n\t\t\t\t\t\t\t\t//We are not splitting the right node, try to locate the correct one\r\n\t\t\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, endOffset);\r\n\t\t\t\t\t\t\t\trs = ret.node;\r\n\t\t\t\t\t\t\t\tendOffset = ret.offset;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttxt = rs.nodeValue;\r\n\t\t\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, endOffset));\r\n\t\t\t\t\t\t\tvar endText = txt.substring(endOffset, txt.length);\r\n\t\t\t\t\t\t\tif(endText){\r\n\t\t\t\t\t\t\t\tendNode = doc.createTextNode(endText);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Place the split, then remove original nodes.\r\n\t\t\t\t\t\t\tdomConstruct.place(startNode, rs, \"before\");\r\n\t\t\t\t\t\t\tif(endNode){\r\n\t\t\t\t\t\t\t\tbreaker = doc.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tbreaker.className = \"ieFormatBreakerSpan\";\r\n\t\t\t\t\t\t\t\tdomConstruct.place(breaker, rs, \"after\");\r\n\t\t\t\t\t\t\t\tdomConstruct.place(endNode, breaker, \"after\");\r\n\t\t\t\t\t\t\t\tendNode = breaker;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdomConstruct.destroy(rs);\r\n\r\n\t\t\t\t\t\t\t// Okay, we split the text.  Now we need to see if we're\r\n\t\t\t\t\t\t\t// parented to the block element we're splitting and if\r\n\t\t\t\t\t\t\t// not, we have to split all the way up.  Ugh.\r\n\t\t\t\t\t\t\tvar parentC = startNode.parentNode;\r\n\t\t\t\t\t\t\tvar tagList = [];\r\n\t\t\t\t\t\t\tvar tagData;\r\n\t\t\t\t\t\t\twhile(parentC !== topNode){\r\n\t\t\t\t\t\t\t\tvar tg = parentC.tagName;\r\n\t\t\t\t\t\t\t\ttagData = {tagName: tg};\r\n\t\t\t\t\t\t\t\ttagList.push(tagData);\r\n\r\n\t\t\t\t\t\t\t\tvar newTg = doc.createElement(tg);\r\n\t\t\t\t\t\t\t\t// Clone over any 'style' data.\r\n\t\t\t\t\t\t\t\tif(parentC.style){\r\n\t\t\t\t\t\t\t\t\tif(newTg.style){\r\n\t\t\t\t\t\t\t\t\t\tif(parentC.style.cssText){\r\n\t\t\t\t\t\t\t\t\t\t\tnewTg.style.cssText = parentC.style.cssText;\r\n\t\t\t\t\t\t\t\t\t\t\ttagData.cssText = parentC.style.cssText;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// If font also need to clone over any font data.\r\n\t\t\t\t\t\t\t\tif(parentC.tagName === \"FONT\"){\r\n\t\t\t\t\t\t\t\t\tif(parentC.color){\r\n\t\t\t\t\t\t\t\t\t\tnewTg.color = parentC.color;\r\n\t\t\t\t\t\t\t\t\t\ttagData.color = parentC.color;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(parentC.face){\r\n\t\t\t\t\t\t\t\t\t\tnewTg.face = parentC.face;\r\n\t\t\t\t\t\t\t\t\t\ttagData.face = parentC.face;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(parentC.size){  // this check was necessary on IE\r\n\t\t\t\t\t\t\t\t\t\tnewTg.size = parentC.size;\r\n\t\t\t\t\t\t\t\t\t\ttagData.size = parentC.size;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(parentC.className){\r\n\t\t\t\t\t\t\t\t\tnewTg.className = parentC.className;\r\n\t\t\t\t\t\t\t\t\ttagData.className = parentC.className;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Now move end node and every sibling\r\n\t\t\t\t\t\t\t\t// after it over into the new tag.\r\n\t\t\t\t\t\t\t\tif(endNode){\r\n\t\t\t\t\t\t\t\t\tnodeToMove = endNode;\r\n\t\t\t\t\t\t\t\t\twhile(nodeToMove){\r\n\t\t\t\t\t\t\t\t\t\ttNode = nodeToMove.nextSibling;\r\n\t\t\t\t\t\t\t\t\t\tnewTg.appendChild(nodeToMove);\r\n\t\t\t\t\t\t\t\t\t\tnodeToMove = tNode;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(newTg.tagName == parentC.tagName){\r\n\t\t\t\t\t\t\t\t\tbreaker = doc.createElement(\"span\");\r\n\t\t\t\t\t\t\t\t\tbreaker.className = \"ieFormatBreakerSpan\";\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(breaker, parentC, \"after\");\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(newTg, breaker, \"after\");\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(newTg, parentC, \"after\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstartNode = parentC;\r\n\t\t\t\t\t\t\t\tendNode = newTg;\r\n\t\t\t\t\t\t\t\tparentC = parentC.parentNode;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Lastly, move the split out all the split tags\r\n\t\t\t\t\t\t\t// to the new block as they should now be split properly.\r\n\t\t\t\t\t\t\tif(endNode){\r\n\t\t\t\t\t\t\t\tnodeToMove = endNode;\r\n\t\t\t\t\t\t\t\tif(nodeToMove.nodeType === 1 || (nodeToMove.nodeType === 3 && nodeToMove.nodeValue)){\r\n\t\t\t\t\t\t\t\t\t// Non-blank text and non-text nodes need to clear out that blank space\r\n\t\t\t\t\t\t\t\t\t// before moving the contents.\r\n\t\t\t\t\t\t\t\t\tnewblock.innerHTML = \"\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twhile(nodeToMove){\r\n\t\t\t\t\t\t\t\t\ttNode = nodeToMove.nextSibling;\r\n\t\t\t\t\t\t\t\t\tnewblock.appendChild(nodeToMove);\r\n\t\t\t\t\t\t\t\t\tnodeToMove = tNode;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// We had intermediate tags, we have to now recreate them inbetween the split\r\n\t\t\t\t\t\t\t// and restore what styles, classnames, etc, we can.\r\n\t\t\t\t\t\t\tvar newrange;\r\n\t\t\t\t\t\t\tif(tagList.length){\r\n\t\t\t\t\t\t\t\ttagData = tagList.pop();\r\n\t\t\t\t\t\t\t\tvar newContTag = doc.createElement(tagData.tagName);\r\n\t\t\t\t\t\t\t\tif(tagData.cssText && newContTag.style){\r\n\t\t\t\t\t\t\t\t\tnewContTag.style.cssText = tagData.cssText;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(tagData.className){\r\n\t\t\t\t\t\t\t\t\tnewContTag.className = tagData.className;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(tagData.tagName === \"FONT\"){\r\n\t\t\t\t\t\t\t\t\tif(tagData.color){\r\n\t\t\t\t\t\t\t\t\t\tnewContTag.color = tagData.color;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(tagData.face){\r\n\t\t\t\t\t\t\t\t\t\tnewContTag.face = tagData.face;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(tagData.size){\r\n\t\t\t\t\t\t\t\t\t\tnewContTag.size = tagData.size;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdomConstruct.place(newContTag, newblock, \"before\");\r\n\t\t\t\t\t\t\t\twhile(tagList.length){\r\n\t\t\t\t\t\t\t\t\ttagData = tagList.pop();\r\n\t\t\t\t\t\t\t\t\tvar newTgNode = doc.createElement(tagData.tagName);\r\n\t\t\t\t\t\t\t\t\tif(tagData.cssText && newTgNode.style){\r\n\t\t\t\t\t\t\t\t\t\tnewTgNode.style.cssText = tagData.cssText;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(tagData.className){\r\n\t\t\t\t\t\t\t\t\t\tnewTgNode.className = tagData.className;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(tagData.tagName === \"FONT\"){\r\n\t\t\t\t\t\t\t\t\t\tif(tagData.color){\r\n\t\t\t\t\t\t\t\t\t\t\tnewTgNode.color = tagData.color;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(tagData.face){\r\n\t\t\t\t\t\t\t\t\t\t\tnewTgNode.face = tagData.face;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(tagData.size){\r\n\t\t\t\t\t\t\t\t\t\t\tnewTgNode.size = tagData.size;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tnewContTag.appendChild(newTgNode);\r\n\t\t\t\t\t\t\t\t\tnewContTag = newTgNode;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Okay, everything is theoretically split apart and removed from the content\r\n\t\t\t\t\t\t\t\t// so insert the dummy text to select, select it, then\r\n\t\t\t\t\t\t\t\t// clear to position cursor.\r\n\t\t\t\t\t\t\t\tsNode = doc.createTextNode(\".\");\r\n\t\t\t\t\t\t\t\tbreaker.appendChild(sNode);\r\n\t\t\t\t\t\t\t\tnewContTag.appendChild(sNode);\r\n\t\t\t\t\t\t\t\tnewrange = rangeapi.create(this.window);\r\n\t\t\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\t\tthis.selection.collapse(false);\r\n\t\t\t\t\t\t\t\tsNode.parentNode.innerHTML = \"\";\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t// No extra tags, so we have to insert a breaker point and rely\r\n\t\t\t\t\t\t\t\t// on filters to remove it later.\r\n\t\t\t\t\t\t\t\tbreaker = doc.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tbreaker.className = \"ieFormatBreakerSpan\";\r\n\t\t\t\t\t\t\t\tsNode = doc.createTextNode(\".\");\r\n\t\t\t\t\t\t\t\tbreaker.appendChild(sNode);\r\n\t\t\t\t\t\t\t\tdomConstruct.place(breaker, newblock, \"before\");\r\n\t\t\t\t\t\t\t\tnewrange = rangeapi.create(this.window);\r\n\t\t\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\t\tthis.selection.collapse(false);\r\n\t\t\t\t\t\t\t\tsNode.parentNode.innerHTML = \"\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!newblock.firstChild){\r\n\t\t\t\t\t\t\t\t// Empty, we don't need it.  Split was at end or similar\r\n\t\t\t\t\t\t\t\t// So, remove it.\r\n\t\t\t\t\t\t\t\tdomConstruct.destroy(newblock);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\trs = range.startContainer;\r\n\t\t\t\t\tif(rs && rs.nodeType === 3){\r\n\t\t\t\t\t\t// Text node, we have to split it.\r\n\t\t\t\t\t\tvar offset = range.startOffset;\r\n\t\t\t\t\t\tif(rs.length < offset){\r\n\t\t\t\t\t\t\t//We are not splitting the right node, try to locate the correct one\r\n\t\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, offset);\r\n\t\t\t\t\t\t\trs = ret.node;\r\n\t\t\t\t\t\t\toffset = ret.offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttxt = rs.nodeValue;\r\n\t\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, offset));\r\n\t\t\t\t\t\tvar endText = txt.substring(offset);\r\n\t\t\t\t\t\tif(endText !== \"\"){\r\n\t\t\t\t\t\t\tendNode = doc.createTextNode(txt.substring(offset));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Create a space, we'll select and bold it, so\r\n\t\t\t\t\t\t// the whole word doesn't get bolded\r\n\t\t\t\t\t\tbreaker = doc.createElement(\"span\");\r\n\t\t\t\t\t\tsNode = doc.createTextNode(\".\");\r\n\t\t\t\t\t\tbreaker.appendChild(sNode);\r\n\t\t\t\t\t\tif(startNode.length){\r\n\t\t\t\t\t\t\tdomConstruct.place(startNode, rs, \"after\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tstartNode = rs;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdomConstruct.place(breaker, startNode, \"after\");\r\n\t\t\t\t\t\tif(endNode){\r\n\t\t\t\t\t\t\tdomConstruct.place(endNode, breaker, \"after\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdomConstruct.destroy(rs);\r\n\t\t\t\t\t\tvar newrange = rangeapi.create(this.window);\r\n\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\tdoc.execCommand(command);\r\n\t\t\t\t\t\tdomConstruct.place(breaker.firstChild, breaker, \"before\");\r\n\t\t\t\t\t\tdomConstruct.destroy(breaker);\r\n\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\tthis.selection.collapse(false);\r\n\t\t\t\t\t\tsNode.parentNode.innerHTML = \"\";\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_adaptIEList: function(command /*===== , argument =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function handles normalizing the IE list behavior as\r\n\t\t\t//\t\tmuch as possible.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe list command to execute.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tAny additional argument.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar selection = rangeapi.getSelection(this.window);\r\n\t\t\tif(selection.isCollapsed){\r\n\t\t\t\t// In the case of no selection, lets commonize the behavior and\r\n\t\t\t\t// make sure that it indents if needed.\r\n\t\t\t\tif(selection.rangeCount && !this.queryCommandValue(command)){\r\n\t\t\t\t\tvar range = selection.getRangeAt(0);\r\n\t\t\t\t\tvar sc = range.startContainer;\r\n\t\t\t\t\tif(sc && sc.nodeType == 3){\r\n\t\t\t\t\t\t// text node.  Lets see if there is a node before it that isn't\r\n\t\t\t\t\t\t// some sort of breaker.\r\n\t\t\t\t\t\tif(!range.startOffset){\r\n\t\t\t\t\t\t\t// We're at the beginning of a text area.  It may have been br split\r\n\t\t\t\t\t\t\t// Who knows?  In any event, we must create the list manually\r\n\t\t\t\t\t\t\t// or IE may shove too much into the list element.  It seems to\r\n\t\t\t\t\t\t\t// grab content before the text node too if it's br split.\r\n\t\t\t\t\t\t\t// Why can't IE work like everyone else?\r\n\r\n\t\t\t\t\t\t\t// Create a space, we'll select and bold it, so\r\n\t\t\t\t\t\t\t// the whole word doesn't get bolded\r\n\t\t\t\t\t\t\tvar lType = \"ul\";\r\n\t\t\t\t\t\t\tif(command === \"insertorderedlist\"){\r\n\t\t\t\t\t\t\t\tlType = \"ol\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar list = this.document.createElement(lType);\r\n\t\t\t\t\t\t\tvar li = domConstruct.create(\"li\", null, list);\r\n\t\t\t\t\t\t\tdomConstruct.place(list, sc, \"before\");\r\n\t\t\t\t\t\t\t// Move in the text node as part of the li.\r\n\t\t\t\t\t\t\tli.appendChild(sc);\r\n\t\t\t\t\t\t\t// We need a br after it or the enter key handler\r\n\t\t\t\t\t\t\t// sometimes throws errors.\r\n\t\t\t\t\t\t\tdomConstruct.create(\"br\", null, list, \"after\");\r\n\t\t\t\t\t\t\t// Okay, now lets move our cursor to the beginning.\r\n\t\t\t\t\t\t\tvar newrange = rangeapi.create(this.window);\r\n\t\t\t\t\t\t\tnewrange.setStart(sc, 0);\r\n\t\t\t\t\t\t\tnewrange.setEnd(sc, sc.length);\r\n\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\tthis.selection.collapse(true);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_handleTextColorOrProperties: function(command, argument){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function handles applying text color as best it is\r\n\t\t\t//\t\table to do so when the selection is collapsed, making the\r\n\t\t\t//\t\tbehavior cross-browser consistent. It also handles the name\r\n\t\t\t//\t\tand size for IE.\r\n\t\t\t// command:\r\n\t\t\t//\t\tThe command.\r\n\t\t\t// argument:\r\n\t\t\t//\t\tAny additional arguments.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar selection = rangeapi.getSelection(this.window);\r\n\t\t\tvar doc = this.document;\r\n\t\t\tvar rs, ret, range, txt, startNode, endNode, breaker, sNode;\r\n\t\t\targument = argument || null;\r\n\t\t\tif(command && selection && selection.isCollapsed){\r\n\t\t\t\tif(selection.rangeCount){\r\n\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\trs = range.startContainer;\r\n\t\t\t\t\tif(rs && rs.nodeType === 3){\r\n\t\t\t\t\t\t// Text node, we have to split it.\r\n\t\t\t\t\t\tvar offset = range.startOffset;\r\n\t\t\t\t\t\tif(rs.length < offset){\r\n\t\t\t\t\t\t\t//We are not splitting the right node, try to locate the correct one\r\n\t\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, offset);\r\n\t\t\t\t\t\t\trs = ret.node;\r\n\t\t\t\t\t\t\toffset = ret.offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttxt = rs.nodeValue;\r\n\t\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, offset));\r\n\t\t\t\t\t\tvar endText = txt.substring(offset);\r\n\t\t\t\t\t\tif(endText !== \"\"){\r\n\t\t\t\t\t\t\tendNode = doc.createTextNode(txt.substring(offset));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Create a space, we'll select and bold it, so\r\n\t\t\t\t\t\t// the whole word doesn't get bolded\r\n\t\t\t\t\t\tbreaker = doc.createElement(\"span\");\r\n\t\t\t\t\t\tsNode = doc.createTextNode(\".\");\r\n\t\t\t\t\t\tbreaker.appendChild(sNode);\r\n\t\t\t\t\t\t// Create a junk node to avoid it trying to style the breaker.\r\n\t\t\t\t\t\t// This will get destroyed later.\r\n\t\t\t\t\t\tvar extraSpan = doc.createElement(\"span\");\r\n\t\t\t\t\t\tbreaker.appendChild(extraSpan);\r\n\t\t\t\t\t\tif(startNode.length){\r\n\t\t\t\t\t\t\tdomConstruct.place(startNode, rs, \"after\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tstartNode = rs;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdomConstruct.place(breaker, startNode, \"after\");\r\n\t\t\t\t\t\tif(endNode){\r\n\t\t\t\t\t\t\tdomConstruct.place(endNode, breaker, \"after\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdomConstruct.destroy(rs);\r\n\t\t\t\t\t\tvar newrange = rangeapi.create(this.window);\r\n\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t\t\t\t// WebKit is frustrating with positioning the cursor.\r\n\t\t\t\t\t\t\t// It stinks to have a selected space, but there really\r\n\t\t\t\t\t\t\t// isn't much choice here.\r\n\t\t\t\t\t\t\tvar style = \"color\";\r\n\t\t\t\t\t\t\tif(command === \"hilitecolor\" || command === \"backcolor\"){\r\n\t\t\t\t\t\t\t\tstyle = \"backgroundColor\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdomStyle.set(breaker, style, argument);\r\n\t\t\t\t\t\t\tthis.selection.remove();\r\n\t\t\t\t\t\t\tdomConstruct.destroy(extraSpan);\r\n\t\t\t\t\t\t\tbreaker.innerHTML = \"&#160;\";\t// &nbsp;\r\n\t\t\t\t\t\t\tthis.selection.selectElement(breaker);\r\n\t\t\t\t\t\t\tthis.focus();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.execCommand(command, argument);\r\n\t\t\t\t\t\t\tdomConstruct.place(breaker.firstChild, breaker, \"before\");\r\n\t\t\t\t\t\t\tdomConstruct.destroy(breaker);\r\n\t\t\t\t\t\t\tnewrange.setStart(sNode, 0);\r\n\t\t\t\t\t\t\tnewrange.setEnd(sNode, sNode.length);\r\n\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\tthis.selection.collapse(false);\r\n\t\t\t\t\t\t\tsNode.parentNode.removeChild(sNode);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_adjustNodeAndOffset: function(/*DomNode*/node, /*Int*/offset){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIn the case there are multiple text nodes in a row the offset may not be within the node.\r\n\t\t\t//\t\tIf the offset is larger than the node length, it will attempt to find\r\n\t\t\t//\t\tthe next text sibling until it locates the text node in which the offset refers to\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to check.\r\n\t\t\t// offset:\r\n\t\t\t//\t\tThe position to find within the text node\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate.\r\n\t\t\twhile(node.length < offset && node.nextSibling && node.nextSibling.nodeType === 3){\r\n\t\t\t\t//Adjust the offset and node in the case of multiple text nodes in a row\r\n\t\t\t\toffset = offset - node.length;\r\n\t\t\t\tnode = node.nextSibling;\r\n\t\t\t}\r\n\t\t\treturn {\"node\": node, \"offset\": offset};\r\n\t\t},\r\n\r\n\t\t_tagNamesForCommand: function(command){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to return the tab names that are associated\r\n\t\t\t//\t\twith a particular style.\r\n\t\t\t// command: String\r\n\t\t\t//\t\tThe command to return tags for.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(command === \"bold\"){\r\n\t\t\t\treturn [\"b\", \"strong\"];\r\n\t\t\t}else if(command === \"italic\"){\r\n\t\t\t\treturn [\"i\", \"em\"];\r\n\t\t\t}else if(command === \"strikethrough\"){\r\n\t\t\t\treturn [\"s\", \"strike\"];\r\n\t\t\t}else if(command === \"superscript\"){\r\n\t\t\t\treturn [\"sup\"];\r\n\t\t\t}else if(command === \"subscript\"){\r\n\t\t\t\treturn [\"sub\"];\r\n\t\t\t}else if(command === \"underline\"){\r\n\t\t\t\treturn [\"u\"];\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\r\n\t\t_stripBreakerNodes: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction for stripping out the breaker spans inserted by the formatting command.\r\n\t\t\t//\t\tRegistered as a filter for IE, handles the breaker spans needed to fix up\r\n\t\t\t//\t\tHow bold/italic/etc, work when selection is collapsed (single cursor).\r\n\t\t\tif(!this.isLoaded){\r\n\t\t\t\treturn;\r\n\t\t\t} // this method requires init to be complete\r\n\t\t\tquery(\".ieFormatBreakerSpan\", node).forEach(function(b){\r\n\t\t\t\twhile(b.firstChild){\r\n\t\t\t\t\tdomConstruct.place(b.firstChild, b, \"before\");\r\n\t\t\t\t}\r\n\t\t\t\tdomConstruct.destroy(b);\r\n\t\t\t});\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t_stripTrailingEmptyNodes: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction for stripping trailing nodes without any text, excluding trailing nodes\r\n\t\t\t//\t\tlike <img> or <div><img></div>, even though they don't have text either.\r\n\r\n\t\t\tfunction isEmpty(node){\r\n\t\t\t\t// If not for old IE we could check for Element children by node.firstElementChild\r\n\t\t\t\treturn (/^(p|div|br)$/i.test(node.nodeName) && node.children.length == 0 &&\r\n\t\t\t\t\t/^[\\s\\xA0]*$/.test(node.textContent || node.innerText || \"\")) ||\r\n\t\t\t\t\t(node.nodeType === 3/*text*/ && /^[\\s\\xA0]*$/.test(node.nodeValue));\r\n\t\t\t}\r\n\t\t\twhile(node.lastChild && isEmpty(node.lastChild)){\r\n\t\t\t\tdomConstruct.destroy(node.lastChild);\r\n\t\t\t}\r\n\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t// Needed to support ToggleDir plugin.  Intentionally not inside if(has(\"dojo-bidi\")) block\r\n\t\t// so that (for backwards compatibility) ToggleDir plugin works even when has(\"dojo-bidi\") is falsy.\r\n\t\t_setTextDirAttr: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets textDir attribute.  Sets direction of editNode accordingly.\r\n\t\t\tthis._set(\"textDir\", value);\r\n\t\t\tthis.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\tthis.editNode.dir = value;\r\n\t\t\t}));\r\n\t\t}\r\n\t});\r\n\r\n\treturn RichText;\r\n});\r\n\ndefine('dijit/_editor/plugins/EnterKeyHandling',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.destroy domConstruct.place\r\n\t\"dojo/keys\", // keys.ENTER\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mozilla\") has(\"webkit\")\r\n\t\"dojo/_base/window\", // win.withGlobal\r\n\t\"dojo/window\", // winUtils.scrollIntoView\r\n\t\"../_Plugin\",\r\n\t\"../RichText\",\r\n\t\"../range\"\r\n], function(declare, domConstruct, keys, lang, on, has, win, winUtils, _Plugin, RichText, rangeapi){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/EnterKeyHandling\r\n\r\n\treturn declare(\"dijit._editor.plugins.EnterKeyHandling\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin tries to make all browsers behave consistently with regard to\r\n\t\t//\t\thow ENTER behaves in the editor window.  It traps the ENTER key and alters\r\n\t\t//\t\tthe way DOM is constructed in certain cases to try to commonize the generated\r\n\t\t//\t\tDOM and behaviors across browsers.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tThis plugin has three modes:\r\n\t\t//\r\n\t\t//\t\t- blockNodeForEnter=BR\r\n\t\t//\t\t- blockNodeForEnter=DIV\r\n\t\t//\t\t- blockNodeForEnter=P\r\n\t\t//\r\n\t\t//\t\tIn blockNodeForEnter=P, the ENTER key starts a new\r\n\t\t//\t\tparagraph, and shift-ENTER starts a new line in the current paragraph.\r\n\t\t//\t\tFor example, the input:\r\n\t\t//\r\n\t\t//\t|\tfirst paragraph <shift-ENTER>\r\n\t\t//\t|\tsecond line of first paragraph <ENTER>\r\n\t\t//\t|\tsecond paragraph\r\n\t\t//\r\n\t\t//\t\twill generate:\r\n\t\t//\r\n\t\t//\t|\t<p>\r\n\t\t//\t|\t\tfirst paragraph\r\n\t\t//\t|\t\t<br/>\r\n\t\t//\t|\t\tsecond line of first paragraph\r\n\t\t//\t|\t</p>\r\n\t\t//\t|\t<p>\r\n\t\t//\t|\t\tsecond paragraph\r\n\t\t//\t|\t</p>\r\n\t\t//\r\n\t\t//\t\tIn BR and DIV mode, the ENTER key conceptually goes to a new line in the\r\n\t\t//\t\tcurrent paragraph, and users conceptually create a new paragraph by pressing ENTER twice.\r\n\t\t//\t\tFor example, if the user enters text into an editor like this:\r\n\t\t//\r\n\t\t//\t|\t\tone <ENTER>\r\n\t\t//\t|\t\ttwo <ENTER>\r\n\t\t//\t|\t\tthree <ENTER>\r\n\t\t//\t|\t\t<ENTER>\r\n\t\t//\t|\t\tfour <ENTER>\r\n\t\t//\t|\t\tfive <ENTER>\r\n\t\t//\t|\t\tsix <ENTER>\r\n\t\t//\r\n\t\t//\t\tIt will appear on the screen as two 'paragraphs' of three lines each.  Markupwise, this generates:\r\n\t\t//\r\n\t\t//\t\tBR:\r\n\t\t//\t|\t\tone<br/>\r\n\t\t//\t|\t\ttwo<br/>\r\n\t\t//\t|\t\tthree<br/>\r\n\t\t//\t|\t\t<br/>\r\n\t\t//\t|\t\tfour<br/>\r\n\t\t//\t|\t\tfive<br/>\r\n\t\t//\t|\t\tsix<br/>\r\n\t\t//\r\n\t\t//\t\tDIV:\r\n\t\t//\t|\t\t<div>one</div>\r\n\t\t//\t|\t\t<div>two</div>\r\n\t\t//\t|\t\t<div>three</div>\r\n\t\t//\t|\t\t<div>&nbsp;</div>\r\n\t\t//\t|\t\t<div>four</div>\r\n\t\t//\t|\t\t<div>five</div>\r\n\t\t//\t|\t\t<div>six</div>\r\n\r\n\t\t// blockNodeForEnter: String\r\n\t\t//\t\tThis property decides the behavior of Enter key. It can be either P,\r\n\t\t//\t\tDIV, BR, or empty (which means disable this feature). Anything else\r\n\t\t//\t\twill trigger errors.  The default is 'BR'\r\n\t\t//\r\n\t\t//\t\tSee class description for more details.\r\n\t\tblockNodeForEnter: 'BR',\r\n\r\n\t\tconstructor: function(args){\r\n\t\t\tif(args){\r\n\t\t\t\tif(\"blockNodeForEnter\" in args){\r\n\t\t\t\t\targs.blockNodeForEnter = args.blockNodeForEnter.toUpperCase();\r\n\t\t\t\t}\r\n\t\t\t\tlang.mixin(this, args);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetEditor: function(editor){\r\n\t\t\t// Overrides _Plugin.setEditor().\r\n\t\t\tif(this.editor === editor){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.editor = editor;\r\n\t\t\tif(this.blockNodeForEnter == 'BR'){\r\n\t\t\t\t// While Moz has a mode tht mostly works, it's still a little different,\r\n\t\t\t\t// So, try to just have a common mode and be consistent.  Which means\r\n\t\t\t\t// we need to enable customUndo, if not already enabled.\r\n\t\t\t\tthis.editor.customUndo = true;\r\n\t\t\t\teditor.onLoadDeferred.then(lang.hitch(this, function(d){\r\n\t\t\t\t\tthis.own(on(editor.document, \"keydown\", lang.hitch(this, function(e){\r\n\t\t\t\t\t\tif(e.keyCode == keys.ENTER){\r\n\t\t\t\t\t\t\t// Just do it manually.  The handleEnterKey has a shift mode that\r\n\t\t\t\t\t\t\t// Always acts like <br>, so just use it.\r\n\t\t\t\t\t\t\tvar ne = lang.mixin({}, e);\r\n\t\t\t\t\t\t\tne.shiftKey = true;\r\n\t\t\t\t\t\t\tif(!this.handleEnterKey(ne)){\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})));\r\n\t\t\t\t\tif(has(\"ie\") >= 9 && has(\"ie\") <= 10){\r\n\t\t\t\t\t\tthis.own(on(editor.document, \"paste\", lang.hitch(this, function(e){\r\n\t\t\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\t\t// Use the old range/selection code to kick IE 9 into updating\r\n\t\t\t\t\t\t\t\t// its range by moving it back, then forward, one 'character'.\r\n\t\t\t\t\t\t\t\tvar r = this.editor.document.selection.createRange();\r\n\t\t\t\t\t\t\t\tr.move('character', -1);\r\n\t\t\t\t\t\t\t\tr.select();\r\n\t\t\t\t\t\t\t\tr.move('character', 1);\r\n\t\t\t\t\t\t\t\tr.select();\r\n\t\t\t\t\t\t\t}), 0);\r\n\t\t\t\t\t\t})));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}));\r\n\t\t\t}else if(this.blockNodeForEnter){\r\n\t\t\t\t// add enter key handler\r\n\t\t\t\tvar h = lang.hitch(this, \"handleEnterKey\");\r\n\t\t\t\teditor.addKeyHandler(13, 0, 0, h); //enter\r\n\t\t\t\teditor.addKeyHandler(13, 0, 1, h); //shift+enter\r\n\t\t\t\tthis.own(this.editor.on('KeyPressed', lang.hitch(this, 'onKeyPressed')));\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyPressed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for after the user has pressed a key, and the display has been updated.\r\n\t\t\t//\t\tConnected to RichText's onKeyPressed() method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._checkListLater){\r\n\t\t\t\tif(this.editor.selection.isCollapsed()){\r\n\t\t\t\t\tvar liparent = this.editor.selection.getAncestorElement('LI');\r\n\t\t\t\t\tif(!liparent){\r\n\t\t\t\t\t\t// circulate the undo detection code by calling RichText::execCommand directly\r\n\t\t\t\t\t\tRichText.prototype.execCommand.call(this.editor, 'formatblock', this.blockNodeForEnter);\r\n\t\t\t\t\t\t// set the innerHTML of the new block node\r\n\t\t\t\t\t\tvar block = this.editor.selection.getAncestorElement(this.blockNodeForEnter);\r\n\t\t\t\t\t\tif(block){\r\n\t\t\t\t\t\t\tblock.innerHTML = this.bogusHtmlContent;\r\n\t\t\t\t\t\t\tif(has(\"ie\") <= 9){\r\n\t\t\t\t\t\t\t\t// move to the start by moving backwards one char\r\n\t\t\t\t\t\t\t\tvar r = this.editor.document.selection.createRange();\r\n\t\t\t\t\t\t\t\tr.move('character', -1);\r\n\t\t\t\t\t\t\t\tr.select();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.error('onKeyPressed: Cannot find the new block node'); // FIXME\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t\t\t\tif(liparent.parentNode.parentNode.nodeName == 'LI'){\r\n\t\t\t\t\t\t\t\tliparent = liparent.parentNode.parentNode;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar fc = liparent.firstChild;\r\n\t\t\t\t\t\tif(fc && fc.nodeType == 1 && (fc.nodeName == 'UL' || fc.nodeName == 'OL')){\r\n\t\t\t\t\t\t\tliparent.insertBefore(fc.ownerDocument.createTextNode('\\xA0'), fc);\r\n\t\t\t\t\t\t\tvar newrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\t\tnewrange.setStart(liparent.firstChild, 0);\r\n\t\t\t\t\t\t\tvar selection = rangeapi.getSelection(this.editor.window, true);\r\n\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._checkListLater = false;\r\n\t\t\t}\r\n\t\t\tif(this._pressedEnterInBlock){\r\n\t\t\t\t// the new created is the original current P, so we have previousSibling below\r\n\t\t\t\tif(this._pressedEnterInBlock.previousSibling){\r\n\t\t\t\t\tthis.removeTrailingBr(this._pressedEnterInBlock.previousSibling);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._pressedEnterInBlock;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// bogusHtmlContent: [private] String\r\n\t\t//\t\tHTML to stick into a new empty block\r\n\t\tbogusHtmlContent: '&#160;', // &nbsp;\r\n\r\n\t\t// blockNodes: [private] Regex\r\n\t\t//\t\tRegex for testing if a given tag is a block level (display:block) tag\r\n\t\tblockNodes: /^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,\r\n\r\n\t\thandleEnterKey: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for enter key events when blockNodeForEnter is DIV or P.\r\n\t\t\t// description:\r\n\t\t\t//\t\tManually handle enter key event to make the behavior consistent across\r\n\t\t\t//\t\tall supported browsers. See class description for details.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar selection, range, newrange, startNode, endNode, brNode, doc = this.editor.document, br, rs, txt;\r\n\t\t\tif(e.shiftKey){        // shift+enter always generates <br>\r\n\t\t\t\tvar parent = this.editor.selection.getParentElement();\r\n\t\t\t\tvar header = rangeapi.getAncestor(parent, this.blockNodes);\r\n\t\t\t\tif(header){\r\n\t\t\t\t\tif(header.tagName == 'LI'){\r\n\t\t\t\t\t\treturn true; // let browser handle\r\n\t\t\t\t\t}\r\n\t\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\tif(!range.collapsed){\r\n\t\t\t\t\t\trange.deleteContents();\r\n\t\t\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(rangeapi.atBeginningOfContainer(header, range.startContainer, range.startOffset)){\r\n\t\t\t\t\t\tbr = doc.createElement('br');\r\n\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\theader.insertBefore(br, header.firstChild);\r\n\t\t\t\t\t\tnewrange.setStartAfter(br);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t}else if(rangeapi.atEndOfContainer(header, range.startContainer, range.startOffset)){\r\n\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\tbr = doc.createElement('br');\r\n\t\t\t\t\t\theader.appendChild(br);\r\n\t\t\t\t\t\theader.appendChild(doc.createTextNode('\\xA0'));\r\n\t\t\t\t\t\tnewrange.setStart(header.lastChild, 0);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\trs = range.startContainer;\r\n\t\t\t\t\t\tif(rs && rs.nodeType == 3){\r\n\t\t\t\t\t\t\t// Text node, we have to split it.\r\n\t\t\t\t\t\t\ttxt = rs.nodeValue;\r\n\t\t\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, range.startOffset));\r\n\t\t\t\t\t\t\tendNode = doc.createTextNode(txt.substring(range.startOffset));\r\n\t\t\t\t\t\t\tbrNode = doc.createElement(\"br\");\r\n\r\n\t\t\t\t\t\t\tif(endNode.nodeValue == \"\" && has(\"webkit\")){\r\n\t\t\t\t\t\t\t\tendNode = doc.createTextNode('\\xA0')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdomConstruct.place(startNode, rs, \"after\");\r\n\t\t\t\t\t\t\tdomConstruct.place(brNode, startNode, \"after\");\r\n\t\t\t\t\t\t\tdomConstruct.place(endNode, brNode, \"after\");\r\n\t\t\t\t\t\t\tdomConstruct.destroy(rs);\r\n\t\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\t\tnewrange.setStart(endNode, 0);\r\n\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true; // let browser handle\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\t\tif(selection.rangeCount){\r\n\t\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\t\tif(range && range.startContainer){\r\n\t\t\t\t\t\t\tif(!range.collapsed){\r\n\t\t\t\t\t\t\t\trange.deleteContents();\r\n\t\t\t\t\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\t\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trs = range.startContainer;\r\n\t\t\t\t\t\t\tif(rs && rs.nodeType == 3){\r\n\t\t\t\t\t\t\t\t// Text node, we have to split it.\r\n\r\n\t\t\t\t\t\t\t\tvar offset = range.startOffset;\r\n\t\t\t\t\t\t\t\tif(rs.length < offset){\r\n\t\t\t\t\t\t\t\t\t//We are not splitting the right node, try to locate the correct one\r\n\t\t\t\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, offset);\r\n\t\t\t\t\t\t\t\t\trs = ret.node;\r\n\t\t\t\t\t\t\t\t\toffset = ret.offset;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttxt = rs.nodeValue;\r\n\r\n\t\t\t\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, offset));\r\n\t\t\t\t\t\t\t\tendNode = doc.createTextNode(txt.substring(offset));\r\n\t\t\t\t\t\t\t\tbrNode = doc.createElement(\"br\");\r\n\r\n\t\t\t\t\t\t\t\tif(!endNode.length){\r\n\t\t\t\t\t\t\t\t\t// Create dummy text with a &nbsp to go after the BR, to prevent IE crash.\r\n\t\t\t\t\t\t\t\t\t// See https://bugs.dojotoolkit.org/ticket/12008 for details.\r\n\t\t\t\t\t\t\t\t\tendNode = doc.createTextNode('\\xA0');\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif(startNode.length){\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(startNode, rs, \"after\");\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tstartNode = rs;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdomConstruct.place(brNode, startNode, \"after\");\r\n\t\t\t\t\t\t\t\tdomConstruct.place(endNode, brNode, \"after\");\r\n\t\t\t\t\t\t\t\tdomConstruct.destroy(rs);\r\n\t\t\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\t\t\tnewrange.setStart(endNode, 0);\r\n\t\t\t\t\t\t\t\tnewrange.setEnd(endNode, endNode.length);\r\n\t\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\t\tthis.editor.selection.collapse(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tvar targetNode;\r\n\t\t\t\t\t\t\t\tif(range.startOffset >= 0){\r\n\t\t\t\t\t\t\t\t\ttargetNode = rs.childNodes[range.startOffset];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar brNode = doc.createElement(\"br\");\r\n\t\t\t\t\t\t\t\tvar endNode = doc.createTextNode('\\xA0');\r\n\t\t\t\t\t\t\t\tif(!targetNode){\r\n\t\t\t\t\t\t\t\t\trs.appendChild(brNode);\r\n\t\t\t\t\t\t\t\t\trs.appendChild(endNode);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(brNode, targetNode, \"before\");\r\n\t\t\t\t\t\t\t\t\tdomConstruct.place(endNode, brNode, \"after\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\t\t\tnewrange.setStart(endNode, 0);\r\n\t\t\t\t\t\t\t\tnewrange.setEnd(endNode, endNode.length);\r\n\t\t\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\t\t\tthis.editor.selection.collapse(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// \\xA0 dummy text node remains, but is stripped before get(\"value\")\r\n\t\t\t\t\t\t\t// by RichText._stripTrailingEmptyNodes().  Still, could we just use a plain\r\n\t\t\t\t\t\t\t// space (\" \") instead?\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// don't change this: do not call this.execCommand, as that may have other logic in subclass\r\n\t\t\t\t\t\tRichText.prototype.execCommand.call(this.editor, 'inserthtml', '<br>');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar _letBrowserHandle = true;\r\n\r\n\t\t\t// first remove selection\r\n\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\trange = selection.getRangeAt(0);\r\n\t\t\tif(!range.collapsed){\r\n\t\t\t\trange.deleteContents();\r\n\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t}\r\n\r\n\t\t\tvar block = rangeapi.getBlockAncestor(range.endContainer, null, this.editor.editNode);\r\n\t\t\tvar blockNode = block.blockNode;\r\n\r\n\t\t\t// if this is under a LI or the parent of the blockNode is LI, just let browser to handle it\r\n\t\t\tif((this._checkListLater = (blockNode && (blockNode.nodeName == 'LI' || blockNode.parentNode.nodeName == 'LI')))){\r\n\t\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t\t// press enter in middle of P may leave a trailing <br/>, let's remove it later\r\n\t\t\t\t\tthis._pressedEnterInBlock = blockNode;\r\n\t\t\t\t}\r\n\t\t\t\t// if this li only contains spaces, set the content to empty so the browser will outdent this item\r\n\t\t\t\tif(/^(\\s|&nbsp;|&#160;|\\xA0|<span\\b[^>]*\\bclass=['\"]Apple-style-span['\"][^>]*>(\\s|&nbsp;|&#160;|\\xA0)<\\/span>)?(<br>)?$/.test(blockNode.innerHTML)){\r\n\t\t\t\t\t// empty LI node\r\n\t\t\t\t\tblockNode.innerHTML = '';\r\n\t\t\t\t\tif(has(\"webkit\")){ // WebKit tosses the range when innerHTML is reset\r\n\t\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\t\tnewrange.setStart(blockNode, 0);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._checkListLater = false; // nothing to check since the browser handles outdent\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// text node directly under body, let's wrap them in a node\r\n\t\t\tif(!block.blockNode || block.blockNode === this.editor.editNode){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tRichText.prototype.execCommand.call(this.editor, 'formatblock', this.blockNodeForEnter);\r\n\t\t\t\t}catch(e2){ /*squelch FF3 exception bug when editor content is a single BR*/\r\n\t\t\t\t}\r\n\t\t\t\t// get the newly created block node\r\n\t\t\t\t// FIXME\r\n\t\t\t\tblock = {blockNode: this.editor.selection.getAncestorElement(this.blockNodeForEnter),\r\n\t\t\t\t\tblockContainer: this.editor.editNode};\r\n\t\t\t\tif(block.blockNode){\r\n\t\t\t\t\tif(block.blockNode != this.editor.editNode &&\r\n\t\t\t\t\t\t(!(block.blockNode.textContent || block.blockNode.innerHTML).replace(/^\\s+|\\s+$/g, \"\").length)){\r\n\t\t\t\t\t\tthis.removeTrailingBr(block.blockNode);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{    // we shouldn't be here if formatblock worked\r\n\t\t\t\t\tblock.blockNode = this.editor.editNode;\r\n\t\t\t\t}\r\n\t\t\t\tselection = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\trange = selection.getRangeAt(0);\r\n\t\t\t}\r\n\r\n\t\t\tvar newblock = doc.createElement(this.blockNodeForEnter);\r\n\t\t\tnewblock.innerHTML = this.bogusHtmlContent;\r\n\t\t\tthis.removeTrailingBr(block.blockNode);\r\n\t\t\tvar endOffset = range.endOffset;\r\n\t\t\tvar node = range.endContainer;\r\n\t\t\tif(node.length < endOffset){\r\n\t\t\t\t//We are not checking the right node, try to locate the correct one\r\n\t\t\t\tvar ret = this._adjustNodeAndOffset(node, endOffset);\r\n\t\t\t\tnode = ret.node;\r\n\t\t\t\tendOffset = ret.offset;\r\n\t\t\t}\r\n\t\t\tif(rangeapi.atEndOfContainer(block.blockNode, node, endOffset)){\r\n\t\t\t\tif(block.blockNode === block.blockContainer){\r\n\t\t\t\t\tblock.blockNode.appendChild(newblock);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomConstruct.place(newblock, block.blockNode, \"after\");\r\n\t\t\t\t}\r\n\t\t\t\t_letBrowserHandle = false;\r\n\t\t\t\t// lets move caret to the newly created block\r\n\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\tnewrange.setStart(newblock, 0);\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\tif(this.editor.height){\r\n\t\t\t\t\twinUtils.scrollIntoView(newblock);\r\n\t\t\t\t}\r\n\t\t\t}else if(rangeapi.atBeginningOfContainer(block.blockNode,\r\n\t\t\t\trange.startContainer, range.startOffset)){\r\n\t\t\t\tdomConstruct.place(newblock, block.blockNode, block.blockNode === block.blockContainer ? \"first\" : \"before\");\r\n\t\t\t\tif(newblock.nextSibling && this.editor.height){\r\n\t\t\t\t\t// position input caret - mostly WebKit needs this\r\n\t\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\t\tnewrange.setStart(newblock.nextSibling, 0);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t// browser does not scroll the caret position into view, do it manually\r\n\t\t\t\t\twinUtils.scrollIntoView(newblock.nextSibling);\r\n\t\t\t\t}\r\n\t\t\t\t_letBrowserHandle = false;\r\n\t\t\t}else{ //press enter in the middle of P/DIV/Whatever/\r\n\t\t\t\tif(block.blockNode === block.blockContainer){\r\n\t\t\t\t\tblock.blockNode.appendChild(newblock);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomConstruct.place(newblock, block.blockNode, \"after\");\r\n\t\t\t\t}\r\n\t\t\t\t_letBrowserHandle = false;\r\n\r\n\t\t\t\t// Clone any block level styles.\r\n\t\t\t\tif(block.blockNode.style){\r\n\t\t\t\t\tif(newblock.style){\r\n\t\t\t\t\t\tif(block.blockNode.style.cssText){\r\n\t\t\t\t\t\t\tnewblock.style.cssText = block.blockNode.style.cssText;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Okay, we probably have to split.\r\n\t\t\t\trs = range.startContainer;\r\n\t\t\t\tvar firstNodeMoved;\r\n\t\t\t\tif(rs && rs.nodeType == 3){\r\n\t\t\t\t\t// Text node, we have to split it.\r\n\t\t\t\t\tvar nodeToMove, tNode;\r\n\t\t\t\t\tendOffset = range.endOffset;\r\n\t\t\t\t\tif(rs.length < endOffset){\r\n\t\t\t\t\t\t//We are not splitting the right node, try to locate the correct one\r\n\t\t\t\t\t\tret = this._adjustNodeAndOffset(rs, endOffset);\r\n\t\t\t\t\t\trs = ret.node;\r\n\t\t\t\t\t\tendOffset = ret.offset;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttxt = rs.nodeValue;\r\n\t\t\t\t\tstartNode = doc.createTextNode(txt.substring(0, endOffset));\r\n\t\t\t\t\tendNode = doc.createTextNode(txt.substring(endOffset, txt.length));\r\n\r\n\t\t\t\t\t// Place the split, then remove original nodes.\r\n\t\t\t\t\tdomConstruct.place(startNode, rs, \"before\");\r\n\t\t\t\t\tdomConstruct.place(endNode, rs, \"after\");\r\n\t\t\t\t\tdomConstruct.destroy(rs);\r\n\r\n\t\t\t\t\t// Okay, we split the text.  Now we need to see if we're\r\n\t\t\t\t\t// parented to the block element we're splitting and if\r\n\t\t\t\t\t// not, we have to split all the way up.  Ugh.\r\n\t\t\t\t\tvar parentC = startNode.parentNode;\r\n\t\t\t\t\twhile(parentC !== block.blockNode){\r\n\t\t\t\t\t\tvar tg = parentC.tagName;\r\n\t\t\t\t\t\tvar newTg = doc.createElement(tg);\r\n\t\t\t\t\t\t// Clone over any 'style' data.\r\n\t\t\t\t\t\tif(parentC.style){\r\n\t\t\t\t\t\t\tif(newTg.style){\r\n\t\t\t\t\t\t\t\tif(parentC.style.cssText){\r\n\t\t\t\t\t\t\t\t\tnewTg.style.cssText = parentC.style.cssText;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// If font also need to clone over any font data.\r\n\t\t\t\t\t\tif(parentC.tagName === \"FONT\"){\r\n\t\t\t\t\t\t\tif(parentC.color){\r\n\t\t\t\t\t\t\t\tnewTg.color = parentC.color;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(parentC.face){\r\n\t\t\t\t\t\t\t\tnewTg.face = parentC.face;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(parentC.size){  // this check was necessary on IE\r\n\t\t\t\t\t\t\t\tnewTg.size = parentC.size;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tnodeToMove = endNode;\r\n\t\t\t\t\t\twhile(nodeToMove){\r\n\t\t\t\t\t\t\ttNode = nodeToMove.nextSibling;\r\n\t\t\t\t\t\t\tnewTg.appendChild(nodeToMove);\r\n\t\t\t\t\t\t\tnodeToMove = tNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdomConstruct.place(newTg, parentC, \"after\");\r\n\t\t\t\t\t\tstartNode = parentC;\r\n\t\t\t\t\t\tendNode = newTg;\r\n\t\t\t\t\t\tparentC = parentC.parentNode;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Lastly, move the split out tags to the new block.\r\n\t\t\t\t\t// as they should now be split properly.\r\n\t\t\t\t\tnodeToMove = endNode;\r\n\t\t\t\t\tif(nodeToMove.nodeType == 1 || (nodeToMove.nodeType == 3 && nodeToMove.nodeValue)){\r\n\t\t\t\t\t\t// Non-blank text and non-text nodes need to clear out that blank space\r\n\t\t\t\t\t\t// before moving the contents.\r\n\t\t\t\t\t\tnewblock.innerHTML = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirstNodeMoved = nodeToMove;\r\n\t\t\t\t\twhile(nodeToMove){\r\n\t\t\t\t\t\ttNode = nodeToMove.nextSibling;\r\n\t\t\t\t\t\tnewblock.appendChild(nodeToMove);\r\n\t\t\t\t\t\tnodeToMove = tNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//lets move caret to the newly created block\r\n\t\t\t\tnewrange = rangeapi.create(this.editor.window);\r\n\t\t\t\tvar nodeForCursor;\r\n\t\t\t\tvar innerMostFirstNodeMoved = firstNodeMoved;\r\n\t\t\t\tif(this.blockNodeForEnter !== 'BR'){\r\n\t\t\t\t\twhile(innerMostFirstNodeMoved){\r\n\t\t\t\t\t\tnodeForCursor = innerMostFirstNodeMoved;\r\n\t\t\t\t\t\ttNode = innerMostFirstNodeMoved.firstChild;\r\n\t\t\t\t\t\tinnerMostFirstNodeMoved = tNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(nodeForCursor && nodeForCursor.parentNode){\r\n\t\t\t\t\t\tnewblock = nodeForCursor.parentNode;\r\n\t\t\t\t\t\tnewrange.setStart(newblock, 0);\r\n\t\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\t\tif(this.editor.height){\r\n\t\t\t\t\t\t\twinUtils.scrollIntoView(newblock);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t\t\t\t// press enter in middle of P may leave a trailing <br/>, let's remove it later\r\n\t\t\t\t\t\t\tthis._pressedEnterInBlock = block.blockNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_letBrowserHandle = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnewrange.setStart(newblock, 0);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(newrange);\r\n\t\t\t\t\tif(this.editor.height){\r\n\t\t\t\t\t\twinUtils.scrollIntoView(newblock);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\t\t\t// press enter in middle of P may leave a trailing <br/>, let's remove it later\r\n\t\t\t\t\t\tthis._pressedEnterInBlock = block.blockNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _letBrowserHandle;\r\n\t\t},\r\n\r\n\t\t_adjustNodeAndOffset: function(/*DomNode*/node, /*Int*/offset){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIn the case there are multiple text nodes in a row the offset may not be within the node.  If the offset is larger than the node length, it will attempt to find\r\n\t\t\t//\t\tthe next text sibling until it locates the text node in which the offset refers to\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe node to check.\r\n\t\t\t// offset:\r\n\t\t\t//\t\tThe position to find within the text node\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate.\r\n\t\t\twhile(node.length < offset && node.nextSibling && node.nextSibling.nodeType == 3){\r\n\t\t\t\t//Adjust the offset and node in the case of multiple text nodes in a row\r\n\t\t\t\toffset = offset - node.length;\r\n\t\t\t\tnode = node.nextSibling;\r\n\t\t\t}\r\n\t\t\treturn {\"node\": node, \"offset\": offset};\r\n\t\t},\r\n\r\n\t\tremoveTrailingBr: function(container){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIf last child of container is a `<br>`, then remove it.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar para = /P|DIV|LI/i.test(container.tagName) ?\r\n\t\t\t\tcontainer : this.editor.selection.getParentOfType(container, ['P', 'DIV', 'LI']);\r\n\r\n\t\t\tif(!para){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(para.lastChild){\r\n\t\t\t\tif((para.childNodes.length > 1 && para.lastChild.nodeType == 3 && /^[\\s\\xAD]*$/.test(para.lastChild.nodeValue)) ||\r\n\t\t\t\t\tpara.lastChild.tagName == 'BR'){\r\n\r\n\t\t\t\t\tdomConstruct.destroy(para.lastChild);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!para.childNodes.length){\r\n\t\t\t\tpara.innerHTML = this.bogusHtmlContent;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n});\r\n\n\ndefine('dijit/Editor',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/Deferred\", // Deferred\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/dom-style\", // domStyle.set, get\r\n\t\"dojo/keys\", // keys.F1 keys.F15 keys.TAB\r\n\t\"dojo/_base/lang\", // lang.getObject lang.hitch\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mac\") has(\"webkit\")\r\n\t\"dojo/string\", // string.substitute\r\n\t\"dojo/topic\", // topic.publish()\r\n\t\"./_Container\",\r\n\t\"./Toolbar\",\r\n\t\"./ToolbarSeparator\",\r\n\t\"./layout/_LayoutWidget\",\r\n\t\"./form/ToggleButton\",\r\n\t\"./_editor/_Plugin\",\r\n\t\"./_editor/plugins/EnterKeyHandling\",\r\n\t\"./_editor/html\",\r\n\t\"./_editor/range\",\r\n\t\"./_editor/RichText\",\r\n\t\"./main\", // dijit._scopeName\r\n\t\"dojo/i18n!./_editor/nls/commands\"\r\n], function(require, array, declare, Deferred, i18n, domAttr, domClass, domGeometry, domStyle,\r\n\t\t\tkeys, lang, has, string, topic,\r\n\t\t\t_Container, Toolbar, ToolbarSeparator, _LayoutWidget, ToggleButton,\r\n\t\t\t_Plugin, EnterKeyHandling, html, rangeapi, RichText, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Editor\r\n\r\n\tvar Editor = declare(\"dijit.Editor\", RichText, {\r\n\t\t// summary:\r\n\t\t//\t\tA rich text Editing widget\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tThis widget provides basic WYSIWYG editing features, based on the browser's\r\n\t\t//\t\tunderlying rich text editing capability, accompanied by a toolbar (`dijit.Toolbar`).\r\n\t\t//\t\tA plugin model is available to extend the editor's capabilities as well as the\r\n\t\t//\t\tthe options available in the toolbar.  Content generation may vary across\r\n\t\t//\t\tbrowsers, and clipboard operations may have different results, to name\r\n\t\t//\t\ta few limitations.  Note: this widget should not be used with the HTML\r\n\t\t//\t\t&lt;TEXTAREA&gt; tag -- see dijit/_editor/RichText for details.\r\n\r\n\t\t// plugins: [const] Object[]\r\n\t\t//\t\tA list of plugin names (as strings) or instances (as objects)\r\n\t\t//\t\tfor this widget.\r\n\t\t//\r\n\t\t//\t\tWhen declared in markup, it might look like:\r\n\t\t//\t|\tplugins=\"['bold',{name:'dijit._editor.plugins.FontChoice', command:'fontName', generic:true}]\"\r\n\t\tplugins: null,\r\n\r\n\t\t// extraPlugins: [const] Object[]\r\n\t\t//\t\tA list of extra plugin names which will be appended to plugins array\r\n\t\textraPlugins: null,\r\n\r\n\t\tconstructor: function(/*===== params, srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tInitial settings for any of the attributes, except readonly attributes.\r\n\t\t\t// srcNodeRef: DOMNode\r\n\t\t\t//\t\tThe editor replaces the specified DOMNode.\r\n\r\n\t\t\tif(!lang.isArray(this.plugins)){\r\n\t\t\t\tthis.plugins = [\"undo\", \"redo\", \"|\", \"cut\", \"copy\", \"paste\", \"|\", \"bold\", \"italic\", \"underline\", \"strikethrough\", \"|\",\r\n\t\t\t\t\t\"insertOrderedList\", \"insertUnorderedList\", \"indent\", \"outdent\", \"|\", \"justifyLeft\", \"justifyRight\", \"justifyCenter\", \"justifyFull\",\r\n\t\t\t\t\tEnterKeyHandling /*, \"createLink\"*/];\r\n\t\t\t}\r\n\r\n\t\t\tthis._plugins = [];\r\n\t\t\tthis._editInterval = this.editActionInterval * 1000;\r\n\r\n\t\t\t//IE will always lose focus when other element gets focus, while for FF and safari,\r\n\t\t\t//when no iframe is used, focus will be lost whenever another element gets focus.\r\n\t\t\t//For IE, we can connect to onBeforeDeactivate, which will be called right before\r\n\t\t\t//the focus is lost, so we can obtain the selected range. For other browsers,\r\n\t\t\t//no equivalent of onBeforeDeactivate, so we need to do two things to make sure\r\n\t\t\t//selection is properly saved before focus is lost: 1) when user clicks another\r\n\t\t\t//element in the page, in which case we listen to mousedown on the entire page and\r\n\t\t\t//see whether user clicks out of a focus editor, if so, save selection (focus will\r\n\t\t\t//only lost after onmousedown event is fired, so we can obtain correct caret pos.)\r\n\t\t\t//2) when user tabs away from the editor, which is handled in onKeyDown below.\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\tthis.events.push(\"onBeforeDeactivate\");\r\n\t\t\t\tthis.events.push(\"onBeforeActivate\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\tExtension to make sure a deferred is in place before certain functions\r\n\t\t\t//\texecute, like making sure all the plugins are properly inserted.\r\n\r\n\t\t\t// Set up a deferred so that the value isn't applied to the editor\r\n\t\t\t// until all the plugins load, needed to avoid timing condition\r\n\t\t\t// reported in #10537.\r\n\t\t\tthis.setValueDeferred = new Deferred();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t//for custom undo/redo, if enabled.\r\n\t\t\tthis._steps = this._steps.slice(0);\r\n\t\t\tthis._undoedSteps = this._undoedSteps.slice(0);\r\n\r\n\t\t\tif(lang.isArray(this.extraPlugins)){\r\n\t\t\t\tthis.plugins = this.plugins.concat(this.extraPlugins);\r\n\t\t\t}\r\n\r\n\t\t\tthis.commands = i18n.getLocalization(\"dijit._editor\", \"commands\", this.lang);\r\n\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\t// Disable selecting the entire editor by inadvertent double-clicks.\r\n\t\t\t\t// on buttons, title bar, etc.  Otherwise clicking too fast on\r\n\t\t\t\t// a button such as undo/redo selects the entire editor.\r\n\t\t\t\tdomStyle.set(this.domNode, \"KhtmlUserSelect\", \"none\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(!this.toolbar){\r\n\t\t\t\t// if we haven't been assigned a toolbar, create one\r\n\t\t\t\tthis.toolbar = new Toolbar({\r\n\t\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\t\tdir: this.dir,\r\n\t\t\t\t\tlang: this.lang,\r\n\t\t\t\t\t\"aria-label\": this.id\r\n\t\t\t\t});\r\n\t\t\t\tthis.header.appendChild(this.toolbar.domNode);\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(this.plugins, this.addPlugin, this);\r\n\r\n\t\t\t// Okay, denote the value can now be set.\r\n\t\t\tthis.setValueDeferred.resolve(true);\r\n\r\n\t\t\tdomClass.add(this.iframe.parentNode, \"dijitEditorIFrameContainer\");\r\n\t\t\tdomClass.add(this.iframe, \"dijitEditorIFrame\");\r\n\t\t\tdomAttr.set(this.iframe, \"allowTransparency\", true);\r\n\r\n\t\t\tthis.toolbar.startup();\r\n\t\t\tthis.onNormalizedDisplayChanged(); //update toolbar button status\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tarray.forEach(this._plugins, function(p){\r\n\t\t\t\tif(p && p.destroy){\r\n\t\t\t\t\tp.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._plugins = [];\r\n\t\t\tthis.toolbar.destroyRecursive();\r\n\t\t\tdelete this.toolbar;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\t\taddPlugin: function(/*String||Object||Function*/ plugin, /*Integer?*/ index){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ttakes a plugin name as a string or a plugin instance and\r\n\t\t\t//\t\tadds it to the toolbar and associates it with this editor\r\n\t\t\t//\t\tinstance. The resulting plugin is added to the Editor's\r\n\t\t\t//\t\tplugins array. If index is passed, it's placed in the plugins\r\n\t\t\t//\t\tarray at that index. No big magic, but a nice helper for\r\n\t\t\t//\t\tpassing in plugin names via markup.\r\n\t\t\t// plugin:\r\n\t\t\t//\t\tString, args object, plugin instance, or plugin constructor\r\n\t\t\t// args:\r\n\t\t\t//\t\tThis object will be passed to the plugin constructor\r\n\t\t\t// index:\r\n\t\t\t//\t\tUsed when creating an instance from\r\n\t\t\t//\t\tsomething already in this.plugins. Ensures that the new\r\n\t\t\t//\t\tinstance is assigned to this.plugins at that index.\r\n\t\t\tvar args = lang.isString(plugin) ? {name: plugin} : lang.isFunction(plugin) ? {ctor: plugin} : plugin;\r\n\t\t\tif(!args.setEditor){\r\n\t\t\t\tvar o = {\"args\": args, \"plugin\": null, \"editor\": this};\r\n\t\t\t\tif(args.name){\r\n\t\t\t\t\t// search registry for a plugin factory matching args.name, if it's not there then\r\n\t\t\t\t\t// fallback to 1.0 API:\r\n\t\t\t\t\t// ask all loaded plugin modules to fill in o.plugin if they can (ie, if they implement args.name)\r\n\t\t\t\t\t// remove fallback for 2.0.\r\n\t\t\t\t\tif(_Plugin.registry[args.name]){\r\n\t\t\t\t\t\to.plugin = _Plugin.registry[args.name](args);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttopic.publish(dijit._scopeName + \".Editor.getPlugin\", o);\t// publish\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!o.plugin){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\t// TODO: remove lang.getObject() call in 2.0\r\n\t\t\t\t\t\tvar pc = args.ctor || lang.getObject(args.name) || require(args.name);\r\n\t\t\t\t\t\tif(pc){\r\n\t\t\t\t\t\t\to.plugin = new pc(args);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tthrow new Error(this.id + \": cannot find plugin [\" + args.name + \"]\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!o.plugin){\r\n\t\t\t\t\tthrow new Error(this.id + \": cannot find plugin [\" + args.name + \"]\");\r\n\t\t\t\t}\r\n\t\t\t\tplugin = o.plugin;\r\n\t\t\t}\r\n\t\t\tif(arguments.length > 1){\r\n\t\t\t\tthis._plugins[index] = plugin;\r\n\t\t\t}else{\r\n\t\t\t\tthis._plugins.push(plugin);\r\n\t\t\t}\r\n\t\t\tplugin.setEditor(this);\r\n\t\t\tif(lang.isFunction(plugin.setToolbar)){\r\n\t\t\t\tplugin.setToolbar(this.toolbar);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//the following 2 functions are required to make the editor play nice under a layout widget, see #4070\r\n\r\n\t\tresize: function(size){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResize the editor to the specified size, see `dijit/layout/_LayoutWidget.resize()`\r\n\t\t\tif(size){\r\n\t\t\t\t// we've been given a height/width for the entire editor (toolbar + contents), calls layout()\r\n\t\t\t\t// to split the allocated size between the toolbar and the contents\r\n\t\t\t\t_LayoutWidget.prototype.resize.apply(this, arguments);\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t else{\r\n\t\t\t // do nothing, the editor is already laid out correctly.   The user has probably specified\r\n\t\t\t // the height parameter, which was used to set a size on the iframe\r\n\t\t\t }\r\n\t\t\t */\r\n\t\t},\r\n\t\tlayout: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled from `dijit/layout/_LayoutWidget.resize()`.  This shouldn't be called directly\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Converts the iframe (or rather the <div> surrounding it) to take all the available space\r\n\t\t\t// except what's needed for the header (toolbars) and footer (breadcrumbs, etc).\r\n\t\t\t// A class was added to the iframe container and some themes style it, so we have to\r\n\t\t\t// calc off the added margins and padding too. See tracker: #10662\r\n\t\t\tvar areaHeight = (this._contentBox.h -\r\n\t\t\t\t(this.getHeaderHeight() + this.getFooterHeight() +\r\n\t\t\t\t\tdomGeometry.getPadBorderExtents(this.iframe.parentNode).h +\r\n\t\t\t\t\tdomGeometry.getMarginExtents(this.iframe.parentNode).h));\r\n\t\t\tthis.editingArea.style.height = areaHeight + \"px\";\r\n\t\t\tif(this.iframe){\r\n\t\t\t\tthis.iframe.style.height = \"100%\";\r\n\t\t\t}\r\n\t\t\tthis._layoutMode = true;\r\n\t\t},\r\n\r\n\t\t_onIEMouseDown: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIE only to prevent 2 clicks to focus\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar outsideClientArea;\r\n\t\t\t// IE 8's componentFromPoint is broken, which is a shame since it\r\n\t\t\t// was smaller code, but oh well.  We have to do this brute force\r\n\t\t\t// to detect if the click was scroller or not.\r\n\t\t\tvar b = this.document.body;\r\n\t\t\tvar clientWidth = b.clientWidth;\r\n\t\t\tvar clientHeight = b.clientHeight;\r\n\t\t\tvar clientLeft = b.clientLeft;\r\n\t\t\tvar offsetWidth = b.offsetWidth;\r\n\t\t\tvar offsetHeight = b.offsetHeight;\r\n\t\t\tvar offsetLeft = b.offsetLeft;\r\n\r\n\t\t\t//Check for vertical scroller click.\r\n\t\t\tif(/^rtl$/i.test(b.dir || \"\")){\r\n\t\t\t\tif(clientWidth < offsetWidth && e.x > clientWidth && e.x < offsetWidth){\r\n\t\t\t\t\t// Check the click was between width and offset width, if so, scroller\r\n\t\t\t\t\toutsideClientArea = true;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// RTL mode, we have to go by the left offsets.\r\n\t\t\t\tif(e.x < clientLeft && e.x > offsetLeft){\r\n\t\t\t\t\t// Check the click was between width and offset width, if so, scroller\r\n\t\t\t\t\toutsideClientArea = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!outsideClientArea){\r\n\t\t\t\t// Okay, might be horiz scroller, check that.\r\n\t\t\t\tif(clientHeight < offsetHeight && e.y > clientHeight && e.y < offsetHeight){\r\n\t\t\t\t\t// Horizontal scroller.\r\n\t\t\t\t\toutsideClientArea = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!outsideClientArea){\r\n\t\t\t\tdelete this._cursorToStart; // Remove the force to cursor to start position.\r\n\t\t\t\tdelete this._savedSelection; // new mouse position overrides old selection\r\n\t\t\t\tif(e.target.tagName == \"BODY\"){\r\n\t\t\t\t\tthis.defer(\"placeCursorAtEnd\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeActivate: function(){\r\n\t\t\tthis._restoreSelection();\r\n\t\t},\r\n\t\tonBeforeDeactivate: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled on IE right before focus is lost.   Saves the selected range.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.customUndo){\r\n\t\t\t\tthis.endEditing(true);\r\n\t\t\t}\r\n\t\t\t//in IE, the selection will be lost when other elements get focus,\r\n\t\t\t//let's save focus before the editor is deactivated\r\n\t\t\tif(e.target.tagName != \"BODY\"){\r\n\t\t\t\tthis._saveSelection();\r\n\t\t\t}\r\n\t\t\t//console.log('onBeforeDeactivate',this);\r\n\t\t},\r\n\r\n\t\t/* beginning of custom undo/redo support */\r\n\r\n\t\t// customUndo: Boolean\r\n\t\t//\t\tWhether we shall use custom undo/redo support instead of the native\r\n\t\t//\t\tbrowser support. By default, we now use custom undo.  It works better\r\n\t\t//\t\tthan native browser support and provides a consistent behavior across\r\n\t\t//\t\tbrowsers with a minimal performance hit.  We already had the hit on\r\n\t\t//\t\tthe slowest browser, IE, anyway.\r\n\t\tcustomUndo: true,\r\n\r\n\t\t// editActionInterval: Integer\r\n\t\t//\t\tWhen using customUndo, not every keystroke will be saved as a step.\r\n\t\t//\t\tInstead typing (including delete) will be grouped together: after\r\n\t\t//\t\ta user stops typing for editActionInterval seconds, a step will be\r\n\t\t//\t\tsaved; if a user resume typing within editActionInterval seconds,\r\n\t\t//\t\tthe timeout will be restarted. By default, editActionInterval is 3\r\n\t\t//\t\tseconds.\r\n\t\teditActionInterval: 3,\r\n\r\n\t\tbeginEditing: function(cmd){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled to note that the user has started typing alphanumeric characters, if it's not already noted.\r\n\t\t\t//\t\tDeals with saving undo; see editActionInterval parameter.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!this._inEditing){\r\n\t\t\t\tthis._inEditing = true;\r\n\t\t\t\tthis._beginEditing(cmd);\r\n\t\t\t}\r\n\t\t\tif(this.editActionInterval > 0){\r\n\t\t\t\tif(this._editTimer){\r\n\t\t\t\t\tthis._editTimer.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis._editTimer = this.defer(\"endEditing\", this._editInterval);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// TODO: declaring these in the prototype is meaningless, just create in the constructor/postCreate\r\n\t\t_steps: [],\r\n\t\t_undoedSteps: [],\r\n\r\n\t\texecCommand: function(cmd){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMain handler for executing any commands to the editor, like paste, bold, etc.\r\n\t\t\t//\t\tCalled by plugins, but not meant to be called by end users.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(this.customUndo && (cmd == 'undo' || cmd == 'redo')){\r\n\t\t\t\treturn this[cmd]();\r\n\t\t\t}else{\r\n\t\t\t\tif(this.customUndo){\r\n\t\t\t\t\tthis.endEditing();\r\n\t\t\t\t\tthis._beginEditing();\r\n\t\t\t\t}\r\n\t\t\t\tvar r = this.inherited(arguments);\r\n\t\t\t\tif(this.customUndo){\r\n\t\t\t\t\tthis._endEditing();\r\n\t\t\t\t}\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_pasteImpl: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride of paste command control to make execCommand cleaner\r\n\t\t\t// tags:\r\n\t\t\t//\t\tProtected\r\n\t\t\treturn this._clipboardCommand(\"paste\");\r\n\t\t},\r\n\r\n\t\t_cutImpl: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride of cut command control to make execCommand cleaner\r\n\t\t\t// tags:\r\n\t\t\t//\t\tProtected\r\n\t\t\treturn this._clipboardCommand(\"cut\");\r\n\t\t},\r\n\r\n\t\t_copyImpl: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride of copy command control to make execCommand cleaner\r\n\t\t\t// tags:\r\n\t\t\t//\t\tProtected\r\n\t\t\treturn this._clipboardCommand(\"copy\");\r\n\t\t},\r\n\r\n\t\t_clipboardCommand: function(cmd){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to handle processing clipboard commands (or at least try to).\r\n\t\t\t// tags:\r\n\t\t\t//\t\tPrivate\r\n\t\t\tvar r;\r\n\t\t\ttry{\r\n\t\t\t\t// Try to exec the superclass exec-command and see if it works.\r\n\t\t\t\tr = this.document.execCommand(cmd, false, null);\r\n\t\t\t\tif(has(\"webkit\") && !r){ //see #4598: webkit does not guarantee clipboard support from js\r\n\t\t\t\t\tthrow { code: 1011 }; // throw an object like Mozilla's error\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\t//TODO: when else might we get an exception?  Do we need the Mozilla test below?\r\n\t\t\t\tif(e.code == 1011 /* Mozilla: service denied */ ||\r\n\t\t\t\t\t(e.code == 9 && has(\"opera\") /* Opera not supported */)){\r\n\t\t\t\t\t// Warn user of platform limitation.  Cannot programmatically access clipboard. See ticket #4136\r\n\t\t\t\t\tvar sub = string.substitute,\r\n\t\t\t\t\t\taccel = {cut: 'X', copy: 'C', paste: 'V'};\r\n\t\t\t\t\talert(sub(this.commands.systemShortcut,\r\n\t\t\t\t\t\t[this.commands[cmd], sub(this.commands[has(\"mac\") ? 'appleKey' : 'ctrlKey'], [accel[cmd]])]));\r\n\t\t\t\t}\r\n\t\t\t\tr = false;\r\n\t\t\t}\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\tqueryCommandEnabled: function(cmd){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if specified editor command is enabled.\r\n\t\t\t//\t\tUsed by the plugins to know when to highlight/not highlight buttons.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(this.customUndo && (cmd == 'undo' || cmd == 'redo')){\r\n\t\t\t\treturn cmd == 'undo' ? (this._steps.length > 1) : (this._undoedSteps.length > 0);\r\n\t\t\t}else{\r\n\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_moveToBookmark: function(b){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelects the text specified in bookmark b\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar bookmark = b.mark;\r\n\t\t\tvar mark = b.mark;\r\n\t\t\tvar col = b.isCollapsed;\r\n\t\t\tvar r, sNode, eNode, sel;\r\n\t\t\tif(mark){\r\n\t\t\t\tif(has(\"ie\") < 9 || (has(\"ie\") === 9 && has(\"quirks\"))){\r\n\t\t\t\t\tif(lang.isArray(mark)){\r\n\t\t\t\t\t\t// IE CONTROL, have to use the native bookmark.\r\n\t\t\t\t\t\tbookmark = [];\r\n\t\t\t\t\t\tarray.forEach(mark, function(n){\r\n\t\t\t\t\t\t\tbookmark.push(rangeapi.getNode(n, this.editNode));\r\n\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\tthis.selection.moveToBookmark({mark: bookmark, isCollapsed: col});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(mark.startContainer && mark.endContainer){\r\n\t\t\t\t\t\t\t// Use the pseudo WC3 range API.  This works better for positions\r\n\t\t\t\t\t\t\t// than the IE native bookmark code.\r\n\t\t\t\t\t\t\tsel = rangeapi.getSelection(this.window);\r\n\t\t\t\t\t\t\tif(sel && sel.removeAllRanges){\r\n\t\t\t\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\t\t\t\tr = rangeapi.create(this.window);\r\n\t\t\t\t\t\t\t\tsNode = rangeapi.getNode(mark.startContainer, this.editNode);\r\n\t\t\t\t\t\t\t\teNode = rangeapi.getNode(mark.endContainer, this.editNode);\r\n\t\t\t\t\t\t\t\tif(sNode && eNode){\r\n\t\t\t\t\t\t\t\t\t// Okay, we believe we found the position, so add it into the selection\r\n\t\t\t\t\t\t\t\t\t// There are cases where it may not be found, particularly in undo/redo, when\r\n\t\t\t\t\t\t\t\t\t// IE changes the underlying DOM on us (wraps text in a <p> tag or similar.\r\n\t\t\t\t\t\t\t\t\t// So, in those cases, don't bother restoring selection.\r\n\t\t\t\t\t\t\t\t\tr.setStart(sNode, mark.startOffset);\r\n\t\t\t\t\t\t\t\t\tr.setEnd(eNode, mark.endOffset);\r\n\t\t\t\t\t\t\t\t\tsel.addRange(r);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{//w3c range\r\n\t\t\t\t\tsel = rangeapi.getSelection(this.window);\r\n\t\t\t\t\tif(sel && sel.removeAllRanges){\r\n\t\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\t\tr = rangeapi.create(this.window);\r\n\t\t\t\t\t\tsNode = rangeapi.getNode(mark.startContainer, this.editNode);\r\n\t\t\t\t\t\teNode = rangeapi.getNode(mark.endContainer, this.editNode);\r\n\t\t\t\t\t\tif(sNode && eNode){\r\n\t\t\t\t\t\t\t// Okay, we believe we found the position, so add it into the selection\r\n\t\t\t\t\t\t\t// There are cases where it may not be found, particularly in undo/redo, when\r\n\t\t\t\t\t\t\t// formatting as been done and so on, so don't restore selection then.\r\n\t\t\t\t\t\t\tr.setStart(sNode, mark.startOffset);\r\n\t\t\t\t\t\t\tr.setEnd(eNode, mark.endOffset);\r\n\t\t\t\t\t\t\tsel.addRange(r);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_changeToStep: function(from, to){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReverts editor to \"to\" setting, from the undo stack.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.setValue(to.text);\r\n\t\t\tvar b = to.bookmark;\r\n\t\t\tif(!b){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._moveToBookmark(b);\r\n\t\t},\r\n\t\tundo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for editor undo (ex: ctrl-z) operation\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar ret = false;\r\n\t\t\tif(!this._undoRedoActive){\r\n\t\t\t\tthis._undoRedoActive = true;\r\n\t\t\t\tthis.endEditing(true);\r\n\t\t\t\tvar s = this._steps.pop();\r\n\t\t\t\tif(s && this._steps.length > 0){\r\n\t\t\t\t\tthis.focus();\r\n\t\t\t\t\tthis._changeToStep(s, this._steps[this._steps.length - 1]);\r\n\t\t\t\t\tthis._undoedSteps.push(s);\r\n\t\t\t\t\tthis.onDisplayChanged();\r\n\t\t\t\t\tdelete this._undoRedoActive;\r\n\t\t\t\t\tret = true;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._undoRedoActive;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tredo: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for editor redo (ex: ctrl-y) operation\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar ret = false;\r\n\t\t\tif(!this._undoRedoActive){\r\n\t\t\t\tthis._undoRedoActive = true;\r\n\t\t\t\tthis.endEditing(true);\r\n\t\t\t\tvar s = this._undoedSteps.pop();\r\n\t\t\t\tif(s && this._steps.length > 0){\r\n\t\t\t\t\tthis.focus();\r\n\t\t\t\t\tthis._changeToStep(this._steps[this._steps.length - 1], s);\r\n\t\t\t\t\tthis._steps.push(s);\r\n\t\t\t\t\tthis.onDisplayChanged();\r\n\t\t\t\t\tret = true;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._undoRedoActive;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tendEditing: function(ignore_caret){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled to note that the user has stopped typing alphanumeric characters, if it's not already noted.\r\n\t\t\t//\t\tDeals with saving undo; see editActionInterval parameter.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._editTimer){\r\n\t\t\t\tthis._editTimer = this._editTimer.remove();\r\n\t\t\t}\r\n\t\t\tif(this._inEditing){\r\n\t\t\t\tthis._endEditing(ignore_caret);\r\n\t\t\t\tthis._inEditing = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getBookmark: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the currently selected text\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar b = this.selection.getBookmark();\r\n\t\t\tvar tmp = [];\r\n\t\t\tif(b && b.mark){\r\n\t\t\t\tvar mark = b.mark;\r\n\t\t\t\tif(has(\"ie\") < 9 || (has(\"ie\") === 9 && has(\"quirks\"))){\r\n\t\t\t\t\t// Try to use the pseudo range API on IE for better accuracy.\r\n\t\t\t\t\tvar sel = rangeapi.getSelection(this.window);\r\n\t\t\t\t\tif(!lang.isArray(mark)){\r\n\t\t\t\t\t\tif(sel){\r\n\t\t\t\t\t\t\tvar range;\r\n\t\t\t\t\t\t\tif(sel.rangeCount){\r\n\t\t\t\t\t\t\t\trange = sel.getRangeAt(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(range){\r\n\t\t\t\t\t\t\t\tb.mark = range.cloneRange();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tb.mark = this.selection.getBookmark();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Control ranges (img, table, etc), handle differently.\r\n\t\t\t\t\t\tarray.forEach(b.mark, function(n){\r\n\t\t\t\t\t\t\ttmp.push(rangeapi.getIndex(n, this.editNode).o);\r\n\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\tb.mark = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif(b.mark && b.mark.startContainer){\r\n\t\t\t\t\t\ttmp = rangeapi.getIndex(b.mark.startContainer, this.editNode).o;\r\n\t\t\t\t\t\tb.mark = {startContainer: tmp,\r\n\t\t\t\t\t\t\tstartOffset: b.mark.startOffset,\r\n\t\t\t\t\t\t\tendContainer: b.mark.endContainer === b.mark.startContainer ? tmp : rangeapi.getIndex(b.mark.endContainer, this.editNode).o,\r\n\t\t\t\t\t\t\tendOffset: b.mark.endOffset};\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tb.mark = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn b;\r\n\t\t},\r\n\t\t_beginEditing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the user starts typing alphanumeric characters.\r\n\t\t\t//\t\tDeals with saving undo; see editActionInterval parameter.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._steps.length === 0){\r\n\t\t\t\t// You want to use the editor content without post filtering\r\n\t\t\t\t// to make sure selection restores right for the 'initial' state.\r\n\t\t\t\t// and undo is called.  So not using this.value, as it was 'processed'\r\n\t\t\t\t// and the line-up for selections may have been altered.\r\n\t\t\t\tthis._steps.push({'text': html.getChildrenHtml(this.editNode), 'bookmark': this._getBookmark()});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_endEditing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the user stops typing alphanumeric characters.\r\n\t\t\t//\t\tDeals with saving undo; see editActionInterval parameter.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Avoid filtering to make sure selections restore.\r\n\t\t\tvar v = html.getChildrenHtml(this.editNode);\r\n\r\n\t\t\tthis._undoedSteps = [];//clear undoed steps\r\n\t\t\tthis._steps.push({text: v, bookmark: this._getBookmark()});\r\n\t\t},\r\n\t\tonKeyDown: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onkeydown event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t//We need to save selection if the user TAB away from this editor\r\n\t\t\t//no need to call _saveSelection for IE, as that will be taken care of in onBeforeDeactivate\r\n\t\t\tif(!has(\"ie\") && !this.iframe && e.keyCode == keys.TAB && !this.tabIndent){\r\n\t\t\t\tthis._saveSelection();\r\n\t\t\t}\r\n\t\t\tif(!this.customUndo){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar k = e.keyCode;\r\n\t\t\tif(e.ctrlKey && !e.shiftKey && !e.altKey){//undo and redo only if the special right Alt + z/y are not pressed #5892\r\n\t\t\t\tif(k == 90 || k == 122){ //z, but also F11 key\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.undo();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}else if(k == 89 || k == 121){ //y\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.redo();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tswitch(k){\r\n\t\t\t\tcase keys.ENTER:\r\n\t\t\t\tcase keys.BACKSPACE:\r\n\t\t\t\tcase keys.DELETE:\r\n\t\t\t\t\tthis.beginEditing();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 88: //x\r\n\t\t\t\tcase 86: //v\r\n\t\t\t\t\tif(e.ctrlKey && !e.altKey && !e.metaKey){\r\n\t\t\t\t\t\tthis.endEditing();//end current typing step if any\r\n\t\t\t\t\t\tif(e.keyCode == 88){\r\n\t\t\t\t\t\t\tthis.beginEditing('cut');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.beginEditing('paste');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//use timeout to trigger after the paste is complete\r\n\t\t\t\t\t\tthis.defer(\"endEditing\", 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t//pass through\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif(!e.ctrlKey && !e.altKey && !e.metaKey && (e.keyCode < keys.F1 || e.keyCode > keys.F15)){\r\n\t\t\t\t\t\tthis.beginEditing();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t//pass through\r\n\t\t\t\tcase keys.ALT:\r\n\t\t\t\t\tthis.endEditing();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\tcase keys.LEFT_ARROW:\r\n\t\t\t\tcase keys.RIGHT_ARROW:\r\n\t\t\t\tcase keys.HOME:\r\n\t\t\t\tcase keys.END:\r\n\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\t\tthis.endEditing(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//maybe ctrl+backspace/delete, so don't endEditing when ctrl is pressed\r\n\t\t\t\tcase keys.CTRL:\r\n\t\t\t\tcase keys.SHIFT:\r\n\t\t\t\tcase keys.TAB:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled from focus manager when focus has moved away from this editor\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t//this._saveSelection();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.endEditing(true);\r\n\t\t},\r\n\t\t_saveSelection: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSave the currently selected text in _savedSelection attribute\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\ttry{\r\n\t\t\t\tthis._savedSelection = this._getBookmark();\r\n\t\t\t}catch(e){ /* Squelch any errors that occur if selection save occurs due to being hidden simultaneously. */\r\n\t\t\t}\r\n\t\t},\r\n\t\t_restoreSelection: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRe-select the text specified in _savedSelection attribute;\r\n\t\t\t//\t\tsee _saveSelection().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._savedSelection){\r\n\t\t\t\t// Clear off cursor to start, we're deliberately going to a selection.\r\n\t\t\t\tdelete this._cursorToStart;\r\n\t\t\t\t// only restore the selection if the current range is collapsed\r\n\t\t\t\t// if not collapsed, then it means the editor does not lose\r\n\t\t\t\t// selection and there is no need to restore it\r\n\t\t\t\tif(this.selection.isCollapsed()){\r\n\t\t\t\t\tthis._moveToBookmark(this._savedSelection);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this._savedSelection;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when editor is clicked\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.endEditing(true);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\treplaceValue: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tover-ride of replaceValue to support custom undo and stack maintenance.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(!this.customUndo){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}else{\r\n\t\t\t\tif(this.isClosed){\r\n\t\t\t\t\tthis.setValue(html);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.beginEditing();\r\n\t\t\t\t\tif(!html){\r\n\t\t\t\t\t\thtml = \"&#160;\";\t// &nbsp;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setValue(html);\r\n\t\t\t\t\tthis.endEditing();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\tthis.setValueDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\tif((!this.disabled && value) || (!this._buttonEnabledPlugins && value)){\r\n\t\t\t\t\t// Disable editor: disable all enabled buttons and remember that list\r\n\t\t\t\t\tarray.forEach(this._plugins, function(p){\r\n\t\t\t\t\t\tp.set(\"disabled\", true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(this.disabled && !value){\r\n\t\t\t\t\t// Restore plugins to being active.\r\n\t\t\t\t\tarray.forEach(this._plugins, function(p){\r\n\t\t\t\t\t\tp.set(\"disabled\", false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setStateClass: function(){\r\n\t\t\ttry{\r\n\t\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t\t// Let theme set the editor's text color based on editor enabled/disabled state.\r\n\t\t\t\t// We need to jump through hoops because the main document (where the theme CSS is)\r\n\t\t\t\t// is separate from the iframe's document.\r\n\t\t\t\tif(this.document && this.document.body){\r\n\t\t\t\t\tdomStyle.set(this.document.body, \"color\", domStyle.get(this.iframe, \"color\"));\r\n\t\t\t\t}\r\n\t\t\t}catch(e){ /* Squelch any errors caused by focus change if hidden during a state change */\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Register the \"default plugins\", ie, the built-in editor commands\r\n\tfunction simplePluginFactory(args){\r\n\t\treturn new _Plugin({ command: args.name });\r\n\t}\r\n\r\n\tfunction togglePluginFactory(args){\r\n\t\treturn new _Plugin({ buttonClass: ToggleButton, command: args.name });\r\n\t}\r\n\r\n\tlang.mixin(_Plugin.registry, {\r\n\t\t\"undo\": simplePluginFactory,\r\n\t\t\"redo\": simplePluginFactory,\r\n\t\t\"cut\": simplePluginFactory,\r\n\t\t\"copy\": simplePluginFactory,\r\n\t\t\"paste\": simplePluginFactory,\r\n\t\t\"insertOrderedList\": simplePluginFactory,\r\n\t\t\"insertUnorderedList\": simplePluginFactory,\r\n\t\t\"indent\": simplePluginFactory,\r\n\t\t\"outdent\": simplePluginFactory,\r\n\t\t\"justifyCenter\": simplePluginFactory,\r\n\t\t\"justifyFull\": simplePluginFactory,\r\n\t\t\"justifyLeft\": simplePluginFactory,\r\n\t\t\"justifyRight\": simplePluginFactory,\r\n\t\t\"delete\": simplePluginFactory,\r\n\t\t\"selectAll\": simplePluginFactory,\r\n\t\t\"removeFormat\": simplePluginFactory,\r\n\t\t\"unlink\": simplePluginFactory,\r\n\t\t\"insertHorizontalRule\": simplePluginFactory,\r\n\r\n\t\t\"bold\": togglePluginFactory,\r\n\t\t\"italic\": togglePluginFactory,\r\n\t\t\"underline\": togglePluginFactory,\r\n\t\t\"strikethrough\": togglePluginFactory,\r\n\t\t\"subscript\": togglePluginFactory,\r\n\t\t\"superscript\": togglePluginFactory,\r\n\r\n\t\t\"|\": function(){\r\n\t\t\treturn new _Plugin({\r\n\t\t\t\tsetEditor: function(editor){\r\n\t\t\t\t\tthis.editor = editor;\r\n\t\t\t\t\tthis.button = new ToolbarSeparator({ownerDocument: editor.ownerDocument});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\treturn Editor;\r\n});\r\n\ndefine('dojo/store/util/QueryResults',[\"../../_base/array\", \"../../_base/lang\", \"../../when\"\r\n], function(array, lang, when){\r\n\r\n// module:\r\n//\t\tdojo/store/util/QueryResults\r\n\r\nvar QueryResults = function(results){\r\n\t// summary:\r\n\t//\t\tA function that wraps the results of a store query with additional\r\n\t//\t\tmethods.\r\n\t// description:\r\n\t//\t\tQueryResults is a basic wrapper that allows for array-like iteration\r\n\t//\t\tover any kind of returned data from a query.  While the simplest store\r\n\t//\t\twill return a plain array of data, other stores may return deferreds or\r\n\t//\t\tpromises; this wrapper makes sure that *all* results can be treated\r\n\t//\t\tthe same.\r\n\t//\r\n\t//\t\tAdditional methods include `forEach`, `filter` and `map`.\r\n\t// results: Array|dojo/promise/Promise\r\n\t//\t\tThe result set as an array, or a promise for an array.\r\n\t// returns:\r\n\t//\t\tAn array-like object that can be used for iterating over.\r\n\t// example:\r\n\t//\t\tQuery a store and iterate over the results.\r\n\t//\r\n\t//\t|\tstore.query({ prime: true }).forEach(function(item){\r\n\t//\t|\t\t//\tdo something\r\n\t//\t|\t});\r\n\r\n\tif(!results){\r\n\t\treturn results;\r\n\t}\r\n\r\n\tvar isPromise = !!results.then;\r\n\t// if it is a promise it may be frozen\r\n\tif(isPromise){\r\n\t\tresults = lang.delegate(results);\r\n\t}\r\n\tfunction addIterativeMethod(method){\r\n\t\t// Always add the iterative methods so a QueryResults is\r\n\t\t// returned whether the environment is ES3 or ES5\r\n\t\tresults[method] = function(){\r\n\t\t\tvar args = arguments;\r\n\t\t\tvar result = when(results, function(results){\r\n\t\t\t\tArray.prototype.unshift.call(args, results);\r\n\t\t\t\treturn QueryResults(array[method].apply(array, args));\r\n\t\t\t});\r\n\t\t\t// forEach should only return the result of when()\r\n\t\t\t// when we're wrapping a promise\r\n\t\t\tif(method !== \"forEach\" || isPromise){\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\taddIterativeMethod(\"forEach\");\r\n\taddIterativeMethod(\"filter\");\r\n\taddIterativeMethod(\"map\");\r\n\tif(results.total == null){\r\n\t\tresults.total = when(results, function(results){\r\n\t\t\treturn results.length;\r\n\t\t});\r\n\t}\r\n\treturn results; // Object\r\n};\r\n\r\nlang.setObject(\"dojo.store.util.QueryResults\", QueryResults);\r\n\r\nreturn QueryResults;\r\n\r\n});\r\n\ndefine('dojo/store/util/SimpleQueryEngine',[\"../../_base/array\" /*=====, \"../api/Store\" =====*/], function(arrayUtil /*=====, Store =====*/){\r\n\r\n// module:\r\n//\t\tdojo/store/util/SimpleQueryEngine\r\n\r\nreturn function(query, options){\r\n\t// summary:\r\n\t//\t\tSimple query engine that matches using filter functions, named filter\r\n\t//\t\tfunctions or objects by name-value on a query object hash\r\n\t//\r\n\t// description:\r\n\t//\t\tThe SimpleQueryEngine provides a way of getting a QueryResults through\r\n\t//\t\tthe use of a simple object hash as a filter.  The hash will be used to\r\n\t//\t\tmatch properties on data objects with the corresponding value given. In\r\n\t//\t\tother words, only exact matches will be returned.\r\n\t//\r\n\t//\t\tThis function can be used as a template for more complex query engines;\r\n\t//\t\tfor example, an engine can be created that accepts an object hash that\r\n\t//\t\tcontains filtering functions, or a string that gets evaluated, etc.\r\n\t//\r\n\t//\t\tWhen creating a new dojo.store, simply set the store's queryEngine\r\n\t//\t\tfield as a reference to this function.\r\n\t//\r\n\t// query: Object\r\n\t//\t\tAn object hash with fields that may match fields of items in the store.\r\n\t//\t\tValues in the hash will be compared by normal == operator, but regular expressions\r\n\t//\t\tor any object that provides a test() method are also supported and can be\r\n\t//\t\tused to match strings by more complex expressions\r\n\t//\t\t(and then the regex's or object's test() method will be used to match values).\r\n\t//\r\n\t// options: dojo/store/api/Store.QueryOptions?\r\n\t//\t\tAn object that contains optional information such as sort, start, and count.\r\n\t//\r\n\t// returns: Function\r\n\t//\t\tA function that caches the passed query under the field \"matches\".  See any\r\n\t//\t\tof the \"query\" methods on dojo.stores.\r\n\t//\r\n\t// example:\r\n\t//\t\tDefine a store with a reference to this engine, and set up a query method.\r\n\t//\r\n\t//\t|\tvar myStore = function(options){\r\n\t//\t|\t\t//\t...more properties here\r\n\t//\t|\t\tthis.queryEngine = SimpleQueryEngine;\r\n\t//\t|\t\t//\tdefine our query method\r\n\t//\t|\t\tthis.query = function(query, options){\r\n\t//\t|\t\t\treturn QueryResults(this.queryEngine(query, options)(this.data));\r\n\t//\t|\t\t};\r\n\t//\t|\t};\r\n\r\n\t// create our matching query function\r\n\tswitch(typeof query){\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"Can not query with a \" + typeof query);\r\n\t\tcase \"object\": case \"undefined\":\r\n\t\t\tvar queryObject = query;\r\n\t\t\tquery = function(object){\r\n\t\t\t\tfor(var key in queryObject){\r\n\t\t\t\t\tvar required = queryObject[key];\r\n\t\t\t\t\tif(required && required.test){\r\n\t\t\t\t\t\t// an object can provide a test method, which makes it work with regex\r\n\t\t\t\t\t\tif(!required.test(object[key], object)){\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(required != object[key]){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase \"string\":\r\n\t\t\t// named query\r\n\t\t\tif(!this[query]){\r\n\t\t\t\tthrow new Error(\"No filter function \" + query + \" was found in store\");\r\n\t\t\t}\r\n\t\t\tquery = this[query];\r\n\t\t\t// fall through\r\n\t\tcase \"function\":\r\n\t\t\t// fall through\r\n\t}\r\n\tfunction execute(array){\r\n\t\t// execute the whole query, first we filter\r\n\t\tvar results = arrayUtil.filter(array, query);\r\n\t\t// next we sort\r\n\t\tvar sortSet = options && options.sort;\r\n\t\tif(sortSet){\r\n\t\t\tresults.sort(typeof sortSet == \"function\" ? sortSet : function(a, b){\r\n\t\t\t\tfor(var sort, i=0; sort = sortSet[i]; i++){\r\n\t\t\t\t\tvar aValue = a[sort.attribute];\r\n\t\t\t\t\tvar bValue = b[sort.attribute];\r\n\t\t\t\t\t// valueOf enables proper comparison of dates\r\n\t\t\t\t\taValue = aValue != null ? aValue.valueOf() : aValue;\r\n\t\t\t\t\tbValue = bValue != null ? bValue.valueOf() : bValue;\r\n\t\t\t\t\tif (aValue != bValue){\r\n\t\t\t\t\t\treturn !!sort.descending == (aValue == null || aValue > bValue) ? -1 : 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}\r\n\t\t// now we paginate\r\n\t\tif(options && (options.start || options.count)){\r\n\t\t\tvar total = results.length;\r\n\t\t\tresults = results.slice(options.start || 0, (options.start || 0) + (options.count || Infinity));\r\n\t\t\tresults.total = total;\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\texecute.matches = query;\r\n\treturn execute;\r\n};\r\n\r\n});\r\n\ndefine('dojo/store/Memory',[\"../_base/declare\", \"./util/QueryResults\", \"./util/SimpleQueryEngine\" /*=====, \"./api/Store\" =====*/],\r\nfunction(declare, QueryResults, SimpleQueryEngine /*=====, Store =====*/){\r\n\r\n// module:\r\n//\t\tdojo/store/Memory\r\n\r\n// No base class, but for purposes of documentation, the base class is dojo/store/api/Store\r\nvar base = null;\r\n/*===== base = Store; =====*/\r\n\r\nreturn declare(\"dojo.store.Memory\", base, {\r\n\t// summary:\r\n\t//\t\tThis is a basic in-memory object store. It implements dojo/store/api/Store.\r\n\tconstructor: function(options){\r\n\t\t// summary:\r\n\t\t//\t\tCreates a memory object store.\r\n\t\t// options: dojo/store/Memory\r\n\t\t//\t\tThis provides any configuration information that will be mixed into the store.\r\n\t\t//\t\tThis should generally include the data property to provide the starting set of data.\r\n\t\tfor(var i in options){\r\n\t\t\tthis[i] = options[i];\r\n\t\t}\r\n\t\tthis.setData(this.data || []);\r\n\t},\r\n\t// data: Array\r\n\t//\t\tThe array of all the objects in the memory store\r\n\tdata:null,\r\n\r\n\t// idProperty: String\r\n\t//\t\tIndicates the property to use as the identity property. The values of this\r\n\t//\t\tproperty should be unique.\r\n\tidProperty: \"id\",\r\n\r\n\t// index: Object\r\n\t//\t\tAn index of data indices into the data array by id\r\n\tindex:null,\r\n\r\n\t// queryEngine: Function\r\n\t//\t\tDefines the query engine to use for querying the data store\r\n\tqueryEngine: SimpleQueryEngine,\r\n\tget: function(id){\r\n\t\t// summary:\r\n\t\t//\t\tRetrieves an object by its identity\r\n\t\t// id: Number\r\n\t\t//\t\tThe identity to use to lookup the object\r\n\t\t// returns: Object\r\n\t\t//\t\tThe object in the store that matches the given id.\r\n\t\treturn this.data[this.index[id]];\r\n\t},\r\n\tgetIdentity: function(object){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an object's identity\r\n\t\t// object: Object\r\n\t\t//\t\tThe object to get the identity from\r\n\t\t// returns: Number\r\n\t\treturn object[this.idProperty];\r\n\t},\r\n\tput: function(object, options){\r\n\t\t// summary:\r\n\t\t//\t\tStores an object\r\n\t\t// object: Object\r\n\t\t//\t\tThe object to store.\r\n\t\t// options: dojo/store/api/Store.PutDirectives?\r\n\t\t//\t\tAdditional metadata for storing the data.  Includes an \"id\"\r\n\t\t//\t\tproperty if a specific id is to be used.\r\n\t\t// returns: Number\r\n\t\tvar data = this.data,\r\n\t\t\tindex = this.index,\r\n\t\t\tidProperty = this.idProperty;\r\n\t\tvar id = object[idProperty] = (options && \"id\" in options) ? options.id : idProperty in object ? object[idProperty] : Math.random();\r\n\t\tif(id in index){\r\n\t\t\t// object exists\r\n\t\t\tif(options && options.overwrite === false){\r\n\t\t\t\tthrow new Error(\"Object already exists\");\r\n\t\t\t}\r\n\t\t\t// replace the entry in data\r\n\t\t\tdata[index[id]] = object;\r\n\t\t}else{\r\n\t\t\t// add the new object\r\n\t\t\tindex[id] = data.push(object) - 1;\r\n\t\t}\r\n\t\treturn id;\r\n\t},\r\n\tadd: function(object, options){\r\n\t\t// summary:\r\n\t\t//\t\tCreates an object, throws an error if the object already exists\r\n\t\t// object: Object\r\n\t\t//\t\tThe object to store.\r\n\t\t// options: dojo/store/api/Store.PutDirectives?\r\n\t\t//\t\tAdditional metadata for storing the data.  Includes an \"id\"\r\n\t\t//\t\tproperty if a specific id is to be used.\r\n\t\t// returns: Number\r\n\t\t(options = options || {}).overwrite = false;\r\n\t\t// call put with overwrite being false\r\n\t\treturn this.put(object, options);\r\n\t},\r\n\tremove: function(id){\r\n\t\t// summary:\r\n\t\t//\t\tDeletes an object by its identity\r\n\t\t// id: Number\r\n\t\t//\t\tThe identity to use to delete the object\r\n\t\t// returns: Boolean\r\n\t\t//\t\tReturns true if an object was removed, falsy (undefined) if no object matched the id\r\n\t\tvar index = this.index;\r\n\t\tvar data = this.data;\r\n\t\tif(id in index){\r\n\t\t\tdata.splice(index[id], 1);\r\n\t\t\t// now we have to reindex\r\n\t\t\tthis.setData(data);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tquery: function(query, options){\r\n\t\t// summary:\r\n\t\t//\t\tQueries the store for objects.\r\n\t\t// query: Object\r\n\t\t//\t\tThe query to use for retrieving objects from the store.\r\n\t\t// options: dojo/store/api/Store.QueryOptions?\r\n\t\t//\t\tThe optional arguments to apply to the resultset.\r\n\t\t// returns: dojo/store/api/Store.QueryResults\r\n\t\t//\t\tThe results of the query, extended with iterative methods.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t\tGiven the following store:\r\n\t\t//\r\n\t\t// \t|\tvar store = new Memory({\r\n\t\t// \t|\t\tdata: [\r\n\t\t// \t|\t\t\t{id: 1, name: \"one\", prime: false },\r\n\t\t//\t|\t\t\t{id: 2, name: \"two\", even: true, prime: true},\r\n\t\t//\t|\t\t\t{id: 3, name: \"three\", prime: true},\r\n\t\t//\t|\t\t\t{id: 4, name: \"four\", even: true, prime: false},\r\n\t\t//\t|\t\t\t{id: 5, name: \"five\", prime: true}\r\n\t\t//\t|\t\t]\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t//\t...find all items where \"prime\" is true:\r\n\t\t//\r\n\t\t//\t|\tvar results = store.query({ prime: true });\r\n\t\t//\r\n\t\t//\t...or find all items where \"even\" is true:\r\n\t\t//\r\n\t\t//\t|\tvar results = store.query({ even: true });\r\n\t\treturn QueryResults(this.queryEngine(query, options)(this.data));\r\n\t},\r\n\tsetData: function(data){\r\n\t\t// summary:\r\n\t\t//\t\tSets the given data as the source for this store, and indexes it\r\n\t\t// data: Object[]\r\n\t\t//\t\tAn array of objects to use as the source of data.\r\n\t\tif(data.items){\r\n\t\t\t// just for convenience with the data format IFRS expects\r\n\t\t\tthis.idProperty = data.identifier || this.idProperty;\r\n\t\t\tdata = this.data = data.items;\r\n\t\t}else{\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t\tthis.index = {};\r\n\t\tfor(var i = 0, l = data.length; i < l; i++){\r\n\t\t\tthis.index[data[i][this.idProperty]] = i;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n});\r\n\ndefine('dijit/form/_TextBoxMixin',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/has\",\r\n\t\"dojo/keys\", // keys.ALT keys.CAPS_LOCK keys.CTRL keys.META keys.SHIFT\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/on\", // on\r\n\t\"../main\"    // for exporting dijit._setSelectionRange, dijit.selectInputText\r\n], function(array, declare, dom, has, keys, lang, on, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_TextBoxMixin\r\n\r\n\tvar _TextBoxMixin = declare(\"dijit.form._TextBoxMixin\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), null, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin for textbox form input widgets\r\n\r\n\t\t// trim: Boolean\r\n\t\t//\t\tRemoves leading and trailing whitespace if true.  Default is false.\r\n\t\ttrim: false,\r\n\r\n\t\t// uppercase: Boolean\r\n\t\t//\t\tConverts all characters to uppercase if true.  Default is false.\r\n\t\tuppercase: false,\r\n\r\n\t\t// lowercase: Boolean\r\n\t\t//\t\tConverts all characters to lowercase if true.  Default is false.\r\n\t\tlowercase: false,\r\n\r\n\t\t// propercase: Boolean\r\n\t\t//\t\tConverts the first character of each word to uppercase if true.\r\n\t\tpropercase: false,\r\n\r\n\t\t// maxLength: String\r\n\t\t//\t\tHTML INPUT tag maxLength declaration.\r\n\t\tmaxLength: \"\",\r\n\r\n\t\t// selectOnClick: [const] Boolean\r\n\t\t//\t\tIf true, all text will be selected when focused with mouse\r\n\t\tselectOnClick: false,\r\n\r\n\t\t// placeHolder: String\r\n\t\t//\t\tDefines a hint to help users fill out the input field (as defined in HTML 5).\r\n\t\t//\t\tThis should only contain plain text (no html markup).\r\n\t\tplaceHolder: \"\",\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so get('value') works as we like.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor `dijit/form/TextBox` this basically returns the value of the `<input>`.\r\n\t\t\t//\r\n\t\t\t//\t\tFor `dijit/form/MappedTextBox` subclasses, which have both\r\n\t\t\t//\t\ta \"displayed value\" and a separate \"submit value\",\r\n\t\t\t//\t\tThis treats the \"displayed value\" as the master value, computing the\r\n\t\t\t//\t\tsubmit value from it via this.parse().\r\n\t\t\treturn this.parse(this.get('displayedValue'), this.constraints);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value, /*Boolean?*/ priorityChange, /*String?*/ formattedValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', ...) works.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the value of the widget to \"value\" which can be of\r\n\t\t\t//\t\tany type as determined by the widget.\r\n\t\t\t//\r\n\t\t\t// value:\r\n\t\t\t//\t\tThe visual element value is also set to a corresponding,\r\n\t\t\t//\t\tbut not necessarily the same, value.\r\n\t\t\t//\r\n\t\t\t// formattedValue:\r\n\t\t\t//\t\tIf specified, used to set the visual element value,\r\n\t\t\t//\t\totherwise a computed visual value is used.\r\n\t\t\t//\r\n\t\t\t// priorityChange:\r\n\t\t\t//\t\tIf true, an onChange event is fired immediately instead of\r\n\t\t\t//\t\twaiting for the next blur event.\r\n\r\n\t\t\tvar filteredValue;\r\n\t\t\tif(value !== undefined){\r\n\t\t\t\t// TODO: this is calling filter() on both the display value and the actual value.\r\n\t\t\t\t// I added a comment to the filter() definition about this, but it should be changed.\r\n\t\t\t\tfilteredValue = this.filter(value);\r\n\t\t\t\tif(typeof formattedValue != \"string\"){\r\n\t\t\t\t\tif(filteredValue !== null && ((typeof filteredValue != \"number\") || !isNaN(filteredValue))){\r\n\t\t\t\t\t\tformattedValue = this.filter(this.format(filteredValue, this.constraints));\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tformattedValue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Ensure the filtered value does not change after being formatted. See track #17955.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// This check is only applied when the formatted value is not specified by the caller in order to allow the \r\n\t\t\t\t\t// behavior to be overriden. This is needed whenever value synonyms cannot be determined using parse/compare. For\r\n\t\t\t\t\t// example, dijit/form/FilteringSelect determines the formatted value asynchronously and applies it using a \r\n\t\t\t\t\t// callback to this method.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// TODO: Should developers be warned that they broke the round trip on format?\r\n\t\t\t\t\tif (this.compare(filteredValue, this.filter(this.parse(formattedValue, this.constraints))) != 0){\r\n\t\t\t\t\t\tformattedValue = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(formattedValue != null /* and !undefined */ && ((typeof formattedValue) != \"number\" || !isNaN(formattedValue)) && this.textbox.value != formattedValue){\r\n\t\t\t\tthis.textbox.value = formattedValue;\r\n\t\t\t\tthis._set(\"displayedValue\", this.get(\"displayedValue\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments, [filteredValue, priorityChange]);\r\n\t\t},\r\n\r\n\t\t// displayedValue: String\r\n\t\t//\t\tFor subclasses like ComboBox where the displayed value\r\n\t\t//\t\t(ex: Kentucky) and the serialized value (ex: KY) are different,\r\n\t\t//\t\tthis represents the displayed value.\r\n\t\t//\r\n\t\t//\t\tSetting 'displayedValue' through set('displayedValue', ...)\r\n\t\t//\t\tupdates 'value', and vice-versa.  Otherwise 'value' is updated\r\n\t\t//\t\tfrom 'displayedValue' periodically, like onBlur etc.\r\n\t\t//\r\n\t\t//\t\tTODO: move declaration to MappedTextBox?\r\n\t\t//\t\tProblem is that ComboBox references displayedValue,\r\n\t\t//\t\tfor benefit of FilteringSelect.\r\n\t\tdisplayedValue: \"\",\r\n\r\n\t\t_getDisplayedValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so get('displayedValue') works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns the displayed value (what the user sees on the screen),\r\n\t\t\t//\t\tafter filtering (ie, trimming spaces etc.).\r\n\t\t\t//\r\n\t\t\t//\t\tFor some subclasses of TextBox (like ComboBox), the displayed value\r\n\t\t\t//\t\tis different from the serialized value that's actually\r\n\t\t\t//\t\tsent to the server (see `dijit/form/ValidationTextBox.serialize()`)\r\n\r\n\t\t\t// TODO: maybe we should update this.displayedValue on every keystroke so that we don't need\r\n\t\t\t// this method\r\n\t\t\t// TODO: this isn't really the displayed value when the user is typing\r\n\t\t\treturn this.filter(this.textbox.value);\r\n\t\t},\r\n\r\n\t\t_setDisplayedValueAttr: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('displayedValue', ...) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the value of the visual element to the string \"value\".\r\n\t\t\t//\t\tThe widget value is also set to a corresponding,\r\n\t\t\t//\t\tbut not necessarily the same, value.\r\n\r\n\t\t\tif(value == null /* or undefined */){\r\n\t\t\t\tvalue = ''\r\n\t\t\t}\r\n\t\t\telse if(typeof value != \"string\"){\r\n\t\t\t\tvalue = String(value)\r\n\t\t\t}\r\n\r\n\t\t\tthis.textbox.value = value;\r\n\r\n\t\t\t// sets the serialized value to something corresponding to specified displayedValue\r\n\t\t\t// (if possible), and also updates the textbox.value, for example converting \"123\"\r\n\t\t\t// to \"123.00\"\r\n\t\t\tthis._setValueAttr(this.get('value'), undefined);\r\n\r\n\t\t\tthis._set(\"displayedValue\", this.get('displayedValue'));\r\n\t\t},\r\n\r\n\t\tformat: function(value /*=====, constraints =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReplaceable function to convert a value to a properly formatted string.\r\n\t\t\t// value: String\r\n\t\t\t// constraints: Object\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn value == null /* or undefined */ ? \"\" : (value.toString ? value.toString() : value);\r\n\t\t},\r\n\r\n\t\tparse: function(value /*=====, constraints =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReplaceable function to convert a formatted string to a value\r\n\t\t\t// value: String\r\n\t\t\t// constraints: Object\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\treturn value;\t// String\r\n\t\t},\r\n\r\n\t\t_refreshState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAfter the user types some characters, etc., this method is\r\n\t\t\t//\t\tcalled to check the field for validity etc.  The base method\r\n\t\t\t//\t\tin `dijit/form/TextBox` does nothing, but subclasses override.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\t onInput: function(/*===== event =====*/){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tConnect to this function to receive notifications of various user data-input events.\r\n\t\t\t //\t\tReturn false to cancel the event and prevent it from being processed.\r\n\t\t\t // event:\r\n\t\t\t //\t\tkeydown | keypress | cut | paste | input\r\n\t\t\t // tags:\r\n\t\t\t //\t\tcallback\r\n\t\t },\r\n\r\n\t\t__skipInputEvent: false,\r\n\t\t_onInput: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled AFTER the input event has happened\r\n\r\n\t\t\tthis._processInput(evt);\r\n\r\n\t\t\tif(this.intermediateChanges){\r\n\t\t\t\t// allow the key to post to the widget input box\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis._handleOnChange(this.get('value'), false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_processInput: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefault action handler for user input events\r\n\r\n\t\t\tthis._refreshState();\r\n\r\n\t\t\t// In case someone is watch()'ing for changes to displayedValue\r\n\t\t\tthis._set(\"displayedValue\", this.get(\"displayedValue\"));\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// setting the value here is needed since value=\"\" in the template causes \"undefined\"\r\n\t\t\t// and setting in the DOM (instead of the JS object) helps with form reset actions\r\n\t\t\tthis.textbox.setAttribute(\"value\", this.textbox.value); // DOM and JS values should be the same\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// normalize input events to reduce spurious event processing\r\n\t\t\t//\tonkeydown: do not forward modifier keys\r\n\t\t\t//\t\t       set charOrCode to numeric keycode\r\n\t\t\t//\tonkeypress: do not forward numeric charOrCode keys (already sent through onkeydown)\r\n\t\t\t//\tonpaste & oncut: set charOrCode to 229 (IME)\r\n\t\t\t//\toninput: if primary event not already processed, set charOrCode to 229 (IME), else do not forward\r\n\t\t\tfunction handleEvent(e){\r\n\t\t\t\tvar charOrCode;\r\n\t\t\t\tif(e.type == \"keydown\"){\r\n\t\t\t\t\tcharOrCode = e.keyCode;\r\n\t\t\t\t\tswitch(charOrCode){ // ignore state keys\r\n\t\t\t\t\t\tcase keys.SHIFT:\r\n\t\t\t\t\t\tcase keys.ALT:\r\n\t\t\t\t\t\tcase keys.CTRL:\r\n\t\t\t\t\t\tcase keys.META:\r\n\t\t\t\t\t\tcase keys.CAPS_LOCK:\r\n\t\t\t\t\t\tcase keys.NUM_LOCK:\r\n\t\t\t\t\t\tcase keys.SCROLL_LOCK:\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!e.ctrlKey && !e.metaKey && !e.altKey){ // no modifiers\r\n\t\t\t\t\t\tswitch(charOrCode){ // ignore location keys\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_0:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_1:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_2:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_3:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_4:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_5:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_6:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_7:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_8:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_9:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_MULTIPLY:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_PLUS:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_ENTER:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_MINUS:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_PERIOD:\r\n\t\t\t\t\t\t\tcase keys.NUMPAD_DIVIDE:\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif((charOrCode >= 65 && charOrCode <= 90) || (charOrCode >= 48 && charOrCode <= 57) || charOrCode == keys.SPACE){\r\n\t\t\t\t\t\t\treturn; // keypress will handle simple non-modified printable keys\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar named = false;\r\n\t\t\t\t\t\tfor(var i in keys){\r\n\t\t\t\t\t\t\tif(keys[i] === e.keyCode){\r\n\t\t\t\t\t\t\t\tnamed = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!named){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} // only allow named ones through\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcharOrCode = e.charCode >= 32 ? String.fromCharCode(e.charCode) : e.charCode;\r\n\t\t\t\tif(!charOrCode){\r\n\t\t\t\t\tcharOrCode = (e.keyCode >= 65 && e.keyCode <= 90) || (e.keyCode >= 48 && e.keyCode <= 57) || e.keyCode == keys.SPACE ? String.fromCharCode(e.keyCode) : e.keyCode;\r\n\t\t\t\t}\r\n\t\t\t\tif(!charOrCode){\r\n\t\t\t\t\tcharOrCode = 229; // IME\r\n\t\t\t\t}\r\n\t\t\t\tif(e.type == \"keypress\"){\r\n\t\t\t\t\tif(typeof charOrCode != \"string\"){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((charOrCode >= 'a' && charOrCode <= 'z') || (charOrCode >= 'A' && charOrCode <= 'Z') || (charOrCode >= '0' && charOrCode <= '9') || (charOrCode === ' ')){\r\n\t\t\t\t\t\tif(e.ctrlKey || e.metaKey || e.altKey){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} // can only be stopped reliably in keydown\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(e.type == \"input\"){\r\n\t\t\t\t\tif(this.__skipInputEvent){ // duplicate event\r\n\t\t\t\t\t\tthis.__skipInputEvent = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.__skipInputEvent = true;\r\n\t\t\t\t}\r\n\t\t\t\t// create fake event to set charOrCode and to know if preventDefault() was called\r\n\t\t\t\tvar faux = { faux: true }, attr;\r\n\t\t\t\tfor(attr in e){\r\n\t\t\t\t\tif(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){ // prevent WebKit warnings\r\n\t\t\t\t\t\tvar v = e[attr];\r\n\t\t\t\t\t\tif(typeof v != \"function\" && typeof v != \"undefined\"){\r\n\t\t\t\t\t\t\tfaux[attr] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlang.mixin(faux, {\r\n\t\t\t\t\tcharOrCode: charOrCode,\r\n\t\t\t\t\t_wasConsumed: false,\r\n\t\t\t\t\tpreventDefault: function(){\r\n\t\t\t\t\t\tfaux._wasConsumed = true;\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstopPropagation: function(){\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// give web page author a chance to consume the event\r\n\t\t\t\t//console.log(faux.type + ', charOrCode = (' + (typeof charOrCode) + ') ' + charOrCode + ', ctrl ' + !!faux.ctrlKey + ', alt ' + !!faux.altKey + ', meta ' + !!faux.metaKey + ', shift ' + !!faux.shiftKey);\r\n\t\t\t\tif(this.onInput(faux) === false){ // return false means stop\r\n\t\t\t\t\tfaux.preventDefault();\r\n\t\t\t\t\tfaux.stopPropagation();\r\n\t\t\t\t}\r\n\t\t\t\tif(faux._wasConsumed){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} // if preventDefault was called\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis._onInput(faux);\r\n\t\t\t\t}); // widget notification after key has posted\r\n\t\t\t}\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.textbox, \"keydown, keypress, paste, cut, input, compositionend\", lang.hitch(this, handleEvent)),\r\n\r\n\t\t\t\t// Allow keypress to bubble to this.domNode, so that TextBox.on(\"keypress\", ...) works,\r\n\t\t\t\t// but prevent it from further propagating, so that typing into a TextBox inside a Toolbar doesn't\r\n\t\t\t\t// trigger the Toolbar's letter key navigation.\r\n\t\t\t\ton(this.domNode, \"keypress\", function(e){ e.stopPropagation(); })\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_blankValue: '', // if the textbox is blank, what value should be reported\r\n\t\tfilter: function(val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAuto-corrections (such as trimming) that are applied to textbox\r\n\t\t\t//\t\tvalue on blur or form submit.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor MappedTextBox subclasses, this is called twice\r\n\t\t\t//\r\n\t\t\t//\t\t- once with the display value\r\n\t\t\t//\t\t- once the value as set/returned by set('value', ...)\r\n\t\t\t//\r\n\t\t\t//\t\tand get('value'), ex: a Number for NumberTextBox.\r\n\t\t\t//\r\n\t\t\t//\t\tIn the latter case it does corrections like converting null to NaN.  In\r\n\t\t\t//\t\tthe former case the NumberTextBox.filter() method calls this.inherited()\r\n\t\t\t//\t\tto execute standard trimming code in TextBox.filter().\r\n\t\t\t//\r\n\t\t\t//\t\tTODO: break this into two methods in 2.0\r\n\t\t\t//\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\tif(val === null){\r\n\t\t\t\treturn this._blankValue;\r\n\t\t\t}\r\n\t\t\tif(typeof val != \"string\"){\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t\tif(this.trim){\r\n\t\t\t\tval = lang.trim(val);\r\n\t\t\t}\r\n\t\t\tif(this.uppercase){\r\n\t\t\t\tval = val.toUpperCase();\r\n\t\t\t}\r\n\t\t\tif(this.lowercase){\r\n\t\t\t\tval = val.toLowerCase();\r\n\t\t\t}\r\n\t\t\tif(this.propercase){\r\n\t\t\t\tval = val.replace(/[^\\s]+/g, function(word){\r\n\t\t\t\t\treturn word.substring(0, 1).toUpperCase() + word.substring(1);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\t_setBlurValue: function(){\r\n\t\t\t// Format the displayed value, for example (for NumberTextBox) convert 1.4 to 1.400,\r\n\t\t\t// or (for CurrencyTextBox) 2.50 to $2.50\r\n\r\n\t\t\tthis._setValueAttr(this.get('value'), true);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(e){\r\n\t\t\tif(this.disabled){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setBlurValue();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_isTextSelected: function(){\r\n\t\t\treturn this.textbox.selectionStart != this.textbox.selectionEnd;\r\n\t\t},\r\n\r\n\t\t_onFocus: function(/*String*/ by){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Select all text on focus via click if nothing already selected.\r\n\t\t\t// Since mouse-up will clear the selection, need to defer selection until after mouse-up.\r\n\t\t\t// Don't do anything on focus by tabbing into the widget since there's no associated mouse-up event.\r\n\t\t\tif(this.selectOnClick && by == \"mouse\"){\r\n\t\t\t\t// Use on.once() to only select all text on first click only; otherwise users would have no way to clear\r\n\t\t\t\t// the selection.\r\n\t\t\t\tthis._selectOnClickHandle = on.once(this.domNode, \"mouseup, touchend\", lang.hitch(this, function(evt){\r\n\t\t\t\t\t// Check if the user selected some text manually (mouse-down, mouse-move, mouse-up)\r\n\t\t\t\t\t// and if not, then select all the text\r\n\t\t\t\t\tif(!this._isTextSelected()){\r\n\t\t\t\t\t\t_TextBoxMixin.selectInputText(this.textbox);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t\tthis.own(this._selectOnClickHandle);\r\n\r\n\t\t\t\t// in case the mouseup never comes\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tif(this._selectOnClickHandle){\r\n\t\t\t\t\t\tthis._selectOnClickHandle.remove();\r\n\t\t\t\t\t\tthis._selectOnClickHandle = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 500); // if mouseup not received soon, then treat it as some gesture\r\n\t\t\t}\r\n\t\t\t// call this.inherited() before refreshState(), since this.inherited() will possibly scroll the viewport\r\n\t\t\t// (to scroll the TextBox into view), which will affect how _refreshState() positions the tooltip\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// Overrides `dijit/_FormWidget/reset()`.\r\n\t\t\t// Additionally resets the displayed textbox value to ''\r\n\t\t\tthis.textbox.value = '';\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\t_TextBoxMixin = declare(\"dijit.form._TextBoxMixin\", _TextBoxMixin, {\r\n\t\t\t_setValueAttr: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this.focusNode);\r\n\t\t\t},\r\n\t\t\t_setDisplayedValueAttr: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this.focusNode);\r\n\t\t\t},\r\n\t\t\t_onInput: function(){\r\n\t\t\t\tthis.applyTextDir(this.focusNode);\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t_TextBoxMixin._setSelectionRange = dijit._setSelectionRange = function(/*DomNode*/ element, /*Number?*/ start, /*Number?*/ stop){\r\n\t\tif(element.setSelectionRange){\r\n\t\t\telement.setSelectionRange(start, stop);\r\n\t\t}\r\n\t};\r\n\r\n\t_TextBoxMixin.selectInputText = dijit.selectInputText = function(/*DomNode*/ element, /*Number?*/ start, /*Number?*/ stop){\r\n\t\t// summary:\r\n\t\t//\t\tSelect text in the input element argument, from start (default 0), to stop (default end).\r\n\r\n\t\t// TODO: use functions in _editor/selection.js?\r\n\t\telement = dom.byId(element);\r\n\t\tif(isNaN(start)){\r\n\t\t\tstart = 0;\r\n\t\t}\r\n\t\tif(isNaN(stop)){\r\n\t\t\tstop = element.value ? element.value.length : 0;\r\n\t\t}\r\n\t\ttry{\r\n\t\t\telement.focus();\r\n\t\t\t_TextBoxMixin._setSelectionRange(element, start, stop);\r\n\t\t}catch(e){ /* squelch random errors (esp. on IE) from unexpected focus changes or DOM nodes being hidden */\r\n\t\t}\r\n\t};\r\n\r\n\treturn _TextBoxMixin;\r\n});\r\n\n\ndefine('dijit/form/TextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.create\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mozilla\")\r\n\t\"./_FormValueWidget\",\r\n\t\"./_TextBoxMixin\",\r\n\t\"dojo/text!./templates/TextBox.html\",\r\n\t\"../main\"\t// to export dijit._setSelectionRange, remove in 2.0\r\n], function(declare, domConstruct, domStyle, kernel, lang, on, has,\r\n\t\t\t_FormValueWidget, _TextBoxMixin, template, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/TextBox\r\n\r\n\tvar TextBox = declare(\"dijit.form.TextBox\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), [_FormValueWidget, _TextBoxMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA base class for textbox form inputs\r\n\r\n\t\ttemplateString: template,\r\n\t\t_singleNodeTemplate: '<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />',\r\n\r\n\t\t_buttonInputDisabled: has(\"ie\") ? \"disabled\" : \"\", // allows IE to disallow focus, but Firefox cannot be disabled for mousedown events\r\n\r\n\t\tbaseClass: \"dijitTextBox\",\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tvar type = this.type.toLowerCase();\r\n\t\t\tif(this.templateString && this.templateString.toLowerCase() == \"input\" || ((type == \"hidden\" || type == \"file\") && this.templateString == this.constructor.prototype.templateString)){\r\n\t\t\t\tthis.templateString = this._singleNodeTemplate;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(has(\"ie\") < 9){\r\n\t\t\t\t// IE INPUT tag fontFamily has to be set directly using STYLE\r\n\t\t\t\t// the defer gives IE a chance to render the TextBox and to deal with font inheritance\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tvar s = domStyle.getComputedStyle(this.domNode); // can throw an exception if widget is immediately destroyed\r\n\t\t\t\t\t\tif(s){\r\n\t\t\t\t\t\t\tvar ff = s.fontFamily;\r\n\t\t\t\t\t\t\tif(ff){\r\n\t\t\t\t\t\t\t\tvar inputs = this.domNode.getElementsByTagName(\"INPUT\");\r\n\t\t\t\t\t\t\t\tif(inputs){\r\n\t\t\t\t\t\t\t\t\tfor(var i=0; i < inputs.length; i++){\r\n\t\t\t\t\t\t\t\t\t\tinputs[i].style.fontFamily = ff;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(e){/*when used in a Dialog, and this is called before the dialog is\r\n\t\t\t\t\t shown, s.fontFamily would trigger \"Invalid Argument\" error.*/}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setPlaceHolderAttr: function(v){\r\n\t\t\tthis._set(\"placeHolder\", v);\r\n\t\t\tif(!this._phspan){\r\n\t\t\t\tthis._attachPoints.push('_phspan');\r\n\t\t\t\tthis._phspan = domConstruct.create('span', {\r\n\t\t\t\t\t// dijitInputField class gives placeHolder same padding as the input field\r\n\t\t\t\t\t// parent node already has dijitInputField class but it doesn't affect this <span>\r\n\t\t\t\t\t// since it's position: absolute.\r\n\t\t\t\t\tclassName: 'dijitPlaceHolder dijitInputField'\r\n\t\t\t\t}, this.textbox, 'after');\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\ton(this._phspan, \"mousedown\", function(evt){ evt.preventDefault(); }),\r\n\t\t\t\t\ton(this._phspan, \"touchend, pointerup, MSPointerUp\", lang.hitch(this, function(){\r\n\t\t\t\t\t\t// If the user clicks placeholder rather than the <input>, need programmatic focus.  Normally this\r\n\t\t\t\t\t\t// is done in _FormWidgetMixin._onFocus() but after [30663] it's done on a delay, which is ineffective.\r\n\t\t\t\t\t\tthis.focus();\r\n\t\t\t\t\t}))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis._phspan.innerHTML=\"\";\r\n\t\t\tthis._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));\r\n\t\t\tthis._updatePlaceHolder();\r\n\t\t},\r\n\r\n\t\t_onInput: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled AFTER the input event has happened\r\n\t\t\t//\t\tSee if the placeHolder text should be removed or added while editing.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._updatePlaceHolder();\r\n\t\t},\r\n\r\n\t\t_updatePlaceHolder: function(){\r\n\t\t\tif(this._phspan){\r\n\t\t\t\tthis._phspan.style.display = (this.placeHolder && !this.textbox.value) ? \"\" : \"none\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value, /*Boolean?*/ priorityChange, /*String?*/ formattedValue){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._updatePlaceHolder();\r\n\t\t},\r\n\r\n\t\tgetDisplayedValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use get('displayedValue') instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.get('displayedValue');\r\n\t\t},\r\n\r\n\t\tsetDisplayedValue: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('displayedValue', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('displayedValue', value);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(e){\r\n\t\t\tif(this.disabled){ return; }\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._updatePlaceHolder();\r\n\r\n\t\t\tif(has(\"mozilla\")){\r\n\t\t\t\tif(this.selectOnClick){\r\n\t\t\t\t\t// clear selection so that the next mouse click doesn't reselect\r\n\t\t\t\t\tthis.textbox.selectionStart = this.textbox.selectionEnd = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onFocus: function(/*String*/ by){\r\n\t\t\tif(this.disabled || this.readOnly){ return; }\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._updatePlaceHolder();\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"ie\") < 9){\r\n\t\tTextBox.prototype._isTextSelected = function(){\r\n\t\t\tvar range = this.ownerDocument.selection.createRange();\r\n\t\t\tvar parent = range.parentElement();\r\n\t\t\treturn parent == this.textbox && range.text.length > 0;\r\n\t\t};\r\n\r\n\t\t// Overrides definition of _setSelectionRange from _TextBoxMixin (TODO: move to _TextBoxMixin.js?)\r\n\t\tdijit._setSelectionRange = _TextBoxMixin._setSelectionRange = function(/*DomNode*/ element, /*Number?*/ start, /*Number?*/ stop){\r\n\t\t\tif(element.createTextRange){\r\n\t\t\t\tvar r = element.createTextRange();\r\n\t\t\t\tr.collapse(true);\r\n\t\t\t\tr.moveStart(\"character\", -99999); // move to 0\r\n\t\t\t\tr.moveStart(\"character\", start); // delta from 0 is the correct position\r\n\t\t\t\tr.moveEnd(\"character\", stop-start);\r\n\t\t\t\tr.select();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTextBox = declare(\"dijit.form.TextBox\", TextBox, {\r\n\t\t\t_setPlaceHolderAttr: function(v){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this._phspan);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn TextBox;\r\n});\r\n\n\ndefine('dijit/Tooltip',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/fx\", // fx.fadeIn fx.fadeOut\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.set, domStyle.get\r\n\t\"dojo/_base/lang\", // lang.hitch lang.isArrayLike\r\n\t\"dojo/mouse\",\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\"), has(\"trident\")\r\n\t\"./_base/manager\",\t// manager.defaultDuration\r\n\t\"./place\",\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./BackgroundIframe\",\r\n\t\"dojo/text!./templates/Tooltip.html\",\r\n\t\"./main\"\t\t// sets dijit.showTooltip etc. for back-compat\r\n], function(array, declare, fx, dom, domClass, domGeometry, domStyle, lang, mouse, on, has,\r\n\t\t\tmanager, place, _Widget, _TemplatedMixin, BackgroundIframe, template, dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Tooltip\r\n\r\n\r\n\t// TODO: Tooltip should really share more positioning code with TooltipDialog, like:\r\n\t//\t\t- the orient() method\r\n\t//\t\t- the connector positioning code in show()\r\n\t//\t\t- the dijitTooltip[Dialog] class\r\n\t//\r\n\t// The problem is that Tooltip's implementation supplies it's own <iframe> and interacts directly\r\n\t// with dijit/place, rather than going through dijit/popup like TooltipDialog and other popups (ex: Menu).\r\n\r\n\tvar MasterTooltip = declare(\"dijit._MasterTooltip\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tInternal widget that holds the actual tooltip markup,\r\n\t\t//\t\twhich occurs once per page.\r\n\t\t//\t\tCalled by Tooltip widgets which are just containers to hold\r\n\t\t//\t\tthe markup\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t// duration: Integer\r\n\t\t//\t\tMilliseconds to fade in/fade out\r\n\t\tduration: manager.defaultDuration,\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.ownerDocumentBody.appendChild(this.domNode);\r\n\r\n\t\t\tthis.bgIframe = new BackgroundIframe(this.domNode);\r\n\r\n\t\t\t// Setup fade-in and fade-out functions.\r\n\t\t\tthis.fadeIn = fx.fadeIn({ node: this.domNode, duration: this.duration, onEnd: lang.hitch(this, \"_onShow\") });\r\n\t\t\tthis.fadeOut = fx.fadeOut({ node: this.domNode, duration: this.duration, onEnd: lang.hitch(this, \"_onHide\") });\r\n\t\t},\r\n\r\n\t\tshow: function(innerHTML, aroundNode, position, rtl, textDir, onMouseEnter, onMouseLeave){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplay tooltip w/specified contents to right of specified node\r\n\t\t\t//\t\t(To left if there's no space on the right, or if rtl == true)\r\n\t\t\t// innerHTML: String\r\n\t\t\t//\t\tContents of the tooltip\r\n\t\t\t// aroundNode: DomNode|dijit/place.__Rectangle\r\n\t\t\t//\t\tSpecifies that tooltip should be next to this node / area\r\n\t\t\t// position: String[]?\r\n\t\t\t//\t\tList of positions to try to position tooltip (ex: [\"right\", \"above\"])\r\n\t\t\t// rtl: Boolean?\r\n\t\t\t//\t\tCorresponds to `WidgetBase.dir` attribute, where false means \"ltr\" and true\r\n\t\t\t//\t\tmeans \"rtl\"; specifies GUI direction, not text direction.\r\n\t\t\t// textDir: String?\r\n\t\t\t//\t\tCorresponds to `WidgetBase.textdir` attribute; specifies direction of text.\r\n\t\t\t// onMouseEnter: Function?\r\n\t\t\t//\t\tCallback function for mouse enter on tooltip\r\n\t\t\t// onMouseLeave: Function?\r\n\t\t\t//\t\tCallback function for mouse leave on tooltip\r\n\r\n\t\t\tif(this.aroundNode && this.aroundNode === aroundNode && this.containerNode.innerHTML == innerHTML){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.fadeOut.status() == \"playing\"){\r\n\t\t\t\t// previous tooltip is being hidden; wait until the hide completes then show new one\r\n\t\t\t\tthis._onDeck=arguments;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.containerNode.innerHTML=innerHTML;\r\n\r\n\t\t\tif(textDir){\r\n\t\t\t\tthis.set(\"textDir\", textDir);\r\n\t\t\t}\r\n\r\n\t\t\tthis.containerNode.align = rtl? \"right\" : \"left\"; //fix the text alignment\r\n\r\n\t\t\tvar pos = place.around(this.domNode, aroundNode,\r\n\t\t\t\tposition && position.length ? position : Tooltip.defaultPosition, !rtl, lang.hitch(this, \"orient\"));\r\n\r\n\t\t\t// Position the tooltip connector for middle alignment.\r\n\t\t\t// This could not have been done in orient() since the tooltip wasn't positioned at that time.\r\n\t\t\tvar aroundNodeCoords = pos.aroundNodePos;\r\n\t\t\tif(pos.corner.charAt(0) == 'M' && pos.aroundCorner.charAt(0) == 'M'){\r\n\t\t\t\tthis.connectorNode.style.top = aroundNodeCoords.y + ((aroundNodeCoords.h - this.connectorNode.offsetHeight) >> 1) - pos.y + \"px\";\r\n\t\t\t\tthis.connectorNode.style.left = \"\";\r\n\t\t\t}else if(pos.corner.charAt(1) == 'M' && pos.aroundCorner.charAt(1) == 'M'){\r\n\t\t\t\tthis.connectorNode.style.left = aroundNodeCoords.x + ((aroundNodeCoords.w - this.connectorNode.offsetWidth) >> 1) - pos.x + \"px\";\r\n\t\t\t}else{\r\n\t\t\t\t// Not *-centered, but just above/below/after/before\r\n\t\t\t\tthis.connectorNode.style.left = \"\";\r\n\t\t\t\tthis.connectorNode.style.top = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// show it\r\n\t\t\tdomStyle.set(this.domNode, \"opacity\", 0);\r\n\t\t\tthis.fadeIn.play();\r\n\t\t\tthis.isShowingNow = true;\r\n\t\t\tthis.aroundNode = aroundNode;\r\n\r\n\t\t\tthis.onMouseEnter = onMouseEnter || noop;\r\n\t\t\tthis.onMouseLeave = onMouseLeave || noop;\r\n\t\t},\r\n\r\n\t\torient: function(/*DomNode*/ node, /*String*/ aroundCorner, /*String*/ tooltipCorner, /*Object*/ spaceAvailable, /*Object*/ aroundNodeCoords){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPrivate function to set CSS for tooltip node based on which position it's in.\r\n\t\t\t//\t\tThis is called by the dijit popup code.   It will also reduce the tooltip's\r\n\t\t\t//\t\twidth to whatever width is available\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.connectorNode.style.top = \"\"; //reset to default\r\n\r\n\t\t\tvar heightAvailable = spaceAvailable.h,\r\n\t\t\t\twidthAvailable = spaceAvailable.w;\r\n\r\n\t\t\tnode.className = \"dijitTooltip \" +\r\n\t\t\t\t{\r\n\t\t\t\t\t\"MR-ML\": \"dijitTooltipRight\",\r\n\t\t\t\t\t\"ML-MR\": \"dijitTooltipLeft\",\r\n\t\t\t\t\t\"TM-BM\": \"dijitTooltipAbove\",\r\n\t\t\t\t\t\"BM-TM\": \"dijitTooltipBelow\",\r\n\t\t\t\t\t\"BL-TL\": \"dijitTooltipBelow dijitTooltipABLeft\",\r\n\t\t\t\t\t\"TL-BL\": \"dijitTooltipAbove dijitTooltipABLeft\",\r\n\t\t\t\t\t\"BR-TR\": \"dijitTooltipBelow dijitTooltipABRight\",\r\n\t\t\t\t\t\"TR-BR\": \"dijitTooltipAbove dijitTooltipABRight\",\r\n\t\t\t\t\t\"BR-BL\": \"dijitTooltipRight\",\r\n\t\t\t\t\t\"BL-BR\": \"dijitTooltipLeft\"\r\n\t\t\t\t}[aroundCorner + \"-\" + tooltipCorner];\r\n\r\n\t\t\t// reset width; it may have been set by orient() on a previous tooltip show()\r\n\t\t\tthis.domNode.style.width = \"auto\";\r\n\r\n\t\t\t// Reduce tooltip's width to the amount of width available, so that it doesn't overflow screen.\r\n\t\t\t// Note that sometimes widthAvailable is negative, but we guard against setting style.width to a\r\n\t\t\t// negative number since that causes an exception on IE.\r\n\t\t\tvar size = domGeometry.position(this.domNode);\r\n\t\t\tif(has(\"ie\") || has(\"trident\")){\r\n\t\t\t\t// workaround strange IE bug where setting width to offsetWidth causes words to wrap\r\n\t\t\t\tsize.w += 2;\r\n\t\t\t}\r\n\r\n\t\t\tvar width = Math.min((Math.max(widthAvailable,1)), size.w);\r\n\r\n\t\t\tdomGeometry.setMarginBox(this.domNode, {w: width});\r\n\r\n\t\t\t// Reposition the tooltip connector.\r\n\t\t\tif(tooltipCorner.charAt(0) == 'B' && aroundCorner.charAt(0) == 'B'){\r\n\t\t\t\tvar bb = domGeometry.position(node);\r\n\t\t\t\tvar tooltipConnectorHeight = this.connectorNode.offsetHeight;\r\n\t\t\t\tif(bb.h > heightAvailable){\r\n\t\t\t\t\t// The tooltip starts at the top of the page and will extend past the aroundNode\r\n\t\t\t\t\tvar aroundNodePlacement = heightAvailable - ((aroundNodeCoords.h + tooltipConnectorHeight) >> 1);\r\n\t\t\t\t\tthis.connectorNode.style.top = aroundNodePlacement + \"px\";\r\n\t\t\t\t\tthis.connectorNode.style.bottom = \"\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Align center of connector with center of aroundNode, except don't let bottom\r\n\t\t\t\t\t// of connector extend below bottom of tooltip content, or top of connector\r\n\t\t\t\t\t// extend past top of tooltip content\r\n\t\t\t\t\tthis.connectorNode.style.bottom = Math.min(\r\n\t\t\t\t\t\tMath.max(aroundNodeCoords.h/2 - tooltipConnectorHeight/2, 0),\r\n\t\t\t\t\t\tbb.h - tooltipConnectorHeight) + \"px\";\r\n\t\t\t\t\tthis.connectorNode.style.top = \"\";\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// reset the tooltip back to the defaults\r\n\t\t\t\tthis.connectorNode.style.top = \"\";\r\n\t\t\t\tthis.connectorNode.style.bottom = \"\";\r\n\t\t\t}\r\n\r\n\t\t\treturn Math.max(0, size.w - widthAvailable);\r\n\t\t},\r\n\r\n\t\t_onShow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled at end of fade-in operation\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// the arrow won't show up on a node w/an opacity filter\r\n\t\t\t\tthis.domNode.style.filter=\"\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thide: function(aroundNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide the tooltip\r\n\r\n\t\t\tif(this._onDeck && this._onDeck[1] == aroundNode){\r\n\t\t\t\t// this hide request is for a show() that hasn't even started yet;\r\n\t\t\t\t// just cancel the pending show()\r\n\t\t\t\tthis._onDeck=null;\r\n\t\t\t}else if(this.aroundNode === aroundNode){\r\n\t\t\t\t// this hide request is for the currently displayed tooltip\r\n\t\t\t\tthis.fadeIn.stop();\r\n\t\t\t\tthis.isShowingNow = false;\r\n\t\t\t\tthis.aroundNode = null;\r\n\t\t\t\tthis.fadeOut.play();\r\n\t\t\t}else{\r\n\t\t\t\t// just ignore the call, it's for a tooltip that has already been erased\r\n\t\t\t}\r\n\r\n\t\t\tthis.onMouseEnter = this.onMouseLeave = noop;\r\n\t\t},\r\n\r\n\t\t_onHide: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled at end of fade-out operation\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.domNode.style.cssText=\"\";\t// to position offscreen again\r\n\t\t\tthis.containerNode.innerHTML=\"\";\r\n\t\t\tif(this._onDeck){\r\n\t\t\t\t// a show request has been queued up; do it now\r\n\t\t\t\tthis.show.apply(this, this._onDeck);\r\n\t\t\t\tthis._onDeck=null;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tMasterTooltip.extend({\r\n\t\t\t_setAutoTextDir: function(/*Object*/node){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tResolve \"auto\" text direction for children nodes\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprivate\r\n\r\n\t\t\t\tthis.applyTextDir(node);\r\n\t\t\t\tarray.forEach(node.children, function(child){ this._setAutoTextDir(child); }, this);\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(/*String*/ textDir){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tSetter for textDir.\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tUsers shouldn't call this function; they should be calling\r\n\t\t\t\t//\t\tset('textDir', value)\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprivate\r\n\r\n\t\t\t\tthis._set(\"textDir\", textDir);\r\n\r\n\t\t\t\tif (textDir == \"auto\"){\r\n\t\t\t\t\tthis._setAutoTextDir(this.containerNode);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.containerNode.dir = this.textDir;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdijit.showTooltip = function(innerHTML, aroundNode, position, rtl, textDir, onMouseEnter, onMouseLeave){\r\n\t\t// summary:\r\n\t\t//\t\tStatic method to display tooltip w/specified contents in specified position.\r\n\t\t//\t\tSee description of dijit/Tooltip.defaultPosition for details on position parameter.\r\n\t\t//\t\tIf position is not specified then dijit/Tooltip.defaultPosition is used.\r\n\t\t// innerHTML: String\r\n\t\t//\t\tContents of the tooltip\r\n\t\t// aroundNode: place.__Rectangle\r\n\t\t//\t\tSpecifies that tooltip should be next to this node / area\r\n\t\t// position: String[]?\r\n\t\t//\t\tList of positions to try to position tooltip (ex: [\"right\", \"above\"])\r\n\t\t// rtl: Boolean?\r\n\t\t//\t\tCorresponds to `WidgetBase.dir` attribute, where false means \"ltr\" and true\r\n\t\t//\t\tmeans \"rtl\"; specifies GUI direction, not text direction.\r\n\t\t// textDir: String?\r\n\t\t//\t\tCorresponds to `WidgetBase.textdir` attribute; specifies direction of text.\r\n\t\t// onMouseEnter: Function?\r\n\t\t//\t\tCallback function for mouse over on tooltip\r\n\t\t// onMouseLeave: Function?\r\n\t\t//\t\tCallback function for mouse leave on tooltip\r\n\r\n\t\t// After/before don't work, but for back-compat convert them to the working after-centered, before-centered.\r\n\t\t// Possibly remove this in 2.0.   Alternately, get before/after to work.\r\n\t\tif(position){\r\n\t\t\tposition = array.map(position, function(val){\r\n\t\t\t\treturn {after: \"after-centered\", before: \"before-centered\"}[val] || val;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(!Tooltip._masterTT){ dijit._masterTT = Tooltip._masterTT = new MasterTooltip(); }\r\n\t\treturn Tooltip._masterTT.show(innerHTML, aroundNode, position, rtl, textDir, onMouseEnter, onMouseLeave);\r\n\t};\r\n\r\n\tdijit.hideTooltip = function(aroundNode){\r\n\t\t// summary:\r\n\t\t//\t\tStatic method to hide the tooltip displayed via showTooltip()\r\n\t\treturn Tooltip._masterTT && Tooltip._masterTT.hide(aroundNode);\r\n\t};\r\n\r\n\t// Possible states for a tooltip, see Tooltip.state property for definitions\r\n\tvar DORMANT = \"DORMANT\",\r\n\t\tSHOW_TIMER = \"SHOW TIMER\",\r\n\t\tSHOWING = \"SHOWING\",\r\n\t\tHIDE_TIMER = \"HIDE TIMER\";\r\n\r\n\tfunction noop(){}\r\n\r\n\tvar Tooltip = declare(\"dijit.Tooltip\", _Widget, {\r\n\t\t// summary:\r\n\t\t//\t\tPops up a tooltip (a help message) when you hover over a node.\r\n\t\t//\t\tAlso provides static show() and hide() methods that can be used without instantiating a dijit/Tooltip.\r\n\r\n\t\t// label: String\r\n\t\t//\t\tHTML to display in the tooltip.\r\n\t\t//\t\tSpecified as innerHTML when creating the widget from markup.\r\n\t\tlabel: \"\",\r\n\r\n\t\t// showDelay: Integer\r\n\t\t//\t\tNumber of milliseconds to wait after hovering over/focusing on the object, before\r\n\t\t//\t\tthe tooltip is displayed.\r\n\t\tshowDelay: 400,\r\n\r\n\t\t// hideDelay: Integer\r\n\t\t//\t\tNumber of milliseconds to wait after unhovering the object, before\r\n\t\t//\t\tthe tooltip is hidden.  Note that blurring an object hides the tooltip immediately.\r\n\t\thideDelay: 400,\r\n\r\n\t\t// connectId: String|String[]|DomNode|DomNode[]\r\n\t\t//\t\tId of domNode(s) to attach the tooltip to.\r\n\t\t//\t\tWhen user hovers over specified dom node(s), the tooltip will appear.\r\n\t\tconnectId: [],\r\n\r\n\t\t// position: String[]\r\n\t\t//\t\tSee description of `dijit/Tooltip.defaultPosition` for details on position parameter.\r\n\t\tposition: [],\r\n\r\n\t\t// selector: String?\r\n\t\t//\t\tCSS expression to apply this Tooltip to descendants of connectIds, rather than to\r\n\t\t//\t\tthe nodes specified by connectIds themselves.    Useful for applying a Tooltip to\r\n\t\t//\t\ta range of rows in a table, tree, etc.   Use in conjunction with getContent() parameter.\r\n\t\t//\t\tEx: connectId: myTable, selector: \"tr\", getContent: function(node){ return ...; }\r\n\t\t//\r\n\t\t//\t\tThe application must require() an appropriate level of dojo/query to handle the selector.\r\n\t\tselector: \"\",\r\n\r\n\t\t// TODO: in 2.0 remove support for multiple connectIds.   selector gives the same effect.\r\n\t\t// So, change connectId to a \"\", remove addTarget()/removeTarget(), etc.\r\n\r\n\t\t_setConnectIdAttr: function(/*String|String[]|DomNode|DomNode[]*/ newId){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConnect to specified node(s)\r\n\r\n\t\t\t// Remove connections to old nodes (if there are any)\r\n\t\t\tarray.forEach(this._connections || [], function(nested){\r\n\t\t\t\tarray.forEach(nested, function(handle){ handle.remove(); });\r\n\t\t\t}, this);\r\n\r\n\t\t\t// Make array of id's to connect to, excluding entries for nodes that don't exist yet, see startup()\r\n\t\t\tthis._connectIds = array.filter(lang.isArrayLike(newId) ? newId : (newId ? [newId] : []),\r\n\t\t\t\t\tfunction(id){ return dom.byId(id, this.ownerDocument); }, this);\r\n\r\n\t\t\t// Make connections\r\n\t\t\tthis._connections = array.map(this._connectIds, function(id){\r\n\t\t\t\tvar node = dom.byId(id, this.ownerDocument),\r\n\t\t\t\t\tselector = this.selector,\r\n\t\t\t\t\tdelegatedEvent = selector ?\r\n\t\t\t\t\t\tfunction(eventType){ return on.selector(selector, eventType); } :\r\n\t\t\t\t\t\tfunction(eventType){ return eventType; },\r\n\t\t\t\t\tself = this;\r\n\t\t\t\treturn [\r\n\t\t\t\t\ton(node, delegatedEvent(mouse.enter), function(){\r\n\t\t\t\t\t\tself._onHover(this);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ton(node, delegatedEvent(\"focusin\"), function(){\r\n\t\t\t\t\t\tself._onHover(this);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ton(node, delegatedEvent(mouse.leave), lang.hitch(self, \"_onUnHover\")),\r\n\t\t\t\t\ton(node, delegatedEvent(\"focusout\"), lang.hitch(self, \"set\", \"state\", DORMANT))\r\n\t\t\t\t];\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis._set(\"connectId\", newId);\r\n\t\t},\r\n\r\n\t\taddTarget: function(/*OomNode|String*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach tooltip to specified node if it's not already connected\r\n\r\n\t\t\t// TODO: remove in 2.0 and just use set(\"connectId\", ...) interface\r\n\r\n\t\t\tvar id = node.id || node;\r\n\t\t\tif(array.indexOf(this._connectIds, id) == -1){\r\n\t\t\t\tthis.set(\"connectId\", this._connectIds.concat(id));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveTarget: function(/*DomNode|String*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetach tooltip from specified node\r\n\r\n\t\t\t// TODO: remove in 2.0 and just use set(\"connectId\", ...) interface\r\n\r\n\t\t\tvar id = node.id || node,\t// map from DOMNode back to plain id string\r\n\t\t\t\tidx = array.indexOf(this._connectIds, id);\r\n\t\t\tif(idx >= 0){\r\n\t\t\t\t// remove id (modifies original this._connectIds but that's OK in this case)\r\n\t\t\t\tthis._connectIds.splice(idx, 1);\r\n\t\t\t\tthis.set(\"connectId\", this._connectIds);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomClass.add(this.domNode,\"dijitTooltipData\");\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// If this tooltip was created in a template, or for some other reason the specified connectId[s]\r\n\t\t\t// didn't exist during the widget's initialization, then connect now.\r\n\t\t\tvar ids = this.connectId;\r\n\t\t\tarray.forEach(lang.isArrayLike(ids) ? ids : [ids], this.addTarget, this);\r\n\t\t},\r\n\r\n\t\tgetContent: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser overridable function that return the text to display in the tooltip.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn this.label || this.domNode.innerHTML;\r\n\t\t},\r\n\r\n\t\t// state: [private readonly] String\r\n\t\t//\t\tOne of:\r\n\t\t//\r\n\t\t//\t\t- DORMANT: tooltip not SHOWING\r\n\t\t//\t\t- SHOW TIMER: tooltip not SHOWING but timer set to show it\r\n\t\t//\t\t- SHOWING: tooltip displayed\r\n\t\t//\t\t- HIDE TIMER: tooltip displayed, but timer set to hide it\r\n\t\tstate: DORMANT,\r\n\t\t_setStateAttr: function(val){\r\n\t\t\tif(this.state == val ||\r\n\t\t\t\t(val == SHOW_TIMER && this.state == SHOWING) ||\r\n\t\t\t\t(val == HIDE_TIMER && this.state == DORMANT)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._hideTimer){\r\n\t\t\t\tthis._hideTimer.remove();\r\n\t\t\t\tdelete this._hideTimer;\r\n\t\t\t}\r\n\t\t\tif(this._showTimer){\r\n\t\t\t\tthis._showTimer.remove();\r\n\t\t\t\tdelete this._showTimer;\r\n\t\t\t}\r\n\r\n\t\t\tswitch(val){\r\n\t\t\t\tcase DORMANT:\r\n\t\t\t\t\tif(this._connectNode){\r\n\t\t\t\t\t\tTooltip.hide(this._connectNode);\r\n\t\t\t\t\t\tdelete this._connectNode;\r\n\t\t\t\t\t\tthis.onHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SHOW_TIMER:\t // set timer to show tooltip\r\n\t\t\t\t\t// should only get here from a DORMANT state, i.e. tooltip can't be already SHOWING\r\n\t\t\t\t\tif(this.state != SHOWING){\r\n\t\t\t\t\t\tthis._showTimer = this.defer(function(){ this.set(\"state\", SHOWING); }, this.showDelay);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SHOWING:\t\t// show tooltip and clear timers\r\n\t\t\t\t\tvar content = this.getContent(this._connectNode);\r\n\t\t\t\t\tif(!content){\r\n\t\t\t\t\t\tthis.set(\"state\", DORMANT);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Show tooltip and setup callbacks for mouseenter/mouseleave of tooltip itself\r\n\t\t\t\t\tTooltip.show(content, this._connectNode, this.position, !this.isLeftToRight(), this.textDir,\r\n\t\t\t\t\t\tlang.hitch(this, \"set\", \"state\", SHOWING), lang.hitch(this, \"set\", \"state\", HIDE_TIMER));\r\n\r\n\t\t\t\t\tthis.onShow(this._connectNode, this.position);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase HIDE_TIMER:\t// set timer set to hide tooltip\r\n\t\t\t\t\tthis._hideTimer = this.defer(function(){ this.set(\"state\", DORMANT); }, this.hideDelay);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis._set(\"state\", val);\r\n\t\t},\r\n\r\n\t\t_onHover: function(/*DomNode*/ target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDespite the name of this method, it actually handles both hover and focus\r\n\t\t\t//\t\tevents on the target node, setting a timer to show the tooltip.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this._connectNode && target != this._connectNode){\r\n\t\t\t\t// Tooltip is displaying for another node\r\n\t\t\t\tthis.set(\"state\", DORMANT);\r\n\t\t\t}\r\n\t\t\tthis._connectNode = target;\t\t// _connectNode means \"tooltip currently displayed for this node\"\r\n\r\n\t\t\tthis.set(\"state\", SHOW_TIMER);\t// no-op if show-timer already set, or if already showing\r\n\t\t},\r\n\r\n\t\t_onUnHover: function(/*DomNode*/ target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles mouseleave event on the target node, hiding the tooltip.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.set(\"state\", HIDE_TIMER);\t\t// no-op if already dormant, or if hide-timer already set\r\n\t\t},\r\n\r\n\t\t// open() and close() aren't used anymore, except from the _BidiSupport/misc/Tooltip test.\r\n\t\t// Should probably remove for 2.0, but leaving for now.\r\n\t\topen: function(/*DomNode*/ target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplay the tooltip; usually not called directly.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.set(\"state\", DORMANT);\r\n\t\t\tthis._connectNode = target;\t\t// _connectNode means \"tooltip currently displayed for this node\"\r\n\t\t\tthis.set(\"state\", SHOWING);\r\n\t\t},\r\n\r\n\t\tclose: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide the tooltip or cancel timer for show of tooltip\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.set(\"state\", DORMANT);\r\n\t\t},\r\n\r\n\t\tonShow: function(/*===== target, position =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the tooltip is shown\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonHide: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the tooltip is hidden\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis.set(\"state\", DORMANT);\r\n\r\n\t\t\t// Remove connections manually since they aren't registered to be removed by _WidgetBase\r\n\t\t\tarray.forEach(this._connections || [], function(nested){\r\n\t\t\t\tarray.forEach(nested, function(handle){ handle.remove(); });\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tTooltip._MasterTooltip = MasterTooltip;\t\t// for monkey patching\r\n\tTooltip.show = dijit.showTooltip;\t\t// export function through module return value\r\n\tTooltip.hide = dijit.hideTooltip;\t\t// export function through module return value\r\n\r\n\tTooltip.defaultPosition = [\"after-centered\", \"before-centered\"];\r\n\r\n\t/*=====\r\n\tlang.mixin(Tooltip, {\r\n\t\t // defaultPosition: String[]\r\n\t\t //\t\tThis variable controls the position of tooltips, if the position is not specified to\r\n\t\t //\t\tthe Tooltip widget or *TextBox widget itself.  It's an array of strings with the values\r\n\t\t //\t\tpossible for `dijit/place.around()`.   The recommended values are:\r\n\t\t //\r\n\t\t //\t\t- before-centered: centers tooltip to the left of the anchor node/widget, or to the right\r\n\t\t //\t\t  in the case of RTL scripts like Hebrew and Arabic\r\n\t\t //\t\t- after-centered: centers tooltip to the right of the anchor node/widget, or to the left\r\n\t\t //\t\t  in the case of RTL scripts like Hebrew and Arabic\r\n\t\t //\t\t- above-centered: tooltip is centered above anchor node\r\n\t\t //\t\t- below-centered: tooltip is centered above anchor node\r\n\t\t //\r\n\t\t //\t\tThe list is positions is tried, in order, until a position is found where the tooltip fits\r\n\t\t //\t\twithin the viewport.\r\n\t\t //\r\n\t\t //\t\tBe careful setting this parameter.  A value of \"above-centered\" may work fine until the user scrolls\r\n\t\t //\t\tthe screen so that there's no room above the target node.   Nodes with drop downs, like\r\n\t\t //\t\tDropDownButton or FilteringSelect, are especially problematic, in that you need to be sure\r\n\t\t //\t\tthat the drop down and tooltip don't overlap, even when the viewport is scrolled so that there\r\n\t\t //\t\tis only room below (or above) the target node, but not both.\r\n\t });\r\n\t=====*/\r\n\treturn Tooltip;\r\n});\r\n\n\n\ndefine('dijit/form/ValidationTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"./TextBox\",\r\n\t\"../Tooltip\",\r\n\t\"dojo/text!./templates/ValidationTextBox.html\",\r\n\t\"dojo/i18n!./nls/validate\"\r\n], function(declare, kernel, lang, i18n, TextBox, Tooltip, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/ValidationTextBox\r\n\r\n\r\n\t/*=====\r\n\tvar __Constraints = {\r\n\t\t// locale: String\r\n\t\t//\t\tlocale used for validation, picks up value from this widget's lang attribute\r\n\t\t// _flags_: anything\r\n\t\t//\t\tvarious flags passed to pattern function\r\n\t};\r\n\t=====*/\r\n\r\n\tvar ValidationTextBox;\r\n\treturn ValidationTextBox = declare(\"dijit.form.ValidationTextBox\", TextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for textbox widgets with the ability to validate content of various types and provide user feedback.\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// required: Boolean\r\n\t\t//\t\tUser is required to enter data into this field.\r\n\t\trequired: false,\r\n\r\n\t\t// promptMessage: String\r\n\t\t//\t\tIf defined, display this hint string immediately on focus to the textbox, if empty.\r\n\t\t//\t\tAlso displays if the textbox value is Incomplete (not yet valid but will be with additional input).\r\n\t\t//\t\tThink of this like a tooltip that tells the user what to do, not an error message\r\n\t\t//\t\tthat tells the user what they've done wrong.\r\n\t\t//\r\n\t\t//\t\tMessage disappears when user starts typing.\r\n\t\tpromptMessage: \"\",\r\n\r\n\t\t// invalidMessage: String\r\n\t\t//\t\tThe message to display if value is invalid.\r\n\t\t//\t\tThe translated string value is read from the message file by default.\r\n\t\t//\t\tSet to \"\" to use the promptMessage instead.\r\n\t\tinvalidMessage: \"$_unset_$\",\r\n\r\n\t\t// missingMessage: String\r\n\t\t//\t\tThe message to display if value is empty and the field is required.\r\n\t\t//\t\tThe translated string value is read from the message file by default.\r\n\t\t//\t\tSet to \"\" to use the invalidMessage instead.\r\n\t\tmissingMessage: \"$_unset_$\",\r\n\r\n\t\t// message: String\r\n\t\t//\t\tCurrently error/prompt message.\r\n\t\t//\t\tWhen using the default tooltip implementation, this will only be\r\n\t\t//\t\tdisplayed when the field is focused.\r\n\t\tmessage: \"\",\r\n\r\n\t\t// constraints: __Constraints\r\n\t\t//\t\tuser-defined object needed to pass parameters to the validator functions\r\n\t\tconstraints: {},\r\n\r\n\t\t// pattern: [extension protected] String|Function(constraints) returning a string.\r\n\t\t//\t\tThis defines the regular expression used to validate the input.\r\n\t\t//\t\tDo not add leading ^ or $ characters since the widget adds these.\r\n\t\t//\t\tA function may be used to generate a valid pattern when dependent on constraints or other runtime factors.\r\n\t\t//\t\tset('pattern', String|Function).\r\n\t\tpattern: \".*\",\r\n\r\n\t\t// regExp: Deprecated [extension protected] String.  Use \"pattern\" instead.\r\n\t\tregExp: \"\",\r\n\r\n\t\tregExpGen: function(/*__Constraints*/ /*===== constraints =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('pattern', Function) instead.\r\n\t\t},\r\n\r\n\t\t// state: [readonly] String\r\n\t\t//\t\tShows current state (ie, validation result) of input (\"\"=Normal, Incomplete, or Error)\r\n\t\tstate: \"\",\r\n\r\n\t\t// tooltipPosition: String[]\r\n\t\t//\t\tSee description of `dijit/Tooltip.defaultPosition` for details on this parameter.\r\n\t\ttooltipPosition: [],\r\n\r\n\t\t_deprecateRegExp: function(attr, value){\r\n\t\t\tif(value != ValidationTextBox.prototype[attr]){\r\n\t\t\t\tkernel.deprecated(\"ValidationTextBox id=\"+this.id+\", set('\" + attr + \"', ...) is deprecated.  Use set('pattern', ...) instead.\", \"\", \"2.0\");\r\n\t\t\t\tthis.set('pattern', value);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setRegExpGenAttr: function(/*Function*/ newFcn){\r\n\t\t\tthis._deprecateRegExp(\"regExpGen\", newFcn);\r\n\t\t\tthis._set(\"regExpGen\", this._computeRegexp); // backward compat with this.regExpGen(this.constraints)\r\n\t\t},\r\n\t\t_setRegExpAttr: function(/*String*/ value){\r\n\t\t\tthis._deprecateRegExp(\"regExp\", value);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', ...) works.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\tvalidator: function(/*anything*/ value, /*__Constraints*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function used to validate the text input against the regular expression.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn (new RegExp(\"^(?:\" + this._computeRegexp(constraints) + \")\"+(this.required?\"\":\"?\")+\"$\")).test(value) &&\r\n\t\t\t\t(!this.required || !this._isEmpty(value)) &&\r\n\t\t\t\t(this._isEmpty(value) || this.parse(value, constraints) !== undefined); // Boolean\r\n\t\t},\r\n\r\n\t\t_isValidSubset: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if the value is either already valid or could be made valid by appending characters.\r\n\t\t\t//\t\tThis is used for validation while the user [may be] still typing.\r\n\t\t\treturn this.textbox.value.search(this._partialre) == 0;\r\n\t\t},\r\n\r\n\t\tisValid: function(/*Boolean*/ /*===== isFocused =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests if value is valid.\r\n\t\t\t//\t\tCan override with your own routine in a subclass.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this.validator(this.textbox.value, this.get('constraints'));\r\n\t\t},\r\n\r\n\t\t_isEmpty: function(value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks for whitespace\r\n\t\t\treturn (this.trim ? /^\\s*$/ : /^$/).test(value); // Boolean\r\n\t\t},\r\n\r\n\t\tgetErrorMessage: function(/*Boolean*/ /*===== isFocused =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn an error message to show if appropriate\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar invalid = this.invalidMessage == \"$_unset_$\" ? this.messages.invalidMessage :\r\n\t\t\t\t!this.invalidMessage ? this.promptMessage : this.invalidMessage;\r\n\t\t\tvar missing = this.missingMessage == \"$_unset_$\" ? this.messages.missingMessage :\r\n\t\t\t\t!this.missingMessage ? invalid : this.missingMessage;\r\n\t\t\treturn (this.required && this._isEmpty(this.textbox.value)) ? missing : invalid; // String\r\n\t\t},\r\n\r\n\t\tgetPromptMessage: function(/*Boolean*/ /*===== isFocused =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn a hint message to show when widget is first focused\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this.promptMessage; // String\r\n\t\t},\r\n\r\n\t\t_maskValidSubsetError: true,\r\n\t\tvalidate: function(/*Boolean*/ isFocused){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled by oninit, onblur, and onkeypress.\r\n\t\t\t// description:\r\n\t\t\t//\t\tShow missing or invalid messages if appropriate, and highlight textbox field.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar message = \"\";\r\n\t\t\tvar isValid = this.disabled || this.isValid(isFocused);\r\n\t\t\tif(isValid){ this._maskValidSubsetError = true; }\r\n\t\t\tvar isEmpty = this._isEmpty(this.textbox.value);\r\n\t\t\tvar isValidSubset = !isValid && isFocused && this._isValidSubset();\r\n\t\t\tthis._set(\"state\", isValid ? \"\" : (((((!this._hasBeenBlurred || isFocused) && isEmpty) || isValidSubset) && (this._maskValidSubsetError || (isValidSubset && !this._hasBeenBlurred && isFocused))) ? \"Incomplete\" : \"Error\"));\r\n\t\t\tthis.focusNode.setAttribute(\"aria-invalid\", this.state == \"Error\" ? \"true\" : \"false\");\r\n\r\n\t\t\tif(this.state == \"Error\"){\r\n\t\t\t\tthis._maskValidSubsetError = isFocused && isValidSubset; // we want the error to show up after a blur and refocus\r\n\t\t\t\tmessage = this.getErrorMessage(isFocused);\r\n\t\t\t}else if(this.state == \"Incomplete\"){\r\n\t\t\t\tmessage = this.getPromptMessage(isFocused); // show the prompt whenever the value is not yet complete\r\n\t\t\t\tthis._maskValidSubsetError = !this._hasBeenBlurred || isFocused; // no Incomplete warnings while focused\r\n\t\t\t}else if(isEmpty){\r\n\t\t\t\tmessage = this.getPromptMessage(isFocused); // show the prompt whenever there's no error and no text\r\n\t\t\t}\r\n\t\t\tthis.set(\"message\", message);\r\n\r\n\t\t\treturn isValid;\r\n\t\t},\r\n\r\n\t\tdisplayMessage: function(/*String*/ message){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable method to display validation errors/hints.\r\n\t\t\t//\t\tBy default uses a tooltip.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\tif(message && this.focused){\r\n\t\t\t\tTooltip.show(message, this.domNode, this.tooltipPosition, !this.isLeftToRight());\r\n\t\t\t}else{\r\n\t\t\t\tTooltip.hide(this.domNode);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_refreshState: function(){\r\n\t\t\t// Overrides TextBox._refreshState()\r\n\t\t\tif(this._created){ // should instead be this._started but that would require all programmatic ValidationTextBox instantiations to call startup()\r\n\t\t\t\tthis.validate(this.focused);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t//////////// INITIALIZATION METHODS ///////////////////////////////////////\r\n\r\n\t\tconstructor: function(params /*===== , srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree.\r\n\r\n\t\t\tthis.constraints = lang.clone(this.constraints);\r\n\t\t\tthis.baseClass += ' dijitValidationTextBox';\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._refreshState(); // after all _set* methods have run\r\n\t\t},\r\n\r\n\t\t_setConstraintsAttr: function(/*__Constraints*/ constraints){\r\n\t\t\tif(!constraints.locale && this.lang){\r\n\t\t\t\tconstraints.locale = this.lang;\r\n\t\t\t}\r\n\t\t\tthis._set(\"constraints\", constraints);\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\t_setPatternAttr: function(/*String|Function*/ pattern){\r\n\t\t\tthis._set(\"pattern\", pattern); // don't set on INPUT to avoid native HTML5 validation\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\t_computeRegexp: function(/*__Constraints*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to get the current regExp and to compute the partial validation RE.\r\n\r\n\t\t\tvar p = this.pattern;\r\n\t\t\tif(typeof p == \"function\"){\r\n\t\t\t\tp = p.call(this, constraints);\r\n\t\t\t}\r\n\t\t\tif(p != this._lastRegExp){\r\n\t\t\t\tvar partialre = \"\";\r\n\t\t\t\tthis._lastRegExp = p;\r\n\t\t\t\t// parse the regexp and produce a new regexp that matches valid subsets\r\n\t\t\t\t// if the regexp is .* then there's no use in matching subsets since everything is valid\r\n\t\t\t\tif(p != \".*\"){\r\n\t\t\t\t\tp.replace(/\\\\.|\\[\\]|\\[.*?[^\\\\]{1}\\]|\\{.*?\\}|\\(\\?[=:!]|./g,\r\n\t\t\t\t\tfunction(re){\r\n\t\t\t\t\t\tswitch(re.charAt(0)){\r\n\t\t\t\t\t\t\tcase '{':\r\n\t\t\t\t\t\t\tcase '+':\r\n\t\t\t\t\t\t\tcase '?':\r\n\t\t\t\t\t\t\tcase '*':\r\n\t\t\t\t\t\t\tcase '^':\r\n\t\t\t\t\t\t\tcase '$':\r\n\t\t\t\t\t\t\tcase '|':\r\n\t\t\t\t\t\t\tcase '(':\r\n\t\t\t\t\t\t\t\tpartialre += re;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \")\":\r\n\t\t\t\t\t\t\t\tpartialre += \"|$)\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t default:\r\n\t\t\t\t\t\t\t\tpartialre += \"(?:\"+re+\"|$)\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttry{ // this is needed for now since the above regexp parsing needs more test verification\r\n\t\t\t\t\t\"\".search(partialre);\r\n\t\t\t\t}catch(e){ // should never be here unless the original RE is bad or the parsing is bad\r\n\t\t\t\t\tpartialre = this.pattern;\r\n\t\t\t\t\tconsole.warn('RegExp error in ' + this.declaredClass + ': ' + this.pattern);\r\n\t\t\t\t} // should never be here unless the original RE is bad or the parsing is bad\r\n\t\t\t\tthis._partialre = \"^(?:\" + partialre + \")$\";\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.messages = i18n.getLocalization(\"dijit.form\", \"validate\", this.lang);\r\n\t\t\tthis._setConstraintsAttr(this.constraints); // this needs to happen now (and later) due to codependency on _set*Attr calls attachPoints\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\tthis.inherited(arguments);\t// call FormValueWidget._setDisabledAttr()\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\t_setRequiredAttr: function(/*Boolean*/ value){\r\n\t\t\tthis._set(\"required\", value);\r\n\t\t\tthis.focusNode.setAttribute(\"aria-required\", value);\r\n\t\t\tthis._refreshState();\r\n\t\t},\r\n\r\n\t\t_setMessageAttr: function(/*String*/ message){\r\n\t\t\tthis._set(\"message\", message);\r\n\t\t\tthis.displayMessage(message);\r\n\t\t},\r\n\r\n\t\treset:function(){\r\n\t\t\t// Overrides dijit/form/TextBox.reset() by also\r\n\t\t\t// hiding errors about partial matches\r\n\t\t\tthis._maskValidSubsetError = true;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// the message still exists but for back-compat, and to erase the tooltip\r\n\t\t\t// (if the message is being displayed as a tooltip), call displayMessage('')\r\n\t\t\tthis.displayMessage('');\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tTooltip.hide(this.domNode);\t// in case tooltip show when ValidationTextBox (or enclosing Dialog) destroyed\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/MappedTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/sniff\", // has(\"msapp\")\r\n\t\"dojo/dom-construct\", // domConstruct.place\r\n\t\"./ValidationTextBox\"\r\n], function(declare, has, domConstruct, ValidationTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/MappedTextBox\r\n\r\n\treturn declare(\"dijit.form.MappedTextBox\", ValidationTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tA dijit/form/ValidationTextBox subclass which provides a base class for widgets that have\r\n\t\t//\t\ta visible formatted display value, and a serializable\r\n\t\t//\t\tvalue in a hidden input field which is actually sent to the server.\r\n\t\t// description:\r\n\t\t//\t\tThe visible display may\r\n\t\t//\t\tbe locale-dependent and interactive.  The value sent to the server is stored in a hidden\r\n\t\t//\t\tinput field which uses the `name` attribute declared by the original widget.  That value sent\r\n\t\t//\t\tto the server is defined by the dijit/form/MappedTextBox.serialize() method and is typically\r\n\t\t//\t\tlocale-neutral.\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// We want the name attribute to go to the hidden <input>, not the displayed <input>,\r\n\t\t\t// so override _FormWidget.postMixInProperties() setting of nameAttrSetting for IE.\r\n\t\t\tthis.nameAttrSetting = \"\";\r\n\t\t},\r\n\r\n\t\t// Remap name attribute to be mapped to hidden node created in buildRendering(), rather than this.focusNode\r\n\t\t_setNameAttr: \"valueNode\",\r\n\r\n\t\tserialize: function(val /*=====, options =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function used to convert the get('value') result to a canonical\r\n\t\t\t//\t\t(non-localized) string.  For example, will print dates in ISO format, and\r\n\t\t\t//\t\tnumbers the same way as they are represented in javascript.\r\n\t\t\t// val: anything\r\n\t\t\t// options: Object?\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn val.toString ? val.toString() : \"\"; // String\r\n\t\t},\r\n\r\n\t\ttoString: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns widget as a printable string using the widget's value\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar val = this.filter(this.get('value')); // call filter in case value is nonstring and filter has been customized\r\n\t\t\treturn val != null ? (typeof val == \"string\" ? val : this.serialize(val, this.constraints)) : \"\"; // String\r\n\t\t},\r\n\r\n\t\tvalidate: function(){\r\n\t\t\t// Overrides `dijit/form/TextBox.validate`\r\n\t\t\tthis.valueNode.value = this.toString();\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// Overrides `dijit/_TemplatedMixin/buildRendering`\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Create a hidden <input> node with the serialized value used for submit\r\n\t\t\t// (as opposed to the displayed value).\r\n\t\t\t// Passing in name as markup rather than relying on _setNameAttr custom setter above\r\n\t\t\t// to make query(input[name=...]) work on IE. (see #8660).\r\n\t\t\t// But not doing that for Windows 8 Store apps because it causes a security exception (see #16452).\r\n\t\t\tthis.valueNode = domConstruct.place(\"<input type='hidden'\" +\r\n\t\t\t\t((this.name && !has(\"msapp\")) ? ' name=\"' + this.name.replace(/\"/g, \"&quot;\") + '\"' : \"\") + \"/>\",\r\n\t\t\t\tthis.textbox, \"after\");\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// Overrides `dijit/form/ValidationTextBox.reset` to\r\n\t\t\t// reset the hidden textbox value to ''\r\n\t\t\tthis.valueNode.value = '';\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/regexp',[\"./_base/kernel\", \"./_base/lang\"], function(dojo, lang){\r\n\r\n// module:\r\n//\t\tdojo/regexp\r\n\r\nvar regexp = {\r\n\t// summary:\r\n\t//\t\tRegular expressions and Builder resources\r\n};\r\nlang.setObject(\"dojo.regexp\", regexp);\r\n\r\nregexp.escapeString = function(/*String*/str, /*String?*/except){\r\n\t// summary:\r\n\t//\t\tAdds escape sequences for special characters in regular expressions\r\n\t// except:\r\n\t//\t\ta String with special characters to be left unescaped\r\n\r\n\treturn str.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+\\-^])/g, function(ch){\r\n\t\tif(except && except.indexOf(ch) != -1){\r\n\t\t\treturn ch;\r\n\t\t}\r\n\t\treturn \"\\\\\" + ch;\r\n\t}); // String\r\n};\r\n\r\nregexp.buildGroupRE = function(/*Object|Array*/arr, /*Function*/re, /*Boolean?*/nonCapture){\r\n\t// summary:\r\n\t//\t\tBuilds a regular expression that groups subexpressions\r\n\t// description:\r\n\t//\t\tA utility function used by some of the RE generators. The\r\n\t//\t\tsubexpressions are constructed by the function, re, in the second\r\n\t//\t\tparameter.  re builds one subexpression for each elem in the array\r\n\t//\t\ta, in the first parameter. Returns a string for a regular\r\n\t//\t\texpression that groups all the subexpressions.\r\n\t// arr:\r\n\t//\t\tA single value or an array of values.\r\n\t// re:\r\n\t//\t\tA function. Takes one parameter and converts it to a regular\r\n\t//\t\texpression.\r\n\t// nonCapture:\r\n\t//\t\tIf true, uses non-capturing match, otherwise matches are retained\r\n\t//\t\tby regular expression. Defaults to false\r\n\r\n\t// case 1: a is a single value.\r\n\tif(!(arr instanceof Array)){\r\n\t\treturn re(arr); // String\r\n\t}\r\n\r\n\t// case 2: a is an array\r\n\tvar b = [];\r\n\tfor(var i = 0; i < arr.length; i++){\r\n\t\t// convert each elem to a RE\r\n\t\tb.push(re(arr[i]));\r\n\t}\r\n\r\n\t // join the REs as alternatives in a RE group.\r\n\treturn regexp.group(b.join(\"|\"), nonCapture); // String\r\n};\r\n\r\nregexp.group = function(/*String*/expression, /*Boolean?*/nonCapture){\r\n\t// summary:\r\n\t//\t\tadds group match to expression\r\n\t// nonCapture:\r\n\t//\t\tIf true, uses non-capturing match, otherwise matches are retained\r\n\t//\t\tby regular expression.\r\n\treturn \"(\" + (nonCapture ? \"?:\":\"\") + expression + \")\"; // String\r\n};\r\n\r\nreturn regexp;\r\n});\r\n\ndefine('dijit/form/DataList',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.byId\r\n\t\"dojo/_base/lang\", // lang.trim\r\n\t\"dojo/query\", // query\r\n\t\"dojo/store/Memory\",\r\n\t\"../registry\"\t// registry.add registry.remove\r\n], function(declare, dom, lang, query, MemoryStore, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/DataList\r\n\r\n\tfunction toItem(/*DOMNode*/ option){\r\n\t\t// summary:\r\n\t\t//\t\tConvert `<option>` node to hash\r\n\t\treturn {\r\n\t\t\tid: option.value,\r\n\t\t\tvalue: option.value,\r\n\t\t\tname: lang.trim(option.innerText || option.textContent || '')\r\n\t\t};\r\n\t}\r\n\r\n\treturn declare(\"dijit.form.DataList\", MemoryStore, {\r\n\t\t// summary:\r\n\t\t//\t\tInefficient but small data store specialized for inlined data via OPTION tags\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tProvides a store for inlined data like:\r\n\t\t//\r\n\t\t//\t|\t<datalist>\r\n\t\t//\t|\t\t<option value=\"AL\">Alabama</option>\r\n\t\t//\t|\t\t...\r\n\r\n\t\tconstructor: function(params, srcNodeRef){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String\r\n\t\t\t//\t\tAttach widget to this DOM node.\r\n\r\n\t\t\t// store pointer to original DOM tree\r\n\t\t\tthis.domNode = dom.byId(srcNodeRef);\r\n\r\n\t\t\tlang.mixin(this, params);\r\n\t\t\tif(this.id){\r\n\t\t\t\tregistry.add(this); // add to registry so it can be easily found by id\r\n\t\t\t}\r\n\t\t\tthis.domNode.style.display = \"none\";\r\n\r\n\t\t\tthis.inherited(arguments, [{\r\n\t\t\t\tdata: query(\"option\", this.domNode).map(toItem)\r\n\t\t\t}]);\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tregistry.remove(this.id);\r\n\t\t},\r\n\r\n\t\tfetchSelectedItem: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the option marked as selected, like `<option selected>`.\r\n\t\t\t//\t\tNot part of dojo.data API.\r\n\t\t\tvar option = query(\"> option[selected]\", this.domNode)[0] || query(\"> option\", this.domNode)[0];\r\n\t\t\treturn option && toItem(option);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_SearchMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.clone lang.hitch\r\n\t\"dojo/query\", // query\r\n\t\"dojo/string\", // string.substitute\r\n\t\"dojo/when\",\r\n\t\"../registry\"\t// registry.byId\r\n], function(declare, keys, lang, query, string, when, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_SearchMixin\r\n\r\n\r\n\treturn declare(\"dijit.form._SearchMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin that implements the base functionality to search a store based upon user-entered text such as\r\n\t\t//\t\twith `dijit/form/ComboBox` or `dijit/form/FilteringSelect`\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t// pageSize: Integer\r\n\t\t//\t\tArgument to data provider.\r\n\t\t//\t\tSpecifies maximum number of search results to return per query\r\n\t\tpageSize: Infinity,\r\n\r\n\t\t// store: [const] dojo/store/api/Store\r\n\t\t//\t\tReference to data provider object used by this ComboBox.\r\n\t\t//\t\tThe store must accept an object hash of properties for its query. See `query` and `queryExpr` for details.\r\n\t\tstore: null,\r\n\r\n\t\t// fetchProperties: Object\r\n\t\t//\t\tMixin to the store's fetch.\r\n\t\t//\t\tFor example, to set the sort order of the ComboBox menu, pass:\r\n\t\t//\t|\t{ sort: [{attribute:\"name\",descending: true}] }\r\n\t\t//\t\tTo override the default queryOptions so that deep=false, do:\r\n\t\t//\t|\t{ queryOptions: {ignoreCase: true, deep: false} }\r\n\t\tfetchProperties:{},\r\n\r\n\t\t// query: Object\r\n\t\t//\t\tA query that can be passed to `store` to initially filter the items.\r\n\t\t//\t\tComboBox overwrites any reference to the `searchAttr` and sets it to the `queryExpr` with the user's input substituted.\r\n\t\tquery: {},\r\n\r\n\t\t// list: [const] String\r\n\t\t//\t\tAlternate to specifying a store.  Id of a dijit/form/DataList widget.\r\n\t\tlist: \"\",\r\n\t\t_setListAttr: function(list){\r\n\t\t\t// Avoid having list applied to the DOM node, since it has native meaning in modern browsers\r\n\t\t\tthis._set(\"list\", list);\r\n\t\t},\r\n\r\n\t\t// searchDelay: Integer\r\n\t\t//\t\tDelay in milliseconds between when user types something and we start\r\n\t\t//\t\tsearching based on that value\r\n\t\tsearchDelay: 200,\r\n\r\n\t\t// searchAttr: String\r\n\t\t//\t\tSearch for items in the data store where this attribute (in the item)\r\n\t\t//\t\tmatches what the user typed\r\n\t\tsearchAttr: \"name\",\r\n\r\n\t\t// queryExpr: String\r\n\t\t//\t\tThis specifies what query is sent to the data store,\r\n\t\t//\t\tbased on what the user has typed.  Changing this expression will modify\r\n\t\t//\t\twhether the results are only exact matches, a \"starting with\" match,\r\n\t\t//\t\tetc.\r\n\t\t//\t\t`${0}` will be substituted for the user text.\r\n\t\t//\t\t`*` is used for wildcards.\r\n\t\t//\t\t`${0}*` means \"starts with\", `*${0}*` means \"contains\", `${0}` means \"is\"\r\n\t\tqueryExpr: \"${0}*\",\r\n\r\n\t\t// ignoreCase: Boolean\r\n\t\t//\t\tSet true if the query should ignore case when matching possible items\r\n\t\tignoreCase: true,\r\n\r\n\t\t_patternToRegExp: function(pattern){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper function to convert a simple pattern to a regular expression for matching.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns a regular expression object that conforms to the defined conversion rules.\r\n\t\t\t//\t\tFor example:\r\n\t\t\t//\r\n\t\t\t//\t\t- ca*   -> /^ca.*$/\r\n\t\t\t//\t\t- *ca*  -> /^.*ca.*$/\r\n\t\t\t//\t\t- *c\\*a*  -> /^.*c\\*a.*$/\r\n\t\t\t//\t\t- *c\\*a?*  -> /^.*c\\*a..*$/\r\n\t\t\t//\r\n\t\t\t//\t\tand so on.\r\n\t\t\t// pattern: string\r\n\t\t\t//\t\tA simple matching pattern to convert that follows basic rules:\r\n\t\t\t//\r\n\t\t\t//\t\t- * Means match anything, so ca* means match anything starting with ca\r\n\t\t\t//\t\t- ? Means match single character.  So, b?b will match to bob and bab, and so on.\r\n\t\t\t//\t\t- \\ is an escape character.  So for example, \\* means do not treat * as a match, but literal character *.\r\n\t\t\t//\r\n\t\t\t//\t\tTo use a \\ as a character in the string, it must be escaped.  So in the pattern it should be\r\n\t\t\t//\t\trepresented by \\\\ to be treated as an ordinary \\ character instead of an escape.\r\n\r\n\t\t\treturn new RegExp(\"^\" + pattern.replace(/(\\\\.)|(\\*)|(\\?)|\\W/g, function(str, literal, star, question){\r\n\t\t\t\treturn star ? \".*\" : question ? \".\" : literal ? literal : \"\\\\\" + str;\r\n\t\t\t}) + \"$\", this.ignoreCase ? \"mi\" : \"m\");\r\n\t\t},\r\n\r\n\t\t_abortQuery: function(){\r\n\t\t\t// stop in-progress query\r\n\t\t\tif(this.searchTimer){\r\n\t\t\t\tthis.searchTimer = this.searchTimer.remove();\r\n\t\t\t}\r\n\t\t\tif(this._queryDeferHandle){\r\n\t\t\t\tthis._queryDeferHandle = this._queryDeferHandle.remove();\r\n\t\t\t}\r\n\t\t\tif(this._fetchHandle){\r\n\t\t\t\tif(this._fetchHandle.abort){\r\n\t\t\t\t\tthis._cancelingQuery = true;\r\n\t\t\t\t\tthis._fetchHandle.abort();\r\n\t\t\t\t\tthis._cancelingQuery = false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._fetchHandle.cancel){\r\n\t\t\t\t\tthis._cancelingQuery = true;\r\n\t\t\t\t\tthis._fetchHandle.cancel();\r\n\t\t\t\t\tthis._cancelingQuery = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis._fetchHandle = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_processInput: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles input (keyboard/paste) events\r\n\t\t\tif(this.disabled || this.readOnly){ return; }\r\n\t\t\tvar key = evt.charOrCode;\r\n\r\n\t\t\t// except for cutting/pasting case - ctrl + x/v\r\n\t\t\tif(\"type\" in evt && evt.type.substring(0,3) == \"key\" && (evt.altKey || ((evt.ctrlKey || evt.metaKey) && (key != 'x' && key != 'v')) || key == keys.SHIFT)){\r\n\t\t\t\treturn; // throw out weird key combinations and spurious events\r\n\t\t\t}\r\n\r\n\t\t\tvar doSearch = false;\r\n\t\t\tthis._prev_key_backspace = false;\r\n\r\n\t\t\tswitch(key){\r\n\t\t\t\tcase keys.DELETE:\r\n\t\t\t\tcase keys.BACKSPACE:\r\n\t\t\t\t\tthis._prev_key_backspace = true;\r\n\t\t\t\t\tthis._maskValidSubsetError = true;\r\n\t\t\t\t\tdoSearch = true;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// Non char keys (F1-F12 etc..) shouldn't start a search..\r\n\t\t\t\t\t// Ascii characters and IME input (Chinese, Japanese etc.) should.\r\n\t\t\t\t\t//IME input produces keycode == 229.\r\n\t\t\t\t\tdoSearch = typeof key == 'string' || key == 229;\r\n\t\t\t}\r\n\t\t\tif(doSearch){\r\n\t\t\t\t// need to wait a tad before start search so that the event\r\n\t\t\t\t// bubbles through DOM and we have value visible\r\n\t\t\t\tif(!this.store){\r\n\t\t\t\t\tthis.onSearch();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.searchTimer = this.defer(\"_startSearchFromInput\", 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonSearch: function(/*===== results, query, options =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a search completes.\r\n\t\t\t//\r\n\t\t\t// results: Object\r\n\t\t\t//\t\tAn array of items from the originating _SearchMixin's store.\r\n\t\t\t//\r\n\t\t\t// query: Object\r\n\t\t\t//\t\tA copy of the originating _SearchMixin's query property.\r\n\t\t\t//\r\n\t\t\t// options: Object\r\n\t\t\t//\t\tThe additional parameters sent to the originating _SearchMixin's store, including: start, count, queryOptions.\r\n\t\t\t//\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t_startSearchFromInput: function(){\r\n\t\t\tthis._startSearch(this.focusNode.value);\r\n\t\t},\r\n\r\n\t\t_startSearch: function(/*String*/ text){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStarts a search for elements matching text (text==\"\" means to return all items),\r\n\t\t\t//\t\tand calls onSearch(...) when the search completes, to display the results.\r\n\r\n\t\t\tthis._abortQuery();\r\n\t\t\tvar\r\n\t\t\t\t_this = this,\r\n\t\t\t\t// Setup parameters to be passed to store.query().\r\n\t\t\t\t// Create a new query to prevent accidentally querying for a hidden\r\n\t\t\t\t// value from FilteringSelect's keyField\r\n\t\t\t\tquery = lang.clone(this.query), // #5970\r\n\t\t\t\toptions = {\r\n\t\t\t\t\tstart: 0,\r\n\t\t\t\t\tcount: this.pageSize,\r\n\t\t\t\t\tqueryOptions: {\t\t// remove for 2.0\r\n\t\t\t\t\t\tignoreCase: this.ignoreCase,\r\n\t\t\t\t\t\tdeep: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tqs = string.substitute(this.queryExpr, [text.replace(/([\\\\\\*\\?])/g, \"\\\\$1\")]),\r\n\t\t\t\tq,\r\n\t\t\t\tstartQuery = function(){\r\n\t\t\t\t\tvar resPromise = _this._fetchHandle = _this.store.query(query, options);\r\n\t\t\t\t\tif(_this.disabled || _this.readOnly || (q !== _this._lastQuery)){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} // avoid getting unwanted notify\r\n\t\t\t\t\twhen(resPromise, function(res){\r\n\t\t\t\t\t\t_this._fetchHandle = null;\r\n\t\t\t\t\t\tif(!_this.disabled && !_this.readOnly && (q === _this._lastQuery)){ // avoid getting unwanted notify\r\n\t\t\t\t\t\t\twhen(resPromise.total, function(total){\r\n\t\t\t\t\t\t\t\tres.total = total;\r\n\t\t\t\t\t\t\t\tvar pageSize = _this.pageSize;\r\n\t\t\t\t\t\t\t\tif(isNaN(pageSize) || pageSize > res.total){ pageSize = res.total; }\r\n\t\t\t\t\t\t\t\t// Setup method to fetching the next page of results\r\n\t\t\t\t\t\t\t\tres.nextPage = function(direction){\r\n\t\t\t\t\t\t\t\t\t//\ttell callback the direction of the paging so the screen\r\n\t\t\t\t\t\t\t\t\t//\treader knows which menu option to shout\r\n\t\t\t\t\t\t\t\t\toptions.direction = direction = direction !== false;\r\n\t\t\t\t\t\t\t\t\toptions.count = pageSize;\r\n\t\t\t\t\t\t\t\t\tif(direction){\r\n\t\t\t\t\t\t\t\t\t\toptions.start += res.length;\r\n\t\t\t\t\t\t\t\t\t\tif(options.start >= res.total){\r\n\t\t\t\t\t\t\t\t\t\t\toptions.count = 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\toptions.start -= pageSize;\r\n\t\t\t\t\t\t\t\t\t\tif(options.start < 0){\r\n\t\t\t\t\t\t\t\t\t\t\toptions.count = Math.max(pageSize + options.start, 0);\r\n\t\t\t\t\t\t\t\t\t\t\toptions.start = 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(options.count <= 0){\r\n\t\t\t\t\t\t\t\t\t\tres.length = 0;\r\n\t\t\t\t\t\t\t\t\t\t_this.onSearch(res, query, options);\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tstartQuery();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t_this.onSearch(res, query, options);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, function(err){\r\n\t\t\t\t\t\t_this._fetchHandle = null;\r\n\t\t\t\t\t\tif(!_this._cancelingQuery){\t// don't treat canceled query as an error\r\n\t\t\t\t\t\t\tconsole.error(_this.declaredClass + ' ' + err.toString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\tlang.mixin(options, this.fetchProperties);\r\n\r\n\t\t\t// Generate query\r\n\t\t\tif(this.store._oldAPI){\r\n\t\t\t\t// remove this branch for 2.0\r\n\t\t\t\tq = qs;\r\n\t\t\t}else{\r\n\t\t\t\t// Query on searchAttr is a regex for benefit of dojo/store/Memory,\r\n\t\t\t\t// but with a toString() method to help dojo/store/JsonRest.\r\n\t\t\t\t// Search string like \"Co*\" converted to regex like /^Co.*$/i.\r\n\t\t\t\tq = this._patternToRegExp(qs);\r\n\t\t\t\tq.toString = function(){ return qs; };\r\n\t\t\t}\r\n\r\n\t\t\t// set _lastQuery, *then* start the timeout\r\n\t\t\t// otherwise, if the user types and the last query returns before the timeout,\r\n\t\t\t// _lastQuery won't be set and their input gets rewritten\r\n\t\t\tthis._lastQuery = query[this.searchAttr] = q;\r\n\t\t\tthis._queryDeferHandle = this.defer(startQuery, this.searchDelay);\r\n\t\t},\r\n\r\n\t\t//////////// INITIALIZATION METHODS ///////////////////////////////////////\r\n\r\n\t\tconstructor: function(){\r\n\t\t\tthis.query={};\r\n\t\t\tthis.fetchProperties={};\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tif(!this.store){\r\n\t\t\t\tvar list = this.list;\r\n\t\t\t\tif(list){\r\n\t\t\t\t\tthis.store = registry.byId(list);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_AutoCompleterMixin',[\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.get\r\n\t\"dojo/keys\",\r\n\t\"dojo/_base/lang\", // lang.clone lang.hitch\r\n\t\"dojo/query\", // query\r\n\t\"dojo/regexp\", // regexp.escapeString\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"./DataList\",\r\n\t\"./_TextBoxMixin\", // defines _TextBoxMixin.selectInputText\r\n\t\"./_SearchMixin\"\r\n], function(aspect, declare, domAttr, keys, lang, query, regexp, has, DataList, _TextBoxMixin, SearchMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_AutoCompleterMixin\r\n\r\n\tvar AutoCompleterMixin = declare(\"dijit.form._AutoCompleterMixin\", SearchMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin that implements the base functionality for `dijit/form/ComboBox`/`dijit/form/FilteringSelect`\r\n\t\t// description:\r\n\t\t//\t\tAll widgets that mix in dijit/form/_AutoCompleterMixin must extend `dijit/form/_FormValueWidget`.\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t// item: Object\r\n\t\t//\t\tThis is the item returned by the dojo/store/api/Store implementation that\r\n\t\t//\t\tprovides the data for this ComboBox, it's the currently selected item.\r\n\t\titem: null,\r\n\r\n\t\t// autoComplete: Boolean\r\n\t\t//\t\tIf user types in a partial string, and then tab out of the `<input>` box,\r\n\t\t//\t\tautomatically copy the first entry displayed in the drop down list to\r\n\t\t//\t\tthe `<input>` field\r\n\t\tautoComplete: true,\r\n\r\n\t\t// highlightMatch: String\r\n\t\t//\t\tOne of: \"first\", \"all\" or \"none\".\r\n\t\t//\r\n\t\t//\t\tIf the ComboBox/FilteringSelect opens with the search results and the searched\r\n\t\t//\t\tstring can be found, it will be highlighted.  If set to \"all\"\r\n\t\t//\t\tthen will probably want to change `queryExpr` parameter to '*${0}*'\r\n\t\t//\r\n\t\t//\t\tHighlighting is only performed when `labelType` is \"text\", so as to not\r\n\t\t//\t\tinterfere with any HTML markup an HTML label might contain.\r\n\t\thighlightMatch: \"first\",\r\n\r\n\t\t// labelAttr: String?\r\n\t\t//\t\tThe entries in the drop down list come from this attribute in the\r\n\t\t//\t\tdojo.data items.\r\n\t\t//\t\tIf not specified, the searchAttr attribute is used instead.\r\n\t\tlabelAttr: \"\",\r\n\r\n\t\t// labelType: String\r\n\t\t//\t\tSpecifies how to interpret the labelAttr in the data store items.\r\n\t\t//\t\tCan be \"html\" or \"text\".\r\n\t\tlabelType: \"text\",\r\n\r\n\t\t// Flags to _HasDropDown to limit height of drop down to make it fit in viewport\r\n\t\tmaxHeight: -1,\r\n\r\n\t\t// For backwards compatibility let onClick events propagate, even clicks on the down arrow button\r\n\t\t_stopClickEvents: false,\r\n\r\n\t\t_getCaretPos: function(/*DomNode*/ element){\r\n\t\t\t// khtml 3.5.2 has selection* methods as does webkit nightlies from 2005-06-22\r\n\t\t\tvar pos = 0;\r\n\t\t\tif(typeof(element.selectionStart) == \"number\"){\r\n\t\t\t\t// FIXME: this is totally borked on Moz < 1.3. Any recourse?\r\n\t\t\t\tpos = element.selectionStart;\r\n\t\t\t}else if(has(\"ie\")){\r\n\t\t\t\t// in the case of a mouse click in a popup being handled,\r\n\t\t\t\t// then the document.selection is not the textarea, but the popup\r\n\t\t\t\t// var r = document.selection.createRange();\r\n\t\t\t\t// hack to get IE 6 to play nice. What a POS browser.\r\n\t\t\t\tvar tr = element.ownerDocument.selection.createRange().duplicate();\r\n\t\t\t\tvar ntr = element.createTextRange();\r\n\t\t\t\ttr.move(\"character\", 0);\r\n\t\t\t\tntr.move(\"character\", 0);\r\n\t\t\t\ttry{\r\n\t\t\t\t\t// If control doesn't have focus, you get an exception.\r\n\t\t\t\t\t// Seems to happen on reverse-tab, but can also happen on tab (seems to be a race condition - only happens sometimes).\r\n\t\t\t\t\t// There appears to be no workaround for this - googled for quite a while.\r\n\t\t\t\t\tntr.setEndPoint(\"EndToEnd\", tr);\r\n\t\t\t\t\tpos = String(ntr.text).replace(/\\r/g, \"\").length;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t// If focus has shifted, 0 is fine for caret pos.\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn pos;\r\n\t\t},\r\n\r\n\t\t_setCaretPos: function(/*DomNode*/ element, /*Number*/ location){\r\n\t\t\tlocation = parseInt(location);\r\n\t\t\t_TextBoxMixin.selectInputText(element, location, location);\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\t// Additional code to set disabled state of ComboBox node.\r\n\t\t\t// Overrides _FormValueWidget._setDisabledAttr() or ValidationTextBox._setDisabledAttr().\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.domNode.setAttribute(\"aria-disabled\", value ? \"true\" : \"false\");\r\n\t\t},\r\n\r\n\t\t_onKey: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles keyboard events\r\n\r\n\t\t\tif(evt.charCode >= 32){\r\n\t\t\t\treturn;\r\n\t\t\t} // alphanumeric reserved for searching\r\n\r\n\t\t\tvar key = evt.charCode || evt.keyCode;\r\n\r\n\t\t\t// except for cutting/pasting case - ctrl + x/v\r\n\t\t\tif(key == keys.ALT || key == keys.CTRL || key == keys.META || key == keys.SHIFT){\r\n\t\t\t\treturn; // throw out spurious events\r\n\t\t\t}\r\n\r\n\t\t\tvar pw = this.dropDown;\r\n\t\t\tvar highlighted = null;\r\n\t\t\tthis._abortQuery();\r\n\r\n\t\t\t// _HasDropDown will do some of the work:\r\n\t\t\t//\r\n\t\t\t//\t1. when drop down is not yet shown:\r\n\t\t\t//\t\t- if user presses the down arrow key, call loadDropDown()\r\n\t\t\t//\t2. when drop down is already displayed:\r\n\t\t\t//\t\t- on ESC key, call closeDropDown()\r\n\t\t\t//\t\t- otherwise, call dropDown.handleKey() to process the keystroke\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(evt.altKey || evt.ctrlKey || evt.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t} // don't process keys with modifiers  - but we want shift+TAB\r\n\r\n\t\t\tif(this._opened){\r\n\t\t\t\thighlighted = pw.getHighlightedOption();\r\n\t\t\t}\r\n\t\t\tswitch(key){\r\n\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\t// Keystroke caused ComboBox_menu to move to a different item.\r\n\t\t\t\t\t// Copy new item to <input> box.\r\n\t\t\t\t\tif(this._opened){\r\n\t\t\t\t\t\tthis._announceOption(highlighted);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase keys.ENTER:\r\n\t\t\t\t\t// prevent submitting form if user presses enter. Also\r\n\t\t\t\t\t// prevent accepting the value if either Next or Previous\r\n\t\t\t\t\t// are selected\r\n\t\t\t\t\tif(highlighted){\r\n\t\t\t\t\t\t// only stop event on prev/next\r\n\t\t\t\t\t\tif(highlighted == pw.nextButton){\r\n\t\t\t\t\t\t\tthis._nextSearch(1);\r\n\t\t\t\t\t\t\t// prevent submit\r\n\t\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else if(highlighted == pw.previousButton){\r\n\t\t\t\t\t\t\tthis._nextSearch(-1);\r\n\t\t\t\t\t\t\t// prevent submit\r\n\t\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// prevent submit if ENTER was to choose an item\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Update 'value' (ex: KY) according to currently displayed text\r\n\t\t\t\t\t\tthis._setBlurValue(); // set value if needed\r\n\t\t\t\t\t\tthis._setCaretPos(this.focusNode, this.focusNode.value.length); // move cursor to end and cancel highlighting\r\n\t\t\t\t\t}\r\n\t\t\t\t// fall through\r\n\r\n\t\t\t\tcase keys.TAB:\r\n\t\t\t\t\tvar newvalue = this.get('displayedValue');\r\n\t\t\t\t\t//\tif the user had More Choices selected fall into the\r\n\t\t\t\t\t//\t_onBlur handler\r\n\t\t\t\t\tif(pw && (newvalue == pw._messages[\"previousMessage\"] || newvalue == pw._messages[\"nextMessage\"])){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(highlighted){\r\n\t\t\t\t\t\tthis._selectOption(highlighted);\r\n\t\t\t\t\t}\r\n\t\t\t\t// fall through\r\n\r\n\t\t\t\tcase keys.ESCAPE:\r\n\t\t\t\t\tif(this._opened){\r\n\t\t\t\t\t\tthis._lastQuery = null; // in case results come back later\r\n\t\t\t\t\t\tthis.closeDropDown();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_autoCompleteText: function(/*String*/ text){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFill in the textbox with the first item from the drop down\r\n\t\t\t//\t\tlist, and highlight the characters that were\r\n\t\t\t//\t\tauto-completed. For example, if user typed \"CA\" and the\r\n\t\t\t//\t\tdrop down list appeared, the textbox would be changed to\r\n\t\t\t//\t\t\"California\" and \"ifornia\" would be highlighted.\r\n\r\n\t\t\tvar fn = this.focusNode;\r\n\r\n\t\t\t// IE7: clear selection so next highlight works all the time\r\n\t\t\t_TextBoxMixin.selectInputText(fn, fn.value.length);\r\n\t\t\t// does text autoComplete the value in the textbox?\r\n\t\t\tvar caseFilter = this.ignoreCase ? 'toLowerCase' : 'substr';\r\n\t\t\tif(text[caseFilter](0).indexOf(this.focusNode.value[caseFilter](0)) == 0){\r\n\t\t\t\tvar cpos = this.autoComplete ? this._getCaretPos(fn) : fn.value.length;\r\n\t\t\t\t// only try to extend if we added the last character at the end of the input\r\n\t\t\t\tif((cpos + 1) > fn.value.length){\r\n\t\t\t\t\t// only add to input node as we would overwrite Capitalisation of chars\r\n\t\t\t\t\t// actually, that is ok\r\n\t\t\t\t\tfn.value = text;//.substr(cpos);\r\n\t\t\t\t\t// visually highlight the autocompleted characters\r\n\t\t\t\t\t_TextBoxMixin.selectInputText(fn, cpos);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// text does not autoComplete; replace the whole value and highlight\r\n\t\t\t\tfn.value = text;\r\n\t\t\t\t_TextBoxMixin.selectInputText(fn);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_openResultList: function(/*Object*/ results, /*Object*/ query, /*Object*/ options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a search completes.\r\n\t\t\t// description:\r\n\t\t\t//\t\t1. generates drop-down list and calls _showResultList() to display it\r\n\t\t\t//\t\t2. if this result list is from user pressing \"more choices\"/\"previous choices\"\r\n\t\t\t//\t\t\tthen tell screen reader to announce new option\r\n\t\t\tvar wasSelected = this.dropDown.getHighlightedOption();\r\n\t\t\tthis.dropDown.clearResultList();\r\n\t\t\tif(!results.length && options.start == 0){ // if no results and not just the previous choices button\r\n\t\t\t\tthis.closeDropDown();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._nextSearch = this.dropDown.onPage = lang.hitch(this, function(direction){\r\n\t\t\t\tresults.nextPage(direction !== -1);\r\n\t\t\t\tthis.focus();\r\n\t\t\t});\r\n\r\n\t\t\t// Fill in the textbox with the first item from the drop down list,\r\n\t\t\t// and highlight the characters that were auto-completed. For\r\n\t\t\t// example, if user typed \"CA\" and the drop down list appeared, the\r\n\t\t\t// textbox would be changed to \"California\" and \"ifornia\" would be\r\n\t\t\t// highlighted.\r\n\r\n\t\t\tthis.dropDown.createOptions(\r\n\t\t\t\tresults,\r\n\t\t\t\toptions,\r\n\t\t\t\tlang.hitch(this, \"_getMenuLabelFromItem\")\r\n\t\t\t);\r\n\r\n\t\t\t// show our list (only if we have content, else nothing)\r\n\t\t\tthis._showResultList();\r\n\r\n\t\t\t// #4091:\r\n\t\t\t//\t\ttell the screen reader that the paging callback finished by\r\n\t\t\t//\t\tshouting the next choice\r\n\t\t\tif(\"direction\" in options){\r\n\t\t\t\tif(options.direction){\r\n\t\t\t\t\tthis.dropDown.highlightFirstOption();\r\n\t\t\t\t}else if(!options.direction){\r\n\t\t\t\t\tthis.dropDown.highlightLastOption();\r\n\t\t\t\t}\r\n\t\t\t\tif(wasSelected){\r\n\t\t\t\t\tthis._announceOption(this.dropDown.getHighlightedOption());\r\n\t\t\t\t}\r\n\t\t\t}else if(this.autoComplete && !this._prev_key_backspace\r\n\t\t\t\t// when the user clicks the arrow button to show the full list,\r\n\t\t\t\t// startSearch looks for \"*\".\r\n\t\t\t\t// it does not make sense to autocomplete\r\n\t\t\t\t// if they are just previewing the options available.\r\n\t\t\t\t&& !/^[*]+$/.test(query[this.searchAttr].toString())){\r\n\t\t\t\tthis._announceOption(this.dropDown.containerNode.firstChild.nextSibling); // 1st real item\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_showResultList: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplay the drop down if not already displayed, or if it is displayed, then\r\n\t\t\t//\t\treposition it if necessary (reposition may be necessary if drop down's height changed).\r\n\t\t\tthis.closeDropDown(true);\r\n\t\t\tthis.openDropDown();\r\n\t\t\tthis.domNode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t},\r\n\r\n\t\tloadDropDown: function(/*Function*/ /*===== callback =====*/){\r\n\t\t\t// Overrides _HasDropDown.loadDropDown().\r\n\t\t\t// This is called when user has pressed button icon or pressed the down arrow key\r\n\t\t\t// to open the drop down.\r\n\t\t\tthis._startSearchAll();\r\n\t\t},\r\n\r\n\t\tisLoaded: function(){\r\n\t\t\t// signal to _HasDropDown that it needs to call loadDropDown() to load the\r\n\t\t\t// drop down asynchronously before displaying it\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tcloseDropDown: function(){\r\n\t\t\t// Overrides _HasDropDown.closeDropDown().  Closes the drop down (assuming that it's open).\r\n\t\t\t// This method is the callback when the user types ESC or clicking\r\n\t\t\t// the button icon while the drop down is open.  It's also called by other code.\r\n\t\t\tthis._abortQuery();\r\n\t\t\tif(this._opened){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.domNode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setBlurValue: function(){\r\n\t\t\t// if the user clicks away from the textbox OR tabs away, set the\r\n\t\t\t// value to the textbox value\r\n\t\t\t// #4617:\r\n\t\t\t//\t\tif value is now more choices or previous choices, revert\r\n\t\t\t//\t\tthe value\r\n\t\t\tvar newvalue = this.get('displayedValue');\r\n\t\t\tvar pw = this.dropDown;\r\n\t\t\tif(pw && (newvalue == pw._messages[\"previousMessage\"] || newvalue == pw._messages[\"nextMessage\"])){\r\n\t\t\t\tthis._setValueAttr(this._lastValueReported, true);\r\n\t\t\t}else if(typeof this.item == \"undefined\"){\r\n\t\t\t\t// Update 'value' (ex: KY) according to currently displayed text\r\n\t\t\t\tthis.item = null;\r\n\t\t\t\tthis.set('displayedValue', newvalue);\r\n\t\t\t}else{\r\n\t\t\t\tif(this.value != this._lastValueReported){\r\n\t\t\t\t\tthis._handleOnChange(this.value, true);\r\n\t\t\t\t}\r\n\t\t\t\tthis._refreshState();\r\n\t\t\t}\r\n\t\t\t// Remove aria-activedescendant since it may not be removed if they select with arrows then blur with mouse\r\n\t\t\tthis.focusNode.removeAttribute(\"aria-activedescendant\");\r\n\t\t},\r\n\r\n\t\t_setItemAttr: function(/*item*/ item, /*Boolean?*/ priorityChange, /*String?*/ displayedValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the displayed valued in the input box, and the hidden value\r\n\t\t\t//\t\tthat gets submitted, based on a dojo.data store item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tUsers shouldn't call this function; they should be calling\r\n\t\t\t//\t\tset('item', value)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar value = '';\r\n\t\t\tif(item){\r\n\t\t\t\tif(!displayedValue){\r\n\t\t\t\t\tdisplayedValue = this.store._oldAPI ? // remove getValue() for 2.0 (old dojo.data API)\r\n\t\t\t\t\t\tthis.store.getValue(item, this.searchAttr) : item[this.searchAttr];\r\n\t\t\t\t}\r\n\t\t\t\tvalue = this._getValueField() != this.searchAttr ? this.store.getIdentity(item) : displayedValue;\r\n\t\t\t}\r\n\t\t\tthis.set('value', value, priorityChange, displayedValue, item);\r\n\t\t},\r\n\r\n\t\t_announceOption: function(/*Node*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta11y code that puts the highlighted option in the textbox.\r\n\t\t\t//\t\tThis way screen readers will know what is happening in the\r\n\t\t\t//\t\tmenu.\r\n\r\n\t\t\tif(!node){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// pull the text value from the item attached to the DOM node\r\n\t\t\tvar newValue;\r\n\t\t\tif(node == this.dropDown.nextButton ||\r\n\t\t\t\tnode == this.dropDown.previousButton){\r\n\t\t\t\tnewValue = node.innerHTML;\r\n\t\t\t\tthis.item = undefined;\r\n\t\t\t\tthis.value = '';\r\n\t\t\t}else{\r\n\t\t\t\tvar item = this.dropDown.items[node.getAttribute(\"item\")];\r\n\t\t\t\tnewValue = (this.store._oldAPI ? // remove getValue() for 2.0 (old dojo.data API)\r\n\t\t\t\t\tthis.store.getValue(item, this.searchAttr) : item[this.searchAttr]).toString();\r\n\t\t\t\tthis.set('item', item, false, newValue);\r\n\t\t\t}\r\n\t\t\t// get the text that the user manually entered (cut off autocompleted text)\r\n\t\t\tthis.focusNode.value = this.focusNode.value.substring(0, this._lastInput.length);\r\n\t\t\t// set up ARIA activedescendant\r\n\t\t\tthis.focusNode.setAttribute(\"aria-activedescendant\", domAttr.get(node, \"id\"));\r\n\t\t\t// autocomplete the rest of the option to announce change\r\n\t\t\tthis._autoCompleteText(newValue);\r\n\t\t},\r\n\r\n\t\t_selectOption: function(/*DomNode*/ target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMenu callback function, called when an item in the menu is selected.\r\n\t\t\tthis.closeDropDown();\r\n\t\t\tif(target){\r\n\t\t\t\tthis._announceOption(target);\r\n\t\t\t}\r\n\t\t\tthis._setCaretPos(this.focusNode, this.focusNode.value.length);\r\n\t\t\tthis._handleOnChange(this.value, true);\r\n\t\t\t// Remove aria-activedescendant since the drop down is no loner visible\r\n\t\t\t// after closeDropDown() but _announceOption() adds it back in\r\n\t\t\tthis.focusNode.removeAttribute(\"aria-activedescendant\");\r\n\t\t},\r\n\r\n\t\t_startSearchAll: function(){\r\n\t\t\tthis._startSearch('');\r\n\t\t},\r\n\r\n\t\t_startSearchFromInput: function(){\r\n\t\t\tthis.item = undefined; // undefined means item needs to be set\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_startSearch: function(/*String*/ key){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStarts a search for elements matching key (key==\"\" means to return all items),\r\n\t\t\t//\t\tand calls _openResultList() when the search completes, to display the results.\r\n\t\t\tif(!this.dropDown){\r\n\t\t\t\tvar popupId = this.id + \"_popup\",\r\n\t\t\t\t\tdropDownConstructor = lang.isString(this.dropDownClass) ?\r\n\t\t\t\t\t\tlang.getObject(this.dropDownClass, false) : this.dropDownClass;\r\n\t\t\t\tthis.dropDown = new dropDownConstructor({\r\n\t\t\t\t\tonChange: lang.hitch(this, this._selectOption),\r\n\t\t\t\t\tid: popupId,\r\n\t\t\t\t\tdir: this.dir,\r\n\t\t\t\t\ttextDir: this.textDir\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._lastInput = key; // Store exactly what was entered by the user.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_getValueField: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper for postMixInProperties() to set this.value based on data inlined into the markup.\r\n\t\t\t//\t\tReturns the attribute name in the item (in dijit/form/_ComboBoxDataStore) to use as the value.\r\n\t\t\treturn this.searchAttr;\r\n\t\t},\r\n\r\n\t\t//////////// INITIALIZATION METHODS ///////////////////////////////////////\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.store && this.srcNodeRef){\r\n\t\t\t\tvar srcNodeRef = this.srcNodeRef;\r\n\t\t\t\t// if user didn't specify store, then assume there are option tags\r\n\t\t\t\tthis.store = new DataList({}, srcNodeRef);\r\n\r\n\t\t\t\t// if there is no value set and there is an option list, set\r\n\t\t\t\t// the value to the first value to be consistent with native Select\r\n\t\t\t\t// Firefox and Safari set value\r\n\t\t\t\t// IE6 and Opera set selectedIndex, which is automatically set\r\n\t\t\t\t// by the selected attribute of an option tag\r\n\t\t\t\t// IE6 does not set value, Opera sets value = selectedIndex\r\n\t\t\t\tif(!(\"value\" in this.params)){\r\n\t\t\t\t\tvar item = (this.item = this.store.fetchSelectedItem());\r\n\t\t\t\t\tif(item){\r\n\t\t\t\t\t\tvar valueField = this._getValueField();\r\n\t\t\t\t\t\t// remove getValue() for 2.0 (old dojo.data API)\r\n\t\t\t\t\t\tthis.value = this.store._oldAPI ? this.store.getValue(item, valueField) : item[valueField];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSubclasses must call this method from their postCreate() methods\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// find any associated label element and add to ComboBox node.\r\n\t\t\tvar label = query('label[for=\"' + this.id + '\"]');\r\n\t\t\tif(label.length){\r\n\t\t\t\tif(!label[0].id){\r\n\t\t\t\t\tlabel[0].id = this.id + \"_label\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.domNode.setAttribute(\"aria-labelledby\", label[0].id);\r\n\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\taspect.after(this, \"onSearch\", lang.hitch(this, \"_openResultList\"), true);\r\n\t\t},\r\n\r\n\t\t_getMenuLabelFromItem: function(/*Item*/ item){\r\n\t\t\tvar label = this.labelFunc(item, this.store),\r\n\t\t\t\tlabelType = this.labelType;\r\n\t\t\t// If labelType is not \"text\" we don't want to screw any markup ot whatever.\r\n\t\t\tif(this.highlightMatch != \"none\" && this.labelType == \"text\" && this._lastInput){\r\n\t\t\t\tlabel = this.doHighlight(label, this._lastInput);\r\n\t\t\t\tlabelType = \"html\";\r\n\t\t\t}\r\n\t\t\treturn {html: labelType == \"html\", label: label};\r\n\t\t},\r\n\r\n\t\tdoHighlight: function(/*String*/ label, /*String*/ find){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHighlights the string entered by the user in the menu.  By default this\r\n\t\t\t//\t\thighlights the first occurrence found. Override this method\r\n\t\t\t//\t\tto implement your custom highlighting.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar\r\n\t\t\t// Add (g)lobal modifier when this.highlightMatch == \"all\" and (i)gnorecase when this.ignoreCase == true\r\n\t\t\t\tmodifiers = (this.ignoreCase ? \"i\" : \"\") + (this.highlightMatch == \"all\" ? \"g\" : \"\"),\r\n\t\t\t\ti = this.queryExpr.indexOf(\"${0}\");\r\n\t\t\tfind = regexp.escapeString(find); // escape regexp special chars\r\n\t\t\t//If < appears in label, and user presses t, we don't want to highlight the t in the escaped \"&lt;\"\r\n\t\t\t//first find out every occurrences of \"find\", wrap each occurrence in a pair of \"\\uFFFF\" characters (which\r\n\t\t\t//should not appear in any string). then html escape the whole string, and replace '\\uFFFF\" with the\r\n\t\t\t//HTML highlight markup.\r\n\t\t\treturn this._escapeHtml(label.replace(\r\n\t\t\t\tnew RegExp((i == 0 ? \"^\" : \"\") + \"(\" + find + \")\" + (i == (this.queryExpr.length - 4) ? \"$\" : \"\"), modifiers),\r\n\t\t\t\t'\\uFFFF$1\\uFFFF')).replace(\r\n\t\t\t\t/\\uFFFF([^\\uFFFF]+)\\uFFFF/g, '<span class=\"dijitComboBoxHighlightMatch\">$1</span>'\r\n\t\t\t); // returns String, (almost) valid HTML (entities encoded)\r\n\t\t},\r\n\r\n\t\t_escapeHtml: function(/*String*/ str){\r\n\t\t\t// TODO Should become dojo.html.entities(), when exists use instead\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds escape sequences for special characters in XML: `&<>\"'`\r\n\t\t\tstr = String(str).replace(/&/gm, \"&amp;\").replace(/</gm, \"&lt;\")\r\n\t\t\t\t.replace(/>/gm, \"&gt;\").replace(/\"/gm, \"&quot;\"); //balance\"\r\n\t\t\treturn str; // string\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// Overrides the _FormWidget.reset().\r\n\t\t\t// Additionally reset the .item (to clean up).\r\n\t\t\tthis.item = null;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tlabelFunc: function(item, store){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tComputes the label to display based on the dojo.data store item.\r\n\t\t\t// item: Object\r\n\t\t\t//\t\tThe item from the store\r\n\t\t\t// store: dojo/store/api/Store\r\n\t\t\t//\t\tThe store.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe label that the ComboBox should display\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// Use toString() because XMLStore returns an XMLItem whereas this\r\n\t\t\t// method is expected to return a String (#9354).\r\n\t\t\t// Remove getValue() for 2.0 (old dojo.data API)\r\n\t\t\treturn (store._oldAPI ? store.getValue(item, this.labelAttr || this.searchAttr) :\r\n\t\t\t\titem[this.labelAttr || this.searchAttr]).toString(); // String\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*String*/ value, /*Boolean?*/ priorityChange, /*String?*/ displayedValue, /*item?*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', value) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the value of the select.\r\n\t\t\tthis._set(\"item\", item || null); // value not looked up in store\r\n\t\t\tif(value == null /* or undefined */){\r\n\t\t\t\tvalue = '';\r\n\t\t\t} // null translates to blank\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tAutoCompleterMixin.extend({\r\n\t\t\t_setTextDirAttr: function(/*String*/ textDir){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tSetter for textDir, needed for the dropDown's textDir update.\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tUsers shouldn't call this function; they should be calling\r\n\t\t\t\t//\t\tset('textDir', value)\r\n\t\t\t\t// tags:\r\n\t\t\t\t//\t\tprivate\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\t// update the drop down also (_ComboBoxMenuMixin)\r\n\t\t\t\tif(this.dropDown){\r\n\t\t\t\t\tthis.dropDown._set(\"textDir\", textDir);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn AutoCompleterMixin;\r\n});\r\n\n\ndefine('dijit/form/_ComboBoxMenuMixin',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/has\",\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/i18n!./nls/ComboBox\"\r\n], function(array, declare, domAttr, has, i18n){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ComboBoxMenuMixin\r\n\r\n\tvar ComboBoxMenuMixin = declare(\"dijit.form._ComboBoxMenuMixin\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), null, {\r\n\t\t// summary:\r\n\t\t//\t\tFocus-less menu for internal use in `dijit/form/ComboBox`\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// _messages: Object\r\n\t\t//\t\tHolds \"next\" and \"previous\" text for paging buttons on drop down\r\n\t\t_messages: null,\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._messages = i18n.getLocalization(\"dijit.form\", \"ComboBox\", this.lang);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// fill in template with i18n messages\r\n\t\t\tthis.previousButton.innerHTML = this._messages[\"previousMessage\"];\r\n\t\t\tthis.nextButton.innerHTML = this._messages[\"nextMessage\"];\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Object*/ value){\r\n\t\t\tthis._set(\"value\", value);\r\n\t\t\tthis.onChange(value);\r\n\t\t},\r\n\r\n\t\tonClick: function(/*DomNode*/ node){\r\n\t\t\tif(node == this.previousButton){\r\n\t\t\t\tthis._setSelectedAttr(null);\r\n\t\t\t\tthis.onPage(-1);\r\n\t\t\t}else if(node == this.nextButton){\r\n\t\t\t\tthis._setSelectedAttr(null);\r\n\t\t\t\tthis.onPage(1);\r\n\t\t\t}else{\r\n\t\t\t\tthis.onChange(node);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// stubs\r\n\t\tonChange: function(/*Number*/ /*===== direction =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tNotifies ComboBox/FilteringSelect that user selected an option.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonPage: function(/*Number*/ /*===== direction =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tNotifies ComboBox/FilteringSelect that user clicked to advance to next/previous page.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonClose: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback from dijit.popup code to this widget, notifying it that it closed\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._setSelectedAttr(null);\r\n\t\t},\r\n\r\n\t\t_createOption: function(/*Object*/ item, labelFunc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates an option to appear on the popup menu subclassed by\r\n\t\t\t//\t\t`dijit/form/FilteringSelect`.\r\n\r\n\t\t\tvar menuitem = this._createMenuItem();\r\n\t\t\tvar labelObject = labelFunc(item);\r\n\t\t\tif(labelObject.html){\r\n\t\t\t\tmenuitem.innerHTML = labelObject.label;\r\n\t\t\t}else{\r\n\t\t\t\tmenuitem.appendChild(\r\n\t\t\t\t\tmenuitem.ownerDocument.createTextNode(labelObject.label)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t// #3250: in blank options, assign a normal height\r\n\t\t\tif(menuitem.innerHTML == \"\"){\r\n\t\t\t\tmenuitem.innerHTML = \"&#160;\";\t// &nbsp;\r\n\t\t\t}\r\n\r\n\t\t\treturn menuitem;\r\n\t\t},\r\n\r\n\t\tcreateOptions: function(results, options, labelFunc){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFills in the items in the drop down list\r\n\t\t\t// results:\r\n\t\t\t//\t\tArray of items\r\n\t\t\t// options:\r\n\t\t\t//\t\tThe options to the query function of the store\r\n\t\t\t//\r\n\t\t\t// labelFunc:\r\n\t\t\t//\t\tFunction to produce a label in the drop down list from a dojo.data item\r\n\r\n\t\t\tthis.items = results;\r\n\r\n\t\t\t// display \"Previous . . .\" button\r\n\t\t\tthis.previousButton.style.display = (options.start == 0) ? \"none\" : \"\";\r\n\t\t\tdomAttr.set(this.previousButton, \"id\", this.id + \"_prev\");\r\n\t\t\t// create options using _createOption function defined by parent\r\n\t\t\t// ComboBox (or FilteringSelect) class\r\n\t\t\t// #2309:\r\n\t\t\t//\t\titerate over cache nondestructively\r\n\t\t\tarray.forEach(results, function(item, i){\r\n\t\t\t\tvar menuitem = this._createOption(item, labelFunc);\r\n\t\t\t\tmenuitem.setAttribute(\"item\", i);\t// index to this.items; use indirection to avoid mem leak\r\n\t\t\t\tdomAttr.set(menuitem, \"id\", this.id + i);\r\n\t\t\t\tthis.nextButton.parentNode.insertBefore(menuitem, this.nextButton);\r\n\t\t\t}, this);\r\n\t\t\t// display \"Next . . .\" button\r\n\t\t\tvar displayMore = false;\r\n\t\t\t// Try to determine if we should show 'more'...\r\n\t\t\tif(results.total && !results.total.then && results.total != -1){\r\n\t\t\t\tif((options.start + options.count) < results.total){\r\n\t\t\t\t\tdisplayMore = true;\r\n\t\t\t\t}else if((options.start + options.count) > results.total && options.count == results.length){\r\n\t\t\t\t\t// Weird return from a data store, where a start + count > maxOptions\r\n\t\t\t\t\t// implies maxOptions isn't really valid and we have to go into faking it.\r\n\t\t\t\t\t// And more or less assume more if count == results.length\r\n\t\t\t\t\tdisplayMore = true;\r\n\t\t\t\t}\r\n\t\t\t}else if(options.count == results.length){\r\n\t\t\t\t//Don't know the size, so we do the best we can based off count alone.\r\n\t\t\t\t//So, if we have an exact match to count, assume more.\r\n\t\t\t\tdisplayMore = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.nextButton.style.display = displayMore ? \"\" : \"none\";\r\n\t\t\tdomAttr.set(this.nextButton, \"id\", this.id + \"_next\");\r\n\t\t},\r\n\r\n\t\tclearResultList: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClears the entries in the drop down list, but of course keeps the previous and next buttons.\r\n\t\t\tvar container = this.containerNode;\r\n\t\t\twhile(container.childNodes.length > 2){\r\n\t\t\t\tcontainer.removeChild(container.childNodes[container.childNodes.length - 2]);\r\n\t\t\t}\r\n\t\t\tthis._setSelectedAttr(null);\r\n\t\t},\r\n\r\n\t\thighlightFirstOption: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHighlight the first real item in the list (not Previous Choices).\r\n\t\t\tthis.selectFirstNode();\r\n\t\t},\r\n\r\n\t\thighlightLastOption: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHighlight the last real item in the list (not More Choices).\r\n\t\t\tthis.selectLastNode();\r\n\t\t},\r\n\r\n\t\tselectFirstNode: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.getHighlightedOption() == this.previousButton){\r\n\t\t\t\tthis.selectNextNode();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselectLastNode: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.getHighlightedOption() == this.nextButton){\r\n\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetHighlightedOption: function(){\r\n\t\t\treturn this.selected;\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tComboBoxMenuMixin = declare(\"dijit.form._ComboBoxMenuMixin\", ComboBoxMenuMixin, {\r\n\t\t\t_createOption: function(){\r\n\t\t\t\tvar menuitem = this.inherited(arguments);\r\n\r\n\t\t\t\t// update menuitem.dir if BidiSupport was required\r\n\t\t\t\tthis.applyTextDir(menuitem);\r\n\r\n\t\t\t\treturn menuitem;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn ComboBoxMenuMixin;\r\n});\r\n\ndefine('dijit/form/_ListBase',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/on\",\r\n\t\"dojo/window\" // winUtils.scrollIntoView\r\n], function(declare, on, winUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ListBase\r\n\r\n\treturn declare(\"dijit.form._ListBase\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tFocus-less menu to handle UI events consistently.\r\n\t\t//\t\tAbstract methods that must be defined externally:\r\n\t\t//\r\n\t\t//\t\t- onSelect: item is active (mousedown but not yet mouseup, or keyboard arrow selected but no Enter)\r\n\t\t//\t\t- onDeselect:  cancels onSelect\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// selected: DOMNode\r\n\t\t//\t\tcurrently selected node\r\n\t\tselected: null,\r\n\r\n\t\t_listConnect: function(/*String|Function*/ eventType, /*String*/ callbackFuncName){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConnects 'containerNode' to specified method of this object\r\n\t\t\t//\t\tand automatically registers for 'disconnect' on widget destroy.\r\n\t\t\t// description:\r\n\t\t\t//\t\tProvide widget-specific analog to 'connect'.\r\n\t\t\t//\t\tThe callback function is called with the normal event object,\r\n\t\t\t//\t\tbut also a second parameter is passed that indicates which list item\r\n\t\t\t//\t\tactually received the event.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tA handle that can be passed to `disconnect` in order to disconnect\r\n\t\t\t//\t\tbefore the widget is destroyed.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar self = this;\r\n\t\t\treturn self.own(on(self.containerNode,\r\n\t\t\t\ton.selector(\r\n\t\t\t\t\tfunction(eventTarget, selector, target){\r\n\t\t\t\t\t\treturn eventTarget.parentNode == target;\r\n\t\t\t\t\t},\r\n\t\t\t\t\teventType\r\n\t\t\t\t),\r\n\t\t\t\tfunction(evt){\r\n\t\t\t\t\tself[callbackFuncName](evt, this);\r\n\t\t\t\t}\r\n\t\t\t));\r\n\t\t},\r\n\r\n\t\tselectFirstNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect the first displayed item in the list.\r\n\t\t\tvar first = this.containerNode.firstChild;\r\n\t\t\twhile(first && first.style.display == \"none\"){\r\n\t\t\t\tfirst = first.nextSibling;\r\n\t\t\t}\r\n\t\t\tthis._setSelectedAttr(first, true);\r\n\t\t},\r\n\r\n\t\tselectLastNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect the last displayed item in the list\r\n\t\t\tvar last = this.containerNode.lastChild;\r\n\t\t\twhile(last && last.style.display == \"none\"){\r\n\t\t\t\tlast = last.previousSibling;\r\n\t\t\t}\r\n\t\t\tthis._setSelectedAttr(last, true);\r\n\t\t},\r\n\r\n\t\tselectNextNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect the item just below the current selection.\r\n\t\t\t//\t\tIf nothing selected, select first node.\r\n\t\t\tvar selectedNode = this.selected;\r\n\t\t\tif(!selectedNode){\r\n\t\t\t\tthis.selectFirstNode();\r\n\t\t\t}else{\r\n\t\t\t\tvar next = selectedNode.nextSibling;\r\n\t\t\t\twhile(next && next.style.display == \"none\"){\r\n\t\t\t\t\tnext = next.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t\tif(!next){\r\n\t\t\t\t\tthis.selectFirstNode();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._setSelectedAttr(next, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselectPreviousNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect the item just above the current selection.\r\n\t\t\t//\t\tIf nothing selected, select last node (if\r\n\t\t\t//\t\tyou select Previous and try to keep scrolling up the list).\r\n\t\t\tvar selectedNode = this.selected;\r\n\t\t\tif(!selectedNode){\r\n\t\t\t\tthis.selectLastNode();\r\n\t\t\t}else{\r\n\t\t\t\tvar prev = selectedNode.previousSibling;\r\n\t\t\t\twhile(prev && prev.style.display == \"none\"){\r\n\t\t\t\t\tprev = prev.previousSibling;\r\n\t\t\t\t}\r\n\t\t\t\tif(!prev){\r\n\t\t\t\t\tthis.selectLastNode();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._setSelectedAttr(prev, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setSelectedAttr: function(/*DomNode*/ node, /*Boolean*/ scroll){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDoes the actual select.\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe option to select\r\n\t\t\t// scroll:\r\n\t\t\t//\t\tIf necessary, scroll node into view.  Set to false for mouse/touch to\r\n\t\t\t//\t\tavoid jumping problems on mobile/RTL, see https://bugs.dojotoolkit.org/ticket/17739.\r\n\t\t\tif(this.selected != node){\r\n\t\t\t\tvar selectedNode = this.selected;\r\n\t\t\t\tif(selectedNode){\r\n\t\t\t\t\tthis.onDeselect(selectedNode);\r\n\t\t\t\t}\r\n\t\t\t\tif(node){\r\n\t\t\t\t\tif(scroll){\r\n\t\t\t\t\t\twinUtils.scrollIntoView(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onSelect(node);\r\n\t\t\t\t}\r\n\t\t\t\tthis._set(\"selected\", node);\r\n\t\t\t}else if(node){\r\n\t\t\t\tthis.onSelect(node);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_ListMouseMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\",\r\n\t\"./_ListBase\"\r\n], function(declare, on, touch, _ListBase){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ListMouseMixin\r\n\r\n\treturn declare(\"dijit.form._ListMouseMixin\", _ListBase, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin to handle mouse or touch events for a focus-less menu\r\n\t\t//\t\tAbstract methods that must be defined externally:\r\n\t\t//\r\n\t\t//\t\t- onClick: item was chosen (mousedown somewhere on the menu and mouseup somewhere on the menu)\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Add flag to use normalized click handling from dojo/touch\r\n\t\t\tthis.domNode.dojoClick = true;\r\n\r\n\t\t\tthis._listConnect(\"click\", \"_onClick\");\r\n\t\t\tthis._listConnect(\"mousedown\", \"_onMouseDown\");\r\n\t\t\tthis._listConnect(\"mouseup\", \"_onMouseUp\");\r\n\t\t\tthis._listConnect(\"mouseover\", \"_onMouseOver\");\r\n\t\t\tthis._listConnect(\"mouseout\", \"_onMouseOut\");\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tthis._setSelectedAttr(target, false);\r\n\t\t\tif(this._deferredClick){\r\n\t\t\t\tthis._deferredClick.remove();\r\n\t\t\t}\r\n\t\t\tthis._deferredClick = this.defer(function(){\r\n\t\t\t\tthis._deferredClick = null;\r\n\t\t\t\tthis.onClick(target);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onMouseDown: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tif(this._hoveredNode){\r\n\t\t\t\tthis.onUnhover(this._hoveredNode);\r\n\t\t\t\tthis._hoveredNode = null;\r\n\t\t\t}\r\n\t\t\tthis._isDragging = true;\r\n\t\t\tthis._setSelectedAttr(target, false);\r\n\t\t},\r\n\r\n\t\t_onMouseUp: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tthis._isDragging = false;\r\n\t\t\tvar selectedNode = this.selected;\r\n\t\t\tvar hoveredNode = this._hoveredNode;\r\n\t\t\tif(selectedNode && target == selectedNode){\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis._onClick(evt, selectedNode);\r\n\t\t\t\t});\r\n\t\t\t}else if(hoveredNode){ // drag to select\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis._onClick(evt, hoveredNode);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseOut: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tif(this._hoveredNode){\r\n\t\t\t\tthis.onUnhover(this._hoveredNode);\r\n\t\t\t\tthis._hoveredNode = null;\r\n\t\t\t}\r\n\t\t\tif(this._isDragging){\r\n\t\t\t\tthis._cancelDrag = (new Date()).getTime() + 1000; // cancel in 1 second if no _onMouseOver fires\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseOver: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tif(this._cancelDrag){\r\n\t\t\t\tvar time = (new Date()).getTime();\r\n\t\t\t\tif(time > this._cancelDrag){\r\n\t\t\t\t\tthis._isDragging = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis._cancelDrag = null;\r\n\t\t\t}\r\n\t\t\tthis._hoveredNode = target;\r\n\t\t\tthis.onHover(target);\r\n\t\t\tif(this._isDragging){\r\n\t\t\t\tthis._setSelectedAttr(target, false);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_ComboBoxMenu',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-style\", // domStyle.get\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.PAGE_DOWN keys.PAGE_UP keys.UP_ARROW\r\n\t\"../_WidgetBase\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"./_ComboBoxMenuMixin\",\r\n\t\"./_ListMouseMixin\"\r\n], function(declare, domClass, domStyle, keys,\r\n\t\t\t_WidgetBase, _TemplatedMixin, _ComboBoxMenuMixin, _ListMouseMixin){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ComboBoxMenu\r\n\r\n\treturn declare(\"dijit.form._ComboBoxMenu\",[_WidgetBase, _TemplatedMixin, _ListMouseMixin, _ComboBoxMenuMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tFocus-less menu for internal use in `dijit/form/ComboBox`\r\n\t\t//\t\tAbstract methods that must be defined externally:\r\n\t\t//\r\n\t\t//\t\t- onChange: item was explicitly chosen (mousedown somewhere on the menu and mouseup somewhere on the menu)\r\n\t\t//\t\t- onPage: next(1) or previous(-1) button pressed\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// TODO for 2.0 or earlier: stop putting stuff inside this.containerNode.   Switch to using this.domNode\r\n\t\t// or a different attach point.    See _TemplatedMixin::searchContainerNode.\r\n\t\ttemplateString: \"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>\"\r\n\t\t\t\t+\"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>\"\r\n\t\t\t\t+\"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>\"\r\n\t\t\t\t+\"</div>\",\r\n\r\n\t\tbaseClass: \"dijitComboBoxMenu\",\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\tdomClass.add(this.previousButton, \"dijitMenuItemRtl\");\r\n\t\t\t\tdomClass.add(this.nextButton, \"dijitMenuItemRtl\");\r\n\t\t\t}\r\n\t\t\tthis.containerNode.setAttribute(\"role\",\"listbox\");\r\n\t\t},\r\n\r\n\t\t_createMenuItem: function(){\r\n\t\t\t// note: not using domConstruct.create() because need to specify document\r\n\t\t\tvar item = this.ownerDocument.createElement(\"div\");\r\n\t\t\titem.className = \"dijitReset dijitMenuItem\" +(this.isLeftToRight() ? \"\" : \" dijitMenuItemRtl\");\r\n\t\t\titem.setAttribute(\"role\", \"option\");\r\n\t\t\treturn item;\r\n\t\t},\r\n\r\n\t\tonHover: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd hover CSS\r\n\t\t\tdomClass.add(node, \"dijitMenuItemHover\");\r\n\t\t},\r\n\r\n\t\tonUnhover: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove hover CSS\r\n\t\t\tdomClass.remove(node, \"dijitMenuItemHover\");\r\n\t\t},\r\n\r\n\t\tonSelect: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd selected CSS\r\n\t\t\tdomClass.add(node, \"dijitMenuItemSelected\");\r\n\t\t},\r\n\r\n\t\tonDeselect: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove selected CSS\r\n\t\t\tdomClass.remove(node, \"dijitMenuItemSelected\");\r\n\t\t},\r\n\r\n\t\t_page: function(/*Boolean*/ up){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles page-up and page-down keypresses\r\n\r\n\t\t\tvar scrollamount = 0;\r\n\t\t\tvar oldscroll = this.domNode.scrollTop;\r\n\t\t\tvar height = domStyle.get(this.domNode, \"height\");\r\n\t\t\t// if no item is highlighted, highlight the first option\r\n\t\t\tif(!this.getHighlightedOption()){\r\n\t\t\t\tthis.selectNextNode();\r\n\t\t\t}\r\n\t\t\twhile(scrollamount<height){\r\n\t\t\t\tvar highlighted_option = this.getHighlightedOption();\r\n\t\t\t\tif(up){\r\n\t\t\t\t\t// stop at option 1\r\n\t\t\t\t\tif(!highlighted_option.previousSibling ||\r\n\t\t\t\t\t\thighlighted_option.previousSibling.style.display == \"none\"){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// stop at last option\r\n\t\t\t\t\tif(!highlighted_option.nextSibling ||\r\n\t\t\t\t\t\thighlighted_option.nextSibling.style.display == \"none\"){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.selectNextNode();\r\n\t\t\t\t}\r\n\t\t\t\t// going backwards\r\n\t\t\t\tvar newscroll = this.domNode.scrollTop;\r\n\t\t\t\tscrollamount += (newscroll-oldscroll)*(up ? -1:1);\r\n\t\t\t\toldscroll = newscroll;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleKey: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle keystroke event forwarded from ComboBox, returning false if it's\r\n\t\t\t//\t\ta keystroke I recognize and process, true otherwise.\r\n\t\t\tswitch(evt.keyCode){\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\t\tthis.selectNextNode();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\t\tthis._page(false);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\t\tthis._page(true);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_HasDropDown',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/Deferred\",\r\n\t\"dojo/dom\", // dom.isDescendant\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-class\", // domClass.add domClass.contains domClass.remove\r\n\t\"dojo/dom-geometry\", // domGeometry.marginBox domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/has\", // has(\"touch\")\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.ENTER keys.ESCAPE\r\n\t\"dojo/_base/lang\", // lang.hitch lang.isFunction\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\",\r\n\t\"./registry\", // registry.byNode()\r\n\t\"./focus\",\r\n\t\"./popup\",\r\n\t\"./_FocusMixin\"\r\n], function(declare, Deferred, dom, domAttr, domClass, domGeometry, domStyle, has, keys, lang, on, touch,\r\n\t\t\tregistry, focus, popup, _FocusMixin){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/_HasDropDown\r\n\r\n\treturn declare(\"dijit._HasDropDown\", _FocusMixin, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for widgets that need drop down ability.\r\n\r\n\t\t// _buttonNode: [protected] DomNode\r\n\t\t//\t\tThe button/icon/node to click to display the drop down.\r\n\t\t//\t\tCan be set via a data-dojo-attach-point assignment.\r\n\t\t//\t\tIf missing, then either focusNode or domNode (if focusNode is also missing) will be used.\r\n\t\t_buttonNode: null,\r\n\r\n\t\t// _arrowWrapperNode: [protected] DomNode\r\n\t\t//\t\tWill set CSS class dijitUpArrow, dijitDownArrow, dijitRightArrow etc. on this node depending\r\n\t\t//\t\ton where the drop down is set to be positioned.\r\n\t\t//\t\tCan be set via a data-dojo-attach-point assignment.\r\n\t\t//\t\tIf missing, then _buttonNode will be used.\r\n\t\t_arrowWrapperNode: null,\r\n\r\n\t\t// _popupStateNode: [protected] DomNode\r\n\t\t//\t\tThe node to set the aria-expanded class on.\r\n\t\t//\t\tAlso sets popupActive class but that will be removed in 2.0.\r\n\t\t//\t\tCan be set via a data-dojo-attach-point assignment.\r\n\t\t//\t\tIf missing, then focusNode or _buttonNode (if focusNode is missing) will be used.\r\n\t\t_popupStateNode: null,\r\n\r\n\t\t// _aroundNode: [protected] DomNode\r\n\t\t//\t\tThe node to display the popup around.\r\n\t\t//\t\tCan be set via a data-dojo-attach-point assignment.\r\n\t\t//\t\tIf missing, then domNode will be used.\r\n\t\t_aroundNode: null,\r\n\r\n\t\t// dropDown: [protected] Widget\r\n\t\t//\t\tThe widget to display as a popup.  This widget *must* be\r\n\t\t//\t\tdefined before the startup function is called.\r\n\t\tdropDown: null,\r\n\r\n\t\t// autoWidth: [protected] Boolean\r\n\t\t//\t\tSet to true to make the drop down at least as wide as this\r\n\t\t//\t\twidget.  Set to false if the drop down should just be its\r\n\t\t//\t\tdefault width.\r\n\t\tautoWidth: true,\r\n\r\n\t\t// forceWidth: [protected] Boolean\r\n\t\t//\t\tSet to true to make the drop down exactly as wide as this\r\n\t\t//\t\twidget.  Overrides autoWidth.\r\n\t\tforceWidth: false,\r\n\r\n\t\t// maxHeight: [protected] Integer\r\n\t\t//\t\tThe max height for our dropdown.\r\n\t\t//\t\tAny dropdown taller than this will have scrollbars.\r\n\t\t//\t\tSet to 0 for no max height, or -1 to limit height to available space in viewport\r\n\t\tmaxHeight: -1,\r\n\r\n\t\t// dropDownPosition: [const] String[]\r\n\t\t//\t\tThis variable controls the position of the drop down.\r\n\t\t//\t\tIt's an array of strings with the following values:\r\n\t\t//\r\n\t\t//\t\t- before: places drop down to the left of the target node/widget, or to the right in\r\n\t\t//\t\t  the case of RTL scripts like Hebrew and Arabic\r\n\t\t//\t\t- after: places drop down to the right of the target node/widget, or to the left in\r\n\t\t//\t\t  the case of RTL scripts like Hebrew and Arabic\r\n\t\t//\t\t- above: drop down goes above target node\r\n\t\t//\t\t- below: drop down goes below target node\r\n\t\t//\r\n\t\t//\t\tThe list is positions is tried, in order, until a position is found where the drop down fits\r\n\t\t//\t\twithin the viewport.\r\n\t\t//\r\n\t\tdropDownPosition: [\"below\", \"above\"],\r\n\r\n\t\t// _stopClickEvents: Boolean\r\n\t\t//\t\tWhen set to false, the click events will not be stopped, in\r\n\t\t//\t\tcase you want to use them in your subclass\r\n\t\t_stopClickEvents: true,\r\n\r\n\t\t_onDropDownMouseDown: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when the user mousedown/touchstart on the arrow icon.\r\n\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Prevent default to stop things like text selection, but don't stop propagation, so that:\r\n\t\t\t//\t\t1. TimeTextBox etc. can focus the <input> on mousedown\r\n\t\t\t//\t\t2. dropDownButtonActive class applied by _CssStateMixin (on button depress)\r\n\t\t\t//\t\t3. user defined onMouseDown handler fires\r\n\t\t\t//\r\n\t\t\t// Also, don't call preventDefault() on MSPointerDown event (on IE10) because that prevents the button\r\n\t\t\t// from getting focus, and then the focus manager doesn't know what's going on (#17262)\r\n\t\t\tif(e.type != \"MSPointerDown\" && e.type != \"pointerdown\"){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tthis.own(on.once(this.ownerDocument, touch.release, lang.hitch(this, \"_onDropDownMouseUp\")));\r\n\r\n\t\t\tthis.toggleDropDown();\r\n\t\t},\r\n\r\n\t\t_onDropDownMouseUp: function(/*Event?*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback on mouseup/touchend after mousedown/touchstart on the arrow icon.\r\n\t\t\t//\t\tNote that this function is called regardless of what node the event occurred on (but only after\r\n\t\t\t//\t\ta mousedown/touchstart on the arrow).\r\n\t\t\t//\r\n\t\t\t//\t\tIf the drop down is a simple menu and the cursor is over the menu, we execute it, otherwise, we focus our\r\n\t\t\t//\t\tdrop down widget.  If the event is missing, then we are not\r\n\t\t\t//\t\ta mouseup event.\r\n\t\t\t//\r\n\t\t\t//\t\tThis is useful for the common mouse movement pattern\r\n\t\t\t//\t\twith native browser `<select>` nodes:\r\n\t\t\t//\r\n\t\t\t//\t\t1. mouse down on the select node (probably on the arrow)\r\n\t\t\t//\t\t2. move mouse to a menu item while holding down the mouse button\r\n\t\t\t//\t\t3. mouse up.  this selects the menu item as though the user had clicked it.\r\n\r\n\t\t\tvar dropDown = this.dropDown, overMenu = false;\r\n\r\n\t\t\tif(e && this._opened){\r\n\t\t\t\t// This code deals with the corner-case when the drop down covers the original widget,\r\n\t\t\t\t// because it's so large.  In that case mouse-up shouldn't select a value from the menu.\r\n\t\t\t\t// Find out if our target is somewhere in our dropdown widget,\r\n\t\t\t\t// but not over our _buttonNode (the clickable node)\r\n\t\t\t\tvar c = domGeometry.position(this._buttonNode, true);\r\n\t\t\t\tif(!(e.pageX >= c.x && e.pageX <= c.x + c.w) || !(e.pageY >= c.y && e.pageY <= c.y + c.h)){\r\n\t\t\t\t\tvar t = e.target;\r\n\t\t\t\t\twhile(t && !overMenu){\r\n\t\t\t\t\t\tif(domClass.contains(t, \"dijitPopup\")){\r\n\t\t\t\t\t\t\toverMenu = true;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tt = t.parentNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(overMenu){\r\n\t\t\t\t\t\tt = e.target;\r\n\t\t\t\t\t\tif(dropDown.onItemClick){\r\n\t\t\t\t\t\t\tvar menuItem;\r\n\t\t\t\t\t\t\twhile(t && !(menuItem = registry.byNode(t))){\r\n\t\t\t\t\t\t\t\tt = t.parentNode;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(menuItem && menuItem.onClick && menuItem.getParent){\r\n\t\t\t\t\t\t\t\tmenuItem.getParent().onItemClick(menuItem, e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._opened){\r\n\t\t\t\t// Focus the dropdown widget unless it's a menu (in which case autoFocus is set to false).\r\n\t\t\t\t// Even if it's a menu, we need to focus it if this is a fake mouse event caused by the user typing\r\n\t\t\t\t// SPACE/ENTER while using JAWS.  Jaws converts the SPACE/ENTER key into mousedown/mouseup events.\r\n\t\t\t\t// If this.hovering is false then it's presumably actually a keyboard event.\r\n\t\t\t\tif(dropDown.focus && (dropDown.autoFocus !== false || (e.type == \"mouseup\" && !this.hovering))){\r\n\t\t\t\t\t// Do it on a delay so that we don't steal back focus from the dropdown.\r\n\t\t\t\t\tthis._focusDropDownTimer = this.defer(function(){\r\n\t\t\t\t\t\tdropDown.focus();\r\n\t\t\t\t\t\tdelete this._focusDropDownTimer;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// The drop down arrow icon probably can't receive focus, but widget itself should get focus.\r\n\t\t\t\t// defer() needed to make it work on IE (test DateTextBox)\r\n\t\t\t\tif(this.focus){\r\n\t\t\t\t\tthis.defer(\"focus\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onDropDownClick: function(/*Event*/ e){\r\n\t\t\t// The drop down was already opened on mousedown/keydown; just need to stop the event\r\n\t\t\tif(this._stopClickEvents){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis._buttonNode = this._buttonNode || this.focusNode || this.domNode;\r\n\t\t\tthis._popupStateNode = this._popupStateNode || this.focusNode || this._buttonNode;\r\n\r\n\t\t\t// Add a class to the \"dijitDownArrowButton\" type class to _buttonNode so theme can set direction of arrow\r\n\t\t\t// based on where drop down will normally appear\r\n\t\t\tvar defaultPos = {\r\n\t\t\t\t\"after\": this.isLeftToRight() ? \"Right\" : \"Left\",\r\n\t\t\t\t\"before\": this.isLeftToRight() ? \"Left\" : \"Right\",\r\n\t\t\t\t\"above\": \"Up\",\r\n\t\t\t\t\"below\": \"Down\",\r\n\t\t\t\t\"left\": \"Left\",\r\n\t\t\t\t\"right\": \"Right\"\r\n\t\t\t}[this.dropDownPosition[0]] || this.dropDownPosition[0] || \"Down\";\r\n\t\t\tdomClass.add(this._arrowWrapperNode || this._buttonNode, \"dijit\" + defaultPos + \"ArrowButton\");\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tset up nodes and connect our mouse and keyboard events\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar keyboardEventNode = this.focusNode || this.domNode;\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this._buttonNode, touch.press, lang.hitch(this, \"_onDropDownMouseDown\")),\r\n\t\t\t\ton(this._buttonNode, \"click\", lang.hitch(this, \"_onDropDownClick\")),\r\n\t\t\t\ton(keyboardEventNode, \"keydown\", lang.hitch(this, \"_onKey\")),\r\n\t\t\t\ton(keyboardEventNode, \"keyup\", lang.hitch(this, \"_onKeyUp\"))\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// If dropdown is open, close it, to avoid leaving dijit/focus in a strange state.\r\n\t\t\t// Put focus back on me to avoid the focused node getting destroyed, which flummoxes IE.\r\n\t\t\tif(this._opened){\r\n\t\t\t\tthis.closeDropDown(true);\r\n\t\t\t}\r\n\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\t// Destroy the drop down, unless it's already been destroyed.  This can happen because\r\n\t\t\t\t// the drop down is a direct child of <body> even though it's logically my child.\r\n\t\t\t\tif(!this.dropDown._destroyed){\r\n\t\t\t\t\tthis.dropDown.destroyRecursive();\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.dropDown;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onKey: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when the user presses a key while focused on the button node\r\n\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar d = this.dropDown, target = e.target;\r\n\t\t\tif(d && this._opened && d.handleKey){\r\n\t\t\t\tif(d.handleKey(e) === false){\r\n\t\t\t\t\t/* false return code means that the drop down handled the key */\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(d && this._opened && e.keyCode == keys.ESCAPE){\r\n\t\t\t\tthis.closeDropDown();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}else if(!this._opened &&\r\n\t\t\t\t(e.keyCode == keys.DOWN_ARROW ||\r\n\t\t\t\t\t// ignore unmodified SPACE if _KeyNavMixin has active searching in progress\r\n\t\t\t\t\t( (e.keyCode == keys.ENTER || (e.keyCode == keys.SPACE && (!this._searchTimer || (e.ctrlKey || e.altKey || e.metaKey)))) &&\r\n\t\t\t\t\t\t//ignore enter and space if the event is for a text input\r\n\t\t\t\t\t\t((target.tagName || \"\").toLowerCase() !== 'input' ||\r\n\t\t\t\t\t\t\t(target.type && target.type.toLowerCase() !== 'text'))))){\r\n\t\t\t\t// Toggle the drop down, but wait until keyup so that the drop down doesn't\r\n\t\t\t\t// get a stray keyup event, or in the case of key-repeat (because user held\r\n\t\t\t\t// down key for too long), stray keydown events\r\n\t\t\t\tthis._toggleOnKeyUp = true;\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onKeyUp: function(){\r\n\t\t\tif(this._toggleOnKeyUp){\r\n\t\t\t\tdelete this._toggleOnKeyUp;\r\n\t\t\t\tthis.toggleDropDown();\r\n\t\t\t\tvar d = this.dropDown;\t// drop down may not exist until toggleDropDown() call\r\n\t\t\t\tif(d && d.focus){\r\n\t\t\t\t\tthis.defer(lang.hitch(d, \"focus\"), 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled magically when focus has shifted away from this widget and it's dropdown\r\n\r\n\t\t\t// Close dropdown but don't focus my <input>.  User may have focused somewhere else (ex: clicked another\r\n\t\t\t// input), and even if they just clicked a blank area of the screen, focusing my <input> will unwantedly\r\n\t\t\t// popup the keyboard on mobile.\r\n\t\t\tthis.closeDropDown(false);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tisLoaded: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if the dropdown exists and it's data is loaded.  This can\r\n\t\t\t//\t\tbe overridden in order to force a call to loadDropDown().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tloadDropDown: function(/*Function*/ loadCallback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates the drop down if it doesn't exist, loads the data\r\n\t\t\t//\t\tif there's an href and it hasn't been loaded yet, and then calls\r\n\t\t\t//\t\tthe given callback.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// TODO: for 2.0, change API to return a Deferred, instead of calling loadCallback?\r\n\t\t\tloadCallback();\r\n\t\t},\r\n\r\n\t\tloadAndOpenDropDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates the drop down if it doesn't exist, loads the data\r\n\t\t\t//\t\tif there's an href and it hasn't been loaded yet, and\r\n\t\t\t//\t\tthen opens the drop down.  This is basically a callback when the\r\n\t\t\t//\t\tuser presses the down arrow button to open the drop down.\r\n\t\t\t// returns: Deferred\r\n\t\t\t//\t\tDeferred for the drop down widget that\r\n\t\t\t//\t\tfires when drop down is created and loaded\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar d = new Deferred(),\r\n\t\t\t\tafterLoad = lang.hitch(this, function(){\r\n\t\t\t\t\tthis.openDropDown();\r\n\t\t\t\t\td.resolve(this.dropDown);\r\n\t\t\t\t});\r\n\t\t\tif(!this.isLoaded()){\r\n\t\t\t\tthis.loadDropDown(afterLoad);\r\n\t\t\t}else{\r\n\t\t\t\tafterLoad();\r\n\t\t\t}\r\n\t\t\treturn d;\r\n\t\t},\r\n\r\n\t\ttoggleDropDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when the user presses the down arrow button or presses\r\n\t\t\t//\t\tthe down arrow key to open/close the drop down.\r\n\t\t\t//\t\tToggle the drop-down widget; if it is up, close it, if not, open it\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!this._opened){\r\n\t\t\t\tthis.loadAndOpenDropDown();\r\n\t\t\t}else{\r\n\t\t\t\tthis.closeDropDown(true);\t// refocus button to avoid hiding node w/focus\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenDropDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOpens the dropdown for this widget.   To be called only when this.dropDown\r\n\t\t\t//\t\thas been created and is ready to display (ie, it's data is loaded).\r\n\t\t\t// returns:\r\n\t\t\t//\t\treturn value of dijit/popup.open()\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar dropDown = this.dropDown,\r\n\t\t\t\tddNode = dropDown.domNode,\r\n\t\t\t\taroundNode = this._aroundNode || this.domNode,\r\n\t\t\t\tself = this;\r\n\r\n\t\t\tvar retVal = popup.open({\r\n\t\t\t\tparent: this,\r\n\t\t\t\tpopup: dropDown,\r\n\t\t\t\taround: aroundNode,\r\n\t\t\t\torient: this.dropDownPosition,\r\n\t\t\t\tmaxHeight: this.maxHeight,\r\n\t\t\t\tonExecute: function(){\r\n\t\t\t\t\tself.closeDropDown(true);\r\n\t\t\t\t},\r\n\t\t\t\tonCancel: function(){\r\n\t\t\t\t\tself.closeDropDown(true);\r\n\t\t\t\t},\r\n\t\t\t\tonClose: function(){\r\n\t\t\t\t\tdomAttr.set(self._popupStateNode, \"popupActive\", false);\r\n\t\t\t\t\tdomClass.remove(self._popupStateNode, \"dijitHasDropDownOpen\");\r\n\t\t\t\t\tself._set(\"_opened\", false);\t// use set() because _CssStateMixin is watching\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Set width of drop down if necessary, so that dropdown width + width of scrollbar (from popup wrapper)\r\n\t\t\t// matches width of aroundNode\r\n\t\t\tif(this.forceWidth || (this.autoWidth && aroundNode.offsetWidth > dropDown._popupWrapper.offsetWidth)){\r\n\t\t\t\tvar widthAdjust = aroundNode.offsetWidth - dropDown._popupWrapper.offsetWidth;\r\n\t\t\t\tvar resizeArgs = {\r\n\t\t\t\t\tw: dropDown.domNode.offsetWidth + widthAdjust\r\n\t\t\t\t};\r\n\t\t\t\tif(lang.isFunction(dropDown.resize)){\r\n\t\t\t\t\tdropDown.resize(resizeArgs);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomGeometry.setMarginBox(ddNode, resizeArgs);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If dropdown is right-aligned then compensate for width change by changing horizontal position\r\n\t\t\t\tif(retVal.corner[1] == \"R\"){\r\n\t\t\t\t\tdropDown._popupWrapper.style.left =\r\n\t\t\t\t\t\t(dropDown._popupWrapper.style.left.replace(\"px\", \"\") - widthAdjust) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdomAttr.set(this._popupStateNode, \"popupActive\", \"true\");\r\n\t\t\tdomClass.add(this._popupStateNode, \"dijitHasDropDownOpen\");\r\n\t\t\tthis._set(\"_opened\", true);\t// use set() because _CssStateMixin is watching\r\n\r\n\t\t\tthis._popupStateNode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\tthis._popupStateNode.setAttribute(\"aria-owns\", dropDown.id);\r\n\r\n\t\t\t// Set aria-labelledby on dropdown if it's not already set to something more meaningful\r\n\t\t\tif(ddNode.getAttribute(\"role\") !== \"presentation\" && !ddNode.getAttribute(\"aria-labelledby\")){\r\n\t\t\t\tddNode.setAttribute(\"aria-labelledby\", this.id);\r\n\t\t\t}\r\n\r\n\t\t\treturn retVal;\r\n\t\t},\r\n\r\n\t\tcloseDropDown: function(/*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCloses the drop down on this widget\r\n\t\t\t// focus:\r\n\t\t\t//\t\tIf true, refocuses the button widget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this._focusDropDownTimer){\r\n\t\t\t\tthis._focusDropDownTimer.remove();\r\n\t\t\t\tdelete this._focusDropDownTimer;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._opened){\r\n\t\t\t\tthis._popupStateNode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t\tif(focus && this.focus){\r\n\t\t\t\t\tthis.focus();\r\n\t\t\t\t}\r\n\t\t\t\tpopup.close(this.dropDown);\r\n\t\t\t\tthis._opened = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n});\r\n\n\ndefine('dijit/form/ComboBoxMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/Deferred\",\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/store/util/QueryResults\",\r\n\t\"./_AutoCompleterMixin\",\r\n\t\"./_ComboBoxMenu\",\r\n\t\"../_HasDropDown\",\r\n\t\"dojo/text!./templates/DropDownBox.html\"\r\n], function(declare, Deferred, kernel, lang, QueryResults, _AutoCompleterMixin, _ComboBoxMenu, _HasDropDown, template){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/ComboBoxMixin\r\n\r\n\treturn declare(\"dijit.form.ComboBoxMixin\", [_HasDropDown, _AutoCompleterMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tProvides main functionality of ComboBox widget\r\n\r\n\t\t// dropDownClass: [protected extension] Function String\r\n\t\t//\t\tDropdown widget class used to select a date/time.\r\n\t\t//\t\tSubclasses should specify this.\r\n\t\tdropDownClass: _ComboBoxMenu,\r\n\r\n\t\t// hasDownArrow: Boolean\r\n\t\t//\t\tSet this textbox to have a down arrow button, to display the drop down list.\r\n\t\t//\t\tDefaults to true.\r\n\t\thasDownArrow: true,\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitComboBox\",\r\n\r\n\t\t/*=====\r\n\t\t// store: [const] dojo/store/api/Store|dojo/data/api/Read\r\n\t\t//\t\tReference to data provider object used by this ComboBox.\r\n\t\t//\r\n\t\t//\t\tShould be dojo/store/api/Store, but dojo/data/api/Read supported\r\n\t\t//\t\tfor backwards compatibility.\r\n\t\tstore: null,\r\n\t\t=====*/\r\n\r\n\t\t// Set classes like dijitDownArrowButtonHover depending on\r\n\t\t// mouse action over button node\r\n\t\tcssStateNodes: {\r\n\t\t\t\"_buttonNode\": \"dijitDownArrowButton\"\r\n\t\t},\r\n\r\n\t\t_setHasDownArrowAttr: function(/*Boolean*/ val){\r\n\t\t\tthis._set(\"hasDownArrow\", val);\r\n\t\t\tthis._buttonNode.style.display = val ? \"\" : \"none\";\r\n\t\t},\r\n\r\n\t\t_showResultList: function(){\r\n\t\t\t// hide the tooltip\r\n\t\t\tthis.displayMessage(\"\");\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setStoreAttr: function(store){\r\n\t\t\t// For backwards-compatibility, accept dojo.data store in addition to dojo/store/api/Store.  Remove in 2.0.\r\n\t\t\tif(!store.get){\r\n\t\t\t\tlang.mixin(store, {\r\n\t\t\t\t\t_oldAPI: true,\r\n\t\t\t\t\tget: function(id){\r\n\t\t\t\t\t\t// summary:\r\n\t\t\t\t\t\t//\t\tRetrieves an object by it's identity. This will trigger a fetchItemByIdentity.\r\n\t\t\t\t\t\t//\t\tLike dojo/store/DataStore.get() except returns native item.\r\n\t\t\t\t\t\tvar deferred = new Deferred();\r\n\t\t\t\t\t\tthis.fetchItemByIdentity({\r\n\t\t\t\t\t\t\tidentity: id,\r\n\t\t\t\t\t\t\tonItem: function(object){\r\n\t\t\t\t\t\t\t\tdeferred.resolve(object);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonError: function(error){\r\n\t\t\t\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn deferred.promise;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tquery: function(query, options){\r\n\t\t\t\t\t\t// summary:\r\n\t\t\t\t\t\t//\t\tQueries the store for objects.   Like dojo/store/DataStore.query()\r\n\t\t\t\t\t\t//\t\texcept returned Deferred contains array of native items.\r\n\t\t\t\t\t\tvar deferred = new Deferred(function(){ fetchHandle.abort && fetchHandle.abort(); });\r\n\t\t\t\t\t\tdeferred.total = new Deferred();\r\n\t\t\t\t\t\tvar fetchHandle = this.fetch(lang.mixin({\r\n\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\tonBegin: function(count){\r\n\t\t\t\t\t\t\t\tdeferred.total.resolve(count);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: function(results){\r\n\t\t\t\t\t\t\t\tdeferred.resolve(results);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonError: function(error){\r\n\t\t\t\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, options));\r\n\t\t\t\t\t\treturn QueryResults(deferred);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._set(\"store\", store);\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// Since _setValueAttr() depends on this.store, _setStoreAttr() needs to execute first.\r\n\t\t\t// Unfortunately, without special code, it ends up executing second.\r\n\t\t\tvar store = this.params.store || this.store;\r\n\t\t\tif(store){\r\n\t\t\t\tthis._setStoreAttr(store);\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// User may try to access this.store.getValue() etc.  in a custom labelFunc() function.\r\n\t\t\t// It's not available with the new data store for handling inline <option> tags, so add it.\r\n\t\t\tif(!this.params.store && this.store && !this.store._oldAPI){\r\n\t\t\t\tvar clazz = this.declaredClass;\r\n\t\t\t\tlang.mixin(this.store, {\r\n\t\t\t\t\tgetValue: function(item, attr){\r\n\t\t\t\t\t\tkernel.deprecated(clazz + \".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly\", \"\", \"2.0\");\r\n\t\t\t\t\t\treturn item[attr];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetLabel: function(item){\r\n\t\t\t\t\t\tkernel.deprecated(clazz + \".store.getLabel(item) is deprecated for builtin store.  Use item.label directly\", \"\", \"2.0\");\r\n\t\t\t\t\t\treturn item.name;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfetch: function(args){\r\n\t\t\t\t\t\tkernel.deprecated(clazz + \".store.fetch() is deprecated for builtin store.\", \"Use store.query()\", \"2.0\");\r\n\t\t\t\t\t\tvar shim = [\"dojo/data/ObjectStore\"];\t// indirection so it doesn't get rolled into a build\r\n\t\t\t\t\t\trequire(shim, lang.hitch(this, function(ObjectStore){\r\n\t\t\t\t\t\t\tnew ObjectStore({objectStore: this}).fetch(args);\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis.focusNode.setAttribute(\"aria-autocomplete\", this.autoComplete ? \"both\" : \"list\");\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/FilteringSelect',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/when\",\r\n\t\"./MappedTextBox\",\r\n\t\"./ComboBoxMixin\"\r\n], function(declare, lang, when, MappedTextBox, ComboBoxMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/FilteringSelect\r\n\r\n\treturn declare(\"dijit.form.FilteringSelect\", [MappedTextBox, ComboBoxMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tAn enhanced version of the HTML SELECT tag, populated dynamically\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tAn enhanced version of the HTML SELECT tag, populated dynamically. It works\r\n\t\t//\t\tvery nicely with very large data sets because it can load and page data as needed.\r\n\t\t//\t\tIt also resembles ComboBox, but does not allow values outside of the provided ones.\r\n\t\t//\t\tIf OPTION tags are used as the data provider via markup, then the\r\n\t\t//\t\tOPTION tag's child text node is used as the displayed value when selected\r\n\t\t//\t\twhile the OPTION tag's value attribute is used as the widget value on form submit.\r\n\t\t//\t\tTo set the default value when using OPTION tags, specify the selected\r\n\t\t//\t\tattribute on 1 of the child OPTION tags.\r\n\t\t//\r\n\t\t//\t\tSimilar features:\r\n\t\t//\r\n\t\t//\t\t- There is a drop down list of possible values.\r\n\t\t//\t\t- You can only enter a value from the drop down list.  (You can't\r\n\t\t//\t\t\tenter an arbitrary value.)\r\n\t\t//\t\t- The value submitted with the form is the hidden value (ex: CA),\r\n\t\t//\t\t\tnot the displayed value a.k.a. label (ex: California)\r\n\t\t//\r\n\t\t//\t\tEnhancements over plain HTML version:\r\n\t\t//\r\n\t\t//\t\t- If you type in some text then it will filter down the list of\r\n\t\t//\t\t\tpossible values in the drop down list.\r\n\t\t//\t\t- List can be specified either as a static list or via a javascript\r\n\t\t//\t\t\tfunction (that can get the list from a server)\r\n\r\n\t\t// required: Boolean\r\n\t\t//\t\tTrue (default) if user is required to enter a value into this field.\r\n\t\trequired: true,\r\n\r\n\t\t_lastDisplayedValue: \"\",\r\n\r\n\t\t_isValidSubset: function(){\r\n\t\t\treturn this._opened;\r\n\t\t},\r\n\r\n\t\tisValid: function(){\r\n\t\t\t// Overrides ValidationTextBox.isValid()\r\n\t\t\treturn !!this.item || (!this.required && this.get('displayedValue') == \"\"); // #5974\r\n\t\t},\r\n\r\n\t\t_refreshState: function(){\r\n\t\t\tif(!this.searchTimer){ // state will be refreshed after results are returned\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_callbackSetLabel: function(\r\n\t\t\t\t\t\t/*Array*/ result,\r\n\t\t\t\t\t\t/*Object*/ query,\r\n\t\t\t\t\t\t/*Object*/ options,\r\n\t\t\t\t\t\t/*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback from dojo.store after lookup of user entered value finishes\r\n\r\n\t\t\t// setValue does a synchronous lookup,\r\n\t\t\t// so it calls _callbackSetLabel directly,\r\n\t\t\t// and so does not pass dataObject\r\n\t\t\t// still need to test against _lastQuery in case it came too late\r\n\t\t\tif((query && query[this.searchAttr] !== this._lastQuery) || (!query && result.length && this.store.getIdentity(result[0]) != this._lastQuery)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!result.length){\r\n\t\t\t\t//#3268: don't modify display value on bad input\r\n\t\t\t\t//#3285: change CSS to indicate error\r\n\t\t\t\tthis.set(\"value\", '', priorityChange || (priorityChange === undefined && !this.focused), this.textbox.value, null);\r\n\t\t\t}else{\r\n\t\t\t\tthis.set('item', result[0], priorityChange);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_openResultList: function(/*Object*/ results, /*Object*/ query, /*Object*/ options){\r\n\t\t\t// Callback when a data store query completes.\r\n\t\t\t// Overrides ComboBox._openResultList()\r\n\r\n\t\t\t// #3285: tap into search callback to see if user's query resembles a match\r\n\t\t\tif(query[this.searchAttr] !== this._lastQuery){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this.item === undefined){ // item == undefined for keyboard search\r\n\t\t\t\t// If the search returned no items that means that the user typed\r\n\t\t\t\t// in something invalid (and they can't make it valid by typing more characters),\r\n\t\t\t\t// so flag the FilteringSelect as being in an invalid state\r\n\t\t\t\tthis.validate(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for get('value') to work.\r\n\r\n\t\t\t// don't get the textbox value but rather the previously set hidden value.\r\n\t\t\t// Use this.valueNode.value which isn't always set for other MappedTextBox widgets until blur\r\n\t\t\treturn this.valueNode.value;\r\n\t\t},\r\n\r\n\t\t_getValueField: function(){\r\n\t\t\t// Overrides ComboBox._getValueField()\r\n\t\t\treturn \"value\";\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*String*/ value, /*Boolean?*/ priorityChange, /*String?*/ displayedValue, /*item?*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', value) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets the value of the select.\r\n\t\t\t//\t\tAlso sets the label to the corresponding value by reverse lookup.\r\n\t\t\tif(!this._onChangeActive){ priorityChange = null; }\r\n\r\n\t\t\tif(item === undefined){\r\n\t\t\t\tif(value === null || value === ''){\r\n\t\t\t\t\tvalue = '';\r\n\t\t\t\t\tif(!lang.isString(displayedValue)){\r\n\t\t\t\t\t\tthis._setDisplayedValueAttr(displayedValue||'', priorityChange);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tthis._lastQuery = value;\r\n\t\t\t\twhen(this.store.get(value), function(item){\r\n\t\t\t\t\tself._callbackSetLabel(item? [item] : [], undefined, undefined, priorityChange);\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.valueNode.value = value;\r\n\t\t\t\tthis.inherited(arguments, [value, priorityChange, displayedValue, item]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setItemAttr: function(/*item*/ item, /*Boolean?*/ priorityChange, /*String?*/ displayedValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the displayed valued in the input box, and the hidden value\r\n\t\t\t//\t\tthat gets submitted, based on a dojo.data store item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tUsers shouldn't call this function; they should be calling\r\n\t\t\t//\t\tset('item', value)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._lastDisplayedValue = this.textbox.value;\r\n\t\t},\r\n\r\n\t\t_getDisplayQueryString: function(/*String*/ text){\r\n\t\t\treturn text.replace(/([\\\\\\*\\?])/g, \"\\\\$1\");\r\n\t\t},\r\n\r\n\t\t_setDisplayedValueAttr: function(/*String*/ label, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('displayedValue', label) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSets textbox to display label. Also performs reverse lookup\r\n\t\t\t//\t\tto set the hidden value.  label should corresponding to item.searchAttr.\r\n\r\n\t\t\tif(label == null){ label = ''; }\r\n\r\n\t\t\t// This is called at initialization along with every custom setter.\r\n\t\t\t// Usually (or always?) the call can be ignored.   If it needs to be\r\n\t\t\t// processed then at least make sure that the XHR request doesn't trigger an onChange()\r\n\t\t\t// event, even if it returns after creation has finished\r\n\t\t\tif(!this._created){\r\n\t\t\t\tif(!(\"displayedValue\" in this.params)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tpriorityChange = false;\r\n\t\t\t}\r\n\r\n\t\t\t// Do a reverse lookup to map the specified displayedValue to the hidden value.\r\n\t\t\t// Note that if there's a custom labelFunc() this code\r\n\t\t\tif(this.store){\r\n\t\t\t\tthis.closeDropDown();\r\n\t\t\t\tvar query = lang.clone(this.query); // #6196: populate query with user-specifics\r\n\r\n\t\t\t\t// Generate query\r\n\t\t\t\tvar qs = this._getDisplayQueryString(label), q;\r\n\t\t\t\tif(this.store._oldAPI){\r\n\t\t\t\t\t// remove this branch for 2.0\r\n\t\t\t\t\tq = qs;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Query on searchAttr is a regex for benefit of dojo/store/Memory,\r\n\t\t\t\t\t// but with a toString() method to help dojo/store/JsonRest.\r\n\t\t\t\t\t// Search string like \"Co*\" converted to regex like /^Co.*$/i.\r\n\t\t\t\t\tq = this._patternToRegExp(qs);\r\n\t\t\t\t\tq.toString = function(){ return qs; };\r\n\t\t\t\t}\r\n\t\t\t\tthis._lastQuery = query[this.searchAttr] = q;\r\n\r\n\t\t\t\t// If the label is not valid, the callback will never set it,\r\n\t\t\t\t// so the last valid value will get the warning textbox.   Set the\r\n\t\t\t\t// textbox value now so that the impending warning will make\r\n\t\t\t\t// sense to the user\r\n\t\t\t\tthis.textbox.value = label;\r\n\t\t\t\tthis._lastDisplayedValue = label;\r\n\t\t\t\tthis._set(\"displayedValue\", label);\t// for watch(\"displayedValue\") notification\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tvar options = {\r\n\t\t\t\t\tqueryOptions: {\r\n\t\t\t\t\t\tignoreCase: this.ignoreCase,\r\n\t\t\t\t\t\tdeep: true\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tlang.mixin(options, this.fetchProperties);\r\n\t\t\t\tthis._fetchHandle = this.store.query(query, options);\r\n\t\t\t\twhen(this._fetchHandle, function(result){\r\n\t\t\t\t\t_this._fetchHandle = null;\r\n\t\t\t\t\t_this._callbackSetLabel(result || [], query, options, priorityChange);\r\n\t\t\t\t}, function(err){\r\n\t\t\t\t\t_this._fetchHandle = null;\r\n\t\t\t\t\tif(!_this._cancelingQuery){\t// don't treat canceled query as an error\r\n\t\t\t\t\t\tconsole.error('dijit.form.FilteringSelect: ' + err.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tundo: function(){\r\n\t\t\tthis.set('displayedValue', this._lastDisplayedValue);\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/_editor/plugins/FontChoice',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.indexOf array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.place\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/_base/lang\", // lang.delegate lang.hitch lang.isString\r\n\t\"dojo/store/Memory\", // MemoryStore\r\n\t\"../../registry\", // registry.getUniqueId\r\n\t\"../../_Widget\",\r\n\t\"../../_TemplatedMixin\",\r\n\t\"../../_WidgetsInTemplateMixin\",\r\n\t\"../../form/FilteringSelect\",\r\n\t\"../_Plugin\",\r\n\t\"../range\",\r\n\t\"dojo/i18n!../nls/FontChoice\"\r\n], function(require, array, declare, domConstruct, i18n, lang, MemoryStore,\r\n\tregistry, _Widget, _TemplatedMixin, _WidgetsInTemplateMixin, FilteringSelect, _Plugin, rangeapi){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/FontChoice\r\n\r\n\tvar _FontDropDown = declare(\"dijit._editor.plugins._FontDropDown\",\r\n\t\t[_Widget, _TemplatedMixin, _WidgetsInTemplateMixin], {\r\n\t\t\t// summary:\r\n\t\t\t//\t\tBase class for widgets that contains a label (like \"Font:\")\r\n\t\t\t//\t\tand a FilteringSelect drop down to pick a value.\r\n\t\t\t//\t\tUsed as Toolbar entry.\r\n\r\n\t\t\t// label: [public] String\r\n\t\t\t//\t\tThe label to apply to this particular FontDropDown.\r\n\t\t\tlabel: \"\",\r\n\r\n\t\t\t// plainText: [public] boolean\r\n\t\t\t//\t\tFlag to indicate that the returned label should be plain text\r\n\t\t\t//\t\tinstead of an example.\r\n\t\t\tplainText: false,\r\n\r\n\t\t\t// templateString: [public] String\r\n\t\t\t//\t\tThe template used to construct the labeled dropdown.\r\n\t\t\ttemplateString: \"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>\" +\r\n\t\t\t\t\"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>\" +\r\n\t\t\t\t\"<input data-dojo-type='../../form/FilteringSelect' required='false' \" +\r\n\t\t\t\t\"data-dojo-props='labelType:\\\"html\\\", labelAttr:\\\"label\\\", searchAttr:\\\"name\\\"' \" +\r\n\t\t\t\t\"class='${comboClass}' \" +\r\n\t\t\t\t\"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>\" +\r\n\t\t\t\t\"</span>\",\r\n\r\n\t\t\t// contextRequire: [public] Function\r\n\t\t\t//\t\tThe context require that is used to resolve modules in template.\r\n\t\t\tcontextRequire: require,\r\n\r\n\t\t\tpostMixInProperties: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tOver-ride to set specific properties.\r\n\t\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t\tthis.strings = i18n.getLocalization(\"dijit._editor\", \"FontChoice\");\r\n\r\n\t\t\t\t// Set some substitution variables used in the template\r\n\t\t\t\tthis.label = this.strings[this.command];\r\n\r\n\t\t\t\t// _WidgetBase sets the id after postMixInProperties(), but we need it now.\r\n\t\t\t\t// Alternative is to have a buildRendering() method and move this.selectId setting there,\r\n\t\t\t\t// or alternately get rid of selectId variable and just access ${id} in template?\r\n\t\t\t\tthis.id = registry.getUniqueId(this.declaredClass.replace(/\\./g, \"_\"));\r\n\r\n\t\t\t\tthis.selectId = this.id + \"_select\";\t// used in template\r\n\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t},\r\n\r\n\t\t\tpostCreate: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tOver-ride for the default postCreate action\r\n\t\t\t\t//\t\tThis establishes the filtering selects and the like.\r\n\r\n\t\t\t\t// Initialize the list of items in the drop down by creating data store with items like:\r\n\t\t\t\t// {value: 1, name: \"xx-small\", label: \"<font size=1>xx-small</font-size>\" }\r\n\t\t\t\tthis.select.set(\"store\", new MemoryStore({\r\n\t\t\t\t\tidProperty: \"value\",\r\n\t\t\t\t\tdata: array.map(this.values, function(value){\r\n\t\t\t\t\t\tvar name = this.strings[value] || value;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tlabel: this.getLabel(value, name),\r\n\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\tvalue: value\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}, this)\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tthis.select.set(\"value\", \"\", false);\r\n\t\t\t\tthis.disabled = this.select.get(\"disabled\");\r\n\t\t\t},\r\n\r\n\t\t\t_setValueAttr: function(value, priorityChange){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tOver-ride for the default action of setting the\r\n\t\t\t\t//\t\twidget value, maps the input to known values\r\n\t\t\t\t// value: Object|String\r\n\t\t\t\t//\t\tThe value to set in the select.\r\n\t\t\t\t// priorityChange:\r\n\t\t\t\t//\t\tOptional parameter used to tell the select whether or not to fire\r\n\t\t\t\t//\t\tonChange event.\r\n\r\n\t\t\t\t// if the value is not a permitted value, just set empty string to prevent showing the warning icon\r\n\t\t\t\tpriorityChange = priorityChange !== false;\r\n\t\t\t\tthis.select.set('value', array.indexOf(this.values, value) < 0 ? \"\" : value, priorityChange);\r\n\t\t\t\tif(!priorityChange){\r\n\t\t\t\t\t// Clear the last state in case of updateState calls.  Ref: #10466\r\n\t\t\t\t\tthis.select._lastValueReported = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t_getValueAttr: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tAllow retrieving the value from the composite select on\r\n\t\t\t\t//\t\tcall to button.get(\"value\");\r\n\t\t\t\treturn this.select.get('value');\r\n\t\t\t},\r\n\r\n\t\t\tfocus: function(){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tOver-ride for focus control of this widget.  Delegates focus down to the\r\n\t\t\t\t//\t\tfiltering select.\r\n\t\t\t\tthis.select.focus();\r\n\t\t\t},\r\n\r\n\t\t\t_setDisabledAttr: function(value){\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tOver-ride for the button's 'disabled' attribute so that it can be\r\n\t\t\t\t//\t\tdisabled programmatically.\r\n\r\n\t\t\t\t// Save off ths disabled state so the get retrieves it correctly\r\n\t\t\t\t//without needing to have a function proxy it.\r\n\t\t\t\tthis._set(\"disabled\", value);\r\n\t\t\t\tthis.select.set(\"disabled\", value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\tvar _FontNameDropDown = declare(\"dijit._editor.plugins._FontNameDropDown\", _FontDropDown, {\r\n\t\t// summary:\r\n\t\t//\t\tDropdown to select a font; goes in editor toolbar.\r\n\r\n\t\t// generic: [const] Boolean\r\n\t\t//\t\tUse generic (web standard) font names\r\n\t\tgeneric: false,\r\n\r\n\t\t// command: [public] String\r\n\t\t//\t\tThe editor 'command' implemented by this plugin.\r\n\t\tcommand: \"fontName\",\r\n\r\n\t\tcomboClass: \"dijitFontNameCombo\",\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for the default posr mixin control\r\n\t\t\tif(!this.values){\r\n\t\t\t\tthis.values = this.generic ?\r\n\t\t\t\t\t[\"serif\", \"sans-serif\", \"monospace\", \"cursive\", \"fantasy\"] : // CSS font-family generics\r\n\t\t\t\t\t[\"Arial\", \"Times New Roman\", \"Comic Sans MS\", \"Courier New\"];\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tgetLabel: function(value, name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction used to generate the labels of the format dropdown\r\n\t\t\t//\t\twill return a formatted, or plain label based on the value\r\n\t\t\t//\t\tof the plainText option.\r\n\t\t\t// value: String\r\n\t\t\t//\t\tThe 'insert value' associated with a name\r\n\t\t\t// name: String\r\n\t\t\t//\t\tThe text name of the value\r\n\t\t\tif(this.plainText){\r\n\t\t\t\treturn name;\r\n\t\t\t}else{\r\n\t\t\t\treturn \"<div style='font-family: \" + value + \"'>\" + name + \"</div>\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value, priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for the default action of setting the\r\n\t\t\t//\t\twidget value, maps the input to known values\r\n\r\n\t\t\tpriorityChange = priorityChange !== false;\r\n\t\t\tif(this.generic){\r\n\t\t\t\tvar map = {\r\n\t\t\t\t\t\"Arial\": \"sans-serif\",\r\n\t\t\t\t\t\"Helvetica\": \"sans-serif\",\r\n\t\t\t\t\t\"Myriad\": \"sans-serif\",\r\n\t\t\t\t\t\"Times\": \"serif\",\r\n\t\t\t\t\t\"Times New Roman\": \"serif\",\r\n\t\t\t\t\t\"Comic Sans MS\": \"cursive\",\r\n\t\t\t\t\t\"Apple Chancery\": \"cursive\",\r\n\t\t\t\t\t\"Courier\": \"monospace\",\r\n\t\t\t\t\t\"Courier New\": \"monospace\",\r\n\t\t\t\t\t\"Papyrus\": \"fantasy\",\r\n\t\t\t\t\t\"Estrangelo Edessa\": \"cursive\", // Windows 7\r\n\t\t\t\t\t\"Gabriola\": \"fantasy\" // Windows 7\r\n\t\t\t\t};\r\n\t\t\t\tvalue = map[value] || value;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [value, priorityChange]);\r\n\t\t}\r\n\t});\r\n\r\n\tvar _FontSizeDropDown = declare(\"dijit._editor.plugins._FontSizeDropDown\", _FontDropDown, {\r\n\t\t// summary:\r\n\t\t//\t\tDropdown to select a font size; goes in editor toolbar.\r\n\r\n\t\t// command: [public] String\r\n\t\t//\t\tThe editor 'command' implemented by this plugin.\r\n\t\tcommand: \"fontSize\",\r\n\r\n\t\tcomboClass: \"dijitFontSizeCombo\",\r\n\r\n\t\t// values: [public] Number[]\r\n\t\t//\t\tThe HTML font size values supported by this plugin\r\n\t\tvalues: [1, 2, 3, 4, 5, 6, 7], // sizes according to the old HTML FONT SIZE\r\n\r\n\t\tgetLabel: function(value, name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction used to generate the labels of the format dropdown\r\n\t\t\t//\t\twill return a formatted, or plain label based on the value\r\n\t\t\t//\t\tof the plainText option.\r\n\t\t\t//\t\tWe're stuck using the deprecated FONT tag to correspond\r\n\t\t\t//\t\twith the size measurements used by the editor\r\n\t\t\t// value: String\r\n\t\t\t//\t\tThe 'insert value' associated with a name\r\n\t\t\t// name: String\r\n\t\t\t//\t\tThe text name of the value\r\n\t\t\tif(this.plainText){\r\n\t\t\t\treturn name;\r\n\t\t\t}else{\r\n\t\t\t\treturn \"<font size=\" + value + \"'>\" + name + \"</font>\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value, priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for the default action of setting the\r\n\t\t\t//\t\twidget value, maps the input to known values\r\n\t\t\tpriorityChange = priorityChange !== false;\r\n\t\t\tif(value.indexOf && value.indexOf(\"px\") != -1){\r\n\t\t\t\tvar pixels = parseInt(value, 10);\r\n\t\t\t\tvalue = {10: 1, 13: 2, 16: 3, 18: 4, 24: 5, 32: 6, 48: 7}[pixels] || value;\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments, [value, priorityChange]);\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tvar _FormatBlockDropDown = declare(\"dijit._editor.plugins._FormatBlockDropDown\", _FontDropDown, {\r\n\t\t// summary:\r\n\t\t//\t\tDropdown to select a format (like paragraph or heading); goes in editor toolbar.\r\n\r\n\t\t// command: [public] String\r\n\t\t//\t\tThe editor 'command' implemented by this plugin.\r\n\t\tcommand: \"formatBlock\",\r\n\r\n\t\tcomboClass: \"dijitFormatBlockCombo\",\r\n\r\n\t\t// values: [public] Array\r\n\t\t//\t\tThe HTML format tags supported by this plugin\r\n\t\tvalues: [\"noFormat\", \"p\", \"h1\", \"h2\", \"h3\", \"pre\"],\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// Init and set the default value to no formatting.  Update state will adjust it\r\n\t\t\t// as needed.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.set(\"value\", \"noFormat\", false);\r\n\t\t},\r\n\r\n\t\tgetLabel: function(value, name){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction used to generate the labels of the format dropdown\r\n\t\t\t//\t\twill return a formatted, or plain label based on the value\r\n\t\t\t//\t\tof the plainText option.\r\n\t\t\t// value: String\r\n\t\t\t//\t\tThe 'insert value' associated with a name\r\n\t\t\t// name: String\r\n\t\t\t//\t\tThe text name of the value\r\n\t\t\tif(this.plainText || value == \"noFormat\"){\r\n\t\t\t\treturn name;\r\n\t\t\t}else{\r\n\t\t\t\treturn \"<\" + value + \">\" + name + \"</\" + value + \">\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_execCommand: function(editor, command, choice){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for default exec-command label.\r\n\t\t\t//\t\tAllows us to treat 'none' as special.\r\n\t\t\tif(choice === \"noFormat\"){\r\n\t\t\t\tvar start;\r\n\t\t\t\tvar end;\r\n\t\t\t\tvar sel = rangeapi.getSelection(editor.window);\r\n\t\t\t\tif(sel && sel.rangeCount > 0){\r\n\t\t\t\t\tvar range = sel.getRangeAt(0);\r\n\t\t\t\t\tvar node, tag;\r\n\t\t\t\t\tif(range){\r\n\t\t\t\t\t\tstart = range.startContainer;\r\n\t\t\t\t\t\tend = range.endContainer;\r\n\r\n\t\t\t\t\t\t// find containing nodes of start/end.\r\n\t\t\t\t\t\twhile(start && start !== editor.editNode &&\r\n\t\t\t\t\t\t\tstart !== editor.document.body &&\r\n\t\t\t\t\t\t\tstart.nodeType !== 1){\r\n\t\t\t\t\t\t\tstart = start.parentNode;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\twhile(end && end !== editor.editNode &&\r\n\t\t\t\t\t\t\tend !== editor.document.body &&\r\n\t\t\t\t\t\t\tend.nodeType !== 1){\r\n\t\t\t\t\t\t\tend = end.parentNode;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar processChildren = lang.hitch(this, function(node, ary){\r\n\t\t\t\t\t\t\tif(node.childNodes && node.childNodes.length){\r\n\t\t\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\t\t\tfor(i = 0; i < node.childNodes.length; i++){\r\n\t\t\t\t\t\t\t\t\tvar c = node.childNodes[i];\r\n\t\t\t\t\t\t\t\t\tif(c.nodeType == 1){\r\n\t\t\t\t\t\t\t\t\t\tif(editor.selection.inSelection(c)){\r\n\t\t\t\t\t\t\t\t\t\t\tvar tag = c.tagName ? c.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\t\t\t\t\t\tif(array.indexOf(this.values, tag) !== -1){\r\n\t\t\t\t\t\t\t\t\t\t\t\tary.push(c);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tprocessChildren(c, ary);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar unformatNodes = lang.hitch(this, function(nodes){\r\n\t\t\t\t\t\t\t// summary:\r\n\t\t\t\t\t\t\t//\t\tInternal function to clear format nodes.\r\n\t\t\t\t\t\t\t// nodes:\r\n\t\t\t\t\t\t\t//\t\tThe array of nodes to strip formatting from.\r\n\t\t\t\t\t\t\tif(nodes && nodes.length){\r\n\t\t\t\t\t\t\t\teditor.beginEditing();\r\n\t\t\t\t\t\t\t\twhile(nodes.length){\r\n\t\t\t\t\t\t\t\t\tthis._removeFormat(editor, nodes.pop());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\teditor.endEditing();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar clearNodes = [];\r\n\t\t\t\t\t\tif(start == end){\r\n\t\t\t\t\t\t\t//Contained within the same block, may be collapsed, but who cares, see if we\r\n\t\t\t\t\t\t\t// have a block element to remove.\r\n\t\t\t\t\t\t\tvar block;\r\n\t\t\t\t\t\t\tnode = start;\r\n\t\t\t\t\t\t\twhile(node && node !== editor.editNode && node !== editor.document.body){\r\n\t\t\t\t\t\t\t\tif(node.nodeType == 1){\r\n\t\t\t\t\t\t\t\t\ttag = node.tagName ? node.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\t\t\t\tif(array.indexOf(this.values, tag) !== -1){\r\n\t\t\t\t\t\t\t\t\t\tblock = node;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnode = node.parentNode;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//Also look for all child nodes in the selection that may need to be\r\n\t\t\t\t\t\t\t//cleared of formatting\r\n\t\t\t\t\t\t\tprocessChildren(start, clearNodes);\r\n\t\t\t\t\t\t\tif(block){\r\n\t\t\t\t\t\t\t\tclearNodes = [block].concat(clearNodes);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tunformatNodes(clearNodes);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// Probably a multi select, so we have to process it.  Whee.\r\n\t\t\t\t\t\t\tnode = start;\r\n\t\t\t\t\t\t\twhile(editor.selection.inSelection(node)){\r\n\t\t\t\t\t\t\t\tif(node.nodeType == 1){\r\n\t\t\t\t\t\t\t\t\ttag = node.tagName ? node.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\t\t\t\tif(array.indexOf(this.values, tag) !== -1){\r\n\t\t\t\t\t\t\t\t\t\tclearNodes.push(node);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tprocessChildren(node, clearNodes);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tunformatNodes(clearNodes);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\teditor.onDisplayChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\teditor.execCommand(command, choice);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_removeFormat: function(editor, node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tfunction to remove the block format node.\r\n\t\t\t// node:\r\n\t\t\t//\t\tThe block format node to remove (and leave the contents behind)\r\n\t\t\tif(editor.customUndo){\r\n\t\t\t\t// So of course IE doesn't work right with paste-overs.\r\n\t\t\t\t// We have to do this manually, which is okay since IE already uses\r\n\t\t\t\t// customUndo and we turned it on for WebKit.  WebKit pasted funny,\r\n\t\t\t\t// so couldn't use the execCommand approach\r\n\t\t\t\twhile(node.firstChild){\r\n\t\t\t\t\tdomConstruct.place(node.firstChild, node, \"before\");\r\n\t\t\t\t}\r\n\t\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\t}else{\r\n\t\t\t\t// Everyone else works fine this way, a paste-over and is native\r\n\t\t\t\t// undo friendly.\r\n\t\t\t\teditor.selection.selectElementChildren(node);\r\n\t\t\t\tvar html = editor.selection.getSelectedHtml();\r\n\t\t\t\teditor.selection.selectElement(node);\r\n\t\t\t\teditor.execCommand(\"inserthtml\", html || \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// TODO: for 2.0, split into FontChoice plugin into three separate classes,\r\n\t// one for each command (and change registry below)\r\n\tvar FontChoice = declare(\"dijit._editor.plugins.FontChoice\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin provides three drop downs for setting style in the editor\r\n\t\t//\t\t(font, font size, and format block), as controlled by command.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tThe commands provided by this plugin are:\r\n\t\t//\r\n\t\t//\t\t- fontName: Provides a drop down to select from a list of font names\r\n\t\t//\t\t- fontSize: Provides a drop down to select from a list of font sizes\r\n\t\t//\t\t- formatBlock: Provides a drop down to select from a list of block styles\r\n\t\t//\t\t  which can easily be added to an editor by including one or more of the above commands\r\n\t\t//\t\t  in the `plugins` attribute as follows:\r\n\t\t//\r\n\t\t//\t|\tplugins=\"['fontName','fontSize',...]\"\r\n\t\t//\r\n\t\t//\t\tIt is possible to override the default dropdown list by providing an Array for the `custom` property when\r\n\t\t//\t\tinstantiating this plugin, e.g.\r\n\t\t//\r\n\t\t//\t|\tplugins=\"[{name:'dijit._editor.plugins.FontChoice', command:'fontName', values:['Verdana','Myriad','Garamond']},...]\"\r\n\t\t//\r\n\t\t//\t\tAlternatively, for `fontName` only, `generic:true` may be specified to provide a dropdown with\r\n\t\t//\t\t[CSS generic font families](http://www.w3.org/TR/REC-CSS2/fonts.html#generic-font-families).\r\n\t\t//\r\n\t\t//\t\tNote that the editor is often unable to properly handle font styling information defined outside\r\n\t\t//\t\tthe context of the current editor instance, such as pre-populated HTML.\r\n\r\n\t\t// useDefaultCommand: [protected] Boolean\r\n\t\t//\t\tOverride _Plugin.useDefaultCommand...\r\n\t\t//\t\tprocessing is handled by this plugin, not by dijit/Editor.\r\n\t\tuseDefaultCommand: false,\r\n\r\n\t\t_initButton: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides _Plugin._initButton(), to initialize the FilteringSelect+label in toolbar,\r\n\t\t\t//\t\trather than a simple button.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Create the widget to go into the toolbar (the so-called \"button\")\r\n\t\t\tvar clazz = {\r\n\t\t\t\t\tfontName: _FontNameDropDown,\r\n\t\t\t\t\tfontSize: _FontSizeDropDown,\r\n\t\t\t\t\tformatBlock: _FormatBlockDropDown\r\n\t\t\t\t}[this.command],\r\n\t\t\t\tparams = this.params;\r\n\r\n\t\t\t// For back-compat reasons support setting custom values via \"custom\" parameter\r\n\t\t\t// rather than \"values\" parameter.   Remove in 2.0.\r\n\t\t\tif(this.params.custom){\r\n\t\t\t\tparams.values = this.params.custom;\r\n\t\t\t}\r\n\r\n\t\t\tvar editor = this.editor;\r\n\t\t\tthis.button = new clazz(lang.delegate({dir: editor.dir, lang: editor.lang}, params));\r\n\r\n\t\t\t// Reflect changes to the drop down in the editor\r\n\t\t\tthis.own(this.button.select.on(\"change\", lang.hitch(this, function(choice){\r\n\t\t\t\t// User invoked change, since all internal updates set priorityChange to false and will\r\n\t\t\t\t// not trigger an onChange event.\r\n\r\n\t\t\t\tif(this.editor.focused){\r\n\t\t\t\t\t// put focus back in the iframe, unless focus has somehow been shifted out of the editor completely\r\n\t\t\t\t\tthis.editor.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.command == \"fontName\" && choice.indexOf(\" \") != -1){\r\n\t\t\t\t\tchoice = \"'\" + choice + \"'\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Invoke, the editor already normalizes commands called through its\r\n\t\t\t\t// execCommand.\r\n\t\t\t\tif(this.button._execCommand){\r\n\t\t\t\t\tthis.button._execCommand(this.editor, this.command, choice);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.editor.execCommand(this.command, choice);\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides _Plugin.updateState().  This controls updating the menu\r\n\t\t\t//\t\toptions to the right values on state changes in the document (that trigger a\r\n\t\t\t//\t\ttest of the actions.)\r\n\t\t\t//\t\tIt set value of drop down in toolbar to reflect font/font size/format block\r\n\t\t\t//\t\tof text at current caret position.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar _e = this.editor;\r\n\t\t\tvar _c = this.command;\r\n\t\t\tif(!_e || !_e.isLoaded || !_c.length){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.button){\r\n\t\t\t\tvar disabled = this.get(\"disabled\");\r\n\t\t\t\tthis.button.set(\"disabled\", disabled);\r\n\t\t\t\tif(disabled){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar value;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvalue = _e.queryCommandValue(_c) || \"\";\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t//Firefox may throw error above if the editor is just loaded, ignore it\r\n\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// strip off single quotes, if any\r\n\t\t\t\tvar quoted = lang.isString(value) && (value.match(/'([^']*)'/) || value.match(/\"([^\"]*)\"/));\r\n\t\t\t\tif(quoted){\r\n\t\t\t\t\tvalue = quoted[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(_c === \"formatBlock\"){\r\n\t\t\t\t\tif(!value || value == \"p\"){\r\n\t\t\t\t\t\t// Some browsers (WebKit) doesn't actually get the tag info right.\r\n\t\t\t\t\t\t// and IE returns paragraph when in a DIV!, so incorrect a lot,\r\n\t\t\t\t\t\t// so we have double-check it.\r\n\t\t\t\t\t\tvalue = null;\r\n\t\t\t\t\t\tvar elem;\r\n\t\t\t\t\t\t// Try to find the current element where the caret is.\r\n\t\t\t\t\t\tvar sel = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\t\t\tif(sel && sel.rangeCount > 0){\r\n\t\t\t\t\t\t\tvar range = sel.getRangeAt(0);\r\n\t\t\t\t\t\t\tif(range){\r\n\t\t\t\t\t\t\t\telem = range.endContainer;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Okay, now see if we can find one of the formatting types we're in.\r\n\t\t\t\t\t\twhile(elem && elem !== _e.editNode && elem !== _e.document){\r\n\t\t\t\t\t\t\tvar tg = elem.tagName ? elem.tagName.toLowerCase() : \"\";\r\n\t\t\t\t\t\t\tif(tg && array.indexOf(this.button.values, tg) > -1){\r\n\t\t\t\t\t\t\t\tvalue = tg;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telem = elem.parentNode;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!value){\r\n\t\t\t\t\t\t\t// Still no value, so lets select 'none'.\r\n\t\t\t\t\t\t\tvalue = \"noFormat\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Check that the block format is one allowed, if not,\r\n\t\t\t\t\t\t// null it so that it gets set to empty.\r\n\t\t\t\t\t\tif(array.indexOf(this.button.values, value) < 0){\r\n\t\t\t\t\t\t\tvalue = \"noFormat\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(value !== this.button.get(\"value\")){\r\n\t\t\t\t\t// Set the value, but denote it is not a priority change, so no\r\n\t\t\t\t\t// onchange fires.\r\n\t\t\t\t\tthis.button.set('value', value, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Register these plugins\r\n\tarray.forEach([\"fontName\", \"fontSize\", \"formatBlock\"], function(name){\r\n\t\t_Plugin.registry[name] = function(args){\r\n\t\t\treturn new FontChoice({\r\n\t\t\t\tcommand: name,\r\n\t\t\t\tplainText: args.plainText\r\n\t\t\t});\r\n\t\t};\r\n\t});\r\n\r\n\t// Make all classes available through AMD, and return main class\r\n\tFontChoice._FontDropDown = _FontDropDown;\r\n\tFontChoice._FontNameDropDown = _FontNameDropDown;\r\n\tFontChoice._FontSizeDropDown = _FontSizeDropDown;\r\n\tFontChoice._FormatBlockDropDown = _FormatBlockDropDown;\r\n\treturn FontChoice;\r\n\r\n});\r\n\n\ndefine('dijit/form/DropDownButton',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // hitch\r\n\t\"dojo/query\", // query\r\n\t\"../registry\", // registry.byNode\r\n\t\"../popup\", // dijit.popup2.hide\r\n\t\"./Button\",\r\n\t\"../_Container\",\r\n\t\"../_HasDropDown\",\r\n\t\"dojo/text!./templates/DropDownButton.html\",\r\n\t\"../a11yclick\"\t// template uses ondijitclick\r\n], function(declare, lang, query, registry, popup, Button, _Container, _HasDropDown, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/DropDownButton\r\n\r\n\treturn declare(\"dijit.form.DropDownButton\", [Button, _Container, _HasDropDown], {\r\n\t\t// summary:\r\n\t\t//\t\tA button with a drop down\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\t<button data-dojo-type=\"dijit/form/DropDownButton\">\r\n\t\t// |\t\tHello world\r\n\t\t// |\t\t<div data-dojo-type=\"dijit/Menu\">...</div>\r\n\t\t// |\t</button>\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\tvar button1 = new DropDownButton({ label: \"hi\", dropDown: new dijit.Menu(...) });\r\n\t\t// |\twin.body().appendChild(button1);\r\n\t\t//\r\n\r\n\t\tbaseClass: \"dijitDropDownButton\",\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t_fillContent: function(){\r\n\t\t\t// Overrides Button._fillContent().\r\n\t\t\t//\r\n\t\t\t// My inner HTML contains both the button contents and a drop down widget, like\r\n\t\t\t// <DropDownButton>  <span>push me</span>  <Menu> ... </Menu> </DropDownButton>\r\n\t\t\t// The first node is assumed to be the button content. The widget is the popup.\r\n\r\n\t\t\tif(this.srcNodeRef){ // programatically created buttons might not define srcNodeRef\r\n\t\t\t\t//FIXME: figure out how to filter out the widget and use all remaining nodes as button\r\n\t\t\t\t//\tcontent, not just nodes[0]\r\n\t\t\t\tvar nodes = query(\"*\", this.srcNodeRef);\r\n\t\t\t\tthis.inherited(arguments, [nodes[0]]);\r\n\r\n\t\t\t\t// save pointer to srcNode so we can grab the drop down widget after it's instantiated\r\n\t\t\t\tthis.dropDownContainer = this.srcNodeRef;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// the child widget from srcNodeRef is the dropdown widget.  Insert it in the page DOM,\r\n\t\t\t// make it invisible, and store a reference to pass to the popup code.\r\n\t\t\tif(!this.dropDown && this.dropDownContainer){\r\n\t\t\t\tvar dropDownNode = query(\"[widgetId]\", this.dropDownContainer)[0];\r\n\t\t\t\tif(dropDownNode){\r\n\t\t\t\t\tthis.dropDown = registry.byNode(dropDownNode);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.dropDownContainer;\r\n\t\t\t}\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tpopup.hide(this.dropDown);\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tisLoaded: function(){\r\n\t\t\t// Returns whether or not we are loaded - if our dropdown has an href,\r\n\t\t\t// then we want to check that.\r\n\t\t\tvar dropDown = this.dropDown;\r\n\t\t\treturn (!!dropDown && (!dropDown.href || dropDown.isLoaded));\r\n\t\t},\r\n\r\n\t\tloadDropDown: function(/*Function*/ callback){\r\n\t\t\t// Default implementation assumes that drop down already exists,\r\n\t\t\t// but hasn't loaded it's data (ex: ContentPane w/href).\r\n\t\t\t// App must override if the drop down is lazy-created.\r\n\t\t\tvar dropDown = this.dropDown;\r\n\t\t\tvar handler = dropDown.on(\"load\", lang.hitch(this, function(){\r\n\t\t\t\thandler.remove();\r\n\t\t\t\tcallback();\r\n\t\t\t}));\r\n\t\t\tdropDown.refresh();\t\t// tell it to load\r\n\t\t},\r\n\r\n\t\tisFocusable: function(){\r\n\t\t\t// Overridden so that focus is handled by the _HasDropDown mixin, not by\r\n\t\t\t// the _FormWidget mixin.\r\n\t\t\treturn this.inherited(arguments) && !this._mouseDown;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_editor/plugins/LinkDialog',[\r\n\t\"require\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.get\r\n\t\"dojo/keys\", // keys.ENTER\r\n\t\"dojo/_base/lang\", // lang.delegate lang.hitch lang.trim\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/query\", // query\r\n\t\"dojo/string\", // string.substitute\r\n\t\"../_Plugin\",\r\n\t\"../../form/DropDownButton\",\r\n\t\"../range\"\r\n], function(require, declare, domAttr, keys, lang, on, has, query, string,\r\n\t_Plugin, DropDownButton, rangeapi){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/LinkDialog\r\n\r\n\tvar LinkDialog = declare(\"dijit._editor.plugins.LinkDialog\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin provides the basis for an 'anchor' (link) dialog and an extension of it\r\n\t\t//\t\tprovides the image link dialog.\r\n\t\t// description:\r\n\t\t//\t\tThe command provided by this plugin is:\r\n\t\t//\r\n\t\t//\t\t- createLink\r\n\r\n\t\t// Override _Plugin.buttonClass.   This plugin is controlled by a DropDownButton\r\n\t\t// (which triggers a TooltipDialog).\r\n\t\tbuttonClass: DropDownButton,\r\n\r\n\t\t// Override _Plugin.useDefaultCommand... processing is handled by this plugin, not by dijit/Editor.\r\n\t\tuseDefaultCommand: false,\r\n\r\n\t\t// urlRegExp: [protected] String\r\n\t\t//\t\tUsed for validating input as correct URL.  While file:// urls are not terribly\r\n\t\t//\t\tuseful, they are technically valid.\r\n\t\turlRegExp: \"((https?|ftps?|file)\\\\://|\\./|\\.\\./|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\\\da-zA-Z](?:[-\\\\da-zA-Z]{0,61}[\\\\da-zA-Z])?)\\\\.)*(?:[a-zA-Z](?:[-\\\\da-zA-Z]{0,80}[\\\\da-zA-Z])?)\\\\.?)|(((\\\\d|[1-9]\\\\d|1\\\\d\\\\d|2[0-4]\\\\d|25[0-5])\\\\.){3}(\\\\d|[1-9]\\\\d|1\\\\d\\\\d|2[0-4]\\\\d|25[0-5])|(0[xX]0*[\\\\da-fA-F]?[\\\\da-fA-F]\\\\.){3}0[xX]0*[\\\\da-fA-F]?[\\\\da-fA-F]|(0+[0-3][0-7][0-7]\\\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\\\d{0,8}|[1-3]\\\\d{9}|4[01]\\\\d{8}|42[0-8]\\\\d{7}|429[0-3]\\\\d{6}|4294[0-8]\\\\d{5}|42949[0-5]\\\\d{4}|429496[0-6]\\\\d{3}|4294967[01]\\\\d{2}|42949672[0-8]\\\\d|429496729[0-5])|0[xX]0*[\\\\da-fA-F]{1,8}|([\\\\da-fA-F]{1,4}\\\\:){7}[\\\\da-fA-F]{1,4}|([\\\\da-fA-F]{1,4}\\\\:){6}((\\\\d|[1-9]\\\\d|1\\\\d\\\\d|2[0-4]\\\\d|25[0-5])\\\\.){3}(\\\\d|[1-9]\\\\d|1\\\\d\\\\d|2[0-4]\\\\d|25[0-5])))(\\\\:\\\\d+)?(/(?:[^?#\\\\s/]+/)*(?:[^?#\\\\s/]{0,}(?:\\\\?[^?#\\\\s/]*)?(?:#.*)?)?)?\",\r\n\r\n\t\t// emailRegExp: [protected] String\r\n\t\t//\t\tUsed for validating input as correct email address.  Taken from dojox.validate\r\n\t\temailRegExp: \"<?(mailto\\\\:)([!#-'*+\\\\-\\\\/-9=?A-Z^-~]+[.])*[!#-'*+\\\\-\\\\/-9=?A-Z^-~]+\" /*username*/ + \"@\" +\r\n\t\t\t\"((?:(?:[\\\\da-zA-Z](?:[-\\\\da-zA-Z]{0,61}[\\\\da-zA-Z])?)\\\\.)+(?:[a-zA-Z](?:[-\\\\da-zA-Z]{0,6}[\\\\da-zA-Z])?)\\\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?\", // host.\r\n\r\n\t\t// htmlTemplate: [protected] String\r\n\t\t//\t\tString used for templating the HTML to insert at the desired point.\r\n\t\thtmlTemplate: \"<a href=\\\"${urlInput}\\\" _djrealurl=\\\"${urlInput}\\\"\" +\r\n\t\t\t\" target=\\\"${targetSelect}\\\"\" +\r\n\t\t\t\">${textInput}</a>\",\r\n\r\n\t\t// tag: [protected] String\r\n\t\t//\t\tTag used for the link type.\r\n\t\ttag: \"a\",\r\n\r\n\t\t// _hostRxp [private] RegExp\r\n\t\t//\t\tRegular expression used to validate url fragments (ip address, hostname, etc)\r\n\t\t_hostRxp: /^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$/,\r\n\r\n\t\t// _userAtRxp [private] RegExp\r\n\t\t//\t\tRegular expression used to validate e-mail address fragment.\r\n\t\t_userAtRxp: /^([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@/i,\r\n\r\n\t\t// linkDialogTemplate: [protected] String\r\n\t\t//\t\tTemplate for contents of TooltipDialog to pick URL\r\n\t\tlinkDialogTemplate: [\r\n\t\t\t\"<table role='presentation'><tr><td>\",\r\n\t\t\t\"<label for='${id}_urlInput'>${url}</label>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"<input data-dojo-type='dijit.form.ValidationTextBox' required='true' \" +\r\n\t\t\t\t\"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>\",\r\n\t\t\t\"</td></tr><tr><td>\",\r\n\t\t\t\"<label for='${id}_textInput'>${text}</label>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' \" +\r\n\t\t\t\t\"name='textInput' data-dojo-props='intermediateChanges:true'/>\",\r\n\t\t\t\"</td></tr><tr><td>\",\r\n\t\t\t\"<label for='${id}_targetSelect'>${target}</label>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>\",\r\n\t\t\t\"<option selected='selected' value='_self'>${currentWindow}</option>\",\r\n\t\t\t\"<option value='_blank'>${newWindow}</option>\",\r\n\t\t\t\"<option value='_top'>${topWindow}</option>\",\r\n\t\t\t\"<option value='_parent'>${parentWindow}</option>\",\r\n\t\t\t\"</select>\",\r\n\t\t\t\"</td></tr><tr><td colspan='2'>\",\r\n\t\t\t\"<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>\",\r\n\t\t\t\"<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>\",\r\n\t\t\t\"</td></tr></table>\"\r\n\t\t].join(\"\"),\r\n\r\n\t\t_initButton: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Setup to lazy create TooltipDialog first time the button is clicked\r\n\t\t\tthis.button.loadDropDown = lang.hitch(this, \"_loadDropDown\");\r\n\r\n\t\t\tthis._connectTagEvents();\r\n\t\t},\r\n\t\t_loadDropDown: function(callback){\r\n\t\t\t// Called the first time the button is pressed.  Initialize TooltipDialog.\r\n\t\t\trequire([\r\n\t\t\t\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\t\t\t\"../../TooltipDialog\",\r\n\t\t\t\t\"../../registry\", // registry.byId, registry.getUniqueId\r\n\t\t\t\t\"../../form/Button\", // used by template\r\n\t\t\t\t\"../../form/Select\", // used by template\r\n\t\t\t\t\"../../form/ValidationTextBox\", // used by template\r\n\t\t\t\t\"dojo/i18n!../../nls/common\",\r\n\t\t\t\t\"dojo/i18n!../nls/LinkDialog\"\r\n\t\t\t], lang.hitch(this, function(i18n, TooltipDialog, registry){\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tthis.tag = this.command == 'insertImage' ? 'img' : 'a';\r\n\t\t\t\tvar messages = lang.delegate(i18n.getLocalization(\"dijit\", \"common\", this.lang),\r\n\t\t\t\t\ti18n.getLocalization(\"dijit._editor\", \"LinkDialog\", this.lang));\r\n\t\t\t\tvar dropDown = (this.dropDown = this.button.dropDown = new TooltipDialog({\r\n\t\t\t\t\ttitle: messages[this.command + \"Title\"],\r\n\t\t\t\t\townerDocument: this.editor.ownerDocument,\r\n\t\t\t\t\tdir: this.editor.dir,\r\n\t\t\t\t\texecute: lang.hitch(this, \"setValue\"),\r\n\t\t\t\t\tonOpen: function(){\r\n\t\t\t\t\t\t_this._onOpenDialog();\r\n\t\t\t\t\t\tTooltipDialog.prototype.onOpen.apply(this, arguments);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonCancel: function(){\r\n\t\t\t\t\t\tsetTimeout(lang.hitch(_this, \"_onCloseDialog\"), 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t\tmessages.urlRegExp = this.urlRegExp;\r\n\t\t\t\tmessages.id = registry.getUniqueId(this.editor.id);\r\n\t\t\t\tthis._uniqueId = messages.id;\r\n\t\t\t\tthis._setContent(dropDown.title +\r\n\t\t\t\t\t\"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>\" +\r\n\t\t\t\t\tstring.substitute(this.linkDialogTemplate, messages));\r\n\t\t\t\tdropDown.startup();\r\n\t\t\t\tthis._urlInput = registry.byId(this._uniqueId + \"_urlInput\");\r\n\t\t\t\tthis._textInput = registry.byId(this._uniqueId + \"_textInput\");\r\n\t\t\t\tthis._setButton = registry.byId(this._uniqueId + \"_setButton\");\r\n\t\t\t\tthis.own(registry.byId(this._uniqueId + \"_cancelButton\").on(\"click\", lang.hitch(this.dropDown, \"onCancel\")));\r\n\t\t\t\tif(this._urlInput){\r\n\t\t\t\t\tthis.own(this._urlInput.on(\"change\", lang.hitch(this, \"_checkAndFixInput\")));\r\n\t\t\t\t}\r\n\t\t\t\tif(this._textInput){\r\n\t\t\t\t\tthis.own(this._textInput.on(\"change\", lang.hitch(this, \"_checkAndFixInput\")));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Build up the dual check for http/https/file:, and mailto formats.\r\n\t\t\t\tthis._urlRegExp = new RegExp(\"^\" + this.urlRegExp + \"$\", \"i\");\r\n\t\t\t\tthis._emailRegExp = new RegExp(\"^\" + this.emailRegExp + \"$\", \"i\");\r\n\t\t\t\tthis._urlInput.isValid = lang.hitch(this, function(){\r\n\t\t\t\t\t// Function over-ride of isValid to test if the input matches a url or a mailto style link.\r\n\t\t\t\t\tvar value = this._urlInput.get(\"value\");\r\n\t\t\t\t\treturn this._urlRegExp.test(value) || this._emailRegExp.test(value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Listen for enter and execute if valid.\r\n\t\t\t\tthis.own(on(dropDown.domNode, \"keydown\", lang.hitch(this, lang.hitch(this, function(e){\r\n\t\t\t\t\tif(e && e.keyCode == keys.ENTER && !e.shiftKey && !e.metaKey && !e.ctrlKey && !e.altKey){\r\n\t\t\t\t\t\tif(!this._setButton.get(\"disabled\")){\r\n\t\t\t\t\t\t\tdropDown.onExecute();\r\n\t\t\t\t\t\t\tdropDown.execute(dropDown.get('value'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}))));\r\n\r\n\t\t\t\tcallback();\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_checkAndFixInput: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA function to listen for onChange events and test the input contents\r\n\t\t\t//\t\tfor valid information, such as valid urls with http/https/ftp and if\r\n\t\t\t//\t\tnot present, try and guess if the input url is relative or not, and if\r\n\t\t\t//\t\tnot, append http:// to it.  Also validates other fields as determined by\r\n\t\t\t//\t\tthe internal _isValid function.\r\n\t\t\tvar self = this;\r\n\t\t\tvar url = this._urlInput.get(\"value\");\r\n\t\t\tvar fixupUrl = function(url){\r\n\t\t\t\tvar appendHttp = false;\r\n\t\t\t\tvar appendMailto = false;\r\n\t\t\t\tif(url && url.length > 1){\r\n\t\t\t\t\turl = lang.trim(url);\r\n\t\t\t\t\tif(url.indexOf(\"mailto:\") !== 0){\r\n\t\t\t\t\t\tif(url.indexOf(\"/\") > 0){\r\n\t\t\t\t\t\t\tif(url.indexOf(\"://\") === -1){\r\n\t\t\t\t\t\t\t\t// Check that it doesn't start with /, ./, or ../, which would\r\n\t\t\t\t\t\t\t\t// imply 'target server relativeness'\r\n\t\t\t\t\t\t\t\tif(url.charAt(0) !== '/' && url.indexOf(\"./\") && url.indexOf(\"../\") !== 0){\r\n\t\t\t\t\t\t\t\t\tif(self._hostRxp.test(url)){\r\n\t\t\t\t\t\t\t\t\t\tappendHttp = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(self._userAtRxp.test(url)){\r\n\t\t\t\t\t\t\t// If it looks like a foo@, append a mailto.\r\n\t\t\t\t\t\t\tappendMailto = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(appendHttp){\r\n\t\t\t\t\tself._urlInput.set(\"value\", \"http://\" + url);\r\n\t\t\t\t}\r\n\t\t\t\tif(appendMailto){\r\n\t\t\t\t\tself._urlInput.set(\"value\", \"mailto:\" + url);\r\n\t\t\t\t}\r\n\t\t\t\tself._setButton.set(\"disabled\", !self._isValid());\r\n\t\t\t};\r\n\t\t\tif(this._delayedCheck){\r\n\t\t\t\tclearTimeout(this._delayedCheck);\r\n\t\t\t\tthis._delayedCheck = null;\r\n\t\t\t}\r\n\t\t\tthis._delayedCheck = setTimeout(function(){\r\n\t\t\t\tfixupUrl(url);\r\n\t\t\t}, 250);\r\n\t\t},\r\n\r\n\t\t_connectTagEvents: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ridable function that connects tag specific events.\r\n\t\t\tthis.editor.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\tthis.own(on(this.editor.editNode, \"dblclick\", lang.hitch(this, \"_onDblClick\")));\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_isValid: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to allow validating of the inputs\r\n\t\t\t//\t\tfor a link to determine if set should be disabled or not\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this._urlInput.isValid() && this._textInput.isValid();\r\n\t\t},\r\n\r\n\t\t_setContent: function(staticPanel){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper for _initButton above.   Not sure why it's a separate method.\r\n\t\t\tthis.dropDown.set({\r\n\t\t\t\tparserScope: \"dojo\", // make parser search for dojoType/data-dojo-type even if page is multi-version\r\n\t\t\t\tcontent: staticPanel\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_checkValues: function(args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to check the values in args and 'fix' them up as needed.\r\n\t\t\t// args: Object\r\n\t\t\t//\t\tContent being set.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(args && args.urlInput){\r\n\t\t\t\targs.urlInput = args.urlInput.replace(/\"/g, \"&quot;\");\r\n\t\t\t}\r\n\t\t\treturn args;\r\n\t\t},\r\n\r\n\t\tsetValue: function(args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback from the dialog when user presses \"set\" button.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// TODO: prevent closing popup if the text is empty\r\n\t\t\tthis._onCloseDialog();\r\n\t\t\tif(has(\"ie\") < 9){ //see #4151\r\n\t\t\t\tvar sel = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\tvar range = sel.getRangeAt(0);\r\n\t\t\t\tvar a = range.endContainer;\r\n\t\t\t\tif(a.nodeType === 3){\r\n\t\t\t\t\t// Text node, may be the link contents, so check parent.\r\n\t\t\t\t\t// This plugin doesn't really support nested HTML elements\r\n\t\t\t\t\t// in the link, it assumes all link content is text.\r\n\t\t\t\t\ta = a.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tif(a && (a.nodeName && a.nodeName.toLowerCase() !== this.tag)){\r\n\t\t\t\t\t// Still nothing, one last thing to try on IE, as it might be 'img'\r\n\t\t\t\t\t// and thus considered a control.\r\n\t\t\t\t\ta = this.editor.selection.getSelectedElement(this.tag);\r\n\t\t\t\t}\r\n\t\t\t\tif(a && (a.nodeName && a.nodeName.toLowerCase() === this.tag)){\r\n\t\t\t\t\t// Okay, we do have a match.  IE, for some reason, sometimes pastes before\r\n\t\t\t\t\t// instead of removing the targeted paste-over element, so we unlink the\r\n\t\t\t\t\t// old one first.  If we do not the <a> tag remains, but it has no content,\r\n\t\t\t\t\t// so isn't readily visible (but is wrong for the action).\r\n\t\t\t\t\tif(this.editor.queryCommandEnabled(\"unlink\")){\r\n\t\t\t\t\t\t// Select all the link children, then unlink.  The following insert will\r\n\t\t\t\t\t\t// then replace the selected text.\r\n\t\t\t\t\t\tthis.editor.selection.selectElementChildren(a);\r\n\t\t\t\t\t\tthis.editor.execCommand(\"unlink\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// make sure values are properly escaped, etc.\r\n\t\t\targs = this._checkValues(args);\r\n\t\t\tthis.editor.execCommand('inserthtml',\r\n\t\t\t\tstring.substitute(this.htmlTemplate, args));\r\n\r\n\t\t\t// IE sometimes leaves a blank link, so we need to fix it up.\r\n\t\t\t// Go ahead and do this for everyone just to avoid blank links\r\n\t\t\t// in the page.\r\n\t\t\tquery(\"a\", this.editor.document).forEach(function(a){\r\n\t\t\t\tif(!a.innerHTML && !domAttr.has(a, \"name\")){\r\n\t\t\t\t\t// Remove empty anchors that do not have \"name\" set.\r\n\t\t\t\t\t// Empty ones with a name set could be a hidden hash\r\n\t\t\t\t\t// anchor.\r\n\t\t\t\t\ta.parentNode.removeChild(a);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_onCloseDialog: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for close event on the dialog\r\n\r\n\t\t\tif(this.editor.focused){\r\n\t\t\t\t// put focus back in the edit area, unless the dialog closed because the user clicked somewhere else\r\n\t\t\t\tthis.editor.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getCurrentValues: function(a){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for getting the values to set in the dropdown.\r\n\t\t\t// a:\r\n\t\t\t//\t\tThe anchor/link to process for data for the dropdown.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar url, text, target;\r\n\t\t\tif(a && a.tagName.toLowerCase() === this.tag){\r\n\t\t\t\turl = a.getAttribute('_djrealurl') || a.getAttribute('href');\r\n\t\t\t\ttarget = a.getAttribute('target') || \"_self\";\r\n\t\t\t\ttext = a.textContent || a.innerText;\r\n\t\t\t\tthis.editor.selection.selectElement(a, true);\r\n\t\t\t}else{\r\n\t\t\t\ttext = this.editor.selection.getSelectedText();\r\n\t\t\t}\r\n\t\t\treturn {urlInput: url || '', textInput: text || '', targetSelect: target || ''}; //Object;\r\n\t\t},\r\n\r\n\t\t_onOpenDialog: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when the dialog is opened.\r\n\t\t\t//\t\tIf the caret is currently in a URL then populate the URL's info into the dialog.\r\n\t\t\tvar a, b, fc;\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// IE, even IE10, is difficult to select the element in, using the range unified\r\n\t\t\t\t// API seems to work reasonably well.\r\n\t\t\t\tvar sel = rangeapi.getSelection(this.editor.window);\r\n\t\t\t\tif(sel.rangeCount){\r\n\t\t\t\t\tvar range = sel.getRangeAt(0);\r\n\t\t\t\t\ta = range.endContainer;\r\n\t\t\t\t\tif(a.nodeType === 3){\r\n\t\t\t\t\t\t// Text node, may be the link contents, so check parent.\r\n\t\t\t\t\t\t// This plugin doesn't really support nested HTML elements\r\n\t\t\t\t\t\t// in the link, it assumes all link content is text.\r\n\t\t\t\t\t\ta = a.parentNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(a && (a.nodeName && a.nodeName.toLowerCase() !== this.tag)){\r\n\t\t\t\t\t\t// Still nothing, one last thing to try on IE, as it might be 'img'\r\n\t\t\t\t\t\t// and thus considered a control.\r\n\t\t\t\t\t\ta = this.editor.selection.getSelectedElement(this.tag);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!a || (a.nodeName && a.nodeName.toLowerCase() !== this.tag)){\r\n\t\t\t\t\t\t// Try another lookup, IE's selection is just terrible.\r\n\t\t\t\t\t\tb = this.editor.selection.getAncestorElement(this.tag);\r\n\t\t\t\t\t\tif(b && (b.nodeName && b.nodeName.toLowerCase() == this.tag)){\r\n\t\t\t\t\t\t\t// Looks like we found an A tag, use it and make sure just it is\r\n\t\t\t\t\t\t\t// selected.\r\n\t\t\t\t\t\t\ta = b;\r\n\t\t\t\t\t\t\tthis.editor.selection.selectElement(a);\r\n\t\t\t\t\t\t}else if(range.startContainer === range.endContainer){\r\n\t\t\t\t\t\t\t// STILL nothing.  Trying one more thing.  Lets look at the first child.\r\n\t\t\t\t\t\t\t// It might be an anchor tag in a div by itself or the like.  If it is,\r\n\t\t\t\t\t\t\t// we'll use it otherwise we give up.  The selection is not easily\r\n\t\t\t\t\t\t\t// determinable to be on an existing anchor tag.\r\n\t\t\t\t\t\t\tfc = range.startContainer.firstChild;\r\n\t\t\t\t\t\t\tif(fc && (fc.nodeName && fc.nodeName.toLowerCase() == this.tag)){\r\n\t\t\t\t\t\t\t\ta = fc;\r\n\t\t\t\t\t\t\t\tthis.editor.selection.selectElement(a);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ta = this.editor.selection.getAncestorElement(this.tag);\r\n\t\t\t}\r\n\t\t\tthis.dropDown.reset();\r\n\t\t\tthis._setButton.set(\"disabled\", true);\r\n\t\t\tthis.dropDown.set(\"value\", this._getCurrentValues(a));\r\n\t\t},\r\n\r\n\t\t_onDblClick: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to define a behavior on double clicks on the element\r\n\t\t\t//\t\ttype this dialog edits to select it and pop up the editor\r\n\t\t\t//\t\tdialog.\r\n\t\t\t// e: Object\r\n\t\t\t//\t\tThe double-click event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected.\r\n\t\t\tif(e && e.target){\r\n\t\t\t\tvar t = e.target;\r\n\t\t\t\tvar tg = t.tagName ? t.tagName.toLowerCase() : \"\";\r\n\t\t\t\tif(tg === this.tag && domAttr.get(t, \"href\")){\r\n\t\t\t\t\tvar editor = this.editor;\r\n\r\n\t\t\t\t\tthis.editor.selection.selectElement(t);\r\n\t\t\t\t\teditor.onDisplayChanged();\r\n\r\n\t\t\t\t\t// Call onNormalizedDisplayChange() now, rather than on timer.\r\n\t\t\t\t\t// On IE, when focus goes to the first <input> in the TooltipDialog, the editor loses it's selection.\r\n\t\t\t\t\t// Later if onNormalizedDisplayChange() gets called via the timer it will disable the LinkDialog button\r\n\t\t\t\t\t// (actually, all the toolbar buttons), at which point clicking the <input> will close the dialog,\r\n\t\t\t\t\t// since (for unknown reasons) focus.js ignores disabled controls.\r\n\t\t\t\t\tif(editor._updateTimer){\r\n\t\t\t\t\t\teditor._updateTimer.remove();\r\n\t\t\t\t\t\tdelete editor._updateTimer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\teditor.onNormalizedDisplayChanged();\r\n\r\n\t\t\t\t\tvar button = this.button;\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t// Focus shift outside the event handler.\r\n\t\t\t\t\t\t// IE doesn't like focus changes in event handles.\r\n\t\t\t\t\t\tbutton.set(\"disabled\", false);\r\n\t\t\t\t\t\tbutton.loadAndOpenDropDown().then(function(){\r\n\t\t\t\t\t\t\tif(button.dropDown.focus){\r\n\t\t\t\t\t\t\t\tbutton.dropDown.focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar ImgLinkDialog = declare(\"dijit._editor.plugins.ImgLinkDialog\", [LinkDialog], {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin extends LinkDialog and adds in a plugin for handling image links.\r\n\t\t//\t\tprovides the image link dialog.\r\n\t\t// description:\r\n\t\t//\t\tThe command provided by this plugin is:\r\n\t\t//\r\n\t\t//\t\t- insertImage\r\n\r\n\t\t// linkDialogTemplate: [protected] String\r\n\t\t//\t\tOver-ride for template since img dialog doesn't need target that anchor tags may.\r\n\t\tlinkDialogTemplate: [\r\n\t\t\t\"<table role='presentation'><tr><td>\",\r\n\t\t\t\"<label for='${id}_urlInput'>${url}</label>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' \" +\r\n\t\t\t\t\"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>\",\r\n\t\t\t\"</td></tr><tr><td>\",\r\n\t\t\t\"<label for='${id}_textInput'>${text}</label>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' \" +\r\n\t\t\t\t\"name='textInput' data-dojo-props='intermediateChanges:true'/>\",\r\n\t\t\t\"</td></tr><tr><td>\",\r\n\t\t\t\"</td><td>\",\r\n\t\t\t\"</td></tr><tr><td colspan='2'>\",\r\n\t\t\t\"<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>\",\r\n\t\t\t\"<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>\",\r\n\t\t\t\"</td></tr></table>\"\r\n\t\t].join(\"\"),\r\n\r\n\t\t// htmlTemplate: [protected] String\r\n\t\t//\t\tString used for templating the `<img>` HTML to insert at the desired point.\r\n\t\thtmlTemplate: \"<img src=\\\"${urlInput}\\\" _djrealurl=\\\"${urlInput}\\\" alt=\\\"${textInput}\\\" />\",\r\n\r\n\t\t// tag: [protected] String\r\n\t\t//\t\tTag used for the link type (img).\r\n\t\ttag: \"img\",\r\n\r\n\t\t_getCurrentValues: function(img){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for getting the values to set in the dropdown.\r\n\t\t\t// a:\r\n\t\t\t//\t\tThe anchor/link to process for data for the dropdown.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar url, text;\r\n\t\t\tif(img && img.tagName.toLowerCase() === this.tag){\r\n\t\t\t\turl = img.getAttribute('_djrealurl') || img.getAttribute('src');\r\n\t\t\t\ttext = img.getAttribute('alt');\r\n\t\t\t\tthis.editor.selection.selectElement(img, true);\r\n\t\t\t}else{\r\n\t\t\t\ttext = this.editor.selection.getSelectedText();\r\n\t\t\t}\r\n\t\t\treturn {urlInput: url || '', textInput: text || ''}; //Object\r\n\t\t},\r\n\r\n\t\t_isValid: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for images.  You can have alt text of blank, it is valid.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this._urlInput.isValid();\r\n\t\t},\r\n\r\n\t\t_connectTagEvents: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ridable function that connects tag specific events.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.editor.onLoadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\t// Use onmousedown instead of onclick.  Seems that IE eats the first onclick\r\n\t\t\t\t// to wrap it in a selector box, then the second one acts as onclick.  See #10420\r\n\t\t\t\tthis.own(on(this.editor.editNode, \"mousedown\", lang.hitch(this, \"_selectTag\")));\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_selectTag: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA simple event handler that lets me select an image if it is clicked on.\r\n\t\t\t//\t\tmakes it easier to select images in a standard way across browsers.  Otherwise\r\n\t\t\t//\t\tselecting an image for edit becomes difficult.\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tThe mousedown event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(e && e.target){\r\n\t\t\t\tvar t = e.target;\r\n\t\t\t\tvar tg = t.tagName ? t.tagName.toLowerCase() : \"\";\r\n\t\t\t\tif(tg === this.tag){\r\n\t\t\t\t\tthis.editor.selection.selectElement(t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_checkValues: function(args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to check the values in args and 'fix' them up as needed\r\n\t\t\t//\t\t(special characters in the url or alt text)\r\n\t\t\t// args: Object\r\n\t\t\t//\t\tContent being set.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(args && args.urlInput){\r\n\t\t\t\targs.urlInput = args.urlInput.replace(/\"/g, \"&quot;\");\r\n\t\t\t}\r\n\t\t\tif(args && args.textInput){\r\n\t\t\t\targs.textInput = args.textInput.replace(/\"/g, \"&quot;\");\r\n\t\t\t}\r\n\t\t\treturn args;\r\n\t\t},\r\n\r\n\t\t_onDblClick: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to define a behavior on double clicks on the element\r\n\t\t\t//\t\ttype this dialog edits to select it and pop up the editor\r\n\t\t\t//\t\tdialog.\r\n\t\t\t// e: Object\r\n\t\t\t//\t\tThe double-click event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected.\r\n\t\t\tif(e && e.target){\r\n\t\t\t\tvar t = e.target;\r\n\t\t\t\tvar tg = t.tagName ? t.tagName.toLowerCase() : \"\";\r\n\t\t\t\tif(tg === this.tag && domAttr.get(t, \"src\")){\r\n\t\t\t\t\tvar editor = this.editor;\r\n\r\n\t\t\t\t\tthis.editor.selection.selectElement(t);\r\n\t\t\t\t\teditor.onDisplayChanged();\r\n\r\n\t\t\t\t\t// Call onNormalizedDisplayChange() now, rather than on timer.\r\n\t\t\t\t\t// On IE, when focus goes to the first <input> in the TooltipDialog, the editor loses it's selection.\r\n\t\t\t\t\t// Later if onNormalizedDisplayChange() gets called via the timer it will disable the LinkDialog button\r\n\t\t\t\t\t// (actually, all the toolbar buttons), at which point clicking the <input> will close the dialog,\r\n\t\t\t\t\t// since (for unknown reasons) focus.js ignores disabled controls.\r\n\t\t\t\t\tif(editor._updateTimer){\r\n\t\t\t\t\t\teditor._updateTimer.remove();\r\n\t\t\t\t\t\tdelete editor._updateTimer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\teditor.onNormalizedDisplayChanged();\r\n\r\n\t\t\t\t\tvar button = this.button;\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t// Focus shift outside the event handler.\r\n\t\t\t\t\t\t// IE doesn't like focus changes in event handles.\r\n\t\t\t\t\t\tbutton.set(\"disabled\", false);\r\n\t\t\t\t\t\tbutton.loadAndOpenDropDown().then(function(){\r\n\t\t\t\t\t\t\tif(button.dropDown.focus){\r\n\t\t\t\t\t\t\t\tbutton.dropDown.focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Register these plugins\r\n\t_Plugin.registry[\"createLink\"] = function(){\r\n\t\treturn new LinkDialog({command: \"createLink\"});\r\n\t};\r\n\t_Plugin.registry[\"insertImage\"] = function(){\r\n\t\treturn new ImgLinkDialog({command: \"insertImage\"});\r\n\t};\r\n\r\n\r\n\t// Export both LinkDialog and ImgLinkDialog\r\n\t// TODO for 2.0: either return both classes in a hash, or split this file into two separate files.\r\n\t// Then the documentation for the module can be applied to the hash, and will show up in the API doc.\r\n\tLinkDialog.ImgLinkDialog = ImgLinkDialog;\r\n\treturn LinkDialog;\r\n});\r\n\n\ndefine('dijit/_MenuBase',[\r\n\t\"dojo/_base/array\", // array.indexOf\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.isDescendant domClass.replace\r\n\t\"dojo/dom-attr\",\r\n\t\"dojo/dom-class\", // domClass.replace\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/mouse\", // mouse.enter, mouse.leave\r\n\t\"dojo/on\",\r\n\t\"dojo/window\",\r\n\t\"./a11yclick\",\r\n\t\"./registry\",\r\n\t\"./_Widget\",\r\n\t\"./_CssStateMixin\",\r\n\t\"./_KeyNavContainer\",\r\n\t\"./_TemplatedMixin\"\r\n], function(array, declare, dom, domAttr, domClass, lang, mouse, on, winUtils, a11yclick,\r\n\t\t\tregistry, _Widget, _CssStateMixin, _KeyNavContainer, _TemplatedMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_MenuBase\r\n\r\n\treturn declare(\"dijit._MenuBase\", [_Widget, _TemplatedMixin, _KeyNavContainer, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tAbstract base class for Menu and MenuBar.\r\n\t\t//\t\tSubclass should implement _onUpArrow(), _onDownArrow(), _onLeftArrow(), and _onRightArrow().\r\n\r\n\t\t// selected: dijit/MenuItem\r\n\t\t//\t\tCurrently selected (a.k.a. highlighted) MenuItem, or null if no MenuItem is selected.\r\n\t\t//\t\tIf a submenu is open, will be set to MenuItem that displayed the submenu.   OTOH, if\r\n\t\t//\t\tthis Menu is in passive mode (i.e. hasn't been clicked yet), will be null, because\r\n\t\t//\t\t\"selected\" is not merely \"hovered\".\r\n\t\tselected: null,\r\n\t\t_setSelectedAttr: function(item){\r\n\t\t\tif(this.selected != item){\r\n\t\t\t\tif(this.selected){\r\n\t\t\t\t\tthis.selected._setSelected(false);\r\n\t\t\t\t\tthis._onChildDeselect(this.selected);\r\n\t\t\t\t}\r\n\t\t\t\tif(item){\r\n\t\t\t\t\titem._setSelected(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis._set(\"selected\", item);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// activated: [readonly] Boolean\r\n\t\t//\t\tThis Menu has been clicked (mouse or via space/arrow key) or opened as a submenu,\r\n\t\t//\t\tso mere mouseover will open submenus.  Focusing a menu via TAB does NOT automatically make it active\r\n\t\t//\t\tsince TAB is a navigation operation and not a selection one.\r\n\t\t//\t\tFor Windows apps, pressing the ALT key focuses the menubar menus (similar to TAB navigation) but the\r\n\t\t//\t\tmenu is not active (ie no dropdown) until an item is clicked.\r\n\t\tactivated: false,\r\n\t\t_setActivatedAttr: function(val){\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitMenuActive\", val);\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitMenuPassive\", !val);\r\n\t\t\tthis._set(\"activated\", val);\r\n\t\t},\r\n\r\n\t\t// parentMenu: [readonly] Widget\r\n\t\t//\t\tpointer to menu that displayed me\r\n\t\tparentMenu: null,\r\n\r\n\t\t// popupDelay: Integer\r\n\t\t//\t\tAfter a menu has been activated (by clicking on it etc.), number of milliseconds before hovering\r\n\t\t//\t\t(without clicking) another MenuItem causes that MenuItem's popup to automatically open.\r\n\t\tpopupDelay: 500,\r\n\r\n\t\t// passivePopupDelay: Integer\r\n\t\t//\t\tFor a passive (unclicked) Menu, number of milliseconds before hovering (without clicking) will cause\r\n\t\t//\t\tthe popup to open.  Default is Infinity, meaning you need to click the menu to open it.\r\n\t\tpassivePopupDelay: Infinity,\r\n\r\n\t\t// autoFocus: Boolean\r\n\t\t//\t\tA toggle to control whether or not a Menu gets focused when opened as a drop down from a MenuBar\r\n\t\t//\t\tor DropDownButton/ComboButton.   Note though that it always get focused when opened via the keyboard.\r\n\t\tautoFocus: false,\r\n\r\n\t\tchildSelector: function(/*DOMNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelector (passed to on.selector()) used to identify MenuItem child widgets, but exclude inert children\r\n\t\t\t//\t\tlike MenuSeparator.  If subclass overrides to a string (ex: \"> *\"), the subclass must require dojo/query.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar widget = registry.byNode(node);\r\n\t\t\treturn node.parentNode == this.containerNode && widget && widget.focus;\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tvar self = this,\r\n\t\t\t\tmatches = typeof this.childSelector == \"string\" ? this.childSelector : lang.hitch(this, \"childSelector\");\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.containerNode, on.selector(matches, mouse.enter), function(){\r\n\t\t\t\t\tself.onItemHover(registry.byNode(this));\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(matches, mouse.leave), function(){\r\n\t\t\t\t\tself.onItemUnhover(registry.byNode(this));\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(matches, a11yclick), function(evt){\r\n\t\t\t\t\tself.onItemClick(registry.byNode(this), evt);\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(matches, \"focusin\"), function(){\r\n\t\t\t\t\tself._onItemFocus(registry.byNode(this));\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tonKeyboardSearch: function(/*MenuItem*/ item, /*Event*/ evt, /*String*/ searchString, /*Number*/ numMatches){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach point for notification about when a menu item has been searched for\r\n\t\t\t//\t\tvia the keyboard search mechanism.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!!item && (numMatches == -1 || (!!item.popup && numMatches == 1))){\r\n\t\t\t\tthis.onItemClick(item, evt);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_keyboardSearchCompare: function(/*dijit/_WidgetBase*/ item, /*String*/ searchString){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCompares the searchString to the widget's text label, returning:\r\n\t\t\t//\t\t-1: a high priority match and stop searching\r\n\t\t\t//\t\t 0: no match\r\n\t\t\t//\t\t 1: a match but keep looking for a higher priority match\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!!item.shortcutKey){\r\n\t\t\t\t// accessKey matches have priority\r\n\t\t\t\treturn searchString == item.shortcutKey.toLowerCase() ? -1 : 0;\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments) ? 1 : 0; // change return value of -1 to 1 so that searching continues\r\n\t\t},\r\n\r\n\t\tonExecute: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach point for notification about when a menu item has been executed.\r\n\t\t\t//\t\tThis is an internal mechanism used for Menus to signal to their parent to\r\n\t\t\t//\t\tclose them, because they are about to execute the onClick handler.  In\r\n\t\t\t//\t\tgeneral developers should not attach to or override this method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\tonCancel: function(/*Boolean*/ /*===== closeAll =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach point for notification about when the user cancels the current menu\r\n\t\t\t//\t\tThis is an internal mechanism used for Menus to signal to their parent to\r\n\t\t\t//\t\tclose them.  In general developers should not attach to or override this method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\t_moveToPopup: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis handles the right arrow key (left arrow key on RTL systems),\r\n\t\t\t//\t\twhich will either open a submenu, or move to the next item in the\r\n\t\t\t//\t\tancestor MenuBar\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.focusedChild && this.focusedChild.popup && !this.focusedChild.disabled){\r\n\t\t\t\tthis.onItemClick(this.focusedChild, evt);\r\n\t\t\t}else{\r\n\t\t\t\tvar topMenu = this._getTopMenu();\r\n\t\t\t\tif(topMenu && topMenu._isMenuBar){\r\n\t\t\t\t\ttopMenu.focusNext();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onPopupHover: function(/*Event*/ /*===== evt =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis handler is called when the mouse moves over the popup.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// if the mouse hovers over a menu popup that is in pending-close state,\r\n\t\t\t// then stop the close operation.\r\n\t\t\t// This can't be done in onItemHover since some popup targets don't have MenuItems (e.g. ColorPicker)\r\n\r\n\t\t\t// highlight the parent menu item pointing to this popup (in case user temporarily moused over another MenuItem)\r\n\t\t\tthis.set(\"selected\", this.currentPopupItem);\r\n\r\n\t\t\t// cancel the pending close (if there is one) (in case user temporarily moused over another MenuItem)\r\n\t\t\tthis._stopPendingCloseTimer();\r\n\t\t},\r\n\r\n\t\tonItemHover: function(/*MenuItem*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when cursor is over a MenuItem.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// Don't do anything unless user has \"activated\" the menu by:\r\n\t\t\t//\t\t1) clicking it\r\n\t\t\t//\t\t2) opening it from a parent menu (which automatically activates it)\r\n\r\n\t\t\tif(this.activated){\r\n\t\t\t\tthis.set(\"selected\", item);\r\n\t\t\t\tif(item.popup && !item.disabled && !this.hover_timer){\r\n\t\t\t\t\tthis.hover_timer = this.defer(function(){\r\n\t\t\t\t\t\tthis._openItemPopup(item);\r\n\t\t\t\t\t}, this.popupDelay);\r\n\t\t\t\t}\r\n\t\t\t}else if(this.passivePopupDelay < Infinity){\r\n\t\t\t\tif(this.passive_hover_timer){\r\n\t\t\t\t\tthis.passive_hover_timer.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis.passive_hover_timer = this.defer(function(){\r\n\t\t\t\t\tthis.onItemClick(item, {type: \"click\"});\r\n\t\t\t\t}, this.passivePopupDelay);\r\n\t\t\t}\r\n\r\n\t\t\tthis._hoveredChild = item;\r\n\r\n\t\t\titem._set(\"hovering\", true);\r\n\t\t},\r\n\r\n\t\t_onChildDeselect: function(item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when a child MenuItem becomes deselected.   Setup timer to close its popup.\r\n\r\n\t\t\tthis._stopPopupTimer();\r\n\r\n\t\t\t// Setup timer to close all popups that are open and descendants of this menu.\r\n\t\t\t// Will be canceled if user quickly moves the mouse over the popup.\r\n\t\t\tif(this.currentPopupItem == item){\r\n\t\t\t\tthis._stopPendingCloseTimer();\r\n\t\t\t\tthis._pendingClose_timer = this.defer(function(){\r\n\t\t\t\t\tthis._pendingClose_timer = null;\r\n\t\t\t\t\tthis.currentPopupItem = null;\r\n\t\t\t\t\titem._closePopup(); // this calls onClose\r\n\t\t\t\t}, this.popupDelay);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonItemUnhover: function(/*MenuItem*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback fires when mouse exits a MenuItem\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this._hoveredChild == item){\r\n\t\t\t\tthis._hoveredChild = null;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.passive_hover_timer){\r\n\t\t\t\tthis.passive_hover_timer.remove();\r\n\t\t\t\tthis.passive_hover_timer = null;\r\n\t\t\t}\r\n\r\n\t\t\titem._set(\"hovering\", false);\r\n\t\t},\r\n\r\n\t\t_stopPopupTimer: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCancels the popup timer because the user has stop hovering\r\n\t\t\t//\t\ton the MenuItem, etc.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.hover_timer){\r\n\t\t\t\tthis.hover_timer = this.hover_timer.remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_stopPendingCloseTimer: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCancels the pending-close timer because the close has been preempted\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this._pendingClose_timer){\r\n\t\t\t\tthis._pendingClose_timer = this._pendingClose_timer.remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getTopMenu: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the top menu in this chain of Menus\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tfor(var top = this; top.parentMenu; top = top.parentMenu){}\r\n\t\t\treturn top;\r\n\t\t},\r\n\r\n\t\tonItemClick: function(/*dijit/_WidgetBase*/ item, /*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle clicks on an item.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.passive_hover_timer){\r\n\t\t\t\tthis.passive_hover_timer.remove();\r\n\t\t\t}\r\n\r\n\t\t\tthis.focusChild(item);\r\n\r\n\t\t\tif(item.disabled){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif(item.popup){\r\n\t\t\t\tthis.set(\"selected\", item);\r\n\t\t\t\tthis.set(\"activated\", true);\r\n\t\t\t\tvar byKeyboard = /^key/.test(evt._origType || evt.type) ||\r\n\t\t\t\t\t(evt.clientX == 0 && evt.clientY == 0);\t// detects accessKey like ALT+SHIFT+F, where type is \"click\"\r\n\t\t\t\tthis._openItemPopup(item, byKeyboard);\r\n\t\t\t}else{\r\n\t\t\t\t// before calling user defined handler, close hierarchy of menus\r\n\t\t\t\t// and restore focus to place it was when menu was opened\r\n\t\t\t\tthis.onExecute();\r\n\r\n\t\t\t\t// user defined handler for click\r\n\t\t\t\titem._onClick ? item._onClick(evt) : item.onClick(evt);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_openItemPopup: function(/*dijit/MenuItem*/ from_item, /*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOpen the popup to the side of/underneath the current menu item, and optionally focus first item\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(from_item == this.currentPopupItem){\r\n\t\t\t\t// Specified popup is already being shown, so just return\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this.currentPopupItem){\r\n\t\t\t\t// If another popup is currently shown, then close it\r\n\t\t\t\tthis._stopPendingCloseTimer();\r\n\t\t\t\tthis.currentPopupItem._closePopup();\r\n\t\t\t}\r\n\t\t\tthis._stopPopupTimer();\r\n\r\n\t\t\tvar popup = from_item.popup;\r\n\t\t\tpopup.parentMenu = this;\r\n\r\n\t\t\t// detect mouseover of the popup to handle lazy mouse movements that temporarily focus other menu items\\c\r\n\t\t\tthis.own(this._mouseoverHandle = on.once(popup.domNode, \"mouseover\", lang.hitch(this, \"_onPopupHover\")));\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tfrom_item._openPopup({\r\n\t\t\t\tparent: this,\r\n\t\t\t\torient: this._orient || [\"after\", \"before\"],\r\n\t\t\t\tonCancel: function(){ // called when the child menu is canceled\r\n\t\t\t\t\tif(focus){\r\n\t\t\t\t\t\t// put focus back on my node before focused node is hidden\r\n\t\t\t\t\t\tself.focusChild(from_item);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// close the submenu (be sure this is done _after_ focus is moved)\r\n\t\t\t\t\tself._cleanUp();\r\n\t\t\t\t},\r\n\t\t\t\tonExecute: lang.hitch(this, \"_cleanUp\", true),\r\n\t\t\t\tonClose: function(){\r\n\t\t\t\t\t// Remove handler created by onItemHover\r\n\t\t\t\t\tif(self._mouseoverHandle){\r\n\t\t\t\t\t\tself._mouseoverHandle.remove();\r\n\t\t\t\t\t\tdelete self._mouseoverHandle;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, focus);\r\n\r\n\t\t\tthis.currentPopupItem = from_item;\r\n\r\n\t\t\t// TODO: focusing a popup should clear tabIndex on Menu (and it's child MenuItems), so that neither\r\n\t\t\t// TAB nor SHIFT-TAB returns to the menu.  Only ESC or ENTER should return to the menu.\r\n\t\t},\r\n\r\n\t\tonOpen: function(/*Event*/ /*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when this menu is opened.\r\n\t\t\t//\t\tThis is called by the popup manager as notification that the menu\r\n\t\t\t//\t\twas opened.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.isShowingNow = true;\r\n\t\t\tthis.set(\"activated\", true);\r\n\t\t},\r\n\r\n\t\tonClose: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when this menu is closed.\r\n\t\t\t//\t\tThis is called by the popup manager as notification that the menu\r\n\t\t\t//\t\twas closed.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.set(\"activated\", false);\r\n\t\t\tthis.set(\"selected\", null);\r\n\t\t\tthis.isShowingNow = false;\r\n\t\t\tthis.parentMenu = null;\r\n\t\t},\r\n\r\n\t\t_closeChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when submenu is clicked or focus is lost.  Close hierarchy of menus.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._stopPopupTimer();\r\n\r\n\t\t\tif(this.currentPopupItem){\r\n\t\t\t\t// If focus is on a descendant MenuItem then move focus to me,\r\n\t\t\t\t// because IE doesn't like it when you display:none a node with focus,\r\n\t\t\t\t// and also so keyboard users don't lose control.\r\n\t\t\t\t// Likely, immediately after a user defined onClick handler will move focus somewhere\r\n\t\t\t\t// else, like a Dialog.\r\n\t\t\t\tif(this.focused){\r\n\t\t\t\t\tdomAttr.set(this.selected.focusNode, \"tabIndex\", this.tabIndex);\r\n\t\t\t\t\tthis.selected.focusNode.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Close all popups that are open and descendants of this menu\r\n\t\t\t\tthis.currentPopupItem._closePopup();\r\n\t\t\t\tthis.currentPopupItem = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onItemFocus: function(/*MenuItem*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when child of this Menu gets focus from:\r\n\t\t\t//\r\n\t\t\t//\t\t1. clicking it\r\n\t\t\t//\t\t2. tabbing into it\r\n\t\t\t//\t\t3. being opened by a parent menu.\r\n\t\t\t//\r\n\t\t\t//\t\tThis is not called just from mouse hover.\r\n\r\n\t\t\tif(this._hoveredChild && this._hoveredChild != item){\r\n\t\t\t\tthis.onItemUnhover(this._hoveredChild);\t// any previous mouse movement is trumped by focus selection\r\n\t\t\t}\r\n\t\t\tthis.set(\"selected\", item);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when focus is moved away from this Menu and it's submenus.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis._cleanUp(true);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_cleanUp: function(/*Boolean*/ clearSelectedItem){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the user is done with this menu.  Closes hierarchy of menus.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis._closeChild(); // don't call this.onClose since that's incorrect for MenuBar's that never close\r\n\t\t\tif(typeof this.isShowingNow == 'undefined'){ // non-popup menu doesn't call onClose\r\n\t\t\t\tthis.set(\"activated\", false);\r\n\t\t\t}\r\n\r\n\t\t\tif(clearSelectedItem){\r\n\t\t\t\tthis.set(\"selected\", null);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/DropDownMenu',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/text!./templates/Menu.html\",\r\n\t\"./_MenuBase\"\r\n], function(declare, keys, template, _MenuBase){\r\n\r\n\t// module:\r\n\t//\t\tdijit/DropDownMenu\r\n\r\n\treturn declare(\"dijit.DropDownMenu\", _MenuBase, {\r\n\t\t// summary:\r\n\t\t//\t\tA menu, without features for context menu (Meaning, drop down menu)\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitMenu\",\r\n\r\n\t\t// Arrow key navigation\r\n\t\t_onUpArrow: function(){\r\n\t\t\tthis.focusPrev();\r\n\t\t},\r\n\t\t_onDownArrow: function(){\r\n\t\t\tthis.focusNext();\r\n\t\t},\r\n\t\t_onRightArrow: function(/*Event*/ evt){\r\n\t\t\tthis._moveToPopup(evt);\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t},\r\n\t\t_onLeftArrow: function(/*Event*/ evt){\r\n\t\t\tif(this.parentMenu){\r\n\t\t\t\tif(this.parentMenu._isMenuBar){\r\n\t\t\t\t\tthis.parentMenu.focusPrev();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.onCancel(false);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/Menu',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.byId dom.isDescendant\r\n\t\"dojo/dom-attr\", // domAttr.get domAttr.set domAttr.has domAttr.remove\r\n\t\"dojo/dom-geometry\", // domStyle.getComputedStyle domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/keys\", // keys.F10\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\"), has(\"quirks\")\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"dojo/window\", // winUtils.get\r\n\t\"./popup\",\r\n\t\"./DropDownMenu\",\r\n\t\"dojo/ready\"\r\n], function(require, array, declare, dom, domAttr, domGeometry, domStyle, keys, lang, on, has, win, winUtils, pm, DropDownMenu, ready){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Menu\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/MenuItem\", \"dijit/PopupMenuItem\", \"dijit/CheckedMenuItem\", \"dijit/MenuSeparator\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\treturn declare(\"dijit.Menu\", DropDownMenu, {\r\n\t\t// summary:\r\n\t\t//\t\tA context menu you can assign to multiple elements\r\n\r\n\t\tconstructor: function(/*===== params, srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified:\r\n\t\t\t//\r\n\t\t\t//\t\t- use srcNodeRef.innerHTML as my contents\r\n\t\t\t//\t\t- replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\tthis._bindings = [];\r\n\t\t},\r\n\r\n\t\t// targetNodeIds: [const] String[]\r\n\t\t//\t\tArray of dom node ids of nodes to attach to.\r\n\t\t//\t\tFill this with nodeIds upon widget creation and it becomes context menu for those nodes.\r\n\t\ttargetNodeIds: [],\r\n\r\n\t\t// selector: String?\r\n\t\t//\t\tCSS expression to apply this Menu to descendants of targetNodeIds, rather than to\r\n\t\t//\t\tthe nodes specified by targetNodeIds themselves.  Useful for applying a Menu to\r\n\t\t//\t\ta range of rows in a table, tree, etc.\r\n\t\t//\r\n\t\t//\t\tThe application must require() an appropriate level of dojo/query to handle the selector.\r\n\t\tselector: \"\",\r\n\r\n\t\t// TODO: in 2.0 remove support for multiple targetNodeIds.   selector gives the same effect.\r\n\t\t// So, change targetNodeIds to a targetNodeId: \"\", remove bindDomNode()/unBindDomNode(), etc.\r\n\r\n\t\t/*=====\r\n\t\t// currentTarget: [readonly] DOMNode\r\n\t\t//\t\tFor context menus, set to the current node that the Menu is being displayed for.\r\n\t\t//\t\tUseful so that the menu actions can be tailored according to the node\r\n\t\tcurrentTarget: null,\r\n\t\t=====*/\r\n\r\n\t\t// contextMenuForWindow: [const] Boolean\r\n\t\t//\t\tIf true, right clicking anywhere on the window will cause this context menu to open.\r\n\t\t//\t\tIf false, must specify targetNodeIds.\r\n\t\tcontextMenuForWindow: false,\r\n\r\n\t\t// leftClickToOpen: [const] Boolean\r\n\t\t//\t\tIf true, menu will open on left click instead of right click, similar to a file menu.\r\n\t\tleftClickToOpen: false,\r\n\t\t// TODO: remove in 2.0, we have better ways of opening a menu with a left click, by extending _HasDropDown.\r\n\r\n\t\t// refocus: Boolean\r\n\t\t//\t\tWhen this menu closes, re-focus the element which had focus before it was opened.\r\n\t\trefocus: true,\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tif(this.contextMenuForWindow){\r\n\t\t\t\tthis.bindDomNode(this.ownerDocumentBody);\r\n\t\t\t}else{\r\n\t\t\t\tarray.forEach(this.targetNodeIds, this.bindDomNode, this);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t// thanks burstlib!\r\n\t\t_iframeContentWindow: function(/* HTMLIFrameElement */iframe_el){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the window reference of the passed iframe\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn winUtils.get(this._iframeContentDocument(iframe_el)) ||\r\n\t\t\t\t// Moz. TODO: is this available when defaultView isn't?\r\n\t\t\t\tthis._iframeContentDocument(iframe_el)['__parent__'] ||\r\n\t\t\t\t(iframe_el.name && document.frames[iframe_el.name]) || null;\t//\tWindow\r\n\t\t},\r\n\r\n\t\t_iframeContentDocument: function(/* HTMLIFrameElement */iframe_el){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a reference to the document object inside iframe_el\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn iframe_el.contentDocument // W3\r\n\t\t\t\t|| (iframe_el.contentWindow && iframe_el.contentWindow.document) // IE\r\n\t\t\t\t|| (iframe_el.name && document.frames[iframe_el.name] && document.frames[iframe_el.name].document)\r\n\t\t\t\t|| null;\t//\tHTMLDocument\r\n\t\t},\r\n\r\n\t\tbindDomNode: function(/*String|DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAttach menu to given node\r\n\t\t\tnode = dom.byId(node, this.ownerDocument);\r\n\r\n\t\t\tvar cn;\t// Connect node\r\n\r\n\t\t\t// Support context menus on iframes.  Rather than binding to the iframe itself we need\r\n\t\t\t// to bind to the <body> node inside the iframe.\r\n\t\t\tif(node.tagName.toLowerCase() == \"iframe\"){\r\n\t\t\t\tvar iframe = node,\r\n\t\t\t\t\twindow = this._iframeContentWindow(iframe);\r\n\t\t\t\tcn = win.body(window.document);\r\n\t\t\t}else{\r\n\t\t\t\t// To capture these events at the top level, attach to <html>, not <body>.\r\n\t\t\t\t// Otherwise right-click context menu just doesn't work.\r\n\t\t\t\tcn = (node == win.body(this.ownerDocument) ? this.ownerDocument.documentElement : node);\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// \"binding\" is the object to track our connection to the node (ie, the parameter to bindDomNode())\r\n\t\t\tvar binding = {\r\n\t\t\t\tnode: node,\r\n\t\t\t\tiframe: iframe\r\n\t\t\t};\r\n\r\n\t\t\t// Save info about binding in _bindings[], and make node itself record index(+1) into\r\n\t\t\t// _bindings[] array.  Prefix w/_dijitMenu to avoid setting an attribute that may\r\n\t\t\t// start with a number, which fails on FF/safari.\r\n\t\t\tdomAttr.set(node, \"_dijitMenu\" + this.id, this._bindings.push(binding));\r\n\r\n\t\t\t// Setup the connections to monitor click etc., unless we are connecting to an iframe which hasn't finished\r\n\t\t\t// loading yet, in which case we need to wait for the onload event first, and then connect\r\n\t\t\t// On linux Shift-F10 produces the oncontextmenu event, but on Windows it doesn't, so\r\n\t\t\t// we need to monitor keyboard events in addition to the oncontextmenu event.\r\n\t\t\tvar doConnects = lang.hitch(this, function(cn){\r\n\t\t\t\tvar selector = this.selector,\r\n\t\t\t\t\tdelegatedEvent = selector ?\r\n\t\t\t\t\t\tfunction(eventType){\r\n\t\t\t\t\t\t\treturn on.selector(selector, eventType);\r\n\t\t\t\t\t\t} :\r\n\t\t\t\t\t\tfunction(eventType){\r\n\t\t\t\t\t\t\treturn eventType;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\tself = this;\r\n\t\t\t\treturn [\r\n\t\t\t\t\ton(cn, delegatedEvent(this.leftClickToOpen ? \"click\" : \"contextmenu\"), function(evt){\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\r\n\t\t\t\t\t\tif((new Date()).getTime() < this._lastKeyDown + 500){\r\n\t\t\t\t\t\t\t// Ignore contextmenu/click events that were already processed in keydown handler below.\r\n\t\t\t\t\t\t\t// But still call preventDefault() (above) so system context menu doesn't appear.\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Schedule context menu to be opened.\r\n\t\t\t\t\t\t// Note that this won't work will if the click was generated by the keyboard, while\r\n\t\t\t\t\t\t// focused on a <button> etc.   In that case evt.pageX and evt.pageY are either (0,0) or\r\n\t\t\t\t\t\t// wherever the mouse cursor is.  See keydown handler below.\r\n\t\t\t\t\t\tself._scheduleOpen(this, iframe, {x: evt.pageX, y: evt.pageY}, evt.target);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ton(cn, delegatedEvent(\"keydown\"), function(evt){\r\n\t\t\t\t\t\tif(evt.keyCode == 93 ||\t\t\t\t\t\t\t\t\t// context menu key\r\n\t\t\t\t\t\t\t(evt.shiftKey && evt.keyCode == keys.F10) ||\t\t// shift-F10\r\n\t\t\t\t\t\t\t(this.leftClickToOpen && evt.keyCode == keys.SPACE)\t// space key\r\n\t\t\t\t\t\t){\r\n\t\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\t\tevt.preventDefault();\r\n\r\n\t\t\t\t\t\t\t// Open the menu around evt.target.  Note that \"this\" and evt.target\r\n\t\t\t\t\t\t\t// are likely different, especially for global context menu, where \"this\" is <body>.\r\n\t\t\t\t\t\t\tself._scheduleOpen(this, iframe, null, evt.target);\t// no coords - open near evt.target\r\n\r\n\t\t\t\t\t\t\tthis._lastKeyDown = (new Date()).getTime();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t];\r\n\t\t\t});\r\n\t\t\tbinding.connects = cn ? doConnects(cn) : [];\r\n\r\n\t\t\tif(iframe){\r\n\t\t\t\t// Setup handler to [re]bind to the iframe when the contents are initially loaded,\r\n\t\t\t\t// and every time the contents change.\r\n\t\t\t\t// Need to do this b/c we are actually binding to the iframe's <body> node.\r\n\t\t\t\t// Note: can't use connect.connect(), see #9609.\r\n\r\n\t\t\t\tbinding.onloadHandler = lang.hitch(this, function(){\r\n\t\t\t\t\t// want to remove old connections, but IE throws exceptions when trying to\r\n\t\t\t\t\t// access the <body> node because it's already gone, or at least in a state of limbo\r\n\r\n\t\t\t\t\tvar window = this._iframeContentWindow(iframe),\r\n\t\t\t\t\t\tcn = win.body(window.document);\r\n\t\t\t\t\tbinding.connects = doConnects(cn);\r\n\t\t\t\t});\r\n\t\t\t\tif(iframe.addEventListener){\r\n\t\t\t\t\tiframe.addEventListener(\"load\", binding.onloadHandler, false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tiframe.attachEvent(\"onload\", binding.onloadHandler);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tunBindDomNode: function(/*String|DomNode*/ nodeName){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetach menu from given node\r\n\r\n\t\t\tvar node;\r\n\t\t\ttry{\r\n\t\t\t\tnode = dom.byId(nodeName, this.ownerDocument);\r\n\t\t\t}catch(e){\r\n\t\t\t\t// On IE the dom.byId() call will get an exception if the attach point was\r\n\t\t\t\t// the <body> node of an <iframe> that has since been reloaded (and thus the\r\n\t\t\t\t// <body> node is in a limbo state of destruction.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// node[\"_dijitMenu\" + this.id] contains index(+1) into my _bindings[] array\r\n\t\t\tvar attrName = \"_dijitMenu\" + this.id;\r\n\t\t\tif(node && domAttr.has(node, attrName)){\r\n\t\t\t\tvar bid = domAttr.get(node, attrName) - 1, b = this._bindings[bid], h;\r\n\t\t\t\twhile((h = b.connects.pop())){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove listener for iframe onload events\r\n\t\t\t\tvar iframe = b.iframe;\r\n\t\t\t\tif(iframe){\r\n\t\t\t\t\tif(iframe.removeEventListener){\r\n\t\t\t\t\t\tiframe.removeEventListener(\"load\", b.onloadHandler, false);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tiframe.detachEvent(\"onload\", b.onloadHandler);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdomAttr.remove(node, attrName);\r\n\t\t\t\tdelete this._bindings[bid];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_scheduleOpen: function(delegatedTarget, iframe, coords, target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet timer to display myself.  Using a timer rather than displaying immediately solves\r\n\t\t\t//\t\tIE problem: without the delay, focus work in \"open\" causes the system\r\n\t\t\t//\t\tcontext menu to appear in spite of evt.preventDefault().\r\n\t\t\t// delegatedTarget: Element\r\n\t\t\t//\t\tThe node specified in targetNodeIds or matching selector that the menu is being opened for.\r\n\t\t\t// iframe: HTMLIframeElement?\r\n\t\t\t//\t\tSet if target is inside the specified iframe.\r\n\t\t\t// coords: Object\r\n\t\t\t//\t\tx/y position to center the menu around.  Undefined if menu was opened via keyboard.\r\n\t\t\t// target: Element\r\n\t\t\t//\t\tThe actual clicked node, either delegatedTarget or a descendant.\r\n\r\n\t\t\tif(!this._openTimer){\r\n\t\t\t\tthis._openTimer = this.defer(function(){\r\n\t\t\t\t\tdelete this._openTimer;\r\n\t\t\t\t\tthis._openMyself({\r\n\t\t\t\t\t\ttarget: target,\r\n\t\t\t\t\t\tdelegatedTarget: delegatedTarget,\r\n\t\t\t\t\t\tiframe: iframe,\r\n\t\t\t\t\t\tcoords: coords\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_openMyself: function(args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function for opening myself when the user does a right-click or something similar.\r\n\t\t\t// args:\r\n\t\t\t//\t\tThis is an Object containing:\r\n\t\t\t//\r\n\t\t\t//\t\t- target: The node that is being clicked.\r\n\t\t\t//\t\t- delegatedTarget: The node from this.targetNodeIds or matching this.selector,\r\n\t\t\t//\t\t  either the same as target or an ancestor of target.\r\n\t\t\t//\t\t- iframe: If an `<iframe>` is being clicked, iframe points to that iframe\r\n\t\t\t//\t\t- coords: Mouse cursor x/y coordinates.  Null when opened via keyboard.\r\n\t\t\t//\t\t  Put menu at specified position in iframe (if iframe specified) or otherwise in viewport.\r\n\t\t\t//\r\n\t\t\t//\t\t_openMyself() formerly took the event object, and since various code references\r\n\t\t\t//\t\tevt.target (after connecting to _openMyself()), using an Object for parameters\r\n\t\t\t//\t\t(so that old code still works).\r\n\r\n\t\t\tvar target = args.target,\r\n\t\t\t\tiframe = args.iframe,\r\n\t\t\t\tcoords = args.coords,\r\n\t\t\t\tbyKeyboard = !coords;\r\n\r\n\t\t\t// To be used by MenuItem event handlers to tell which node the menu was opened on\r\n\t\t\tthis.currentTarget = args.delegatedTarget;\r\n\r\n\t\t\t// Get coordinates to open menu, either at specified (mouse) position or (if triggered via keyboard)\r\n\t\t\t// then near the node the menu is assigned to.\r\n\t\t\tif(coords){\r\n\t\t\t\tif(iframe){\r\n\t\t\t\t\t// Specified coordinates are on <body> node of an <iframe>, convert to match main document\r\n\t\t\t\t\tvar ifc = domGeometry.position(iframe, true),\r\n\t\t\t\t\t\twindow = this._iframeContentWindow(iframe),\r\n\t\t\t\t\t\tscroll = domGeometry.docScroll(window.document);\r\n\r\n\t\t\t\t\tvar cs = domStyle.getComputedStyle(iframe),\r\n\t\t\t\t\t\ttp = domStyle.toPixelValue,\r\n\t\t\t\t\t\tleft = (has(\"ie\") && has(\"quirks\") ? 0 : tp(iframe, cs.paddingLeft)) + (has(\"ie\") && has(\"quirks\") ? tp(iframe, cs.borderLeftWidth) : 0),\r\n\t\t\t\t\t\ttop = (has(\"ie\") && has(\"quirks\") ? 0 : tp(iframe, cs.paddingTop)) + (has(\"ie\") && has(\"quirks\") ? tp(iframe, cs.borderTopWidth) : 0);\r\n\r\n\t\t\t\t\tcoords.x += ifc.x + left - scroll.x;\r\n\t\t\t\t\tcoords.y += ifc.y + top - scroll.y;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tcoords = domGeometry.position(target, true);\r\n\t\t\t\tcoords.x += 10;\r\n\t\t\t\tcoords.y += 10;\r\n\t\t\t}\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar prevFocusNode = this._focusManager.get(\"prevNode\");\r\n\t\t\tvar curFocusNode = this._focusManager.get(\"curNode\");\r\n\t\t\tvar savedFocusNode = !curFocusNode || (dom.isDescendant(curFocusNode, this.domNode)) ? prevFocusNode : curFocusNode;\r\n\r\n\t\t\tfunction closeAndRestoreFocus(){\r\n\t\t\t\t// user has clicked on a menu or popup\r\n\t\t\t\tif(self.refocus && savedFocusNode){\r\n\t\t\t\t\tsavedFocusNode.focus();\r\n\t\t\t\t}\r\n\t\t\t\tpm.close(self);\r\n\t\t\t}\r\n\r\n\t\t\tpm.open({\r\n\t\t\t\tpopup: this,\r\n\t\t\t\tx: coords.x,\r\n\t\t\t\ty: coords.y,\r\n\t\t\t\tonExecute: closeAndRestoreFocus,\r\n\t\t\t\tonCancel: closeAndRestoreFocus,\r\n\t\t\t\torient: this.isLeftToRight() ? 'L' : 'R'\r\n\t\t\t});\r\n\r\n\t\t\t// Focus the menu even when opened by mouse, so that a click on blank area of screen will close it\r\n\t\t\tthis.focus();\r\n\t\t\tif(!byKeyboard){\r\n\t\t\t\t// But then (when opened by mouse), mark Menu as passive, so that the first item isn't highlighted.\r\n\t\t\t\t// On IE9+ this needs to be on a delay because the focus is asynchronous.\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis._cleanUp(true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis._onBlur = function(){\r\n\t\t\t\tthis.inherited('_onBlur', arguments);\r\n\t\t\t\t// Usually the parent closes the child widget but if this is a context\r\n\t\t\t\t// menu then there is no parent\r\n\t\t\t\tpm.close(this);\r\n\t\t\t\t// don't try to restore focus; user has clicked another part of the screen\r\n\t\t\t\t// and set focus there\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tarray.forEach(this._bindings, function(b){\r\n\t\t\t\tif(b){\r\n\t\t\t\t\tthis.unBindDomNode(b.node);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/MenuItem',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_Contained\",\r\n\t\"./_CssStateMixin\",\r\n\t\"dojo/text!./templates/MenuItem.html\"\r\n], function(declare, dom, domAttr, domClass, kernel, has, lang,\r\n\t\t\t_Widget, _TemplatedMixin, _Contained, _CssStateMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/MenuItem\r\n\r\n\tvar MenuItem = declare(\"dijit.MenuItem\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"),\r\n\t\t[_Widget, _TemplatedMixin, _Contained, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA line item in a Menu Widget\r\n\r\n\t\t// Make 3 columns\r\n\t\t// icon, label, and expand arrow (BiDi-dependent) indicating sub-menu\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitMenuItem\",\r\n\r\n\t\t// label: String\r\n\t\t//\t\tMenu text as HTML\r\n\t\tlabel: \"\",\r\n\t\t_setLabelAttr: function(val){\r\n\t\t\tthis._set(\"label\", val);\r\n\t\t\tvar shortcutKey = \"\";\r\n\t\t\tvar text;\r\n\t\t\tvar ndx = val.search(/{\\S}/);\r\n\t\t\tif(ndx >= 0){\r\n\t\t\t\tshortcutKey = val.charAt(ndx + 1);\r\n\t\t\t\tvar prefix = val.substr(0, ndx);\r\n\t\t\t\tvar suffix = val.substr(ndx + 3);\r\n\t\t\t\ttext = prefix + shortcutKey + suffix;\r\n\t\t\t\tval = prefix + '<span class=\"dijitMenuItemShortcutKey\">' + shortcutKey + '</span>' + suffix;\r\n\t\t\t}else{\r\n\t\t\t\ttext = val;\r\n\t\t\t}\r\n\t\t\tthis.domNode.setAttribute(\"aria-label\", text + \" \" + this.accelKey);\r\n\t\t\tthis.containerNode.innerHTML = val;\r\n\t\t\tthis._set('shortcutKey', shortcutKey);\r\n\t\t},\r\n\r\n\t\t/*=====\r\n\t\t// shortcutKey: [readonly] String\r\n\t\t//\t\tSingle character (underlined when the parent Menu is focused) used to navigate directly to this widget,\r\n\t\t//\t\talso known as [a mnemonic](http://en.wikipedia.org/wiki/Mnemonics_(keyboard%29).\r\n\t\t//\t\tThis is denoted in the label by surrounding the single character with {}.\r\n\t\t//\t\tFor example, if label=\"{F}ile\", then shortcutKey=\"F\".\r\n\t\tshortcutKey: \"\",\r\n\t\t=====*/\r\n\r\n\t\t// iconClass: String\r\n\t\t//\t\tClass to apply to DOMNode to make it display an icon.\r\n\t\ticonClass: \"dijitNoIcon\",\r\n\t\t_setIconClassAttr: { node: \"iconNode\", type: \"class\" },\r\n\r\n\t\t// accelKey: String\r\n\t\t//\t\tText for the accelerator (shortcut) key combination, a control, alt, etc. modified keystroke meant to\r\n\t\t//\t\texecute the menu item regardless of where the focus is on the page.\r\n\t\t//\r\n\t\t//\t\tNote that although Menu can display accelerator keys, there is no infrastructure to actually catch and\r\n\t\t//\t\texecute those accelerators.\r\n\t\taccelKey: \"\",\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tIf true, the menu item is disabled.\r\n\t\t//\t\tIf false, the menu item is enabled.\r\n\t\tdisabled: false,\r\n\r\n\t\t_fillContent: function(/*DomNode*/ source){\r\n\t\t\t// If button label is specified as srcNodeRef.innerHTML rather than\r\n\t\t\t// this.params.label, handle it here.\r\n\t\t\tif(source && !(\"label\" in this.params)){\r\n\t\t\t\tthis._set('label', source.innerHTML);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar label = this.id + \"_text\";\r\n\t\t\tdomAttr.set(this.containerNode, \"id\", label); // only needed for backward compat\r\n\t\t\tif(this.accelKeyNode){\r\n\t\t\t\tdomAttr.set(this.accelKeyNode, \"id\", this.id + \"_accel\"); // only needed for backward compat\r\n\t\t\t}\r\n\t\t\tdom.setSelectable(this.domNode, false);\r\n\t\t},\r\n\r\n\t\tonClick: function(/*Event*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser defined function to handle clicks\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus on this MenuItem\r\n\t\t\ttry{\r\n\t\t\t\tif(has(\"ie\") == 8){\r\n\t\t\t\t\t// needed for IE8 which won't scroll TR tags into view on focus yet calling scrollIntoView creates flicker (#10275)\r\n\t\t\t\t\tthis.containerNode.focus();\r\n\t\t\t\t}\r\n\t\t\t\tthis.focusNode.focus();\r\n\t\t\t}catch(e){\r\n\t\t\t\t// this throws on IE (at least) in some scenarios\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setSelected: function(selected){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIndicate that this node is the currently selected one\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitMenuItemSelected\", selected);\r\n\t\t},\r\n\r\n\t\tsetLabel: function(/*String*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('label', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set(\"label\", content);\r\n\t\t},\r\n\r\n\t\tsetDisabled: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('disabled', bool) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('disabled', disabled);\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for attr('disabled', ...) to work.\r\n\t\t\t//\t\tEnable or disable this menu item.\r\n\r\n\t\t\tthis.focusNode.setAttribute('aria-disabled', value ? 'true' : 'false');\r\n\t\t\tthis._set(\"disabled\", value);\r\n\t\t},\r\n\r\n\t\t_setAccelKeyAttr: function(/*String*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for attr('accelKey', ...) to work.\r\n\t\t\t//\t\tSet accelKey on this menu item.\r\n\r\n\t\t\tif(this.accelKeyNode){\r\n\t\t\t\tthis.accelKeyNode.style.display = value ? \"\" : \"none\";\r\n\t\t\t\tthis.accelKeyNode.innerHTML = value;\r\n\t\t\t\t//have to use colSpan to make it work in IE\r\n\t\t\t\tdomAttr.set(this.containerNode, 'colSpan', value ? \"1\" : \"2\");\r\n\t\t\t}\r\n\t\t\tthis._set(\"accelKey\", value);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tMenuItem = declare(\"dijit.MenuItem\", MenuItem, {\r\n\t\t\t_setLabelAttr: function(val){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tif(this.textDir === \"auto\"){\r\n\t\t\t\t\tthis.applyTextDir(this.textDirNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn MenuItem;\r\n});\r\n\ndefine('dijit/PopupMenuItem',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/query\", // query\r\n\t\"./popup\",\r\n\t\"./registry\",\t// registry.byNode\r\n\t\"./MenuItem\",\r\n\t\"./hccss\"\r\n], function(declare, domStyle, lang, query, pm, registry, MenuItem){\r\n\r\n\t// module:\r\n\t//\t\tdijit/PopupMenuItem\r\n\r\n\treturn declare(\"dijit.PopupMenuItem\", MenuItem, {\r\n\t\t// summary:\r\n\t\t//\t\tAn item in a Menu that spawn a drop down (usually a drop down menu)\r\n\r\n\t\tbaseClass: \"dijitMenuItem dijitPopupMenuItem\",\r\n\r\n\t\t_fillContent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen Menu is declared in markup, this code gets the menu label and\r\n\t\t\t//\t\tthe popup widget from the srcNodeRef.\r\n\t\t\t// description:\r\n\t\t\t//\t\tsrcNodeRef.innerHTML contains both the menu item text and a popup widget\r\n\t\t\t//\t\tThe first part holds the menu item text and the second part is the popup\r\n\t\t\t// example:\r\n\t\t\t// |\t<div data-dojo-type=\"dijit/PopupMenuItem\">\r\n\t\t\t// |\t\t<span>pick me</span>\r\n\t\t\t// |\t\t<popup> ... </popup>\r\n\t\t\t// |\t</div>\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.srcNodeRef){\r\n\t\t\t\tvar nodes = query(\"*\", this.srcNodeRef);\r\n\t\t\t\tthis.inherited(arguments, [nodes[0]]);\r\n\r\n\t\t\t\t// save pointer to srcNode so we can grab the drop down widget after it's instantiated\r\n\t\t\t\tthis.dropDownContainer = this.srcNodeRef;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_openPopup: function(/*Object*/ params, /*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOpen the popup to the side of/underneath this MenuItem, and optionally focus first item\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar popup = this.popup;\r\n\r\n\t\t\tpm.open(lang.delegate(params, {\r\n\t\t\t\tpopup: this.popup,\r\n\t\t\t\taround: this.domNode\r\n\t\t\t}));\r\n\r\n\t\t\tif(focus && popup.focus){\r\n\t\t\t\tpopup.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_closePopup: function(){\r\n\t\t\tpm.close(this.popup);\r\n\t\t\tthis.popup.parentMenu = null;\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){ return; }\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// We didn't copy the dropdown widget from the this.srcNodeRef, so it's in no-man's\r\n\t\t\t// land now.  Move it to <body>.\r\n\t\t\tif(!this.popup){\r\n\t\t\t\tvar node = query(\"[widgetId]\", this.dropDownContainer)[0];\r\n\t\t\t\tthis.popup = registry.byNode(node);\r\n\t\t\t}\r\n\t\t\tthis.ownerDocumentBody.appendChild(this.popup.domNode);\r\n\t\t\tthis.popup.domNode.setAttribute(\"aria-labelledby\", this.containerNode.id);\r\n\t\t\tthis.popup.startup();\r\n\r\n\t\t\tthis.popup.domNode.style.display=\"none\";\r\n\t\t\tif(this.arrowWrapper){\r\n\t\t\t\tdomStyle.set(this.arrowWrapper, \"visibility\", \"\");\r\n\t\t\t}\r\n\t\t\tthis.focusNode.setAttribute(\"aria-haspopup\", \"true\");\r\n\t\t},\r\n\r\n\t\tdestroyDescendants: function(/*Boolean*/ preserveDom){\r\n\t\t\tif(this.popup){\r\n\t\t\t\t// Destroy the popup, unless it's already been destroyed.  This can happen because\r\n\t\t\t\t// the popup is a direct child of <body> even though it's logically my child.\r\n\t\t\t\tif(!this.popup._destroyed){\r\n\t\t\t\t\tthis.popup.destroyRecursive(preserveDom);\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.popup;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/CheckedMenuItem',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"./MenuItem\",\r\n\t\"dojo/text!./templates/CheckedMenuItem.html\",\r\n\t\"./hccss\"\r\n], function(declare, domClass, MenuItem, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/CheckedMenuItem\r\n\r\n\treturn declare(\"dijit.CheckedMenuItem\", MenuItem, {\r\n\t\t// summary:\r\n\t\t//\t\tA checkbox-like menu item for toggling on and off\r\n\r\n\t\t// Use both base classes so we get styles like dijitMenuItemDisabled\r\n\t\tbaseClass: \"dijitMenuItem dijitCheckedMenuItem\",\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// checked: Boolean\r\n\t\t//\t\tOur checked state\r\n\t\tchecked: false,\r\n\t\t_setCheckedAttr: function(/*Boolean*/ checked){\r\n\t\t\tthis.domNode.setAttribute(\"aria-checked\", checked ? \"true\" : \"false\");\r\n\t\t\tthis._set(\"checked\", checked);\t// triggers CSS update via _CssStateMixin\r\n\t\t},\r\n\r\n\t\ticonClass: \"\",\t// override dijitNoIcon\r\n\r\n\t\trole: \"menuitemcheckbox\",\r\n\r\n\t\t// checkedChar: String\r\n\t\t//\t\tCharacter (or string) used in place of checkbox icon when display in high contrast mode\r\n\t\tcheckedChar: \"&#10003;\",\r\n\r\n\t\tonChange: function(/*Boolean*/ /*===== checked =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser defined function to handle check/uncheck events\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t_onClick: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClicking this item just toggles its state\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tthis.set(\"checked\", !this.checked);\r\n\t\t\t\tthis.onChange(this.checked);\r\n\t\t\t}\r\n\t\t\tthis.onClick(evt);\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/MenuBar',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys.DOWN_ARROW\r\n\t\"./_MenuBase\",\r\n\t\"dojo/text!./templates/MenuBar.html\"\r\n], function(declare, keys, _MenuBase, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/MenuBar\r\n\r\n\treturn declare(\"dijit.MenuBar\", _MenuBase, {\r\n\t\t// summary:\r\n\t\t//\t\tA menu bar, listing menu choices horizontally, like the \"File\" menu in most desktop applications\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitMenuBar\",\r\n\r\n\t\t// By default open popups for MenuBar instantly\r\n\t\tpopupDelay: 0,\r\n\r\n\t\t// _isMenuBar: [protected] Boolean\r\n\t\t//\t\tThis is a MenuBar widget, not a (vertical) Menu widget.\r\n\t\t_isMenuBar: true,\r\n\r\n\t\t// parameter to dijit.popup.open() about where to put popup (relative to this.domNode)\r\n\t\t_orient: [\"below\"],\r\n\r\n\t\t_moveToPopup: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis handles the down arrow key, opening a submenu if one exists.\r\n\t\t\t//\t\tUnlike _MenuBase._moveToPopup(), will never move to the next item in the MenuBar.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.focusedChild && this.focusedChild.popup && !this.focusedChild.disabled){\r\n\t\t\t\tthis.onItemClick(this.focusedChild, evt);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocusChild: function(item){\r\n\t\t\t// Overload focusChild so that whenever a new item is focused and the menu is active, open its submenu immediately.\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.activated && item.popup && !item.disabled){\r\n\t\t\t\tthis._openItemPopup(item, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onChildDeselect: function(item){\r\n\t\t\t// override _MenuBase._onChildDeselect() to close submenu immediately\r\n\r\n\t\t\tif(this.currentPopupItem == item){\r\n\t\t\t\tthis.currentPopupItem = null;\r\n\t\t\t\titem._closePopup(); // this calls onClose\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t// Arrow key navigation\r\n\t\t_onLeftArrow: function(){\r\n\t\t\tthis.focusPrev();\r\n\t\t},\r\n\t\t_onRightArrow: function(){\r\n\t\t\tthis.focusNext();\r\n\t\t},\r\n\t\t_onDownArrow: function(/*Event*/ evt){\r\n\t\t\tthis._moveToPopup(evt);\r\n\t\t},\r\n\t\t_onUpArrow: function(){\r\n\t\t},\r\n\r\n\t\tonItemClick: function(/*dijit/_WidgetBase*/ item, /*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle clicks on an item.   Also called by _moveToPopup() due to a down-arrow key on the item.\r\n\t\t\t//\t\tCancels a dropdown if already open and click is either mouse or space/enter.\r\n\t\t\t//\t\tDon't close dropdown due to down arrow.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(item.popup && item.popup.isShowingNow && (!/^key/.test(evt.type) || evt.keyCode !== keys.DOWN_ARROW)){\r\n\t\t\t\titem.focusNode.focus();\r\n\t\t\t\tthis._cleanUp(true);\r\n\t\t\t}else{\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/MenuBarItem',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./MenuItem\",\r\n\t\"dojo/text!./templates/MenuBarItem.html\"\r\n], function(declare, MenuItem, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/MenuBarItem\r\n\r\n\tvar _MenuBarItemMixin = declare(\"dijit._MenuBarItemMixin\", null, {\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setIconClassAttr: null\t// cancel MenuItem setter because we don't have a place for an icon\r\n\t});\r\n\r\n\tvar MenuBarItem = declare(\"dijit.MenuBarItem\", [MenuItem, _MenuBarItemMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tItem in a MenuBar that's clickable, and doesn't spawn a submenu when pressed (or hovered)\r\n\r\n\t});\r\n\tMenuBarItem._MenuBarItemMixin = _MenuBarItemMixin;\t// dojox.mobile is accessing this\r\n\r\n\r\n\treturn MenuBarItem;\r\n});\r\n\ndefine('dijit/PopupMenuBarItem',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./PopupMenuItem\",\r\n\t\"./MenuBarItem\"\r\n], function(declare, PopupMenuItem, MenuBarItem){\r\n\r\n\t// module:\r\n\t//\t\tdijit/PopupMenuBarItem\r\n\r\n\tvar _MenuBarItemMixin = MenuBarItem._MenuBarItemMixin;\r\n\r\n\treturn declare(\"dijit.PopupMenuBarItem\", [PopupMenuItem, _MenuBarItemMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tItem in a MenuBar like \"File\" or \"Edit\", that spawns a submenu when pressed (or hovered)\r\n\t});\r\n});\r\n\n\ndefine('dijit/MenuSeparator',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"./_WidgetBase\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_Contained\",\r\n\t\"dojo/text!./templates/MenuSeparator.html\"\r\n], function(declare, dom, _WidgetBase, _TemplatedMixin, _Contained, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/MenuSeparator\r\n\r\n\treturn declare(\"dijit.MenuSeparator\", [_WidgetBase, _TemplatedMixin, _Contained], {\r\n\t\t// summary:\r\n\t\t//\t\tA line between two menu items\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdom.setSelectable(this.domNode, false);\r\n\t\t},\r\n\r\n\t\tisFocusable: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverride to always return false\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn false; // Boolean\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dojo/number',[/*===== \"./_base/declare\", =====*/ \"./_base/lang\", \"./i18n\", \"./i18n!./cldr/nls/number\", \"./string\", \"./regexp\"],\r\n\tfunction(/*===== declare, =====*/ lang, i18n, nlsNumber, dstring, dregexp){\r\n\r\n// module:\r\n//\t\tdojo/number\r\n\r\nvar number = {\r\n\t// summary:\r\n\t//\t\tlocalized formatting and parsing routines for Number\r\n};\r\nlang.setObject(\"dojo.number\", number);\r\n\r\n/*=====\r\nnumber.__FormatOptions = declare(null, {\r\n\t// pattern: String?\r\n\t//\t\toverride [formatting pattern](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n\t//\t\twith this string.  Default value is based on locale.  Overriding this property will defeat\r\n\t//\t\tlocalization.  Literal characters in patterns are not supported.\r\n\t// type: String?\r\n\t//\t\tchoose a format type based on the locale from the following:\r\n\t//\t\tdecimal, scientific (not yet supported), percent, currency. decimal by default.\r\n\t// places: Number?\r\n\t//\t\tfixed number of decimal places to show.  This overrides any\r\n\t//\t\tinformation in the provided pattern.\r\n\t// round: Number?\r\n\t//\t\t5 rounds to nearest .5; 0 rounds to nearest whole (default). -1\r\n\t//\t\tmeans do not round.\r\n\t// locale: String?\r\n\t//\t\toverride the locale used to determine formatting rules\r\n\t// fractional: Boolean?\r\n\t//\t\tIf false, show no decimal places, overriding places and pattern settings.\r\n});\r\n=====*/\r\n\r\nnumber.format = function(/*Number*/ value, /*number.__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tFormat a Number as a String, using locale-specific settings\r\n\t// description:\r\n\t//\t\tCreate a string from a Number using a known localized pattern.\r\n\t//\t\tFormatting patterns appropriate to the locale are chosen from the\r\n\t//\t\t[Common Locale Data Repository](http://unicode.org/cldr) as well as the appropriate symbols and\r\n\t//\t\tdelimiters.\r\n\t//\t\tIf value is Infinity, -Infinity, or is not a valid JavaScript number, return null.\r\n\t// value:\r\n\t//\t\tthe number to be formatted\r\n\r\n\toptions = lang.mixin({}, options || {});\r\n\tvar locale = i18n.normalizeLocale(options.locale),\r\n\t\tbundle = i18n.getLocalization(\"dojo.cldr\", \"number\", locale);\r\n\toptions.customs = bundle;\r\n\tvar pattern = options.pattern || bundle[(options.type || \"decimal\") + \"Format\"];\r\n\tif(isNaN(value) || Math.abs(value) == Infinity){ return null; } // null\r\n\treturn number._applyPattern(value, pattern, options); // String\r\n};\r\n\r\n//number._numberPatternRE = /(?:[#0]*,?)*[#0](?:\\.0*#*)?/; // not precise, but good enough\r\nnumber._numberPatternRE = /[#0,]*[#0](?:\\.0*#*)?/; // not precise, but good enough\r\n\r\nnumber._applyPattern = function(/*Number*/ value, /*String*/ pattern, /*number.__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tApply pattern to format value as a string using options. Gives no\r\n\t//\t\tconsideration to local customs.\r\n\t// value:\r\n\t//\t\tthe number to be formatted.\r\n\t// pattern:\r\n\t//\t\ta pattern string as described by\r\n\t//\t\t[unicode.org TR35](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n\t// options: number.__FormatOptions?\r\n\t//\t\t_applyPattern is usually called via `dojo/number.format()` which\r\n\t//\t\tpopulates an extra property in the options parameter, \"customs\".\r\n\t//\t\tThe customs object specifies group and decimal parameters if set.\r\n\r\n\t//TODO: support escapes\r\n\toptions = options || {};\r\n\tvar group = options.customs.group,\r\n\t\tdecimal = options.customs.decimal,\r\n\t\tpatternList = pattern.split(';'),\r\n\t\tpositivePattern = patternList[0];\r\n\tpattern = patternList[(value < 0) ? 1 : 0] || (\"-\" + positivePattern);\r\n\r\n\t//TODO: only test against unescaped\r\n\tif(pattern.indexOf('%') != -1){\r\n\t\tvalue *= 100;\r\n\t}else if(pattern.indexOf('\\u2030') != -1){\r\n\t\tvalue *= 1000; // per mille\r\n\t}else if(pattern.indexOf('\\u00a4') != -1){\r\n\t\tgroup = options.customs.currencyGroup || group;//mixins instead?\r\n\t\tdecimal = options.customs.currencyDecimal || decimal;// Should these be mixins instead?\r\n\t\tpattern = pattern.replace(/\\u00a4{1,3}/, function(match){\r\n\t\t\tvar prop = [\"symbol\", \"currency\", \"displayName\"][match.length-1];\r\n\t\t\treturn options[prop] || options.currency || \"\";\r\n\t\t});\r\n\t}else if(pattern.indexOf('E') != -1){\r\n\t\tthrow new Error(\"exponential notation not supported\");\r\n\t}\r\n\r\n\t//TODO: support @ sig figs?\r\n\tvar numberPatternRE = number._numberPatternRE;\r\n\tvar numberPattern = positivePattern.match(numberPatternRE);\r\n\tif(!numberPattern){\r\n\t\tthrow new Error(\"unable to find a number expression in pattern: \"+pattern);\r\n\t}\r\n\tif(options.fractional === false){ options.places = 0; }\r\n\treturn pattern.replace(numberPatternRE,\r\n\t\tnumber._formatAbsolute(value, numberPattern[0], {decimal: decimal, group: group, places: options.places, round: options.round}));\r\n};\r\n\r\nnumber.round = function(/*Number*/ value, /*Number?*/ places, /*Number?*/ increment){\r\n\t// summary:\r\n\t//\t\tRounds to the nearest value with the given number of decimal places, away from zero\r\n\t// description:\r\n\t//\t\tRounds to the nearest value with the given number of decimal places, away from zero if equal.\r\n\t//\t\tSimilar to Number.toFixed(), but compensates for browser quirks. Rounding can be done by\r\n\t//\t\tfractional increments also, such as the nearest quarter.\r\n\t//\t\tNOTE: Subject to floating point errors.  See dojox/math/round for experimental workaround.\r\n\t// value:\r\n\t//\t\tThe number to round\r\n\t// places:\r\n\t//\t\tThe number of decimal places where rounding takes place.  Defaults to 0 for whole rounding.\r\n\t//\t\tMust be non-negative.\r\n\t// increment:\r\n\t//\t\tRounds next place to nearest value of increment/10.  10 by default.\r\n\t// example:\r\n\t// |\t>>> number.round(-0.5)\r\n\t// |\t-1\r\n\t// |\t>>> number.round(162.295, 2)\r\n\t// |\t162.29  // note floating point error.  Should be 162.3\r\n\t// |\t>>> number.round(10.71, 0, 2.5)\r\n\t// |\t10.75\r\n\tvar factor = 10 / (increment || 10);\r\n\treturn (factor * +value).toFixed(places) / factor; // Number\r\n};\r\n\r\nif((0.9).toFixed() == 0){\r\n\t// (isIE) toFixed() bug workaround: Rounding fails on IE when most significant digit\r\n\t// is just after the rounding place and is >=5\r\n\tvar round = number.round;\r\n\tnumber.round = function(v, p, m){\r\n\t\tvar d = Math.pow(10, -p || 0), a = Math.abs(v);\r\n\t\tif(!v || a >= d){\r\n\t\t\td = 0;\r\n\t\t}else{\r\n\t\t\ta /= d;\r\n\t\t\tif(a < 0.5 || a >= 0.95){\r\n\t\t\t\td = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn round(v, p, m) + (v > 0 ? d : -d);\r\n\t};\r\n\r\n\t// Use \"doc hint\" so the doc parser ignores this new definition of round(), and uses the one above.\r\n\t/*===== number.round = round; =====*/\r\n}\r\n\r\n/*=====\r\nnumber.__FormatAbsoluteOptions = declare(null, {\r\n\t// decimal: String?\r\n\t//\t\tthe decimal separator\r\n\t// group: String?\r\n\t//\t\tthe group separator\r\n\t// places: Number|String?\r\n\t//\t\tnumber of decimal places.  the range \"n,m\" will format to m places.\r\n\t// round: Number?\r\n\t//\t\t5 rounds to nearest .5; 0 rounds to nearest whole (default). -1\r\n\t//\t\tmeans don't round.\r\n});\r\n=====*/\r\n\r\nnumber._formatAbsolute = function(/*Number*/ value, /*String*/ pattern, /*number.__FormatAbsoluteOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tApply numeric pattern to absolute value using options. Gives no\r\n\t//\t\tconsideration to local customs.\r\n\t// value:\r\n\t//\t\tthe number to be formatted, ignores sign\r\n\t// pattern:\r\n\t//\t\tthe number portion of a pattern (e.g. `#,##0.00`)\r\n\toptions = options || {};\r\n\tif(options.places === true){options.places=0;}\r\n\tif(options.places === Infinity){options.places=6;} // avoid a loop; pick a limit\r\n\r\n\tvar patternParts = pattern.split(\".\"),\r\n\t\tcomma = typeof options.places == \"string\" && options.places.indexOf(\",\"),\r\n\t\tmaxPlaces = options.places;\r\n\tif(comma){\r\n\t\tmaxPlaces = options.places.substring(comma + 1);\r\n\t}else if(!(maxPlaces >= 0)){\r\n\t\tmaxPlaces = (patternParts[1] || []).length;\r\n\t}\r\n\tif(!(options.round < 0)){\r\n\t\tvalue = number.round(value, maxPlaces, options.round);\r\n\t}\r\n\r\n\tvar valueParts = String(Math.abs(value)).split(\".\"),\r\n\t\tfractional = valueParts[1] || \"\";\r\n\tif(patternParts[1] || options.places){\r\n\t\tif(comma){\r\n\t\t\toptions.places = options.places.substring(0, comma);\r\n\t\t}\r\n\t\t// Pad fractional with trailing zeros\r\n\t\tvar pad = options.places !== undefined ? options.places : (patternParts[1] && patternParts[1].lastIndexOf(\"0\") + 1);\r\n\t\tif(pad > fractional.length){\r\n\t\t\tvalueParts[1] = dstring.pad(fractional, pad, '0', true);\r\n\t\t}\r\n\r\n\t\t// Truncate fractional\r\n\t\tif(maxPlaces < fractional.length){\r\n\t\t\tvalueParts[1] = fractional.substr(0, maxPlaces);\r\n\t\t}\r\n\t}else{\r\n\t\tif(valueParts[1]){ valueParts.pop(); }\r\n\t}\r\n\r\n\t// Pad whole with leading zeros\r\n\tvar patternDigits = patternParts[0].replace(',', '');\r\n\tpad = patternDigits.indexOf(\"0\");\r\n\tif(pad != -1){\r\n\t\tpad = patternDigits.length - pad;\r\n\t\tif(pad > valueParts[0].length){\r\n\t\t\tvalueParts[0] = dstring.pad(valueParts[0], pad);\r\n\t\t}\r\n\r\n\t\t// Truncate whole\r\n\t\tif(patternDigits.indexOf(\"#\") == -1){\r\n\t\t\tvalueParts[0] = valueParts[0].substr(valueParts[0].length - pad);\r\n\t\t}\r\n\t}\r\n\r\n\t// Add group separators\r\n\tvar index = patternParts[0].lastIndexOf(','),\r\n\t\tgroupSize, groupSize2;\r\n\tif(index != -1){\r\n\t\tgroupSize = patternParts[0].length - index - 1;\r\n\t\tvar remainder = patternParts[0].substr(0, index);\r\n\t\tindex = remainder.lastIndexOf(',');\r\n\t\tif(index != -1){\r\n\t\t\tgroupSize2 = remainder.length - index - 1;\r\n\t\t}\r\n\t}\r\n\tvar pieces = [];\r\n\tfor(var whole = valueParts[0]; whole;){\r\n\t\tvar off = whole.length - groupSize;\r\n\t\tpieces.push((off > 0) ? whole.substr(off) : whole);\r\n\t\twhole = (off > 0) ? whole.slice(0, off) : \"\";\r\n\t\tif(groupSize2){\r\n\t\t\tgroupSize = groupSize2;\r\n\t\t\tdelete groupSize2;\r\n\t\t}\r\n\t}\r\n\tvalueParts[0] = pieces.reverse().join(options.group || \",\");\r\n\r\n\treturn valueParts.join(options.decimal || \".\");\r\n};\r\n\r\n/*=====\r\nnumber.__RegexpOptions = declare(null, {\r\n\t// pattern: String?\r\n\t//\t\toverride [formatting pattern](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n\t//\t\twith this string.  Default value is based on locale.  Overriding this property will defeat\r\n\t//\t\tlocalization.\r\n\t// type: String?\r\n\t//\t\tchoose a format type based on the locale from the following:\r\n\t//\t\tdecimal, scientific (not yet supported), percent, currency. decimal by default.\r\n\t// locale: String?\r\n\t//\t\toverride the locale used to determine formatting rules\r\n\t// strict: Boolean?\r\n\t//\t\tstrict parsing, false by default.  Strict parsing requires input as produced by the format() method.\r\n\t//\t\tNon-strict is more permissive, e.g. flexible on white space, omitting thousands separators\r\n\t// places: Number|String?\r\n\t//\t\tnumber of decimal places to accept: Infinity, a positive number, or\r\n\t//\t\ta range \"n,m\".  Defined by pattern or Infinity if pattern not provided.\r\n});\r\n=====*/\r\nnumber.regexp = function(/*number.__RegexpOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tBuilds the regular needed to parse a number\r\n\t// description:\r\n\t//\t\tReturns regular expression with positive and negative match, group\r\n\t//\t\tand decimal separators\r\n\treturn number._parseInfo(options).regexp; // String\r\n};\r\n\r\nnumber._parseInfo = function(/*Object?*/ options){\r\n\toptions = options || {};\r\n\tvar locale = i18n.normalizeLocale(options.locale),\r\n\t\tbundle = i18n.getLocalization(\"dojo.cldr\", \"number\", locale),\r\n\t\tpattern = options.pattern || bundle[(options.type || \"decimal\") + \"Format\"],\r\n//TODO: memoize?\r\n\t\tgroup = bundle.group,\r\n\t\tdecimal = bundle.decimal,\r\n\t\tfactor = 1;\r\n\r\n\tif(pattern.indexOf('%') != -1){\r\n\t\tfactor /= 100;\r\n\t}else if(pattern.indexOf('\\u2030') != -1){\r\n\t\tfactor /= 1000; // per mille\r\n\t}else{\r\n\t\tvar isCurrency = pattern.indexOf('\\u00a4') != -1;\r\n\t\tif(isCurrency){\r\n\t\t\tgroup = bundle.currencyGroup || group;\r\n\t\t\tdecimal = bundle.currencyDecimal || decimal;\r\n\t\t}\r\n\t}\r\n\r\n\t//TODO: handle quoted escapes\r\n\tvar patternList = pattern.split(';');\r\n\tif(patternList.length == 1){\r\n\t\tpatternList.push(\"-\" + patternList[0]);\r\n\t}\r\n\r\n\tvar re = dregexp.buildGroupRE(patternList, function(pattern){\r\n\t\tpattern = \"(?:\"+dregexp.escapeString(pattern, '.')+\")\";\r\n\t\treturn pattern.replace(number._numberPatternRE, function(format){\r\n\t\t\tvar flags = {\r\n\t\t\t\tsigned: false,\r\n\t\t\t\tseparator: options.strict ? group : [group,\"\"],\r\n\t\t\t\tfractional: options.fractional,\r\n\t\t\t\tdecimal: decimal,\r\n\t\t\t\texponent: false\r\n\t\t\t\t},\r\n\r\n\t\t\t\tparts = format.split('.'),\r\n\t\t\t\tplaces = options.places;\r\n\r\n\t\t\t// special condition for percent (factor != 1)\r\n\t\t\t// allow decimal places even if not specified in pattern\r\n\t\t\tif(parts.length == 1 && factor != 1){\r\n\t\t\t    parts[1] = \"###\";\r\n\t\t\t}\r\n\t\t\tif(parts.length == 1 || places === 0){\r\n\t\t\t\tflags.fractional = false;\r\n\t\t\t}else{\r\n\t\t\t\tif(places === undefined){ places = options.pattern ? parts[1].lastIndexOf('0') + 1 : Infinity; }\r\n\t\t\t\tif(places && options.fractional == undefined){flags.fractional = true;} // required fractional, unless otherwise specified\r\n\t\t\t\tif(!options.places && (places < parts[1].length)){ places += \",\" + parts[1].length; }\r\n\t\t\t\tflags.places = places;\r\n\t\t\t}\r\n\t\t\tvar groups = parts[0].split(',');\r\n\t\t\tif(groups.length > 1){\r\n\t\t\t\tflags.groupSize = groups.pop().length;\r\n\t\t\t\tif(groups.length > 1){\r\n\t\t\t\t\tflags.groupSize2 = groups.pop().length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"(\"+number._realNumberRegexp(flags)+\")\";\r\n\t\t});\r\n\t}, true);\r\n\r\n\tif(isCurrency){\r\n\t\t// substitute the currency symbol for the placeholder in the pattern\r\n\t\tre = re.replace(/([\\s\\xa0]*)(\\u00a4{1,3})([\\s\\xa0]*)/g, function(match, before, target, after){\r\n\t\t\tvar prop = [\"symbol\", \"currency\", \"displayName\"][target.length-1],\r\n\t\t\t\tsymbol = dregexp.escapeString(options[prop] || options.currency || \"\");\r\n\t\t\tbefore = before ? \"[\\\\s\\\\xa0]\" : \"\";\r\n\t\t\tafter = after ? \"[\\\\s\\\\xa0]\" : \"\";\r\n\t\t\tif(!options.strict){\r\n\t\t\t\tif(before){before += \"*\";}\r\n\t\t\t\tif(after){after += \"*\";}\r\n\t\t\t\treturn \"(?:\"+before+symbol+after+\")?\";\r\n\t\t\t}\r\n\t\t\treturn before+symbol+after;\r\n\t\t});\r\n\t}\r\n\r\n//TODO: substitute localized sign/percent/permille/etc.?\r\n\r\n\t// normalize whitespace and return\r\n\treturn {regexp: re.replace(/[\\xa0 ]/g, \"[\\\\s\\\\xa0]\"), group: group, decimal: decimal, factor: factor}; // Object\r\n};\r\n\r\n/*=====\r\nnumber.__ParseOptions = declare(null, {\r\n\t// pattern: String?\r\n\t//\t\toverride [formatting pattern](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n\t//\t\twith this string.  Default value is based on locale.  Overriding this property will defeat\r\n\t//\t\tlocalization.  Literal characters in patterns are not supported.\r\n\t// type: String?\r\n\t//\t\tchoose a format type based on the locale from the following:\r\n\t//\t\tdecimal, scientific (not yet supported), percent, currency. decimal by default.\r\n\t// locale: String?\r\n\t//\t\toverride the locale used to determine formatting rules\r\n\t// strict: Boolean?\r\n\t//\t\tstrict parsing, false by default.  Strict parsing requires input as produced by the format() method.\r\n\t//\t\tNon-strict is more permissive, e.g. flexible on white space, omitting thousands separators\r\n\t// fractional: Boolean|Array?\r\n\t//\t\tWhether to include the fractional portion, where the number of decimal places are implied by pattern\r\n\t//\t\tor explicit 'places' parameter.  The value [true,false] makes the fractional portion optional.\r\n});\r\n=====*/\r\nnumber.parse = function(/*String*/ expression, /*number.__ParseOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tConvert a properly formatted string to a primitive Number, using\r\n\t//\t\tlocale-specific settings.\r\n\t// description:\r\n\t//\t\tCreate a Number from a string using a known localized pattern.\r\n\t//\t\tFormatting patterns are chosen appropriate to the locale\r\n\t//\t\tand follow the syntax described by\r\n\t//\t\t[unicode.org TR35](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n    \t//\t\tNote that literal characters in patterns are not supported.\r\n\t// expression:\r\n\t//\t\tA string representation of a Number\r\n\tvar info = number._parseInfo(options),\r\n\t\tresults = (new RegExp(\"^\"+info.regexp+\"$\")).exec(expression);\r\n\tif(!results){\r\n\t\treturn NaN; //NaN\r\n\t}\r\n\tvar absoluteMatch = results[1]; // match for the positive expression\r\n\tif(!results[1]){\r\n\t\tif(!results[2]){\r\n\t\t\treturn NaN; //NaN\r\n\t\t}\r\n\t\t// matched the negative pattern\r\n\t\tabsoluteMatch =results[2];\r\n\t\tinfo.factor *= -1;\r\n\t}\r\n\r\n\t// Transform it to something Javascript can parse as a number.  Normalize\r\n\t// decimal point and strip out group separators or alternate forms of whitespace\r\n\tabsoluteMatch = absoluteMatch.\r\n\t\treplace(new RegExp(\"[\"+info.group + \"\\\\s\\\\xa0\"+\"]\", \"g\"), \"\").\r\n\t\treplace(info.decimal, \".\");\r\n\t// Adjust for negative sign, percent, etc. as necessary\r\n\treturn absoluteMatch * info.factor; //Number\r\n};\r\n\r\n/*=====\r\nnumber.__RealNumberRegexpFlags = declare(null, {\r\n\t// places: Number?\r\n\t//\t\tThe integer number of decimal places or a range given as \"n,m\".  If\r\n\t//\t\tnot given, the decimal part is optional and the number of places is\r\n\t//\t\tunlimited.\r\n\t// decimal: String?\r\n\t//\t\tA string for the character used as the decimal point.  Default\r\n\t//\t\tis \".\".\r\n\t// fractional: Boolean|Array?\r\n\t//\t\tWhether decimal places are used.  Can be true, false, or [true,\r\n\t//\t\tfalse].  Default is [true, false] which means optional.\r\n\t// exponent: Boolean|Array?\r\n\t//\t\tExpress in exponential notation.  Can be true, false, or [true,\r\n\t//\t\tfalse]. Default is [true, false], (i.e. will match if the\r\n\t//\t\texponential part is present are not).\r\n\t// eSigned: Boolean|Array?\r\n\t//\t\tThe leading plus-or-minus sign on the exponent.  Can be true,\r\n\t//\t\tfalse, or [true, false].  Default is [true, false], (i.e. will\r\n\t//\t\tmatch if it is signed or unsigned).  flags in regexp.integer can be\r\n\t//\t\tapplied.\r\n});\r\n=====*/\r\n\r\nnumber._realNumberRegexp = function(/*__RealNumberRegexpFlags?*/ flags){\r\n\t// summary:\r\n\t//\t\tBuilds a regular expression to match a real number in exponential\r\n\t//\t\tnotation\r\n\r\n\t// assign default values to missing parameters\r\n\tflags = flags || {};\r\n\t//TODO: use mixin instead?\r\n\tif(!(\"places\" in flags)){ flags.places = Infinity; }\r\n\tif(typeof flags.decimal != \"string\"){ flags.decimal = \".\"; }\r\n\tif(!(\"fractional\" in flags) || /^0/.test(flags.places)){ flags.fractional = [true, false]; }\r\n\tif(!(\"exponent\" in flags)){ flags.exponent = [true, false]; }\r\n\tif(!(\"eSigned\" in flags)){ flags.eSigned = [true, false]; }\r\n\r\n\tvar integerRE = number._integerRegexp(flags),\r\n\t\tdecimalRE = dregexp.buildGroupRE(flags.fractional,\r\n\t\tfunction(q){\r\n\t\t\tvar re = \"\";\r\n\t\t\tif(q && (flags.places!==0)){\r\n\t\t\t\tre = \"\\\\\" + flags.decimal;\r\n\t\t\t\tif(flags.places == Infinity){\r\n\t\t\t\t\tre = \"(?:\" + re + \"\\\\d+)?\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tre += \"\\\\d{\" + flags.places + \"}\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn re;\r\n\t\t},\r\n\t\ttrue\r\n\t);\r\n\r\n\tvar exponentRE = dregexp.buildGroupRE(flags.exponent,\r\n\t\tfunction(q){\r\n\t\t\tif(q){ return \"([eE]\" + number._integerRegexp({ signed: flags.eSigned}) + \")\"; }\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t);\r\n\r\n\tvar realRE = integerRE + decimalRE;\r\n\t// allow for decimals without integers, e.g. .25\r\n\tif(decimalRE){realRE = \"(?:(?:\"+ realRE + \")|(?:\" + decimalRE + \"))\";}\r\n\treturn realRE + exponentRE; // String\r\n};\r\n\r\n/*=====\r\nnumber.__IntegerRegexpFlags = declare(null, {\r\n\t// signed: Boolean?\r\n\t//\t\tThe leading plus-or-minus sign. Can be true, false, or `[true,false]`.\r\n\t//\t\tDefault is `[true, false]`, (i.e. will match if it is signed\r\n\t//\t\tor unsigned).\r\n\t// separator: String?\r\n\t//\t\tThe character used as the thousands separator. Default is no\r\n\t//\t\tseparator. For more than one symbol use an array, e.g. `[\",\", \"\"]`,\r\n\t//\t\tmakes ',' optional.\r\n\t// groupSize: Number?\r\n\t//\t\tgroup size between separators\r\n\t// groupSize2: Number?\r\n\t//\t\tsecond grouping, where separators 2..n have a different interval than the first separator (for India)\r\n});\r\n=====*/\r\n\r\nnumber._integerRegexp = function(/*number.__IntegerRegexpFlags?*/ flags){\r\n\t// summary:\r\n\t//\t\tBuilds a regular expression that matches an integer\r\n\r\n\t// assign default values to missing parameters\r\n\tflags = flags || {};\r\n\tif(!(\"signed\" in flags)){ flags.signed = [true, false]; }\r\n\tif(!(\"separator\" in flags)){\r\n\t\tflags.separator = \"\";\r\n\t}else if(!(\"groupSize\" in flags)){\r\n\t\tflags.groupSize = 3;\r\n\t}\r\n\r\n\tvar signRE = dregexp.buildGroupRE(flags.signed,\r\n\t\tfunction(q){ return q ? \"[-+]\" : \"\"; },\r\n\t\ttrue\r\n\t);\r\n\r\n\tvar numberRE = dregexp.buildGroupRE(flags.separator,\r\n\t\tfunction(sep){\r\n\t\t\tif(!sep){\r\n\t\t\t\treturn \"(?:\\\\d+)\";\r\n\t\t\t}\r\n\r\n\t\t\tsep = dregexp.escapeString(sep);\r\n\t\t\tif(sep == \" \"){ sep = \"\\\\s\"; }\r\n\t\t\telse if(sep == \"\\xa0\"){ sep = \"\\\\s\\\\xa0\"; }\r\n\r\n\t\t\tvar grp = flags.groupSize, grp2 = flags.groupSize2;\r\n\t\t\t//TODO: should we continue to enforce that numbers with separators begin with 1-9?  See #6933\r\n\t\t\tif(grp2){\r\n\t\t\t\tvar grp2RE = \"(?:0|[1-9]\\\\d{0,\" + (grp2-1) + \"}(?:[\" + sep + \"]\\\\d{\" + grp2 + \"})*[\" + sep + \"]\\\\d{\" + grp + \"})\";\r\n\t\t\t\treturn ((grp-grp2) > 0) ? \"(?:\" + grp2RE + \"|(?:0|[1-9]\\\\d{0,\" + (grp-1) + \"}))\" : grp2RE;\r\n\t\t\t}\r\n\t\t\treturn \"(?:0|[1-9]\\\\d{0,\" + (grp-1) + \"}(?:[\" + sep + \"]\\\\d{\" + grp + \"})*)\";\r\n\t\t},\r\n\t\ttrue\r\n\t);\r\n\r\n\treturn signRE + numberRE; // String\r\n};\r\n\r\nreturn number;\r\n});\r\n\n\ndefine('dijit/ProgressBar',[\r\n\t\"require\", // require.toUrl\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/number\", // number.format\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"dojo/text!./templates/ProgressBar.html\"\r\n], function(require, declare, domClass, lang, number, _Widget, _TemplatedMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/ProgressBar\r\n\r\n\treturn declare(\"dijit.ProgressBar\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA progress indication widget, showing the amount completed\r\n\t\t//\t\t(often the percentage completed) of a task.\r\n\r\n\t\t// progress: [const] String (Percentage or Number)\r\n\t\t//\t\tNumber or percentage indicating amount of task completed.\r\n\t\t//\t\tDeprecated.   Use \"value\" instead.\r\n\t\tprogress: \"0\",\r\n\r\n\t\t// value: String (Percentage or Number)\r\n\t\t//\t\tNumber or percentage indicating amount of task completed.\r\n\t\t//\t\tWith \"%\": percentage value, 0% <= progress <= 100%, or\r\n\t\t//\t\twithout \"%\": absolute value, 0 <= progress <= maximum.\r\n\t\t//\t\tInfinity means that the progress bar is indeterminate.\r\n\t\tvalue: \"\",\r\n\r\n\t\t// maximum: [const] Float\r\n\t\t//\t\tMax sample number\r\n\t\tmaximum: 100,\r\n\r\n\t\t// places: [const] Number\r\n\t\t//\t\tNumber of places to show in values; 0 by default\r\n\t\tplaces: 0,\r\n\r\n\t\t// indeterminate: [const] Boolean\r\n\t\t//\t\tIf false: show progress value (number or percentage).\r\n\t\t//\t\tIf true: show that a process is underway but that the amount completed is unknown.\r\n\t\t//\t\tDeprecated.   Use \"value\" instead.\r\n\t\tindeterminate: false,\r\n\r\n\t\t// label: String?\r\n\t\t//\t\tHTML label on progress bar.   Defaults to percentage for determinate progress bar and\r\n\t\t//\t\tblank for indeterminate progress bar.\r\n\t\tlabel: \"\",\r\n\r\n\t\t// name: String\r\n\t\t//\t\tthis is the field name (for a form) if set. This needs to be set if you want to use\r\n\t\t//\t\tthis widget in a dijit/form/Form widget (such as dijit/Dialog)\r\n\t\tname: '',\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// _indeterminateHighContrastImagePath: [private] URL\r\n\t\t//\t\tURL to image to use for indeterminate progress bar when display is in high contrast mode\r\n\t\t_indeterminateHighContrastImagePath: require.toUrl(\"./themes/a11y/indeterminate_progress.gif\"),\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Back-compat for when constructor specifies indeterminate or progress, rather than value.   Remove for 2.0.\r\n\t\t\tif(!(this.params && \"value\" in this.params)){\r\n\t\t\t\tthis.value = this.indeterminate ? Infinity : this.progress;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.indeterminateHighContrastImage.setAttribute(\"src\",\r\n\t\t\t\tthis._indeterminateHighContrastImagePath.toString());\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\t_setDirAttr: function(val){\r\n\t\t\t// Normally _CssStateMixin takes care of this, but we aren't extending it\r\n\t\t\tvar rtl = val.toLowerCase() == \"rtl\";\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitProgressBarRtl\", rtl);\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitProgressBarIndeterminateRtl\", this.indeterminate && rtl);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tupdate: function(/*Object?*/attributes){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method to change attributes of ProgressBar, similar to set(hash).  Users should call\r\n\t\t\t//\t\tset(\"value\", ...) rather than calling this method directly.\r\n\t\t\t// attributes:\r\n\t\t\t//\t\tMay provide progress and/or maximum properties on this parameter;\r\n\t\t\t//\t\tsee attribute specs for details.\r\n\t\t\t// example:\r\n\t\t\t//\t|\tmyProgressBar.update({'indeterminate': true});\r\n\t\t\t//\t|\tmyProgressBar.update({'progress': 80});\r\n\t\t\t//\t|\tmyProgressBar.update({'indeterminate': true, label:\"Loading ...\" })\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// TODO: deprecate this method and use set() instead\r\n\r\n\t\t\tlang.mixin(this, attributes || {});\r\n\t\t\tvar tip = this.internalProgress, ap = this.domNode;\r\n\t\t\tvar percent = 1;\r\n\t\t\tif(this.indeterminate){\r\n\t\t\t\tap.removeAttribute(\"aria-valuenow\");\r\n\t\t\t}else{\r\n\t\t\t\tif(String(this.progress).indexOf(\"%\") != -1){\r\n\t\t\t\t\tpercent = Math.min(parseFloat(this.progress) / 100, 1);\r\n\t\t\t\t\tthis.progress = percent * this.maximum;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.progress = Math.min(this.progress, this.maximum);\r\n\t\t\t\t\tpercent = this.maximum ? this.progress / this.maximum : 0;\r\n\t\t\t\t}\r\n\t\t\t\tap.setAttribute(\"aria-valuenow\", this.progress);\r\n\t\t\t}\r\n\r\n\t\t\t// Even indeterminate ProgressBars should have these attributes\r\n\t\t\tap.setAttribute(\"aria-labelledby\", this.labelNode.id);\r\n\t\t\tap.setAttribute(\"aria-valuemin\", 0);\r\n\t\t\tap.setAttribute(\"aria-valuemax\", this.maximum);\r\n\r\n\t\t\tthis.labelNode.innerHTML = this.report(percent);\r\n\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitProgressBarIndeterminate\", this.indeterminate);\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitProgressBarIndeterminateRtl\", this.indeterminate && !this.isLeftToRight());\r\n\r\n\t\t\ttip.style.width = (percent * 100) + \"%\";\r\n\t\t\tthis.onChange();\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(v){\r\n\t\t\tthis._set(\"value\", v);\r\n\t\t\tif(v == Infinity){\r\n\t\t\t\tthis.update({indeterminate: true});\r\n\t\t\t}else{\r\n\t\t\t\tthis.update({indeterminate: false, progress: v});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setLabelAttr: function(label){\r\n\t\t\tthis._set(\"label\", label);\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\t_setIndeterminateAttr: function(indeterminate){\r\n\t\t\t// Deprecated, use set(\"value\", ...) instead\r\n\t\t\tthis._set(\"indeterminate\", indeterminate);\r\n\t\t\tthis.update();\r\n\t\t},\r\n\r\n\t\treport: function(/*float*/percent){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGenerates HTML message to show inside progress bar (normally indicating amount of task completed).\r\n\t\t\t//\t\tMay be overridden.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\treturn this.label ? this.label :\r\n\t\t\t\t(this.indeterminate ? \"&#160;\" : number.format(percent, { type: \"percent\", places: this.places, locale: this.lang }));\r\n\t\t},\r\n\r\n\t\tonChange: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback fired when progress updates.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/fx',[\r\n\t\"./_base/lang\",\r\n\t\"./Evented\",\r\n\t\"./_base/kernel\",\r\n\t\"./_base/array\",\r\n\t\"./aspect\",\r\n\t\"./_base/fx\",\r\n\t\"./dom\",\r\n\t\"./dom-style\",\r\n\t\"./dom-geometry\",\r\n\t\"./ready\",\r\n\t\"require\" // for context sensitive loading of Toggler\r\n], function(lang, Evented, dojo, arrayUtil, aspect, baseFx, dom, domStyle, geom, ready, require){\r\n\r\n\t// module:\r\n\t//\t\tdojo/fx\r\n\t\r\n\t// For back-compat, remove in 2.0.\r\n\tif(!dojo.isAsync){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"./fx/Toggler\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\tvar coreFx = dojo.fx = {\r\n\t\t// summary:\r\n\t\t//\t\tEffects library on top of Base animations\r\n\t};\r\n\r\n\tvar _baseObj = {\r\n\t\t\t_fire: function(evt, args){\r\n\t\t\t\tif(this[evt]){\r\n\t\t\t\t\tthis[evt].apply(this, args||[]);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\tvar _chain = function(animations){\r\n\t\tthis._index = -1;\r\n\t\tthis._animations = animations||[];\r\n\t\tthis._current = this._onAnimateCtx = this._onEndCtx = null;\r\n\r\n\t\tthis.duration = 0;\r\n\t\tarrayUtil.forEach(this._animations, function(a){\r\n\t\t\tthis.duration += a.duration;\r\n\t\t\tif(a.delay){ this.duration += a.delay; }\r\n\t\t}, this);\r\n\t};\r\n\t_chain.prototype = new Evented();\r\n\tlang.extend(_chain, {\r\n\t\t_onAnimate: function(){\r\n\t\t\tthis._fire(\"onAnimate\", arguments);\r\n\t\t},\r\n\t\t_onEnd: function(){\r\n\t\t\tthis._onAnimateCtx.remove();\r\n\t\t\tthis._onEndCtx.remove();\r\n\t\t\tthis._onAnimateCtx = this._onEndCtx = null;\r\n\t\t\tif(this._index + 1 == this._animations.length){\r\n\t\t\t\tthis._fire(\"onEnd\");\r\n\t\t\t}else{\r\n\t\t\t\t// switch animations\r\n\t\t\t\tthis._current = this._animations[++this._index];\r\n\t\t\t\tthis._onAnimateCtx = aspect.after(this._current, \"onAnimate\", lang.hitch(this, \"_onAnimate\"), true);\r\n\t\t\t\tthis._onEndCtx = aspect.after(this._current, \"onEnd\", lang.hitch(this, \"_onEnd\"), true);\r\n\t\t\t\tthis._current.play(0, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tplay: function(/*int?*/ delay, /*Boolean?*/ gotoStart){\r\n\t\t\tif(!this._current){ this._current = this._animations[this._index = 0]; }\r\n\t\t\tif(!gotoStart && this._current.status() == \"playing\"){ return this; }\r\n\t\t\tvar beforeBegin = aspect.after(this._current, \"beforeBegin\", lang.hitch(this, function(){\r\n\t\t\t\t\tthis._fire(\"beforeBegin\");\r\n\t\t\t\t}), true),\r\n\t\t\t\tonBegin = aspect.after(this._current, \"onBegin\", lang.hitch(this, function(arg){\r\n\t\t\t\t\tthis._fire(\"onBegin\", arguments);\r\n\t\t\t\t}), true),\r\n\t\t\t\tonPlay = aspect.after(this._current, \"onPlay\", lang.hitch(this, function(arg){\r\n\t\t\t\t\tthis._fire(\"onPlay\", arguments);\r\n\t\t\t\t\tbeforeBegin.remove();\r\n\t\t\t\t\tonBegin.remove();\r\n\t\t\t\t\tonPlay.remove();\r\n\t\t\t\t}));\r\n\t\t\tif(this._onAnimateCtx){\r\n\t\t\t\tthis._onAnimateCtx.remove();\r\n\t\t\t}\r\n\t\t\tthis._onAnimateCtx = aspect.after(this._current, \"onAnimate\", lang.hitch(this, \"_onAnimate\"), true);\r\n\t\t\tif(this._onEndCtx){\r\n\t\t\t\tthis._onEndCtx.remove();\r\n\t\t\t}\r\n\t\t\tthis._onEndCtx = aspect.after(this._current, \"onEnd\", lang.hitch(this, \"_onEnd\"), true);\r\n\t\t\tthis._current.play.apply(this._current, arguments);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tpause: function(){\r\n\t\t\tif(this._current){\r\n\t\t\t\tvar e = aspect.after(this._current, \"onPause\", lang.hitch(this, function(arg){\r\n\t\t\t\t\t\tthis._fire(\"onPause\", arguments);\r\n\t\t\t\t\t\te.remove();\r\n\t\t\t\t\t}), true);\r\n\t\t\t\tthis._current.pause();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tgotoPercent: function(/*Decimal*/percent, /*Boolean?*/ andPlay){\r\n\t\t\tthis.pause();\r\n\t\t\tvar offset = this.duration * percent;\r\n\t\t\tthis._current = null;\r\n\r\n\t\t\tarrayUtil.some(this._animations, function(a, index){\r\n\t\t\t\tif(offset <= a.duration){\r\n\t\t\t\t\tthis._current = a;\r\n\t\t\t\t\tthis._index = index;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\toffset -= a.duration;\r\n\t\t\t\treturn false;\r\n\t\t\t}, this);\r\n\t\t\tif(this._current){\r\n\t\t\t\tthis._current.gotoPercent(offset / this._current.duration);\r\n\t\t\t}\r\n\t\t\tif (andPlay) { this.play(); }\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tstop: function(/*boolean?*/ gotoEnd){\r\n\t\t\tif(this._current){\r\n\t\t\t\tif(gotoEnd){\r\n\t\t\t\t\tfor(; this._index + 1 < this._animations.length; ++this._index){\r\n\t\t\t\t\t\tthis._animations[this._index].stop(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._current = this._animations[this._index];\r\n\t\t\t\t}\r\n\t\t\t\tvar e = aspect.after(this._current, \"onStop\", lang.hitch(this, function(arg){\r\n\t\t\t\t\t\tthis._fire(\"onStop\", arguments);\r\n\t\t\t\t\t\te.remove();\r\n\t\t\t\t\t}), true);\r\n\t\t\t\tthis._current.stop();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tstatus: function(){\r\n\t\t\treturn this._current ? this._current.status() : \"stopped\";\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\tthis.stop();\r\n\t\t\tif(this._onAnimateCtx){ this._onAnimateCtx.remove(); }\r\n\t\t\tif(this._onEndCtx){ this._onEndCtx.remove(); }\r\n\t\t}\r\n\t});\r\n\tlang.extend(_chain, _baseObj);\r\n\r\n\tcoreFx.chain = function(/*dojo/_base/fx.Animation[]*/ animations){\r\n\t\t// summary:\r\n\t\t//\t\tChain a list of `dojo/_base/fx.Animation`s to run in sequence\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tReturn a `dojo/_base/fx.Animation` which will play all passed\r\n\t\t//\t\t`dojo/_base/fx.Animation` instances in sequence, firing its own\r\n\t\t//\t\tsynthesized events simulating a single animation. (eg:\r\n\t\t//\t\tonEnd of this animation means the end of the chain,\r\n\t\t//\t\tnot the individual animations within)\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tOnce `node` is faded out, fade in `otherNode`\r\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\r\n\t\t//\t|\t\tfx.chain([\r\n\t\t//\t|\t\t\tfx.fadeIn({ node:node }),\r\n\t\t//\t|\t\t\tfx.fadeOut({ node:otherNode })\r\n\t\t//\t|\t\t]).play();\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\treturn new _chain(animations); // dojo/_base/fx.Animation\r\n\t};\r\n\r\n\tvar _combine = function(animations){\r\n\t\tthis._animations = animations||[];\r\n\t\tthis._connects = [];\r\n\t\tthis._finished = 0;\r\n\r\n\t\tthis.duration = 0;\r\n\t\tarrayUtil.forEach(animations, function(a){\r\n\t\t\tvar duration = a.duration;\r\n\t\t\tif(a.delay){ duration += a.delay; }\r\n\t\t\tif(this.duration < duration){ this.duration = duration; }\r\n\t\t\tthis._connects.push(aspect.after(a, \"onEnd\", lang.hitch(this, \"_onEnd\"), true));\r\n\t\t}, this);\r\n\r\n\t\tthis._pseudoAnimation = new baseFx.Animation({curve: [0, 1], duration: this.duration});\r\n\t\tvar self = this;\r\n\t\tarrayUtil.forEach([\"beforeBegin\", \"onBegin\", \"onPlay\", \"onAnimate\", \"onPause\", \"onStop\", \"onEnd\"],\r\n\t\t\tfunction(evt){\r\n\t\t\t\tself._connects.push(aspect.after(self._pseudoAnimation, evt,\r\n\t\t\t\t\tfunction(){ self._fire(evt, arguments); },\r\n\t\t\t\ttrue));\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\tlang.extend(_combine, {\r\n\t\t_doAction: function(action, args){\r\n\t\t\tarrayUtil.forEach(this._animations, function(a){\r\n\t\t\t\ta[action].apply(a, args);\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_onEnd: function(){\r\n\t\t\tif(++this._finished > this._animations.length){\r\n\t\t\t\tthis._fire(\"onEnd\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t_call: function(action, args){\r\n\t\t\tvar t = this._pseudoAnimation;\r\n\t\t\tt[action].apply(t, args);\r\n\t\t},\r\n\t\tplay: function(/*int?*/ delay, /*Boolean?*/ gotoStart){\r\n\t\t\tthis._finished = 0;\r\n\t\t\tthis._doAction(\"play\", arguments);\r\n\t\t\tthis._call(\"play\", arguments);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tpause: function(){\r\n\t\t\tthis._doAction(\"pause\", arguments);\r\n\t\t\tthis._call(\"pause\", arguments);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tgotoPercent: function(/*Decimal*/percent, /*Boolean?*/ andPlay){\r\n\t\t\tvar ms = this.duration * percent;\r\n\t\t\tarrayUtil.forEach(this._animations, function(a){\r\n\t\t\t\ta.gotoPercent(a.duration < ms ? 1 : (ms / a.duration), andPlay);\r\n\t\t\t});\r\n\t\t\tthis._call(\"gotoPercent\", arguments);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tstop: function(/*boolean?*/ gotoEnd){\r\n\t\t\tthis._doAction(\"stop\", arguments);\r\n\t\t\tthis._call(\"stop\", arguments);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tstatus: function(){\r\n\t\t\treturn this._pseudoAnimation.status();\r\n\t\t},\r\n\t\tdestroy: function(){\r\n\t\t\tthis.stop();\r\n\t\t\tarrayUtil.forEach(this._connects, function(handle){\r\n\t\t\t\thandle.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\tlang.extend(_combine, _baseObj);\r\n\r\n\tcoreFx.combine = function(/*dojo/_base/fx.Animation[]*/ animations){\r\n\t\t// summary:\r\n\t\t//\t\tCombine a list of `dojo/_base/fx.Animation`s to run in parallel\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tCombine an array of `dojo/_base/fx.Animation`s to run in parallel,\r\n\t\t//\t\tproviding a new `dojo/_base/fx.Animation` instance encompasing each\r\n\t\t//\t\tanimation, firing standard animation events.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tFade out `node` while fading in `otherNode` simultaneously\r\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\r\n\t\t//\t|\t\tfx.combine([\r\n\t\t//\t|\t\t\tfx.fadeIn({ node:node }),\r\n\t\t//\t|\t\t\tfx.fadeOut({ node:otherNode })\r\n\t\t//\t|\t\t]).play();\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\tWhen the longest animation ends, execute a function:\r\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\r\n\t\t//\t|\t\tvar anim = fx.combine([\r\n\t\t//\t|\t\t\tfx.fadeIn({ node: n, duration:700 }),\r\n\t\t//\t|\t\t\tfx.fadeOut({ node: otherNode, duration: 300 })\r\n\t\t//\t|\t\t]);\r\n\t\t//\t|\t\taspect.after(anim, \"onEnd\", function(){\r\n\t\t//\t|\t\t\t// overall animation is done.\r\n\t\t//\t|\t\t}, true);\r\n\t\t//\t|\t\tanim.play(); // play the animation\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\treturn new _combine(animations); // dojo/_base/fx.Animation\r\n\t};\r\n\r\n\tcoreFx.wipeIn = function(/*Object*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tExpand a node to it's natural height.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tReturns an animation that will expand the\r\n\t\t//\t\tnode defined in 'args' object from it's current height to\r\n\t\t//\t\tit's natural height (with no scrollbar).\r\n\t\t//\t\tNode must have no margin/border/padding.\r\n\t\t//\r\n\t\t// args: Object\r\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\r\n\t\t//\t\t(such as easing: node: duration: and so on)\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\r\n\t\t//\t|\t\tfx.wipeIn({\r\n\t\t//\t|\t\t\tnode:\"someId\"\r\n\t\t//\t|\t\t}).play()\r\n\t\t//\t|\t});\r\n\r\n\t\tvar node = args.node = dom.byId(args.node), s = node.style, o;\r\n\r\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\r\n\t\t\tproperties: {\r\n\t\t\t\theight: {\r\n\t\t\t\t\t// wrapped in functions so we wait till the last second to query (in case value has changed)\r\n\t\t\t\t\tstart: function(){\r\n\t\t\t\t\t\t// start at current [computed] height, but use 1px rather than 0\r\n\t\t\t\t\t\t// because 0 causes IE to display the whole panel\r\n\t\t\t\t\t\to = s.overflow;\r\n\t\t\t\t\t\ts.overflow = \"hidden\";\r\n\t\t\t\t\t\tif(s.visibility == \"hidden\" || s.display == \"none\"){\r\n\t\t\t\t\t\t\ts.height = \"1px\";\r\n\t\t\t\t\t\t\ts.display = \"\";\r\n\t\t\t\t\t\t\ts.visibility = \"\";\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tvar height = domStyle.get(node, \"height\");\r\n\t\t\t\t\t\t\treturn Math.max(height, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tend: function(){\r\n\t\t\t\t\t\treturn node.scrollHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, args));\r\n\r\n\t\tvar fini = function(){\r\n\t\t\ts.height = \"auto\";\r\n\t\t\ts.overflow = o;\r\n\t\t};\r\n\t\taspect.after(anim, \"onStop\", fini, true);\r\n\t\taspect.after(anim, \"onEnd\", fini, true);\r\n\r\n\t\treturn anim; // dojo/_base/fx.Animation\r\n\t};\r\n\r\n\tcoreFx.wipeOut = function(/*Object*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tShrink a node to nothing and hide it.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tReturns an animation that will shrink node defined in \"args\"\r\n\t\t//\t\tfrom it's current height to 1px, and then hide it.\r\n\t\t//\r\n\t\t// args: Object\r\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\r\n\t\t//\t\t(such as easing: node: duration: and so on)\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\r\n\t\t//\t|\t\tfx.wipeOut({ node:\"someId\" }).play()\r\n\t\t//\t|\t});\r\n\r\n\t\tvar node = args.node = dom.byId(args.node), s = node.style, o;\r\n\r\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\r\n\t\t\tproperties: {\r\n\t\t\t\theight: {\r\n\t\t\t\t\tend: 1 // 0 causes IE to display the whole panel\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, args));\r\n\r\n\t\taspect.after(anim, \"beforeBegin\", function(){\r\n\t\t\to = s.overflow;\r\n\t\t\ts.overflow = \"hidden\";\r\n\t\t\ts.display = \"\";\r\n\t\t}, true);\r\n\t\tvar fini = function(){\r\n\t\t\ts.overflow = o;\r\n\t\t\ts.height = \"auto\";\r\n\t\t\ts.display = \"none\";\r\n\t\t};\r\n\t\taspect.after(anim, \"onStop\", fini, true);\r\n\t\taspect.after(anim, \"onEnd\", fini, true);\r\n\r\n\t\treturn anim; // dojo/_base/fx.Animation\r\n\t};\r\n\r\n\tcoreFx.slideTo = function(/*Object*/ args){\r\n\t\t// summary:\r\n\t\t//\t\tSlide a node to a new top/left position\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tReturns an animation that will slide \"node\"\r\n\t\t//\t\tdefined in args Object from its current position to\r\n\t\t//\t\tthe position defined by (args.left, args.top).\r\n\t\t//\r\n\t\t// args: Object\r\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\r\n\t\t//\t\t(such as easing: node: duration: and so on). Special args members\r\n\t\t//\t\tare `top` and `left`, which indicate the new position to slide to.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t.slideTo({ node: node, left:\"40\", top:\"50\", units:\"px\" }).play()\r\n\r\n\t\tvar node = args.node = dom.byId(args.node),\r\n\t\t\ttop = null, left = null;\r\n\r\n\t\tvar init = (function(n){\r\n\t\t\treturn function(){\r\n\t\t\t\tvar cs = domStyle.getComputedStyle(n);\r\n\t\t\t\tvar pos = cs.position;\r\n\t\t\t\ttop = (pos == 'absolute' ? n.offsetTop : parseInt(cs.top) || 0);\r\n\t\t\t\tleft = (pos == 'absolute' ? n.offsetLeft : parseInt(cs.left) || 0);\r\n\t\t\t\tif(pos != 'absolute' && pos != 'relative'){\r\n\t\t\t\t\tvar ret = geom.position(n, true);\r\n\t\t\t\t\ttop = ret.y;\r\n\t\t\t\t\tleft = ret.x;\r\n\t\t\t\t\tn.style.position=\"absolute\";\r\n\t\t\t\t\tn.style.top=top+\"px\";\r\n\t\t\t\t\tn.style.left=left+\"px\";\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(node);\r\n\t\tinit();\r\n\r\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\r\n\t\t\tproperties: {\r\n\t\t\t\ttop: args.top || 0,\r\n\t\t\t\tleft: args.left || 0\r\n\t\t\t}\r\n\t\t}, args));\r\n\t\taspect.after(anim, \"beforeBegin\", init, true);\r\n\r\n\t\treturn anim; // dojo/_base/fx.Animation\r\n\t};\r\n\r\n\treturn coreFx;\r\n});\r\n\n\ndefine('dijit/TitlePane',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-attr\", // domAttr.set or get domAttr.remove\r\n\t\"dojo/dom-class\", // domClass.replace\r\n\t\"dojo/dom-geometry\", // domGeometry.setMarginBox domGeometry.getMarginBox\r\n\t\"dojo/fx\", // fxUtils.wipeIn fxUtils.wipeOut\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.ENTER\r\n\t\"./_CssStateMixin\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./layout/ContentPane\",\r\n\t\"dojo/text!./templates/TitlePane.html\",\r\n\t\"./_base/manager\",    // defaultDuration\r\n\t\"./a11yclick\"\t// template uses ondijitclick\r\n], function(array, declare, dom, domAttr, domClass, domGeometry, fxUtils, has, kernel, keys,\r\n\t\t\t_CssStateMixin, _TemplatedMixin, ContentPane, template, manager){\r\n\r\n\t// module:\r\n\t//\t\tdijit/TitlePane\r\n\r\n\tvar TitlePane = declare(\"dijit.TitlePane\", [ContentPane, _TemplatedMixin, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA pane with a title on top, that can be expanded or collapsed.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tAn accessible container with a title Heading, and a content\r\n\t\t//\t\tsection that slides open and closed. TitlePane is an extension to\r\n\t\t//\t\t`dijit/layout/ContentPane`, providing all the useful content-control aspects from it.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// load a TitlePane from remote file:\r\n\t\t//\t|\tvar foo = new dijit.TitlePane({ href: \"foobar.html\", title:\"Title\" });\r\n\t\t//\t|\tfoo.startup();\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t<!-- markup href example: -->\r\n\t\t//\t|\t<div data-dojo-type=\"dijit/TitlePane\" data-dojo-props=\"href: 'foobar.html', title: 'Title'\"></div>\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t<!-- markup with inline data -->\r\n\t\t//\t|\t<div data-dojo-type=\"dijit/TitlePane\" title=\"Title\">\r\n\t\t//\t|\t\t<p>I am content</p>\r\n\t\t//\t|\t</div>\r\n\r\n\t\t// title: String\r\n\t\t//\t\tTitle of the pane\r\n\t\ttitle: \"\",\r\n\t\t_setTitleAttr: { node: \"titleNode\", type: \"innerHTML\" }, // override default where title becomes a hover tooltip\r\n\r\n\t\t// open: Boolean\r\n\t\t//\t\tWhether pane is opened or closed.\r\n\t\topen: true,\r\n\r\n\t\t// toggleable: Boolean\r\n\t\t//\t\tWhether pane can be opened or closed by clicking the title bar.\r\n\t\ttoggleable: true,\r\n\r\n\t\t// tabIndex: String\r\n\t\t//\t\tTabindex setting for the title (so users can tab to the title then\r\n\t\t//\t\tuse space/enter to open/close the title pane)\r\n\t\ttabIndex: \"0\",\r\n\r\n\t\t// duration: Integer\r\n\t\t//\t\tTime in milliseconds to fade in/fade out\r\n\t\tduration: manager.defaultDuration,\r\n\r\n\t\t// baseClass: [protected] String\r\n\t\t//\t\tThe root className to be placed on this widget's domNode.\r\n\t\tbaseClass: \"dijitTitlePane\",\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// doLayout: [protected] Boolean\r\n\t\t//\t\tDon't change this parameter from the default value.\r\n\t\t//\t\tThis ContentPane parameter doesn't make sense for TitlePane, since TitlePane\r\n\t\t//\t\tis never a child of a layout container, nor should TitlePane try to control\r\n\t\t//\t\tthe size of an inner widget.\r\n\t\tdoLayout: false,\r\n\r\n\t\t// Tooltip is defined in _WidgetBase but we need to handle the mapping to DOM here\r\n\t\t_setTooltipAttr: {node: \"focusNode\", type: \"attribute\", attribute: \"title\"}, // focusNode spans the entire width, titleNode doesn't\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdom.setSelectable(this.titleNode, false);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Hover and focus effect on title bar, except for non-toggleable TitlePanes\r\n\t\t\t// This should really be controlled from _setToggleableAttr() but _CssStateMixin\r\n\t\t\t// doesn't provide a way to disconnect a previous _trackMouseState() call\r\n\t\t\tif(this.toggleable){\r\n\t\t\t\tthis._trackMouseState(this.titleBarNode, this.baseClass + \"Title\");\r\n\t\t\t}\r\n\r\n\t\t\t// setup open/close animations\r\n\t\t\tvar hideNode = this.hideNode, wipeNode = this.wipeNode;\r\n\t\t\tthis._wipeIn = fxUtils.wipeIn({\r\n\t\t\t\tnode: wipeNode,\r\n\t\t\t\tduration: this.duration,\r\n\t\t\t\tbeforeBegin: function(){\r\n\t\t\t\t\thideNode.style.display = \"\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._wipeOut = fxUtils.wipeOut({\r\n\t\t\t\tnode: wipeNode,\r\n\t\t\t\tduration: this.duration,\r\n\t\t\t\tonEnd: function(){\r\n\t\t\t\t\thideNode.style.display = \"none\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setOpenAttr: function(/*Boolean*/ open, /*Boolean*/ animate){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"open\", boolean) control the open/closed state of the pane.\r\n\t\t\t// open: Boolean\r\n\t\t\t//\t\tTrue if you want to open the pane, false if you want to close it.\r\n\r\n\t\t\tarray.forEach([this._wipeIn, this._wipeOut], function(animation){\r\n\t\t\t\tif(animation && animation.status() == \"playing\"){\r\n\t\t\t\t\tanimation.stop();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(animate){\r\n\t\t\t\tvar anim = this[open ? \"_wipeIn\" : \"_wipeOut\"];\r\n\t\t\t\tanim.play();\r\n\t\t\t}else{\r\n\t\t\t\tthis.hideNode.style.display = this.wipeNode.style.display = open ? \"\" : \"none\";\r\n\t\t\t}\r\n\r\n\t\t\t// load content (if this is the first time we are opening the TitlePane\r\n\t\t\t// and content is specified as an href, or href was set when hidden)\r\n\t\t\tif(this._started){\r\n\t\t\t\tif(open){\r\n\t\t\t\t\tthis._onShow();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.onHide();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.containerNode.setAttribute(\"aria-hidden\", open ? \"false\" : \"true\");\r\n\t\t\tthis.focusNode.setAttribute(\"aria-pressed\", open ? \"true\" : \"false\");\r\n\r\n\t\t\tthis._set(\"open\", open);\r\n\r\n\t\t\tthis._setCss();\r\n\t\t},\r\n\r\n\t\t_setToggleableAttr: function(/*Boolean*/ canToggle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"toggleable\", boolean) work.\r\n\t\t\t// canToggle: Boolean\r\n\t\t\t//\t\tTrue to allow user to open/close pane by clicking title bar.\r\n\r\n\t\t\tthis.focusNode.setAttribute(\"role\", canToggle ? \"button\" : \"heading\");\r\n\t\t\tif(canToggle){\r\n\t\t\t\tthis.focusNode.setAttribute(\"aria-controls\", this.id + \"_pane\");\r\n\t\t\t\tthis.focusNode.setAttribute(\"tabIndex\", this.tabIndex);\r\n\t\t\t\tthis.focusNode.setAttribute(\"aria-pressed\", this.open);\r\n\t\t\t}else{\r\n\t\t\t\tdomAttr.remove(this.focusNode, \"aria-controls\");\r\n\t\t\t\tdomAttr.remove(this.focusNode, \"tabIndex\");\r\n\t\t\t\tdomAttr.remove(this.focusNode, \"aria-pressed\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._set(\"toggleable\", canToggle);\r\n\r\n\t\t\tthis._setCss();\r\n\t\t},\r\n\r\n\t\t_setContentAttr: function(/*String|DomNode|Nodelist*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"content\", ...) work.\r\n\t\t\t//\t\tTypically called when an href is loaded.  Our job is to make the animation smooth.\r\n\r\n\t\t\tif(!this.open || !this._wipeOut || this._wipeOut.status() == \"playing\"){\r\n\t\t\t\t// we are currently *closing* the pane (or the pane is closed), so just let that continue\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}else{\r\n\t\t\t\tif(this._wipeIn && this._wipeIn.status() == \"playing\"){\r\n\t\t\t\t\tthis._wipeIn.stop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// freeze container at current height so that adding new content doesn't make it jump\r\n\t\t\t\tdomGeometry.setMarginBox(this.wipeNode, { h: domGeometry.getMarginBox(this.wipeNode).h });\r\n\r\n\t\t\t\t// add the new content (erasing the old content, if any)\r\n\t\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t\t// call _wipeIn.play() to animate from current height to new height\r\n\t\t\t\tif(this._wipeIn){\r\n\t\t\t\t\tthis._wipeIn.play();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.hideNode.style.display = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttoggle: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSwitches between opened and closed state\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis._setOpenAttr(!this.open, true);\r\n\t\t},\r\n\r\n\t\t_setCss: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the open/close css state for the TitlePane\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar node = this.titleBarNode || this.focusNode;\r\n\t\t\tvar oldCls = this._titleBarClass;\r\n\t\t\tthis._titleBarClass = this.baseClass + \"Title\" + (this.toggleable ? \"\" : \"Fixed\") + (this.open ? \"Open\" : \"Closed\");\r\n\t\t\tdomClass.replace(node, this._titleBarClass, oldCls || \"\");\r\n\r\n\t\t\t// Back compat, remove for 2.0\r\n\t\t\tdomClass.replace(node, this._titleBarClass.replace(\"TitlePaneTitle\", \"\"), (oldCls || \"\").replace(\"TitlePaneTitle\", \"\"));\r\n\r\n\t\t\tthis.arrowNodeInner.innerHTML = this.open ? \"-\" : \"+\";\r\n\t\t},\r\n\r\n\t\t_onTitleKey: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when user hits a key\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(e.keyCode == keys.DOWN_ARROW && this.open){\r\n\t\t\t\tthis.containerNode.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onTitleClick: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler when user clicks the title bar\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.toggleable){\r\n\t\t\t\tthis.toggle();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetTitle: function(/*String*/ title){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Use set('title', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set(\"title\", title);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTitlePane.extend({\r\n\t\t\t_setTitleAttr: function(/*String*/ title){\r\n\t\t\t\t// Override default where title becomes a hover tooltip\r\n\t\t\t\tthis._set(\"title\", title);\r\n\t\t\t\tthis.titleNode.innerHTML = title;\r\n\t\t\t\tthis.applyTextDir(this.titleNode);\r\n\t\t\t},\r\n\r\n\t\t\t_setTooltipAttr: function(/*String*/ tooltip){\r\n\t\t\t\tthis._set(\"tooltip\", tooltip);\r\n\t\t\t\tif(this.textDir){\r\n\t\t\t\t\ttooltip = this.enforceTextDirWithUcc(null, tooltip);\r\n\t\t\t\t}\r\n\t\t\t\tdomAttr.set(this.focusNode, \"title\", tooltip);\t\t\t// focusNode spans the entire width, titleNode doesn't\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\tif(this._created && this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tthis.set(\"title\", this.title);\r\n\t\t\t\t\tthis.set(\"tooltip\", this.tooltip);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn TitlePane;\r\n});\r\n\ndefine('dojo/cookie',[\"./_base/kernel\", \"./regexp\"], function(dojo, regexp){\r\n\r\n// module:\r\n//\t\tdojo/cookie\r\n\r\n/*=====\r\nvar __cookieProps = {\r\n\t// expires: Date|String|Number?\r\n\t//\t\tIf a number, the number of days from today at which the cookie\r\n\t//\t\twill expire. If a date, the date past which the cookie will expire.\r\n\t//\t\tIf expires is in the past, the cookie will be deleted.\r\n\t//\t\tIf expires is omitted or is 0, the cookie will expire when the browser closes.\r\n\t// path: String?\r\n\t//\t\tThe path to use for the cookie.\r\n\t// domain: String?\r\n\t//\t\tThe domain to use for the cookie.\r\n\t// secure: Boolean?\r\n\t//\t\tWhether to only send the cookie on secure connections\r\n};\r\n=====*/\r\n\r\n\r\ndojo.cookie = function(/*String*/name, /*String?*/ value, /*__cookieProps?*/ props){\r\n\t// summary:\r\n\t//\t\tGet or set a cookie.\r\n\t// description:\r\n\t//\t\tIf one argument is passed, returns the value of the cookie\r\n\t//\t\tFor two or more arguments, acts as a setter.\r\n\t// name:\r\n\t//\t\tName of the cookie\r\n\t// value:\r\n\t//\t\tValue for the cookie\r\n\t// props:\r\n\t//\t\tProperties for the cookie\r\n\t// example:\r\n\t//\t\tset a cookie with the JSON-serialized contents of an object which\r\n\t//\t\twill expire 5 days from now:\r\n\t//\t|\trequire([\"dojo/cookie\", \"dojo/json\"], function(cookie, json){\r\n\t//\t|\t\tcookie(\"configObj\", json.stringify(config, {expires: 5 }));\r\n\t//\t|\t});\r\n\t//\r\n\t// example:\r\n\t//\t\tde-serialize a cookie back into a JavaScript object:\r\n\t//\t|\trequire([\"dojo/cookie\", \"dojo/json\"], function(cookie, json){\r\n\t//\t|\t\tconfig = json.parse(cookie(\"configObj\"));\r\n\t//\t|\t});\r\n\t//\r\n\t// example:\r\n\t//\t\tdelete a cookie:\r\n\t//\t|\trequire([\"dojo/cookie\"], function(cookie){\r\n\t//\t|\t\tcookie(\"configObj\", null, {expires: -1});\r\n\t//\t|\t});\r\n\tvar c = document.cookie, ret;\r\n\tif(arguments.length == 1){\r\n\t\tvar matches = c.match(new RegExp(\"(?:^|; )\" + regexp.escapeString(name) + \"=([^;]*)\"));\r\n\t\tret = matches ? decodeURIComponent(matches[1]) : undefined; \r\n\t}else{\r\n\t\tprops = props || {};\r\n// FIXME: expires=0 seems to disappear right away, not on close? (FF3)  Change docs?\r\n\t\tvar exp = props.expires;\r\n\t\tif(typeof exp == \"number\"){\r\n\t\t\tvar d = new Date();\r\n\t\t\td.setTime(d.getTime() + exp*24*60*60*1000);\r\n\t\t\texp = props.expires = d;\r\n\t\t}\r\n\t\tif(exp && exp.toUTCString){ props.expires = exp.toUTCString(); }\r\n\r\n\t\tvalue = encodeURIComponent(value);\r\n\t\tvar updatedCookie = name + \"=\" + value, propName;\r\n\t\tfor(propName in props){\r\n\t\t\tupdatedCookie += \"; \" + propName;\r\n\t\t\tvar propValue = props[propName];\r\n\t\t\tif(propValue !== true){ updatedCookie += \"=\" + propValue; }\r\n\t\t}\r\n\t\tdocument.cookie = updatedCookie;\r\n\t}\r\n\treturn ret; // String|undefined\r\n};\r\n\r\ndojo.cookie.isSupported = function(){\r\n\t// summary:\r\n\t//\t\tUse to determine if the current browser supports cookies or not.\r\n\t//\r\n\t//\t\tReturns true if user allows cookies.\r\n\t//\t\tReturns false if user doesn't allow cookies.\r\n\r\n\tif(!(\"cookieEnabled\" in navigator)){\r\n\t\tthis(\"__djCookieTest__\", \"CookiesAllowed\");\r\n\t\tnavigator.cookieEnabled = this(\"__djCookieTest__\") == \"CookiesAllowed\";\r\n\t\tif(navigator.cookieEnabled){\r\n\t\t\tthis(\"__djCookieTest__\", \"\", {expires: -1});\r\n\t\t}\r\n\t}\r\n\treturn navigator.cookieEnabled;\r\n};\r\n\r\nreturn dojo.cookie;\r\n});\r\n\n\n\ndefine('dijit/tree/TreeStoreModel',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.indexOf array.some\r\n\t\"dojo/aspect\", // aspect.after\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\" // lang.hitch\r\n], function(array, aspect, declare, lang){\r\n\r\n\t// module:\r\n\t//\t\tdijit/tree/TreeStoreModel\r\n\r\n\treturn declare(\"dijit.tree.TreeStoreModel\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tImplements dijit/Tree/model connecting to a dojo.data store with a single\r\n\t\t//\t\troot item.  Any methods passed into the constructor will override\r\n\t\t//\t\tthe ones defined here.\r\n\r\n\t\t// store: dojo/data/api/Read\r\n\t\t//\t\tUnderlying store\r\n\t\tstore: null,\r\n\r\n\t\t// childrenAttrs: String[]\r\n\t\t//\t\tOne or more attribute names (attributes in the dojo.data item) that specify that item's children\r\n\t\tchildrenAttrs: [\"children\"],\r\n\r\n\t\t// newItemIdAttr: String\r\n\t\t//\t\tName of attribute in the Object passed to newItem() that specifies the id.\r\n\t\t//\r\n\t\t//\t\tIf newItemIdAttr is set then it's used when newItem() is called to see if an\r\n\t\t//\t\titem with the same id already exists, and if so just links to the old item\r\n\t\t//\t\t(so that the old item ends up with two parents).\r\n\t\t//\r\n\t\t//\t\tSetting this to null or \"\" will make every drop create a new item.\r\n\t\tnewItemIdAttr: \"id\",\r\n\r\n\t\t// labelAttr: String\r\n\t\t//\t\tIf specified, get label for tree node from this attribute, rather\r\n\t\t//\t\tthan by calling store.getLabel()\r\n\t\tlabelAttr: \"\",\r\n\r\n\t\t// root: [readonly] dojo/data/Item\r\n\t\t//\t\tPointer to the root item (read only, not a parameter)\r\n\t\troot: null,\r\n\r\n\t\t// query: anything\r\n\t\t//\t\tSpecifies datastore query to return the root item for the tree.\r\n\t\t//\t\tMust only return a single item.   Alternately can just pass in pointer\r\n\t\t//\t\tto root item.\r\n\t\t// example:\r\n\t\t//\t|\t{id:'ROOT'}\r\n\t\tquery: null,\r\n\r\n\t\t// deferItemLoadingUntilExpand: Boolean\r\n\t\t//\t\tSetting this to true will cause the TreeStoreModel to defer calling loadItem on nodes\r\n\t\t//\t\tuntil they are expanded. This allows for lazying loading where only one\r\n\t\t//\t\tloadItem (and generally one network call, consequently) per expansion\r\n\t\t//\t\t(rather than one for each child).\r\n\t\t//\t\tThis relies on partial loading of the children items; each children item of a\r\n\t\t//\t\tfully loaded item should contain the label and info about having children.\r\n\t\tdeferItemLoadingUntilExpand: false,\r\n\r\n\t\tconstructor: function(/* Object */ args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPassed the arguments listed above (store, etc)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tlang.mixin(this, args);\r\n\r\n\t\t\tthis.connects = [];\r\n\r\n\t\t\tvar store = this.store;\r\n\t\t\tif(!store.getFeatures()['dojo.data.api.Identity']){\r\n\t\t\t\tthrow new Error(\"dijit.tree.TreeStoreModel: store must support dojo.data.Identity\");\r\n\t\t\t}\r\n\r\n\t\t\t// if the store supports Notification, subscribe to the notification events\r\n\t\t\tif(store.getFeatures()['dojo.data.api.Notification']){\r\n\t\t\t\tthis.connects = this.connects.concat([\r\n\t\t\t\t\taspect.after(store, \"onNew\", lang.hitch(this, \"onNewItem\"), true),\r\n\t\t\t\t\taspect.after(store, \"onDelete\", lang.hitch(this, \"onDeleteItem\"), true),\r\n\t\t\t\t\taspect.after(store, \"onSet\", lang.hitch(this, \"onSetItem\"), true)\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this.connects.pop()){ h.remove(); }\r\n\t\t\t// TODO: should cancel any in-progress processing of getRoot(), getChildren()\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Methods for traversing hierarchy\r\n\r\n\t\tgetRoot: function(onItem, onError){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls onItem with the root item for the tree, possibly a fabricated item.\r\n\t\t\t//\t\tCalls onError on error.\r\n\t\t\tif(this.root){\r\n\t\t\t\tonItem(this.root);\r\n\t\t\t}else{\r\n\t\t\t\tthis.store.fetch({\r\n\t\t\t\t\tquery: this.query,\r\n\t\t\t\t\tonComplete: lang.hitch(this, function(items){\r\n\t\t\t\t\t\tif(items.length != 1){\r\n\t\t\t\t\t\t\tthrow new Error(\"dijit.tree.TreeStoreModel: root query returned \" + items.length +\r\n\t\t\t\t\t\t\t\t\" items, but must return exactly one\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.root = items[0];\r\n\t\t\t\t\t\tonItem(this.root);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tonError: onError\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmayHaveChildren: function(/*dojo/data/Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTells if an item has or may have children.  Implementing logic here\r\n\t\t\t//\t\tavoids showing +/- expando icon for nodes that we know don't have children.\r\n\t\t\t//\t\t(For efficiency reasons we may not want to check if an element actually\r\n\t\t\t//\t\thas children until user clicks the expando node)\r\n\t\t\treturn array.some(this.childrenAttrs, function(attr){\r\n\t\t\t\treturn this.store.hasAttribute(item, attr);\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tgetChildren: function(/*dojo/data/Item*/ parentItem, /*function(items)*/ onComplete, /*function*/ onError){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls onComplete() with array of child items of given parent item, all loaded.\r\n\r\n\t\t\tvar store = this.store;\r\n\t\t\tif(!store.isItemLoaded(parentItem)){\r\n\t\t\t\t// The parent is not loaded yet, we must be in deferItemLoadingUntilExpand\r\n\t\t\t\t// mode, so we will load it and just return the children (without loading each\r\n\t\t\t\t// child item)\r\n\t\t\t\tvar getChildren = lang.hitch(this, arguments.callee);\r\n\t\t\t\tstore.loadItem({\r\n\t\t\t\t\titem: parentItem,\r\n\t\t\t\t\tonItem: function(parentItem){\r\n\t\t\t\t\t\tgetChildren(parentItem, onComplete, onError);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonError: onError\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// get children of specified item\r\n\t\t\tvar childItems = [];\r\n\t\t\tfor(var i=0; i<this.childrenAttrs.length; i++){\r\n\t\t\t\tvar vals = store.getValues(parentItem, this.childrenAttrs[i]);\r\n\t\t\t\tchildItems = childItems.concat(vals);\r\n\t\t\t}\r\n\r\n\t\t\t// count how many items need to be loaded\r\n\t\t\tvar _waitCount = 0;\r\n\t\t\tif(!this.deferItemLoadingUntilExpand){\r\n\t\t\t\tarray.forEach(childItems, function(item){ if(!store.isItemLoaded(item)){ _waitCount++; } });\r\n\t\t\t}\r\n\r\n\t\t\tif(_waitCount == 0){\r\n\t\t\t\t// all items are already loaded (or we aren't loading them).  proceed...\r\n\t\t\t\tonComplete(childItems);\r\n\t\t\t}else{\r\n\t\t\t\t// still waiting for some or all of the items to load\r\n\t\t\t\tarray.forEach(childItems, function(item, idx){\r\n\t\t\t\t\tif(!store.isItemLoaded(item)){\r\n\t\t\t\t\t\tstore.loadItem({\r\n\t\t\t\t\t\t\titem: item,\r\n\t\t\t\t\t\t\tonItem: function(item){\r\n\t\t\t\t\t\t\t\tchildItems[idx] = item;\r\n\t\t\t\t\t\t\t\tif(--_waitCount == 0){\r\n\t\t\t\t\t\t\t\t\t// all nodes have been loaded, send them to the tree\r\n\t\t\t\t\t\t\t\t\tonComplete(childItems);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonError: onError\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Inspecting items\r\n\r\n\t\tisItem: function(/* anything */ something){\r\n\t\t\treturn this.store.isItem(something);\t// Boolean\r\n\t\t},\r\n\r\n\t\tfetchItemByIdentity: function(/* object */ keywordArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGiven the identity of an item, this method returns the item that has\r\n\t\t\t//\t\tthat identity through the onItem callback.  Conforming implementations\r\n\t\t\t//\t\tshould return null if there is no item with the given identity.\r\n\t\t\t//\t\tImplementations of fetchItemByIdentity() may sometimes return an item\r\n\t\t\t//\t\tfrom a local cache and may sometimes fetch an item from a remote server.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\tthis.store.fetchItemByIdentity(keywordArgs);\r\n\t\t},\r\n\r\n\t\tgetIdentity: function(/* item */ item){\r\n\t\t\treturn this.store.getIdentity(item);\t// Object\r\n\t\t},\r\n\r\n\t\tgetLabel: function(/*dojo/data/Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the label for an item\r\n\t\t\tif(this.labelAttr){\r\n\t\t\t\treturn this.store.getValue(item,this.labelAttr);\t// String\r\n\t\t\t}else{\r\n\t\t\t\treturn this.store.getLabel(item);\t// String\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Write interface\r\n\r\n\t\tnewItem: function(/* dijit/tree/dndSource.__Item */ args, /*dojo/data/api/Item*/ parent, /*int?*/ insertIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a new item.   See `dojo/data/api/Write` for details on args.\r\n\t\t\t//\t\tUsed in drag & drop when item from external source dropped onto tree.\r\n\t\t\t// description:\r\n\t\t\t//\t\tDevelopers will need to override this method if new items get added\r\n\t\t\t//\t\tto parents with multiple children attributes, in order to define which\r\n\t\t\t//\t\tchildren attribute points to the new item.\r\n\r\n\t\t\tvar pInfo = {parent: parent, attribute: this.childrenAttrs[0]}, LnewItem;\r\n\r\n\t\t\tif(this.newItemIdAttr && args[this.newItemIdAttr]){\r\n\t\t\t\t// Maybe there's already a corresponding item in the store; if so, reuse it.\r\n\t\t\t\tthis.fetchItemByIdentity({identity: args[this.newItemIdAttr], scope: this, onItem: function(item){\r\n\t\t\t\t\tif(item){\r\n\t\t\t\t\t\t// There's already a matching item in store, use it\r\n\t\t\t\t\t\tthis.pasteItem(item, null, parent, true, insertIndex);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Create new item in the tree, based on the drag source.\r\n\t\t\t\t\t\tLnewItem=this.store.newItem(args, pInfo);\r\n\t\t\t\t\t\tif(LnewItem && (insertIndex!=undefined)){\r\n\t\t\t\t\t\t\t// Move new item to desired position\r\n\t\t\t\t\t\t\tthis.pasteItem(LnewItem, parent, parent, false, insertIndex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}});\r\n\t\t\t}else{\r\n\t\t\t\t// [as far as we know] there is no id so we must assume this is a new item\r\n\t\t\t\tLnewItem=this.store.newItem(args, pInfo);\r\n\t\t\t\tif(LnewItem && (insertIndex!=undefined)){\r\n\t\t\t\t\t// Move new item to desired position\r\n\t\t\t\t\tthis.pasteItem(LnewItem, parent, parent, false, insertIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpasteItem: function(/*Item*/ childItem, /*Item*/ oldParentItem, /*Item*/ newParentItem, /*Boolean*/ bCopy, /*int?*/ insertIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMove or copy an item from one parent item to another.\r\n\t\t\t//\t\tUsed in drag & drop\r\n\t\t\tvar store = this.store,\r\n\t\t\t\tparentAttr = this.childrenAttrs[0];\t// name of \"children\" attr in parent item\r\n\r\n\t\t\t// remove child from source item, and record the attribute that child occurred in\r\n\t\t\tif(oldParentItem){\r\n\t\t\t\tarray.forEach(this.childrenAttrs, function(attr){\r\n\t\t\t\t\tif(store.containsValue(oldParentItem, attr, childItem)){\r\n\t\t\t\t\t\tif(!bCopy){\r\n\t\t\t\t\t\t\tvar values = array.filter(store.getValues(oldParentItem, attr), function(x){\r\n\t\t\t\t\t\t\t\treturn x != childItem;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tstore.setValues(oldParentItem, attr, values);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tparentAttr = attr;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// modify target item's children attribute to include this item\r\n\t\t\tif(newParentItem){\r\n\t\t\t\tif(typeof insertIndex == \"number\"){\r\n\t\t\t\t\t// call slice() to avoid modifying the original array, confusing the data store\r\n\t\t\t\t\tvar childItems = store.getValues(newParentItem, parentAttr).slice();\r\n\t\t\t\t\tchildItems.splice(insertIndex, 0, childItem);\r\n\t\t\t\t\tstore.setValues(newParentItem, parentAttr, childItems);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstore.setValues(newParentItem, parentAttr,\r\n\t\t\t\t\t\tstore.getValues(newParentItem, parentAttr).concat(childItem));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Callbacks\r\n\r\n\t\tonChange: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback whenever an item has changed, so that Tree\r\n\t\t\t//\t\tcan update the label, icon, etc.   Note that changes\r\n\t\t\t//\t\tto an item's children or parent(s) will trigger an\r\n\t\t\t//\t\tonChildrenChange() so you can ignore those changes here.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonChildrenChange: function(/*===== parent, newChildrenList =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback to do notifications about new, updated, or deleted items.\r\n\t\t\t// parent: dojo/data/Item\r\n\t\t\t// newChildrenList: dojo/data/Item[]\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonDelete: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when an item has been deleted.\r\n\t\t\t// description:\r\n\t\t\t//\t\tNote that there will also be an onChildrenChange() callback for the parent\r\n\t\t\t//\t\tof this item.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Events from data store\r\n\r\n\t\tonNewItem: function(/* dojo/data/Item */ item, /* Object */ parentInfo){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when new items appear in the store, either from a drop operation\r\n\t\t\t//\t\tor some other way.   Updates the tree view (if necessary).\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf the new item is a child of an existing item,\r\n\t\t\t//\t\tcalls onChildrenChange() with the new list of children\r\n\t\t\t//\t\tfor that existing item.\r\n\t\t\t//\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\t// We only care about the new item if it has a parent that corresponds to a TreeNode\r\n\t\t\t// we are currently displaying\r\n\t\t\tif(!parentInfo){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Call onChildrenChange() on parent (ie, existing) item with new list of children\r\n\t\t\t// In the common case, the new list of children is simply parentInfo.newValue or\r\n\t\t\t// [ parentInfo.newValue ], although if items in the store has multiple\r\n\t\t\t// child attributes (see `childrenAttr`), then it's a superset of parentInfo.newValue,\r\n\t\t\t// so call getChildren() to be sure to get right answer.\r\n\t\t\tthis.getChildren(parentInfo.item, lang.hitch(this, function(children){\r\n\t\t\t\tthis.onChildrenChange(parentInfo.item, children);\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\tonDeleteItem: function(/*Object*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for delete notifications from underlying store\r\n\t\t\tthis.onDelete(item);\r\n\t\t},\r\n\r\n\t\tonSetItem: function(item, attribute /*===== , oldValue, newValue =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUpdates the tree view according to changes in the data store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tHandles updates to an item's children by calling onChildrenChange(), and\r\n\t\t\t//\t\tother updates to an item by calling onChange().\r\n\t\t\t//\r\n\t\t\t//\t\tSee `onNewItem` for more details on handling updates to an item's children.\r\n\t\t\t// item: Item\r\n\t\t\t// attribute: attribute-name-string\r\n\t\t\t// oldValue: Object|Array\r\n\t\t\t// newValue: Object|Array\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\tif(array.indexOf(this.childrenAttrs, attribute) != -1){\r\n\t\t\t\t// item's children list changed\r\n\t\t\t\tthis.getChildren(item, lang.hitch(this, function(children){\r\n\t\t\t\t\t// See comments in onNewItem() about calling getChildren()\r\n\t\t\t\t\tthis.onChildrenChange(item, children);\r\n\t\t\t\t}));\r\n\t\t\t}else{\r\n\t\t\t\t// item's label/icon/etc. changed.\r\n\t\t\t\tthis.onChange(item);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/tree/ForestStoreModel',[\r\n\t\"dojo/_base/array\", // array.indexOf array.some\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // global\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"./TreeStoreModel\"\r\n], function(array, declare, kernel, lang, TreeStoreModel){\r\n\r\n// module:\r\n//\t\tdijit/tree/ForestStoreModel\r\n\r\nreturn declare(\"dijit.tree.ForestStoreModel\", TreeStoreModel, {\r\n\t// summary:\r\n\t//\t\tInterface between a dijit.Tree and a dojo.data store that doesn't have a root item,\r\n\t//\t\ta.k.a. a store that has multiple \"top level\" items.\r\n\t//\r\n\t// description:\r\n\t//\t\tUse this class to wrap a dojo.data store, making all the items matching the specified query\r\n\t//\t\tappear as children of a fabricated \"root item\".  If no query is specified then all the\r\n\t//\t\titems returned by fetch() on the underlying store become children of the root item.\r\n\t//\t\tThis class allows dijit.Tree to assume a single root item, even if the store doesn't have one.\r\n\t//\r\n\t//\t\tWhen using this class the developer must override a number of methods according to their app and\r\n\t//\t\tdata, including:\r\n\t//\r\n\t//\t\t- onNewRootItem\r\n\t//\t\t- onAddToRoot\r\n\t//\t\t- onLeaveRoot\r\n\t//\t\t- onNewItem\r\n\t//\t\t- onSetItem\r\n\r\n\t// Parameters to constructor\r\n\r\n\t// rootId: String\r\n\t//\t\tID of fabricated root item\r\n\trootId: \"$root$\",\r\n\r\n\t// rootLabel: String\r\n\t//\t\tLabel of fabricated root item\r\n\trootLabel: \"ROOT\",\r\n\r\n\t// query: String\r\n\t//\t\tSpecifies the set of children of the root item.\r\n\t// example:\r\n\t//\t|\t{type:'continent'}\r\n\tquery: null,\r\n\r\n\t// End of parameters to constructor\r\n\r\n\tconstructor: function(params){\r\n\t\t// summary:\r\n\t\t//\t\tSets up variables, etc.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// Make dummy root item\r\n\t\tthis.root = {\r\n\t\t\tstore: this,\r\n\t\t\troot: true,\r\n\t\t\tid: params.rootId,\r\n\t\t\tlabel: params.rootLabel,\r\n\t\t\tchildren: params.rootChildren\t// optional param\r\n\t\t};\r\n\t},\r\n\r\n\t// =======================================================================\r\n\t// Methods for traversing hierarchy\r\n\r\n\tmayHaveChildren: function(/*dojo/data/Item*/ item){\r\n\t\t// summary:\r\n\t\t//\t\tTells if an item has or may have children.  Implementing logic here\r\n\t\t//\t\tavoids showing +/- expando icon for nodes that we know don't have children.\r\n\t\t//\t\t(For efficiency reasons we may not want to check if an element actually\r\n\t\t//\t\thas children until user clicks the expando node)\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\t\treturn item === this.root || this.inherited(arguments);\r\n\t},\r\n\r\n\tgetChildren: function(/*dojo/data/Item*/ parentItem, /*function(items)*/ callback, /*function*/ onError){\r\n\t\t// summary:\r\n\t\t//\t\tCalls onComplete() with array of child items of given parent item, all loaded.\r\n\t\tif(parentItem === this.root){\r\n\t\t\tif(this.root.children){\r\n\t\t\t\t// already loaded, just return\r\n\t\t\t\tcallback(this.root.children);\r\n\t\t\t}else{\r\n\t\t\t\tthis.store.fetch({\r\n\t\t\t\t\tquery: this.query,\r\n\t\t\t\t\tonComplete: lang.hitch(this, function(items){\r\n\t\t\t\t\t\tthis.root.children = items;\r\n\t\t\t\t\t\tcallback(items);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tonError: onError\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t},\r\n\r\n\t// =======================================================================\r\n\t// Inspecting items\r\n\r\n\tisItem: function(/* anything */ something){\r\n\t\treturn (something === this.root) ? true : this.inherited(arguments);\r\n\t},\r\n\r\n\tfetchItemByIdentity: function(/* object */ keywordArgs){\r\n\t\tif(keywordArgs.identity == this.root.id){\r\n\t\t\tvar scope = keywordArgs.scope || kernel.global;\r\n\t\t\tif(keywordArgs.onItem){\r\n\t\t\t\tkeywordArgs.onItem.call(scope, this.root);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t},\r\n\r\n\tgetIdentity: function(/* item */ item){\r\n\t\treturn (item === this.root) ? this.root.id : this.inherited(arguments);\r\n\t},\r\n\r\n\tgetLabel: function(/* item */ item){\r\n\t\treturn\t(item === this.root) ? this.root.label : this.inherited(arguments);\r\n\t},\r\n\r\n\t// =======================================================================\r\n\t// Write interface\r\n\r\n\tnewItem: function(/* dijit/tree/dndSource.__Item */ args, /*Item*/ parent, /*int?*/ insertIndex){\r\n\t\t// summary:\r\n\t\t//\t\tCreates a new item.   See dojo/data/api/Write for details on args.\r\n\t\t//\t\tUsed in drag & drop when item from external source dropped onto tree.\r\n\t\tif(parent === this.root){\r\n\t\t\tthis.onNewRootItem(args);\r\n\t\t\treturn this.store.newItem(args);\r\n\t\t}else{\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t}\r\n\t},\r\n\r\n\tonNewRootItem: function(/* dijit/tree/dndSource.__Item */ /*===== args =====*/){\r\n\t\t// summary:\r\n\t\t//\t\tUser can override this method to modify a new element that's being\r\n\t\t//\t\tadded to the root of the tree, for example to add a flag like root=true\r\n\t},\r\n\r\n\tpasteItem: function(/*Item*/ childItem, /*Item*/ oldParentItem, /*Item*/ newParentItem, /*Boolean*/ bCopy, /*int?*/ insertIndex){\r\n\t\t// summary:\r\n\t\t//\t\tMove or copy an item from one parent item to another.\r\n\t\t//\t\tUsed in drag & drop\r\n\t\tif(oldParentItem === this.root){\r\n\t\t\tif(!bCopy){\r\n\t\t\t\t// It's onLeaveRoot()'s responsibility to modify the item so it no longer matches\r\n\t\t\t\t// this.query... thus triggering an onChildrenChange() event to notify the Tree\r\n\t\t\t\t// that this element is no longer a child of the root node\r\n\t\t\t\tthis.onLeaveRoot(childItem);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.inherited(arguments, [childItem,\r\n\t\t\toldParentItem === this.root ? null : oldParentItem,\r\n\t\t\tnewParentItem === this.root ? null : newParentItem,\r\n\t\t\tbCopy,\r\n\t\t\tinsertIndex\r\n\t\t]);\r\n\t\tif(newParentItem === this.root){\r\n\t\t\t// It's onAddToRoot()'s responsibility to modify the item so it matches\r\n\t\t\t// this.query... thus triggering an onChildrenChange() event to notify the Tree\r\n\t\t\t// that this element is now a child of the root node\r\n\t\t\tthis.onAddToRoot(childItem);\r\n\t\t}\r\n\t},\r\n\r\n\t// =======================================================================\r\n\t// Handling for top level children\r\n\r\n\tonAddToRoot: function(/* item */ item){\r\n\t\t// summary:\r\n\t\t//\t\tCalled when item added to root of tree; user must override this method\r\n\t\t//\t\tto modify the item so that it matches the query for top level items\r\n\t\t// example:\r\n\t\t//\t|\tstore.setValue(item, \"root\", true);\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\t\tconsole.log(this, \": item \", item, \" added to root\");\r\n\t},\r\n\r\n\tonLeaveRoot: function(/* item */ item){\r\n\t\t// summary:\r\n\t\t//\t\tCalled when item removed from root of tree; user must override this method\r\n\t\t//\t\tto modify the item so it doesn't match the query for top level items\r\n\t\t// example:\r\n\t\t//\t|\tstore.unsetAttribute(item, \"root\");\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\t\tconsole.log(this, \": item \", item, \" removed from root\");\r\n\t},\r\n\r\n\t// =======================================================================\r\n\t// Events from data store\r\n\r\n\t_requeryTop: function(){\r\n\t\t// reruns the query for the children of the root node,\r\n\t\t// sending out an onSet notification if those children have changed\r\n\t\tvar oldChildren = this.root.children || [];\r\n\t\tthis.store.fetch({\r\n\t\t\tquery: this.query,\r\n\t\t\tonComplete: lang.hitch(this, function(newChildren){\r\n\t\t\t\tthis.root.children = newChildren;\r\n\r\n\t\t\t\t// If the list of children or the order of children has changed...\r\n\t\t\t\tif(oldChildren.length != newChildren.length ||\r\n\t\t\t\t\tarray.some(oldChildren, function(item, idx){ return newChildren[idx] != item;})){\r\n\t\t\t\t\tthis.onChildrenChange(this.root, newChildren);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t},\r\n\r\n\tonNewItem: function(/* dojo/data/api/Item */ item, /* Object */ parentInfo){\r\n\t\t// summary:\r\n\t\t//\t\tHandler for when new items appear in the store.  Developers should override this\r\n\t\t//\t\tmethod to be more efficient based on their app/data.\r\n\t\t// description:\r\n\t\t//\t\tNote that the default implementation requeries the top level items every time\r\n\t\t//\t\ta new item is created, since any new item could be a top level item (even in\r\n\t\t//\t\taddition to being a child of another item, since items can have multiple parents).\r\n\t\t//\r\n\t\t//\t\tIf developers can detect which items are possible top level items (based on the item and the\r\n\t\t//\t\tparentInfo parameters), they should override this method to only call _requeryTop() for top\r\n\t\t//\t\tlevel items.  Often all top level items have parentInfo==null, but\r\n\t\t//\t\tthat will depend on which store you use and what your data is like.\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\t\tthis._requeryTop();\r\n\r\n\t\tthis.inherited(arguments);\r\n\t},\r\n\r\n\tonDeleteItem: function(/*Object*/ item){\r\n\t\t// summary:\r\n\t\t//\t\tHandler for delete notifications from underlying store\r\n\r\n\t\t// check if this was a child of root, and if so send notification that root's children\r\n\t\t// have changed\r\n\t\tif(array.indexOf(this.root.children, item) != -1){\r\n\t\t\tthis._requeryTop();\r\n\t\t}\r\n\r\n\t\tthis.inherited(arguments);\r\n\t},\r\n\r\n\tonSetItem: function(/* item */ item,\r\n\t\t\t\t\t/* attribute-name-string */ attribute,\r\n\t\t\t\t\t/* Object|Array */ oldValue,\r\n\t\t\t\t\t/* Object|Array */ newValue){\r\n\t\t// summary:\r\n\t\t//\t\tUpdates the tree view according to changes to an item in the data store.\r\n\t\t//\t\tDevelopers should override this method to be more efficient based on their app/data.\r\n\t\t// description:\r\n\t\t//\t\tHandles updates to an item's children by calling onChildrenChange(), and\r\n\t\t//\t\tother updates to an item by calling onChange().\r\n\t\t//\r\n\t\t//\t\tAlso, any change to any item re-executes the query for the tree's top-level items,\r\n\t\t//\t\tsince this modified item may have started/stopped matching the query for top level items.\r\n\t\t//\r\n\t\t//\t\tIf possible, developers should override this function to only call _requeryTop() when\r\n\t\t//\t\tthe change to the item has caused it to stop/start being a top level item in the tree.\r\n\t\t// tags:\r\n\t\t//\t\textension\r\n\r\n\t\tthis._requeryTop();\r\n\t\tthis.inherited(arguments);\r\n\t}\r\n\r\n});\r\n\r\n});\r\n\ndefine('dijit/tree/_dndContainer',[\r\n\t\"dojo/aspect\", // aspect.after\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove domClass.replace\r\n\t\"dojo/_base/lang\", // lang.mixin lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\"\r\n], function(aspect, declare, domClass, lang, on, touch){\r\n\r\n\t// module:\r\n\t//\t\tdijit/tree/_dndContainer\r\n\r\n\t/*=====\r\n\t var __Args = {\r\n\t // summary:\r\n\t //\t\tA dict of parameters for Tree source configuration.\r\n\t // isSource: Boolean?\r\n\t //\t\tCan be used as a DnD source. Defaults to true.\r\n\t // accept: String[]\r\n\t //\t\tList of accepted types (text strings) for a target; defaults to\r\n\t //\t\t[\"text\", \"treeNode\"]\r\n\t // copyOnly: Boolean?\r\n\t //\t\tCopy items, if true, use a state of Ctrl key otherwise,\r\n\t // dragThreshold: Number\r\n\t //\t\tThe move delay in pixels before detecting a drag; 0 by default\r\n\t // betweenThreshold: Integer\r\n\t //\t\tDistance from upper/lower edge of node to allow drop to reorder nodes\r\n\t };\r\n\t =====*/\r\n\r\n\treturn declare(\"dijit.tree._dndContainer\", null, {\r\n\r\n\t\t// summary:\r\n\t\t//\t\tThis is a base class for `dijit/tree/_dndSelector`, and isn't meant to be used directly.\r\n\t\t//\t\tIt's modeled after `dojo/dnd/Container`.\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t/*=====\r\n\t\t // current: TreeNode\r\n\t\t //\t\tThe currently hovered TreeNode.  Not set to anything for keyboard operation.  (TODO: change?)\r\n\t\t current: null,\r\n\t\t =====*/\r\n\r\n\t\tconstructor: function(tree, params){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA constructor of the Container\r\n\t\t\t// tree: Node\r\n\t\t\t//\t\tNode or node's id to build the container on\r\n\t\t\t// params: __Args\r\n\t\t\t//\t\tA dict of parameters, which gets mixed into the object\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.tree = tree;\r\n\t\t\tthis.node = tree.domNode;\t// TODO: rename; it's not a TreeNode but the whole Tree\r\n\t\t\tlang.mixin(this, params);\r\n\r\n\t\t\t// states\r\n\t\t\tthis.containerState = \"\";\r\n\t\t\tdomClass.add(this.node, \"dojoDndContainer\");\r\n\r\n\t\t\t// set up events\r\n\t\t\tthis.events = [\r\n\t\t\t\t// Mouse (or touch) enter/leave on Tree itself\r\n\t\t\t\ton(this.node, touch.enter, lang.hitch(this, \"onOverEvent\")),\r\n\t\t\t\ton(this.node, touch.leave, lang.hitch(this, \"onOutEvent\")),\r\n\r\n\t\t\t\t// switching between TreeNodes\r\n\t\t\t\taspect.after(this.tree, \"_onNodeMouseEnter\", lang.hitch(this, \"onMouseOver\"), true),\r\n\t\t\t\taspect.after(this.tree, \"_onNodeMouseLeave\", lang.hitch(this, \"onMouseOut\"), true),\r\n\r\n\t\t\t\t// cancel text selection and text dragging\r\n\t\t\t\ton(this.node, \"dragstart, selectstart\", function(evt){\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t})\r\n\t\t\t];\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPrepares this object to be garbage-collected\r\n\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this.events.pop()){\r\n\t\t\t\th.remove();\r\n\t\t\t}\r\n\r\n\t\t\t// this.clearItems();\r\n\t\t\tthis.node = this.parent = null;\r\n\t\t},\r\n\r\n\t\t// mouse events\r\n\t\tonMouseOver: function(widget /*===== , evt =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when mouse is moved over a TreeNode\r\n\t\t\t// widget: TreeNode\r\n\t\t\t// evt: Event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.current = widget;\r\n\t\t},\r\n\r\n\t\tonMouseOut: function(/*===== widget, evt =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when mouse is moved away from a TreeNode\r\n\t\t\t// widget: TreeNode\r\n\t\t\t// evt: Event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis.current = null;\r\n\t\t},\r\n\r\n\t\t_changeState: function(type, newState){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChanges a named state to new state value\r\n\t\t\t// type: String\r\n\t\t\t//\t\tA name of the state to change\r\n\t\t\t// newState: String\r\n\t\t\t//\t\tnew state\r\n\t\t\tvar prefix = \"dojoDnd\" + type;\r\n\t\t\tvar state = type.toLowerCase() + \"State\";\r\n\t\t\t//domClass.replace(this.node, prefix + newState, prefix + this[state]);\r\n\t\t\tdomClass.replace(this.node, prefix + newState, prefix + this[state]);\r\n\t\t\tthis[state] = newState;\r\n\t\t},\r\n\r\n\t\t_addItemClass: function(node, type){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds a class with prefix \"dojoDndItem\"\r\n\t\t\t// node: Node\r\n\t\t\t//\t\tA node\r\n\t\t\t// type: String\r\n\t\t\t//\t\tA variable suffix for a class name\r\n\t\t\tdomClass.add(node, \"dojoDndItem\" + type);\r\n\t\t},\r\n\r\n\t\t_removeItemClass: function(node, type){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves a class with prefix \"dojoDndItem\"\r\n\t\t\t// node: Node\r\n\t\t\t//\t\tA node\r\n\t\t\t// type: String\r\n\t\t\t//\t\tA variable suffix for a class name\r\n\t\t\tdomClass.remove(node, \"dojoDndItem\" + type);\r\n\t\t},\r\n\r\n\t\tonOverEvent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function is called once, when mouse is over our container\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis._changeState(\"Container\", \"Over\");\r\n\t\t},\r\n\r\n\t\tonOutEvent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function is called once, when mouse is out of our container\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis._changeState(\"Container\", \"\");\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/tree/_dndSelector',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\",\t// global\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/dnd/common\",\r\n\t\"dojo/dom\", // isDescendant\r\n\t\"dojo/mouse\", // mouse.isLeft\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\",\r\n\t\"../a11yclick\",\r\n\t\"./_dndContainer\"\r\n], function(array, declare, kernel, lang, dndCommon, dom, mouse, on, touch, a11yclick, _dndContainer){\r\n\r\n\t// module:\r\n\t//\t\tdijit/tree/_dndSelector\r\n\r\n\treturn declare(\"dijit.tree._dndSelector\", _dndContainer, {\r\n\t\t// summary:\r\n\t\t//\t\tThis is a base class for `dijit/tree/dndSource`, and isn't meant to be used directly.\r\n\t\t//\t\tIt's based on `dojo/dnd/Selector`.\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t/*=====\r\n\t\t// selection: Object\r\n\t\t//\t\t(id to DomNode) map for every TreeNode that's currently selected.\r\n\t\t//\t\tThe DOMNode is the TreeNode.rowNode.\r\n\t\tselection: {},\r\n\t\t=====*/\r\n\r\n\t\tconstructor: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInitialization\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.selection={};\r\n\t\t\tthis.anchor = null;\r\n\r\n\t\t\tthis.events.push(\r\n\t\t\t\t// listeners setup here but no longer used (left for backwards compatibility\r\n\t\t\t\ton(this.tree.domNode, touch.press, lang.hitch(this,\"onMouseDown\")),\r\n\t\t\t\ton(this.tree.domNode, touch.release, lang.hitch(this,\"onMouseUp\")),\r\n\r\n\t\t\t\t// listeners used in this module\r\n\t\t\t\ton(this.tree.domNode, touch.move, lang.hitch(this,\"onMouseMove\")),\r\n\t\t\t\ton(this.tree.domNode, a11yclick.press, lang.hitch(this,\"onClickPress\")),\r\n\t\t\t\ton(this.tree.domNode, a11yclick.release, lang.hitch(this,\"onClickRelease\"))\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// singular: Boolean\r\n\t\t//\t\tAllows selection of only one element, if true.\r\n\t\t//\t\tTree hasn't been tested in singular=true mode, unclear if it works.\r\n\t\tsingular: false,\r\n\r\n\t\t// methods\r\n\t\tgetSelectedTreeNodes: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a list of selected node(s).\r\n\t\t\t//\t\tUsed by dndSource on the start of a drag.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar nodes=[], sel = this.selection;\r\n\t\t\tfor(var i in sel){\r\n\t\t\t\tnodes.push(sel[i]);\r\n\t\t\t}\r\n\t\t\treturn nodes;\r\n\t\t},\r\n\r\n\t\tselectNone: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUnselects all items\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.setSelection([]);\r\n\t\t\treturn this;\t// self\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPrepares the object to be garbage-collected\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.selection = this.anchor = null;\r\n\t\t},\r\n\t\taddTreeNode: function(/*dijit/Tree._TreeNode*/ node, /*Boolean?*/isAnchor){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tadd node to current selection\r\n\t\t\t// node: Node\r\n\t\t\t//\t\tnode to add\r\n\t\t\t// isAnchor: Boolean\r\n\t\t\t//\t\tWhether the node should become anchor.\r\n\r\n\t\t\tthis.setSelection(this.getSelectedTreeNodes().concat( [node] ));\r\n\t\t\tif(isAnchor){ this.anchor = node; }\r\n\t\t\treturn node;\r\n\t\t},\r\n\t\tremoveTreeNode: function(/*dijit/Tree._TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremove node and it's descendants from current selection\r\n\t\t\t// node: Node\r\n\t\t\t//\t\tnode to remove\r\n\t\t\tvar newSelection = array.filter(this.getSelectedTreeNodes(), function(selectedNode){\r\n\t\t\t\treturn !dom.isDescendant(selectedNode.domNode, node.domNode); // also matches when selectedNode == node\r\n\t\t\t});\r\n\t\t\tthis.setSelection(newSelection);\r\n\t\t\treturn node;\r\n\t\t},\r\n\t\tisTreeNodeSelected: function(/*dijit/Tree._TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturn true if node is currently selected\r\n\t\t\t// node: Node\r\n\t\t\t//\t\tthe node to check whether it's in the current selection\r\n\r\n\t\t\treturn node.id && !!this.selection[node.id];\r\n\t\t},\r\n\t\tsetSelection: function(/*dijit/Tree._TreeNode[]*/ newSelection){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tset the list of selected nodes to be exactly newSelection. All changes to the\r\n\t\t\t//\t\tselection should be passed through this function, which ensures that derived\r\n\t\t\t//\t\tattributes are kept up to date. Anchor will be deleted if it has been removed\r\n\t\t\t//\t\tfrom the selection, but no new anchor will be added by this function.\r\n\t\t\t// newSelection: Node[]\r\n\t\t\t//\t\tlist of tree nodes to make selected\r\n\t\t\tvar oldSelection = this.getSelectedTreeNodes();\r\n\t\t\tarray.forEach(this._setDifference(oldSelection, newSelection), lang.hitch(this, function(node){\r\n\t\t\t\tnode.setSelected(false);\r\n\t\t\t\tif(this.anchor == node){\r\n\t\t\t\t\tdelete this.anchor;\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.selection[node.id];\r\n\t\t\t}));\r\n\t\t\tarray.forEach(this._setDifference(newSelection, oldSelection), lang.hitch(this, function(node){\r\n\t\t\t\tnode.setSelected(true);\r\n\t\t\t\tthis.selection[node.id] = node;\r\n\t\t\t}));\r\n\t\t\tthis._updateSelectionProperties();\r\n\t\t},\r\n\t\t_setDifference: function(xs,ys){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a copy of xs which lacks any objects\r\n\t\t\t//\t\toccurring in ys. Checks for membership by\r\n\t\t\t//\t\tmodifying and then reading the object, so it will\r\n\t\t\t//\t\tnot properly handle sets of numbers or strings.\r\n\r\n\t\t\tarray.forEach(ys, function(y){ y.__exclude__ = true; });\r\n\t\t\tvar ret = array.filter(xs, function(x){ return !x.__exclude__; });\r\n\r\n\t\t\t// clean up after ourselves.\r\n\t\t\tarray.forEach(ys, function(y){ delete y['__exclude__'] });\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\t_updateSelectionProperties: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUpdate the following tree properties from the current selection:\r\n\t\t\t//\t\tpath[s], selectedItem[s], selectedNode[s]\r\n\r\n\t\t\tvar selected = this.getSelectedTreeNodes();\r\n\t\t\tvar paths = [], nodes = [];\r\n\t\t\tarray.forEach(selected, function(node){\r\n\t\t\t\tvar ary = node.getTreePath();\r\n\t\t\t\tnodes.push(node);\r\n\t\t\t\tpaths.push(ary);\r\n\t\t\t}, this);\r\n\t\t\tvar items = array.map(nodes,function(node){ return node.item; });\r\n\t\t\tthis.tree._set(\"paths\", paths);\r\n\t\t\tthis.tree._set(\"path\", paths[0] || []);\r\n\t\t\tthis.tree._set(\"selectedNodes\", nodes);\r\n\t\t\tthis.tree._set(\"selectedNode\", nodes[0] || null);\r\n\t\t\tthis.tree._set(\"selectedItems\", items);\r\n\t\t\tthis.tree._set(\"selectedItem\", items[0] || null);\r\n\t\t},\r\n\r\n\t\t// selection related events\r\n\t\tonClickPress: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent processor for onmousedown/ontouchstart/onkeydown corresponding to a click event\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tonmousedown/ontouchstart/onkeydown event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// ignore mouse or touch on expando node\r\n\t\t\tif(this.current && this.current.isExpandable && this.tree.isExpandoNode(e.target, this.current)){ return; }\r\n\r\n\t\t\tif(e.type == \"mousedown\" && mouse.isLeft(e)){\r\n\t\t\t\t// Prevent text selection while dragging on desktop, see #16328.   But don't call preventDefault()\r\n\t\t\t\t// for mobile because it will break things completely, see #15838.  Also, don't preventDefault() on\r\n\t\t\t\t// MSPointerDown or pointerdown events, because that stops the mousedown event from being generated,\r\n\t\t\t\t// see #17709.\r\n\t\t\t\t// TODO: remove this completely in 2.0.  It shouldn't be needed since dojo/dnd/Manager already\r\n\t\t\t\t// calls preventDefault() for the \"selectstart\" event.  It can also be achieved via CSS:\r\n\t\t\t\t// http://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tvar treeNode = e.type == \"keydown\" ? this.tree.focusedChild : this.current;\r\n\r\n\t\t\tif(!treeNode){\r\n\t\t\t\t// Click must be on the Tree but not on a TreeNode, happens especially when Tree is stretched to fill\r\n\t\t\t\t// a pane of a BorderContainer, etc.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar copy = dndCommon.getCopyKeyState(e), id = treeNode.id;\r\n\r\n\t\t\t// if shift key is not pressed, and the node is already in the selection,\r\n\t\t\t// delay deselection until onmouseup so in the case of DND, deselection\r\n\t\t\t// will be canceled by onmousemove.\r\n\t\t\tif(!this.singular && !e.shiftKey && this.selection[id]){\r\n\t\t\t\tthis._doDeselect = true;\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tthis._doDeselect = false;\r\n\t\t\t}\r\n\t\t\tthis.userSelect(treeNode, copy, e.shiftKey);\r\n\t\t},\r\n\r\n\t\tonClickRelease: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent processor for onmouseup/ontouchend/onkeyup corresponding to a click event\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tonmouseup/ontouchend/onkeyup event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// _doDeselect is the flag to indicate that the user wants to either ctrl+click on\r\n\t\t\t// an already selected item (to deselect the item), or click on a not-yet selected item\r\n\t\t\t// (which should remove all current selection, and add the clicked item). This can not\r\n\t\t\t// be done in onMouseDown, because the user may start a drag after mousedown. By moving\r\n\t\t\t// the deselection logic here, the user can drag an already selected item.\r\n\t\t\tif(!this._doDeselect){ return; }\r\n\t\t\tthis._doDeselect = false;\r\n\t\t\tthis.userSelect(e.type == \"keyup\" ? this.tree.focusedChild : this.current, dndCommon.getCopyKeyState(e), e.shiftKey);\r\n\t\t},\r\n\t\tonMouseMove: function(/*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tevent processor for onmousemove/ontouchmove\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tonmousemove/ontouchmove event\r\n\t\t\tthis._doDeselect = false;\r\n\t\t},\r\n\r\n\t\t// mouse/touch events that are no longer used\r\n\t\tonMouseDown: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent processor for onmousedown/ontouchstart\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tonmousedown/ontouchstart event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\t\tonMouseUp: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent processor for onmouseup/ontouchend\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tonmouseup/ontouchend event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\t_compareNodes: function(n1, n2){\r\n\t\t\tif(n1 === n2){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tif('sourceIndex' in document.documentElement){ //IE\r\n\t\t\t\t//TODO: does not yet work if n1 and/or n2 is a text node\r\n\t\t\t\treturn n1.sourceIndex - n2.sourceIndex;\r\n\t\t\t}else if('compareDocumentPosition' in document.documentElement){ //FF, Opera\r\n\t\t\t\treturn n1.compareDocumentPosition(n2) & 2 ? 1: -1;\r\n\t\t\t}else if(document.createRange){ //Webkit\r\n\t\t\t\tvar r1 = doc.createRange();\r\n\t\t\t\tr1.setStartBefore(n1);\r\n\r\n\t\t\t\tvar r2 = doc.createRange();\r\n\t\t\t\tr2.setStartBefore(n2);\r\n\r\n\t\t\t\treturn r1.compareBoundaryPoints(r1.END_TO_END, r2);\r\n\t\t\t}else{\r\n\t\t\t\tthrow Error(\"dijit.tree._compareNodes don't know how to compare two different nodes in this browser\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tuserSelect: function(node, multi, range){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd or remove the given node from selection, responding\r\n\t\t\t//\t\tto a user action such as a click or keypress.\r\n\t\t\t// multi: Boolean\r\n\t\t\t//\t\tIndicates whether this is meant to be a multi-select action (e.g. ctrl-click)\r\n\t\t\t// range: Boolean\r\n\t\t\t//\t\tIndicates whether this is meant to be a ranged action (e.g. shift-click)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(this.singular){\r\n\t\t\t\tif(this.anchor == node && multi){\r\n\t\t\t\t\tthis.selectNone();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.setSelection([node]);\r\n\t\t\t\t\tthis.anchor = node;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(range && this.anchor){\r\n\t\t\t\t\tvar cr = this._compareNodes(this.anchor.rowNode, node.rowNode),\r\n\t\t\t\t\tbegin, end, anchor = this.anchor;\r\n\r\n\t\t\t\t\tif(cr < 0){ //current is after anchor\r\n\t\t\t\t\t\tbegin = anchor;\r\n\t\t\t\t\t\tend = node;\r\n\t\t\t\t\t}else{ //current is before anchor\r\n\t\t\t\t\t\tbegin = node;\r\n\t\t\t\t\t\tend = anchor;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar nodes = [];\r\n\t\t\t\t\t//add everything betweeen begin and end inclusively\r\n\t\t\t\t\twhile(begin != end){\r\n\t\t\t\t\t\tnodes.push(begin);\r\n\t\t\t\t\t\tbegin = this.tree._getNext(begin);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnodes.push(end);\r\n\r\n\t\t\t\t\tthis.setSelection(nodes);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif( this.selection[ node.id ] && multi ){\r\n\t\t\t\t\t\tthis.removeTreeNode( node );\r\n\t\t\t\t\t}else if(multi){\r\n\t\t\t\t\t\tthis.addTreeNode(node, true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.setSelection([node]);\r\n\t\t\t\t\t\tthis.anchor = node;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetItem: function(/*String*/ key){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the dojo/dnd/Container._Item (representing a dragged node) by it's key (id).\r\n\t\t\t//\t\tCalled by dojo/dnd/Source.checkAcceptance().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar widget = this.selection[key];\r\n\t\t\treturn {\r\n\t\t\t\tdata: widget,\r\n\t\t\t\ttype: [\"treeNode\"]\r\n\t\t\t}; // dojo/dnd/Container._Item\r\n\t\t},\r\n\r\n\t\tforInSelectedItems: function(/*Function*/ f, /*Object?*/ o){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIterates over selected items;\r\n\t\t\t//\t\tsee `dojo/dnd/Container.forInItems()` for details\r\n\t\t\to = o || kernel.global;\r\n\t\t\tfor(var id in this.selection){\r\n\t\t\t\t// console.log(\"selected item id: \" + id);\r\n\t\t\t\tf.call(o, this.getItem(id), id, this);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/Tree',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.map\r\n\t\"dojo/aspect\",\r\n\t\"dojo/cookie\", // cookie\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/Deferred\", // Deferred\r\n\t\"dojo/promise/all\",\r\n\t\"dojo/dom\", // dom.isDescendant\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove domClass.replace domClass.toggle\r\n\t\"dojo/dom-geometry\", // domGeometry.setMarginBox domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/errors/create\", // createError\r\n\t\"dojo/fx\", // fxUtils.wipeIn fxUtils.wipeOut\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // arrows etc.\r\n\t\"dojo/_base/lang\", // lang.getObject lang.mixin lang.hitch\r\n\t\"dojo/on\", // on(), on.selector()\r\n\t\"dojo/topic\",\r\n\t\"dojo/touch\",\r\n\t\"dojo/when\",\r\n\t\"./a11yclick\",\r\n\t\"./focus\",\r\n\t\"./registry\", // registry.byNode(), registry.getEnclosingWidget()\r\n\t\"./_base/manager\", // manager.defaultDuration\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_Container\",\r\n\t\"./_Contained\",\r\n\t\"./_CssStateMixin\",\r\n\t\"./_KeyNavMixin\",\r\n\t\"dojo/text!./templates/TreeNode.html\",\r\n\t\"dojo/text!./templates/Tree.html\",\r\n\t\"./tree/TreeStoreModel\",\r\n\t\"./tree/ForestStoreModel\",\r\n\t\"./tree/_dndSelector\",\r\n\t\"dojo/query!css2\"\t// needed when on.selector() used with a string for the selector\r\n], function(array, aspect, cookie, declare, Deferred, all,\r\n\t\t\tdom, domClass, domGeometry, domStyle, createError, fxUtils, has, kernel, keys, lang, on, topic, touch, when,\r\n\t\t\ta11yclick, focus, registry, manager, _Widget, _TemplatedMixin, _Container, _Contained, _CssStateMixin, _KeyNavMixin,\r\n\t\t\ttreeNodeTemplate, treeTemplate, TreeStoreModel, ForestStoreModel, _dndSelector){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Tree\r\n\r\n\tfunction shimmedPromise(/*Deferred|Promise*/ d){\r\n\t\t// summary:\r\n\t\t//\t\tReturn a Promise based on given Deferred or Promise, with back-compat addCallback() and addErrback() shims\r\n\t\t//\t\tadded (TODO: remove those back-compat shims, and this method, for 2.0)\r\n\r\n\t\treturn lang.delegate(d.promise || d, {\r\n\t\t\taddCallback: function(callback){\r\n\t\t\t\tthis.then(callback);\r\n\t\t\t},\r\n\t\t\taddErrback: function(errback){\r\n\t\t\t\tthis.otherwise(errback);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar TreeNode = declare(\"dijit._TreeNode\", [_Widget, _TemplatedMixin, _Container, _Contained, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tSingle node within a tree.   This class is used internally\r\n\t\t//\t\tby Tree and should not be accessed directly.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// item: [const] Item\r\n\t\t//\t\tthe dojo.data entry this tree represents\r\n\t\titem: null,\r\n\r\n\t\t// isTreeNode: [protected] Boolean\r\n\t\t//\t\tIndicates that this is a TreeNode.   Used by `dijit.Tree` only,\r\n\t\t//\t\tshould not be accessed directly.\r\n\t\tisTreeNode: true,\r\n\r\n\t\t// label: String\r\n\t\t//\t\tText of this tree node\r\n\t\tlabel: \"\",\r\n\t\t_setLabelAttr: function(val){\r\n\t\t\tthis.labelNode[this.labelType == \"html\" ? \"innerHTML\" : \"innerText\" in this.labelNode ?\r\n\t\t\t\t\"innerText\" : \"textContent\"] = val;\r\n\t\t\tthis._set(\"label\", val);\r\n\t\t},\r\n\r\n\t\t// labelType: [const] String\r\n\t\t//\t\tSpecifies how to interpret the label.  Can be \"html\" or \"text\".\r\n\t\tlabelType: \"text\",\r\n\r\n\t\t// isExpandable: [private] Boolean\r\n\t\t//\t\tThis node has children, so show the expando node (+ sign)\r\n\t\tisExpandable: null,\r\n\r\n\t\t// isExpanded: [readonly] Boolean\r\n\t\t//\t\tThis node is currently expanded (ie, opened)\r\n\t\tisExpanded: false,\r\n\r\n\t\t// state: [private] String\r\n\t\t//\t\tDynamic loading-related stuff.\r\n\t\t//\t\tWhen an empty folder node appears, it is \"NotLoaded\" first,\r\n\t\t//\t\tthen after dojo.data query it becomes \"Loading\" and, finally \"Loaded\"\r\n\t\tstate: \"NotLoaded\",\r\n\r\n\t\ttemplateString: treeNodeTemplate,\r\n\r\n\t\tbaseClass: \"dijitTreeNode\",\r\n\r\n\t\t// For hover effect for tree node, and focus effect for label\r\n\t\tcssStateNodes: {\r\n\t\t\trowNode: \"dijitTreeRow\"\r\n\t\t},\r\n\r\n\t\t// Tooltip is defined in _WidgetBase but we need to handle the mapping to DOM here\r\n\t\t_setTooltipAttr: {node: \"rowNode\", type: \"attribute\", attribute: \"title\"},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// set expand icon for leaf\r\n\t\t\tthis._setExpando();\r\n\r\n\t\t\t// set icon and label class based on item\r\n\t\t\tthis._updateItemClasses(this.item);\r\n\r\n\t\t\tif(this.isExpandable){\r\n\t\t\t\tthis.labelNode.setAttribute(\"aria-expanded\", this.isExpanded);\r\n\t\t\t}\r\n\r\n\t\t\t//aria-selected should be false on all selectable elements.\r\n\t\t\tthis.setSelected(false);\r\n\t\t},\r\n\r\n\t\t_setIndentAttr: function(indent){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTell this node how many levels it should be indented\r\n\t\t\t// description:\r\n\t\t\t//\t\t0 for top level nodes, 1 for their children, 2 for their\r\n\t\t\t//\t\tgrandchildren, etc.\r\n\r\n\t\t\t// Math.max() is to prevent negative padding on hidden root node (when indent == -1)\r\n\t\t\tvar pixels = (Math.max(indent, 0) * this.tree._nodePixelIndent) + \"px\";\r\n\r\n\t\t\tdomStyle.set(this.domNode, \"backgroundPosition\", pixels + \" 0px\");\t// TODOC: what is this for???\r\n\t\t\tdomStyle.set(this.rowNode, this.isLeftToRight() ? \"paddingLeft\" : \"paddingRight\", pixels);\r\n\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tchild.set(\"indent\", indent + 1);\r\n\t\t\t});\r\n\r\n\t\t\tthis._set(\"indent\", indent);\r\n\t\t},\r\n\r\n\t\tmarkProcessing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tVisually denote that tree is loading data, etc.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.state = \"Loading\";\r\n\t\t\tthis._setExpando(true);\r\n\t\t},\r\n\r\n\t\tunmarkProcessing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClear markup from markProcessing() call\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._setExpando(false);\r\n\t\t},\r\n\r\n\t\t_updateItemClasses: function(item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet appropriate CSS classes for icon and label dom node\r\n\t\t\t//\t\t(used to allow for item updates to change respective CSS)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar tree = this.tree, model = tree.model;\r\n\t\t\tif(tree._v10Compat && item === model.root){\r\n\t\t\t\t// For back-compat with 1.0, need to use null to specify root item (TODO: remove in 2.0)\r\n\t\t\t\titem = null;\r\n\t\t\t}\r\n\t\t\tthis._applyClassAndStyle(item, \"icon\", \"Icon\");\r\n\t\t\tthis._applyClassAndStyle(item, \"label\", \"Label\");\r\n\t\t\tthis._applyClassAndStyle(item, \"row\", \"Row\");\r\n\r\n\t\t\tthis.tree._startPaint(true);\t\t// signifies paint started and finished (synchronously)\r\n\t\t},\r\n\r\n\t\t_applyClassAndStyle: function(item, lower, upper){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the appropriate CSS classes and styles for labels, icons and rows.\r\n\t\t\t//\r\n\t\t\t// item:\r\n\t\t\t//\t\tThe data item.\r\n\t\t\t//\r\n\t\t\t// lower:\r\n\t\t\t//\t\tThe lower case attribute to use, e.g. 'icon', 'label' or 'row'.\r\n\t\t\t//\r\n\t\t\t// upper:\r\n\t\t\t//\t\tThe upper case attribute to use, e.g. 'Icon', 'Label' or 'Row'.\r\n\t\t\t//\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar clsName = \"_\" + lower + \"Class\";\r\n\t\t\tvar nodeName = lower + \"Node\";\r\n\t\t\tvar oldCls = this[clsName];\r\n\r\n\t\t\tthis[clsName] = this.tree[\"get\" + upper + \"Class\"](item, this.isExpanded);\r\n\t\t\tdomClass.replace(this[nodeName], this[clsName] || \"\", oldCls || \"\");\r\n\r\n\t\t\tdomStyle.set(this[nodeName], this.tree[\"get\" + upper + \"Style\"](item, this.isExpanded) || {});\r\n\t\t},\r\n\r\n\t\t_updateLayout: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet appropriate CSS classes for this.domNode\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// if we are hiding the root node then make every first level child look like a root node\r\n\t\t\tvar parent = this.getParent(),\r\n\t\t\t\tmarkAsRoot = !parent || !parent.rowNode || parent.rowNode.style.display == \"none\";\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitTreeIsRoot\", markAsRoot);\r\n\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitTreeIsLast\", !markAsRoot && !this.getNextSibling());\r\n\t\t},\r\n\r\n\t\t_setExpando: function(/*Boolean*/ processing){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the right image for the expando node\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar styles = [\"dijitTreeExpandoLoading\", \"dijitTreeExpandoOpened\",\r\n\t\t\t\t\t\"dijitTreeExpandoClosed\", \"dijitTreeExpandoLeaf\"],\r\n\t\t\t\t_a11yStates = [\"*\", \"-\", \"+\", \"*\"],\r\n\t\t\t\tidx = processing ? 0 : (this.isExpandable ? (this.isExpanded ? 1 : 2) : 3);\r\n\r\n\t\t\t// apply the appropriate class to the expando node\r\n\t\t\tdomClass.replace(this.expandoNode, styles[idx], styles);\r\n\r\n\t\t\t// provide a non-image based indicator for images-off mode\r\n\t\t\tthis.expandoNodeText.innerHTML = _a11yStates[idx];\r\n\r\n\t\t},\r\n\r\n\t\texpand: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tShow my children\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when expansion is complete\r\n\r\n\t\t\t// If there's already an expand in progress or we are already expanded, just return\r\n\t\t\tif(this._expandDeferred){\r\n\t\t\t\treturn shimmedPromise(this._expandDeferred);\t\t// dojo/promise/Promise\r\n\t\t\t}\r\n\r\n\t\t\t// cancel in progress collapse operation\r\n\t\t\tif(this._collapseDeferred){\r\n\t\t\t\tthis._collapseDeferred.cancel();\r\n\t\t\t\tdelete this._collapseDeferred;\r\n\t\t\t}\r\n\r\n\t\t\t// All the state information for when a node is expanded, maybe this should be\r\n\t\t\t// set when the animation completes instead\r\n\t\t\tthis.isExpanded = true;\r\n\t\t\tthis.labelNode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\tif(this.tree.showRoot || this !== this.tree.rootNode){\r\n\t\t\t\tthis.containerNode.setAttribute(\"role\", \"group\");\r\n\t\t\t}\r\n\t\t\tdomClass.add(this.contentNode, 'dijitTreeContentExpanded');\r\n\t\t\tthis._setExpando();\r\n\t\t\tthis._updateItemClasses(this.item);\r\n\r\n\t\t\tif(this == this.tree.rootNode && this.tree.showRoot){\r\n\t\t\t\tthis.tree.domNode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\t}\r\n\r\n\t\t\tvar wipeIn = fxUtils.wipeIn({\r\n\t\t\t\tnode: this.containerNode,\r\n\t\t\t\tduration: manager.defaultDuration\r\n\t\t\t});\r\n\r\n\t\t\t// Deferred that fires when expand is complete\r\n\t\t\tvar def = (this._expandDeferred = new Deferred(function(){\r\n\t\t\t\t// Canceller\r\n\t\t\t\twipeIn.stop();\r\n\t\t\t}));\r\n\r\n\t\t\taspect.after(wipeIn, \"onEnd\", function(){\r\n\t\t\t\tdef.resolve(true);\r\n\t\t\t}, true);\r\n\r\n\t\t\twipeIn.play();\r\n\r\n\t\t\treturn shimmedPromise(def);\t\t// dojo/promise/Promise\r\n\t\t},\r\n\r\n\t\tcollapse: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCollapse this node (if it's expanded)\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when collapse is complete\r\n\r\n\t\t\tif(this._collapseDeferred){\r\n\t\t\t\t// Node is already collapsed, or there's a collapse in progress, just return that Deferred\r\n\t\t\t\treturn shimmedPromise(this._collapseDeferred);\r\n\t\t\t}\r\n\r\n\t\t\t// cancel in progress expand operation\r\n\t\t\tif(this._expandDeferred){\r\n\t\t\t\tthis._expandDeferred.cancel();\r\n\t\t\t\tdelete this._expandDeferred;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isExpanded = false;\r\n\t\t\tthis.labelNode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\tif(this == this.tree.rootNode && this.tree.showRoot){\r\n\t\t\t\tthis.tree.domNode.setAttribute(\"aria-expanded\", \"false\");\r\n\t\t\t}\r\n\t\t\tdomClass.remove(this.contentNode, 'dijitTreeContentExpanded');\r\n\t\t\tthis._setExpando();\r\n\t\t\tthis._updateItemClasses(this.item);\r\n\r\n\t\t\tvar wipeOut = fxUtils.wipeOut({\r\n\t\t\t\tnode: this.containerNode,\r\n\t\t\t\tduration: manager.defaultDuration\r\n\t\t\t});\r\n\r\n\t\t\t// Deferred that fires when expand is complete\r\n\t\t\tvar def = (this._collapseDeferred = new Deferred(function(){\r\n\t\t\t\t// Canceller\r\n\t\t\t\twipeOut.stop();\r\n\t\t\t}));\r\n\r\n\t\t\taspect.after(wipeOut, \"onEnd\", function(){\r\n\t\t\t\tdef.resolve(true);\r\n\t\t\t}, true);\r\n\r\n\t\t\twipeOut.play();\r\n\r\n\t\t\treturn shimmedPromise(def);\t\t// dojo/promise/Promise\r\n\t\t},\r\n\r\n\t\t// indent: Integer\r\n\t\t//\t\tLevels from this node to the root node\r\n\t\tindent: 0,\r\n\r\n\t\tsetChildItems: function(/* Object[] */ items){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the child items of this node, removing/adding nodes\r\n\t\t\t//\t\tfrom current children to match specified items[] array.\r\n\t\t\t//\t\tAlso, if this.persist == true, expands any children that were previously\r\n\t\t\t//\t\topened.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves after all previously opened children\r\n\t\t\t//\t\thave been expanded again (or fires instantly if there are no such children).\r\n\r\n\t\t\tvar tree = this.tree,\r\n\t\t\t\tmodel = tree.model,\r\n\t\t\t\tdefs = [];\t// list of deferreds that need to fire before I am complete\r\n\r\n\r\n\t\t\tvar focusedChild = tree.focusedChild;\r\n\r\n\t\t\t// Orphan all my existing children.\r\n\t\t\t// If items contains some of the same items as before then we will reattach them.\r\n\t\t\t// Don't call this.removeChild() because that will collapse the tree etc.\r\n\t\t\tvar oldChildren = this.getChildren();\r\n\t\t\tarray.forEach(oldChildren, function(child){\r\n\t\t\t\t_Container.prototype.removeChild.call(this, child);\r\n\t\t\t}, this);\r\n\r\n\t\t\t// All the old children of this TreeNode are subject for destruction if\r\n\t\t\t//\t\t1) they aren't listed in the new children array (items)\r\n\t\t\t//\t\t2) they aren't immediately adopted by another node (DnD)\r\n\t\t\tthis.defer(function(){\r\n\t\t\t\tarray.forEach(oldChildren, function(node){\r\n\t\t\t\t\tif(!node._destroyed && !node.getParent()){\r\n\t\t\t\t\t\t// If node is in selection then remove it.\r\n\t\t\t\t\t\ttree.dndController.removeTreeNode(node);\r\n\r\n\t\t\t\t\t\t// Deregister mapping from item id --> this node and its descendants\r\n\t\t\t\t\t\tfunction remove(node){\r\n\t\t\t\t\t\t\tvar id = model.getIdentity(node.item),\r\n\t\t\t\t\t\t\t\tary = tree._itemNodesMap[id];\r\n\t\t\t\t\t\t\tif(ary.length == 1){\r\n\t\t\t\t\t\t\t\tdelete tree._itemNodesMap[id];\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tvar index = array.indexOf(ary, node);\r\n\t\t\t\t\t\t\t\tif(index != -1){\r\n\t\t\t\t\t\t\t\t\tary.splice(index, 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tarray.forEach(node.getChildren(), remove);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tremove(node);\r\n\r\n\t\t\t\t\t\t// Remove any entries involving this node from cookie tracking expanded nodes\r\n\t\t\t\t\t\tif(tree.persist){\r\n\t\t\t\t\t\t\tvar destroyedPath = array.map(node.getTreePath(),function(item){\r\n\t\t\t\t\t\t\t\treturn tree.model.getIdentity(item);\r\n\t\t\t\t\t\t\t}).join(\"/\");\r\n\t\t\t\t\t\t\tfor(var path in tree._openedNodes){\r\n\t\t\t\t\t\t\t\tif(path.substr(0, destroyedPath.length) == destroyedPath){\r\n\t\t\t\t\t\t\t\t\tdelete tree._openedNodes[path];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttree._saveExpandedNodes();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If we've orphaned the focused node then move focus to the root node\r\n\t\t\t\t\t\tif(tree.lastFocusedChild && !dom.isDescendant(tree.lastFocusedChild, tree.domNode)){\r\n\t\t\t\t\t\t\tdelete tree.lastFocusedChild;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(focusedChild && !dom.isDescendant(focusedChild, tree.domNode)){\r\n\t\t\t\t\t\t\ttree.focus();\t// could alternately focus this node (parent of the deleted node)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// And finally we can destroy the node\r\n\t\t\t\t\t\tnode.destroyRecursive();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\tthis.state = \"Loaded\";\r\n\r\n\t\t\tif(items && items.length > 0){\r\n\t\t\t\tthis.isExpandable = true;\r\n\r\n\t\t\t\t// Create _TreeNode widget for each specified tree node, unless one already\r\n\t\t\t\t// exists and isn't being used (presumably it's from a DnD move and was recently\r\n\t\t\t\t// released\r\n\t\t\t\tarray.forEach(items, function(item){    // MARKER: REUSE NODE\r\n\t\t\t\t\tvar id = model.getIdentity(item),\r\n\t\t\t\t\t\texistingNodes = tree._itemNodesMap[id],\r\n\t\t\t\t\t\tnode;\r\n\t\t\t\t\tif(existingNodes){\r\n\t\t\t\t\t\tfor(var i = 0; i < existingNodes.length; i++){\r\n\t\t\t\t\t\t\tif(existingNodes[i] && !existingNodes[i].getParent()){\r\n\t\t\t\t\t\t\t\tnode = existingNodes[i];\r\n\t\t\t\t\t\t\t\tnode.set('indent', this.indent + 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!node){\r\n\t\t\t\t\t\tnode = this.tree._createTreeNode({\r\n\t\t\t\t\t\t\titem: item,\r\n\t\t\t\t\t\t\ttree: tree,\r\n\t\t\t\t\t\t\tisExpandable: model.mayHaveChildren(item),\r\n\t\t\t\t\t\t\tlabel: tree.getLabel(item),\r\n\t\t\t\t\t\t\tlabelType: (tree.model && tree.model.labelType) || \"text\",\r\n\t\t\t\t\t\t\ttooltip: tree.getTooltip(item),\r\n\t\t\t\t\t\t\townerDocument: tree.ownerDocument,\r\n\t\t\t\t\t\t\tdir: tree.dir,\r\n\t\t\t\t\t\t\tlang: tree.lang,\r\n\t\t\t\t\t\t\ttextDir: tree.textDir,\r\n\t\t\t\t\t\t\tindent: this.indent + 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(existingNodes){\r\n\t\t\t\t\t\t\texistingNodes.push(node);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttree._itemNodesMap[id] = [node];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.addChild(node);\r\n\r\n\t\t\t\t\t// If node was previously opened then open it again now (this may trigger\r\n\t\t\t\t\t// more data store accesses, recursively)\r\n\t\t\t\t\tif(this.tree.autoExpand || this.tree._state(node)){\r\n\t\t\t\t\t\tdefs.push(tree._expandNode(node));\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\t// note that updateLayout() needs to be called on each child after\r\n\t\t\t\t// _all_ the children exist\r\n\t\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\t\tchild._updateLayout();\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.isExpandable = false;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._setExpando){\r\n\t\t\t\t// change expando to/from dot or + icon, as appropriate\r\n\t\t\t\tthis._setExpando(false);\r\n\t\t\t}\r\n\r\n\t\t\t// Set leaf icon or folder icon, as appropriate\r\n\t\t\tthis._updateItemClasses(this.item);\r\n\r\n\t\t\tvar def = all(defs);\r\n\t\t\tthis.tree._startPaint(def);\t\t// to reset TreeNode widths after an item is added/removed from the Tree\r\n\t\t\treturn shimmedPromise(def);\t\t// dojo/promise/Promise\r\n\t\t},\r\n\r\n\t\tgetTreePath: function(){\r\n\t\t\tvar node = this;\r\n\t\t\tvar path = [];\r\n\t\t\twhile(node && node !== this.tree.rootNode){\r\n\t\t\t\tpath.unshift(node.item);\r\n\t\t\t\tnode = node.getParent();\r\n\t\t\t}\r\n\t\t\tpath.unshift(this.tree.rootNode.item);\r\n\r\n\t\t\treturn path;\r\n\t\t},\r\n\r\n\t\tgetIdentity: function(){\r\n\t\t\treturn this.tree.model.getIdentity(this.item);\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/* treeNode */ node){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tif(children.length == 0){\r\n\t\t\t\tthis.isExpandable = false;\r\n\t\t\t\tthis.collapse();\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(children, function(child){\r\n\t\t\t\tchild._updateLayout();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmakeExpandable: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tif this node wasn't already showing the expando node,\r\n\t\t\t//\t\tturn it into one and call _setExpando()\r\n\r\n\t\t\t// TODO: hmm this isn't called from anywhere, maybe should remove it for 2.0\r\n\r\n\t\t\tthis.isExpandable = true;\r\n\t\t\tthis._setExpando(false);\r\n\t\t},\r\n\r\n\t\tsetSelected: function(/*Boolean*/ selected){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tA Tree has a (single) currently selected node.\r\n\t\t\t//\t\tMark that this node is/isn't that currently selected node.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIn particular, setting a node as selected involves setting tabIndex\r\n\t\t\t//\t\tso that when user tabs to the tree, focus will go to that node (only).\r\n\t\t\tthis.labelNode.setAttribute(\"aria-selected\", selected ? \"true\" : \"false\");\r\n\t\t\tdomClass.toggle(this.rowNode, \"dijitTreeRowSelected\", selected);\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tfocus.focus(this.focusNode);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTreeNode.extend({\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\tif(textDir && ((this.textDir != textDir) || !this._created)){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tthis.applyTextDir(this.labelNode);\r\n\t\t\t\t\tarray.forEach(this.getChildren(), function(childNode){\r\n\t\t\t\t\t\tchildNode.set(\"textDir\", textDir);\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar Tree = declare(\"dijit.Tree\", [_Widget, _KeyNavMixin, _TemplatedMixin, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tThis widget displays hierarchical data from a store.\r\n\r\n\t\tbaseClass: \"dijitTree\",\r\n\r\n\t\t// store: [deprecated] String|dojo/data/Store\r\n\t\t//\t\tDeprecated.  Use \"model\" parameter instead.\r\n\t\t//\t\tThe store to get data to display in the tree.\r\n\t\tstore: null,\r\n\r\n\t\t// model: [const] dijit/tree/model\r\n\t\t//\t\tInterface to read tree data, get notifications of changes to tree data,\r\n\t\t//\t\tand for handling drop operations (i.e drag and drop onto the tree)\r\n\t\tmodel: null,\r\n\r\n\t\t// query: [deprecated] anything\r\n\t\t//\t\tDeprecated.  User should specify query to the model directly instead.\r\n\t\t//\t\tSpecifies datastore query to return the root item or top items for the tree.\r\n\t\tquery: null,\r\n\r\n\t\t// label: [deprecated] String\r\n\t\t//\t\tDeprecated.  Use dijit/tree/ForestStoreModel directly instead.\r\n\t\t//\t\tUsed in conjunction with query parameter.\r\n\t\t//\t\tIf a query is specified (rather than a root node id), and a label is also specified,\r\n\t\t//\t\tthen a fake root node is created and displayed, with this label.\r\n\t\tlabel: \"\",\r\n\r\n\t\t// showRoot: [const] Boolean\r\n\t\t//\t\tShould the root node be displayed, or hidden?\r\n\t\tshowRoot: true,\r\n\r\n\t\t// childrenAttr: [deprecated] String[]\r\n\t\t//\t\tDeprecated.   This information should be specified in the model.\r\n\t\t//\t\tOne ore more attributes that holds children of a tree node\r\n\t\tchildrenAttr: [\"children\"],\r\n\r\n\t\t// paths: String[][] or Item[][]\r\n\t\t//\t\tFull paths from rootNode to selected nodes expressed as array of items or array of ids.\r\n\t\t//\t\tSince setting the paths may be asynchronous (because of waiting on dojo.data), set(\"paths\", ...)\r\n\t\t//\t\treturns a Promise to indicate when the set is complete.\r\n\t\tpaths: [],\r\n\r\n\t\t// path: String[] or Item[]\r\n\t\t//\t\tBackward compatible singular variant of paths.\r\n\t\tpath: [],\r\n\r\n\t\t// selectedItems: [readonly] Item[]\r\n\t\t//\t\tThe currently selected items in this tree.\r\n\t\t//\t\tThis property can only be set (via set('selectedItems', ...)) when that item is already\r\n\t\t//\t\tvisible in the tree.   (I.e. the tree has already been expanded to show that node.)\r\n\t\t//\t\tShould generally use `paths` attribute to set the selected items instead.\r\n\t\tselectedItems: null,\r\n\r\n\t\t// selectedItem: [readonly] Item\r\n\t\t//\t\tBackward compatible singular variant of selectedItems.\r\n\t\tselectedItem: null,\r\n\r\n\t\t// openOnClick: Boolean\r\n\t\t//\t\tIf true, clicking a folder node's label will open it, rather than calling onClick()\r\n\t\topenOnClick: false,\r\n\r\n\t\t// openOnDblClick: Boolean\r\n\t\t//\t\tIf true, double-clicking a folder node's label will open it, rather than calling onDblClick()\r\n\t\topenOnDblClick: false,\r\n\r\n\t\ttemplateString: treeTemplate,\r\n\r\n\t\t// persist: Boolean\r\n\t\t//\t\tEnables/disables use of cookies for state saving.\r\n\t\tpersist: false,\r\n\r\n\t\t// autoExpand: Boolean\r\n\t\t//\t\tFully expand the tree on load.   Overrides `persist`.\r\n\t\tautoExpand: false,\r\n\r\n\t\t// dndController: [protected] Function|String\r\n\t\t//\t\tClass to use as as the dnd controller.  Specifying this class enables DnD.\r\n\t\t//\t\tGenerally you should specify this as dijit/tree/dndSource.\r\n\t\t//\t\tSetting of dijit/tree/_dndSelector handles selection only (no actual DnD).\r\n\t\tdndController: _dndSelector,\r\n\r\n\t\t// parameters to pull off of the tree and pass on to the dndController as its params\r\n\t\tdndParams: [\"onDndDrop\", \"itemCreator\", \"onDndCancel\", \"checkAcceptance\", \"checkItemAcceptance\", \"dragThreshold\", \"betweenThreshold\"],\r\n\r\n\t\t//declare the above items so they can be pulled from the tree's markup\r\n\r\n\t\t// onDndDrop: [protected] Function\r\n\t\t//\t\tParameter to dndController, see `dijit/tree/dndSource.onDndDrop()`.\r\n\t\t//\t\tGenerally this doesn't need to be set.\r\n\t\tonDndDrop: null,\r\n\r\n\t\titemCreator: null,\r\n\t\t/*=====\r\n\t\titemCreator: function(nodes, target, source){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns objects passed to `Tree.model.newItem()` based on DnD nodes\r\n\t\t\t//\t\tdropped onto the tree.   Developer must override this method to enable\r\n\t\t\t//\t\tdropping from external sources onto this Tree, unless the Tree.model's items\r\n\t\t\t//\t\thappen to look like {id: 123, name: \"Apple\" } with no other attributes.\r\n\t\t\t//\r\n\t\t\t//\t\tFor each node in nodes[], which came from source, create a hash of name/value\r\n\t\t\t//\t\tpairs to be passed to Tree.model.newItem().  Returns array of those hashes.\r\n\t\t\t// nodes: DomNode[]\r\n\t\t\t//\t\tThe DOMNodes dragged from the source container\r\n\t\t\t// target: DomNode\r\n\t\t\t//\t\tThe target TreeNode.rowNode\r\n\t\t\t// source: dojo/dnd/Source\r\n\t\t\t//\t\tThe source container the nodes were dragged from, perhaps another Tree or a plain dojo/dnd/Source\r\n\t\t\t// returns: Object[]\r\n\t\t\t//\t\tArray of name/value hashes for each new item to be added to the Tree, like:\r\n\t\t\t// |\t[\r\n\t\t\t// |\t\t{ id: 123, label: \"apple\", foo: \"bar\" },\r\n\t\t\t// |\t\t{ id: 456, label: \"pear\", zaz: \"bam\" }\r\n\t\t\t// |\t]\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn [{}];\r\n\t\t},\r\n\t\t=====*/\r\n\r\n\t\t// onDndCancel: [protected] Function\r\n\t\t//\t\tParameter to dndController, see `dijit/tree/dndSource.onDndCancel()`.\r\n\t\t//\t\tGenerally this doesn't need to be set.\r\n\t\tonDndCancel: null,\r\n\r\n\t\t/*=====\r\n\t\tcheckAcceptance: function(source, nodes){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChecks if the Tree itself can accept nodes from this source\r\n\t\t\t// source: dijit/tree/dndSource\r\n\t\t\t//\t\tThe source which provides items\r\n\t\t\t// nodes: DOMNode[]\r\n\t\t\t//\t\tArray of DOM nodes corresponding to nodes being dropped, dijitTreeRow nodes if\r\n\t\t\t//\t\tsource is a dijit/Tree.\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn true;\t// Boolean\r\n\t\t},\r\n\t\t=====*/\r\n\t\tcheckAcceptance: null,\r\n\r\n\t\t/*=====\r\n\t\tcheckItemAcceptance: function(target, source, position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub function to be overridden if one wants to check for the ability to drop at the node/item level\r\n\t\t\t// description:\r\n\t\t\t//\t\tIn the base case, this is called to check if target can become a child of source.\r\n\t\t\t//\t\tWhen betweenThreshold is set, position=\"before\" or \"after\" means that we\r\n\t\t\t//\t\tare asking if the source node can be dropped before/after the target node.\r\n\t\t\t// target: DOMNode\r\n\t\t\t//\t\tThe dijitTreeRoot DOM node inside of the TreeNode that we are dropping on to\r\n\t\t\t//\t\tUse registry.getEnclosingWidget(target) to get the TreeNode.\r\n\t\t\t// source: dijit/tree/dndSource\r\n\t\t\t//\t\tThe (set of) nodes we are dropping\r\n\t\t\t// position: String\r\n\t\t\t//\t\t\"over\", \"before\", or \"after\"\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn true;\t// Boolean\r\n\t\t},\r\n\t\t=====*/\r\n\t\tcheckItemAcceptance: null,\r\n\r\n\t\t// dragThreshold: Integer\r\n\t\t//\t\tNumber of pixels mouse moves before it's considered the start of a drag operation\r\n\t\tdragThreshold: 5,\r\n\r\n\t\t// betweenThreshold: Integer\r\n\t\t//\t\tSet to a positive value to allow drag and drop \"between\" nodes.\r\n\t\t//\r\n\t\t//\t\tIf during DnD mouse is over a (target) node but less than betweenThreshold\r\n\t\t//\t\tpixels from the bottom edge, dropping the the dragged node will make it\r\n\t\t//\t\tthe next sibling of the target node, rather than the child.\r\n\t\t//\r\n\t\t//\t\tSimilarly, if mouse is over a target node but less that betweenThreshold\r\n\t\t//\t\tpixels from the top edge, dropping the dragged node will make it\r\n\t\t//\t\tthe target node's previous sibling rather than the target node's child.\r\n\t\tbetweenThreshold: 0,\r\n\r\n\t\t// _nodePixelIndent: Integer\r\n\t\t//\t\tNumber of pixels to indent tree nodes (relative to parent node).\r\n\t\t//\t\tDefault is 19 but can be overridden by setting CSS class dijitTreeIndent\r\n\t\t//\t\tand calling resize() or startup() on tree after it's in the DOM.\r\n\t\t_nodePixelIndent: 19,\r\n\r\n\t\t_publish: function(/*String*/ topicName, /*Object*/ message){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPublish a message for this widget/topic\r\n\t\t\ttopic.publish(this.id, lang.mixin({tree: this, event: topicName}, message || {}));\t// publish\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.tree = this;\r\n\r\n\t\t\tif(this.autoExpand){\r\n\t\t\t\t// There's little point in saving opened/closed state of nodes for a Tree\r\n\t\t\t\t// that initially opens all it's nodes.\r\n\t\t\t\tthis.persist = false;\r\n\t\t\t}\r\n\r\n\t\t\tthis._itemNodesMap = {};\r\n\r\n\t\t\tif(!this.cookieName && this.id){\r\n\t\t\t\tthis.cookieName = this.id + \"SaveStateCookie\";\r\n\t\t\t}\r\n\r\n\t\t\t// Deferred that resolves when all the children have loaded.\r\n\t\t\tthis.expandChildrenDeferred = new Deferred();\r\n\r\n\t\t\t// Promise that resolves when all pending operations complete.\r\n\t\t\tthis.pendingCommandsPromise = this.expandChildrenDeferred.promise;\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis._initState();\r\n\r\n\t\t\t// Catch events on TreeNodes\r\n\t\t\tvar self = this;\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.containerNode, on.selector(\".dijitTreeNode\", touch.enter), function(evt){\r\n\t\t\t\t\tself._onNodeMouseEnter(registry.byNode(this), evt);\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(\".dijitTreeNode\", touch.leave), function(evt){\r\n\t\t\t\t\tself._onNodeMouseLeave(registry.byNode(this), evt);\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(\".dijitTreeRow\", a11yclick.press), function(evt){\r\n\t\t\t\t\tself._onNodePress(registry.getEnclosingWidget(this), evt);\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(\".dijitTreeRow\", a11yclick), function(evt){\r\n\t\t\t\t\tself._onClick(registry.getEnclosingWidget(this), evt);\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.containerNode, on.selector(\".dijitTreeRow\", \"dblclick\"), function(evt){\r\n\t\t\t\t\tself._onDblClick(registry.getEnclosingWidget(this), evt);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\t// Create glue between store and Tree, if not specified directly by user\r\n\t\t\tif(!this.model){\r\n\t\t\t\tthis._store2model();\r\n\t\t\t}\r\n\r\n\t\t\t// monitor changes to items\r\n\t\t\tthis.own(\r\n\t\t\t\taspect.after(this.model, \"onChange\", lang.hitch(this, \"_onItemChange\"), true),\r\n\t\t\t\taspect.after(this.model, \"onChildrenChange\", lang.hitch(this, \"_onItemChildrenChange\"), true),\r\n\t\t\t\taspect.after(this.model, \"onDelete\", lang.hitch(this, \"_onItemDelete\"), true)\r\n\t\t\t);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this.dndController){\r\n\t\t\t\t// TODO: remove string support in 2.0.\r\n\t\t\t\tif(lang.isString(this.dndController)){\r\n\t\t\t\t\tthis.dndController = lang.getObject(this.dndController);\r\n\t\t\t\t}\r\n\t\t\t\tvar params = {};\r\n\t\t\t\tfor(var i = 0; i < this.dndParams.length; i++){\r\n\t\t\t\t\tif(this[this.dndParams[i]]){\r\n\t\t\t\t\t\tparams[this.dndParams[i]] = this[this.dndParams[i]];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.dndController = new this.dndController(this, params);\r\n\t\t\t}\r\n\r\n\t\t\tthis._load();\r\n\r\n\t\t\t// onLoadDeferred should fire when all commands that are part of initialization have completed.\r\n\t\t\t// It will include all the set(\"paths\", ...) commands that happen during initialization.\r\n\t\t\tthis.onLoadDeferred = shimmedPromise(this.pendingCommandsPromise);\r\n\r\n\t\t\tthis.onLoadDeferred.then(lang.hitch(this, \"onLoad\"));\r\n\t\t},\r\n\r\n\t\t_store2model: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser specified a store&query rather than model, so create model from store/query\r\n\t\t\tthis._v10Compat = true;\r\n\t\t\tkernel.deprecated(\"Tree: from version 2.0, should specify a model object rather than a store/query\");\r\n\r\n\t\t\tvar modelParams = {\r\n\t\t\t\tid: this.id + \"_ForestStoreModel\",\r\n\t\t\t\tstore: this.store,\r\n\t\t\t\tquery: this.query,\r\n\t\t\t\tchildrenAttrs: this.childrenAttr\r\n\t\t\t};\r\n\r\n\t\t\t// Only override the model's mayHaveChildren() method if the user has specified an override\r\n\t\t\tif(this.params.mayHaveChildren){\r\n\t\t\t\tmodelParams.mayHaveChildren = lang.hitch(this, \"mayHaveChildren\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.params.getItemChildren){\r\n\t\t\t\tmodelParams.getChildren = lang.hitch(this, function(item, onComplete, onError){\r\n\t\t\t\t\tthis.getItemChildren((this._v10Compat && item === this.model.root) ? null : item, onComplete, onError);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.model = new ForestStoreModel(modelParams);\r\n\r\n\t\t\t// For backwards compatibility, the visibility of the root node is controlled by\r\n\t\t\t// whether or not the user has specified a label\r\n\t\t\tthis.showRoot = Boolean(this.label);\r\n\t\t},\r\n\r\n\t\tonLoad: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when tree finishes loading and expanding.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf persist == true the loading may encompass many levels of fetches\r\n\t\t\t//\t\tfrom the data store, each asynchronous.   Waits for all to finish.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t_load: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInitial load of the tree.\r\n\t\t\t//\t\tLoad root node (possibly hidden) and it's children.\r\n\t\t\tthis.model.getRoot(\r\n\t\t\t\tlang.hitch(this, function(item){\r\n\t\t\t\t\tvar rn = (this.rootNode = this.tree._createTreeNode({\r\n\t\t\t\t\t\titem: item,\r\n\t\t\t\t\t\ttree: this,\r\n\t\t\t\t\t\tisExpandable: true,\r\n\t\t\t\t\t\tlabel: this.label || this.getLabel(item),\r\n\t\t\t\t\t\tlabelType: this.model.labelType || \"text\",\r\n\t\t\t\t\t\ttextDir: this.textDir,\r\n\t\t\t\t\t\tindent: this.showRoot ? 0 : -1\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\t\tif(!this.showRoot){\r\n\t\t\t\t\t\trn.rowNode.style.display = \"none\";\r\n\t\t\t\t\t\t// if root is not visible, move tree role to the invisible\r\n\t\t\t\t\t\t// root node's containerNode, see #12135\r\n\t\t\t\t\t\tthis.domNode.setAttribute(\"role\", \"presentation\");\r\n\t\t\t\t\t\tthis.domNode.removeAttribute(\"aria-expanded\");\r\n\t\t\t\t\t\tthis.domNode.removeAttribute(\"aria-multiselectable\");\r\n\r\n\t\t\t\t\t\t// move the aria-label or aria-labelledby to the element with the role\r\n\t\t\t\t\t\tif(this[\"aria-label\"]){\r\n\t\t\t\t\t\t\trn.containerNode.setAttribute(\"aria-label\", this[\"aria-label\"]);\r\n\t\t\t\t\t\t\tthis.domNode.removeAttribute(\"aria-label\");\r\n\t\t\t\t\t\t}else if(this[\"aria-labelledby\"]){\r\n\t\t\t\t\t\t\trn.containerNode.setAttribute(\"aria-labelledby\", this[\"aria-labelledby\"]);\r\n\t\t\t\t\t\t\tthis.domNode.removeAttribute(\"aria-labelledby\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trn.labelNode.setAttribute(\"role\", \"presentation\");\r\n\t\t\t\t\t\trn.containerNode.setAttribute(\"role\", \"tree\");\r\n\t\t\t\t\t\trn.containerNode.setAttribute(\"aria-expanded\", \"true\");\r\n\t\t\t\t\t\trn.containerNode.setAttribute(\"aria-multiselectable\", !this.dndController.singular);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.domNode.setAttribute(\"aria-multiselectable\", !this.dndController.singular);\r\n\t\t\t\t\t\tthis.rootLoadingIndicator.style.display = \"none\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.containerNode.appendChild(rn.domNode);\r\n\t\t\t\t\tvar identity = this.model.getIdentity(item);\r\n\t\t\t\t\tif(this._itemNodesMap[identity]){\r\n\t\t\t\t\t\tthis._itemNodesMap[identity].push(rn);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis._itemNodesMap[identity] = [rn];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trn._updateLayout();\t\t// sets \"dijitTreeIsRoot\" CSS classname\r\n\r\n\t\t\t\t\t// Load top level children, and if persist==true, all nodes that were previously opened\r\n\t\t\t\t\tthis._expandNode(rn).then(lang.hitch(this, function(){\r\n\t\t\t\t\t\t// Then, select the nodes specified by params.paths[], assuming Tree hasn't been deleted.\r\n\t\t\t\t\t\tif(!this._destroyed){\r\n\t\t\t\t\t\t\tthis.rootLoadingIndicator.style.display = \"none\";\r\n\t\t\t\t\t\t\tthis.expandChildrenDeferred.resolve(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\t}),\r\n\t\t\t\tlang.hitch(this, function(err){\r\n\t\t\t\t\tconsole.error(this, \": error loading root: \", err);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tgetNodesByItem: function(/*Item or id*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns all tree nodes that refer to an item\r\n\t\t\t// returns:\r\n\t\t\t//\t\tArray of tree nodes that refer to passed item\r\n\r\n\t\t\tif(!item){\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\tvar identity = lang.isString(item) ? item : this.model.getIdentity(item);\r\n\t\t\t// return a copy so widget don't get messed up by changes to returned array\r\n\t\t\treturn [].concat(this._itemNodesMap[identity]);\r\n\t\t},\r\n\r\n\t\t_setSelectedItemAttr: function(/*Item or id*/ item){\r\n\t\t\tthis.set('selectedItems', [item]);\r\n\t\t},\r\n\r\n\t\t_setSelectedItemsAttr: function(/*Items or ids*/ items){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect tree nodes related to passed items.\r\n\t\t\t//\t\tWARNING: if model use multi-parented items or desired tree node isn't already loaded\r\n\t\t\t//\t\tbehavior is undefined. Use set('paths', ...) instead.\r\n\t\t\tvar tree = this;\r\n\t\t\treturn this.pendingCommandsPromise = this.pendingCommandsPromise.always(lang.hitch(this, function(){\r\n\t\t\t\tvar identities = array.map(items, function(item){\r\n\t\t\t\t\treturn (!item || lang.isString(item)) ? item : tree.model.getIdentity(item);\r\n\t\t\t\t});\r\n\t\t\t\tvar nodes = [];\r\n\t\t\t\tarray.forEach(identities, function(id){\r\n\t\t\t\t\tnodes = nodes.concat(tree._itemNodesMap[id] || []);\r\n\t\t\t\t});\r\n\t\t\t\tthis.set('selectedNodes', nodes);\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_setPathAttr: function(/*Item[]|String[]*/ path){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSingular variant of _setPathsAttr\r\n\t\t\tif(path.length){\r\n\t\t\t\treturn shimmedPromise(this.set(\"paths\", [path]).then(function(paths){ return paths[0]; }));\r\n\t\t\t}else{\r\n\t\t\t\t// Empty list is interpreted as \"select nothing\"\r\n\t\t\t\treturn shimmedPromise(this.set(\"paths\", []).then(function(paths){ return paths[0]; }));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setPathsAttr: function(/*Item[][]|String[][]*/ paths){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSelect the tree nodes identified by passed paths.\r\n\t\t\t// paths:\r\n\t\t\t//\t\tArray of arrays of items or item id's\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise to indicate when the set is complete\r\n\r\n\t\t\tvar tree = this;\r\n\r\n\t\t\tfunction selectPath(path, nodes){\r\n\t\t\t\t// Traverse path, returning Promise for node at the end of the path.\r\n\t\t\t\t// The next path component should be among \"nodes\".\r\n\t\t\t\tvar nextPath = path.shift();\r\n\t\t\t\tvar nextNode = array.filter(nodes, function(node){\r\n\t\t\t\t\treturn node.getIdentity() == nextPath;\r\n\t\t\t\t})[0];\r\n\t\t\t\tif(!!nextNode){\r\n\t\t\t\t\tif(path.length){\r\n\t\t\t\t\t\treturn tree._expandNode(nextNode).then(function(){\r\n\t\t\t\t\t\t\treturn selectPath(path, nextNode.getChildren());\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Successfully reached the end of this path\r\n\t\t\t\t\t\treturn nextNode;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthrow new Tree.PathError(\"Could not expand path at \" + nextPath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Let any previous set(\"path\", ...) commands complete before this one starts.\r\n\t\t\t// TODO for 2.0: make the user do this wait themselves?\r\n\t\t\treturn shimmedPromise(this.pendingCommandsPromise = this.pendingCommandsPromise.always(function(){\r\n\t\t\t\t// We may need to wait for some nodes to expand, so setting\r\n\t\t\t\t// each path will involve a Deferred. We bring those deferreds\r\n\t\t\t\t// together with a dojo/promise/all.\r\n\t\t\t\treturn all(array.map(paths, function(path){\r\n\t\t\t\t\t// normalize path to use identity\r\n\t\t\t\t\tpath = array.map(path, function(item){\r\n\t\t\t\t\t\treturn lang.isString(item) ? item : tree.model.getIdentity(item);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(path.length){\r\n\t\t\t\t\t\treturn selectPath(path, [tree.rootNode]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthrow new Tree.PathError(\"Empty path\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}).then(function setNodes(newNodes){\r\n\t\t\t\t// After all expansion is finished, set the selection to last element from each path\r\n\t\t\t\ttree.set(\"selectedNodes\", newNodes);\r\n\t\t\t\treturn tree.paths;\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_setSelectedNodeAttr: function(node){\r\n\t\t\tthis.set('selectedNodes', [node]);\r\n\t\t},\r\n\t\t_setSelectedNodesAttr: function(nodes){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMarks the specified TreeNodes as selected.\r\n\t\t\t// nodes: TreeNode[]\r\n\t\t\t//\t\tTreeNodes to mark.\r\n\t\t\tthis.dndController.setSelection(nodes);\r\n\t\t},\r\n\r\n\r\n\t\texpandAll: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tExpand all nodes in the tree\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when all nodes have expanded\r\n\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tfunction expand(node){\r\n\t\t\t\t// Expand the node\r\n\t\t\t\treturn _this._expandNode(node).then(function(){\r\n\t\t\t\t\t// When node has expanded, call expand() recursively on each non-leaf child\r\n\t\t\t\t\tvar childBranches = array.filter(node.getChildren() || [], function(node){\r\n\t\t\t\t\t\treturn node.isExpandable;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// And when all those recursive calls finish, signal that I'm finished\r\n\t\t\t\t\treturn all(array.map(childBranches, expand));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn shimmedPromise(expand(this.rootNode));\r\n\t\t},\r\n\r\n\t\tcollapseAll: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCollapse all nodes in the tree\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when all nodes have collapsed\r\n\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tfunction collapse(node){\r\n\t\t\t\t// Collapse children first\r\n\t\t\t\tvar childBranches = array.filter(node.getChildren() || [], function(node){\r\n\t\t\t\t\t\treturn node.isExpandable;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tdefs = all(array.map(childBranches, collapse));\r\n\r\n\t\t\t\t// And when all those recursive calls finish, collapse myself, unless I'm the invisible root node,\r\n\t\t\t\t// in which case collapseAll() is finished\r\n\t\t\t\tif(!node.isExpanded || (node == _this.rootNode && !_this.showRoot)){\r\n\t\t\t\t\treturn defs;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// When node has collapsed, signal that call is finished\r\n\t\t\t\t\treturn defs.then(function(){\r\n\t\t\t\t\t\treturn _this._collapseNode(node);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn shimmedPromise(collapse(this.rootNode));\r\n\t\t},\r\n\r\n\t\t////////////// Data store related functions //////////////////////\r\n\t\t// These just get passed to the model; they are here for back-compat\r\n\r\n\t\tmayHaveChildren: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   This should be specified on the model itself.\r\n\t\t\t//\r\n\t\t\t//\t\tOverridable function to tell if an item has or may have children.\r\n\t\t\t//\t\tControls whether or not +/- expando icon is shown.\r\n\t\t\t//\t\t(For efficiency reasons we may not want to check if an element actually\r\n\t\t\t//\t\thas children until user clicks the expando node)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t},\r\n\r\n\t\tgetItemChildren: function(/*===== parentItem, onComplete =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   This should be specified on the model itself.\r\n\t\t\t//\r\n\t\t\t//\t\tOverridable function that return array of child items of given parent item,\r\n\t\t\t//\t\tor if parentItem==null then return top items in tree\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t},\r\n\r\n\t\t///////////////////////////////////////////////////////\r\n\t\t// Functions for converting an item to a TreeNode\r\n\t\tgetLabel: function(/*dojo/data/Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to get the label for a tree node (given the item)\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn this.model.getLabel(item);\t// String\r\n\t\t},\r\n\r\n\t\tgetIconClass: function(/*dojo/data/Item*/ item, /*Boolean*/ opened){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS class name to display icon\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn (!item || this.model.mayHaveChildren(item)) ? (opened ? \"dijitFolderOpened\" : \"dijitFolderClosed\") : \"dijitLeaf\"\r\n\t\t},\r\n\r\n\t\tgetLabelClass: function(/*===== item, opened =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS class name to display label\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// opened: Boolean\r\n\t\t\t// returns: String\r\n\t\t\t//\t\tCSS class name\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tgetRowClass: function(/*===== item, opened =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS class name to display row\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// opened: Boolean\r\n\t\t\t// returns: String\r\n\t\t\t//\t\tCSS class name\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tgetIconStyle: function(/*===== item, opened =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS styles to display icon\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// opened: Boolean\r\n\t\t\t// returns: Object\r\n\t\t\t//\t\tObject suitable for input to dojo.style() like {backgroundImage: \"url(...)\"}\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tgetLabelStyle: function(/*===== item, opened =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS styles to display label\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// opened: Boolean\r\n\t\t\t// returns:\r\n\t\t\t//\t\tObject suitable for input to dojo.style() like {color: \"red\", background: \"green\"}\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tgetRowStyle: function(/*===== item, opened =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return CSS styles to display row\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// opened: Boolean\r\n\t\t\t// returns:\r\n\t\t\t//\t\tObject suitable for input to dojo.style() like {background-color: \"#bbb\"}\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t},\r\n\r\n\t\tgetTooltip: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to get the tooltip for a tree node (given the item)\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn \"\";\t// String\r\n\t\t},\r\n\r\n\t\t/////////// Keyboard and Mouse handlers ////////////////////\r\n\r\n\r\n\t\t_onDownArrow: function(/*Event*/ evt, /*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdown arrow pressed; get next visible node, set focus there\r\n\r\n\t\t\tvar nextNode = this._getNext(node);\r\n\t\t\tif(nextNode && nextNode.isTreeNode){\r\n\t\t\t\tthis.focusNode(nextNode);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onUpArrow: function(/*Event*/ evt, /*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUp arrow pressed; move to previous visible node\r\n\r\n\t\t\t// if younger siblings\r\n\t\t\tvar previousSibling = node.getPreviousSibling();\r\n\t\t\tif(previousSibling){\r\n\t\t\t\tnode = previousSibling;\r\n\t\t\t\t// if the previous node is expanded, dive in deep\r\n\t\t\t\twhile(node.isExpandable && node.isExpanded && node.hasChildren()){\r\n\t\t\t\t\t// move to the last child\r\n\t\t\t\t\tvar children = node.getChildren();\r\n\t\t\t\t\tnode = children[children.length - 1];\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// if this is the first child, return the parent\r\n\t\t\t\t// unless the parent is the root of a tree with a hidden root\r\n\t\t\t\tvar parent = node.getParent();\r\n\t\t\t\tif(!(!this.showRoot && parent === this.rootNode)){\r\n\t\t\t\t\tnode = parent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(node && node.isTreeNode){\r\n\t\t\t\tthis.focusNode(node);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onRightArrow: function(/*Event*/ evt, /*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRight arrow pressed; go to child node\r\n\r\n\t\t\t// if not expanded, expand, else move to 1st child\r\n\t\t\tif(node.isExpandable && !node.isExpanded){\r\n\t\t\t\tthis._expandNode(node);\r\n\t\t\t}else if(node.hasChildren()){\r\n\t\t\t\tnode = node.getChildren()[0];\r\n\t\t\t\tif(node && node.isTreeNode){\r\n\t\t\t\t\tthis.focusNode(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onLeftArrow: function(/*Event*/ evt, /*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLeft arrow pressed.\r\n\t\t\t//\t\tIf not collapsed, collapse, else move to parent.\r\n\r\n\t\t\tif(node.isExpandable && node.isExpanded){\r\n\t\t\t\tthis._collapseNode(node);\r\n\t\t\t}else{\r\n\t\t\t\tvar parent = node.getParent();\r\n\t\t\t\tif(parent && parent.isTreeNode && !(!this.showRoot && parent === this.rootNode)){\r\n\t\t\t\t\tthis.focusNode(parent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocusLastChild: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEnd key pressed; go to last visible node.\r\n\r\n\t\t\tvar node = this._getLast();\r\n\t\t\tif(node && node.isTreeNode){\r\n\t\t\t\tthis.focusNode(node);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getFirst: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the first child.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\treturn this.showRoot ? this.rootNode : this.rootNode.getChildren()[0];\r\n\t\t},\r\n\r\n\t\t_getLast: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the last descendant.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\tvar node = this.rootNode;\r\n\t\t\twhile(node.isExpanded){\r\n\t\t\t\tvar c = node.getChildren();\r\n\t\t\t\tif(!c.length){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tnode = c[c.length - 1];\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t// Tree only searches forward so dir parameter is unused\r\n\t\t_getNext: function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the next descendant, compared to \"child\".\r\n\t\t\t// node: Widget\r\n\t\t\t//\t\tThe current widget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\r\n\t\t\tif(node.isExpandable && node.isExpanded && node.hasChildren()){\r\n\t\t\t\t// if this is an expanded node, get the first child\r\n\t\t\t\treturn node.getChildren()[0];\t\t// TreeNode\r\n\t\t\t}else{\r\n\t\t\t\t// find a parent node with a sibling\r\n\t\t\t\twhile(node && node.isTreeNode){\r\n\t\t\t\t\tvar returnNode = node.getNextSibling();\r\n\t\t\t\t\tif(returnNode){\r\n\t\t\t\t\t\treturn returnNode;\t\t// TreeNode\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode = node.getParent();\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Implement _KeyNavContainer.childSelector, to identify which nodes are navigable\r\n\t\tchildSelector: \".dijitTreeRow\",\r\n\r\n\t\tisExpandoNode: function(node, widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcheck whether a dom node is the expandoNode for a particular TreeNode widget\r\n\t\t\treturn dom.isDescendant(node, widget.expandoNode) || dom.isDescendant(node, widget.expandoNodeText);\r\n\t\t},\r\n\r\n\t\t_onNodePress: function(/*TreeNode*/ nodeWidget, /*Event*/ e){\r\n\t\t\t// Touching a node should focus it, even if you touch the expando node or the edges rather than the label.\r\n\t\t\t// Especially important to avoid _KeyNavMixin._onContainerFocus() causing the previously focused TreeNode\r\n\t\t\t// to get focus\r\n\t\t\tthis.focusNode(nodeWidget);\r\n\t\t},\r\n\r\n\t\t__click: function(/*TreeNode*/ nodeWidget, /*Event*/ e, /*Boolean*/doOpen, /*String*/func){\r\n\t\t\tvar domElement = e.target,\r\n\t\t\t\tisExpandoClick = this.isExpandoNode(domElement, nodeWidget);\r\n\r\n\t\t\tif(nodeWidget.isExpandable && (doOpen || isExpandoClick)){\r\n\t\t\t\t// expando node was clicked, or label of a folder node was clicked; open it\r\n\t\t\t\tthis._onExpandoClick({node: nodeWidget});\r\n\t\t\t}else{\r\n\t\t\t\tthis._publish(\"execute\", { item: nodeWidget.item, node: nodeWidget, evt: e });\r\n\t\t\t\tthis[func](nodeWidget.item, nodeWidget, e);\r\n\t\t\t\tthis.focusNode(nodeWidget);\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\t\t_onClick: function(/*TreeNode*/ nodeWidget, /*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTranslates click events into commands for the controller to process\r\n\t\t\tthis.__click(nodeWidget, e, this.openOnClick, 'onClick');\r\n\t\t},\r\n\t\t_onDblClick: function(/*TreeNode*/ nodeWidget, /*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTranslates double-click events into commands for the controller to process\r\n\t\t\tthis.__click(nodeWidget, e, this.openOnDblClick, 'onDblClick');\r\n\t\t},\r\n\r\n\t\t_onExpandoClick: function(/*Object*/ message){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser clicked the +/- icon; expand or collapse my children.\r\n\t\t\tvar node = message.node;\r\n\r\n\t\t\t// If we are collapsing, we might be hiding the currently focused node.\r\n\t\t\t// Also, clicking the expando node might have erased focus from the current node.\r\n\t\t\t// For simplicity's sake just focus on the node with the expando.\r\n\t\t\tthis.focusNode(node);\r\n\r\n\t\t\tif(node.isExpanded){\r\n\t\t\t\tthis._collapseNode(node);\r\n\t\t\t}else{\r\n\t\t\t\tthis._expandNode(node);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(/*===== item, node, evt =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a tree node is clicked\r\n\t\t\t// item: Object\r\n\t\t\t//\t\tObject from the dojo/store corresponding to this TreeNode\r\n\t\t\t// node: TreeNode\r\n\t\t\t//\t\tThe TreeNode itself\r\n\t\t\t// evt: Event\r\n\t\t\t//\t\tThe event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\t\tonDblClick: function(/*===== item, node, evt =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a tree node is double-clicked\r\n\t\t\t// item: Object\r\n\t\t\t//\t\tObject from the dojo/store corresponding to this TreeNode\r\n\t\t\t// node: TreeNode\r\n\t\t\t//\t\tThe TreeNode itself\r\n\t\t\t// evt: Event\r\n\t\t\t//\t\tThe event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\t\tonOpen: function(/*===== item, node =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a node is opened\r\n\t\t\t// item: dojo/data/Item\r\n\t\t\t// node: TreeNode\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\t\tonClose: function(/*===== item, node =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when a node is closed\r\n\t\t\t// item: Object\r\n\t\t\t//\t\tObject from the dojo/store corresponding to this TreeNode\r\n\t\t\t// node: TreeNode\r\n\t\t\t//\t\tThe TreeNode itself\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t_getNextNode: function(node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet next visible node\r\n\r\n\t\t\tkernel.deprecated(this.declaredClass + \"::_getNextNode(node) is deprecated. Use _getNext(node) instead.\", \"\", \"2.0\");\r\n\t\t\treturn this._getNext(node);\r\n\t\t},\r\n\r\n\t\t_getRootOrFirstNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet first visible node\r\n\t\t\tkernel.deprecated(this.declaredClass + \"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.\", \"\", \"2.0\");\r\n\t\t\treturn this._getFirst();\r\n\t\t},\r\n\r\n\t\t_collapseNode: function(/*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the user has requested to collapse the node\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when the node has finished closing\r\n\r\n\t\t\tif(node._expandNodeDeferred){\r\n\t\t\t\tdelete node._expandNodeDeferred;\r\n\t\t\t}\r\n\r\n\t\t\tif(node.state == \"Loading\"){\r\n\t\t\t\t// ignore clicks while we are in the process of loading data\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(node.isExpanded){\r\n\t\t\t\tvar ret = node.collapse();\r\n\r\n\t\t\t\tthis.onClose(node.item, node);\r\n\t\t\t\tthis._state(node, false);\r\n\r\n\t\t\t\tthis._startPaint(ret);\t// after this finishes, need to reset widths of TreeNodes\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_expandNode: function(/*TreeNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the user has requested to expand the node\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that resolves when the node is loaded and opened and (if persist=true) all it's descendants\r\n\t\t\t//\t\tthat were previously opened too\r\n\r\n\t\t\tif(node._expandNodeDeferred){\r\n\t\t\t\t// there's already an expand in progress, or completed, so just return\r\n\t\t\t\treturn node._expandNodeDeferred;\t// dojo/Deferred\r\n\t\t\t}\r\n\r\n\t\t\tvar model = this.model,\r\n\t\t\t\titem = node.item,\r\n\t\t\t\t_this = this;\r\n\r\n\t\t\t// Load data if it's not already loaded\r\n\t\t\tif(!node._loadDeferred){\r\n\t\t\t\t// need to load all the children before expanding\r\n\t\t\t\tnode.markProcessing();\r\n\r\n\t\t\t\t// Setup deferred to signal when the load and expand are finished.\r\n\t\t\t\t// Save that deferred in this._expandDeferred as a flag that operation is in progress.\r\n\t\t\t\tnode._loadDeferred = new Deferred();\r\n\r\n\t\t\t\t// Get the children\r\n\t\t\t\tmodel.getChildren(\r\n\t\t\t\t\titem,\r\n\t\t\t\t\tfunction(items){\r\n\t\t\t\t\t\tnode.unmarkProcessing();\r\n\r\n\t\t\t\t\t\t// Display the children and also start expanding any children that were previously expanded\r\n\t\t\t\t\t\t// (if this.persist == true).   The returned Deferred will fire when those expansions finish.\r\n\t\t\t\t\t\tnode.setChildItems(items).then(function(){\r\n\t\t\t\t\t\t\tnode._loadDeferred.resolve(items);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(err){\r\n\t\t\t\t\t\tconsole.error(_this, \": error loading \" + node.label + \" children: \", err);\r\n\t\t\t\t\t\tnode._loadDeferred.reject(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Expand the node after data has loaded\r\n\t\t\tvar def = node._loadDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\tvar def2 = node.expand();\r\n\r\n\t\t\t\t// seems like these should delayed until node.expand() completes, but left here for back-compat about\r\n\t\t\t\t// when this.isOpen flag gets set (ie, at the beginning of the animation)\r\n\t\t\t\tthis.onOpen(node.item, node);\r\n\t\t\t\tthis._state(node, true);\r\n\r\n\t\t\t\treturn def2;\r\n\t\t\t}));\r\n\r\n\t\t\tthis._startPaint(def);\t// after this finishes, need to reset widths of TreeNodes\r\n\r\n\t\t\treturn def;\t// dojo/promise/Promise\r\n\t\t},\r\n\r\n\t\t////////////////// Miscellaneous functions ////////////////\r\n\r\n\t\tfocusNode: function(/* _tree.Node */ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus on the specified node (which must be visible)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar scrollLeft = this.domNode.scrollLeft;\r\n\t\t\tthis.focusChild(node);\r\n\t\t\tthis.domNode.scrollLeft = scrollLeft;\r\n\t\t},\r\n\r\n\t\t_onNodeMouseEnter: function(/*dijit/_WidgetBase*/ /*===== node =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when mouse is over a node (onmouseenter event),\r\n\t\t\t//\t\tthis is monitored by the DND code\r\n\t\t},\r\n\r\n\t\t_onNodeMouseLeave: function(/*dijit/_WidgetBase*/ /*===== node =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when mouse leaves a node (onmouseleave event),\r\n\t\t\t//\t\tthis is monitored by the DND code\r\n\t\t},\r\n\r\n\t\t//////////////// Events from the model //////////////////////////\r\n\r\n\t\t_onItemChange: function(/*Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcesses notification of a change to an item's scalar values like label\r\n\t\t\tvar model = this.model,\r\n\t\t\t\tidentity = model.getIdentity(item),\r\n\t\t\t\tnodes = this._itemNodesMap[identity];\r\n\r\n\t\t\tif(nodes){\r\n\t\t\t\tvar label = this.getLabel(item),\r\n\t\t\t\t\ttooltip = this.getTooltip(item);\r\n\t\t\t\tarray.forEach(nodes, function(node){\r\n\t\t\t\t\tnode.set({\r\n\t\t\t\t\t\titem: item, // theoretically could be new JS Object representing same item\r\n\t\t\t\t\t\tlabel: label,\r\n\t\t\t\t\t\ttooltip: tooltip\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnode._updateItemClasses(item);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onItemChildrenChange: function(/*dojo/data/Item*/ parent, /*dojo/data/Item[]*/ newChildrenList){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcesses notification of a change to an item's children\r\n\t\t\tvar model = this.model,\r\n\t\t\t\tidentity = model.getIdentity(parent),\r\n\t\t\t\tparentNodes = this._itemNodesMap[identity];\r\n\r\n\t\t\tif(parentNodes){\r\n\t\t\t\tarray.forEach(parentNodes, function(parentNode){\r\n\t\t\t\t\tparentNode.setChildItems(newChildrenList);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onItemDelete: function(/*Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProcesses notification of a deletion of an item.\r\n\t\t\t//\t\tNot called from new dojo.store interface but there's cleanup code in setChildItems() instead.\r\n\r\n\t\t\tvar model = this.model,\r\n\t\t\t\tidentity = model.getIdentity(item),\r\n\t\t\t\tnodes = this._itemNodesMap[identity];\r\n\r\n\t\t\tif(nodes){\r\n\t\t\t\tarray.forEach(nodes, function(node){\r\n\t\t\t\t\t// Remove node from set of selected nodes (if it's selected)\r\n\t\t\t\t\tthis.dndController.removeTreeNode(node);\r\n\r\n\t\t\t\t\tvar parent = node.getParent();\r\n\t\t\t\t\tif(parent){\r\n\t\t\t\t\t\t// if node has not already been orphaned from a _onSetItem(parent, \"children\", ..) call...\r\n\t\t\t\t\t\tparent.removeChild(node);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If we've orphaned the focused node then move focus to the root node\r\n\t\t\t\t\tif(this.lastFocusedChild && !dom.isDescendant(this.lastFocusedChild, this.domNode)){\r\n\t\t\t\t\t\tdelete this.lastFocusedChild;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.focusedChild && !dom.isDescendant(this.focusedChild, this.domNode)){\r\n\t\t\t\t\t\tthis.focus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnode.destroyRecursive();\r\n\t\t\t\t}, this);\r\n\t\t\t\tdelete this._itemNodesMap[identity];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/////////////// Miscellaneous funcs\r\n\r\n\t\t_initState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLoad in which nodes should be opened automatically\r\n\t\t\tthis._openedNodes = {};\r\n\t\t\tif(this.persist && this.cookieName){\r\n\t\t\t\tvar oreo = cookie(this.cookieName);\r\n\t\t\t\tif(oreo){\r\n\t\t\t\t\tarray.forEach(oreo.split(','), function(item){\r\n\t\t\t\t\t\tthis._openedNodes[item] = true;\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_state: function(node, expanded){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tQuery or set expanded state for an node\r\n\t\t\tif(!this.persist){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar path = array.map(node.getTreePath(),function(item){\r\n\t\t\t\treturn this.model.getIdentity(item);\r\n\t\t\t}, this).join(\"/\");\r\n\t\t\tif(arguments.length === 1){\r\n\t\t\t\treturn this._openedNodes[path];\r\n\t\t\t}else{\r\n\t\t\t\tif(expanded){\r\n\t\t\t\t\tthis._openedNodes[path] = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdelete this._openedNodes[path];\r\n\t\t\t\t}\r\n\t\t\t\tthis._saveExpandedNodes();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_saveExpandedNodes: function(){\r\n\t\t\tif(this.persist && this.cookieName){\r\n\t\t\t\tvar ary = [];\r\n\t\t\t\tfor(var id in this._openedNodes){\r\n\t\t\t\t\tary.push(id);\r\n\t\t\t\t}\r\n\t\t\t\tcookie(this.cookieName, ary.join(\",\"), {expires: 365});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this._curSearch){\r\n\t\t\t\tthis._curSearch.timer.remove();\r\n\t\t\t\tdelete this._curSearch;\r\n\t\t\t}\r\n\t\t\tif(this.rootNode){\r\n\t\t\t\tthis.rootNode.destroyRecursive();\r\n\t\t\t}\r\n\t\t\tif(this.dndController && !lang.isString(this.dndController)){\r\n\t\t\t\tthis.dndController.destroy();\r\n\t\t\t}\r\n\t\t\tthis.rootNode = null;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tdestroyRecursive: function(){\r\n\t\t\t// A tree is treated as a leaf, not as a node with children (like a grid),\r\n\t\t\t// but defining destroyRecursive for back-compat.\r\n\t\t\tthis.destroy();\r\n\t\t},\r\n\r\n\t\tresize: function(changeSize){\r\n\t\t\tif(changeSize){\r\n\t\t\t\tdomGeometry.setMarginBox(this.domNode, changeSize);\r\n\t\t\t}\r\n\r\n\t\t\t// The main JS sizing involved w/tree is the indentation, which is specified\r\n\t\t\t// in CSS and read in through this dummy indentDetector node (tree must be\r\n\t\t\t// visible and attached to the DOM to read this).\r\n\t\t\t// If the Tree is hidden domGeometry.position(this.tree.indentDetector).w will return 0, in which case just\r\n\t\t\t// keep the default value.\r\n\t\t\tthis._nodePixelIndent = domGeometry.position(this.tree.indentDetector).w || this._nodePixelIndent;\r\n\r\n\t\t\t// resize() may be called before this.rootNode is created, so wait until it's available\r\n\t\t\tthis.expandChildrenDeferred.then(lang.hitch(this, function(){\r\n\t\t\t\t// If tree has already loaded, then reset indent for all the nodes\r\n\t\t\t\tthis.rootNode.set('indent', this.showRoot ? 0 : -1);\r\n\r\n\t\t\t\t// Also, adjust widths of all rows to match width of Tree\r\n\t\t\t\tthis._adjustWidths();\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_outstandingPaintOperations: 0,\r\n\t\t_startPaint: function(/*Promise|Boolean*/ p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled at the start of an operation that will change what's displayed.\r\n\t\t\t// p:\r\n\t\t\t//\t\tPromise that tells when the operation will complete.  Alternately, if it's just a Boolean, it signifies\r\n\t\t\t//\t\tthat the operation was synchronous, and already completed.\r\n\r\n\t\t\tthis._outstandingPaintOperations++;\r\n\t\t\tif(this._adjustWidthsTimer){\r\n\t\t\t\tthis._adjustWidthsTimer.remove();\r\n\t\t\t\tdelete this._adjustWidthsTimer;\r\n\t\t\t}\r\n\r\n\t\t\tvar oc = lang.hitch(this, function(){\r\n\t\t\t\tthis._outstandingPaintOperations--;\r\n\r\n\t\t\t\tif(this._outstandingPaintOperations <= 0 && !this._adjustWidthsTimer && this._started){\r\n\t\t\t\t\t// Use defer() to avoid a width adjustment when another operation will immediately follow,\r\n\t\t\t\t\t// such as a sequence of opening a node, then it's children, then it's grandchildren, etc.\r\n\t\t\t\t\tthis._adjustWidthsTimer = this.defer(\"_adjustWidths\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\twhen(p, oc, oc);\r\n\t\t},\r\n\r\n\t\t_adjustWidths: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSize container to match widest TreeNode, so that highlighting with scrolling works (#13141, #16132)\r\n\r\n\t\t\tif(this._adjustWidthsTimer){\r\n\t\t\t\tthis._adjustWidthsTimer.remove();\r\n\t\t\t\tdelete this._adjustWidthsTimer;\r\n\t\t\t}\r\n\r\n\t\t\tthis.containerNode.style.width = \"auto\";\r\n\t\t\tthis.containerNode.style.width = this.domNode.scrollWidth > this.domNode.offsetWidth ? \"auto\" : \"100%\";\r\n\t\t},\r\n\r\n\t\t_createTreeNode: function(/*Object*/ args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcreates a TreeNode\r\n\t\t\t// description:\r\n\t\t\t//\t\tDevelopers can override this method to define their own TreeNode class;\r\n\t\t\t//\t\tHowever it will probably be removed in a future release in favor of a way\r\n\t\t\t//\t\tof just specifying a widget for the label, rather than one that contains\r\n\t\t\t//\t\tthe children too.\r\n\t\t\treturn new TreeNode(args);\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDefault focus() implementation: focus the previously focused child, or first child.\r\n\t\t\t//\t\tSome applications may want to change this method to focus the [first] selected child.\r\n\r\n\t\t\tif(this.lastFocusedChild){\r\n\t\t\t\tthis.focusNode(this.lastFocusedChild);\r\n\t\t\t}else{\r\n\t\t\t\tthis.focusFirstChild();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTree.extend({\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\tif(textDir && this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tthis.rootNode.set(\"textDir\", textDir);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tTree.PathError = createError(\"TreePathError\");\r\n\tTree._TreeNode = TreeNode;\t// for monkey patching or creating subclasses of TreeNode\r\n\r\n\treturn Tree;\r\n});\r\n\n\ndefine('dijit/InlineEditBox',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set domAttr.get\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove domClass.toggle\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.destroy\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle domStyle.set domStyle.get\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // keys.ENTER keys.ESCAPE\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/when\",\r\n\t\"./a11yclick\",\r\n\t\"./focus\",\r\n\t\"./_Widget\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./_WidgetsInTemplateMixin\",\r\n\t\"./_Container\",\r\n\t\"./form/Button\",\r\n\t\"./form/_TextBoxMixin\",\r\n\t\"./form/TextBox\",\r\n\t\"dojo/text!./templates/InlineEditBox.html\",\r\n\t\"dojo/i18n!./nls/common\"\r\n], function(require, array, aspect, declare, domAttr, domClass, domConstruct, domStyle, i18n, kernel, keys, lang, on, has, when, a11yclick, fm, _Widget, _TemplatedMixin, _WidgetsInTemplateMixin, _Container, Button, _TextBoxMixin, TextBox, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/InlineEditBox\r\n\r\n\tvar InlineEditor = declare(\"dijit._InlineEditor\", [_Widget, _TemplatedMixin, _WidgetsInTemplateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tInternal widget used by InlineEditBox, displayed when in editing mode\r\n\t\t//\t\tto display the editor and maybe save/cancel buttons.  Calling code should\r\n\t\t//\t\tconnect to save/cancel methods to detect when editing is finished\r\n\t\t//\r\n\t\t//\t\tHas mainly the same parameters as InlineEditBox, plus these values:\r\n\t\t//\r\n\t\t// style: Object\r\n\t\t//\t\tSet of CSS attributes of display node, to replicate in editor\r\n\t\t//\r\n\t\t// value: String\r\n\t\t//\t\tValue as an HTML string or plain text string, depending on renderAsHTML flag\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tcontextRequire: require,\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.messages = i18n.getLocalization(\"dijit\", \"common\", this.lang);\r\n\t\t\tarray.forEach([\"buttonSave\", \"buttonCancel\"], function(prop){\r\n\t\t\t\tif(!this[prop]){\r\n\t\t\t\t\tthis[prop] = this.messages[prop];\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Create edit widget in place in the template\r\n\t\t\t// TODO: remove getObject() for 2.0\r\n\t\t\tvar Cls = typeof this.editor == \"string\" ? (lang.getObject(this.editor) || require(this.editor)) : this.editor;\r\n\r\n\t\t\t// Copy the style from the source\r\n\t\t\t// Don't copy ALL properties though, just the necessary/applicable ones.\r\n\t\t\t// wrapperStyle/destStyle code is to workaround IE bug where getComputedStyle().fontSize\r\n\t\t\t// is a relative value like 200%, rather than an absolute value like 24px, and\r\n\t\t\t// the 200% can refer *either* to a setting on the node or it's ancestor (see #11175)\r\n\t\t\tvar srcStyle = this.sourceStyle,\r\n\t\t\t\teditStyle = \"line-height:\" + srcStyle.lineHeight + \";\",\r\n\t\t\t\tdestStyle = domStyle.getComputedStyle(this.domNode);\r\n\t\t\tarray.forEach([\"Weight\", \"Family\", \"Size\", \"Style\"], function(prop){\r\n\t\t\t\tvar textStyle = srcStyle[\"font\" + prop],\r\n\t\t\t\t\twrapperStyle = destStyle[\"font\" + prop];\r\n\t\t\t\tif(wrapperStyle != textStyle){\r\n\t\t\t\t\teditStyle += \"font-\" + prop + \":\" + srcStyle[\"font\" + prop] + \";\";\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tarray.forEach([\"marginTop\", \"marginBottom\", \"marginLeft\", \"marginRight\", \"position\", \"left\", \"top\", \"right\", \"bottom\", \"float\", \"clear\", \"display\"], function(prop){\r\n\t\t\t\tthis.domNode.style[prop] = srcStyle[prop];\r\n\t\t\t}, this);\r\n\t\t\tvar width = this.inlineEditBox.width;\r\n\t\t\tif(width == \"100%\"){\r\n\t\t\t\t// block mode\r\n\t\t\t\teditStyle += \"width:100%;\";\r\n\t\t\t\tthis.domNode.style.display = \"block\";\r\n\t\t\t}else{\r\n\t\t\t\t// inline-block mode\r\n\t\t\t\teditStyle += \"width:\" + (width + (Number(width) == width ? \"px\" : \"\")) + \";\";\r\n\t\t\t}\r\n\t\t\tvar editorParams = lang.delegate(this.inlineEditBox.editorParams, {\r\n\t\t\t\tstyle: editStyle,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir\r\n\t\t\t});\r\n\t\t\t// set the value in onLoadDeferred instead so the widget has time to finish initializing\r\n\t\t\t//editorParams[(\"displayedValue\" in Cls.prototype || \"_setDisplayedValueAttr\" in Cls.prototype) ? \"displayedValue\" : \"value\"] = this.value;\r\n\t\t\tthis.editWidget = new Cls(editorParams, this.editorPlaceholder);\r\n\r\n\t\t\tif(this.inlineEditBox.autoSave){\r\n\t\t\t\t// Remove the save/cancel buttons since saving is done by simply tabbing away or\r\n\t\t\t\t// selecting a value from the drop down list\r\n\t\t\t\tthis.saveButton.destroy();\r\n\t\t\t\tthis.cancelButton.destroy();\r\n\t\t\t\tthis.saveButton = this.cancelButton = null;\r\n\t\t\t\tdomConstruct.destroy(this.buttonContainer);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar ew = this.editWidget;\r\n\r\n\t\t\tif(this.inlineEditBox.autoSave){\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\t// Selecting a value from a drop down list causes an onChange event and then we save\r\n\t\t\t\t\taspect.after(ew, \"onChange\", lang.hitch(this, \"_onChange\"), true),\r\n\r\n\t\t\t\t\t// ESC and TAB should cancel and save.\r\n\t\t\t\t\ton(ew, \"keydown\", lang.hitch(this, \"_onKeyDown\"))\r\n\t\t\t\t);\r\n\t\t\t}else{\r\n\t\t\t\t// If possible, enable/disable save button based on whether the user has changed the value\r\n\t\t\t\tif(\"intermediateChanges\" in ew){\r\n\t\t\t\t\tew.set(\"intermediateChanges\", true);\r\n\t\t\t\t\tthis.own(aspect.after(ew, \"onChange\", lang.hitch(this, \"_onIntermediateChange\"), true));\r\n\t\t\t\t\tthis.saveButton.set(\"disabled\", true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.editWidget.startup();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onIntermediateChange: function(/*===== val =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled for editor widgets that support the intermediateChanges=true flag as a way\r\n\t\t\t//\t\tto detect when to enable/disabled the save button\r\n\t\t\tthis.saveButton.set(\"disabled\", (this.getValue() == this._resetValue) || !this.enableSave());\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis.editWidget.destroy(true); // let the parent wrapper widget clean up the DOM\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tgetValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the [display] value of the edit widget\r\n\t\t\tvar ew = this.editWidget;\r\n\t\t\treturn String(ew.get((\"displayedValue\" in ew || \"_getDisplayedValueAttr\" in ew) ? \"displayedValue\" : \"value\"));\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for keydown in the edit box in autoSave mode.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFor autoSave widgets, if Esc/Enter, call cancel/save.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.inlineEditBox.autoSave && this.inlineEditBox.editing){\r\n\t\t\t\tif(e.altKey || e.ctrlKey){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// If Enter/Esc pressed, treat as save/cancel.\r\n\t\t\t\tif(e.keyCode == keys.ESCAPE){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.cancel(true); // sets editing=false which short-circuits _onBlur processing\r\n\t\t\t\t}else if(e.keyCode == keys.ENTER && e.target.tagName == \"INPUT\"){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis._onChange(); // fire _onBlur and then save\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// _onBlur will handle TAB automatically by allowing\r\n\t\t\t\t// the TAB to change focus before we mess with the DOM: #6227\r\n\t\t\t\t// Expounding by request:\r\n\t\t\t\t//\tThe current focus is on the edit widget input field.\r\n\t\t\t\t//\tsave() will hide and destroy this widget.\r\n\t\t\t\t//\tWe want the focus to jump from the currently hidden\r\n\t\t\t\t//\tdisplayNode, but since it's hidden, it's impossible to\r\n\t\t\t\t//\tunhide it, focus it, and then have the browser focus\r\n\t\t\t\t//\taway from it to the next focusable element since each\r\n\t\t\t\t//\tof these events is asynchronous and the focus-to-next-element\r\n\t\t\t\t//\tis already queued.\r\n\t\t\t\t//\tSo we allow the browser time to unqueue the move-focus event\r\n\t\t\t\t//\tbefore we do all the hide/show stuff.\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when focus moves outside the editor\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.inlineEditBox.autoSave && this.inlineEditBox.editing){\r\n\t\t\t\tif(this.getValue() == this._resetValue){\r\n\t\t\t\t\tthis.cancel(false);\r\n\t\t\t\t}else if(this.enableSave()){\r\n\t\t\t\t\tthis.save(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onChange: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when the underlying widget fires an onChange event,\r\n\t\t\t//\t\tsuch as when the user selects a value from the drop down list of a ComboBox,\r\n\t\t\t//\t\twhich means that the user has finished entering the value and we should save.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.inlineEditBox.autoSave && this.inlineEditBox.editing && this.enableSave()){\r\n\t\t\t\tfm.focus(this.inlineEditBox.displayNode); // fires _onBlur which will save the formatted value\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tenableSave: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser overridable function returning a Boolean to indicate\r\n\t\t\t//\t\tif the Save button should be enabled or not - usually due to invalid conditions\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\treturn this.editWidget.isValid ? this.editWidget.isValid() : true;\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the edit widget.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tthis.editWidget.focus();\r\n\r\n\t\t\tif(this.editWidget.focusNode){\r\n\t\t\t\t// IE can take 30ms to report the focus event, but focus manager needs to know before a 0ms timeout.\r\n\t\t\t\tfm._onFocusNode(this.editWidget.focusNode);\r\n\r\n\t\t\t\tif(this.editWidget.focusNode.tagName == \"INPUT\"){\r\n\t\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\t\t_TextBoxMixin.selectInputText(this.editWidget.focusNode);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tvar InlineEditBox = declare(\"dijit.InlineEditBox\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), _Widget, {\r\n\t\t// summary:\r\n\t\t//\t\tAn element with in-line edit capabilities\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tBehavior for an existing node (`<p>`, `<div>`, `<span>`, etc.) so that\r\n\t\t//\t\twhen you click it, an editor shows up in place of the original\r\n\t\t//\t\ttext.  Optionally, Save and Cancel button are displayed below the edit widget.\r\n\t\t//\t\tWhen Save is clicked, the text is pulled from the edit\r\n\t\t//\t\twidget and redisplayed and the edit widget is again hidden.\r\n\t\t//\t\tBy default a plain Textarea widget is used as the editor (or for\r\n\t\t//\t\tinline values a TextBox), but you can specify an editor such as\r\n\t\t//\t\tdijit.Editor (for editing HTML) or a Slider (for adjusting a number).\r\n\t\t//\t\tAn edit widget must support the following API to be used:\r\n\t\t//\r\n\t\t//\t\t- displayedValue or value as initialization parameter,\r\n\t\t//\t\t\tand available through set('displayedValue') / set('value')\r\n\t\t//\t\t- void focus()\r\n\t\t//\t\t- DOM-node focusNode = node containing editable text\r\n\r\n\t\t// editing: [readonly] Boolean\r\n\t\t//\t\tIs the node currently in edit mode?\r\n\t\tediting: false,\r\n\r\n\t\t// autoSave: [const] Boolean\r\n\t\t//\t\tChanging the value automatically saves it; don't have to push save button\r\n\t\t//\t\t(and save button isn't even displayed)\r\n\t\tautoSave: true,\r\n\r\n\t\t// buttonSave: String\r\n\t\t//\t\tSave button label\r\n\t\tbuttonSave: \"\",\r\n\r\n\t\t// buttonCancel: String\r\n\t\t//\t\tCancel button label\r\n\t\tbuttonCancel: \"\",\r\n\r\n\t\t// renderAsHtml: Boolean\r\n\t\t//\t\tSet this to true if the specified Editor's value should be interpreted as HTML\r\n\t\t//\t\trather than plain text (ex: `dijit.Editor`)\r\n\t\trenderAsHtml: false,\r\n\r\n\t\t// editor: String|Function\r\n\t\t//\t\tMID (ex: \"dijit/form/TextBox\") or constructor for editor widget\r\n\t\teditor: TextBox,\r\n\r\n\t\t// editorWrapper: String|Function\r\n\t\t//\t\tClass name (or reference to the Class) for widget that wraps the editor widget, displaying save/cancel\r\n\t\t//\t\tbuttons.\r\n\t\teditorWrapper: InlineEditor,\r\n\r\n\t\t// editorParams: Object\r\n\t\t//\t\tSet of parameters for editor, like {required: true}\r\n\t\teditorParams: {},\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tIf true, clicking the InlineEditBox to edit it will have no effect.\r\n\t\tdisabled: false,\r\n\r\n\t\tonChange: function(/*===== value =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet this handler to be notified of changes to value.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonCancel: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet this handler to be notified when editing is cancelled.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\t// width: String\r\n\t\t//\t\tWidth of editor.  By default it's width=100% (ie, block mode).\r\n\t\twidth: \"100%\",\r\n\r\n\t\t// value: String\r\n\t\t//\t\tThe display value of the widget in read-only mode\r\n\t\tvalue: \"\",\r\n\r\n\t\t// noValueIndicator: [const] String\r\n\t\t//\t\tThe text that gets displayed when there is no value (so that the user has a place to click to edit)\r\n\t\tnoValueIndicator: has(\"ie\") <= 6 ? // font-family needed on IE6 but it messes up IE8\r\n\t\t\t\"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>\" :\r\n\t\t\t\"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>\", // &#160; == &nbsp;\r\n\r\n\t\tconstructor: function(/*===== params, srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified:\r\n\t\t\t//\r\n\t\t\t//\t\t- use srcNodeRef.innerHTML as my value\r\n\t\t\t//\t\t- replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\tthis.editorParams = {};\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// save pointer to original source node, since Widget nulls-out srcNodeRef\r\n\t\t\tthis.displayNode = this.srcNodeRef;\r\n\r\n\t\t\t// connect handlers to the display node\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.displayNode, a11yclick, lang.hitch(this, \"_onClick\")),\r\n\t\t\t\ton(this.displayNode, \"mouseover, focus\", lang.hitch(this, \"_onMouseOver\")),\r\n\t\t\t\ton(this.displayNode, \"mouseout, blur\", lang.hitch(this, \"_onMouseOut\"))\r\n\t\t\t);\r\n\r\n\t\t\tthis.displayNode.setAttribute(\"role\", \"button\");\r\n\t\t\tif(!this.displayNode.getAttribute(\"tabIndex\")){\r\n\t\t\t\tthis.displayNode.setAttribute(\"tabIndex\", 0);\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.value && !(\"value\" in this.params)){ // \"\" is a good value if specified directly so check params){\r\n\t\t\t\tthis.value = lang.trim(this.renderAsHtml ? this.displayNode.innerHTML :\r\n\t\t\t\t\t(this.displayNode.innerText || this.displayNode.textContent || \"\"));\r\n\t\t\t}\r\n\t\t\tif(!this.value){\r\n\t\t\t\tthis.displayNode.innerHTML = this.noValueIndicator;\r\n\t\t\t}\r\n\r\n\t\t\tdomClass.add(this.displayNode, 'dijitInlineEditBoxDisplayMode');\r\n\t\t},\r\n\r\n\t\tsetDisabled: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('disabled', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('disabled', disabled);\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"disabled\", ...) work.\r\n\t\t\t//\t\tSet disabled state of widget.\r\n\t\t\tthis.domNode.setAttribute(\"aria-disabled\", disabled ? \"true\" : \"false\");\r\n\t\t\tif(disabled){\r\n\t\t\t\tthis.displayNode.removeAttribute(\"tabIndex\");\r\n\t\t\t}else{\r\n\t\t\t\tthis.displayNode.setAttribute(\"tabIndex\", 0);\r\n\t\t\t}\r\n\t\t\tdomClass.toggle(this.displayNode, \"dijitInlineEditBoxDisplayModeDisabled\", disabled);\r\n\t\t\tthis._set(\"disabled\", disabled);\r\n\t\t},\r\n\r\n\t\t_onMouseOver: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onmouseover and onfocus event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tdomClass.add(this.displayNode, \"dijitInlineEditBoxDisplayModeHover\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseOut: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onmouseout and onblur event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tdomClass.remove(this.displayNode, \"dijitInlineEditBoxDisplayModeHover\");\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onclick event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.disabled){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(e){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tthis._onMouseOut();\r\n\r\n\t\t\t// Since FF gets upset if you move a node while in an event handler for that node...\r\n\t\t\tthis.defer(\"edit\");\r\n\t\t},\r\n\r\n\t\tedit: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplay the editor widget in place of the original (read only) markup.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.disabled || this.editing){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._set('editing', true);\r\n\r\n\t\t\t// save some display node values that can be restored later\r\n\t\t\tthis._savedTabIndex = domAttr.get(this.displayNode, \"tabIndex\") || \"0\";\r\n\r\n\t\t\tif(!this.wrapperWidget){\r\n\t\t\t\t// Placeholder for edit widget\r\n\t\t\t\t// Put place holder (and eventually editWidget) before the display node so that it's positioned correctly\r\n\t\t\t\t// when Calendar dropdown appears, which happens automatically on focus.\r\n\t\t\t\tvar placeholder = domConstruct.create(\"span\", null, this.domNode, \"before\");\r\n\r\n\t\t\t\t// Create the editor wrapper (the thing that holds the editor widget and the save/cancel buttons)\r\n\t\t\t\tvar Ewc = typeof this.editorWrapper == \"string\" ? lang.getObject(this.editorWrapper) : this.editorWrapper;\r\n\t\t\t\tthis.wrapperWidget = new Ewc({\r\n\t\t\t\t\tvalue: this.value,\r\n\t\t\t\t\tbuttonSave: this.buttonSave,\r\n\t\t\t\t\tbuttonCancel: this.buttonCancel,\r\n\t\t\t\t\tdir: this.dir,\r\n\t\t\t\t\tlang: this.lang,\r\n\t\t\t\t\ttabIndex: this._savedTabIndex,\r\n\t\t\t\t\teditor: this.editor,\r\n\t\t\t\t\tinlineEditBox: this,\r\n\t\t\t\t\tsourceStyle: domStyle.getComputedStyle(this.displayNode),\r\n\t\t\t\t\tsave: lang.hitch(this, \"save\"),\r\n\t\t\t\t\tcancel: lang.hitch(this, \"cancel\"),\r\n\t\t\t\t\ttextDir: this.textDir\r\n\t\t\t\t}, placeholder);\r\n\t\t\t\tif(!this.wrapperWidget._started){\r\n\t\t\t\t\tthis.wrapperWidget.startup();\r\n\t\t\t\t}\r\n\t\t\t\tif(!this._started){\r\n\t\t\t\t\tthis.startup();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar ww = this.wrapperWidget;\r\n\r\n\t\t\t// to avoid screen jitter, we first create the editor with position: absolute, visibility: hidden,\r\n\t\t\t// and then when it's finished rendering, we switch from display mode to editor\r\n\t\t\t// position: absolute releases screen space allocated to the display node\r\n\t\t\t// opacity:0 is the same as visibility: hidden but is still focusable\r\n\t\t\t// visibility: hidden removes focus outline\r\n\r\n\t\t\tdomClass.add(this.displayNode, \"dijitOffScreen\");\r\n\t\t\tdomClass.remove(ww.domNode, \"dijitOffScreen\");\r\n\t\t\tdomStyle.set(ww.domNode, { visibility: \"visible\" });\r\n\t\t\tdomAttr.set(this.displayNode, \"tabIndex\", \"-1\"); // needed by WebKit for TAB from editor to skip displayNode\r\n\r\n\t\t\t// After edit widget has finished initializing (in particular need to wait for dijit.Editor),\r\n\t\t\t// or immediately if there is no onLoadDeferred Deferred,\r\n\t\t\t// replace the display widget with edit widget, leaving them both displayed for a brief time so that\r\n\t\t\t// focus can be shifted without incident.\r\n\t\t\tvar ew = ww.editWidget;\r\n\t\t\tvar self = this;\r\n\t\t\twhen(ew.onLoadDeferred, lang.hitch(ww, function(){\r\n\t\t\t\t// set value again in case the edit widget's value is just now valid\r\n\t\t\t\tew.set((\"displayedValue\" in ew || \"_setDisplayedValueAttr\" in ew) ? \"displayedValue\" : \"value\", self.value);\r\n\t\t\t\tthis.defer(function(){ // defer needed so that the change of focus doesn't happen on mousedown which also sets focus\r\n\t\t\t\t\t// the saveButton should start out disabled in most cases but the above set could have fired onChange\r\n\t\t\t\t\tif(ww.saveButton){\r\n\t\t\t\t\t\tww.saveButton.set(\"disabled\", \"intermediateChanges\" in ew);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.focus(); // both nodes are showing, so we can switch focus safely\r\n\t\t\t\t\tthis._resetValue = this.getValue();\r\n\t\t\t\t});\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when focus moves outside the InlineEditBox.\r\n\t\t\t//\t\tPerforms garbage collection.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.editing){\r\n\t\t\t\t/* causes IE focus problems, see TooltipDialog_a11y.html...\r\n\t\t\t\t this.defer(function(){\r\n\t\t\t\t if(this.wrapperWidget){\r\n\t\t\t\t this.wrapperWidget.destroy();\r\n\t\t\t\t delete this.wrapperWidget;\r\n\t\t\t\t }\r\n\t\t\t\t });\r\n\t\t\t\t */\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this.wrapperWidget && !this.wrapperWidget._destroyed){\r\n\t\t\t\tthis.wrapperWidget.destroy();\r\n\t\t\t\tdelete this.wrapperWidget;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_showText: function(/*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRevert to display mode, and optionally focus on display node\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar ww = this.wrapperWidget;\r\n\t\t\tdomStyle.set(ww.domNode, { visibility: \"hidden\" }); // hide the editor from mouse/keyboard events\r\n\t\t\tdomClass.add(ww.domNode, \"dijitOffScreen\");\r\n\t\t\tdomClass.remove(this.displayNode, \"dijitOffScreen\");\r\n\t\t\tdomAttr.set(this.displayNode, \"tabIndex\", this._savedTabIndex);\r\n\t\t\tif(focus){\r\n\t\t\t\tfm.focus(this.displayNode);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsave: function(/*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSave the contents of the editor and revert to display mode.\r\n\t\t\t// focus: Boolean\r\n\t\t\t//\t\tFocus on the display mode text\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.disabled || !this.editing){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._set('editing', false);\r\n\r\n\t\t\tvar ww = this.wrapperWidget;\r\n\t\t\tvar value = ww.getValue();\r\n\t\t\tthis.set('value', value); // display changed, formatted value\r\n\r\n\t\t\tthis._showText(focus); // set focus as needed\r\n\t\t},\r\n\r\n\t\tsetValue: function(/*String*/ val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('value', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.set(\"value\", val);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*String*/ val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook to make set(\"value\", ...) work.\r\n\t\t\t//\t\tInserts specified HTML value into this node, or an \"input needed\" character if node is blank.\r\n\r\n\t\t\tval = lang.trim(val);\r\n\t\t\tvar renderVal = this.renderAsHtml ? val : val.replace(/&/gm, \"&amp;\").replace(/</gm, \"&lt;\").replace(/>/gm, \"&gt;\").replace(/\"/gm, \"&quot;\").replace(/\\n/g, \"<br>\");\r\n\t\t\tthis.displayNode.innerHTML = renderVal || this.noValueIndicator;\r\n\t\t\tthis._set(\"value\", val);\r\n\r\n\t\t\tif(this._started){\r\n\t\t\t\t// tell the world that we have changed\r\n\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\tthis.onChange(val);\r\n\t\t\t\t}); // defer prevents browser freeze for long-running event handlers\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use get('value') instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.\", \"\", \"2.0\");\r\n\t\t\treturn this.get(\"value\");\r\n\t\t},\r\n\r\n\t\tcancel: function(/*Boolean*/ focus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRevert to display mode, discarding any changes made in the editor\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.disabled || !this.editing){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._set('editing', false);\r\n\r\n\t\t\t// tell the world that we have no changes\r\n\t\t\tthis.defer(\"onCancel\"); // defer prevents browser freeze for long-running event handlers\r\n\r\n\t\t\tthis._showText(focus);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tInlineEditBox = declare(\"dijit.InlineEditBox\", InlineEditBox, {\r\n\t\t\t_setValueAttr: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this.displayNode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tInlineEditBox._InlineEditor = InlineEditor;\t// for monkey patching\r\n\r\n\treturn InlineEditBox;\r\n});\r\n\ndefine('dijit/form/Form',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"../_Widget\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"./_FormMixin\",\r\n\t\"../layout/_ContentPaneResizeMixin\"\r\n], function(declare, domAttr, kernel, has, _Widget, _TemplatedMixin, _FormMixin, _ContentPaneResizeMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/Form\r\n\r\n\r\n\treturn declare(\"dijit.form.Form\", [_Widget, _TemplatedMixin, _FormMixin, _ContentPaneResizeMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tWidget corresponding to HTML form tag, for validation and serialization\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t<form data-dojo-type=\"dijit/form/Form\" id=\"myForm\">\r\n\t\t//\t|\t\tName: <input type=\"text\" name=\"name\" />\r\n\t\t//\t|\t</form>\r\n\t\t//\t|\t// Example assumes you have required dijit/registry\r\n\t\t//\t|\tmyObj = {name: \"John Doe\"};\r\n\t\t//\t|\tregistry.byId('myForm').set('value', myObj);\r\n\t\t//\t|\r\n\t\t//\t|\tmyObj=registry.byId('myForm').get('value');\r\n\r\n\t\t// HTML <FORM> attributes\r\n\r\n\t\t// name: String?\r\n\t\t//\t\tName of form for scripting.\r\n\t\tname: \"\",\r\n\r\n\t\t// action: String?\r\n\t\t//\t\tServer-side form handler.\r\n\t\taction: \"\",\r\n\r\n\t\t// method: String?\r\n\t\t//\t\tHTTP method used to submit the form, either \"GET\" or \"POST\".\r\n\t\tmethod: \"\",\r\n\r\n\t\t// encType: String?\r\n\t\t//\t\tEncoding type for the form, ex: application/x-www-form-urlencoded.\r\n\t\tencType: \"\",\r\n\r\n\t\t// accept-charset: String?\r\n\t\t//\t\tList of supported charsets.\r\n\t\t\"accept-charset\": \"\",\r\n\r\n\t\t// accept: String?\r\n\t\t//\t\tList of MIME types for file upload.\r\n\t\taccept: \"\",\r\n\r\n\t\t// target: String?\r\n\t\t//\t\tTarget frame for the document to be opened in.\r\n\t\ttarget: \"\",\r\n\r\n\t\ttemplateString: \"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>\",\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// Setup name=foo string to be referenced from the template (but only if a name has been specified)\r\n\t\t\t// Unfortunately we can't use _setNameAttr to set the name due to IE limitations, see #8660\r\n\t\t\tthis.nameAttrSetting = this.name ? (\"name='\" + this.name + \"'\") : \"\";\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\texecute: function(/*Object*/ /*===== formContents =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated: use submit()\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t},\r\n\r\n\t\tonExecute: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated: use onSubmit()\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t},\r\n\r\n\t\t_setEncTypeAttr: function(/*String*/ value){\r\n\t\t\tdomAttr.set(this.domNode, \"encType\", value);\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\tthis.domNode.encoding = value;\r\n\t\t\t}\r\n\t\t\tthis._set(\"encType\", value);\r\n\t\t},\r\n\r\n\t\treset: function(/*Event?*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\trestores all widget values back to their init values,\r\n\t\t\t//\t\tcalls onReset() which can cancel the reset by returning false\r\n\r\n\t\t\t// create fake event so we can know if preventDefault() is called\r\n\t\t\tvar faux = {\r\n\t\t\t\treturnValue: true, // the IE way\r\n\t\t\t\tpreventDefault: function(){ // not IE\r\n\t\t\t\t\tthis.returnValue = false;\r\n\t\t\t\t},\r\n\t\t\t\tstopPropagation: function(){\r\n\t\t\t\t},\r\n\t\t\t\tcurrentTarget: e ? e.target : this.domNode,\r\n\t\t\t\ttarget: e ? e.target : this.domNode\r\n\t\t\t};\r\n\t\t\t// if return value is not exactly false, and haven't called preventDefault(), then reset\r\n\t\t\tif(!(this.onReset(faux) === false) && faux.returnValue){\r\n\t\t\t\tthis.inherited(arguments, []);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonReset: function(/*Event?*/ /*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when user resets the form. This method is intended\r\n\t\t\t//\t\tto be over-ridden. When the `reset` method is called\r\n\t\t\t//\t\tprogrammatically, the return value from `onReset` is used\r\n\t\t\t//\t\tto compute whether or not resetting should proceed\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t\treturn true; // Boolean\r\n\t\t},\r\n\r\n\t\t_onReset: function(e){\r\n\t\t\tthis.reset(e);\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_onSubmit: function(e){\r\n\t\t\tvar fp = this.constructor.prototype;\r\n\t\t\t// TODO: remove this if statement beginning with 2.0\r\n\t\t\tif(this.execute != fp.execute || this.onExecute != fp.onExecute){\r\n\t\t\t\tkernel.deprecated(\"dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.\", \"\", \"2.0\");\r\n\t\t\t\tthis.onExecute();\r\n\t\t\t\tthis.execute(this.getValues());\r\n\t\t\t}\r\n\t\t\tif(this.onSubmit(e) === false){ // only exactly false stops submit\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonSubmit: function(/*Event?*/ /*===== e =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when user submits the form.\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis method is intended to be over-ridden, but by default it checks and\r\n\t\t\t//\t\treturns the validity of form elements. When the `submit`\r\n\t\t\t//\t\tmethod is called programmatically, the return value from\r\n\t\t\t//\t\t`onSubmit` is used to compute whether or not submission\r\n\t\t\t//\t\tshould proceed\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\treturn this.isValid(); // Boolean\r\n\t\t},\r\n\r\n\t\tsubmit: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tprogrammatically submit form if and only if the `onSubmit` returns true\r\n\t\t\tif(!(this.onSubmit() === false)){\r\n\t\t\t\tthis.containerNode.submit();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/form/ComboButton',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys\r\n\t\"../focus\", // focus.focus()\r\n\t\"./DropDownButton\",\r\n\t\"dojo/text!./templates/ComboButton.html\",\r\n\t\"../a11yclick\"\t// template uses ondijitclick\r\n], function(declare, keys, focus, DropDownButton, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/ComboButton\r\n\r\n\treturn declare(\"dijit.form.ComboButton\", DropDownButton, {\r\n\t\t// summary:\r\n\t\t//\t\tA combination button and drop-down button.\r\n\t\t//\t\tUsers can click one side to \"press\" the button, or click an arrow\r\n\t\t//\t\ticon to display the drop down.\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\t<button data-dojo-type=\"dijit/form/ComboButton\" onClick=\"...\">\r\n\t\t// |\t\t<span>Hello world</span>\r\n\t\t// |\t\t<div data-dojo-type=\"dijit/Menu\">...</div>\r\n\t\t// |\t</button>\r\n\t\t//\r\n\t\t// example:\r\n\t\t// |\tvar button1 = new ComboButton({label: \"hello world\", onClick: foo, dropDown: \"myMenu\"});\r\n\t\t// |\tdojo.body().appendChild(button1.domNode);\r\n\t\t//\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setIdAttr: \"\", // override _FormWidgetMixin which puts id on the focusNode\r\n\t\t_setTabIndexAttr: [\"focusNode\", \"titleNode\"],\r\n\t\t_setTitleAttr: \"titleNode\",\r\n\r\n\t\t// optionsTitle: String\r\n\t\t//\t\tText that describes the options menu (accessibility)\r\n\t\toptionsTitle: \"\",\r\n\r\n\t\tbaseClass: \"dijitComboButton\",\r\n\r\n\t\t// Set classes like dijitButtonContentsHover or dijitArrowButtonActive depending on\r\n\t\t// mouse action over specified node\r\n\t\tcssStateNodes: {\r\n\t\t\t\"buttonNode\": \"dijitButtonNode\",\r\n\t\t\t\"titleNode\": \"dijitButtonContents\",\r\n\t\t\t\"_popupStateNode\": \"dijitDownArrowButton\"\r\n\t\t},\r\n\r\n\t\t_focusedNode: null,\r\n\r\n\t\t_onButtonKeyDown: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for right arrow key when focus is on left part of button\r\n\t\t\tif(evt.keyCode == keys[this.isLeftToRight() ? \"RIGHT_ARROW\" : \"LEFT_ARROW\"]){\r\n\t\t\t\tfocus.focus(this._popupStateNode);\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onArrowKeyDown: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for left arrow key when focus is on right part of button\r\n\t\t\tif(evt.keyCode == keys[this.isLeftToRight() ? \"LEFT_ARROW\" : \"RIGHT_ARROW\"]){\r\n\t\t\t\tfocus.focus(this.titleNode);\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(/*String*/ position){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocuses this widget to according to position, if specified,\r\n\t\t\t//\t\totherwise on arrow node\r\n\t\t\t// position:\r\n\t\t\t//\t\t\"start\" or \"end\"\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tfocus.focus(position == \"start\" ? this.titleNode : this._popupStateNode);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_CheckBoxMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\" // domAttr.set\r\n], function(declare, domAttr){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_CheckBoxMixin\r\n\r\n\treturn declare(\"dijit.form._CheckBoxMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin to provide widget functionality corresponding to an HTML checkbox\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tUser interacts with real html inputs.\r\n\t\t//\t\tOn onclick (which occurs by mouse click, space-bar, or\r\n\t\t//\t\tusing the arrow keys to switch the selected radio button),\r\n\t\t//\t\twe update the state of the checkbox/radio.\r\n\t\t//\r\n\r\n\t\t// type: [private] String\r\n\t\t//\t\ttype attribute on `<input>` node.\r\n\t\t//\t\tOverrides `dijit/form/Button.type`.  Users should not change this value.\r\n\t\ttype: \"checkbox\",\r\n\r\n\t\t// value: String\r\n\t\t//\t\tAs an initialization parameter, equivalent to value field on normal checkbox\r\n\t\t//\t\t(if checked, the value is passed as the value when form is submitted).\r\n\t\tvalue: \"on\",\r\n\r\n\t\t// readOnly: Boolean\r\n\t\t//\t\tShould this widget respond to user input?\r\n\t\t//\t\tIn markup, this is specified as \"readOnly\".\r\n\t\t//\t\tSimilar to disabled except readOnly form values are submitted.\r\n\t\treadOnly: false,\r\n\r\n\t\t// aria-pressed for toggle buttons, and aria-checked for checkboxes\r\n\t\t_aria_attr: \"aria-checked\",\r\n\r\n\t\t_setReadOnlyAttr: function(/*Boolean*/ value){\r\n\t\t\tthis._set(\"readOnly\", value);\r\n\t\t\tdomAttr.set(this.focusNode, 'readOnly', value);\r\n\t\t},\r\n\r\n\t\t// Override dijit/form/Button._setLabelAttr() since we don't even have a containerNode.\r\n\t\t// Normally users won't try to set label, except when CheckBox or RadioButton is the child of a dojox/layout/TabContainer\r\n\t\t_setLabelAttr: undefined,\r\n\r\n\t\t_getSubmitValue: function(/*String*/ value){\r\n\t\t\treturn (value == null || value === \"\") ? \"on\" : value;\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(newValue){\r\n\t\t\tnewValue = this._getSubmitValue(newValue);\t// \"on\" to match browser native behavior when value unspecified\r\n\t\t\tthis._set(\"value\", newValue);\r\n\t\t\tdomAttr.set(this.focusNode, \"value\", newValue);\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// Handle unlikely event that the <input type=checkbox> value attribute has changed\r\n\t\t\tthis._set(\"value\", this._getSubmitValue(this.params.value));\r\n\t\t\tdomAttr.set(this.focusNode, 'value', this.value);\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to handle click actions - need to check\r\n\t\t\t//\t\treadOnly, since button no longer does that check.\r\n\t\t\tif(this.readOnly){\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/form/CheckBox',[\r\n\t\"require\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/has\",\t\t// has(\"dijit-legacy-requires\")\r\n\t\"dojo/query\", // query\r\n\t\"dojo/ready\",\r\n\t\"./ToggleButton\",\r\n\t\"./_CheckBoxMixin\",\r\n\t\"dojo/text!./templates/CheckBox.html\",\r\n\t\"dojo/NodeList-dom\", // NodeList.addClass/removeClass\r\n\t\"../a11yclick\"\t// template uses ondijitclick\r\n], function(require, declare, domAttr, has, query, ready, ToggleButton, _CheckBoxMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/CheckBox\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/form/RadioButton\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\treturn declare(\"dijit.form.CheckBox\", [ToggleButton, _CheckBoxMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tSame as an HTML checkbox, but with fancy styling.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tUser interacts with real html inputs.\r\n\t\t//\t\tOn onclick (which occurs by mouse click, space-bar, or\r\n\t\t//\t\tusing the arrow keys to switch the selected radio button),\r\n\t\t//\t\twe update the state of the checkbox/radio.\r\n\t\t//\r\n\t\t//\t\tThere are two modes:\r\n\t\t//\r\n\t\t//\t\t1. High contrast mode\r\n\t\t//\t\t2. Normal mode\r\n\t\t//\r\n\t\t//\t\tIn case 1, the regular html inputs are shown and used by the user.\r\n\t\t//\t\tIn case 2, the regular html inputs are invisible but still used by\r\n\t\t//\t\tthe user. They are turned quasi-invisible and overlay the background-image.\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitCheckBox\",\r\n\r\n\t\t_setValueAttr: function(/*String|Boolean*/ newValue, /*Boolean*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for value= attribute to constructor, and also calls to\r\n\t\t\t//\t\tset('value', val).\r\n\t\t\t// description:\r\n\t\t\t//\t\tDuring initialization, just saves as attribute to the `<input type=checkbox>`.\r\n\t\t\t//\r\n\t\t\t//\t\tAfter initialization,\r\n\t\t\t//\t\twhen passed a boolean, controls whether or not the CheckBox is checked.\r\n\t\t\t//\t\tIf passed a string, changes the value attribute of the CheckBox (the one\r\n\t\t\t//\t\tspecified as \"value\" when the CheckBox was constructed\r\n\t\t\t//\t\t(ex: `<input data-dojo-type=\"dijit/CheckBox\" value=\"chicken\">`).\r\n\t\t\t//\r\n\t\t\t//\t\t`widget.set('value', string)` will check the checkbox and change the value to the\r\n\t\t\t//\t\tspecified string.\r\n\t\t\t//\r\n\t\t\t//\t\t`widget.set('value', boolean)` will change the checked state.\r\n\r\n\t\t\tif(typeof newValue == \"string\"){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tnewValue = true;\r\n\t\t\t}\r\n\t\t\tif(this._created){\r\n\t\t\t\tthis.set('checked', newValue, priorityChange);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so get('value') works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf the CheckBox is checked, returns the value attribute.\r\n\t\t\t//\t\tOtherwise returns false.\r\n\t\t\treturn this.checked && this._get(\"value\");\r\n\t\t},\r\n\r\n\t\t// Override behavior from Button, since we don't have an iconNode or valueNode\r\n\t\t_setIconClassAttr: null,\r\n\t\t_setNameAttr: \"focusNode\",\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Need to set initial checked state via node.setAttribute so that form submit works\r\n\t\t\t// and IE8 radio button tab order is preserved.\r\n\t\t\t// domAttr.set(node, \"checked\", bool) doesn't work on IE until node has been attached\r\n\t\t\t// to <body>, see #8666\r\n\t\t\tthis.checkedAttrSetting = \"\";\r\n\t\t},\r\n\r\n\t\t _fillContent: function(){\r\n\t\t\t// Override Button::_fillContent() since it doesn't make sense for CheckBox,\r\n\t\t\t// since CheckBox doesn't even have a container\r\n\t\t},\r\n\r\n\t\t_onFocus: function(){\r\n\t\t\tif(this.id){\r\n\t\t\t\tquery(\"label[for='\"+this.id+\"']\").addClass(\"dijitFocusedLabel\");\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\tif(this.id){\r\n\t\t\t\tquery(\"label[for='\"+this.id+\"']\").removeClass(\"dijitFocusedLabel\");\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_RadioButtonMixin',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/query!css2\", // query\r\n\t\"../registry\"    // registry.getEnclosingWidget\r\n], function(array, declare, domAttr, lang, query, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_RadioButtonMixin\r\n\r\n\treturn declare(\"dijit.form._RadioButtonMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin to provide widget functionality for an HTML radio button\r\n\r\n\t\t// type: [private] String\r\n\t\t//\t\ttype attribute on `<input>` node.\r\n\t\t//\t\tUsers should not change this value.\r\n\t\ttype: \"radio\",\r\n\r\n\t\t_getRelatedWidgets: function(){\r\n\t\t\t// Private function needed to help iterate over all radio buttons in a group.\r\n\t\t\tvar ary = [];\r\n\t\t\tquery(\"input[type=radio]\", this.focusNode.form || this.ownerDocument).forEach(// can't use name= since query doesn't support [] in the name\r\n\t\t\t\tlang.hitch(this, function(inputNode){\r\n\t\t\t\t\tif(inputNode.name == this.name && inputNode.form == this.focusNode.form){\r\n\t\t\t\t\t\tvar widget = registry.getEnclosingWidget(inputNode);\r\n\t\t\t\t\t\tif(widget){\r\n\t\t\t\t\t\t\tary.push(widget);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\treturn ary;\r\n\t\t},\r\n\r\n\t\t_setCheckedAttr: function(/*Boolean*/ value){\r\n\t\t\t// If I am being checked then have to deselect currently checked radio button\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this._created){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(value){\r\n\t\t\t\tarray.forEach(this._getRelatedWidgets(), lang.hitch(this, function(widget){\r\n\t\t\t\t\tif(widget != this && widget.checked){\r\n\t\t\t\t\t\twidget.set('checked', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getSubmitValue: function(/*String*/ value){\r\n\t\t\treturn value == null ? \"on\" : value;\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ e){\r\n\t\t\tif(this.checked || this.disabled){ // nothing to do\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(this.readOnly){ // ignored by some browsers so we have to resync the DOM elements with widget values\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tarray.forEach(this._getRelatedWidgets(), lang.hitch(this, function(widget){\r\n\t\t\t\t\tdomAttr.set(this.focusNode || this.domNode, 'checked', widget.checked);\r\n\t\t\t\t}));\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/RadioButton',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./CheckBox\",\r\n\t\"./_RadioButtonMixin\"\r\n], function(declare, CheckBox, _RadioButtonMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/RadioButton\r\n\r\n\treturn declare(\"dijit.form.RadioButton\", [CheckBox, _RadioButtonMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tSame as an HTML radio, but with fancy styling.\r\n\r\n\t\tbaseClass: \"dijitRadio\"\r\n\t});\r\n});\r\n\n\ndefine('dojo/cldr/monetary',[\"../_base/kernel\", \"../_base/lang\"], function(dojo, lang){\r\n\r\n// module:\r\n//\t\tdojo/cldr/monetary\r\n\r\nvar monetary = {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n};\r\nlang.setObject(\"dojo.cldr.monetary\", monetary);\r\n\r\nmonetary.getData = function(/*String*/ code){\r\n\t// summary:\r\n\t//\t\tA mapping of currency code to currency-specific formatting information. Returns a unique object with properties: places, round.\r\n\t// code:\r\n\t//\t\tan [ISO 4217](http://en.wikipedia.org/wiki/ISO_4217) currency code\r\n\r\n\t// from http://www.unicode.org/cldr/data/common/supplemental/supplementalData.xml:supplementalData/currencyData/fractions\r\n\r\n\tvar placesData = {\r\n\t\tADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,\r\n\t\tCOP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,\r\n\t\tIRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,\r\n\t\tLAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,\r\n\t\tMUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,\r\n\t\tSYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,\r\n\t\tXAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0\r\n\t};\r\n\r\n\tvar roundingData = {};\r\n\r\n\tvar places = placesData[code], round = roundingData[code];\r\n\tif(typeof places == \"undefined\"){ places = 2; }\r\n\tif(typeof round == \"undefined\"){ round = 0; }\r\n\r\n\treturn {places: places, round: round}; // Object\r\n};\r\n\r\nreturn monetary;\r\n});\r\n\ndefine('dojo/currency',[\r\n\t\"./_base/array\",\r\n\t\"./_base/lang\",\r\n\t/*===== \"./_base/declare\", =====*/\r\n\t\"./number\",\r\n\t\"./i18n\", \"./i18n!./cldr/nls/currency\",\r\n\t\"./cldr/monetary\"\r\n], function(darray, lang, /*===== declare, =====*/ dnumber, i18n, nlsCurrency, cldrMonetary){\r\n\r\n// module:\r\n//\t\tdojo/currency\r\n\r\nvar currency = {\r\n\t// summary:\r\n\t//\t\tlocalized formatting and parsing routines for currencies\r\n\t// description:\r\n\t//\t\textends dojo.number to provide culturally-appropriate formatting of values\r\n\t//\t\tin various world currencies, including use of a currency symbol.  The currencies are specified\r\n\t//\t\tby a three-letter international symbol in all uppercase, and support for the currencies is\r\n\t//\t\tprovided by the data in `dojo.cldr`.  The scripts generating dojo.cldr specify which\r\n\t//\t\tcurrency support is included.  A fixed number of decimal places is determined based\r\n\t//\t\ton the currency type and is not determined by the 'pattern' argument.  The fractional\r\n\t//\t\tportion is optional, by default, and variable length decimals are not supported.\r\n};\r\nlang.setObject(\"dojo.currency\", currency);\r\n\r\ncurrency._mixInDefaults = function(options){\r\n\toptions = options || {};\r\n\toptions.type = \"currency\";\r\n\r\n\t// Get locale-dependent currency data, like the symbol\r\n\tvar bundle = i18n.getLocalization(\"dojo.cldr\", \"currency\", options.locale) || {};\r\n\r\n\t// Mixin locale-independent currency data, like # of places\r\n\tvar iso = options.currency;\r\n\tvar data = cldrMonetary.getData(iso);\r\n\r\n\tdarray.forEach([\"displayName\",\"symbol\",\"group\",\"decimal\"], function(prop){\r\n\t\tdata[prop] = bundle[iso+\"_\"+prop];\r\n\t});\r\n\r\n\tdata.fractional = [true, false];\r\n\r\n\t// Mixin with provided options\r\n\treturn lang.mixin(data, options);\r\n};\r\n\r\n/*=====\r\ncurrency.__FormatOptions = declare([dnumber.__FormatOptions], {\r\n\t// type: String?\r\n\t//\t\tShould not be set.  Value is assumed to be \"currency\".\r\n\t// symbol: String?\r\n\t//\t\tlocalized currency symbol. The default will be looked up in table of supported currencies in `dojo.cldr`\r\n\t//\t\tA [ISO4217](http://en.wikipedia.org/wiki/ISO_4217) currency code will be used if not found.\r\n\t// currency: String?\r\n\t//\t\tan [ISO4217](http://en.wikipedia.org/wiki/ISO_4217) currency code, a three letter sequence like \"USD\".\r\n\t//\t\tFor use with dojo.currency only.\r\n\t// places: Number?\r\n\t//\t\tnumber of decimal places to show.  Default is defined based on which currency is used.\r\n\ttype: \"\",\r\n\tsymbol: \"\",\r\n\tcurrency: \"\",\r\n\tplaces: \"\"\r\n});\r\n=====*/\r\n\r\ncurrency.format = function(/*Number*/ value, /*__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tFormat a Number as a currency, using locale-specific settings\r\n\t//\r\n\t// description:\r\n\t//\t\tCreate a string from a Number using a known, localized pattern.\r\n\t//\t\t[Formatting patterns](http://www.unicode.org/reports/tr35/#Number_Elements)\r\n\t//\t\tappropriate to the locale are chosen from the [CLDR](http://unicode.org/cldr)\r\n\t//\t\tas well as the appropriate symbols and delimiters and number of decimal places.\r\n\t//\r\n\t// value:\r\n\t//\t\tthe number to be formatted.\r\n\r\n\treturn dnumber.format(value, currency._mixInDefaults(options));\r\n};\r\n\r\ncurrency.regexp = function(/*dnumber.__RegexpOptions?*/ options){\r\n\t//\r\n\t// summary:\r\n\t//\t\tBuilds the regular needed to parse a currency value\r\n\t//\r\n\t// description:\r\n\t//\t\tReturns regular expression with positive and negative match, group and decimal separators\r\n\t//\t\tNote: the options.places default, the number of decimal places to accept, is defined by the currency type.\r\n\treturn dnumber.regexp(currency._mixInDefaults(options)); // String\r\n};\r\n\r\n/*=====\r\nvar __ParseOptions = currency.__ParseOptions = declare(dnumber.__ParseOptions, {\r\n\t// type: String?\r\n\t//\t\tShould not be set.  Value is assumed to be currency.\r\n\t// currency: String?\r\n\t//\t\tan [ISO4217](http://en.wikipedia.org/wiki/ISO_4217) currency code, a three letter sequence like \"USD\".\r\n\t//\t\tFor use with dojo.currency only.\r\n\t// symbol: String?\r\n\t//\t\tlocalized currency symbol. The default will be looked up in table of supported currencies in `dojo.cldr`\r\n\t//\t\tA [ISO4217](http://en.wikipedia.org/wiki/ISO_4217) currency code will be used if not found.\r\n\t// places: Number?\r\n\t//\t\tfixed number of decimal places to accept.  The default is determined based on which currency is used.\r\n\t// fractional: Boolean|Array?\r\n\t//\t\tWhether to include the fractional portion, where the number of decimal places are implied by the currency\r\n\t//\t\tor explicit 'places' parameter.  The value [true,false] makes the fractional portion optional.\r\n\t//\t\tBy default for currencies, it the fractional portion is optional.\r\n});\r\n=====*/\r\n\r\ncurrency.parse = function(/*String*/ expression, /*__ParseOptions?*/ options){\r\n\t//\r\n\t// summary:\r\n\t//\t\tConvert a properly formatted currency string to a primitive Number,\r\n\t//\t\tusing locale-specific settings.\r\n\t// description:\r\n\t//\t\tCreate a Number from a string using a known, localized pattern.\r\n\t//\t\t[Formatting patterns](http://www.unicode.org/reports/tr35/#Number_Format_Patterns)\r\n\t//\t\tare chosen appropriate to the locale, as well as the appropriate symbols and delimiters\r\n\t//\t\tand number of decimal places.\r\n\t// expression:\r\n\t//\t\tA string representation of a currency value\r\n\r\n\treturn dnumber.parse(expression, currency._mixInDefaults(options));\r\n};\r\n\r\nreturn currency;\r\n});\r\n\ndefine('dijit/form/RangeBoundTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"./MappedTextBox\",\r\n\t\"dojo/i18n!./nls/validate\"\r\n], function(declare, i18n, MappedTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/RangeBoundTextBox\r\n\r\n\r\n\tvar RangeBoundTextBox = declare(\"dijit.form.RangeBoundTextBox\", MappedTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for textbox form widgets which defines a range of valid values.\r\n\r\n\t\t// rangeMessage: String\r\n\t\t//\t\tThe message to display if value is out-of-range\r\n\t\trangeMessage: \"\",\r\n\r\n\t\t/*=====\r\n\t\t// constraints: RangeBoundTextBox.__Constraints\r\n\t\tconstraints: {},\r\n\t\t======*/\r\n\r\n\t\trangeCheck: function(/*Number*/ primitive, /*dijit/form/RangeBoundTextBox.__Constraints*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function used to validate the range of the numeric input value.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn\t(\"min\" in constraints? (this.compare(primitive,constraints.min) >= 0) : true) &&\r\n\t\t\t\t(\"max\" in constraints? (this.compare(primitive,constraints.max) <= 0) : true); // Boolean\r\n\t\t},\r\n\r\n\t\tisInRange: function(/*Boolean*/ /*===== isFocused =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTests if the value is in the min/max range specified in constraints\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn this.rangeCheck(this.get('value'), this.constraints);\r\n\t\t},\r\n\r\n\t\t_isDefinitelyOutOfRange: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if the value is out of range and will remain\r\n\t\t\t//\t\tout of range even if the user types more characters\r\n\t\t\tvar val = this.get('value');\r\n\t\t\tif(val == null){ return false; } // not yet valid enough to compare to\r\n\t\t\tvar outOfRange = false;\r\n\t\t\tif(\"min\" in this.constraints){\r\n\t\t\t\tvar min = this.constraints.min;\r\n\t\t\t\toutOfRange = this.compare(val, ((typeof min == \"number\") && min >= 0 && val != 0) ? 0 : min) < 0;\r\n\t\t\t}\r\n\t\t\tif(!outOfRange && (\"max\" in this.constraints)){\r\n\t\t\t\tvar max = this.constraints.max;\r\n\t\t\t\toutOfRange = this.compare(val, ((typeof max != \"number\") || max > 0) ? max : 0) > 0;\r\n\t\t\t}\r\n\t\t\treturn outOfRange;\r\n\t\t},\r\n\r\n\t\t_isValidSubset: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides `dijit/form/ValidationTextBox._isValidSubset()`.\r\n\t\t\t//\t\tReturns true if the input is syntactically valid, and either within\r\n\t\t\t//\t\trange or could be made in range by more typing.\r\n\t\t\treturn this.inherited(arguments) && !this._isDefinitelyOutOfRange();\r\n\t\t},\r\n\r\n\t\tisValid: function(/*Boolean*/ isFocused){\r\n\t\t\t// Overrides dijit/form/ValidationTextBox.isValid() to check that the value is also in range.\r\n\t\t\treturn this.inherited(arguments) &&\r\n\t\t\t\t((this._isEmpty(this.textbox.value) && !this.required) || this.isInRange(isFocused)); // Boolean\r\n\t\t},\r\n\r\n\t\tgetErrorMessage: function(/*Boolean*/ isFocused){\r\n\t\t\t// Overrides dijit/form/ValidationTextBox.getErrorMessage() to print \"out of range\" message if appropriate\r\n\t\t\tvar v = this.get('value');\r\n\t\t\tif(v != null /* and !undefined */ && v !== '' && (typeof v != \"number\" || !isNaN(v)) && !this.isInRange(isFocused)){ // don't check isInRange w/o a real value\r\n\t\t\t\treturn this.rangeMessage; // String\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.rangeMessage){\r\n\t\t\t\tthis.messages = i18n.getLocalization(\"dijit.form\", \"validate\", this.lang);\r\n\t\t\t\tthis.rangeMessage = this.messages.rangeMessage;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t/*=====\r\n\tRangeBoundTextBox.__Constraints = declare(null, {\r\n\t\t// min: Number\r\n\t\t//\t\tMinimum signed value.  Default is -Infinity\r\n\t\t// max: Number\r\n\t\t//\t\tMaximum signed value.  Default is +Infinity\r\n\t});\r\n\t=====*/\r\n\treturn RangeBoundTextBox;\r\n});\r\n\ndefine('dijit/form/NumberTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.hitch lang.mixin\r\n\t\"dojo/i18n\", // i18n.normalizeLocale, i18n.getLocalization\r\n\t\"dojo/string\", // string.rep\r\n\t\"dojo/number\", // number._realNumberRegexp number.format number.parse number.regexp\r\n\t\"./RangeBoundTextBox\"\r\n], function(declare, lang, i18n, string, number, RangeBoundTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/NumberTextBox\r\n\r\n\t// A private helper function to determine decimal information\r\n\t// Returns an object with \"sep\" and \"places\" properties\r\n\tvar getDecimalInfo = function(constraints){\r\n\t\tvar constraints = constraints || {},\r\n\t\t\tbundle = i18n.getLocalization(\"dojo.cldr\", \"number\", i18n.normalizeLocale(constraints.locale)),\r\n\t\t\tpattern = constraints.pattern ? constraints.pattern : bundle[(constraints.type || \"decimal\")+\"Format\"];\r\n\r\n\t\t// The number of places in the constraint can be specified in several ways,\r\n\t\t// the resolution order is:\r\n\t\t//\r\n\t\t// 1. If constraints.places is a number, use that\r\n\t\t// 2. If constraints.places is a string, which specifies a range, use the range max (e.g. 0,4)\r\n\t\t// 3. If a pattern is specified, use the implicit number of places in the pattern.\r\n\t\t// 4. If neither constraints.pattern or constraints.places is specified, use the locale default pattern\r\n\t\tvar places;\r\n\t\tif(typeof constraints.places == \"number\"){\r\n\t\t\tplaces = constraints.places;\r\n\t\t}else if(typeof constraints.places === \"string\" && constraints.places.length > 0){\r\n\t\t\tplaces = constraints.places.replace(/.*,/, \"\");\r\n\t\t}else{\r\n\t\t\tplaces = (pattern.indexOf(\".\") != -1 ? pattern.split(\".\")[1].replace(/[^#0]/g, \"\").length : 0);\r\n\t\t}\r\n\r\n\t\treturn { sep: bundle.decimal, places: places };\r\n\t};\r\n\r\n\tvar NumberTextBoxMixin = declare(\"dijit.form.NumberTextBoxMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin for all number textboxes\r\n\t\t// tags:\r\n\t\t//\t\tprotected\r\n\r\n\t\t// Override ValidationTextBox.pattern.... we use a reg-ex generating function rather\r\n\t\t// than a straight regexp to deal with locale (plus formatting options too?)\r\n\t\tpattern: function(constraints){\r\n\t\t\t// if focused, accept either currency data or NumberTextBox format\r\n\t\t\treturn '(' + (this.focused && this.editOptions ? this._regExpGenerator(lang.delegate(constraints, this.editOptions)) + '|' : '')\r\n\t\t\t\t+ this._regExpGenerator(constraints) + ')';\r\n\t\t},\r\n\r\n\t\t/*=====\r\n\t\t// constraints: NumberTextBox.__Constraints\r\n\t\t//\t\tDespite the name, this parameter specifies both constraints on the input\r\n\t\t//\t\t(including minimum/maximum allowed values) as well as\r\n\t\t//\t\tformatting options like places (the number of digits to display after\r\n\t\t//\t\tthe decimal point).\r\n\t\tconstraints: {},\r\n\t\t======*/\r\n\r\n\t\t// value: Number\r\n\t\t//\t\tThe value of this NumberTextBox as a Javascript Number (i.e., not a String).\r\n\t\t//\t\tIf the displayed value is blank, the value is NaN, and if the user types in\r\n\t\t//\t\tan gibberish value (like \"hello world\"), the value is undefined\r\n\t\t//\t\t(i.e. get('value') returns undefined).\r\n\t\t//\r\n\t\t//\t\tSymmetrically, set('value', NaN) will clear the displayed value,\r\n\t\t//\t\twhereas set('value', undefined) will have no effect.\r\n\t\tvalue: NaN,\r\n\r\n\t\t// editOptions: [protected] Object\r\n\t\t//\t\tProperties to mix into constraints when the value is being edited.\r\n\t\t//\t\tThis is here because we edit the number in the format \"12345\", which is\r\n\t\t//\t\tdifferent than the display value (ex: \"12,345\")\r\n\t\teditOptions: { pattern: '#.######' },\r\n\r\n\t\t/*=====\r\n\t\t_formatter: function(value, options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\t_formatter() is called by format().  It's the base routine for formatting a number,\r\n\t\t\t//\t\tas a string, for example converting 12345 into \"12,345\".\r\n\t\t\t// value: Number\r\n\t\t\t//\t\tThe number to be converted into a string.\r\n\t\t\t// options: number.__FormatOptions?\r\n\t\t\t//\t\tFormatting options\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\treturn \"12345\";\t\t// String\r\n\t\t},\r\n\t\t =====*/\r\n\t\t_formatter: number.format,\r\n\r\n\t\t/*=====\r\n\t\t_regExpGenerator: function(constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGenerate a localized regular expression as a string, according to constraints.\r\n\t\t\t// constraints: number.__ParseOptions\r\n\t\t\t//\t\tFormatting options\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn \"(\\d*).(\\d*)\";\t// string\r\n\t\t},\r\n\t\t=====*/\r\n\t\t_regExpGenerator: number.regexp,\r\n\r\n\t\t// _decimalInfo: Object\r\n\t\t// summary:\r\n\t\t//\t\tAn object containing decimal related properties relevant to this TextBox.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\t\t_decimalInfo: getDecimalInfo(),\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._set(\"type\", \"text\"); // in case type=\"number\" was specified which messes up parse/format\r\n\t\t},\r\n\r\n\t\t_setConstraintsAttr: function(/*Object*/ constraints){\r\n\t\t\tvar places = typeof constraints.places == \"number\"? constraints.places : 0;\r\n\t\t\tif(places){ places++; } // decimal rounding errors take away another digit of precision\r\n\t\t\tif(typeof constraints.max != \"number\"){\r\n\t\t\t\tconstraints.max = 9 * Math.pow(10, 15-places);\r\n\t\t\t}\r\n\t\t\tif(typeof constraints.min != \"number\"){\r\n\t\t\t\tconstraints.min = -9 * Math.pow(10, 15-places);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [ constraints ]);\r\n\t\t\tif(this.focusNode && this.focusNode.value && !isNaN(this.value)){\r\n\t\t\t\tthis.set('value', this.value);\r\n\t\t\t}\r\n\t\t\t// Capture decimal information based on the constraint locale and pattern.\r\n\t\t\tthis._decimalInfo = getDecimalInfo(constraints);\r\n\t\t},\r\n\r\n\t\t_onFocus: function(){\r\n\t\t\tif(this.disabled || this.readOnly){ return; }\r\n\t\t\tvar val = this.get('value');\r\n\t\t\tif(typeof val == \"number\" && !isNaN(val)){\r\n\t\t\t\tvar formattedValue = this.format(val, this.constraints);\r\n\t\t\t\tif(formattedValue !== undefined){\r\n\t\t\t\t\tthis.textbox.value = formattedValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tformat: function(/*Number*/ value, /*number.__FormatOptions*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats the value as a Number, according to constraints.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar formattedValue = String(value);\r\n\t\t\tif(typeof value != \"number\"){ return formattedValue; }\r\n\t\t\tif(isNaN(value)){ return \"\"; }\r\n\t\t\t// check for exponential notation that dojo/number.format() chokes on\r\n\t\t\tif(!(\"rangeCheck\" in this && this.rangeCheck(value, constraints)) && constraints.exponent !== false && /\\de[-+]?\\d/i.test(formattedValue)){\r\n\t\t\t\treturn formattedValue;\r\n\t\t\t}\r\n\t\t\tif(this.editOptions && this.focused){\r\n\t\t\t\tconstraints = lang.mixin({}, constraints, this.editOptions);\r\n\t\t\t}\r\n\t\t\treturn this._formatter(value, constraints);\r\n\t\t},\r\n\r\n\t\t/*=====\r\n\t\t_parser: function(value, constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tParses the string value as a Number, according to constraints.\r\n\t\t\t// value: String\r\n\t\t\t//\t\tString representing a number\r\n\t\t\t// constraints: number.__ParseOptions\r\n\t\t\t//\t\tFormatting options\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn 123.45;\t\t// Number\r\n\t\t},\r\n\t\t=====*/\r\n\t\t_parser: number.parse,\r\n\r\n\t\tparse: function(/*String*/ value, /*number.__FormatOptions*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReplaceable function to convert a formatted string to a number value\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\tvar v = this._parser(value, lang.mixin({}, constraints, (this.editOptions && this.focused) ? this.editOptions : {}));\r\n\t\t\tif(this.editOptions && this.focused && isNaN(v)){\r\n\t\t\t\tv = this._parser(value, constraints); // parse w/o editOptions: not technically needed but is nice for the user\r\n\t\t\t}\r\n\t\t\treturn v;\r\n\t\t},\r\n\r\n\t\t_getDisplayedValueAttr: function(){\r\n\t\t\tvar v = this.inherited(arguments);\r\n\t\t\treturn isNaN(v) ? this.textbox.value : v;\r\n\t\t},\r\n\r\n\t\tfilter: function(/*Number*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is called with both the display value (string), and the actual value (a number).\r\n\t\t\t//\t\tWhen called with the actual value it does corrections so that '' etc. are represented as NaN.\r\n\t\t\t//\t\tOtherwise it dispatches to the superclass's filter() method.\r\n\t\t\t//\r\n\t\t\t//\t\tSee `dijit/form/TextBox.filter()` for more details.\r\n\t\t\tif(value == null  /* or undefined */ || typeof value == \"string\" && value ==''){\r\n\t\t\t\treturn NaN;\r\n\t\t\t}else if(typeof value == \"number\" && !isNaN(value) && value != 0){\r\n\t\t\t\tvalue = number.round(value, this._decimalInfo.places);\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments, [value]);\r\n\t\t},\r\n\r\n\t\tserialize: function(/*Number*/ value, /*Object?*/ options){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert value (a Number) into a canonical string (ie, how the number literal is written in javascript/java/C/etc.)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn (typeof value != \"number\" || isNaN(value)) ? '' : this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setBlurValue: function(){\r\n\t\t\tvar val = lang.hitch(lang.delegate(this, { focused: true }), \"get\")('value'); // parse with editOptions\r\n\t\t\tthis._setValueAttr(val, true);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Number*/ value, /*Boolean?*/ priorityChange, /*String?*/ formattedValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', ...) works.\r\n\t\t\tif(value !== undefined && formattedValue === undefined){\r\n\t\t\t\tformattedValue = String(value);\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\tif(isNaN(value)){ formattedValue = '' }\r\n\t\t\t\t\t// check for exponential notation that number.format chokes on\r\n\t\t\t\t\telse if((\"rangeCheck\" in this && this.rangeCheck(value, this.constraints)) || this.constraints.exponent === false || !/\\de[-+]?\\d/i.test(formattedValue)){\r\n\t\t\t\t\t\tformattedValue = undefined; // lets format compute a real string value\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(!value){ // 0 processed in if branch above, ''|null|undefined flows through here\r\n\t\t\t\t\tformattedValue = '';\r\n\t\t\t\t\tvalue = NaN;\r\n\t\t\t\t}else{ // non-numeric values\r\n\t\t\t\t\tvalue = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [value, priorityChange, formattedValue]);\r\n\t\t},\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so get('value') works.\r\n\t\t\t//\t\tReturns Number, NaN for '', or undefined for unparseable text\r\n\t\t\tvar v = this.inherited(arguments); // returns Number for all values accepted by parse() or NaN for all other displayed values\r\n\r\n\t\t\t// If the displayed value of the textbox is gibberish (ex: \"hello world\"), this.inherited() above\r\n\t\t\t// returns NaN; this if() branch converts the return value to undefined.\r\n\t\t\t// Returning undefined prevents user text from being overwritten when doing _setValueAttr(_getValueAttr()).\r\n\t\t\t// A blank displayed value is still returned as NaN.\r\n\t\t\tif(isNaN(v) && this.textbox.value !== ''){\r\n\t\t\t\tif(this.constraints.exponent !== false && /\\de[-+]?\\d/i.test(this.textbox.value) && (new RegExp(\"^\"+number._realNumberRegexp(lang.delegate(this.constraints))+\"$\").test(this.textbox.value))){\t// check for exponential notation that parse() rejected (erroneously?)\r\n\t\t\t\t\tvar n = Number(this.textbox.value);\r\n\t\t\t\t\treturn isNaN(n) ? undefined : n; // return exponential Number or undefined for random text (may not be possible to do with the above RegExp check)\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn undefined; // gibberish\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\treturn v; // Number or NaN for ''\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisValid: function(/*Boolean*/ isFocused){\r\n\t\t\t// Overrides dijit/form/RangeBoundTextBox.isValid() to check that the editing-mode value is valid since\r\n\t\t\t// it may not be formatted according to the regExp validation rules\r\n\t\t\tif(!this.focused || this._isEmpty(this.textbox.value)){\r\n\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t}else{\r\n\t\t\t\tvar v = this.get('value');\r\n\t\t\t\tif(!isNaN(v) && this.rangeCheck(v, this.constraints)){\r\n\t\t\t\t\tif(this.constraints.exponent !== false && /\\de[-+]?\\d/i.test(this.textbox.value)){ // exponential, parse doesn't like it\r\n\t\t\t\t\t\treturn true; // valid exponential number in range\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_isValidSubset: function(){\r\n\t\t\t// Overrides dijit/form/ValidationTextBox._isValidSubset()\r\n\t\t\t//\r\n\t\t\t// The inherited method only checks that the computed regex pattern is valid, which doesn't\r\n\t\t\t// take into account that numbers are a special case. Specifically:\r\n\t\t\t//\r\n\t\t\t//  (1) An arbitrary amount of leading or trailing zero's can be ignored.\r\n\t\t\t//  (2) Since numeric input always occurs in the order of most significant to least significant\r\n\t\t\t//      digits, the maximum and minimum possible values for partially inputted numbers can easily\r\n\t\t\t//      be determined by using the number of remaining digit spaces available.\r\n\t\t\t//\r\n\t\t\t// For example, if an input has a maxLength of 5, and a min value of greater than 100, then the subset\r\n\t\t\t// is invalid if there are 3 leading 0s. It remains valid for the first two.\r\n\t\t\t//\r\n\t\t\t// Another example is if the min value is 1.1. Once a value of 1.0 is entered, no additional trailing digits\r\n\t\t\t// could possibly satisify the min requirement.\r\n\t\t\t//\r\n\t\t\t// See ticket #17923\r\n\t\t\tvar hasMinConstraint = (typeof this.constraints.min == \"number\"),\r\n\t\t\t\thasMaxConstraint = (typeof this.constraints.max == \"number\"),\r\n\t\t\t\tcurVal = this.get('value');\r\n\r\n\t\t\t// If there is no parsable number, or there are no min or max bounds, then we can safely\r\n\t\t\t// skip all remaining checks\r\n\t\t\tif(isNaN(curVal) || (!hasMinConstraint && !hasMaxConstraint)){\r\n\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t}\r\n\r\n\t\t\t// This block picks apart the values in the text box to be used later to compute the min and max possible\r\n\t\t\t// values based on the current value and the remaining available digits.\r\n\t\t\t//\r\n\t\t\t// Warning: The use of a \"num|0\" expression, can be confusing. See the link below\r\n\t\t\t// for an explanation.\r\n\t\t\t//\r\n\t\t\t// http://stackoverflow.com/questions/12125421/why-does-a-shift-by-0-truncate-the-decimal\r\n\t\t\tvar integerDigits = curVal|0,\r\n\t\t\t\tvalNegative = curVal < 0,\r\n\t\t\t\t// Check if the current number has a decimal based on its locale\r\n\t\t\t\thasDecimal = this.textbox.value.indexOf(this._decimalInfo.sep) != -1,\r\n\t\t\t\t// Determine the max digits based on the textbox length. If no length is\r\n\t\t\t\t// specified, chose a huge number to account for crazy formatting.\r\n\t\t\t\tmaxDigits = this.maxLength || 20,\r\n\t\t\t\t// Determine the remaining digits, based on the max digits\r\n\t\t\t\tremainingDigitsCount = maxDigits - this.textbox.value.length,\r\n\t\t\t\t// avoid approximation issues by capturing the decimal portion of the value as the user-entered string\r\n\t\t\t\tfractionalDigitStr = hasDecimal ? this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g, \"\") : \"\";\r\n\r\n\t\t\t// Create a normalized value string in the form of #.###\r\n\t\t\tvar normalizedValueStr = hasDecimal ? integerDigits+\".\"+fractionalDigitStr : integerDigits+\"\";\r\n\r\n\t\t\t// The min and max values for the field can be determined using the following\r\n\t\t\t// logic:\r\n\t\t\t//\r\n\t\t\t//  If the number is positive:\r\n\t\t\t//      min value = the current value\r\n\t\t\t//      max value = the current value with 9s appended for all remaining possible digits\r\n\t\t\t//  else\r\n\t\t\t//      min value = the current value with 9s appended for all remaining possible digits\r\n\t\t\t//      max value = the current value\r\n\t\t\t//\r\n\t\t\tvar ninePaddingStr = string.rep(\"9\", remainingDigitsCount),\r\n\t\t\t    minPossibleValue = curVal,\r\n\t\t\t    maxPossibleValue = curVal;\r\n\t\t\tif (valNegative){\r\n\t\t\t\tminPossibleValue = Number(normalizedValueStr+ninePaddingStr);\r\n\t\t\t} else{\r\n\t\t\t\tmaxPossibleValue = Number(normalizedValueStr+ninePaddingStr);\r\n\t\t\t}\r\n\r\n\t\t\treturn !((hasMinConstraint && maxPossibleValue < this.constraints.min)\r\n\t\t\t\t\t|| (hasMaxConstraint && minPossibleValue > this.constraints.max));\r\n\t\t}\r\n\t});\r\n\r\n\tvar NumberTextBox = declare(\"dijit.form.NumberTextBox\", [RangeBoundTextBox, NumberTextBoxMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA TextBox for entering numbers, with formatting and range checking\r\n\t\t// description:\r\n\t\t//\t\tNumberTextBox is a textbox for entering and displaying numbers, supporting\r\n\t\t//\t\tthe following main features:\r\n\t\t//\r\n\t\t//\t\t1. Enforce minimum/maximum allowed values (as well as enforcing that the user types\r\n\t\t//\t\t\ta number rather than a random string)\r\n\t\t//\t\t2. NLS support (altering roles of comma and dot as \"thousands-separator\" and \"decimal-point\"\r\n\t\t//\t\t\tdepending on locale).\r\n\t\t//\t\t3. Separate modes for editing the value and displaying it, specifically that\r\n\t\t//\t\t\tthe thousands separator character (typically comma) disappears when editing\r\n\t\t//\t\t\tbut reappears after the field is blurred.\r\n\t\t//\t\t4. Formatting and constraints regarding the number of places (digits after the decimal point)\r\n\t\t//\t\t\tallowed on input, and number of places displayed when blurred (see `constraints` parameter).\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitNumberTextBox\"\r\n\t});\r\n\r\n\tNumberTextBox.Mixin = NumberTextBoxMixin;\t// for monkey patching\r\n\r\n\t/*=====\r\n\t NumberTextBox.__Constraints = declare([RangeBoundTextBox.__Constraints, number.__FormatOptions, number.__ParseOptions], {\r\n\t\t // summary:\r\n\t\t //\t\tSpecifies both the rules on valid/invalid values (minimum, maximum,\r\n\t\t //\t\tnumber of required decimal places), and also formatting options for\r\n\t\t //\t\tdisplaying the value when the field is not focused.\r\n\t\t // example:\r\n\t\t //\t\tMinimum/maximum:\r\n\t\t //\t\tTo specify a field between 0 and 120:\r\n\t\t //\t|\t\t{min:0,max:120}\r\n\t\t //\t\tTo specify a field that must be an integer:\r\n\t\t //\t|\t\t{fractional:false}\r\n\t\t //\t\tTo specify a field where 0 to 3 decimal places are allowed on input:\r\n\t\t //\t|\t\t{places:'0,3'}\r\n\t });\r\n\t =====*/\r\n\r\n\treturn NumberTextBox;\r\n});\r\n\ndefine('dijit/form/CurrencyTextBox',[\r\n\t\"dojo/currency\", // currency._mixInDefaults currency.format currency.parse currency.regexp\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"./NumberTextBox\"\r\n], function(currency, declare, lang, NumberTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/CurrencyTextBox\r\n\r\n\t/*=====\r\n\tvar __Constraints = declare([NumberTextBox.__Constraints, currency.__FormatOptions, currency.__ParseOptions], {\r\n\t\t// summary:\r\n\t\t//\t\tSpecifies both the rules on valid/invalid values (minimum, maximum,\r\n\t\t//\t\tnumber of required decimal places), and also formatting options for\r\n\t\t//\t\tdisplaying the value when the field is not focused (currency symbol,\r\n\t\t//\t\tetc.)\r\n\t\t// description:\r\n\t\t//\t\tFollows the pattern of `dijit/form/NumberTextBox.__Constraints`.\r\n\t\t//\t\tIn general developers won't need to set this parameter\r\n\t\t// example:\r\n\t\t//\t\tTo ensure that the user types in the cents (for example, 1.00 instead of just 1):\r\n\t\t//\t|\t\t{fractional:true}\r\n\t});\r\n\t=====*/\r\n\r\n\treturn declare(\"dijit.form.CurrencyTextBox\", NumberTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tA validating currency textbox\r\n\t\t// description:\r\n\t\t//\t\tCurrencyTextBox is similar to `dijit/form/NumberTextBox` but has a few\r\n\t\t//\t\textra features related to currency:\r\n\t\t//\r\n\t\t//\t\t1. After specifying the currency type (american dollars, euros, etc.) it automatically\r\n\t\t//\t\t\tsets parse/format options such as how many decimal places to show.\r\n\t\t//\t\t2. The currency mark (dollar sign, euro mark, etc.) is displayed when the field is blurred\r\n\t\t//\t\t\tbut erased during editing, so that the user can just enter a plain number.\r\n\r\n\t\t// currency: [const] String\r\n\t\t//\t\tthe [ISO4217](http://en.wikipedia.org/wiki/ISO_4217) currency code, a three letter sequence like \"USD\"\r\n\t\tcurrency: \"\",\r\n\r\n\t\t/*=====\r\n\t\t// constraints: __Constraints\r\n\t\t//\t\tDespite the name, this parameter specifies both constraints on the input\r\n\t\t//\t\t(including minimum/maximum allowed values) as well as\r\n\t\t//\t\tformatting options.\r\n\t\tconstraints: {},\r\n\t\t======*/\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitCurrencyTextBox\",\r\n\r\n\t\t// Override NumberTextBox._formatter to deal with currencies, ex: converts \"123.45\" to \"$123.45\"\r\n\t\t_formatter: currency.format,\r\n\r\n\t\t_parser: currency.parse,\r\n\r\n\t\t_regExpGenerator: currency.regexp,\r\n\r\n\t\tparse: function(/*String*/ value, /*Object*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tParses string value as a Currency, according to the constraints object\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\tvar v = this.inherited(arguments);\r\n\t\t\tif(isNaN(v) && /\\d+/.test(value)){ // currency parse failed, but it could be because they are using NumberTextBox format so try its parse\r\n\t\t\t\tv = lang.hitch(lang.delegate(this, { _parser: NumberTextBox.prototype._parser }), \"inherited\")(arguments);\r\n\t\t\t}\r\n\t\t\treturn v;\r\n\t\t},\r\n\r\n\t\t_setConstraintsAttr: function(/*Object*/ constraints){\r\n\t\t\tif(!constraints.currency && this.currency){\r\n\t\t\t\tconstraints.currency = this.currency;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [ currency._mixInDefaults(lang.mixin(constraints, { exponent: false })) ]); // get places\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dojo/date',[\"./has\", \"./_base/lang\"], function(has, lang){\r\n// module:\r\n//\t\tdojo/date\r\n\r\nvar date = {\r\n\t// summary:\r\n\t//\t\tDate manipulation utilities\r\n};\r\n\r\ndate.getDaysInMonth = function(/*Date*/dateObject){\r\n\t// summary:\r\n\t//\t\tReturns the number of days in the month used by dateObject\r\n\tvar month = dateObject.getMonth();\r\n\tvar days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\tif(month == 1 && date.isLeapYear(dateObject)){ return 29; } // Number\r\n\treturn days[month]; // Number\r\n};\r\n\r\ndate.isLeapYear = function(/*Date*/dateObject){\r\n\t// summary:\r\n\t//\t\tDetermines if the year of the dateObject is a leap year\r\n\t// description:\r\n\t//\t\tLeap years are years with an additional day YYYY-02-29, where the\r\n\t//\t\tyear number is a multiple of four with the following exception: If\r\n\t//\t\ta year is a multiple of 100, then it is only a leap year if it is\r\n\t//\t\talso a multiple of 400. For example, 1900 was not a leap year, but\r\n\t//\t\t2000 is one.\r\n\r\n\tvar year = dateObject.getFullYear();\r\n\treturn !(year%400) || (!(year%4) && !!(year%100)); // Boolean\r\n};\r\n\r\n// FIXME: This is not localized\r\ndate.getTimezoneName = function(/*Date*/dateObject){\r\n\t// summary:\r\n\t//\t\tGet the user's time zone as provided by the browser\r\n\t// dateObject:\r\n\t//\t\tNeeded because the timezone may vary with time (daylight savings)\r\n\t// description:\r\n\t//\t\tTry to get time zone info from toString or toLocaleString method of\r\n\t//\t\tthe Date object -- UTC offset is not a time zone.  See\r\n\t//\t\thttp://www.twinsun.com/tz/tz-link.htm Note: results may be\r\n\t//\t\tinconsistent across browsers.\r\n\r\n\tvar str = dateObject.toString(); // Start looking in toString\r\n\tvar tz = ''; // The result -- return empty string if nothing found\r\n\tvar match;\r\n\r\n\t// First look for something in parentheses -- fast lookup, no regex\r\n\tvar pos = str.indexOf('(');\r\n\tif(pos > -1){\r\n\t\ttz = str.substring(++pos, str.indexOf(')'));\r\n\t}else{\r\n\t\t// If at first you don't succeed ...\r\n\t\t// If IE knows about the TZ, it appears before the year\r\n\t\t// Capital letters or slash before a 4-digit year\r\n\t\t// at the end of string\r\n\t\tvar pat = /([A-Z\\/]+) \\d{4}$/;\r\n\t\tif((match = str.match(pat))){\r\n\t\t\ttz = match[1];\r\n\t\t}else{\r\n\t\t// Some browsers (e.g. Safari) glue the TZ on the end\r\n\t\t// of toLocaleString instead of putting it in toString\r\n\t\t\tstr = dateObject.toLocaleString();\r\n\t\t\t// Capital letters or slash -- end of string,\r\n\t\t\t// after space\r\n\t\t\tpat = / ([A-Z\\/]+)$/;\r\n\t\t\tif((match = str.match(pat))){\r\n\t\t\t\ttz = match[1];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Make sure it doesn't somehow end up return AM or PM\r\n\treturn (tz == 'AM' || tz == 'PM') ? '' : tz; // String\r\n};\r\n\r\n// Utility methods to do arithmetic calculations with Dates\r\n\r\ndate.compare = function(/*Date*/date1, /*Date?*/date2, /*String?*/portion){\r\n\t// summary:\r\n\t//\t\tCompare two date objects by date, time, or both.\r\n\t// description:\r\n\t//\t\tReturns 0 if equal, positive if a > b, else negative.\r\n\t// date1:\r\n\t//\t\tDate object\r\n\t// date2:\r\n\t//\t\tDate object.  If not specified, the current Date is used.\r\n\t// portion:\r\n\t//\t\tA string indicating the \"date\" or \"time\" portion of a Date object.\r\n\t//\t\tCompares both \"date\" and \"time\" by default.  One of the following:\r\n\t//\t\t\"date\", \"time\", \"datetime\"\r\n\r\n\t// Extra step required in copy for IE - see #3112\r\n\tdate1 = new Date(+date1);\r\n\tdate2 = new Date(+(date2 || new Date()));\r\n\r\n\tif(portion == \"date\"){\r\n\t\t// Ignore times and compare dates.\r\n\t\tdate1.setHours(0, 0, 0, 0);\r\n\t\tdate2.setHours(0, 0, 0, 0);\r\n\t}else if(portion == \"time\"){\r\n\t\t// Ignore dates and compare times.\r\n\t\tdate1.setFullYear(0, 0, 0);\r\n\t\tdate2.setFullYear(0, 0, 0);\r\n\t}\r\n\r\n\tif(date1 > date2){ return 1; } // int\r\n\tif(date1 < date2){ return -1; } // int\r\n\treturn 0; // int\r\n};\r\n\r\ndate.add = function(/*Date*/date, /*String*/interval, /*int*/amount){\r\n\t// summary:\r\n\t//\t\tAdd to a Date in intervals of different size, from milliseconds to years\r\n\t// date: Date\r\n\t//\t\tDate object to start with\r\n\t// interval:\r\n\t//\t\tA string representing the interval.  One of the following:\r\n\t//\t\t\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\",\r\n\t//\t\t\"millisecond\", \"quarter\", \"week\", \"weekday\"\r\n\t// amount:\r\n\t//\t\tHow much to add to the date.\r\n\r\n\tvar sum = new Date(+date); // convert to Number before copying to accommodate IE (#3112)\r\n\tvar fixOvershoot = false;\r\n\tvar property = \"Date\";\r\n\r\n\tswitch(interval){\r\n\t\tcase \"day\":\r\n\t\t\tbreak;\r\n\t\tcase \"weekday\":\r\n\t\t\t//i18n FIXME: assumes Saturday/Sunday weekend, but this is not always true.  see dojo/cldr/supplemental\r\n\r\n\t\t\t// Divide the increment time span into weekspans plus leftover days\r\n\t\t\t// e.g., 8 days is one 5-day weekspan / and two leftover days\r\n\t\t\t// Can't have zero leftover days, so numbers divisible by 5 get\r\n\t\t\t// a days value of 5, and the remaining days make up the number of weeks\r\n\t\t\tvar days, weeks;\r\n\t\t\tvar mod = amount % 5;\r\n\t\t\tif(!mod){\r\n\t\t\t\tdays = (amount > 0) ? 5 : -5;\r\n\t\t\t\tweeks = (amount > 0) ? ((amount-5)/5) : ((amount+5)/5);\r\n\t\t\t}else{\r\n\t\t\t\tdays = mod;\r\n\t\t\t\tweeks = parseInt(amount/5);\r\n\t\t\t}\r\n\t\t\t// Get weekday value for orig date param\r\n\t\t\tvar strt = date.getDay();\r\n\t\t\t// Orig date is Sat / positive incrementer\r\n\t\t\t// Jump over Sun\r\n\t\t\tvar adj = 0;\r\n\t\t\tif(strt == 6 && amount > 0){\r\n\t\t\t\tadj = 1;\r\n\t\t\t}else if(strt == 0 && amount < 0){\r\n\t\t\t// Orig date is Sun / negative incrementer\r\n\t\t\t// Jump back over Sat\r\n\t\t\t\tadj = -1;\r\n\t\t\t}\r\n\t\t\t// Get weekday val for the new date\r\n\t\t\tvar trgt = strt + days;\r\n\t\t\t// New date is on Sat or Sun\r\n\t\t\tif(trgt == 0 || trgt == 6){\r\n\t\t\t\tadj = (amount > 0) ? 2 : -2;\r\n\t\t\t}\r\n\t\t\t// Increment by number of weeks plus leftover days plus\r\n\t\t\t// weekend adjustments\r\n\t\t\tamount = (7 * weeks) + days + adj;\r\n\t\t\tbreak;\r\n\t\tcase \"year\":\r\n\t\t\tproperty = \"FullYear\";\r\n\t\t\t// Keep increment/decrement from 2/29 out of March\r\n\t\t\tfixOvershoot = true;\r\n\t\t\tbreak;\r\n\t\tcase \"week\":\r\n\t\t\tamount *= 7;\r\n\t\t\tbreak;\r\n\t\tcase \"quarter\":\r\n\t\t\t// Naive quarter is just three months\r\n\t\t\tamount *= 3;\r\n\t\t\t// fallthrough...\r\n\t\tcase \"month\":\r\n\t\t\t// Reset to last day of month if you overshoot\r\n\t\t\tfixOvershoot = true;\r\n\t\t\tproperty = \"Month\";\r\n\t\t\tbreak;\r\n//\t\tcase \"hour\":\r\n//\t\tcase \"minute\":\r\n//\t\tcase \"second\":\r\n//\t\tcase \"millisecond\":\r\n\t\tdefault:\r\n\t\t\tproperty = \"UTC\"+interval.charAt(0).toUpperCase() + interval.substring(1) + \"s\";\r\n\t}\r\n\r\n\tif(property){\r\n\t\tsum[\"set\"+property](sum[\"get\"+property]()+amount);\r\n\t}\r\n\r\n\tif(fixOvershoot && (sum.getDate() < date.getDate())){\r\n\t\tsum.setDate(0);\r\n\t}\r\n\r\n\treturn sum; // Date\r\n};\r\n\r\ndate.difference = function(/*Date*/date1, /*Date?*/date2, /*String?*/interval){\r\n\t// summary:\r\n\t//\t\tGet the difference in a specific unit of time (e.g., number of\r\n\t//\t\tmonths, weeks, days, etc.) between two dates, rounded to the\r\n\t//\t\tnearest integer.\r\n\t// date1:\r\n\t//\t\tDate object\r\n\t// date2:\r\n\t//\t\tDate object.  If not specified, the current Date is used.\r\n\t// interval:\r\n\t//\t\tA string representing the interval.  One of the following:\r\n\t//\t\t\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\",\r\n\t//\t\t\"millisecond\", \"quarter\", \"week\", \"weekday\"\r\n\t//\r\n\t//\t\tDefaults to \"day\".\r\n\r\n\tdate2 = date2 || new Date();\r\n\tinterval = interval || \"day\";\r\n\tvar yearDiff = date2.getFullYear() - date1.getFullYear();\r\n\tvar delta = 1; // Integer return value\r\n\r\n\tswitch(interval){\r\n\t\tcase \"quarter\":\r\n\t\t\tvar m1 = date1.getMonth();\r\n\t\t\tvar m2 = date2.getMonth();\r\n\t\t\t// Figure out which quarter the months are in\r\n\t\t\tvar q1 = Math.floor(m1/3) + 1;\r\n\t\t\tvar q2 = Math.floor(m2/3) + 1;\r\n\t\t\t// Add quarters for any year difference between the dates\r\n\t\t\tq2 += (yearDiff * 4);\r\n\t\t\tdelta = q2 - q1;\r\n\t\t\tbreak;\r\n\t\tcase \"weekday\":\r\n\t\t\tvar days = Math.round(date.difference(date1, date2, \"day\"));\r\n\t\t\tvar weeks = parseInt(date.difference(date1, date2, \"week\"));\r\n\t\t\tvar mod = days % 7;\r\n\r\n\t\t\t// Even number of weeks\r\n\t\t\tif(mod == 0){\r\n\t\t\t\tdays = weeks*5;\r\n\t\t\t}else{\r\n\t\t\t\t// Weeks plus spare change (< 7 days)\r\n\t\t\t\tvar adj = 0;\r\n\t\t\t\tvar aDay = date1.getDay();\r\n\t\t\t\tvar bDay = date2.getDay();\r\n\r\n\t\t\t\tweeks = parseInt(days/7);\r\n\t\t\t\tmod = days % 7;\r\n\t\t\t\t// Mark the date advanced by the number of\r\n\t\t\t\t// round weeks (may be zero)\r\n\t\t\t\tvar dtMark = new Date(date1);\r\n\t\t\t\tdtMark.setDate(dtMark.getDate()+(weeks*7));\r\n\t\t\t\tvar dayMark = dtMark.getDay();\r\n\r\n\t\t\t\t// Spare change days -- 6 or less\r\n\t\t\t\tif(days > 0){\r\n\t\t\t\t\tswitch(true){\r\n\t\t\t\t\t\t// Range starts on Sat\r\n\t\t\t\t\t\tcase aDay == 6:\r\n\t\t\t\t\t\t\tadj = -1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range starts on Sun\r\n\t\t\t\t\t\tcase aDay == 0:\r\n\t\t\t\t\t\t\tadj = 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range ends on Sat\r\n\t\t\t\t\t\tcase bDay == 6:\r\n\t\t\t\t\t\t\tadj = -1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range ends on Sun\r\n\t\t\t\t\t\tcase bDay == 0:\r\n\t\t\t\t\t\t\tadj = -2;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range contains weekend\r\n\t\t\t\t\t\tcase (dayMark + mod) > 5:\r\n\t\t\t\t\t\t\tadj = -2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(days < 0){\r\n\t\t\t\t\tswitch(true){\r\n\t\t\t\t\t\t// Range starts on Sat\r\n\t\t\t\t\t\tcase aDay == 6:\r\n\t\t\t\t\t\t\tadj = 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range starts on Sun\r\n\t\t\t\t\t\tcase aDay == 0:\r\n\t\t\t\t\t\t\tadj = 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range ends on Sat\r\n\t\t\t\t\t\tcase bDay == 6:\r\n\t\t\t\t\t\t\tadj = 2;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range ends on Sun\r\n\t\t\t\t\t\tcase bDay == 0:\r\n\t\t\t\t\t\t\tadj = 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t// Range contains weekend\r\n\t\t\t\t\t\tcase (dayMark + mod) < 0:\r\n\t\t\t\t\t\t\tadj = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdays += adj;\r\n\t\t\t\tdays -= (weeks*2);\r\n\t\t\t}\r\n\t\t\tdelta = days;\r\n\t\t\tbreak;\r\n\t\tcase \"year\":\r\n\t\t\tdelta = yearDiff;\r\n\t\t\tbreak;\r\n\t\tcase \"month\":\r\n\t\t\tdelta = (date2.getMonth() - date1.getMonth()) + (yearDiff * 12);\r\n\t\t\tbreak;\r\n\t\tcase \"week\":\r\n\t\t\t// Truncate instead of rounding\r\n\t\t\t// Don't use Math.floor -- value may be negative\r\n\t\t\tdelta = parseInt(date.difference(date1, date2, \"day\")/7);\r\n\t\t\tbreak;\r\n\t\tcase \"day\":\r\n\t\t\tdelta /= 24;\r\n\t\t\t// fallthrough\r\n\t\tcase \"hour\":\r\n\t\t\tdelta /= 60;\r\n\t\t\t// fallthrough\r\n\t\tcase \"minute\":\r\n\t\t\tdelta /= 60;\r\n\t\t\t// fallthrough\r\n\t\tcase \"second\":\r\n\t\t\tdelta /= 1000;\r\n\t\t\t// fallthrough\r\n\t\tcase \"millisecond\":\r\n\t\t\tdelta *= date2.getTime() - date1.getTime();\r\n\t}\r\n\r\n\t// Round for fractional values and DST leaps\r\n\treturn Math.round(delta); // Number (integer)\r\n};\r\n\r\n// Don't use setObject() because it may overwrite dojo/date/stamp (if that has already been loaded)\r\nhas(\"extend-dojo\") && lang.mixin(lang.getObject(\"dojo.date\", true), date);\r\n\r\nreturn date;\r\n});\r\n\ndefine('dojo/cldr/supplemental',[\"../_base/lang\", \"../i18n\"], function(lang, i18n){\r\n\r\n// module:\r\n//\t\tdojo/cldr/supplemental\r\n\r\n\r\nvar supplemental = {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n};\r\nlang.setObject(\"dojo.cldr.supplemental\", supplemental);\r\n\r\nsupplemental.getFirstDayOfWeek = function(/*String?*/locale){\r\n\t// summary:\r\n\t//\t\tReturns a zero-based index for first day of the week\r\n\t// description:\r\n\t//\t\tReturns a zero-based index for first day of the week, as used by the local (Gregorian) calendar.\r\n\t//\t\te.g. Sunday (returns 0), or Monday (returns 1)\r\n\r\n\t// from http://www.unicode.org/cldr/data/common/supplemental/supplementalData.xml:supplementalData/weekData/firstDay\r\n\tvar firstDay = {/*default is 1=Monday*/\r\n\t\tbd:5,mv:5,\r\n\t\tae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,\r\n\t\tly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,\r\n\t\tag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,\r\n\t\tco:0,dm:0,'do':0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,'in':0,\r\n\t\tjm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,\r\n\t\tni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,\r\n\t\ttn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0\r\n\t};\r\n\r\n\tvar country = supplemental._region(locale);\r\n\tvar dow = firstDay[country];\r\n\treturn (dow === undefined) ? 1 : dow; /*Number*/\r\n};\r\n\r\nsupplemental._region = function(/*String?*/locale){\r\n\tlocale = i18n.normalizeLocale(locale);\r\n\tvar tags = locale.split('-');\r\n\tvar region = tags[1];\r\n\tif(!region){\r\n\t\t// IE often gives language only (#2269)\r\n\t\t// Arbitrary mappings of language-only locales to a country:\r\n\t\tregion = {\r\n\t\t\taa:\"et\", ab:\"ge\", af:\"za\", ak:\"gh\", am:\"et\", ar:\"eg\", as:\"in\", av:\"ru\", ay:\"bo\", az:\"az\", ba:\"ru\",\r\n\t\t\tbe:\"by\", bg:\"bg\", bi:\"vu\", bm:\"ml\", bn:\"bd\", bo:\"cn\", br:\"fr\", bs:\"ba\", ca:\"es\", ce:\"ru\", ch:\"gu\",\r\n\t\t\tco:\"fr\", cr:\"ca\", cs:\"cz\", cv:\"ru\", cy:\"gb\", da:\"dk\", de:\"de\", dv:\"mv\", dz:\"bt\", ee:\"gh\", el:\"gr\",\r\n\t\t\ten:\"us\", es:\"es\", et:\"ee\", eu:\"es\", fa:\"ir\", ff:\"sn\", fi:\"fi\", fj:\"fj\", fo:\"fo\", fr:\"fr\", fy:\"nl\",\r\n\t\t\tga:\"ie\", gd:\"gb\", gl:\"es\", gn:\"py\", gu:\"in\", gv:\"gb\", ha:\"ng\", he:\"il\", hi:\"in\", ho:\"pg\", hr:\"hr\",\r\n\t\t\tht:\"ht\", hu:\"hu\", hy:\"am\", ia:\"fr\", id:\"id\", ig:\"ng\", ii:\"cn\", ik:\"us\", \"in\":\"id\", is:\"is\", it:\"it\",\r\n\t\t\tiu:\"ca\", iw:\"il\", ja:\"jp\", ji:\"ua\", jv:\"id\", jw:\"id\", ka:\"ge\", kg:\"cd\", ki:\"ke\", kj:\"na\", kk:\"kz\",\r\n\t\t\tkl:\"gl\", km:\"kh\", kn:\"in\", ko:\"kr\", ks:\"in\", ku:\"tr\", kv:\"ru\", kw:\"gb\", ky:\"kg\", la:\"va\", lb:\"lu\",\r\n\t\t\tlg:\"ug\", li:\"nl\", ln:\"cd\", lo:\"la\", lt:\"lt\", lu:\"cd\", lv:\"lv\", mg:\"mg\", mh:\"mh\", mi:\"nz\", mk:\"mk\",\r\n\t\t\tml:\"in\", mn:\"mn\", mo:\"ro\", mr:\"in\", ms:\"my\", mt:\"mt\", my:\"mm\", na:\"nr\", nb:\"no\", nd:\"zw\", ne:\"np\",\r\n\t\t\tng:\"na\", nl:\"nl\", nn:\"no\", no:\"no\", nr:\"za\", nv:\"us\", ny:\"mw\", oc:\"fr\", om:\"et\", or:\"in\", os:\"ge\",\r\n\t\t\tpa:\"in\", pl:\"pl\", ps:\"af\", pt:\"br\", qu:\"pe\", rm:\"ch\", rn:\"bi\", ro:\"ro\", ru:\"ru\", rw:\"rw\", sa:\"in\",\r\n\t\t\tsd:\"in\", se:\"no\", sg:\"cf\", si:\"lk\", sk:\"sk\", sl:\"si\", sm:\"ws\", sn:\"zw\", so:\"so\", sq:\"al\", sr:\"rs\",\r\n\t\t\tss:\"za\", st:\"za\", su:\"id\", sv:\"se\", sw:\"tz\", ta:\"in\", te:\"in\", tg:\"tj\", th:\"th\", ti:\"et\", tk:\"tm\",\r\n\t\t\ttl:\"ph\", tn:\"za\", to:\"to\", tr:\"tr\", ts:\"za\", tt:\"ru\", ty:\"pf\", ug:\"cn\", uk:\"ua\", ur:\"pk\", uz:\"uz\",\r\n\t\t\tve:\"za\", vi:\"vn\", wa:\"be\", wo:\"sn\", xh:\"za\", yi:\"il\", yo:\"ng\", za:\"cn\", zh:\"cn\", zu:\"za\",\r\n\t\t\tace:\"id\", ady:\"ru\", agq:\"cm\", alt:\"ru\", amo:\"ng\", asa:\"tz\", ast:\"es\", awa:\"in\", bal:\"pk\",\r\n\t\t\tban:\"id\", bas:\"cm\", bax:\"cm\", bbc:\"id\", bem:\"zm\", bez:\"tz\", bfq:\"in\", bft:\"pk\", bfy:\"in\",\r\n\t\t\tbhb:\"in\", bho:\"in\", bik:\"ph\", bin:\"ng\", bjj:\"in\", bku:\"ph\", bqv:\"ci\", bra:\"in\", brx:\"in\",\r\n\t\t\tbss:\"cm\", btv:\"pk\", bua:\"ru\", buc:\"yt\", bug:\"id\", bya:\"id\", byn:\"er\", cch:\"ng\", ccp:\"in\",\r\n\t\t\tceb:\"ph\", cgg:\"ug\", chk:\"fm\", chm:\"ru\", chp:\"ca\", chr:\"us\", cja:\"kh\", cjm:\"vn\", ckb:\"iq\",\r\n\t\t\tcrk:\"ca\", csb:\"pl\", dar:\"ru\", dav:\"ke\", den:\"ca\", dgr:\"ca\", dje:\"ne\", doi:\"in\", dsb:\"de\",\r\n\t\t\tdua:\"cm\", dyo:\"sn\", dyu:\"bf\", ebu:\"ke\", efi:\"ng\", ewo:\"cm\", fan:\"gq\", fil:\"ph\", fon:\"bj\",\r\n\t\t\tfur:\"it\", gaa:\"gh\", gag:\"md\", gbm:\"in\", gcr:\"gf\", gez:\"et\", gil:\"ki\", gon:\"in\", gor:\"id\",\r\n\t\t\tgrt:\"in\", gsw:\"ch\", guz:\"ke\", gwi:\"ca\", haw:\"us\", hil:\"ph\", hne:\"in\", hnn:\"ph\", hoc:\"in\",\r\n\t\t\thoj:\"in\", ibb:\"ng\", ilo:\"ph\", inh:\"ru\", jgo:\"cm\", jmc:\"tz\", kaa:\"uz\", kab:\"dz\", kaj:\"ng\",\r\n\t\t\tkam:\"ke\", kbd:\"ru\", kcg:\"ng\", kde:\"tz\", kdt:\"th\", kea:\"cv\", ken:\"cm\", kfo:\"ci\", kfr:\"in\",\r\n\t\t\tkha:\"in\", khb:\"cn\", khq:\"ml\", kht:\"in\", kkj:\"cm\", kln:\"ke\", kmb:\"ao\", koi:\"ru\", kok:\"in\",\r\n\t\t\tkos:\"fm\", kpe:\"lr\", krc:\"ru\", kri:\"sl\", krl:\"ru\", kru:\"in\", ksb:\"tz\", ksf:\"cm\", ksh:\"de\",\r\n\t\t\tkum:\"ru\", lag:\"tz\", lah:\"pk\", lbe:\"ru\", lcp:\"cn\", lep:\"in\", lez:\"ru\", lif:\"np\", lis:\"cn\",\r\n\t\t\tlki:\"ir\", lmn:\"in\", lol:\"cd\", lua:\"cd\", luo:\"ke\", luy:\"ke\", lwl:\"th\", mad:\"id\", mag:\"in\",\r\n\t\t\tmai:\"in\", mak:\"id\", man:\"gn\", mas:\"ke\", mdf:\"ru\", mdh:\"ph\", mdr:\"id\", men:\"sl\", mer:\"ke\",\r\n\t\t\tmfe:\"mu\", mgh:\"mz\", mgo:\"cm\", min:\"id\", mni:\"in\", mnk:\"gm\", mnw:\"mm\", mos:\"bf\", mua:\"cm\",\r\n\t\t\tmwr:\"in\", myv:\"ru\", nap:\"it\", naq:\"na\", nds:\"de\", \"new\":\"np\", niu:\"nu\", nmg:\"cm\", nnh:\"cm\",\r\n\t\t\tnod:\"th\", nso:\"za\", nus:\"sd\", nym:\"tz\", nyn:\"ug\", pag:\"ph\", pam:\"ph\", pap:\"bq\", pau:\"pw\",\r\n\t\t\tpon:\"fm\", prd:\"ir\", raj:\"in\", rcf:\"re\", rej:\"id\", rjs:\"np\", rkt:\"in\", rof:\"tz\", rwk:\"tz\",\r\n\t\t\tsaf:\"gh\", sah:\"ru\", saq:\"ke\", sas:\"id\", sat:\"in\", saz:\"in\", sbp:\"tz\", scn:\"it\", sco:\"gb\",\r\n\t\t\tsdh:\"ir\", seh:\"mz\", ses:\"ml\", shi:\"ma\", shn:\"mm\", sid:\"et\", sma:\"se\", smj:\"se\", smn:\"fi\",\r\n\t\t\tsms:\"fi\", snk:\"ml\", srn:\"sr\", srr:\"sn\", ssy:\"er\", suk:\"tz\", sus:\"gn\", swb:\"yt\", swc:\"cd\",\r\n\t\t\tsyl:\"bd\", syr:\"sy\", tbw:\"ph\", tcy:\"in\", tdd:\"cn\", tem:\"sl\", teo:\"ug\", tet:\"tl\", tig:\"er\",\r\n\t\t\ttiv:\"ng\", tkl:\"tk\", tmh:\"ne\", tpi:\"pg\", trv:\"tw\", tsg:\"ph\", tts:\"th\", tum:\"mw\", tvl:\"tv\",\r\n\t\t\ttwq:\"ne\", tyv:\"ru\", tzm:\"ma\", udm:\"ru\", uli:\"fm\", umb:\"ao\", unr:\"in\", unx:\"in\", vai:\"lr\",\r\n\t\t\tvun:\"tz\", wae:\"ch\", wal:\"et\", war:\"ph\", xog:\"ug\", xsr:\"np\", yao:\"mz\", yap:\"fm\", yav:\"cm\", zza:\"tr\"\r\n\t\t}[tags[0]];\r\n\t}else if(region.length == 4){\r\n\t\t// The ISO 3166 country code is usually in the second position, unless a\r\n\t\t// 4-letter script is given. See http://www.ietf.org/rfc/rfc4646.txt\r\n\t\tregion = tags[2];\r\n\t}\r\n\treturn region;\r\n};\r\n\r\nsupplemental.getWeekend = function(/*String?*/locale){\r\n\t// summary:\r\n\t//\t\tReturns a hash containing the start and end days of the weekend\r\n\t// description:\r\n\t//\t\tReturns a hash containing the start and end days of the weekend according to local custom using locale,\r\n\t//\t\tor by default in the user's locale.\r\n\t//\t\te.g. {start:6, end:0}\r\n\r\n\t// from http://www.unicode.org/cldr/data/common/supplemental/supplementalData.xml:supplementalData/weekData/weekend{Start,End}\r\n\tvar weekendStart = {/*default is 6=Saturday*/\r\n\t\t\t'in':0,\r\n\t\t\taf:4,dz:4,ir:4,om:4,sa:4,ye:4,\r\n\t\t\tae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5\r\n\t\t},\r\n\r\n\t\tweekendEnd = {/*default is 0=Sunday*/\r\n\t\t\taf:5,dz:5,ir:5,om:5,sa:5,ye:5,\r\n\t\t\tae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6\r\n\t\t},\r\n\r\n\t\tcountry = supplemental._region(locale),\r\n\t\tstart = weekendStart[country],\r\n\t\tend = weekendEnd[country];\r\n\r\n\tif(start === undefined){start=6;}\r\n\tif(end === undefined){end=0;}\r\n\treturn {start:start, end:end}; /*Object {start,end}*/\r\n};\r\n\r\nreturn supplemental;\r\n});\r\n\n\ndefine('dojo/date/locale',[\r\n\t\"../_base/lang\",\r\n\t\"../_base/array\",\r\n\t\"../date\",\r\n\t/*===== \"../_base/declare\", =====*/\r\n\t\"../cldr/supplemental\",\r\n\t\"../i18n\",\r\n\t\"../regexp\",\r\n\t\"../string\",\r\n\t\"../i18n!../cldr/nls/gregorian\",\r\n\t\"module\"\r\n], function(lang, array, date, /*===== declare, =====*/ supplemental, i18n, regexp, string, gregorian, module){\r\n\r\n// module:\r\n//\t\tdojo/date/locale\r\n\r\nvar exports = {\r\n\t// summary:\r\n\t//\t\tThis modules defines dojo/date/locale, localization methods for Date.\r\n};\r\nlang.setObject(module.id.replace(/\\//g, \".\"), exports);\r\n\r\n// Localization methods for Date.   Honor local customs using locale-dependent dojo.cldr data.\r\n\r\n// Load the bundles containing localization information for\r\n// names and formats\r\n\r\n//NOTE: Everything in this module assumes Gregorian calendars.\r\n// Other calendars will be implemented in separate modules.\r\n\r\n\t// Format a pattern without literals\r\n\tfunction formatPattern(dateObject, bundle, options, pattern){\r\n\t\treturn pattern.replace(/([a-z])\\1*/ig, function(match){\r\n\t\t\tvar s, pad,\r\n\t\t\t\tc = match.charAt(0),\r\n\t\t\t\tl = match.length,\r\n\t\t\t\twidthList = [\"abbr\", \"wide\", \"narrow\"];\r\n\t\t\tswitch(c){\r\n\t\t\t\tcase 'G':\r\n\t\t\t\t\ts = bundle[(l < 4) ? \"eraAbbr\" : \"eraNames\"][dateObject.getFullYear() < 0 ? 0 : 1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'y':\r\n\t\t\t\t\ts = dateObject.getFullYear();\r\n\t\t\t\t\tswitch(l){\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tif(!options.fullYear){\r\n\t\t\t\t\t\t\t\ts = String(s); s = s.substr(s.length - 2);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// fallthrough\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tpad = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Q':\r\n\t\t\t\tcase 'q':\r\n\t\t\t\t\ts = Math.ceil((dateObject.getMonth()+1)/3);\r\n//\t\t\t\t\tswitch(l){\r\n//\t\t\t\t\t\tcase 1: case 2:\r\n\t\t\t\t\t\t\tpad = true;\r\n//\t\t\t\t\t\t\tbreak;\r\n//\t\t\t\t\t\tcase 3: case 4: // unimplemented\r\n//\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'M':\r\n\t\t\t\tcase 'L':\r\n\t\t\t\t\tvar m = dateObject.getMonth();\r\n\t\t\t\t\tif(l<3){\r\n\t\t\t\t\t\ts = m+1; pad = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar propM = [\r\n\t\t\t\t\t\t\t\"months\",\r\n\t\t\t\t\t\t\tc == 'L' ? \"standAlone\" : \"format\",\r\n\t\t\t\t\t\t\twidthList[l-3]\r\n\t\t\t\t\t\t].join(\"-\");\r\n\t\t\t\t\t\ts = bundle[propM][m];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'w':\r\n\t\t\t\t\tvar firstDay = 0;\r\n\t\t\t\t\ts = exports._getWeekOfYear(dateObject, firstDay); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'd':\r\n\t\t\t\t\ts = dateObject.getDate(); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'D':\r\n\t\t\t\t\ts = exports._getDayOfYear(dateObject); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'e':\r\n\t\t\t\tcase 'c':\r\n\t\t\t\t\tvar d = dateObject.getDay();\r\n\t\t\t\t\tif(l<2){\r\n\t\t\t\t\t\ts = (d - supplemental.getFirstDayOfWeek(options.locale) + 8) % 7\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// fallthrough\r\n\t\t\t\tcase 'E':\r\n\t\t\t\t\td = dateObject.getDay();\r\n\t\t\t\t\tif(l<3){\r\n\t\t\t\t\t\ts = d+1; pad = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar propD = [\r\n\t\t\t\t\t\t\t\"days\",\r\n\t\t\t\t\t\t\tc == 'c' ? \"standAlone\" : \"format\",\r\n\t\t\t\t\t\t\twidthList[l-3]\r\n\t\t\t\t\t\t].join(\"-\");\r\n\t\t\t\t\t\ts = bundle[propD][d];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'a':\r\n\t\t\t\t\tvar timePeriod = dateObject.getHours() < 12 ? 'am' : 'pm';\r\n\t\t\t\t\ts = options[timePeriod] || bundle['dayPeriods-format-wide-' + timePeriod];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'h':\r\n\t\t\t\tcase 'H':\r\n\t\t\t\tcase 'K':\r\n\t\t\t\tcase 'k':\r\n\t\t\t\t\tvar h = dateObject.getHours();\r\n\t\t\t\t\t// strange choices in the date format make it impossible to write this succinctly\r\n\t\t\t\t\tswitch (c){\r\n\t\t\t\t\t\tcase 'h': // 1-12\r\n\t\t\t\t\t\t\ts = (h % 12) || 12;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'H': // 0-23\r\n\t\t\t\t\t\t\ts = h;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'K': // 0-11\r\n\t\t\t\t\t\t\ts = (h % 12);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'k': // 1-24\r\n\t\t\t\t\t\t\ts = h || 24;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'm':\r\n\t\t\t\t\ts = dateObject.getMinutes(); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\ts = dateObject.getSeconds(); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'S':\r\n\t\t\t\t\ts = Math.round(dateObject.getMilliseconds() * Math.pow(10, l-3)); pad = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'v': // FIXME: don't know what this is. seems to be same as z?\r\n\t\t\t\tcase 'z':\r\n\t\t\t\t\t// We only have one timezone to offer; the one from the browser\r\n\t\t\t\t\ts = exports._getZone(dateObject, true, options);\r\n\t\t\t\t\tif(s){break;}\r\n\t\t\t\t\tl=4;\r\n\t\t\t\t\t// fallthrough... use GMT if tz not available\r\n\t\t\t\tcase 'Z':\r\n\t\t\t\t\tvar offset = exports._getZone(dateObject, false, options);\r\n\t\t\t\t\tvar tz = [\r\n\t\t\t\t\t\t(offset<=0 ? \"+\" : \"-\"),\r\n\t\t\t\t\t\tstring.pad(Math.floor(Math.abs(offset)/60), 2),\r\n\t\t\t\t\t\tstring.pad(Math.abs(offset)% 60, 2)\r\n\t\t\t\t\t];\r\n\t\t\t\t\tif(l==4){\r\n\t\t\t\t\t\ttz.splice(0, 0, \"GMT\");\r\n\t\t\t\t\t\ttz.splice(3, 0, \":\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\ts = tz.join(\"\");\r\n\t\t\t\t\tbreak;\r\n//\t\t\t\tcase 'Y': case 'u': case 'W': case 'F': case 'g': case 'A':\r\n//\t\t\t\t\tconsole.log(match+\" modifier unimplemented\");\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(\"dojo.date.locale.format: invalid pattern char: \"+pattern);\r\n\t\t\t}\r\n\t\t\tif(pad){ s = string.pad(s, l); }\r\n\t\t\treturn s;\r\n\t\t});\r\n\t}\r\n\r\n/*=====\r\nvar __FormatOptions = exports.__FormatOptions = declare(null, {\r\n\t// selector: String\r\n\t//\t\tchoice of 'time','date' (default: date and time)\r\n\t// formatLength: String\r\n\t//\t\tchoice of long, short, medium or full (plus any custom additions).  Defaults to 'short'\r\n\t// datePattern:String\r\n\t//\t\toverride pattern with this string\r\n\t// timePattern:String\r\n\t//\t\toverride pattern with this string\r\n\t// am: String\r\n\t//\t\toverride strings for am in times\r\n\t// pm: String\r\n\t//\t\toverride strings for pm in times\r\n\t// locale: String\r\n\t//\t\toverride the locale used to determine formatting rules\r\n\t// fullYear: Boolean\r\n\t//\t\t(format only) use 4 digit years whenever 2 digit years are called for\r\n\t// strict: Boolean\r\n\t//\t\t(parse only) strict parsing, off by default\r\n});\r\n=====*/\r\n\r\nexports._getZone = function(/*Date*/ dateObject, /*boolean*/ getName, /*__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tReturns the zone (or offset) for the given date and options.  This\r\n\t//\t\tis broken out into a separate function so that it can be overridden\r\n\t//\t\tby timezone-aware code.\r\n\t//\r\n\t// dateObject:\r\n\t//\t\tthe date and/or time being formatted.\r\n\t//\r\n\t// getName:\r\n\t//\t\tWhether to return the timezone string (if true), or the offset (if false)\r\n\t//\r\n\t// options:\r\n\t//\t\tThe options being used for formatting\r\n\tif(getName){\r\n\t\treturn date.getTimezoneName(dateObject);\r\n\t}else{\r\n\t\treturn dateObject.getTimezoneOffset();\r\n\t}\r\n};\r\n\r\n\r\nexports.format = function(/*Date*/ dateObject, /*__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tFormat a Date object as a String, using locale-specific settings.\r\n\t//\r\n\t// description:\r\n\t//\t\tCreate a string from a Date object using a known localized pattern.\r\n\t//\t\tBy default, this method formats both date and time from dateObject.\r\n\t//\t\tFormatting patterns are chosen appropriate to the locale.  Different\r\n\t//\t\tformatting lengths may be chosen, with \"full\" used by default.\r\n\t//\t\tCustom patterns may be used or registered with translations using\r\n\t//\t\tthe dojo/date/locale.addCustomFormats() method.\r\n\t//\t\tFormatting patterns are implemented using [the syntax described at\r\n\t//\t\tunicode.org](http://www.unicode.org/reports/tr35/tr35-4.html#Date_Format_Patterns)\r\n\t//\r\n\t// dateObject:\r\n\t//\t\tthe date and/or time to be formatted.  If a time only is formatted,\r\n\t//\t\tthe values in the year, month, and day fields are irrelevant.  The\r\n\t//\t\topposite is true when formatting only dates.\r\n\r\n\toptions = options || {};\r\n\r\n\tvar locale = i18n.normalizeLocale(options.locale),\r\n\t\tformatLength = options.formatLength || 'short',\r\n\t\tbundle = exports._getGregorianBundle(locale),\r\n\t\tstr = [],\r\n\t\tsauce = lang.hitch(this, formatPattern, dateObject, bundle, options);\r\n\tif(options.selector == \"year\"){\r\n\t\treturn _processPattern(bundle[\"dateFormatItem-yyyy\"] || \"yyyy\", sauce);\r\n\t}\r\n\tvar pattern;\r\n\tif(options.selector != \"date\"){\r\n\t\tpattern = options.timePattern || bundle[\"timeFormat-\"+formatLength];\r\n\t\tif(pattern){str.push(_processPattern(pattern, sauce));}\r\n\t}\r\n\tif(options.selector != \"time\"){\r\n\t\tpattern = options.datePattern || bundle[\"dateFormat-\"+formatLength];\r\n\t\tif(pattern){str.push(_processPattern(pattern, sauce));}\r\n\t}\r\n\r\n\treturn str.length == 1 ? str[0] : bundle[\"dateTimeFormat-\"+formatLength].replace(/\\'/g,'').replace(/\\{(\\d+)\\}/g,\r\n\t\tfunction(match, key){ return str[key]; }); // String\r\n};\r\n\r\nexports.regexp = function(/*__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tBuilds the regular needed to parse a localized date\r\n\r\n\treturn exports._parseInfo(options).regexp; // String\r\n};\r\n\r\nexports._parseInfo = function(/*__FormatOptions?*/ options){\r\n\toptions = options || {};\r\n\tvar locale = i18n.normalizeLocale(options.locale),\r\n\t\tbundle = exports._getGregorianBundle(locale),\r\n\t\tformatLength = options.formatLength || 'short',\r\n\t\tdatePattern = options.datePattern || bundle[\"dateFormat-\" + formatLength],\r\n\t\ttimePattern = options.timePattern || bundle[\"timeFormat-\" + formatLength],\r\n\t\tpattern;\r\n\tif(options.selector == 'date'){\r\n\t\tpattern = datePattern;\r\n\t}else if(options.selector == 'time'){\r\n\t\tpattern = timePattern;\r\n\t}else{\r\n\t\tpattern = bundle[\"dateTimeFormat-\"+formatLength].replace(/\\{(\\d+)\\}/g,\r\n\t\t\tfunction(match, key){ return [timePattern, datePattern][key]; });\r\n\t}\r\n\r\n\tvar tokens = [],\r\n\t\tre = _processPattern(pattern, lang.hitch(this, _buildDateTimeRE, tokens, bundle, options));\r\n\treturn {regexp: re, tokens: tokens, bundle: bundle};\r\n};\r\n\r\nexports.parse = function(/*String*/ value, /*__FormatOptions?*/ options){\r\n\t// summary:\r\n\t//\t\tConvert a properly formatted string to a primitive Date object,\r\n\t//\t\tusing locale-specific settings.\r\n\t//\r\n\t// description:\r\n\t//\t\tCreate a Date object from a string using a known localized pattern.\r\n\t//\t\tBy default, this method parses looking for both date and time in the string.\r\n\t//\t\tFormatting patterns are chosen appropriate to the locale.  Different\r\n\t//\t\tformatting lengths may be chosen, with \"full\" used by default.\r\n\t//\t\tCustom patterns may be used or registered with translations using\r\n\t//\t\tthe dojo/date/locale.addCustomFormats() method.\r\n\t//\r\n\t//\t\tFormatting patterns are implemented using [the syntax described at\r\n\t//\t\tunicode.org](http://www.unicode.org/reports/tr35/tr35-4.html#Date_Format_Patterns)\r\n\t//\t\tWhen two digit years are used, a century is chosen according to a sliding\r\n\t//\t\twindow of 80 years before and 20 years after present year, for both `yy` and `yyyy` patterns.\r\n\t//\t\tyear < 100CE requires strict mode.\r\n\t//\r\n\t// value:\r\n\t//\t\tA string representation of a date\r\n\r\n\t// remove non-printing bidi control chars from input and pattern\r\n\tvar controlChars = /[\\u200E\\u200F\\u202A\\u202E]/g,\r\n\t\tinfo = exports._parseInfo(options),\r\n\t\ttokens = info.tokens, bundle = info.bundle,\r\n\t\tre = new RegExp(\"^\" + info.regexp.replace(controlChars, \"\") + \"$\",\r\n\t\t\tinfo.strict ? \"\" : \"i\"),\r\n\t\tmatch = re.exec(value && value.replace(controlChars, \"\"));\r\n\r\n\tif(!match){ return null; } // null\r\n\r\n\tvar widthList = ['abbr', 'wide', 'narrow'],\r\n\t\tresult = [1970,0,1,0,0,0,0], // will get converted to a Date at the end\r\n\t\tamPm = \"\",\r\n\t\tvalid = array.every(match, function(v, i){\r\n\t\tif(!i){return true;}\r\n\t\tvar token = tokens[i-1],\r\n\t\t\tl = token.length,\r\n\t\t\tc = token.charAt(0);\r\n\t\tswitch(c){\r\n\t\t\tcase 'y':\r\n\t\t\t\tif(l != 2 && options.strict){\r\n\t\t\t\t\t//interpret year literally, so '5' would be 5 A.D.\r\n\t\t\t\t\tresult[0] = v;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(v<100){\r\n\t\t\t\t\t\tv = Number(v);\r\n\t\t\t\t\t\t//choose century to apply, according to a sliding window\r\n\t\t\t\t\t\t//of 80 years before and 20 years after present year\r\n\t\t\t\t\t\tvar year = '' + new Date().getFullYear(),\r\n\t\t\t\t\t\t\tcentury = year.substring(0, 2) * 100,\r\n\t\t\t\t\t\t\tcutoff = Math.min(Number(year.substring(2, 4)) + 20, 99);\r\n\t\t\t\t\t\tresult[0] = (v < cutoff) ? century + v : century - 100 + v;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t//we expected 2 digits and got more...\r\n\t\t\t\t\t\tif(options.strict){\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//interpret literally, so '150' would be 150 A.D.\r\n\t\t\t\t\t\t//also tolerate '1950', if 'yyyy' input passed to 'yy' format\r\n\t\t\t\t\t\tresult[0] = v;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'M':\r\n\t\t\tcase 'L':\r\n\t\t\t\tif(l>2){\r\n\t\t\t\t\tvar months = bundle['months-' +\r\n\t\t\t\t\t\t\t    (c == 'L' ? 'standAlone' : 'format') +\r\n\t\t\t\t\t\t\t    '-' + widthList[l-3]].concat();\r\n\t\t\t\t\tif(!options.strict){\r\n\t\t\t\t\t\t//Tolerate abbreviating period in month part\r\n\t\t\t\t\t\t//Case-insensitive comparison\r\n\t\t\t\t\t\tv = v.replace(\".\",\"\").toLowerCase();\r\n\t\t\t\t\t\tmonths = array.map(months, function(s){ return s.replace(\".\",\"\").toLowerCase(); } );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tv = array.indexOf(months, v);\r\n\t\t\t\t\tif(v == -1){\r\n//\t\t\t\t\t\tconsole.log(\"dojo/date/locale.parse: Could not parse month name: '\" + v + \"'.\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tv--;\r\n\t\t\t\t}\r\n\t\t\t\tresult[1] = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'E':\r\n\t\t\tcase 'e':\r\n\t\t\tcase 'c':\r\n\t\t\t\tvar days = bundle['days-' +\r\n\t\t\t\t\t\t  (c == 'c' ? 'standAlone' : 'format') +\r\n\t\t\t\t\t\t  '-' + widthList[l-3]].concat();\r\n\t\t\t\tif(!options.strict){\r\n\t\t\t\t\t//Case-insensitive comparison\r\n\t\t\t\t\tv = v.toLowerCase();\r\n\t\t\t\t\tdays = array.map(days, function(d){return d.toLowerCase();});\r\n\t\t\t\t}\r\n\t\t\t\tv = array.indexOf(days, v);\r\n\t\t\t\tif(v == -1){\r\n//\t\t\t\t\tconsole.log(\"dojo/date/locale.parse: Could not parse weekday name: '\" + v + \"'.\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//TODO: not sure what to actually do with this input,\r\n\t\t\t\t//in terms of setting something on the Date obj...?\r\n\t\t\t\t//without more context, can't affect the actual date\r\n\t\t\t\t//TODO: just validate?\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'D':\r\n\t\t\t\tresult[1] = 0;\r\n\t\t\t\t// fallthrough...\r\n\t\t\tcase 'd':\r\n\t\t\t\tresult[2] = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'a': //am/pm\r\n\t\t\t\tvar am = options.am || bundle['dayPeriods-format-wide-am'],\r\n\t\t\t\t\tpm = options.pm || bundle['dayPeriods-format-wide-pm'];\r\n\t\t\t\tif(!options.strict){\r\n\t\t\t\t\tvar period = /\\./g;\r\n\t\t\t\t\tv = v.replace(period,'').toLowerCase();\r\n\t\t\t\t\tam = am.replace(period,'').toLowerCase();\r\n\t\t\t\t\tpm = pm.replace(period,'').toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tif(options.strict && v != am && v != pm){\r\n//\t\t\t\t\tconsole.log(\"dojo/date/locale.parse: Could not parse am/pm part.\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// we might not have seen the hours field yet, so store the state and apply hour change later\r\n\t\t\t\tamPm = (v == pm) ? 'p' : (v == am) ? 'a' : '';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'K': //hour (1-24)\r\n\t\t\t\tif(v == 24){ v = 0; }\r\n\t\t\t\t// fallthrough...\r\n\t\t\tcase 'h': //hour (1-12)\r\n\t\t\tcase 'H': //hour (0-23)\r\n\t\t\tcase 'k': //hour (0-11)\r\n\t\t\t\t//TODO: strict bounds checking, padding\r\n\t\t\t\tif(v > 23){\r\n//\t\t\t\t\tconsole.log(\"dojo/date/locale.parse: Illegal hours value\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//in the 12-hour case, adjusting for am/pm requires the 'a' part\r\n\t\t\t\t//which could come before or after the hour, so we will adjust later\r\n\t\t\t\tresult[3] = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'm': //minutes\r\n\t\t\t\tresult[4] = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 's': //seconds\r\n\t\t\t\tresult[5] = v;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'S': //milliseconds\r\n\t\t\t\tresult[6] = v;\r\n//\t\t\t\tbreak;\r\n//\t\t\tcase 'w':\r\n//TODO\t\t\t\tvar firstDay = 0;\r\n//\t\t\tdefault:\r\n//TODO: throw?\r\n//\t\t\t\tconsole.log(\"dojo/date/locale.parse: unsupported pattern char=\" + token.charAt(0));\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tvar hours = +result[3];\r\n\tif(amPm === 'p' && hours < 12){\r\n\t\tresult[3] = hours + 12; //e.g., 3pm -> 15\r\n\t}else if(amPm === 'a' && hours == 12){\r\n\t\tresult[3] = 0; //12am -> 0\r\n\t}\r\n\r\n\t//TODO: implement a getWeekday() method in order to test\r\n\t//validity of input strings containing 'EEE' or 'EEEE'...\r\n\r\n\tvar dateObject = new Date(result[0], result[1], result[2], result[3], result[4], result[5], result[6]); // Date\r\n\tif(options.strict){\r\n\t\tdateObject.setFullYear(result[0]);\r\n\t}\r\n\r\n\t// Check for overflow.  The Date() constructor normalizes things like April 32nd...\r\n\t//TODO: why isn't this done for times as well?\r\n\tvar allTokens = tokens.join(\"\"),\r\n\t\tdateToken = allTokens.indexOf('d') != -1,\r\n\t\tmonthToken = allTokens.indexOf('M') != -1;\r\n\r\n\tif(!valid ||\r\n\t\t(monthToken && dateObject.getMonth() > result[1]) ||\r\n\t\t(dateToken && dateObject.getDate() > result[2])){\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Check for underflow, due to DST shifts.  See #9366\r\n\t// This assumes a 1 hour dst shift correction at midnight\r\n\t// We could compare the timezone offset after the shift and add the difference instead.\r\n\tif((monthToken && dateObject.getMonth() < result[1]) ||\r\n\t\t(dateToken && dateObject.getDate() < result[2])){\r\n\t\tdateObject = date.add(dateObject, \"hour\", 1);\r\n\t}\r\n\r\n\treturn dateObject; // Date\r\n};\r\n\r\nfunction _processPattern(pattern, applyPattern, applyLiteral, applyAll){\r\n\t//summary: Process a pattern with literals in it\r\n\r\n\t// Break up on single quotes, treat every other one as a literal, except '' which becomes '\r\n\tvar identity = function(x){return x;};\r\n\tapplyPattern = applyPattern || identity;\r\n\tapplyLiteral = applyLiteral || identity;\r\n\tapplyAll = applyAll || identity;\r\n\r\n\t//split on single quotes (which escape literals in date format strings)\r\n\t//but preserve escaped single quotes (e.g., o''clock)\r\n\tvar chunks = pattern.match(/(''|[^'])+/g),\r\n\t\tliteral = pattern.charAt(0) == \"'\";\r\n\r\n\tarray.forEach(chunks, function(chunk, i){\r\n\t\tif(!chunk){\r\n\t\t\tchunks[i]='';\r\n\t\t}else{\r\n\t\t\tchunks[i]=(literal ? applyLiteral : applyPattern)(chunk.replace(/''/g, \"'\"));\r\n\t\t\tliteral = !literal;\r\n\t\t}\r\n\t});\r\n\treturn applyAll(chunks.join(''));\r\n}\r\n\r\nfunction _buildDateTimeRE(tokens, bundle, options, pattern){\r\n\tpattern = regexp.escapeString(pattern);\r\n\tif(!options.strict){ pattern = pattern.replace(\" a\", \" ?a\"); } // kludge to tolerate no space before am/pm\r\n\treturn pattern.replace(/([a-z])\\1*/ig, function(match){\r\n\t\t// Build a simple regexp.  Avoid captures, which would ruin the tokens list\r\n\t\tvar s,\r\n\t\t\tc = match.charAt(0),\r\n\t\t\tl = match.length,\r\n\t\t\tp2 = '', p3 = '';\r\n\t\tif(options.strict){\r\n\t\t\tif(l > 1){ p2 = '0' + '{'+(l-1)+'}'; }\r\n\t\t\tif(l > 2){ p3 = '0' + '{'+(l-2)+'}'; }\r\n\t\t}else{\r\n\t\t\tp2 = '0?'; p3 = '0{0,2}';\r\n\t\t}\r\n\t\tswitch(c){\r\n\t\t\tcase 'y':\r\n\t\t\t\ts = '\\\\d{2,4}';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'M':\r\n\t\t\tcase 'L':\r\n\t\t\t\ts = (l>2) ? '\\\\S+?' : '1[0-2]|'+p2+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'D':\r\n\t\t\t\ts = '[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|'+p2+'[1-9][0-9]|'+p3+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'd':\r\n\t\t\t\ts = '3[01]|[12]\\\\d|'+p2+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'w':\r\n\t\t\t\ts = '[1-4][0-9]|5[0-3]|'+p2+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'E':\r\n\t\t\tcase 'e':\r\n\t\t\tcase 'c':\r\n\t\t\t\ts = '.+?'; // match anything including spaces until the first pattern delimiter is found such as a comma or space\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'h': //hour (1-12)\r\n\t\t\t\ts = '1[0-2]|'+p2+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'k': //hour (0-11)\r\n\t\t\t\ts = '1[01]|'+p2+'\\\\d';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'H': //hour (0-23)\r\n\t\t\t\ts = '1\\\\d|2[0-3]|'+p2+'\\\\d';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'K': //hour (1-24)\r\n\t\t\t\ts = '1\\\\d|2[0-4]|'+p2+'[1-9]';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'm':\r\n\t\t\tcase 's':\r\n\t\t\t\ts = '[0-5]\\\\d';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'S':\r\n\t\t\t\ts = '\\\\d{'+l+'}';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'a':\r\n\t\t\t\tvar am = options.am || bundle['dayPeriods-format-wide-am'],\r\n\t\t\t\t\tpm = options.pm || bundle['dayPeriods-format-wide-pm'];\r\n\t\t\t\t\ts = am + '|' + pm;\r\n\t\t\t\tif(!options.strict){\r\n\t\t\t\t\tif(am != am.toLowerCase()){ s += '|' + am.toLowerCase(); }\r\n\t\t\t\t\tif(pm != pm.toLowerCase()){ s += '|' + pm.toLowerCase(); }\r\n\t\t\t\t\tif(s.indexOf('.') != -1){ s += '|' + s.replace(/\\./g, \"\"); }\r\n\t\t\t\t}\r\n\t\t\t\ts = s.replace(/\\./g, \"\\\\.\");\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t// case 'v':\r\n\t\t\t// case 'z':\r\n\t\t\t// case 'Z':\r\n\t\t\t\ts = \".*\";\r\n//\t\t\t\tconsole.log(\"parse of date format, pattern=\" + pattern);\r\n\t\t}\r\n\r\n\t\tif(tokens){ tokens.push(match); }\r\n\r\n\t\treturn \"(\" + s + \")\"; // add capture\r\n\t}).replace(/[\\xa0 ]/g, \"[\\\\s\\\\xa0]\"); // normalize whitespace.  Need explicit handling of \\xa0 for IE.\r\n}\r\n\r\nvar _customFormats = [];\r\nexports.addCustomFormats = function(/*String*/ packageName, /*String*/ bundleName){\r\n\t// summary:\r\n\t//\t\tAdd a reference to a bundle containing localized custom formats to be\r\n\t//\t\tused by date/time formatting and parsing routines.\r\n\t//\r\n\t// description:\r\n\t//\t\tThe user may add custom localized formats where the bundle has properties following the\r\n\t//\t\tsame naming convention used by dojo.cldr: `dateFormat-xxxx` / `timeFormat-xxxx`\r\n\t//\t\tThe pattern string should match the format used by the CLDR.\r\n\t//\t\tSee dojo/date/locale.format() for details.\r\n\t//\t\tThe resources must be loaded by dojo.requireLocalization() prior to use\r\n\r\n\t_customFormats.push({pkg:packageName,name:bundleName});\r\n};\r\n\r\nexports._getGregorianBundle = function(/*String*/ locale){\r\n\tvar gregorian = {};\r\n\tarray.forEach(_customFormats, function(desc){\r\n\t\tvar bundle = i18n.getLocalization(desc.pkg, desc.name, locale);\r\n\t\tgregorian = lang.mixin(gregorian, bundle);\r\n\t}, this);\r\n\treturn gregorian; /*Object*/\r\n};\r\n\r\nexports.addCustomFormats(module.id.replace(/\\/date\\/locale$/, \".cldr\"),\"gregorian\");\r\n\r\nexports.getNames = function(/*String*/ item, /*String*/ type, /*String?*/ context, /*String?*/ locale){\r\n\t// summary:\r\n\t//\t\tUsed to get localized strings from dojo.cldr for day or month names.\r\n\t//\r\n\t// item:\r\n\t//\t'months' || 'days'\r\n\t// type:\r\n\t//\t'wide' || 'abbr' || 'narrow' (e.g. \"Monday\", \"Mon\", or \"M\" respectively, in English)\r\n\t// context:\r\n\t//\t'standAlone' || 'format' (default)\r\n\t// locale:\r\n\t//\toverride locale used to find the names\r\n\r\n\tvar label,\r\n\t\tlookup = exports._getGregorianBundle(locale),\r\n\t\tprops = [item, context, type];\r\n\tif(context == 'standAlone'){\r\n\t\tvar key = props.join('-');\r\n\t\tlabel = lookup[key];\r\n\t\t// Fall back to 'format' flavor of name\r\n\t\tif(label[0] == 1){ label = undefined; } // kludge, in the absence of real aliasing support in dojo.cldr\r\n\t}\r\n\tprops[1] = 'format';\r\n\r\n\t// return by copy so changes won't be made accidentally to the in-memory model\r\n\treturn (label || lookup[props.join('-')]).concat(); /*Array*/\r\n};\r\n\r\nexports.isWeekend = function(/*Date?*/ dateObject, /*String?*/ locale){\r\n\t// summary:\r\n\t//\tDetermines if the date falls on a weekend, according to local custom.\r\n\r\n\tvar weekend = supplemental.getWeekend(locale),\r\n\t\tday = (dateObject || new Date()).getDay();\r\n\tif(weekend.end < weekend.start){\r\n\t\tweekend.end += 7;\r\n\t\tif(day < weekend.start){ day += 7; }\r\n\t}\r\n\treturn day >= weekend.start && day <= weekend.end; // Boolean\r\n};\r\n\r\n// These are used only by format and strftime.  Do they need to be public?  Which module should they go in?\r\n\r\nexports._getDayOfYear = function(/*Date*/ dateObject){\r\n\t// summary:\r\n\t//\t\tgets the day of the year as represented by dateObject\r\n\treturn date.difference(new Date(dateObject.getFullYear(), 0, 1, dateObject.getHours()), dateObject) + 1; // Number\r\n};\r\n\r\nexports._getWeekOfYear = function(/*Date*/ dateObject, /*Number*/ firstDayOfWeek){\r\n\tif(arguments.length == 1){ firstDayOfWeek = 0; } // Sunday\r\n\r\n\tvar firstDayOfYear = new Date(dateObject.getFullYear(), 0, 1).getDay(),\r\n\t\tadj = (firstDayOfYear - firstDayOfWeek + 7) % 7,\r\n\t\tweek = Math.floor((exports._getDayOfYear(dateObject) + adj - 1) / 7);\r\n\r\n\t// if year starts on the specified day, start counting weeks at 1\r\n\tif(firstDayOfYear == firstDayOfWeek){ week++; }\r\n\r\n\treturn week; // Number\r\n};\r\n\r\nreturn exports;\r\n});\r\n\n\ndefine('dijit/CalendarLite',[\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/cldr/supplemental\", // cldrSupplemental.getFirstDayOfWeek\r\n\t\"dojo/date\", // date\r\n\t\"dojo/date/locale\",\r\n\t\"dojo/date/stamp\", // stamp.fromISOString\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-class\", // domClass.contains\r\n\t\"dojo/_base/lang\", // lang.getObject, lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"webkit\")\r\n\t\"dojo/string\", // string.substitute\r\n\t\"./_WidgetBase\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"dojo/text!./templates/Calendar.html\",\r\n\t\"./a11yclick\",\t// not used directly, but template has ondijitclick in it\r\n\t\"./hccss\"    // not used directly, but sets CSS class on <body>\r\n], function(array, declare, cldrSupplemental, date, locale, stamp, dom, domClass, lang, on, has, string, _WidgetBase, _TemplatedMixin, template){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/CalendarLite\r\n\r\n\tvar CalendarLite = declare(\"dijit.CalendarLite\", [_WidgetBase, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tLightweight version of Calendar widget aimed towards mobile use\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tA simple GUI for choosing a date in the context of a monthly calendar.\r\n\t\t//\t\tThis widget can't be used in a form because it doesn't serialize the date to an\r\n\t\t//\t\t`<input>` field.  For a form element, use dijit/form/DateTextBox instead.\r\n\t\t//\r\n\t\t//\t\tNote that the parser takes all dates attributes passed in the\r\n\t\t//\t\t[RFC 3339 format](http://www.faqs.org/rfcs/rfc3339.html), e.g. `2005-06-30T08:05:00-07:00`\r\n\t\t//\t\tso that they are serializable and locale-independent.\r\n\t\t//\r\n\t\t//\t\tAlso note that this widget isn't keyboard accessible; use dijit.Calendar for that\r\n\t\t// example:\r\n\t\t//\t|\tvar calendar = new dijit.CalendarLite({}, dojo.byId(\"calendarNode\"));\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t<div data-dojo-type=\"dijit/CalendarLite\"></div>\r\n\r\n\t\t// Template for main calendar\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Template for cell for a day of the week (ex: M)\r\n\t\tdowTemplateString: '<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>',\r\n\r\n\t\t// Templates for a single date (ex: 13), and for a row for a week (ex: 20 21 22 23 24 25 26)\r\n\t\tdateTemplateString: '<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>',\r\n\t\tweekTemplateString: '<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>',\r\n\r\n\t\t// value: Date\r\n\t\t//\t\tThe currently selected Date, initially set to invalid date to indicate no selection.\r\n\t\tvalue: new Date(\"\"),\r\n\t\t// TODO: for 2.0 make this a string (ISO format) rather than a Date\r\n\r\n\t\t// datePackage: String\r\n\t\t//\t\tJavaScript namespace to find calendar routines.\t If unspecified, uses Gregorian calendar routines\r\n\t\t//\t\tat dojo/date and dojo/date/locale.\r\n\t\tdatePackage: \"\",\r\n\t\t//\t\tTODO: for 2.0, replace datePackage with dateModule and dateLocalModule attributes specifying MIDs,\r\n\t\t//\t\tor alternately just get rid of this completely and tell user to use module ID remapping\r\n\t\t//\t\tvia require\r\n\r\n\t\t// dayWidth: String\r\n\t\t//\t\tHow to represent the days of the week in the calendar header. See locale\r\n\t\tdayWidth: \"narrow\",\r\n\r\n\t\t// tabIndex: String\r\n\t\t//\t\tOrder fields are traversed when user hits the tab key\r\n\t\ttabIndex: \"0\",\r\n\r\n\t\t// currentFocus: Date\r\n\t\t//\t\tDate object containing the currently focused date, or the date which would be focused\r\n\t\t//\t\tif the calendar itself was focused.   Also indicates which year and month to display,\r\n\t\t//\t\ti.e. the current \"page\" the calendar is on.\r\n\t\tcurrentFocus: new Date(),\r\n\r\n\t\t// Put the summary to the node with role=grid\r\n\t\t_setSummaryAttr: \"gridNode\",\r\n\r\n\t\tbaseClass: \"dijitCalendar dijitCalendarLite\",\r\n\r\n\t\t_isValidDate: function(/*Date*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRuns various tests on the value, checking that it's a valid date, rather\r\n\t\t\t//\t\tthan blank or NaN.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn value && !isNaN(value) && typeof value == \"object\" &&\r\n\t\t\t\tvalue.toString() != this.constructor.prototype.value.toString();\r\n\t\t},\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSupport get('value')\r\n\r\n\t\t\t// this.value is set to 1AM, but return midnight, local time for back-compat\r\n\t\t\tvar storedVal = this._get(\"value\");\r\n\t\t\tif(storedVal && !isNaN(storedVal)){\r\n\t\t\t\tvar value = new this.dateClassObj(storedVal);\r\n\t\t\t\tvalue.setHours(0, 0, 0, 0);\r\n\r\n\t\t\t\t// If daylight savings pushes midnight to the previous date, fix the Date\r\n\t\t\t\t// object to point at 1am so it will represent the correct day. See #9366\r\n\t\t\t\tif(value.getDate() < storedVal.getDate()){\r\n\t\t\t\t\tvalue = this.dateModule.add(value, \"hour\", 1);\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}else{\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Date|Number*/ value, /*Boolean*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSupport set(\"value\", ...)\r\n\t\t\t// description:\r\n\t\t\t//\t\tSet the current date and update the UI.  If the date is disabled, the value will\r\n\t\t\t//\t\tnot change, but the display will change to the corresponding month.\r\n\t\t\t// value:\r\n\t\t\t//\t\tEither a Date or the number of seconds since 1970.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(typeof value == \"string\"){\r\n\t\t\t\tvalue = stamp.fromISOString(value);\r\n\t\t\t}\r\n\t\t\tvalue = this._patchDate(value);\r\n\r\n\t\t\tif(this._isValidDate(value) && !this.isDisabledDate(value, this.lang)){\r\n\t\t\t\tthis._set(\"value\", value);\r\n\r\n\t\t\t\t// Set focus cell to the new value.   Arguably this should only happen when there isn't a current\r\n\t\t\t\t// focus point.   This will also repopulate the grid to new month/year if necessary.\r\n\t\t\t\tthis.set(\"currentFocus\", value);\r\n\r\n\t\t\t\t// Mark the selected date\r\n\t\t\t\tthis._markSelectedDates([value]);\r\n\r\n\t\t\t\tif(this._created && (priorityChange || typeof priorityChange == \"undefined\")){\r\n\t\t\t\t\tthis.onChange(this.get('value'));\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// clear value, and mark all dates as unselected\r\n\t\t\t\tthis._set(\"value\", null);\r\n\t\t\t\tthis._markSelectedDates([]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_patchDate: function(/*Date|Number*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConvert Number into Date, or copy Date object.   Then, round to nearest day,\r\n\t\t\t//\t\tsetting to 1am to avoid issues when DST shift occurs at midnight, see #8521, #9366)\r\n\t\t\tif(value){\r\n\t\t\t\tvalue = new this.dateClassObj(value);\r\n\t\t\t\tvalue.setHours(1, 0, 0, 0);\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\r\n\t\t_setText: function(node, text){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis just sets the content of node to the specified text.\r\n\t\t\t//\t\tCan't do \"node.innerHTML=text\" because of an IE bug w/tables, see #3434.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\twhile(node.firstChild){\r\n\t\t\t\tnode.removeChild(node.firstChild);\r\n\t\t\t}\r\n\t\t\tnode.appendChild(node.ownerDocument.createTextNode(text));\r\n\t\t},\r\n\r\n\t\t_populateGrid: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFills in the calendar grid with each day (1-31).\r\n\t\t\t//\t\tCall this on creation, when moving to a new month.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar month = new this.dateClassObj(this.currentFocus);\r\n\t\t\tmonth.setDate(1);\r\n\t\t\tmonth = this._patchDate(month);\t// needed if currentFocus is start or end of DST, see #17033\r\n\r\n\t\t\tvar firstDay = month.getDay(),\r\n\t\t\t\tdaysInMonth = this.dateModule.getDaysInMonth(month),\r\n\t\t\t\tdaysInPreviousMonth = this.dateModule.getDaysInMonth(this.dateModule.add(month, \"month\", -1)),\r\n\t\t\t\ttoday = new this.dateClassObj(),\r\n\t\t\t\tdayOffset = cldrSupplemental.getFirstDayOfWeek(this.lang);\r\n\t\t\tif(dayOffset > firstDay){\r\n\t\t\t\tdayOffset -= 7;\r\n\t\t\t}\r\n\r\n\t\t\t// If they didn't provide a summary, change the default summary to match with the new month\r\n\t\t\tif(!this.summary){\r\n\t\t\t\tvar monthNames = this.dateLocaleModule.getNames('months', 'wide', 'standAlone', this.lang, month)\r\n\t\t\t\tthis.gridNode.setAttribute(\"summary\", monthNames[month.getMonth()]);\r\n\t\t\t}\r\n\r\n\t\t\t// Mapping from date (as specified by number returned from Date.valueOf()) to corresponding <td>\r\n\t\t\tthis._date2cell = {};\r\n\r\n\t\t\t// Iterate through dates in the calendar and fill in date numbers and style info\r\n\t\t\tarray.forEach(this.dateCells, function(template, idx){\r\n\t\t\t\tvar i = idx + dayOffset;\r\n\t\t\t\tvar date = new this.dateClassObj(month),\r\n\t\t\t\t\tnumber, clazz = \"dijitCalendar\", adj = 0;\r\n\r\n\t\t\t\tif(i < firstDay){\r\n\t\t\t\t\tnumber = daysInPreviousMonth - firstDay + i + 1;\r\n\t\t\t\t\tadj = -1;\r\n\t\t\t\t\tclazz += \"Previous\";\r\n\t\t\t\t}else if(i >= (firstDay + daysInMonth)){\r\n\t\t\t\t\tnumber = i - firstDay - daysInMonth + 1;\r\n\t\t\t\t\tadj = 1;\r\n\t\t\t\t\tclazz += \"Next\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnumber = i - firstDay + 1;\r\n\t\t\t\t\tclazz += \"Current\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(adj){\r\n\t\t\t\t\tdate = this.dateModule.add(date, \"month\", adj);\r\n\t\t\t\t}\r\n\t\t\t\tdate.setDate(number);\r\n\r\n\t\t\t\tif(!this.dateModule.compare(date, today, \"date\")){\r\n\t\t\t\t\tclazz = \"dijitCalendarCurrentDate \" + clazz;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.isDisabledDate(date, this.lang)){\r\n\t\t\t\t\tclazz = \"dijitCalendarDisabledDate \" + clazz;\r\n\t\t\t\t\ttemplate.setAttribute(\"aria-disabled\", \"true\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tclazz = \"dijitCalendarEnabledDate \" + clazz;\r\n\t\t\t\t\ttemplate.removeAttribute(\"aria-disabled\");\r\n\t\t\t\t\ttemplate.setAttribute(\"aria-selected\", \"false\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar clazz2 = this.getClassForDate(date, this.lang);\r\n\t\t\t\tif(clazz2){\r\n\t\t\t\t\tclazz = clazz2 + \" \" + clazz;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttemplate.className = clazz + \"Month dijitCalendarDateTemplate\";\r\n\r\n\t\t\t\t// Each cell has an associated integer value representing it's date\r\n\t\t\t\tvar dateVal = date.valueOf();\r\n\t\t\t\tthis._date2cell[dateVal] = template;\r\n\t\t\t\ttemplate.dijitDateValue = dateVal;\r\n\r\n\t\t\t\t// Set Date string (ex: \"13\").\r\n\t\t\t\tthis._setText(this.dateLabels[idx], date.getDateLocalized ? date.getDateLocalized(this.lang) : date.getDate());\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_populateControls: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFill in localized month, and prev/current/next years\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar month = new this.dateClassObj(this.currentFocus);\r\n\t\t\tmonth.setDate(1);\r\n\r\n\t\t\t// set name of this month\r\n\t\t\tthis.monthWidget.set(\"month\", month);\r\n\r\n\t\t\tvar y = month.getFullYear() - 1;\r\n\t\t\tvar d = new this.dateClassObj();\r\n\t\t\tarray.forEach([\"previous\", \"current\", \"next\"], function(name){\r\n\t\t\t\td.setFullYear(y++);\r\n\t\t\t\tthis._setText(this[name + \"YearLabelNode\"],\r\n\t\t\t\t\tthis.dateLocaleModule.format(d, {selector: 'year', locale: this.lang}));\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tgoToToday: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets calendar's value to today's date\r\n\t\t\tthis.set('value', new this.dateClassObj());\r\n\t\t},\r\n\r\n\t\tconstructor: function(params /*===== , srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\tthis.dateModule = params.datePackage ? lang.getObject(params.datePackage, false) : date;\r\n\t\t\tthis.dateClassObj = this.dateModule.Date || Date;\r\n\t\t\tthis.dateLocaleModule = params.datePackage ? lang.getObject(params.datePackage + \".locale\", false) : locale;\r\n\t\t},\r\n\r\n\t\t_createMonthWidget: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates the drop down button that displays the current month and lets user pick a new one\r\n\r\n\t\t\treturn CalendarLite._MonthWidget({\r\n\t\t\t\tid: this.id + \"_mddb\",\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\tdateLocaleModule: this.dateLocaleModule\r\n\t\t\t}, this.monthNode);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// Markup for days of the week (referenced from template)\r\n\t\t\tvar d = this.dowTemplateString,\r\n\t\t\t\tdayNames = this.dateLocaleModule.getNames('days', this.dayWidth, 'standAlone', this.lang),\r\n\t\t\t\tdayOffset = cldrSupplemental.getFirstDayOfWeek(this.lang);\r\n\t\t\tthis.dayCellsHtml = string.substitute([d, d, d, d, d, d, d].join(\"\"), {d: \"\"}, function(){\r\n\t\t\t\treturn dayNames[dayOffset++ % 7];\r\n\t\t\t});\r\n\r\n\t\t\t// Markup for dates of the month (referenced from template), but without numbers filled in\r\n\t\t\tvar r = string.substitute(this.weekTemplateString, {d: this.dateTemplateString});\r\n\t\t\tthis.dateRowsHtml = [r, r, r, r, r, r].join(\"\");\r\n\r\n\t\t\t// Instantiate from template.\r\n\t\t\t// dateCells and dateLabels arrays filled when _Templated parses my template.\r\n\t\t\tthis.dateCells = [];\r\n\t\t\tthis.dateLabels = [];\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tdom.setSelectable(this.domNode, false);\r\n\r\n\t\t\tvar dateObj = new this.dateClassObj(this.currentFocus);\r\n\r\n\t\t\tthis.monthWidget = this._createMonthWidget();\r\n\r\n\t\t\tthis.set('currentFocus', dateObj, false);\t// draw the grid to the month specified by currentFocus\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._connectControls();\r\n\t\t},\r\n\r\n\t\t_connectControls: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet up connects for increment/decrement of months/years\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar connect = lang.hitch(this, function(nodeProp, part, amount){\r\n\t\t\t\tthis[nodeProp].dojoClick = true;\r\n\t\t\t\treturn on(this[nodeProp], \"click\", lang.hitch(this, function(){\r\n\t\t\t\t\tthis._setCurrentFocusAttr(this.dateModule.add(this.currentFocus, part, amount));\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\r\n\t\t\tthis.own(\r\n\t\t\t\tconnect(\"incrementMonth\", \"month\", 1),\r\n\t\t\t\tconnect(\"decrementMonth\", \"month\", -1),\r\n\t\t\t\tconnect(\"nextYearLabelNode\", \"year\", 1),\r\n\t\t\t\tconnect(\"previousYearLabelNode\", \"year\", -1)\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_setCurrentFocusAttr: function(/*Date*/ date, /*Boolean*/ forceFocus){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIf the calendar currently has focus, then focuses specified date,\r\n\t\t\t//\t\tchanging the currently displayed month/year if necessary.\r\n\t\t\t//\t\tIf the calendar doesn't have focus, updates currently\r\n\t\t\t//\t\tdisplayed month/year, and sets the cell that will get focus\r\n\t\t\t//\t\twhen Calendar is focused.\r\n\t\t\t// forceFocus:\r\n\t\t\t//\t\tIf true, will focus() the cell even if calendar itself doesn't have focus\r\n\r\n\t\t\tvar oldFocus = this.currentFocus,\r\n\t\t\t\toldCell = this._getNodeByDate(oldFocus);\r\n\t\t\tdate = this._patchDate(date);\r\n\r\n\t\t\tthis._set(\"currentFocus\", date);\r\n\r\n\t\t\t// If the focus is on a different month than the current calendar month, switch the displayed month.\r\n\t\t\t// Also will populate the grid initially, on Calendar creation.\r\n\t\t\tif(!this._date2cell || this.dateModule.difference(oldFocus, date, \"month\") != 0){\r\n\t\t\t\tthis._populateGrid();\r\n\t\t\t\tthis._populateControls();\r\n\t\t\t\tthis._markSelectedDates([this.value]);\r\n\t\t\t}\r\n\r\n\t\t\t// set tabIndex=0 on new cell, and focus it (but only if Calendar itself is focused)\r\n\t\t\tvar newCell = this._getNodeByDate(date);\r\n\t\t\tnewCell.setAttribute(\"tabIndex\", this.tabIndex);\r\n\t\t\tif(this.focused || forceFocus){\r\n\t\t\t\tnewCell.focus();\r\n\t\t\t}\r\n\r\n\t\t\t// set tabIndex=-1 on old focusable cell\r\n\t\t\tif(oldCell && oldCell != newCell){\r\n\t\t\t\tif(has(\"webkit\")){    // see #11064 about webkit bug\r\n\t\t\t\t\toldCell.setAttribute(\"tabIndex\", \"-1\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\toldCell.removeAttribute(\"tabIndex\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFocus the calendar by focusing one of the calendar cells\r\n\t\t\tthis._setCurrentFocusAttr(this.currentFocus, true);\r\n\t\t},\r\n\r\n\t\t_onDayClick: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for day clicks, selects the date if appropriate\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t\tfor(var node = evt.target; node && !node.dijitDateValue; node = node.parentNode){\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t\tif(node && !domClass.contains(node, \"dijitCalendarDisabledDate\")){\r\n\t\t\t\tthis.set('value', node.dijitDateValue);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getNodeByDate: function(/*Date*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the cell corresponding to the date, or null if the date is not within the currently\r\n\t\t\t//\t\tdisplayed month.\r\n\t\t\tvalue = this._patchDate(value);\r\n\t\t\treturn value && this._date2cell ? this._date2cell[value.valueOf()] : null;\r\n\t\t},\r\n\r\n\t\t_markSelectedDates: function(/*Date[]*/ dates){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMarks the specified cells as selected, and clears cells previously marked as selected.\r\n\t\t\t//\t\tFor CalendarLite at most one cell is selected at any point, but this allows an array\r\n\t\t\t//\t\tfor easy subclassing.\r\n\r\n\t\t\t// Function to mark a cell as selected or unselected\r\n\t\t\tfunction mark(/*Boolean*/ selected, /*DomNode*/ cell){\r\n\t\t\t\tdomClass.toggle(cell, \"dijitCalendarSelectedDate\", selected);\r\n\t\t\t\tcell.setAttribute(\"aria-selected\", selected ? \"true\" : \"false\");\r\n\t\t\t}\r\n\r\n\t\t\t// Clear previously selected cells.\r\n\t\t\tarray.forEach(this._selectedCells || [], lang.partial(mark, false));\r\n\r\n\t\t\t// Mark newly selected cells.  Ignore dates outside the currently displayed month.\r\n\t\t\tthis._selectedCells = array.filter(array.map(dates, this._getNodeByDate, this), function(n){\r\n\t\t\t\treturn n;\r\n\t\t\t});\r\n\t\t\tarray.forEach(this._selectedCells, lang.partial(mark, true));\r\n\t\t},\r\n\r\n\t\tonChange: function(/*Date*/ /*===== date =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled only when the selected date has changed\r\n\t\t},\r\n\r\n\t\tisDisabledDate: function(/*===== dateObject, locale =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMay be overridden to disable certain dates in the calendar e.g. `isDisabledDate=dojo.date.locale.isWeekend`\r\n\t\t\t// dateObject: Date\r\n\t\t\t// locale: String?\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\t\t\t/*=====\r\n\t\t\t return false; // Boolean\r\n\t\t\t =====*/\r\n\t\t},\r\n\r\n\t\tgetClassForDate: function(/*===== dateObject, locale =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMay be overridden to return CSS classes to associate with the date entry for the given dateObject,\r\n\t\t\t//\t\tfor example to indicate a holiday in specified locale.\r\n\t\t\t// dateObject: Date\r\n\t\t\t// locale: String?\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\t/*=====\r\n\t\t\t return \"\"; // String\r\n\t\t\t =====*/\r\n\t\t}\r\n\t});\r\n\r\n\tCalendarLite._MonthWidget = declare(\"dijit.CalendarLite._MonthWidget\", _WidgetBase, {\r\n\t\t// summary:\r\n\t\t//\t\tDisplays name of current month padded to the width of the month\r\n\t\t//\t\tw/the longest name, so that changing months doesn't change width.\r\n\t\t//\r\n\t\t//\t\tCreate as:\r\n\t\t// |\tnew Calendar._MonthWidget({\r\n\t\t// |\t\t\tlang: ...,\r\n\t\t// |\t\t\tdateLocaleModule: ...\r\n\t\t// |\t\t})\r\n\r\n\t\t_setMonthAttr: function(month){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the current month to display as a label\r\n\t\t\tvar monthNames = this.dateLocaleModule.getNames('months', 'wide', 'standAlone', this.lang, month),\r\n\t\t\t\tspacer =\r\n\t\t\t\t\t(has(\"ie\") == 6 ? \"\" : \"<div class='dijitSpacer'>\" +\r\n\t\t\t\t\t\tarray.map(monthNames,function(s){\r\n\t\t\t\t\t\t\treturn \"<div>\" + s + \"</div>\";\r\n\t\t\t\t\t\t}).join(\"\") + \"</div>\");\r\n\r\n\t\t\t// Set name of current month and also fill in spacer element with all the month names\r\n\t\t\t// (invisible) so that the maximum width will affect layout.   But not on IE6 because then\r\n\t\t\t// the center <TH> overlaps the right <TH> (due to a browser bug).\r\n\t\t\tthis.domNode.innerHTML =\r\n\t\t\t\tspacer +\r\n\t\t\t\t\t\"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>\" +\r\n\t\t\t\t\tmonthNames[month.getMonth()] + \"</div>\";\r\n\t\t}\r\n\t});\r\n\r\n\treturn CalendarLite;\r\n});\r\n\ndefine('dijit/Calendar',[\r\n\t\"dojo/_base/array\", // array.map\r\n\t\"dojo/date\",\r\n\t\"dojo/date/locale\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.get\r\n\t\"dojo/dom-class\", // domClass.add domClass.contains domClass.remove domClass.toggle\r\n\t\"dojo/dom-construct\",\t// create\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"./CalendarLite\",\r\n\t\"./_Widget\",\r\n\t\"./_CssStateMixin\",\r\n\t\"./_TemplatedMixin\",\r\n\t\"./form/DropDownButton\"\r\n], function(array, date, local, declare, domAttr, domClass, domConstruct, kernel, keys, lang, on, has,\r\n\t\t\tCalendarLite, _Widget, _CssStateMixin, _TemplatedMixin, DropDownButton){\r\n\r\n\t// module:\r\n\t//\t\tdijit/Calendar\r\n\r\n\t// _Widget for deprecated methods like setAttribute()\r\n\tvar Calendar = declare(\"dijit.Calendar\", [CalendarLite, _Widget, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA simple GUI for choosing a date in the context of a monthly calendar.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tSee CalendarLite for general description.   Calendar extends CalendarLite, adding:\r\n\t\t//\r\n\t\t//\t\t- month drop down list\r\n\t\t//\t\t- keyboard navigation\r\n\t\t//\t\t- CSS classes for hover/mousepress on date, month, and year nodes\r\n\t\t//\t\t- support of deprecated methods (will be removed in 2.0)\r\n\r\n\t\tbaseClass: \"dijitCalendar\",\r\n\r\n\t\t// Set node classes for various mouse events, see dijit._CssStateMixin for more details\r\n\t\tcssStateNodes: {\r\n\t\t\t\"decrementMonth\": \"dijitCalendarArrow\",\r\n\t\t\t\"incrementMonth\": \"dijitCalendarArrow\",\r\n\t\t\t\"previousYearLabelNode\": \"dijitCalendarPreviousYear\",\r\n\t\t\t\"nextYearLabelNode\": \"dijitCalendarNextYear\"\r\n\t\t},\r\n\r\n\t\tsetValue: function(/*Date*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Use set('value', ...) instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('value', value);\r\n\t\t},\r\n\r\n\t\t_createMonthWidget: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates the drop down button that displays the current month and lets user pick a new one\r\n\r\n\t\t\treturn new Calendar._MonthDropDownButton({\r\n\t\t\t\tid: this.id + \"_mddb\",\r\n\t\t\t\ttabIndex: -1,\r\n\t\t\t\tonMonthSelect: lang.hitch(this, \"_onMonthSelect\"),\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\tdateLocaleModule: this.dateLocaleModule\r\n\t\t\t}, this.monthNode);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Events specific to Calendar, not used in CalendarLite\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, \"keydown\", lang.hitch(this, \"_onKeyDown\")),\r\n\t\t\t\ton(this.dateRowsNode, \"mouseover\", lang.hitch(this, \"_onDayMouseOver\")),\r\n\t\t\t\ton(this.dateRowsNode, \"mouseout\", lang.hitch(this, \"_onDayMouseOut\")),\r\n\t\t\t\ton(this.dateRowsNode, \"mousedown\", lang.hitch(this, \"_onDayMouseDown\")),\r\n\t\t\t\ton(this.dateRowsNode, \"mouseup\", lang.hitch(this, \"_onDayMouseUp\"))\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t_onMonthSelect: function(/*Number*/ newMonth){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for when user selects a month from the drop down list\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// move to selected month, bounding by the number of days in the month\r\n\t\t\t// (ex: jan 31 --> feb 28, not feb 31)\r\n\t\t\tvar date = new this.dateClassObj(this.currentFocus);\r\n\t\t\tdate.setDate(1);\r\n\t\t\tdate.setMonth(newMonth);\r\n\t\t\tvar daysInMonth = this.dateModule.getDaysInMonth(date);\r\n\t\t\tvar currentDate = this.currentFocus.getDate();\r\n\t\t\tdate.setDate(Math.min(currentDate, daysInMonth));\r\n\t\t\tthis._setCurrentFocusAttr(date);\r\n\t\t},\r\n\r\n\t\t_onDayMouseOver: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for mouse over events on days, sets hovered style\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\t// event can occur on <td> or the <span> inside the td,\r\n\t\t\t// set node to the <td>.\r\n\t\t\tvar node =\r\n\t\t\t\tdomClass.contains(evt.target, \"dijitCalendarDateLabel\") ?\r\n\t\t\t\t\tevt.target.parentNode :\r\n\t\t\t\t\tevt.target;\r\n\r\n\t\t\tif(node && (\r\n\t\t\t\t(node.dijitDateValue && !domClass.contains(node, \"dijitCalendarDisabledDate\"))\r\n\t\t\t\t\t|| node == this.previousYearLabelNode || node == this.nextYearLabelNode\r\n\t\t\t\t)){\r\n\t\t\t\tdomClass.add(node, \"dijitCalendarHoveredDate\");\r\n\t\t\t\tthis._currentNode = node;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onDayMouseOut: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for mouse out events on days, clears hovered style\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tif(!this._currentNode){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// if mouse out occurs moving from <td> to <span> inside <td>, ignore it\r\n\t\t\tif(evt.relatedTarget && evt.relatedTarget.parentNode == this._currentNode){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar cls = \"dijitCalendarHoveredDate\";\r\n\t\t\tif(domClass.contains(this._currentNode, \"dijitCalendarActiveDate\")){\r\n\t\t\t\tcls += \" dijitCalendarActiveDate\";\r\n\t\t\t}\r\n\t\t\tdomClass.remove(this._currentNode, cls);\r\n\t\t\tthis._currentNode = null;\r\n\t\t},\r\n\r\n\t\t_onDayMouseDown: function(/*Event*/ evt){\r\n\t\t\tvar node = evt.target.parentNode;\r\n\t\t\tif(node && node.dijitDateValue && !domClass.contains(node, \"dijitCalendarDisabledDate\")){\r\n\t\t\t\tdomClass.add(node, \"dijitCalendarActiveDate\");\r\n\t\t\t\tthis._currentNode = node;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onDayMouseUp: function(/*Event*/ evt){\r\n\t\t\tvar node = evt.target.parentNode;\r\n\t\t\tif(node && node.dijitDateValue){\r\n\t\t\t\tdomClass.remove(node, \"dijitCalendarActiveDate\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleKey: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tProvides keyboard navigation of calendar.\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalled from _onKeyDown() to handle keydown on a stand alone Calendar,\r\n\t\t\t//\t\tand also from `dijit/form/_DateTimeTextBox` to pass a keydown event\r\n\t\t\t//\t\tfrom the `dijit/form/DateTextBox` to be handled in this widget\r\n\t\t\t// returns:\r\n\t\t\t//\t\tFalse if the key was recognized as a navigation key,\r\n\t\t\t//\t\tto indicate that the event was handled by Calendar and shouldn't be propagated\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar increment = -1,\r\n\t\t\t\tinterval,\r\n\t\t\t\tnewValue = this.currentFocus;\r\n\t\t\tswitch(evt.keyCode){\r\n\t\t\t\tcase keys.RIGHT_ARROW:\r\n\t\t\t\t\tincrement = 1;\r\n\t\t\t\t//fallthrough...\r\n\t\t\t\tcase keys.LEFT_ARROW:\r\n\t\t\t\t\tinterval = \"day\";\r\n\t\t\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\t\t\tincrement *= -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\t\tincrement = 1;\r\n\t\t\t\t//fallthrough...\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\tinterval = \"week\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\t\tincrement = 1;\r\n\t\t\t\t//fallthrough...\r\n\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\t\tinterval = evt.ctrlKey || evt.altKey ? \"year\" : \"month\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.END:\r\n\t\t\t\t\t// go to the next month\r\n\t\t\t\t\tnewValue = this.dateModule.add(newValue, \"month\", 1);\r\n\t\t\t\t\t// subtract a day from the result when we're done\r\n\t\t\t\t\tinterval = \"day\";\r\n\t\t\t\t//fallthrough...\r\n\t\t\t\tcase keys.HOME:\r\n\t\t\t\t\tnewValue = new this.dateClassObj(newValue);\r\n\t\t\t\t\tnewValue.setDate(1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif(interval){\r\n\t\t\t\tnewValue = this.dateModule.add(newValue, interval, increment);\r\n\t\t\t}\r\n\r\n\t\t\tthis._setCurrentFocusAttr(newValue);\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFor handling keydown events on a stand alone calendar\r\n\t\t\tif(!this.handleKey(evt)){\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonValueSelected: function(/*Date*/ /*===== date =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.   Notification that a date cell was selected.  It may be the same as the previous value.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFormerly used by `dijit/form/_DateTimeTextBox` (and thus `dijit/form/DateTextBox`)\r\n\t\t\t//\t\tto get notification when the user has clicked a date.  Now onExecute() (above) is used.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t},\r\n\r\n\t\tonChange: function(value){\r\n\t\t\tthis.onValueSelected(value);\t// remove in 2.0\r\n\t\t},\r\n\r\n\t\tgetClassForDate: function(/*===== dateObject, locale =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMay be overridden to return CSS classes to associate with the date entry for the given dateObject,\r\n\t\t\t//\t\tfor example to indicate a holiday in specified locale.\r\n\t\t\t// dateObject: Date\r\n\t\t\t// locale: String?\r\n\t\t\t// tags:\r\n\t\t\t//\t\textension\r\n\r\n\t\t\t/*=====\r\n\t\t\t return \"\"; // String\r\n\t\t\t =====*/\r\n\t\t}\r\n\t});\r\n\r\n\tCalendar._MonthDropDownButton = declare(\"dijit.Calendar._MonthDropDownButton\", DropDownButton, {\r\n\t\t// summary:\r\n\t\t//\t\tDropDownButton for the current month.    Displays name of current month\r\n\t\t//\t\tand a list of month names in the drop down\r\n\r\n\t\tonMonthSelect: function(){\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.dropDown = new Calendar._MonthDropDown({\r\n\t\t\t\tid: this.id + \"_mdd\", //do not change this id because it is referenced in the template\r\n\t\t\t\tonChange: this.onMonthSelect\r\n\t\t\t});\r\n\t\t},\r\n\t\t_setMonthAttr: function(month){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the current month to display as a label\r\n\t\t\tvar monthNames = this.dateLocaleModule.getNames('months', 'wide', 'standAlone', this.lang, month);\r\n\t\t\tthis.dropDown.set(\"months\", monthNames);\r\n\r\n\t\t\t// Set name of current month and also fill in spacer element with all the month names\r\n\t\t\t// (invisible) so that the maximum width will affect layout.   But not on IE6 because then\r\n\t\t\t// the center <TH> overlaps the right <TH> (due to a browser bug).\r\n\t\t\tthis.containerNode.innerHTML =\r\n\t\t\t\t(has(\"ie\") == 6 ? \"\" : \"<div class='dijitSpacer'>\" + this.dropDown.domNode.innerHTML + \"</div>\") +\r\n\t\t\t\t\t\"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>\" + monthNames[month.getMonth()] + \"</div>\";\r\n\t\t}\r\n\t});\r\n\r\n\tCalendar._MonthDropDown = declare(\"dijit.Calendar._MonthDropDown\", [_Widget, _TemplatedMixin, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tThe list-of-months drop down from the MonthDropDownButton\r\n\r\n\t\t// months: String[]\r\n\t\t//\t\tList of names of months, possibly w/some undefined entries for Hebrew leap months\r\n\t\t//\t\t(ex: [\"January\", \"February\", undefined, \"April\", ...])\r\n\t\tmonths: [],\r\n\r\n\t\tbaseClass: \"dijitCalendarMonthMenu dijitMenu\",\r\n\r\n\t\ttemplateString: \"<div data-dojo-attach-event='ondijitclick:_onClick'></div>\",\r\n\r\n\t\t_setMonthsAttr: function(/*String[]*/ months){\r\n\t\t\tthis.domNode.innerHTML = \"\";\r\n\t\t\tarray.forEach(months, function(month, idx){\r\n\t\t\t\tvar div = domConstruct.create(\"div\", {\r\n\t\t\t\t\tclassName: \"dijitCalendarMonthLabel\",\r\n\t\t\t\t\tmonth: idx,\r\n\t\t\t\t\tinnerHTML: month\r\n\t\t\t\t}, this.domNode);\r\n\t\t\t\tdiv._cssState = \"dijitCalendarMonthLabel\";\t// trigger _CSSStateMixin magic; property, not attribute.\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ evt){\r\n\t\t\tthis.onChange(domAttr.get(evt.target, \"month\"));\r\n\t\t},\r\n\r\n\t\tonChange: function(/*Number*/ /*===== month =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when month is selected from drop down\r\n\t\t}\r\n\t});\r\n\r\n\treturn Calendar;\r\n});\r\n\ndefine('dijit/form/_DateTimeTextBox',[\r\n\t\"dojo/date\", // date date.compare\r\n\t\"dojo/date/locale\", // locale.regexp\r\n\t\"dojo/date/stamp\", // stamp.fromISOString stamp.toISOString\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"./RangeBoundTextBox\",\r\n\t\"../_HasDropDown\",\r\n\t\"dojo/text!./templates/DropDownBox.html\"\r\n], function(date, locale, stamp, declare, lang, RangeBoundTextBox, _HasDropDown, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_DateTimeTextBox\r\n\r\n\tnew Date(\"X\"); // workaround for #11279, new Date(\"\") == NaN\r\n\r\n\tvar _DateTimeTextBox = declare(\"dijit.form._DateTimeTextBox\", [RangeBoundTextBox, _HasDropDown], {\r\n\t\t// summary:\r\n\t\t//\t\tBase class for validating, serializable, range-bound date or time text box.\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// hasDownArrow: [const] Boolean\r\n\t\t//\t\tSet this textbox to display a down arrow button, to open the drop down list.\r\n\t\thasDownArrow: true,\r\n\r\n\t\t// Set classes like dijitDownArrowButtonHover depending on mouse action over button node\r\n\t\tcssStateNodes: {\r\n\t\t\t\"_buttonNode\": \"dijitDownArrowButton\"\r\n\t\t},\r\n\r\n\t\t/*=====\r\n\t\t// constraints: _DateTimeTextBox.__Constraints\r\n\t\t//\t\tDespite the name, this parameter specifies both constraints on the input\r\n\t\t//\t\t(including starting/ending dates/times allowed) as well as\r\n\t\t//\t\tformatting options like whether the date is displayed in long (ex: December 25, 2005)\r\n\t\t//\t\tor short (ex: 12/25/2005) format.  See `dijit/form/_DateTimeTextBox.__Constraints` for details.\r\n\t\tconstraints: {},\r\n\t\t======*/\r\n\r\n\t\t// The constraints without the min/max properties. Used by the compare() method\r\n\t\t_unboundedConstraints: {},\r\n\r\n\t\t// Override ValidationTextBox.pattern.... we use a reg-ex generating function rather\r\n\t\t// than a straight regexp to deal with locale  (plus formatting options too?)\r\n\t\tpattern: locale.regexp,\r\n\r\n\t\t// datePackage: String\r\n\t\t//\t\tJavaScript namespace to find calendar routines.\t If unspecified, uses Gregorian calendar routines\r\n\t\t//\t\tat dojo/date and dojo/date/locale.\r\n\t\tdatePackage: \"\",\r\n\t\t//\t\tTODO: for 2.0, replace datePackage with dateModule and dateLocalModule attributes specifying MIDs,\r\n\t\t//\t\tor alternately just get rid of this completely and tell user to use module ID remapping\r\n\t\t//\t\tvia require\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._set(\"type\", \"text\"); // in case type=\"date\"|\"time\" was specified which messes up parse/format\r\n\t\t},\r\n\r\n\t\t// Override _FormWidget.compare() to work for dates/times\r\n\t\tcompare: function(/*Date*/ val1, /*Date*/ val2){\r\n\t\t\tvar isInvalid1 = this._isInvalidDate(val1);\r\n\t\t\tvar isInvalid2 = this._isInvalidDate(val2);\r\n\t\t\tif (isInvalid1 || isInvalid2){\r\n\t\t\t\treturn (isInvalid1 && isInvalid2) ? 0 : (!isInvalid1 ? 1 : -1);\r\n\t\t\t}\r\n\t\t\t// Format and parse the values before comparing them to make sure that only the parts of the\r\n\t\t\t// date that will make the \"round trip\" get compared.\r\n\t\t\tvar fval1 = this.format(val1, this._unboundedConstraints),\r\n\t\t\t\tfval2 = this.format(val2, this._unboundedConstraints),\r\n\t\t\t\tpval1 = this.parse(fval1, this._unboundedConstraints),\r\n\t\t\t\tpval2 = this.parse(fval2, this._unboundedConstraints);\r\n\r\n\t\t\treturn fval1 == fval2 ? 0 : date.compare(pval1, pval2, this._selector);\r\n\t\t},\r\n\r\n\t\t// flag to _HasDropDown to make drop down Calendar width == <input> width\r\n\t\tautoWidth: true,\r\n\r\n\t\tformat: function(/*Date*/ value, /*locale.__FormatOptions*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats the value as a Date, according to specified locale (second argument)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(!value){ return ''; }\r\n\t\t\treturn this.dateLocaleModule.format(value, constraints);\r\n\t\t},\r\n\r\n\t\t\"parse\": function(/*String*/ value, /*locale.__FormatOptions*/ constraints){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tParses as string as a Date, according to constraints\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\treturn this.dateLocaleModule.parse(value, constraints) || (this._isEmpty(value) ? null : undefined);\t // Date\r\n\t\t},\r\n\r\n\t\t// Overrides ValidationTextBox.serialize() to serialize a date in canonical ISO format.\r\n\t\tserialize: function(/*anything*/ val, /*Object?*/ options){\r\n\t\t\tif(val.toGregorian){\r\n\t\t\t\tval = val.toGregorian();\r\n\t\t\t}\r\n\t\t\treturn stamp.toISOString(val, options);\r\n\t\t},\r\n\r\n\t\t// dropDownDefaultValue: Date\r\n\t\t//\t\tThe default value to focus in the popupClass widget when the textbox value is empty.\r\n\t\tdropDownDefaultValue : new Date(),\r\n\r\n\t\t// value: Date\r\n\t\t//\t\tThe value of this widget as a JavaScript Date object.  Use get(\"value\") / set(\"value\", val) to manipulate.\r\n\t\t//\t\tWhen passed to the parser in markup, must be specified according to `dojo/date/stamp.fromISOString()`\r\n\t\tvalue: new Date(\"\"),\t// value.toString()=\"NaN\"\r\n\r\n\t\t_blankValue: null,\t// used by filter() when the textbox is blank\r\n\r\n\t\t// popupClass: [protected extension] String\r\n\t\t//\t\tName of the popup widget class used to select a date/time.\r\n\t\t//\t\tSubclasses should specify this.\r\n\t\tpopupClass: \"\", // default is no popup = text only\r\n\r\n\r\n\t\t// _selector: [protected extension] String\r\n\t\t//\t\tSpecifies constraints.selector passed to dojo.date functions, should be either\r\n\t\t//\t\t\"date\" or \"time\".\r\n\t\t//\t\tSubclass must specify this.\r\n\t\t_selector: \"\",\r\n\r\n\t\tconstructor: function(params /*===== , srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\tparams = params || {};\r\n\t\t\tthis.dateModule = params.datePackage ? lang.getObject(params.datePackage, false) : date;\r\n\t\t\tthis.dateClassObj = this.dateModule.Date || Date;\r\n\t\t\tif(!(this.dateClassObj instanceof Date)){\r\n\t\t\t\tthis.value = new this.dateClassObj(this.value);\r\n\t\t\t}\r\n\t\t\tthis.dateLocaleModule = params.datePackage ? lang.getObject(params.datePackage+\".locale\", false) : locale;\r\n\t\t\tthis._set('pattern', this.dateLocaleModule.regexp);\r\n\t\t\tthis._invalidDate = this.constructor.prototype.value.toString();\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(!this.hasDownArrow){\r\n\t\t\t\tthis._buttonNode.style.display = \"none\";\r\n\t\t\t}\r\n\r\n\t\t\t// If hasDownArrow is false, we basically just want to treat the whole widget as the\r\n\t\t\t// button.\r\n\t\t\tif(!this.hasDownArrow){\r\n\t\t\t\tthis._buttonNode = this.domNode;\r\n\t\t\t\tthis.baseClass += \" dijitComboBoxOpenOnClick\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setConstraintsAttr: function(/*Object*/ constraints){\r\n\t\t\tconstraints.selector = this._selector;\r\n\t\t\tconstraints.fullYear = true; // see #5465 - always format with 4-digit years\r\n\t\t\tvar fromISO = stamp.fromISOString;\r\n\t\t\tif(typeof constraints.min == \"string\"){\r\n\t\t\t\tconstraints.min = fromISO(constraints.min);\r\n\t\t\t\tif(!(this.dateClassObj instanceof Date)){\r\n\t\t\t\t\tconstraints.min = new this.dateClassObj(constraints.min);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(typeof constraints.max == \"string\"){\r\n\t\t\t\tconstraints.max = fromISO(constraints.max);\r\n\t\t\t\tif(!(this.dateClassObj instanceof Date)){\r\n\t\t\t\t\tconstraints.max = new this.dateClassObj(constraints.max);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._unboundedConstraints = lang.mixin({}, this.constraints, {min: null, max: null});\r\n\t\t},\r\n\r\n\t\t_isInvalidDate: function(/*Date*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRuns various tests on the value, checking for invalid conditions\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn !value || isNaN(value) || typeof value != \"object\" || value.toString() == this._invalidDate;\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Date|String*/ value, /*Boolean?*/ priorityChange, /*String?*/ formattedValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the date on this textbox. Note: value can be a JavaScript Date literal or a string to be parsed.\r\n\t\t\tif(value !== undefined){\r\n\t\t\t\tif(typeof value == \"string\"){\r\n\t\t\t\t\tvalue = stamp.fromISOString(value);\r\n\t\t\t\t}\r\n\t\t\t\tif(this._isInvalidDate(value)){\r\n\t\t\t\t\tvalue = null;\r\n\t\t\t\t}\r\n\t\t\t\tif(value instanceof Date && !(this.dateClassObj instanceof Date)){\r\n\t\t\t\t\tvalue = new this.dateClassObj(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments, [value, priorityChange, formattedValue]);\r\n\t\t\tif(this.value instanceof Date){\r\n\t\t\t\tthis.filterString = \"\";\r\n\t\t\t}\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tthis.dropDown.set('value', value, false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_set: function(attr, value){\r\n\t\t\t// Avoid spurious watch() notifications when value is changed to new Date object w/the same value\r\n\t\t\tif(attr == \"value\"){\r\n\t\t\t\tif(value instanceof Date && !(this.dateClassObj instanceof Date)){\r\n\t\t\t\t\tvalue = new this.dateClassObj(value);\r\n\t\t\t\t}\r\n\t\t\t\tvar oldValue = this._get(\"value\");\r\n\t\t\t\tif(oldValue instanceof this.dateClassObj && this.compare(value, oldValue) == 0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setDropDownDefaultValueAttr: function(/*Date*/ val){\r\n\t\t\tif(this._isInvalidDate(val)){\r\n\t\t\t\t// convert null setting into today's date, since there needs to be *some* default at all times.\r\n\t\t\t\t val = new this.dateClassObj();\r\n\t\t\t}\r\n\t\t\tthis._set(\"dropDownDefaultValue\", val);\r\n\t\t},\r\n\r\n\t\topenDropDown: function(/*Function*/ callback){\r\n\t\t\t// rebuild drop down every time, so that constraints get copied (#6002)\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tthis.dropDown.destroy();\r\n\t\t\t}\r\n\t\t\tvar PopupProto = lang.isString(this.popupClass) ? lang.getObject(this.popupClass, false) : this.popupClass,\r\n\t\t\t\ttextBox = this,\r\n\t\t\t\tvalue = this.get(\"value\");\r\n\t\t\tthis.dropDown = new PopupProto({\r\n\t\t\t\tonChange: function(value){\r\n\t\t\t\t\t// this will cause InlineEditBox and other handlers to do stuff so make sure it's last\r\n\t\t\t\t\ttextBox.set('value', value, true);\r\n\t\t\t\t},\r\n\t\t\t\tid: this.id + \"_popup\",\r\n\t\t\t\tdir: textBox.dir,\r\n\t\t\t\tlang: textBox.lang,\r\n\t\t\t\tvalue: value,\r\n\t\t\t\ttextDir: textBox.textDir,\r\n\t\t\t\tcurrentFocus: !this._isInvalidDate(value) ? value : this.dropDownDefaultValue,\r\n\t\t\t\tconstraints: textBox.constraints,\r\n\t\t\t\tfilterString: textBox.filterString, // for TimeTextBox, to filter times shown\r\n\t\t\t\tdatePackage: textBox.datePackage,\r\n\t\t\t\tisDisabledDate: function(/*Date*/ date){\r\n\t\t\t\t\t// summary:\r\n\t\t\t\t\t//\t\tdisables dates outside of the min/max of the _DateTimeTextBox\r\n\t\t\t\t\treturn !textBox.rangeCheck(date, textBox.constraints);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_getDisplayedValueAttr: function(){\r\n\t\t\treturn this.textbox.value;\r\n\t\t},\r\n\r\n\t\t_setDisplayedValueAttr: function(/*String*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\tthis._setValueAttr(this.parse(value, this.constraints), priorityChange, value);\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t/*=====\r\n\t _DateTimeTextBox.__Constraints = declare([RangeBoundTextBox.__Constraints, locale.__FormatOptions], {\r\n\t\t // summary:\r\n\t\t //\t\tSpecifies both the rules on valid/invalid values (first/last date/time allowed),\r\n\t\t //\t\tand also formatting options for how the date/time is displayed.\r\n\t\t // example:\r\n\t\t //\t\tTo restrict to dates within 2004, displayed in a long format like \"December 25, 2005\":\r\n\t\t //\t|\t\t{min:'2004-01-01',max:'2004-12-31', formatLength:'long'}\r\n\t });\r\n\t =====*/\r\n\r\n\treturn _DateTimeTextBox;\r\n});\r\n\ndefine('dijit/form/DateTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"../Calendar\",\r\n\t\"./_DateTimeTextBox\"\r\n], function(declare, Calendar, _DateTimeTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/DateTextBox\r\n\r\n\treturn declare(\"dijit.form.DateTextBox\", _DateTimeTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tA validating, serializable, range-bound date text box with a drop down calendar\r\n\t\t// example:\r\n\t\t// |\tnew DateTextBox({value: new Date(2009, 0, 20)})\r\n\t\t// example:\r\n\t\t// |\t<input data-dojo-type='dijit/form/DateTextBox' value='2009-01-20'>\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitComboBox dijitDateTextBox\",\r\n\t\tpopupClass: Calendar,\r\n\t\t_selector: \"date\",\r\n\r\n\t\t// Prevent scrollbar on Calendar dropdown.  On iPad it often gets a scrollbar unnecessarily because Viewport\r\n\t\t// thinks the keyboard is showing.  Even if the keyboard is showing, it disappears when the calendar gets focus.\r\n\t\tmaxHeight: Infinity,\r\n\r\n\t\t// value: Date\r\n\t\t//\t\tThe value of this widget as a JavaScript Date object, with only year/month/day specified.\r\n\t\t//\t\tIf specified in markup, use the format specified in `stamp.fromISOString`.\r\n\t\t//\t\tset(\"value\", ...) accepts either a Date object or a string.\r\n\t\tvalue: new Date(\"\")\t// value.toString()=\"NaN\"\r\n\t});\r\n});\r\n\ndefine('dijit/_TimePicker',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/date\", // date.compare\r\n\t\"dojo/date/locale\", // locale.format\r\n\t\"dojo/date/stamp\", // stamp.fromISOString stamp.toISOString\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.contains domClass.toggle\r\n\t\"dojo/dom-construct\", // domConstruct.create\r\n\t\"dojo/_base/kernel\", // deprecated\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.mixin\r\n\t\"dojo/sniff\", // has(...)\r\n\t\"dojo/query\", // query\r\n\t\"dojo/mouse\", // mouse.wheel\r\n\t\"dojo/on\",\r\n\t\"./_WidgetBase\",\r\n\t\"./form/_ListMouseMixin\"\r\n], function(array, ddate, locale, stamp, declare, domClass, domConstruct, kernel, keys, lang, has, query, mouse, on,\r\n\t\t\t_WidgetBase, _ListMouseMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_TimePicker\r\n\r\n\r\n\tvar TimePicker = declare(\"dijit._TimePicker\", [_WidgetBase, _ListMouseMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA time picker dropdown, used by dijit/form/TimeTextBox.\r\n\t\t//\t\tThis widget is not available as a standalone widget due to lack of accessibility support.\r\n\r\n\t\t// baseClass: [protected] String\r\n\t\t//\t\tThe root className to use for the various states of this widget\r\n\t\tbaseClass: \"dijitTimePicker\",\r\n\r\n\t\t// pickerMin: String\r\n\t\t//\t\tISO-8601 string representing the time of the first\r\n\t\t//\t\tvisible element in the time picker.\r\n\t\t//\t\tSet in local time, without a time zone.\r\n\t\tpickerMin: \"T00:00:00\",\r\n\r\n\t\t// pickerMax: String\r\n\t\t//\t\tISO-8601 string representing the last (possible) time\r\n\t\t//\t\tadded to the time picker.\r\n\t\t//\t\tSet in local time, without a time zone.\r\n\t\tpickerMax: \"T23:59:59\",\r\n\r\n\t\t// clickableIncrement: String\r\n\t\t//\t\tISO-8601 string representing the interval between choices in the time picker.\r\n\t\t//\t\tSet in local time, without a time zone.\r\n\t\t//\t\tExample: `T00:15:00` creates 15 minute increments\r\n\t\t//\t\tMust divide dijit/_TimePicker.visibleIncrement evenly\r\n\t\tclickableIncrement: \"T00:15:00\",\r\n\r\n\t\t// visibleIncrement: String\r\n\t\t//\t\tISO-8601 string representing the interval between \"major\" choices in the time picker.\r\n\t\t//\t\tEach theme will highlight the major choices with a larger font / different color / etc.\r\n\t\t//\t\tSet in local time, without a time zone.\r\n\t\t//\t\tExample: `T01:00:00` creates text in every 1 hour increment\r\n\t\tvisibleIncrement: \"T01:00:00\",\r\n\r\n\t\t// value: String\r\n\t\t//\t\tTime to display.\r\n\t\t//\t\tDefaults to current time.\r\n\t\t//\t\tCan be a Date object or an ISO-8601 string.\r\n\t\t//\t\tIf you specify the GMT time zone (`-01:00`),\r\n\t\t//\t\tthe time will be converted to the local time in the local time zone.\r\n\t\t//\t\tOtherwise, the time is considered to be in the local time zone.\r\n\t\t//\t\tIf you specify the date and isDate is true, the date is used.\r\n\t\t//\t\tExample: if your local time zone is `GMT -05:00`,\r\n\t\t//\t\t`T10:00:00` becomes `T10:00:00-05:00` (considered to be local time),\r\n\t\t//\t\t`T10:00:00-01:00` becomes `T06:00:00-05:00` (4 hour difference),\r\n\t\t//\t\t`T10:00:00Z` becomes `T05:00:00-05:00` (5 hour difference between Zulu and local time)\r\n\t\t//\t\t`yyyy-mm-ddThh:mm:ss` is the format to set the date and time\r\n\t\t//\t\tExample: `2007-06-01T09:00:00`\r\n\t\tvalue: new Date(),\r\n\r\n\t\t_visibleIncrement: 2,\r\n\t\t_clickableIncrement: 1,\r\n\t\t_totalIncrements: 10,\r\n\r\n\t\t// constraints: TimePicker.__Constraints\r\n\t\t//\t\tSpecifies valid range of times (start time, end time), and also used by TimeTextBox to pass other\r\n\t\t//\t\toptions to the TimePicker: pickerMin, pickerMax, clickableIncrement, and visibleIncrement.\r\n\t\tconstraints: {},\r\n\r\n\t\t/*=====\r\n\t\t serialize: function(val, options){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tUser overridable function used to convert the attr('value') result to a String\r\n\t\t\t // val: Date\r\n\t\t\t //\t\tThe current value\r\n\t\t\t // options: Object?\r\n\t\t\t // tags:\r\n\t\t\t //\t\tprotected\r\n\t\t },\r\n\t\t =====*/\r\n\t\tserialize: stamp.toISOString,\r\n\r\n\t\t/*=====\r\n\t\t // filterString: string\r\n\t\t //\t\tThe string to filter by\r\n\t\t filterString: \"\",\r\n\t\t =====*/\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.containerNode = this.domNode;\t// expected by _ListBase\r\n\t\t\tthis.timeMenu = this.domNode;\t// for back-compat\r\n\t\t},\r\n\r\n\t\tsetValue: function(/*Date*/ value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDeprecated.  Used set('value') instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\tkernel.deprecated(\"dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.\", \"\", \"2.0\");\r\n\t\t\tthis.set('value', value);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Date*/ date){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', ...) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSet the value of the TimePicker.\r\n\t\t\t//\t\tRedraws the TimePicker around the new date.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tthis._set(\"value\", date);\r\n\t\t\tthis._showText();\r\n\t\t},\r\n\r\n\t\t_setFilterStringAttr: function(val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled by TimeTextBox to filter the values shown in my list\r\n\t\t\tthis._set(\"filterString\", val);\r\n\t\t\tthis._showText();\r\n\t\t},\r\n\r\n\t\tisDisabledDate: function(/*===== dateObject, locale =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMay be overridden to disable certain dates in the TimePicker e.g. `isDisabledDate=locale.isWeekend`\r\n\t\t\t// dateObject: Date\r\n\t\t\t// locale: String?\r\n\t\t\t// type:\r\n\t\t\t//\t\textension\r\n\t\t\treturn false; // Boolean\r\n\t\t},\r\n\r\n\t\t_getFilteredNodes: function(/*number*/ start, /*number*/ maxNum, /*Boolean*/ before, /*DOMNode*/ lastNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an array of nodes with the filter applied.  At most maxNum nodes\r\n\t\t\t//\t\twill be returned - but fewer may be returned as well.  If the\r\n\t\t\t//\t\tbefore parameter is set to true, then it will return the elements\r\n\t\t\t//\t\tbefore the given index\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar nodes = [];\r\n\r\n\t\t\tfor(var i = 0 ; i < this._maxIncrement; i++){\r\n\t\t\t\tvar n = this._createOption(i);\r\n\t\t\t\tif(n){\r\n\t\t\t\t\tnodes.push(n);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn nodes;\r\n\t\t},\r\n\r\n\t\t_showText: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisplays the relevant choices in the drop down list\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar fromIso = stamp.fromISOString;\r\n\t\t\tthis.domNode.innerHTML = \"\";\r\n\t\t\tthis._clickableIncrementDate = fromIso(this.clickableIncrement);\r\n\t\t\tthis._visibleIncrementDate = fromIso(this.visibleIncrement);\r\n\t\t\t// get the value of the increments to find out how many divs to create\r\n\t\t\tvar\r\n\t\t\t\tsinceMidnight = function(/*Date*/ date){\r\n\t\t\t\t\treturn date.getHours() * 60 * 60 + date.getMinutes() * 60 + date.getSeconds();\r\n\t\t\t\t},\r\n\t\t\t\tclickableIncrementSeconds = sinceMidnight(this._clickableIncrementDate),\r\n\t\t\t\tvisibleIncrementSeconds = sinceMidnight(this._visibleIncrementDate),\r\n\t\t\t\t// round reference date to previous visible increment\r\n\t\t\t\ttime = (this.value || this.currentFocus).getTime();\r\n\r\n\t\t\tthis._refDate = fromIso(this.pickerMin);\r\n\t\t\tthis._refDate.setFullYear(1970, 0, 1); // match parse defaults\r\n\r\n\t\t\t// assume clickable increment is the smallest unit\r\n\t\t\tthis._clickableIncrement = 1;\r\n\t\t\t// divide the visible range by the clickable increment to get the number of divs to create\r\n\t\t\t// example: 10:00:00/00:15:00 -> display 40 divs\r\n\t\t\t// divide the visible increments by the clickable increments to get how often to display the time inline\r\n\t\t\t// example: 01:00:00/00:15:00 -> display the time every 4 divs\r\n\t\t\tthis._visibleIncrement = visibleIncrementSeconds / clickableIncrementSeconds;\r\n\r\n\t\t\t// get the number of increments (i.e. number of entries in the picker)\r\n\t\t\tvar endDate = fromIso(this.pickerMax);\r\n\t\t\tendDate.setFullYear(1970, 0, 1);\r\n\t\t\tvar visibleRange = (endDate.getTime() - this._refDate.getTime()) * 0.001;\r\n\t\t\tthis._maxIncrement = Math.ceil((visibleRange + 1) / clickableIncrementSeconds);\r\n\r\n\t\t\tvar nodes  = this._getFilteredNodes();\r\n\t\t\tarray.forEach(nodes, function(n){\r\n\t\t\t\tthis.domNode.appendChild(n);\r\n\t\t\t}, this);\r\n\r\n\t\t\t// never show empty due to a bad filter\r\n\t\t\tif(!nodes.length && this.filterString){\r\n\t\t\t\tthis.filterString = '';\r\n\t\t\t\tthis._showText();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tconstructor: function(/*===== params, srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\tthis.constraints = {};\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._setConstraintsAttr(this.constraints); // this needs to happen now (and later) due to codependency on _set*Attr calls\r\n\t\t},\r\n\r\n\t\t// For historical reasons TimeTextBox sends all the options for the _TimePicker inside of a constraints{} object\r\n\t\t_setConstraintsAttr: function(/* Object */ constraints){\r\n\t\t\t// brings in increments, etc.\r\n\t\t\tfor (var key in { clickableIncrement: 1, visibleIncrement: 1, pickerMin: 1, pickerMax: 1 }) {\r\n\t\t\t\tif (key in constraints) {\r\n\t\t\t\t\tthis[key] = constraints[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// locale needs the lang in the constraints as locale\r\n\t\t\tif(!constraints.locale){\r\n\t\t\t\tconstraints.locale = this.lang;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_createOption: function(/*Number*/ index){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a clickable time option, or returns null if the specified index doesn't match the filter\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar date = new Date(this._refDate);\r\n\t\t\tvar incrementDate = this._clickableIncrementDate;\r\n\t\t\tdate.setHours(date.getHours() + incrementDate.getHours() * index,\r\n\t\t\t\tdate.getMinutes() + incrementDate.getMinutes() * index,\r\n\t\t\t\tdate.getSeconds() + incrementDate.getSeconds() * index);\r\n\t\t\tif(this.constraints.selector == \"time\"){\r\n\t\t\t\tdate.setFullYear(1970, 0, 1); // make sure each time is for the same date\r\n\t\t\t}\r\n\t\t\tvar dateString = locale.format(date, this.constraints);\r\n\t\t\tif(this.filterString && dateString.toLowerCase().indexOf(this.filterString) !== 0){\r\n\t\t\t\t// Doesn't match the filter - return null\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tvar div = this.ownerDocument.createElement(\"div\");\r\n\t\t\tdiv.className = this.baseClass + \"Item\";\r\n\t\t\tdiv.date = date;\r\n\t\t\tdiv.idx = index;\r\n\t\t\tdomConstruct.create('div', {\r\n\t\t\t\t\"class\": this.baseClass + \"ItemInner\",\r\n\t\t\t\tinnerHTML: dateString\r\n\t\t\t}, div);\r\n\r\n\t\t\tif(index % this._visibleIncrement < 1 && index % this._visibleIncrement > -1){\r\n\t\t\t\tdomClass.add(div, this.baseClass + \"Marker\");\r\n\t\t\t}else if(!(index % this._clickableIncrement)){\r\n\t\t\t\tdomClass.add(div, this.baseClass + \"Tick\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.isDisabledDate(date)){\r\n\t\t\t\t// set disabled\r\n\t\t\t\tdomClass.add(div, this.baseClass + \"ItemDisabled\");\r\n\t\t\t}\r\n\t\t\tif(this.value && !ddate.compare(this.value, date, this.constraints.selector)){\r\n\t\t\t\tdiv.selected = true;\r\n\t\t\t\tdomClass.add(div, this.baseClass + \"ItemSelected\");\r\n\t\t\t\tthis._selectedDiv = div;\r\n\t\t\t\tif(domClass.contains(div, this.baseClass + \"Marker\")){\r\n\t\t\t\t\tdomClass.add(div, this.baseClass + \"MarkerSelected\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomClass.add(div, this.baseClass + \"TickSelected\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Initially highlight the current value.   User can change highlight by up/down arrow keys\r\n\t\t\t\t// or mouse movement.\r\n\t\t\t\tthis._highlightOption(div, true);\r\n\t\t\t}\r\n\t\t\treturn div;\r\n\t\t},\r\n\r\n\t\tonOpen: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Since _ListBase::_setSelectedAttr() calls scrollIntoView(), shouldn't call it until list is visible.\r\n\t\t\tthis.set(\"selected\", this._selectedDiv);\r\n\t\t},\r\n\r\n\t\t_onOptionSelected: function(/*Object*/ tgt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when user clicks an option in the drop down list\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar tdate = tgt.target.date || tgt.target.parentNode.date;\r\n\t\t\tif(!tdate || this.isDisabledDate(tdate)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._highlighted_option = null;\r\n\t\t\tthis.set('value', tdate);\r\n\t\t\tthis.onChange(tdate);\r\n\t\t},\r\n\r\n\t\tonChange: function(/*Date*/ /*===== time =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tNotification that a time was selected.  It may be the same as the previous value.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tpublic\r\n\t\t},\r\n\r\n\t\t_highlightOption: function(/*node*/ node, /*Boolean*/ highlight){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTurns on/off highlight effect on a node based on mouse out/over event\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!node){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(highlight){\r\n\t\t\t\tif(this._highlighted_option){\r\n\t\t\t\t\tthis._highlightOption(this._highlighted_option, false);\r\n\t\t\t\t}\r\n\t\t\t\tthis._highlighted_option = node;\r\n\t\t\t}else if(this._highlighted_option !== node){\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tthis._highlighted_option = null;\r\n\t\t\t}\r\n\t\t\tdomClass.toggle(node, this.baseClass + \"ItemHover\", highlight);\r\n\t\t\tif(domClass.contains(node, this.baseClass + \"Marker\")){\r\n\t\t\t\tdomClass.toggle(node, this.baseClass + \"MarkerHover\", highlight);\r\n\t\t\t}else{\r\n\t\t\t\tdomClass.toggle(node, this.baseClass + \"TickHover\", highlight);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleKey: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled from `dijit/form/_DateTimeTextBox` to pass a keypress event\r\n\t\t\t//\t\tfrom the `dijit/form/TimeTextBox` to be handled in this widget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(e.keyCode == keys.DOWN_ARROW){\r\n\t\t\t\tthis.selectNextNode();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(e.keyCode == keys.UP_ARROW){\r\n\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(e.keyCode == keys.ENTER || e.keyCode === keys.TAB){\r\n\t\t\t\t// mouse hover followed by TAB is NO selection\r\n\t\t\t\tif(!this._keyboardSelected && e.keyCode === keys.TAB){\r\n\t\t\t\t\treturn true;\t// true means don't call stopEvent()\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Accept the currently-highlighted option as the value\r\n\t\t\t\tif(this._highlighted_option){\r\n\t\t\t\t\tthis._onOptionSelected({target: this._highlighted_option});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Call stopEvent() for ENTER key so that form doesn't submit,\r\n\t\t\t\t// but not for TAB, so that TAB does switch focus\r\n\t\t\t\treturn e.keyCode === keys.TAB;\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\r\n\t\t// Implement abstract methods for _ListBase\r\n\t\tonHover: function(/*DomNode*/ node){\r\n\t\t\tthis._highlightOption(node, true);\r\n\t\t},\r\n\r\n\t\tonUnhover: function(/*DomNode*/ node){\r\n\t\t\tthis._highlightOption(node, false);\r\n\t\t},\r\n\r\n\t\tonSelect: function(/*DomNode*/ node){\r\n\t\t\tthis._highlightOption(node, true);\r\n\t\t},\r\n\r\n\t\tonDeselect: function(/*DomNode*/ node){\r\n\t\t\tthis._highlightOption(node, false);\r\n\t\t},\r\n\r\n\t\tonClick: function(/*DomNode*/ node){\r\n\t\t\tthis._onOptionSelected({target: node});\r\n\t\t}\r\n\t});\r\n\r\n\t/*=====\r\n\t TimePicker.__Constraints = declare(locale.__FormatOptions, {\r\n\t\t // clickableIncrement: String\r\n\t\t //\t\tSee `dijit/_TimePicker.clickableIncrement`\r\n\t\t clickableIncrement: \"T00:15:00\"\r\n\t });\r\n\t =====*/\r\n\r\n\treturn TimePicker;\r\n});\r\n\ndefine('dijit/form/TimeTextBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.ENTER keys.ESCAPE keys.TAB keys.UP_ARROW\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"../_TimePicker\",\r\n\t\"./_DateTimeTextBox\"\r\n], function(declare, keys, lang, _TimePicker, _DateTimeTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/TimeTextBox\r\n\r\n\r\n\t/*=====\r\n\tvar __Constraints = declare([_DateTimeTextBox.__Constraints, _TimePicker.__Constraints], {\r\n\t});\r\n\t=====*/\r\n\r\n\treturn declare(\"dijit.form.TimeTextBox\", _DateTimeTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tA validating, serializable, range-bound time text box with a drop down time picker\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitComboBox dijitTimeTextBox\",\r\n\t\tpopupClass: _TimePicker,\r\n\t\t_selector: \"time\",\r\n\r\n/*=====\r\n\t\t// constraints: __Constraints\r\n\t\tconstraints:{},\r\n=====*/\r\n\r\n\t\t// value: Date\r\n\t\t//\t\tThe value of this widget as a JavaScript Date object.  Note that the date portion implies time zone and daylight savings rules.\r\n\t\t//\r\n\t\t//\t\tExample:\r\n\t\t// |\tnew dijit/form/TimeTextBox({value: stamp.fromISOString(\"T12:59:59\", new Date())})\r\n\t\t//\r\n\t\t//\t\tWhen passed to the parser in markup, must be specified according to locale-independent\r\n\t\t//\t\t`stamp.fromISOString` format.\r\n\t\t//\r\n\t\t//\t\tExample:\r\n\t\t// |\t<input data-dojo-type='dijit/form/TimeTextBox' value='T12:34:00'>\r\n\t\tvalue: new Date(\"\"),\t\t// value.toString()=\"NaN\"\r\n\t\t//FIXME: in markup, you have no control over daylight savings\r\n\r\n\t\t// Add scrollbars if necessary so that dropdown doesn't cover the <input>\r\n\t\tmaxHeight: -1,\r\n\r\n\t\t_onKey: function(evt){\r\n\t\t\tif(this.disabled || this.readOnly){ return; }\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// If the user has backspaced or typed some numbers, then filter the result list\r\n\t\t\t// by what they typed.  Maybe there's a better way to detect this, like _handleOnChange()?\r\n\t\t\tswitch(evt.keyCode){\r\n\t\t\t\tcase keys.ENTER:\r\n\t\t\t\tcase keys.TAB:\r\n\t\t\t\tcase keys.ESCAPE:\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\t// these keys have special meaning\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// defer() because the keystroke hasn't yet appeared in the <input>,\r\n\t\t\t\t\t// so the get('displayedValue') call below won't give the result we want.\r\n\t\t\t\t\tthis.defer(function(){\r\n\t\t\t\t\t\t// set this.filterString to the filter to apply to the drop down list;\r\n\t\t\t\t\t\t// it will be used in openDropDown()\r\n\t\t\t\t\t\tvar val = this.get('displayedValue');\r\n\t\t\t\t\t\tthis.filterString = (val && !this.parse(val, this.constraints)) ? val.toLowerCase() : \"\";\r\n\r\n\t\t\t\t\t\t// close the drop down and reopen it, in order to filter the items shown in the list\r\n\t\t\t\t\t\t// and also since the drop down may need to be repositioned if the number of list items has changed\r\n\t\t\t\t\t\t// and it's being displayed above the <input>\r\n\t\t\t\t\t\tif(this._opened){\r\n\t\t\t\t\t\t\tthis.closeDropDown();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.openDropDown();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\n\ndefine('dijit/form/_Spinner',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys keys.DOWN_ARROW keys.PAGE_DOWN keys.PAGE_UP keys.UP_ARROW\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/sniff\", // has(\"mozilla\")\r\n\t\"dojo/mouse\", // mouse.wheel\r\n\t\"dojo/on\",\r\n\t\"../typematic\",\r\n\t\"./RangeBoundTextBox\",\r\n\t\"dojo/text!./templates/Spinner.html\",\r\n\t\"./_TextBoxMixin\"    // selectInputText\r\n], function(declare, keys, lang, has, mouse, on, typematic, RangeBoundTextBox, template, _TextBoxMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_Spinner\r\n\r\n\treturn declare(\"dijit.form._Spinner\", RangeBoundTextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for validation widgets with a spinner.\r\n\t\t// description:\r\n\t\t//\t\tThis class basically (conceptually) extends `dijit/form/ValidationTextBox`.\r\n\t\t//\t\tIt modifies the template to have up/down arrows, and provides related handling code.\r\n\r\n\t\t// defaultTimeout: Number\r\n\t\t//\t\tNumber of milliseconds before a held arrow key or up/down button becomes typematic\r\n\t\tdefaultTimeout: 500,\r\n\r\n\t\t// minimumTimeout: Number\r\n\t\t//\t\tminimum number of milliseconds that typematic event fires when held key or button is held\r\n\t\tminimumTimeout: 10,\r\n\r\n\t\t// timeoutChangeRate: Number\r\n\t\t//\t\tFraction of time used to change the typematic timer between events.\r\n\t\t//\t\t1.0 means that each typematic event fires at defaultTimeout intervals.\r\n\t\t//\t\tLess than 1.0 means that each typematic event fires at an increasing faster rate.\r\n\t\ttimeoutChangeRate: 0.90,\r\n\r\n\t\t// smallDelta: Number\r\n\t\t//\t\tAdjust the value by this much when spinning using the arrow keys/buttons\r\n\t\tsmallDelta: 1,\r\n\r\n\t\t// largeDelta: Number\r\n\t\t//\t\tAdjust the value by this much when spinning using the PgUp/Dn keys\r\n\t\tlargeDelta: 10,\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitSpinner\",\r\n\r\n\t\t// Set classes like dijitUpArrowButtonHover or dijitDownArrowButtonActive depending on\r\n\t\t// mouse action over specified node\r\n\t\tcssStateNodes: {\r\n\t\t\t\"upArrowNode\": \"dijitUpArrowButton\",\r\n\t\t\t\"downArrowNode\": \"dijitDownArrowButton\"\r\n\t\t},\r\n\r\n\t\tadjust: function(val /*=====, delta =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function used to adjust a primitive value(Number/Date/...) by the delta amount specified.\r\n\t\t\t//\t\tThe val is adjusted in a way that makes sense to the object type.\r\n\t\t\t// val: Object\r\n\t\t\t// delta: Number\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\t_arrowPressed: function(/*Node*/ nodePressed, /*Number*/ direction, /*Number*/ increment){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for arrow button or arrow key being pressed\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setValueAttr(this.adjust(this.get('value'), direction * increment), false);\r\n\t\t\t_TextBoxMixin.selectInputText(this.textbox, this.textbox.value.length);\r\n\t\t},\r\n\r\n\t\t_arrowReleased: function(/*Node*/ /*===== node =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for arrow button or arrow key being released\r\n\t\t\tthis._wheelTimer = null;\r\n\t\t},\r\n\r\n\t\t_typematicCallback: function(/*Number*/ count, /*DOMNode*/ node, /*Event*/ evt){\r\n\t\t\tvar inc = this.smallDelta;\r\n\t\t\tif(node == this.textbox){\r\n\t\t\t\tvar key = evt.keyCode;\r\n\t\t\t\tinc = (key == keys.PAGE_UP || key == keys.PAGE_DOWN) ? this.largeDelta : this.smallDelta;\r\n\t\t\t\tnode = (key == keys.UP_ARROW || key == keys.PAGE_UP) ? this.upArrowNode : this.downArrowNode;\r\n\t\t\t}\r\n\t\t\tif(count == -1){\r\n\t\t\t\tthis._arrowReleased(node);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._arrowPressed(node, (node == this.upArrowNode) ? 1 : -1, inc);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_wheelTimer: null,\r\n\t\t_mouseWheeled: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMouse wheel listener where supported\r\n\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t\t// FIXME: Safari bubbles\r\n\r\n\t\t\t// be nice to DOH and scroll as much as the event says to\r\n\t\t\tvar wheelDelta = evt.wheelDelta / 120;\r\n\t\t\tif(Math.floor(wheelDelta) != wheelDelta){\r\n\t\t\t\t// If not an int multiple of 120, then its touchpad scrolling.\r\n\t\t\t\t// This can change very fast so just assume 1 wheel click to make it more manageable.\r\n\t\t\t\twheelDelta = evt.wheelDelta > 0 ? 1 : -1;\r\n\t\t\t}\r\n\t\t\tvar scrollAmount = evt.detail ? (evt.detail * -1) : wheelDelta;\r\n\t\t\tif(scrollAmount !== 0){\r\n\t\t\t\tvar node = this[(scrollAmount > 0 ? \"upArrowNode\" : \"downArrowNode\" )];\r\n\r\n\t\t\t\tthis._arrowPressed(node, scrollAmount, this.smallDelta);\r\n\r\n\t\t\t\tif(this._wheelTimer){\r\n\t\t\t\t\tthis._wheelTimer.remove();\r\n\t\t\t\t}\r\n\t\t\t\tthis._wheelTimer = this.defer(function(){\r\n\t\t\t\t\tthis._arrowReleased(node);\r\n\t\t\t\t}, 50);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setConstraintsAttr: function(/*Object*/ constraints){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.focusNode){ // not set when called from postMixInProperties\r\n\t\t\t\tif(this.constraints.min !== undefined){\r\n\t\t\t\t\tthis.focusNode.setAttribute(\"aria-valuemin\", this.constraints.min);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.focusNode.removeAttribute(\"aria-valuemin\");\r\n\t\t\t\t}\r\n\t\t\t\tif(this.constraints.max !== undefined){\r\n\t\t\t\t\tthis.focusNode.setAttribute(\"aria-valuemax\", this.constraints.max);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.focusNode.removeAttribute(\"aria-valuemax\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Number*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', ...) works.\r\n\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuenow\", value);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// extra listeners\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, mouse.wheel, lang.hitch(this, \"_mouseWheeled\")),\r\n\t\t\t\ttypematic.addListener(this.upArrowNode, this.textbox, {keyCode: keys.UP_ARROW, ctrlKey: false, altKey: false, shiftKey: false, metaKey: false}, this, \"_typematicCallback\", this.timeoutChangeRate, this.defaultTimeout, this.minimumTimeout),\r\n\t\t\t\ttypematic.addListener(this.downArrowNode, this.textbox, {keyCode: keys.DOWN_ARROW, ctrlKey: false, altKey: false, shiftKey: false, metaKey: false}, this, \"_typematicCallback\", this.timeoutChangeRate, this.defaultTimeout, this.minimumTimeout),\r\n\t\t\t\ttypematic.addListener(this.upArrowNode, this.textbox, {keyCode: keys.PAGE_UP, ctrlKey: false, altKey: false, shiftKey: false, metaKey: false}, this, \"_typematicCallback\", this.timeoutChangeRate, this.defaultTimeout, this.minimumTimeout),\r\n\t\t\t\ttypematic.addListener(this.downArrowNode, this.textbox, {keyCode: keys.PAGE_DOWN, ctrlKey: false, altKey: false, shiftKey: false, metaKey: false}, this, \"_typematicCallback\", this.timeoutChangeRate, this.defaultTimeout, this.minimumTimeout)\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/NumberSpinner',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/keys\", // keys.END keys.HOME\r\n\t\"./_Spinner\",\r\n\t\"./NumberTextBox\"\r\n], function(declare, keys, _Spinner, NumberTextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/NumberSpinner\r\n\r\n\treturn declare(\"dijit.form.NumberSpinner\", [_Spinner, NumberTextBox.Mixin], {\r\n\t\t// summary:\r\n\t\t//\t\tExtends NumberTextBox to add up/down arrows and pageup/pagedown for incremental change to the value\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tA `dijit/form/NumberTextBox` extension to provide keyboard accessible value selection\r\n\t\t//\t\tas well as icons for spinning direction. When using the keyboard, the typematic rules\r\n\t\t//\t\tapply, meaning holding the key will gradually increase or decrease the value and\r\n\t\t//\t\taccelerate.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t| new NumberSpinner({ constraints:{ max:300, min:100 }}, \"someInput\");\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitSpinner dijitNumberTextBox\",\r\n\r\n\t\tadjust: function(/*Object*/ val, /*Number*/ delta){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tChange Number val by the given amount\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar tc = this.constraints,\r\n\t\t\t\tv = isNaN(val),\r\n\t\t\t\tgotMax = !isNaN(tc.max),\r\n\t\t\t\tgotMin = !isNaN(tc.min)\r\n\t\t\t\t;\r\n\t\t\tif(v && delta != 0){ // blank or invalid value and they want to spin, so create defaults\r\n\t\t\t\tval = (delta > 0) ?\r\n\t\t\t\t\tgotMin ? tc.min : gotMax ? tc.max : 0 :\r\n\t\t\t\t\tgotMax ? this.constraints.max : gotMin ? tc.min : 0\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t\tvar newval = val + delta;\r\n\t\t\tif(v || isNaN(newval)){\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t\tif(gotMax && (newval > tc.max)){\r\n\t\t\t\tnewval = tc.max;\r\n\t\t\t}\r\n\t\t\tif(gotMin && (newval < tc.min)){\r\n\t\t\t\tnewval = tc.min;\r\n\t\t\t}\r\n\t\t\treturn newval;\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(e){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif((e.keyCode == keys.HOME || e.keyCode == keys.END) && !(e.ctrlKey || e.altKey || e.metaKey)\r\n\t\t\t\t&& typeof this.get('value') != 'undefined' /* gibberish, so HOME and END are default editing keys*/){\r\n\t\t\t\tvar value = this.constraints[(e.keyCode == keys.HOME ? \"min\" : \"max\")];\r\n\t\t\t\tif(typeof value == \"number\"){\r\n\t\t\t\t\tthis._setValueAttr(value, false);\r\n\t\t\t\t}\r\n\t\t\t\t// eat home or end key whether we change the value or not\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/ComboBox',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./ValidationTextBox\",\r\n\t\"./ComboBoxMixin\"\r\n], function(declare, ValidationTextBox, ComboBoxMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/ComboBox\r\n\r\n\treturn declare(\"dijit.form.ComboBox\", [ValidationTextBox, ComboBoxMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tAuto-completing text box\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tThe drop down box's values are populated from an class called\r\n\t\t//\t\ta data provider, which returns a list of values based on the characters\r\n\t\t//\t\tthat the user has typed into the input box.\r\n\t\t//\t\tIf OPTION tags are used as the data provider via markup,\r\n\t\t//\t\tthen the OPTION tag's child text node is used as the widget value\r\n\t\t//\t\twhen selected.  The OPTION tag's value attribute is ignored.\r\n\t\t//\t\tTo set the default value when using OPTION tags, specify the selected\r\n\t\t//\t\tattribute on 1 of the child OPTION tags.\r\n\t\t//\r\n\t\t//\t\tSome of the options to the ComboBox are actually arguments to the data\r\n\t\t//\t\tprovider.\r\n\t});\r\n});\r\n\ndefine('dijit/form/MultiSelect',[\r\n\t\"dojo/_base/array\", // indexOf, map, forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-geometry\", // domGeometry.setMarginBox\r\n\t\"dojo/sniff\",\t// has(\"android\")\r\n\t\"dojo/query\", // query\r\n\t\"./_FormValueWidget\",\r\n\t\"dojo/NodeList-dom\"\t// orphan()\r\n], function(array, declare, domGeometry, has, query, _FormValueWidget){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/MultiSelect\r\n\r\n\tvar MultiSelect = declare(\"dijit.form.MultiSelect\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), _FormValueWidget, {\r\n\t\t// summary:\r\n\t\t//\t\tWidget version of a `<select multiple=multiple>` element,\r\n\t\t//\t\tfor selecting multiple options.\r\n\r\n\t\t// size: Number\r\n\t\t//\t\tNumber of elements to display on a page\r\n\t\t//\t\tNOTE: may be removed in version 2.0, since elements may have variable height;\r\n\t\t//\t\tset the size via style=\"...\" or CSS class names instead.\r\n\t\tsize: 7,\r\n\r\n\t\tbaseClass: \"dijitMultiSelect\",\r\n\r\n\t\ttemplateString: \"<select multiple='multiple' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>\",\r\n\r\n\t\taddSelected: function(/*dijit/form/MultiSelect*/ select){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMove the selected nodes of a passed Select widget\r\n\t\t\t//\t\tinstance to this Select widget.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t// |\t// move all the selected values from \"bar\" to \"foo\"\r\n\t\t\t// |\tdijit.byId(\"foo\").addSelected(dijit.byId(\"bar\"));\r\n\r\n\t\t\tselect.getSelected().forEach(function(n){\r\n\t\t\t\tthis.containerNode.appendChild(n);\r\n\t\t\t\t// scroll to bottom to see item\r\n\t\t\t\t// cannot use scrollIntoView since <option> tags don't support all attributes\r\n\t\t\t\t// does not work on IE due to a bug where <select> always shows scrollTop = 0\r\n\t\t\t\tthis.domNode.scrollTop = this.domNode.offsetHeight; // overshoot will be ignored\r\n\t\t\t\t// scrolling the source select is trickier esp. on safari who forgets to change the scrollbar size\r\n\t\t\t\tvar oldscroll = select.domNode.scrollTop;\r\n\t\t\t\tselect.domNode.scrollTop = 0;\r\n\t\t\t\tselect.domNode.scrollTop = oldscroll;\r\n\t\t\t}, this);\r\n\t\t\tthis._set('value', this.get('value'));\r\n\t\t},\r\n\r\n\t\tgetSelected: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAccess the NodeList of the selected options directly\r\n\t\t\treturn query(\"option\", this.containerNode).filter(function(n){\r\n\t\t\t\treturn n.selected; // Boolean\r\n\t\t\t}); // dojo/NodeList\r\n\t\t},\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so get('value') works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tReturns an array of the selected options' values.\r\n\r\n\t\t\t// Don't call getSelect.map() because it doesn't return a real array,\r\n\t\t\t// and that messes up dojo.toJson() calls like in the Form.html test\r\n\t\t\treturn array.map(this.getSelected(), function(n){\r\n\t\t\t\treturn n.value;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// Set multiple so parent form widget knows that I return multiple values.\r\n\t\t// Also adding a no-op custom setter; otherwise the multiple property is applied to the <select> node\r\n\t\t// which causes problem on Android < 4.4 with all but the first selected item being deselected.\r\n\t\tmultiple: true,\r\n\t\t_setMultipleAttr: function(val){\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*String[]*/ values){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', values) works.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSet the value(s) of this Select based on passed values\r\n\r\n\t\t\tif(has(\"android\")){\r\n\t\t\t\t// Workaround bizarre Android bug where deselecting one option selects another one.\r\n\t\t\t\t// See https://code.google.com/p/android/issues/detail?id=68285.\r\n\t\t\t\t// Could use this code path for all browsers but I worry about IE memory leaks.\r\n\t\t\t\tquery(\"option\", this.containerNode).orphan().forEach(function(n){\r\n\t\t\t\t\tvar option = n.ownerDocument.createElement(\"option\");\r\n\t\t\t\t\toption.value = n.value;\r\n\t\t\t\t\toption.selected = (array.indexOf(values, n.value) != -1);\r\n\t\t\t\t\toption.text = n.text;\r\n\t\t\t\t\toption.originalText = n.originalText;\t// for bidi support, see has(\"dojo-bidi\") block below\r\n\t\t\t\t\tthis.containerNode.appendChild(option);\r\n\t\t\t\t}, this);\r\n\t\t\t}else {\r\n\t\t\t\tquery(\"option\", this.containerNode).forEach(function(n){\r\n\t\t\t\t\tn.selected = (array.indexOf(values, n.value) != -1);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tinvertSelection: function(/*Boolean?*/ onChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInvert the selection\r\n\t\t\t// onChange: Boolean\r\n\t\t\t//\t\tIf false, onChange is not fired.\r\n\t\t\tvar val = [];\r\n\t\t\tquery(\"option\", this.containerNode).forEach(function(n){\r\n\t\t\t\tif(!n.selected){\r\n\t\t\t\t\tval.push(n.value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._setValueAttr(val, !(onChange === false || onChange == null));\r\n\t\t},\r\n\r\n\t\t_onChange: function(/*Event*/){\r\n\t\t\tthis._handleOnChange(this.get('value'), true);\r\n\t\t},\r\n\r\n\t\t// for layout widgets:\r\n\t\tresize: function(/*Object*/ size){\r\n\t\t\tif(size){\r\n\t\t\t\tdomGeometry.setMarginBox(this.domNode, size);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis._set('value', this.get('value'));\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tMultiSelect = declare(\"dijit.form.MultiSelect\", MultiSelect, {\r\n\t\t\taddSelected: function(/*dijit/form/MultiSelect*/ select){\r\n\t\t\t\tselect.getSelected().forEach(function(n){\r\n\t\t\t\t\tn.text = this.enforceTextDirWithUcc(this.restoreOriginalText(n), n.text);\r\n\t\t\t\t}, this);\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t},\r\n\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\t// to insure the code executed only when _BidiSupport loaded, and only\r\n\t\t\t\t// when there was a change in textDir\r\n\t\t\t\tif((this.textDir != textDir || !this._created) && this.enforceTextDirWithUcc){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\r\n\t\t\t\t\tquery(\"option\", this.containerNode).forEach(function(option){\r\n\t\t\t\t\t\t// If the value wasn't defined explicitly, it the same object as\r\n\t\t\t\t\t\t// option.text. Since the option.text will be modified (by wrapping of UCC)\r\n\t\t\t\t\t\t// we want to save the original option.value for form submission.\r\n\t\t\t\t\t\tif(!this._created && option.value === option.text){\r\n\t\t\t\t\t\t\toption.value = option.text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// apply the bidi support\r\n\t\t\t\t\t\toption.text = this.enforceTextDirWithUcc(option, option.originalText || option.text);\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn MultiSelect;\r\n});\r\n\ndefine('dojo/data/util/sorter',[\"../../_base/lang\"], function(lang){\r\n\t// module:\r\n\t//\t\tdojo/data/util/sorter\r\n\t// summary:\r\n\t//\t\tTODOC\r\n\r\nvar sorter = {};\r\nlang.setObject(\"dojo.data.util.sorter\", sorter);\r\n\r\nsorter.basicComparator = function(\t/*anything*/ a,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*anything*/ b){\r\n\t// summary:\r\n\t//\t\tBasic comparison function that compares if an item is greater or less than another item\r\n\t// description:\r\n\t//\t\treturns 1 if a > b, -1 if a < b, 0 if equal.\r\n\t//\t\t'null' values (null, undefined) are treated as larger values so that they're pushed to the end of the list.\r\n\t//\t\tAnd compared to each other, null is equivalent to undefined.\r\n\r\n\t//null is a problematic compare, so if null, we set to undefined.\r\n\t//Makes the check logic simple, compact, and consistent\r\n\t//And (null == undefined) === true, so the check later against null\r\n\t//works for undefined and is less bytes.\r\n\tvar r = -1;\r\n\tif(a === null){\r\n\t\ta = undefined;\r\n\t}\r\n\tif(b === null){\r\n\t\tb = undefined;\r\n\t}\r\n\tif(a == b){\r\n\t\tr = 0;\r\n\t}else if(a > b || a == null){\r\n\t\tr = 1;\r\n\t}\r\n\treturn r; //int {-1,0,1}\r\n};\r\n\r\nsorter.createSortFunction = function(\t/* attributes[] */sortSpec, /*dojo/data/api/Read*/ store){\r\n\t// summary:\r\n\t//\t\tHelper function to generate the sorting function based off the list of sort attributes.\r\n\t// description:\r\n\t//\t\tThe sort function creation will look for a property on the store called 'comparatorMap'.  If it exists\r\n\t//\t\tit will look in the mapping for comparisons function for the attributes.  If one is found, it will\r\n\t//\t\tuse it instead of the basic comparator, which is typically used for strings, ints, booleans, and dates.\r\n\t//\t\tReturns the sorting function for this particular list of attributes and sorting directions.\r\n\t// sortSpec:\r\n\t//\t\tA JS object that array that defines out what attribute names to sort on and whether it should be descenting or asending.\r\n\t//\t\tThe objects should be formatted as follows:\r\n\t// |\t{\r\n\t// |\t\tattribute: \"attributeName-string\" || attribute,\r\n\t// |\t\tdescending: true|false;   // Default is false.\r\n\t// |\t}\r\n\t// store:\r\n\t//\t\tThe datastore object to look up item values from.\r\n\r\n\tvar sortFunctions=[];\r\n\r\n\tfunction createSortFunction(attr, dir, comp, s){\r\n\t\t//Passing in comp and s (comparator and store), makes this\r\n\t\t//function much faster.\r\n\t\treturn function(itemA, itemB){\r\n\t\t\tvar a = s.getValue(itemA, attr);\r\n\t\t\tvar b = s.getValue(itemB, attr);\r\n\t\t\treturn dir * comp(a,b); //int\r\n\t\t};\r\n\t}\r\n\tvar sortAttribute;\r\n\tvar map = store.comparatorMap;\r\n\tvar bc = sorter.basicComparator;\r\n\tfor(var i = 0; i < sortSpec.length; i++){\r\n\t\tsortAttribute = sortSpec[i];\r\n\t\tvar attr = sortAttribute.attribute;\r\n\t\tif(attr){\r\n\t\t\tvar dir = (sortAttribute.descending) ? -1 : 1;\r\n\t\t\tvar comp = bc;\r\n\t\t\tif(map){\r\n\t\t\t\tif(typeof attr !== \"string\" && (\"toString\" in attr)){\r\n\t\t\t\t\t attr = attr.toString();\r\n\t\t\t\t}\r\n\t\t\t\tcomp = map[attr] || bc;\r\n\t\t\t}\r\n\t\t\tsortFunctions.push(createSortFunction(attr,\r\n\t\t\t\tdir, comp, store));\r\n\t\t}\r\n\t}\r\n\treturn function(rowA, rowB){\r\n\t\tvar i=0;\r\n\t\twhile(i < sortFunctions.length){\r\n\t\t\tvar ret = sortFunctions[i++](rowA, rowB);\r\n\t\t\tif(ret !== 0){\r\n\t\t\t\treturn ret;//int\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn 0; //int\r\n\t}; // Function\r\n};\r\n\r\nreturn sorter;\r\n});\r\n\ndefine('dijit/form/_FormSelectWidget',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.map array.some\r\n\t\"dojo/_base/Deferred\",\r\n\t\"dojo/aspect\", // aspect.after\r\n\t\"dojo/data/util/sorter\", // util.sorter.createSortFunction\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/_base/kernel\",\t// _scopeName\r\n\t\"dojo/_base/lang\", // lang.delegate lang.isArray lang.isObject lang.hitch\r\n\t\"dojo/query\", // query\r\n\t\"dojo/when\",\r\n\t\"dojo/store/util/QueryResults\",\r\n\t\"./_FormValueWidget\"\r\n], function(array, Deferred, aspect, sorter, declare, dom, domClass, kernel, lang, query, when,\r\n\t\t\tQueryResults, _FormValueWidget){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_FormSelectWidget\r\n\r\n\t/*=====\r\n\tvar __SelectOption = {\r\n\t\t// value: String\r\n\t\t//\t\tThe value of the option.  Setting to empty (or missing) will\r\n\t\t//\t\tplace a separator at that location\r\n\t\t// label: String\r\n\t\t//\t\tThe label for our option.  It can contain html tags.\r\n\t\t// selected: Boolean\r\n\t\t//\t\tWhether or not we are a selected option\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tWhether or not this specific option is disabled\r\n\t};\r\n\t=====*/\r\n\r\n\tvar _FormSelectWidget = declare(\"dijit.form._FormSelectWidget\", _FormValueWidget, {\r\n\t\t// summary:\r\n\t\t//\t\tExtends _FormValueWidget in order to provide \"select-specific\"\r\n\t\t//\t\tvalues - i.e., those values that are unique to `<select>` elements.\r\n\t\t//\t\tThis also provides the mechanism for reading the elements from\r\n\t\t//\t\ta store, if desired.\r\n\r\n\t\t// multiple: [const] Boolean\r\n\t\t//\t\tWhether or not we are multi-valued\r\n\t\tmultiple: false,\r\n\r\n\t\t// options: __SelectOption[]\r\n\t\t//\t\tThe set of options for our select item.  Roughly corresponds to\r\n\t\t//\t\tthe html `<option>` tag.\r\n\t\toptions: null,\r\n\r\n\t\t// store: dojo/store/api/Store\r\n\t\t//\t\tA store to use for getting our list of options - rather than reading them\r\n\t\t//\t\tfrom the `<option>` html tags.   Should support getIdentity().\r\n\t\t//\t\tFor back-compat store can also be a dojo/data/api/Identity.\r\n\t\tstore: null,\r\n\t\t_setStoreAttr: function(val){\r\n\t\t\tif(this._created){\t\t// don't repeat work that will happen in postCreate()\r\n\t\t\t\tthis._deprecatedSetStore(val);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// query: object\r\n\t\t//\t\tA query to use when fetching items from our store\r\n\t\tquery: null,\r\n\t\t_setQueryAttr: function(query){\r\n\t\t\tif(this._created){\t\t// don't repeat work that will happen in postCreate()\r\n\t\t\t\tthis._deprecatedSetStore(this.store, this.selectedValue, {query: query});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// queryOptions: object\r\n\t\t//\t\tQuery options to use when fetching from the store\r\n\t\tqueryOptions: null,\r\n\t\t_setQueryOptionsAttr: function(queryOptions){\r\n\t\t\tif(this._created){\t\t// don't repeat work that will happen in postCreate()\r\n\t\t\t\tthis._deprecatedSetStore(this.store, this.selectedValue, {queryOptions: queryOptions});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// labelAttr: String?\r\n\t\t//\t\tThe entries in the drop down list come from this attribute in the dojo.store items.\r\n\t\t//\t\tIf ``store`` is set, labelAttr must be set too, unless store is an old-style\r\n\t\t//\t\tdojo.data store rather than a new dojo/store.\r\n\t\tlabelAttr: \"\",\r\n\r\n\t\t// onFetch: Function\r\n\t\t//\t\tA callback to do with an onFetch - but before any items are actually\r\n\t\t//\t\titerated over (i.e. to filter even further what you want to add)\r\n\t\tonFetch: null,\r\n\r\n\t\t// sortByLabel: Boolean\r\n\t\t//\t\tFlag to sort the options returned from a store by the label of\r\n\t\t//\t\tthe store.\r\n\t\tsortByLabel: true,\r\n\r\n\r\n\t\t// loadChildrenOnOpen: Boolean\r\n\t\t//\t\tBy default loadChildren is called when the items are fetched from the\r\n\t\t//\t\tstore.  This property allows delaying loadChildren (and the creation\r\n\t\t//\t\tof the options/menuitems) until the user clicks the button to open the\r\n\t\t//\t\tdropdown.\r\n\t\tloadChildrenOnOpen: false,\r\n\r\n\t\t// onLoadDeferred: [readonly] dojo.Deferred\r\n\t\t//\t\tThis is the `dojo.Deferred` returned by setStore().\r\n\t\t//\t\tCalling onLoadDeferred.then() registers your\r\n\t\t//\t\tcallback to be called only once, when the prior setStore completes.\r\n\t\tonLoadDeferred: null,\r\n\r\n\t\tgetOptions: function(/*anything*/ valueOrIdx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a given option (or options).\r\n\t\t\t// valueOrIdx:\r\n\t\t\t//\t\tIf passed in as a string, that string is used to look up the option\r\n\t\t\t//\t\tin the array of options - based on the value property.\r\n\t\t\t//\t\t(See dijit/form/_FormSelectWidget.__SelectOption).\r\n\t\t\t//\r\n\t\t\t//\t\tIf passed in a number, then the option with the given index (0-based)\r\n\t\t\t//\t\twithin this select will be returned.\r\n\t\t\t//\r\n\t\t\t//\t\tIf passed in a dijit/form/_FormSelectWidget.__SelectOption, the same option will be\r\n\t\t\t//\t\treturned if and only if it exists within this select.\r\n\t\t\t//\r\n\t\t\t//\t\tIf passed an array, then an array will be returned with each element\r\n\t\t\t//\t\tin the array being looked up.\r\n\t\t\t//\r\n\t\t\t//\t\tIf not passed a value, then all options will be returned\r\n\t\t\t//\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe option corresponding with the given value or index.\r\n\t\t\t//\t\tnull is returned if any of the following are true:\r\n\t\t\t//\r\n\t\t\t//\t\t- A string value is passed in which doesn't exist\r\n\t\t\t//\t\t- An index is passed in which is outside the bounds of the array of options\r\n\t\t\t//\t\t- A dijit/form/_FormSelectWidget.__SelectOption is passed in which is not a part of the select\r\n\r\n\t\t\t// NOTE: the compare for passing in a dijit/form/_FormSelectWidget.__SelectOption checks\r\n\t\t\t//\t\tif the value property matches - NOT if the exact option exists\r\n\t\t\t// NOTE: if passing in an array, null elements will be placed in the returned\r\n\t\t\t//\t\tarray when a value is not found.\r\n\t\t\tvar opts = this.options || [];\r\n\r\n\t\t\tif(valueOrIdx == null){\r\n\t\t\t\treturn opts; // __SelectOption[]\r\n\t\t\t}\r\n\t\t\tif(lang.isArray(valueOrIdx)){\r\n\t\t\t\treturn array.map(valueOrIdx, \"return this.getOptions(item);\", this); // __SelectOption[]\r\n\t\t\t}\r\n\t\t\tif(lang.isString(valueOrIdx)){\r\n\t\t\t\tvalueOrIdx = { value: valueOrIdx };\r\n\t\t\t}\r\n\t\t\tif(lang.isObject(valueOrIdx)){\r\n\t\t\t\t// We were passed an option - so see if it's in our array (directly),\r\n\t\t\t\t// and if it's not, try and find it by value.\r\n\r\n\t\t\t\tif(!array.some(opts, function(option, idx){\r\n\t\t\t\t\tfor(var a in valueOrIdx){\r\n\t\t\t\t\t\tif(!(a in option) || option[a] != valueOrIdx[a]){ // == and not === so that 100 matches '100'\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalueOrIdx = idx;\r\n\t\t\t\t\treturn true; // stops iteration through opts\r\n\t\t\t\t})){\r\n\t\t\t\t\tvalueOrIdx = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(valueOrIdx >= 0 && valueOrIdx < opts.length){\r\n\t\t\t\treturn opts[valueOrIdx]; // __SelectOption\r\n\t\t\t}\r\n\t\t\treturn null; // null\r\n\t\t},\r\n\r\n\t\taddOption: function(/*__SelectOption|__SelectOption[]*/ option){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdds an option or options to the end of the select.  If value\r\n\t\t\t//\t\tof the option is empty or missing, a separator is created instead.\r\n\t\t\t//\t\tPassing in an array of options will yield slightly better performance\r\n\t\t\t//\t\tsince the children are only loaded once.\r\n\t\t\tarray.forEach(lang.isArray(option) ? option : [option], function(i){\r\n\t\t\t\tif(i && lang.isObject(i)){\r\n\t\t\t\t\tthis.options.push(i);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tthis._loadChildren();\r\n\t\t},\r\n\r\n\t\tremoveOption: function(/*String|__SelectOption|Number|Array*/ valueOrIdx){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemoves the given option or options.  You can remove by string\r\n\t\t\t//\t\t(in which case the value is removed), number (in which case the\r\n\t\t\t//\t\tindex in the options array is removed), or select option (in\r\n\t\t\t//\t\twhich case, the select option with a matching value is removed).\r\n\t\t\t//\t\tYou can also pass in an array of those values for a slightly\r\n\t\t\t//\t\tbetter performance since the children are only loaded once.\r\n\t\t\t//\t\tFor numeric option values, specify {value: number} as the argument.\r\n\t\t\tvar oldOpts = this.getOptions(lang.isArray(valueOrIdx) ? valueOrIdx : [valueOrIdx]);\r\n\t\t\tarray.forEach(oldOpts, function(option){\r\n\t\t\t\t// We can get null back in our array - if our option was not found.  In\r\n\t\t\t\t// that case, we don't want to blow up...\r\n\t\t\t\tif(option){\r\n\t\t\t\t\tthis.options = array.filter(this.options, function(node){\r\n\t\t\t\t\t\treturn (node.value !== option.value || node.label !== option.label);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis._removeOptionItem(option);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tthis._loadChildren();\r\n\t\t},\r\n\r\n\t\tupdateOption: function(/*__SelectOption|__SelectOption[]*/ newOption){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUpdates the values of the given option.  The option to update\r\n\t\t\t//\t\tis matched based on the value of the entered option.  Passing\r\n\t\t\t//\t\tin an array of new options will yield better performance since\r\n\t\t\t//\t\tthe children will only be loaded once.\r\n\t\t\tarray.forEach(lang.isArray(newOption) ? newOption : [newOption], function(i){\r\n\t\t\t\tvar oldOpt = this.getOptions({ value: i.value }), k;\r\n\t\t\t\tif(oldOpt){\r\n\t\t\t\t\tfor(k in i){\r\n\t\t\t\t\t\toldOpt[k] = i[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tthis._loadChildren();\r\n\t\t},\r\n\r\n\t\tsetStore: function(store, selectedValue, fetchArgs){\r\n\t\t\tkernel.deprecated(this.declaredClass+\"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.\", \"\", \"2.0\");\r\n\t\t\tthis._deprecatedSetStore(store, selectedValue, fetchArgs);\r\n\t\t},\r\n\r\n\t\t_deprecatedSetStore: function(store, selectedValue, fetchArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the store you would like to use with this select widget.\r\n\t\t\t//\t\tThe selected value is the value of the new store to set.  This\r\n\t\t\t//\t\tfunction returns the original store, in case you want to reuse\r\n\t\t\t//\t\tit or something.\r\n\t\t\t// store: dojo/store/api/Store\r\n\t\t\t//\t\tThe dojo.store you would like to use - it MUST implement getIdentity()\r\n\t\t\t//\t\tand MAY implement observe().\r\n\t\t\t//\t\tFor backwards-compatibility this can also be a data.data store, in which case\r\n\t\t\t//\t\tit MUST implement dojo/data/api/Identity,\r\n\t\t\t//\t\tand MAY implement dojo/data/api/Notification.\r\n\t\t\t// selectedValue: anything?\r\n\t\t\t//\t\tThe value that this widget should set itself to *after* the store\r\n\t\t\t//\t\thas been loaded\r\n\t\t\t// fetchArgs: Object?\r\n\t\t\t//\t\tHash of parameters to set filter on store, etc.\r\n\t\t\t//\r\n\t\t\t//\t\t- query: new value for Select.query,\r\n\t\t\t//\t\t- queryOptions: new value for Select.queryOptions,\r\n\t\t\t//\t\t- onFetch: callback function for each item in data (Deprecated)\r\n\t\t\tvar oStore = this.store;\r\n\t\t\tfetchArgs = fetchArgs || {};\r\n\r\n\t\t\tif(oStore !== store){\r\n\t\t\t\t// Our store has changed, so cancel any listeners on old store (remove for 2.0)\r\n\t\t\t\tvar h;\r\n\t\t\t\twhile((h = this._notifyConnections.pop())){\r\n\t\t\t\t\th.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// For backwards-compatibility, accept dojo.data store in addition to dojo.store.store.  Remove in 2.0.\r\n\t\t\t\tif(!store.get){\r\n\t\t\t\t\tlang.mixin(store, {\r\n\t\t\t\t\t\t_oldAPI: true,\r\n\t\t\t\t\t\tget: function(id){\r\n\t\t\t\t\t\t\t// summary:\r\n\t\t\t\t\t\t\t//\t\tRetrieves an object by it's identity. This will trigger a fetchItemByIdentity.\r\n\t\t\t\t\t\t\t//\t\tLike dojo.store.DataStore.get() except returns native item.\r\n\t\t\t\t\t\t\tvar deferred = new Deferred();\r\n\t\t\t\t\t\t\tthis.fetchItemByIdentity({\r\n\t\t\t\t\t\t\t\tidentity: id,\r\n\t\t\t\t\t\t\t\tonItem: function(object){\r\n\t\t\t\t\t\t\t\t\tdeferred.resolve(object);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonError: function(error){\r\n\t\t\t\t\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn deferred.promise;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tquery: function(query, options){\r\n\t\t\t\t\t\t\t// summary:\r\n\t\t\t\t\t\t\t//\t\tQueries the store for objects.   Like dojo/store/DataStore.query()\r\n\t\t\t\t\t\t\t//\t\texcept returned Deferred contains array of native items.\r\n\t\t\t\t\t\t\tvar deferred = new Deferred(function(){\r\n\t\t\t\t\t\t\t\tif(fetchHandle.abort){\r\n\t\t\t\t\t\t\t\t\tfetchHandle.abort();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tdeferred.total = new Deferred();\r\n\t\t\t\t\t\t\tvar fetchHandle = this.fetch(lang.mixin({\r\n\t\t\t\t\t\t\t\tquery: query,\r\n\t\t\t\t\t\t\t\tonBegin: function(count){\r\n\t\t\t\t\t\t\t\t\tdeferred.total.resolve(count);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonComplete: function(results){\r\n\t\t\t\t\t\t\t\t\tdeferred.resolve(results);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tonError: function(error){\r\n\t\t\t\t\t\t\t\t\tdeferred.reject(error);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, options));\r\n\t\t\t\t\t\t\treturn new QueryResults(deferred);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(store.getFeatures()[\"dojo.data.api.Notification\"]){\r\n\t\t\t\t\t\tthis._notifyConnections = [\r\n\t\t\t\t\t\t\taspect.after(store, \"onNew\", lang.hitch(this, \"_onNewItem\"), true),\r\n\t\t\t\t\t\t\taspect.after(store, \"onDelete\", lang.hitch(this, \"_onDeleteItem\"), true),\r\n\t\t\t\t\t\t\taspect.after(store, \"onSet\", lang.hitch(this, \"_onSetItem\"), true)\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._set(\"store\", store);\t\t\t// Our store has changed, so update our notifications\r\n\t\t\t}\r\n\r\n\t\t\t// Remove existing options (if there are any)\r\n\t\t\tif(this.options && this.options.length){\r\n\t\t\t\tthis.removeOption(this.options);\r\n\t\t\t}\r\n\r\n\t\t\t// Cancel listener for updates to old (dojo.data) store\r\n\t\t\tif(this._queryRes && this._queryRes.close){\r\n\t\t\t\tthis._queryRes.close();\r\n\t\t\t}\r\n\r\n\t\t\t// Cancel listener for updates to new (dojo.store) store\r\n\t\t\tif(this._observeHandle && this._observeHandle.remove){\r\n\t\t\t\tthis._observeHandle.remove();\r\n\t\t\t\tthis._observeHandle = null;\r\n\t\t\t}\r\n\r\n\t\t\t// If user has specified new query and query options along with this new store, then use them.\r\n\t\t\tif(fetchArgs.query){\r\n\t\t\t\tthis._set(\"query\", fetchArgs.query);\r\n\t\t\t}\r\n\t\t\tif(fetchArgs.queryOptions){\r\n\t\t\t\tthis._set(\"queryOptions\", fetchArgs.queryOptions);\r\n\t\t\t}\r\n\r\n\t\t\t// Add our new options\r\n\t\t\tif(store && store.query){\r\n\t\t\t\tthis._loadingStore = true;\r\n\t\t\t\tthis.onLoadDeferred = new Deferred();\r\n\r\n\t\t\t\t// Run query\r\n\t\t\t\t// Save result in this._queryRes so we can cancel the listeners we register below\r\n\t\t\t\tthis._queryRes = store.query(this.query, this.queryOptions);\r\n\t\t\t\twhen(this._queryRes, lang.hitch(this, function(items){\r\n\r\n\t\t\t\t\tif(this.sortByLabel && !fetchArgs.sort && items.length){\r\n\t\t\t\t\t\tif(store.getValue){\r\n\t\t\t\t\t\t\t// Old dojo.data API to access items, remove for 2.0\r\n\t\t\t\t\t\t\titems.sort(sorter.createSortFunction([\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tattribute: store.getLabelAttributes(items[0])[0]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t], store));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// TODO: remove sortByLabel completely for 2.0?  It can be handled by queryOptions: {sort: ... }.\r\n\t\t\t\t\t\t\tvar labelAttr = this.labelAttr;\r\n\t\t\t\t\t\t\titems.sort(function(a, b){\r\n\t\t\t\t\t\t\t\treturn a[labelAttr] > b[labelAttr] ? 1 : b[labelAttr] > a[labelAttr] ? -1 : 0;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(fetchArgs.onFetch){\r\n\t\t\t\t\t\titems = fetchArgs.onFetch.call(this, items, fetchArgs);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO: Add these guys as a batch, instead of separately\r\n\t\t\t\t\tarray.forEach(items, function(i){\r\n\t\t\t\t\t\tthis._addOptionForItem(i);\r\n\t\t\t\t\t}, this);\r\n\r\n\t\t\t\t\t// Register listener for store updates\r\n\t\t\t\t\tif(this._queryRes.observe){\r\n\t\t\t\t\t\t// observe returns yet another handle that needs its own explicit gc\r\n\t\t\t\t\t\tthis._observeHandle = this._queryRes.observe(lang.hitch(this, function(object, deletedFrom, insertedInto){\r\n\t\t\t\t\t\t\tif(deletedFrom == insertedInto){\r\n\t\t\t\t\t\t\t\tthis._onSetItem(object);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tif(deletedFrom != -1){\r\n\t\t\t\t\t\t\t\t\tthis._onDeleteItem(object);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(insertedInto != -1){\r\n\t\t\t\t\t\t\t\t\tthis._onNewItem(object);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}), true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set our value (which might be undefined), and then tweak\r\n\t\t\t\t\t// it to send a change event with the real value\r\n\t\t\t\t\tthis._loadingStore = false;\r\n\t\t\t\t\tthis.set(\"value\", \"_pendingValue\" in this ? this._pendingValue : selectedValue);\r\n\t\t\t\t\tdelete this._pendingValue;\r\n\r\n\t\t\t\t\tif(!this.loadChildrenOnOpen){\r\n\t\t\t\t\t\tthis._loadChildren();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis._pseudoLoadChildren(items);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onLoadDeferred.resolve(true);\r\n\t\t\t\t\tthis.onSetStore();\r\n\t\t\t\t}), function(err){\r\n\t\t\t\t\tconsole.error('dijit.form.Select: ' + err.toString());\r\n\t\t\t\t\tthis.onLoadDeferred.reject(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn oStore;\t// dojo/data/api/Identity\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*anything*/ newValue, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tset the value of the widget.\r\n\t\t\t//\t\tIf a string is passed, then we set our value from looking it up.\r\n\t\t\tif(!this._onChangeActive){\r\n\t\t\t\tpriorityChange = null;\r\n\t\t\t}\r\n\t\t\tif(this._loadingStore){\r\n\t\t\t\t// Our store is loading - so save our value, and we'll set it when\r\n\t\t\t\t// we're done\r\n\t\t\t\tthis._pendingValue = newValue;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(newValue == null){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(lang.isArray(newValue)){\r\n\t\t\t\tnewValue = array.map(newValue, function(value){\r\n\t\t\t\t\treturn lang.isObject(value) ? value : { value: value };\r\n\t\t\t\t}); // __SelectOption[]\r\n\t\t\t}else if(lang.isObject(newValue)){\r\n\t\t\t\tnewValue = [newValue];\r\n\t\t\t}else{\r\n\t\t\t\tnewValue = [\r\n\t\t\t\t\t{ value: newValue }\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\tnewValue = array.filter(this.getOptions(newValue), function(i){\r\n\t\t\t\treturn i && i.value;\r\n\t\t\t});\r\n\t\t\tvar opts = this.getOptions() || [];\r\n\t\t\tif(!this.multiple && (!newValue[0] || !newValue[0].value) && !!opts.length){\r\n\t\t\t\tnewValue[0] = opts[0];\r\n\t\t\t}\r\n\t\t\tarray.forEach(opts, function(opt){\r\n\t\t\t\topt.selected = array.some(newValue, function(v){\r\n\t\t\t\t\treturn v.value === opt.value;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tvar val = array.map(newValue, function(opt){\r\n\t\t\t\treturn opt.value;\r\n\t\t\t});\r\n\r\n\t\t\tif(typeof val == \"undefined\" || typeof val[0] == \"undefined\"){\r\n\t\t\t\treturn;\r\n\t\t\t} // not fully initialized yet or a failed value lookup\r\n\t\t\tvar disp = array.map(newValue, function(opt){\r\n\t\t\t\treturn opt.label;\r\n\t\t\t});\r\n\t\t\tthis._setDisplay(this.multiple ? disp : disp[0]);\r\n\t\t\tthis.inherited(arguments, [ this.multiple ? val : val[0], priorityChange ]);\r\n\t\t\tthis._updateSelection();\r\n\t\t},\r\n\r\n\t\t_getDisplayedValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\treturns the displayed value of the widget\r\n\t\t\tvar ret = array.map([].concat(this.get('selectedOptions')), function(v){\r\n\t\t\t\tif(v && \"label\" in v){\r\n\t\t\t\t\treturn v.label;\r\n\t\t\t\t}else if(v){\r\n\t\t\t\t\treturn v.value;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}, this);\r\n\t\t\treturn this.multiple ? ret : ret[0];\r\n\t\t},\r\n\r\n\t\t_setDisplayedValueAttr: function(label){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the displayed value of the widget\r\n\t\t\tthis.set('value', this.getOptions(typeof label == \"string\" ? { label: label } : label));\r\n\t\t},\r\n\r\n\t\t_loadChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLoads the children represented by this widget's options.\r\n\t\t\t//\t\treset the menu to make it populatable on the next click\r\n\t\t\tif(this._loadingStore){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tarray.forEach(this._getChildren(), function(child){\r\n\t\t\t\tchild.destroyRecursive();\r\n\t\t\t});\r\n\t\t\t// Add each menu item\r\n\t\t\tarray.forEach(this.options, this._addOptionItem, this);\r\n\r\n\t\t\t// Update states\r\n\t\t\tthis._updateSelection();\r\n\t\t},\r\n\r\n\t\t_updateSelection: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the \"selected\" class on the item for styling purposes\r\n\t\t\tthis.focusedChild = null;\r\n\t\t\tthis._set(\"value\", this._getValueFromOpts());\r\n\t\t\tvar val = [].concat(this.value);\r\n\t\t\tif(val && val[0]){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tarray.forEach(this._getChildren(), function(child){\r\n\t\t\t\t\tvar isSelected = array.some(val, function(v){\r\n\t\t\t\t\t\treturn child.option && (v === child.option.value);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(isSelected && !self.multiple){\r\n\t\t\t\t\t\tself.focusedChild = child;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomClass.toggle(child.domNode, this.baseClass.replace(/\\s+|$/g, \"SelectedOption \"), isSelected);\r\n\t\t\t\t\tchild.domNode.setAttribute(\"aria-selected\", isSelected ? \"true\" : \"false\");\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getValueFromOpts: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the value of the widget by reading the options for\r\n\t\t\t//\t\tthe selected flag\r\n\t\t\tvar opts = this.getOptions() || [];\r\n\t\t\tif(!this.multiple && opts.length){\r\n\t\t\t\t// Mirror what a select does - choose the first one\r\n\t\t\t\tvar opt = array.filter(opts, function(i){\r\n\t\t\t\t\treturn i.selected;\r\n\t\t\t\t})[0];\r\n\t\t\t\tif(opt && opt.value){\r\n\t\t\t\t\treturn opt.value;\r\n\t\t\t\t}else{\r\n\t\t\t\t\topts[0].selected = true;\r\n\t\t\t\t\treturn opts[0].value;\r\n\t\t\t\t}\r\n\t\t\t}else if(this.multiple){\r\n\t\t\t\t// Set value to be the sum of all selected\r\n\t\t\t\treturn array.map(array.filter(opts, function(i){\r\n\t\t\t\t\treturn i.selected;\r\n\t\t\t\t}), function(i){\r\n\t\t\t\t\treturn i.value;\r\n\t\t\t\t}) || [];\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t// Internal functions to call when we have store notifications come in\r\n\t\t_onNewItem: function(/*item*/ item, /*Object?*/ parentInfo){\r\n\t\t\tif(!parentInfo || !parentInfo.parent){\r\n\t\t\t\t// Only add it if we are top-level\r\n\t\t\t\tthis._addOptionForItem(item);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onDeleteItem: function(/*item*/ item){\r\n\t\t\tvar store = this.store;\r\n\t\t\tthis.removeOption({value: store.getIdentity(item) });\r\n\t\t},\r\n\t\t_onSetItem: function(/*item*/ item){\r\n\t\t\tthis.updateOption(this._getOptionObjForItem(item));\r\n\t\t},\r\n\r\n\t\t_getOptionObjForItem: function(item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an option object based off the given item.  The \"value\"\r\n\t\t\t//\t\tof the option item will be the identity of the item, the \"label\"\r\n\t\t\t//\t\tof the option will be the label of the item.\r\n\r\n\t\t\t// remove getLabel() call for 2.0 (it's to support the old dojo.data API)\r\n\t\t\tvar store = this.store,\r\n\t\t\t\tlabel = (this.labelAttr && this.labelAttr in item) ? item[this.labelAttr] : store.getLabel(item),\r\n\t\t\t\tvalue = (label ? store.getIdentity(item) : null);\r\n\t\t\treturn {value: value, label: label, item: item}; // __SelectOption\r\n\t\t},\r\n\r\n\t\t_addOptionForItem: function(/*item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates (and adds) the option for the given item\r\n\t\t\tvar store = this.store;\r\n\t\t\tif(store.isItemLoaded && !store.isItemLoaded(item)){\r\n\t\t\t\t// We are not loaded - so let's load it and add later.\r\n\t\t\t\t// Remove for 2.0 (it's the old dojo.data API)\r\n\t\t\t\tstore.loadItem({item: item, onItem: function(i){\r\n\t\t\t\t\tthis._addOptionForItem(i);\r\n\t\t\t\t},\r\n\t\t\t\t\tscope: this});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar newOpt = this._getOptionObjForItem(item);\r\n\t\t\tthis.addOption(newOpt);\r\n\t\t},\r\n\r\n\t\tconstructor: function(params /*===== , srcNodeRef =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the widget.\r\n\t\t\t// params: Object|null\r\n\t\t\t//\t\tHash of initialization parameters for widget, including scalar values (like title, duration etc.)\r\n\t\t\t//\t\tand functions, typically callbacks like onClick.\r\n\t\t\t//\t\tThe hash can contain any of the widget's properties, excluding read-only properties.\r\n\t\t\t// srcNodeRef: DOMNode|String?\r\n\t\t\t//\t\tIf a srcNodeRef (DOM node) is specified, replace srcNodeRef with my generated DOM tree\r\n\r\n\t\t\t//\t\tSaves off our value, if we have an initial one set so we\r\n\t\t\t//\t\tcan use it if we have a store as well (see startup())\r\n\t\t\tthis._oValue = (params || {}).value || null;\r\n\t\t\tthis._notifyConnections = [];\t// remove for 2.0\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdom.setSelectable(this.focusNode, false);\r\n\t\t},\r\n\r\n\t\t_fillContent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tLoads our options and sets up our dropdown correctly.  We\r\n\t\t\t//\t\tdon't want any content, so we don't call any inherit chain\r\n\t\t\t//\t\tfunction.\r\n\t\t\tif(!this.options){\r\n\t\t\t\tthis.options =\r\n\t\t\t\t\tthis.srcNodeRef\r\n\t\t\t\t\t\t? query(\"> *\", this.srcNodeRef).map(\r\n\t\t\t\t\t\tfunction(node){\r\n\t\t\t\t\t\t\tif(node.getAttribute(\"type\") === \"separator\"){\r\n\t\t\t\t\t\t\t\treturn { value: \"\", label: \"\", selected: false, disabled: false };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tvalue: (node.getAttribute(\"data-\" + kernel._scopeName + \"-value\") || node.getAttribute(\"value\")),\r\n\t\t\t\t\t\t\t\tlabel: String(node.innerHTML),\r\n\t\t\t\t\t\t\t\t// FIXME: disabled and selected are not valid on complex markup children (which is why we're\r\n\t\t\t\t\t\t\t\t// looking for data-dojo-value above.  perhaps we should data-dojo-props=\"\" this whole thing?)\r\n\t\t\t\t\t\t\t\t// decide before 1.6\r\n\t\t\t\t\t\t\t\tselected: node.getAttribute(\"selected\") || false,\r\n\t\t\t\t\t\t\t\tdisabled: node.getAttribute(\"disabled\") || false\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tthis)\r\n\t\t\t\t\t\t: [];\r\n\t\t\t}\r\n\t\t\tif(!this.value){\r\n\t\t\t\tthis._set(\"value\", this._getValueFromOpts());\r\n\t\t\t}else if(this.multiple && typeof this.value == \"string\"){\r\n\t\t\t\tthis._set(\"value\", this.value.split(\",\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets up our event handling that we need for functioning\r\n\t\t\t//\t\tas a select\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Make our event connections for updating state\r\n\t\t\taspect.after(this, \"onChange\", lang.hitch(this, \"_updateSelection\"));\r\n\r\n\t\t\t//\t\tConnects in our store, if we have one defined\r\n\t\t\tvar store = this.store;\r\n\t\t\tif(store && (store.getIdentity || store.getFeatures()[\"dojo.data.api.Identity\"])){\r\n\t\t\t\t// Temporarily set our store to null so that it will get set\r\n\t\t\t\t// and connected appropriately\r\n\t\t\t\tthis.store = null;\r\n\t\t\t\tthis._deprecatedSetStore(store, this._oValue, {query: this.query, queryOptions: this.queryOptions});\r\n\t\t\t}\r\n\r\n\t\t\tthis._storeInitialized = true;\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// summary:\r\n\t\t\tthis._loadChildren();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClean up our connections\r\n\r\n\t\t\tvar h;\r\n\t\t\twhile((h = this._notifyConnections.pop())){\r\n\t\t\t\th.remove();\r\n\t\t\t}\r\n\r\n\t\t\t// Cancel listener for store updates\r\n\t\t\tif(this._queryRes && this._queryRes.close){\r\n\t\t\t\tthis._queryRes.close();\r\n\t\t\t}\r\n\r\n\t\t\t// Cancel listener for updates to new (dojo.store) store\r\n\t\t\tif(this._observeHandle && this._observeHandle.remove){\r\n\t\t\t\tthis._observeHandle.remove();\r\n\t\t\t\tthis._observeHandle = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_addOptionItem: function(/*__SelectOption*/ /*===== option =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser-overridable function which, for the given option, adds an\r\n\t\t\t//\t\titem to the select.  If the option doesn't have a value, then a\r\n\t\t\t//\t\tseparator is added in that place.  Make sure to store the option\r\n\t\t\t//\t\tin the created option widget.\r\n\t\t},\r\n\r\n\t\t_removeOptionItem: function(/*__SelectOption*/ /*===== option =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUser-overridable function which, for the given option, removes\r\n\t\t\t//\t\tits item from the select.\r\n\t\t},\r\n\r\n\t\t_setDisplay: function(/*String or String[]*/ /*===== newDisplay =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function which will set the display for the\r\n\t\t\t//\t\twidget.  newDisplay is either a string (in the case of\r\n\t\t\t//\t\tsingle selects) or array of strings (in the case of multi-selects)\r\n\t\t},\r\n\r\n\t\t_getChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return the children that this widget contains.\r\n\t\t\treturn [];\r\n\t\t},\r\n\r\n\t\t_getSelectedOptionsAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\thooks into this.attr to provide a mechanism for getting the\r\n\t\t\t//\t\toption items for the current value of the widget.\r\n\t\t\treturn this.getOptions({ selected: true });\r\n\t\t},\r\n\r\n\t\t_pseudoLoadChildren: function(/*item[]*/ /*===== items =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta function that will \"fake\" loading children, if needed, and\r\n\t\t\t//\t\tif we have set to not load children until the widget opens.\r\n\t\t\t// items:\r\n\t\t\t//\t\tAn array of items that will be loaded, when needed\r\n\t\t},\r\n\r\n\t\tonSetStore: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\ta function that can be connected to in order to receive a\r\n\t\t\t//\t\tnotification that the store has finished loading and all options\r\n\t\t\t//\t\tfrom that store are available\r\n\t\t}\r\n\t});\r\n\r\n\t/*=====\r\n\t_FormSelectWidget.__SelectOption = __SelectOption;\r\n\t=====*/\r\n\r\n\treturn _FormSelectWidget;\r\n});\r\n\n\ndefine('dijit/form/Select',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove domClass.toggle\r\n\t\"dojo/dom-geometry\", // domGeometry.setMarginBox\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/keys\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"./_FormSelectWidget\",\r\n\t\"../_HasDropDown\",\r\n\t\"../DropDownMenu\",\r\n\t\"../MenuItem\",\r\n\t\"../MenuSeparator\",\r\n\t\"../Tooltip\",\r\n\t\"../_KeyNavMixin\",\r\n\t\"../registry\", // registry.byNode\r\n\t\"dojo/text!./templates/Select.html\",\r\n\t\"dojo/i18n!./nls/validate\"\r\n], function(array, declare, domAttr, domClass, domGeometry, i18n, keys, lang, on, has,\r\n\t\t\t_FormSelectWidget, _HasDropDown, DropDownMenu, MenuItem, MenuSeparator, Tooltip, _KeyNavMixin, registry, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/Select\r\n\r\n\tvar _SelectMenu = declare(\"dijit.form._SelectMenu\", DropDownMenu, {\r\n\t\t// summary:\r\n\t\t//\t\tAn internally-used menu for dropdown that allows us a vertical scrollbar\r\n\r\n\t\t// Override Menu.autoFocus setting so that opening a Select highlights the current value.\r\n\t\tautoFocus: true,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis.domNode.setAttribute(\"role\", \"listbox\");\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// stop mousemove from selecting text on IE to be consistent with other browsers\r\n\t\t\tthis.own(on(this.domNode, \"selectstart\", function(evt){\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridden so that the previously selected value will be focused instead of only the first item\r\n\t\t\tvar found = false,\r\n\t\t\t\tval = this.parentWidget.value;\r\n\t\t\tif(lang.isArray(val)){\r\n\t\t\t\tval = val[val.length - 1];\r\n\t\t\t}\r\n\t\t\tif(val){ // if focus selected\r\n\t\t\t\tarray.forEach(this.parentWidget._getChildren(), function(child){\r\n\t\t\t\t\tif(child.option && (val === child.option.value)){ // find menu item widget with this value\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\tthis.focusChild(child, false); // focus previous selection\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\tif(!found){\r\n\t\t\t\tthis.inherited(arguments); // focus first item by default\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar Select = declare(\"dijit.form.Select\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), [_FormSelectWidget, _HasDropDown, _KeyNavMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tThis is a \"styleable\" select box - it is basically a DropDownButton which\r\n\t\t//\t\tcan take a `<select>` as its input.\r\n\r\n\t\tbaseClass: \"dijitSelect dijitValidationTextBox\",\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t_buttonInputDisabled: has(\"ie\") ? \"disabled\" : \"\", // allows IE to disallow focus, but Firefox cannot be disabled for mousedown events\r\n\r\n\t\t// required: Boolean\r\n\t\t//\t\tCan be true or false, default is false.\r\n\t\trequired: false,\r\n\r\n\t\t// state: [readonly] String\r\n\t\t//\t\t\"Incomplete\" if this select is required but unset (i.e. blank value), \"\" otherwise\r\n\t\tstate: \"\",\r\n\r\n\t\t// message: String\r\n\t\t//\t\tCurrently displayed error/prompt message\r\n\t\tmessage: \"\",\r\n\r\n\t\t// tooltipPosition: String[]\r\n\t\t//\t\tSee description of `dijit/Tooltip.defaultPosition` for details on this parameter.\r\n\t\ttooltipPosition: [],\r\n\r\n\t\t// emptyLabel: string\r\n\t\t//\t\tWhat to display in an \"empty\" dropdown\r\n\t\temptyLabel: \"&#160;\", // &nbsp;\r\n\r\n\t\t// _isLoaded: Boolean\r\n\t\t//\t\tWhether or not we have been loaded\r\n\t\t_isLoaded: false,\r\n\r\n\t\t// _childrenLoaded: Boolean\r\n\t\t//\t\tWhether or not our children have been loaded\r\n\t\t_childrenLoaded: false,\r\n\r\n\t\t// labelType: String\r\n\t\t//\t\tSpecifies how to interpret the labelAttr in the data store items.\r\n\t\t//\t\tCan be \"html\" or \"text\".\r\n\t\tlabelType: \"html\",\r\n\r\n\t\t_fillContent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the value to be the first, or the selected index\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// set value from selected option\r\n\t\t\tif(this.options.length && !this.value && this.srcNodeRef){\r\n\t\t\t\tvar si = this.srcNodeRef.selectedIndex || 0; // || 0 needed for when srcNodeRef is not a SELECT\r\n\t\t\t\tthis._set(\"value\", this.options[si >= 0 ? si : 0].value);\r\n\t\t\t}\r\n\t\t\t// Create the dropDown widget\r\n\t\t\tthis.dropDown = new _SelectMenu({ id: this.id + \"_menu\", parentWidget: this });\r\n\t\t\tdomClass.add(this.dropDown.domNode, this.baseClass.replace(/\\s+|$/g, \"Menu \"));\r\n\t\t},\r\n\r\n\t\t_getMenuItemForOption: function(/*_FormSelectWidget.__SelectOption*/ option){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFor the given option, return the menu item that should be\r\n\t\t\t//\t\tused to display it.  This can be overridden as needed\r\n\t\t\tif(!option.value && !option.label){\r\n\t\t\t\t// We are a separator (no label set for it)\r\n\t\t\t\treturn new MenuSeparator({ownerDocument: this.ownerDocument});\r\n\t\t\t}else{\r\n\t\t\t\t// Just a regular menu option\r\n\t\t\t\tvar click = lang.hitch(this, \"_setValueAttr\", option);\r\n\t\t\t\tvar item = new MenuItem({\r\n\t\t\t\t\toption: option,\r\n\t\t\t\t\tlabel: (this.labelType === 'text' ? (option.label || '').toString()\r\n\t\t\t\t\t\t.replace(/&/g, '&amp;').replace(/</g, '&lt;') :\r\n\t\t\t\t\t\toption.label) || this.emptyLabel,\r\n\t\t\t\t\tonClick: click,\r\n\t\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\t\tdir: this.dir,\r\n\t\t\t\t\ttextDir: this.textDir,\r\n\t\t\t\t\tdisabled: option.disabled || false\r\n\t\t\t\t});\r\n\t\t\t\titem.focusNode.setAttribute(\"role\", \"option\");\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_addOptionItem: function(/*_FormSelectWidget.__SelectOption*/ option){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFor the given option, add an option to our dropdown.\r\n\t\t\t//\t\tIf the option doesn't have a value, then a separator is added\r\n\t\t\t//\t\tin that place.\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tthis.dropDown.addChild(this._getMenuItemForOption(option));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getChildren: function(){\r\n\t\t\tif(!this.dropDown){\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn this.dropDown.getChildren();\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\t// Override _KeyNavMixin::focus(), which calls focusFirstChild().\r\n\t\t\t// We just want the standard form widget behavior.\r\n\t\t\tif(!this.disabled && this.focusNode.focus){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tthis.focusNode.focus();\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t/*squelch errors from hidden nodes*/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocusChild: function(/*dijit/_WidgetBase*/ widget){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the value to the given option, used during search by letter.\r\n\t\t\t// widget:\r\n\t\t\t//\t\tReference to option's widget\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(widget){\r\n\t\t\t\tthis.set('value', widget.option);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getFirst: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the first child widget.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\tvar children = this._getChildren();\r\n\t\t\treturn children.length ? children[0] : null;\r\n\t\t},\r\n\r\n\t\t_getLast: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the last child widget.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tabstract extension\r\n\t\t\tvar children = this._getChildren();\r\n\t\t\treturn children.length ? children[children.length-1] : null;\r\n\t\t},\r\n\r\n\t\tchildSelector: function(/*DOMNode*/ node){\r\n\t\t\t// Implement _KeyNavMixin.childSelector, to identify focusable child nodes.\r\n\t\t\t// If we allowed a dojo/query dependency from this module this could more simply be a string \"> *\"\r\n\t\t\t// instead of this function.\r\n\r\n\t\t\tvar node = registry.byNode(node);\r\n\t\t\treturn node && node.getParent() == this.dropDown;\r\n\t\t},\r\n\r\n\t\tonKeyboardSearch: function(/*dijit/_WidgetBase*/ item, /*Event*/ evt, /*String*/ searchString, /*Number*/ numMatches){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen a key is pressed that matches a child item,\r\n\t\t\t//\t\tthis method is called so that a widget can take appropriate action is necessary.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tif(item){\r\n\t\t\t\tthis.focusChild(item);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_loadChildren: function(/*Boolean*/ loadMenuItems){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResets the menu and the length attribute of the button - and\r\n\t\t\t//\t\tensures that the label is appropriately set.\r\n\t\t\t// loadMenuItems: Boolean\r\n\t\t\t//\t\tactually loads the child menu items - we only do this when we are\r\n\t\t\t//\t\tpopulating for showing the dropdown.\r\n\r\n\t\t\tif(loadMenuItems === true){\r\n\t\t\t\t// this.inherited destroys this.dropDown's child widgets (MenuItems).\r\n\t\t\t\t// Avoid this.dropDown (Menu widget) having a pointer to a destroyed widget (which will cause\r\n\t\t\t\t// issues later in _setSelected). (see #10296)\r\n\t\t\t\tif(this.dropDown){\r\n\t\t\t\t\tdelete this.dropDown.focusedChild;\r\n\t\t\t\t\tthis.focusedChild = null;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.options.length){\r\n\t\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// Drop down menu is blank but add one blank entry just so something appears on the screen\r\n\t\t\t\t\t// to let users know that they are no choices (mimicing native select behavior)\r\n\t\t\t\t\tarray.forEach(this._getChildren(), function(child){\r\n\t\t\t\t\t\tchild.destroyRecursive();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar item = new MenuItem({\r\n\t\t\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\t\t\tlabel: this.emptyLabel\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.dropDown.addChild(item);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis._updateSelection();\r\n\t\t\t}\r\n\r\n\t\t\tthis._isLoaded = false;\r\n\t\t\tthis._childrenLoaded = true;\r\n\r\n\t\t\tif(!this._loadingStore){\r\n\t\t\t\t// Don't call this if we are loading - since we will handle it later\r\n\t\t\t\tthis._setValueAttr(this.value, false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_refreshState: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\tthis.validate(this.focused);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._refreshState(); // after all _set* methods have run\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomAttr.set(this.valueNode, \"value\", this.get(\"value\"));\r\n\t\t\tthis._refreshState();\t// to update this.state\r\n\t\t},\r\n\r\n\t\t_setNameAttr: \"valueNode\",\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ value){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._refreshState();\t// to update this.state\r\n\t\t},\r\n\r\n\t\t_setRequiredAttr: function(/*Boolean*/ value){\r\n\t\t\tthis._set(\"required\", value);\r\n\t\t\tthis.focusNode.setAttribute(\"aria-required\", value);\r\n\t\t\tthis._refreshState();\t// to update this.state\r\n\t\t},\r\n\r\n\t\t_setOptionsAttr: function(/*Array*/ options){\r\n\t\t\tthis._isLoaded = false;\r\n\t\t\tthis._set('options', options);\r\n\t\t},\r\n\r\n\t\t_setDisplay: function(/*String*/ newDisplay){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tsets the display for the given value (or values)\r\n\r\n\t\t\tvar lbl = (this.labelType === 'text' ? (newDisplay || '')\r\n\t\t\t\t\t.replace(/&/g, '&amp;').replace(/</g, '&lt;') :\r\n\t\t\t\t\tnewDisplay) || this.emptyLabel;\r\n\t\t\tthis.containerNode.innerHTML = '<span role=\"option\" class=\"dijitReset dijitInline ' + this.baseClass.replace(/\\s+|$/g, \"Label \") + '\">' + lbl + '</span>';\r\n\t\t},\r\n\r\n\t\tvalidate: function(/*Boolean*/ isFocused){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled by oninit, onblur, and onkeypress, and whenever required/disabled state changes\r\n\t\t\t// description:\r\n\t\t\t//\t\tShow missing or invalid messages if appropriate, and highlight textbox field.\r\n\t\t\t//\t\tUsed when a select is initially set to no value and the user is required to\r\n\t\t\t//\t\tset the value.\r\n\r\n\t\t\tvar isValid = this.disabled || this.isValid(isFocused);\r\n\t\t\tthis._set(\"state\", isValid ? \"\" : (this._hasBeenBlurred ? \"Error\" : \"Incomplete\"));\r\n\t\t\tthis.focusNode.setAttribute(\"aria-invalid\", isValid ? \"false\" : \"true\");\r\n\t\t\tvar message = isValid ? \"\" : this._missingMsg;\r\n\t\t\tif(message && this.focused && this._hasBeenBlurred){\r\n\t\t\t\tTooltip.show(message, this.domNode, this.tooltipPosition, !this.isLeftToRight());\r\n\t\t\t}else{\r\n\t\t\t\tTooltip.hide(this.domNode);\r\n\t\t\t}\r\n\t\t\tthis._set(\"message\", message);\r\n\t\t\treturn isValid;\r\n\t\t},\r\n\r\n\t\tisValid: function(/*Boolean*/ /*===== isFocused =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhether or not this is a valid value.  The only way a Select\r\n\t\t\t//\t\tcan be invalid is when it's required but nothing is selected.\r\n\t\t\treturn (!this.required || this.value === 0 || !(/^\\s*$/.test(this.value || \"\"))); // handle value is null or undefined\r\n\t\t},\r\n\r\n\t\treset: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridden so that the state will be cleared.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tTooltip.hide(this.domNode);\r\n\t\t\tthis._refreshState();\t// to update this.state\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tset the missing message\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._missingMsg = i18n.getLocalization(\"dijit.form\", \"validate\", this.lang).missingMessage;\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// stop mousemove from selecting text on IE to be consistent with other browsers\r\n\t\t\tthis.own(on(this.domNode, \"selectstart\", function(evt){\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t}));\r\n\r\n\t\t\tthis.domNode.setAttribute(\"aria-expanded\", \"false\");\r\n\r\n\t\t\t// Prevent _KeyNavMixin from calling stopPropagation() on left and right arrow keys, thus breaking\r\n\t\t\t// navigation when Select inside Toolbar.\r\n\t\t\tvar keyNavCodes = this._keyNavCodes;\r\n\t\t\tdelete keyNavCodes[keys.LEFT_ARROW];\r\n\t\t\tdelete keyNavCodes[keys.RIGHT_ARROW];\r\n\t\t},\r\n\r\n\t\t_setStyleAttr: function(/*String||Object*/ value){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomClass.toggle(this.domNode, this.baseClass.replace(/\\s+|$/g, \"FixedWidth \"), !!this.domNode.style.width);\r\n\t\t},\r\n\r\n\t\tisLoaded: function(){\r\n\t\t\treturn this._isLoaded;\r\n\t\t},\r\n\r\n\t\tloadDropDown: function(/*Function*/ loadCallback){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tpopulates the menu\r\n\t\t\tthis._loadChildren(true);\r\n\t\t\tthis._isLoaded = true;\r\n\t\t\tloadCallback();\r\n\t\t},\r\n\r\n\t\tdestroy: function(preserveDom){\r\n\t\t\tif(this.dropDown && !this.dropDown._destroyed){\r\n\t\t\t\tthis.dropDown.destroyRecursive(preserveDom);\r\n\t\t\t\tdelete this.dropDown;\r\n\t\t\t}\r\n\t\t\tTooltip.hide(this.domNode);\t// in case Select (or enclosing Dialog) destroyed while tooltip shown\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onFocus: function(){\r\n\t\t\tthis.validate(true);\t// show tooltip if second focus of required tooltip, but no selection\r\n\t\t\t// Note: not calling superclass _onFocus() to avoid _KeyNavMixin::_onFocus() setting tabIndex --> -1\r\n\t\t},\r\n\r\n\t\t_onBlur: function(){\r\n\t\t\tTooltip.hide(this.domNode);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.validate(false);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tSelect = declare(\"dijit.form.Select\", Select, {\r\n\t\t\t_setDisplay: function(/*String*/ newDisplay){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this.containerNode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tSelect._Menu = _SelectMenu;\t// for monkey patching\r\n\r\n\t// generic event helper to ensure the dropdown items are loaded before the real event handler is called\r\n\tfunction _onEventAfterLoad(method){\r\n\t\treturn function(evt){\r\n\t\t\tif(!this._isLoaded){\r\n\t\t\t\tthis.loadDropDown(lang.hitch(this, method, evt));\r\n\t\t\t}else{\r\n\t\t\t\tthis.inherited(method, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tSelect.prototype._onContainerKeydown = _onEventAfterLoad(\"_onContainerKeydown\");\r\n\tSelect.prototype._onContainerKeypress = _onEventAfterLoad(\"_onContainerKeypress\");\r\n\r\n\treturn Select;\r\n});\r\n\ndefine('dojo/dnd/move',[\r\n\t\"../_base/declare\",\r\n\t\"../dom-geometry\", \"../dom-style\",\r\n\t\"./common\", \"./Mover\", \"./Moveable\"\r\n], function(declare, domGeom, domStyle, dnd, Mover, Moveable){\r\n\r\n// module:\r\n//\t\tdojo/dnd/move\r\n\r\n/*=====\r\nvar __constrainedMoveableArgs = declare([Moveable.__MoveableArgs], {\r\n\t// constraints: Function\r\n\t//\t\tCalculates a constraint box.\r\n\t//\t\tIt is called in a context of the moveable object.\r\n\tconstraints: function(){},\r\n\r\n\t// within: Boolean\r\n\t//\t\trestrict move within boundaries.\r\n\twithin: false\r\n});\r\n=====*/\r\n\r\nvar constrainedMoveable = declare(\"dojo.dnd.move.constrainedMoveable\", Moveable, {\r\n\t// object attributes (for markup)\r\n\tconstraints: function(){},\r\n\twithin: false,\r\n\r\n\tconstructor: function(node, params){\r\n\t\t// summary:\r\n\t\t//\t\tan object that makes a node moveable\r\n\t\t// node: Node\r\n\t\t//\t\ta node (or node's id) to be moved\r\n\t\t// params: __constrainedMoveableArgs?\r\n\t\t//\t\tan optional object with additional parameters;\r\n\t\t//\t\tthe rest is passed to the base class\r\n\t\tif(!params){ params = {}; }\r\n\t\tthis.constraints = params.constraints;\r\n\t\tthis.within = params.within;\r\n\t},\r\n\tonFirstMove: function(/*Mover*/ mover){\r\n\t\t// summary:\r\n\t\t//\t\tcalled during the very first move notification;\r\n\t\t//\t\tcan be used to initialize coordinates, can be overwritten.\r\n\t\tvar c = this.constraintBox = this.constraints.call(this, mover);\r\n\t\tc.r = c.l + c.w;\r\n\t\tc.b = c.t + c.h;\r\n\t\tif(this.within){\r\n\t\t\tvar mb = domGeom.getMarginSize(mover.node);\r\n\t\t\tc.r -= mb.w;\r\n\t\t\tc.b -= mb.h;\r\n\t\t}\r\n\t},\r\n\tonMove: function(/*Mover*/ mover, /*Object*/ leftTop){\r\n\t\t// summary:\r\n\t\t//\t\tcalled during every move notification;\r\n\t\t//\t\tshould actually move the node; can be overwritten.\r\n\t\tvar c = this.constraintBox, s = mover.node.style;\r\n\t\tthis.onMoving(mover, leftTop);\r\n\t\tleftTop.l = leftTop.l < c.l ? c.l : c.r < leftTop.l ? c.r : leftTop.l;\r\n\t\tleftTop.t = leftTop.t < c.t ? c.t : c.b < leftTop.t ? c.b : leftTop.t;\r\n\t\ts.left = leftTop.l + \"px\";\r\n\t\ts.top  = leftTop.t + \"px\";\r\n\t\tthis.onMoved(mover, leftTop);\r\n\t}\r\n});\r\n\r\n/*=====\r\nvar __boxConstrainedMoveableArgs = declare([__constrainedMoveableArgs], {\r\n\t// box: Object\r\n\t//\t\ta constraint box\r\n\tbox: {}\r\n});\r\n=====*/\r\n\r\nvar boxConstrainedMoveable = declare(\"dojo.dnd.move.boxConstrainedMoveable\", constrainedMoveable, {\r\n\t// box:\r\n\t//\t\tobject attributes (for markup)\r\n\tbox: {},\r\n\r\n\tconstructor: function(node, params){\r\n\t\t// summary:\r\n\t\t//\t\tan object, which makes a node moveable\r\n\t\t// node: Node\r\n\t\t//\t\ta node (or node's id) to be moved\r\n\t\t// params: __boxConstrainedMoveableArgs?\r\n\t\t//\t\tan optional object with parameters\r\n\t\tvar box = params && params.box;\r\n\t\tthis.constraints = function(){ return box; };\r\n\t}\r\n});\r\n\r\n/*=====\r\nvar __parentConstrainedMoveableArgs = declare( [__constrainedMoveableArgs], {\r\n\t// area: String\r\n\t//\t\tA parent's area to restrict the move.\r\n\t//\t\tCan be \"margin\", \"border\", \"padding\", or \"content\".\r\n\tarea: \"\"\r\n});\r\n=====*/\r\n\r\nvar parentConstrainedMoveable = declare(\"dojo.dnd.move.parentConstrainedMoveable\", constrainedMoveable, {\r\n\t// area:\r\n\t//\t\tobject attributes (for markup)\r\n\tarea: \"content\",\r\n\r\n\tconstructor: function(node, params){\r\n\t\t// summary:\r\n\t\t//\t\tan object, which makes a node moveable\r\n\t\t// node: Node\r\n\t\t//\t\ta node (or node's id) to be moved\r\n\t\t// params: __parentConstrainedMoveableArgs?\r\n\t\t//\t\tan optional object with parameters\r\n\t\tvar area = params && params.area;\r\n\t\tthis.constraints = function(){\r\n\t\t\tvar n = this.node.parentNode,\r\n\t\t\t\ts = domStyle.getComputedStyle(n),\r\n\t\t\t\tmb = domGeom.getMarginBox(n, s);\r\n\t\t\tif(area == \"margin\"){\r\n\t\t\t\treturn mb;\t// Object\r\n\t\t\t}\r\n\t\t\tvar t = domGeom.getMarginExtents(n, s);\r\n\t\t\tmb.l += t.l, mb.t += t.t, mb.w -= t.w, mb.h -= t.h;\r\n\t\t\tif(area == \"border\"){\r\n\t\t\t\treturn mb;\t// Object\r\n\t\t\t}\r\n\t\t\tt = domGeom.getBorderExtents(n, s);\r\n\t\t\tmb.l += t.l, mb.t += t.t, mb.w -= t.w, mb.h -= t.h;\r\n\t\t\tif(area == \"padding\"){\r\n\t\t\t\treturn mb;\t// Object\r\n\t\t\t}\r\n\t\t\tt = domGeom.getPadExtents(n, s);\r\n\t\t\tmb.l += t.l, mb.t += t.t, mb.w -= t.w, mb.h -= t.h;\r\n\t\t\treturn mb;\t// Object\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\nreturn {\r\n\t// summary:\r\n\t//\t\tTODOC\r\n\tconstrainedMoveable: constrainedMoveable,\r\n\tboxConstrainedMoveable: boxConstrainedMoveable,\r\n\tparentConstrainedMoveable: parentConstrainedMoveable\r\n};\r\n\r\n});\r\n\n\ndefine('dijit/form/HorizontalSlider',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dnd/move\",\r\n\t\"dojo/_base/fx\", // fx.animateProperty\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.END keys.HOME keys.LEFT_ARROW keys.PAGE_DOWN keys.PAGE_UP keys.RIGHT_ARROW keys.UP_ARROW\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mozilla\")\r\n\t\"dojo/dnd/Moveable\", // Moveable\r\n\t\"dojo/dnd/Mover\", // Mover Mover.prototype.destroy.apply\r\n\t\"dojo/query\", // query\r\n\t\"dojo/mouse\", // mouse.wheel\r\n\t\"dojo/on\",\r\n\t\"../_base/manager\", // defaultDuration\r\n\t\"../focus\", // focus.focus()\r\n\t\"../typematic\",\r\n\t\"./Button\",\r\n\t\"./_FormValueWidget\",\r\n\t\"../_Container\",\r\n\t\"dojo/text!./templates/HorizontalSlider.html\"\r\n], function(array, declare, move, fx, domGeometry, domStyle, keys, lang, has, Moveable, Mover, query, mouse, on,\r\n\t\t\tmanager, focus, typematic, Button, _FormValueWidget, _Container, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/HorizontalSlider\r\n\r\n\tvar _SliderMover = declare(\"dijit.form._SliderMover\", Mover, {\r\n\t\tonMouseMove: function(e){\r\n\t\t\tvar widget = this.widget;\r\n\t\t\tvar abspos = widget._abspos;\r\n\t\t\tif(!abspos){\r\n\t\t\t\tabspos = widget._abspos = domGeometry.position(widget.sliderBarContainer, true);\r\n\t\t\t\twidget._setPixelValue_ = lang.hitch(widget, \"_setPixelValue\");\r\n\t\t\t\twidget._isReversed_ = widget._isReversed();\r\n\t\t\t}\r\n\t\t\tvar pixelValue = e[widget._mousePixelCoord] - abspos[widget._startingPixelCoord];\r\n\t\t\twidget._setPixelValue_(widget._isReversed_ ? (abspos[widget._pixelCount] - pixelValue) : pixelValue, abspos[widget._pixelCount], false);\r\n\t\t},\r\n\r\n\t\tdestroy: function(e){\r\n\t\t\tMover.prototype.destroy.apply(this, arguments);\r\n\t\t\tvar widget = this.widget;\r\n\t\t\twidget._abspos = null;\r\n\t\t\twidget._setValueAttr(widget.value, true);\r\n\t\t}\r\n\t});\r\n\r\n\tvar HorizontalSlider = declare(\"dijit.form.HorizontalSlider\", [_FormValueWidget, _Container], {\r\n\t\t// summary:\r\n\t\t//\t\tA form widget that allows one to select a value with a horizontally draggable handle\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Overrides FormValueWidget.value to indicate numeric value\r\n\t\tvalue: 0,\r\n\r\n\t\t// showButtons: [const] Boolean\r\n\t\t//\t\tShow increment/decrement buttons at the ends of the slider?\r\n\t\tshowButtons: true,\r\n\r\n\t\t// minimum: [const] Integer\r\n\t\t//\t\tThe minimum value the slider can be set to.\r\n\t\tminimum: 0,\r\n\r\n\t\t// maximum: [const] Integer\r\n\t\t//\t\tThe maximum value the slider can be set to.\r\n\t\tmaximum: 100,\r\n\r\n\t\t// discreteValues: Integer\r\n\t\t//\t\tIf specified, indicates that the slider handle has only 'discreteValues' possible positions,\r\n\t\t//\t\tand that after dragging the handle, it will snap to the nearest possible position.\r\n\t\t//\t\tThus, the slider has only 'discreteValues' possible values.\r\n\t\t//\r\n\t\t//\t\tFor example, if minimum=10, maxiumum=30, and discreteValues=3, then the slider handle has\r\n\t\t//\t\tthree possible positions, representing values 10, 20, or 30.\r\n\t\t//\r\n\t\t//\t\tIf discreteValues is not specified or if it's value is higher than the number of pixels\r\n\t\t//\t\tin the slider bar, then the slider handle can be moved freely, and the slider's value will be\r\n\t\t//\t\tcomputed/reported based on pixel position (in this case it will likely be fractional,\r\n\t\t//\t\tsuch as 123.456789).\r\n\t\tdiscreteValues: Infinity,\r\n\r\n\t\t// pageIncrement: Integer\r\n\t\t//\t\tIf discreteValues is also specified, this indicates the amount of clicks (ie, snap positions)\r\n\t\t//\t\tthat the slider handle is moved via pageup/pagedown keys.\r\n\t\t//\t\tIf discreteValues is not specified, it indicates the number of pixels.\r\n\t\tpageIncrement: 2,\r\n\r\n\t\t// clickSelect: Boolean\r\n\t\t//\t\tIf clicking the slider bar changes the value or not\r\n\t\tclickSelect: true,\r\n\r\n\t\t// slideDuration: Number\r\n\t\t//\t\tThe time in ms to take to animate the slider handle from 0% to 100%,\r\n\t\t//\t\twhen clicking the slider bar to make the handle move.\r\n\t\tslideDuration: manager.defaultDuration,\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setIdAttr: \"\", // Override _FormWidget which sends id to focusNode\r\n\t\t_setNameAttr: \"valueNode\", // Override default behavior to send to focusNode\r\n\r\n\t\tbaseClass: \"dijitSlider\",\r\n\r\n\t\t// Apply CSS classes to up/down arrows and handle per mouse state\r\n\t\tcssStateNodes: {\r\n\t\t\tincrementButton: \"dijitSliderIncrementButton\",\r\n\t\t\tdecrementButton: \"dijitSliderDecrementButton\",\r\n\t\t\tfocusNode: \"dijitSliderThumb\"\r\n\t\t},\r\n\r\n\t\t_mousePixelCoord: \"pageX\",\r\n\t\t_pixelCount: \"w\",\r\n\t\t_startingPixelCoord: \"x\",\r\n\t\t_handleOffsetCoord: \"left\",\r\n\t\t_progressPixelSize: \"width\",\r\n\r\n\t\t_onKeyUp: function(/*Event*/ e){\r\n\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setValueAttr(this.value, true);\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(/*Event*/ e){\r\n\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswitch(e.keyCode){\r\n\t\t\t\tcase keys.HOME:\r\n\t\t\t\t\tthis._setValueAttr(this.minimum, false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.END:\r\n\t\t\t\t\tthis._setValueAttr(this.maximum, false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// this._descending === false: if ascending vertical (min on top)\r\n\t\t\t\t// (this._descending || this.isLeftToRight()): if left-to-right horizontal or descending vertical\r\n\t\t\t\tcase ((this._descending || this.isLeftToRight()) ? keys.RIGHT_ARROW : keys.LEFT_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.DOWN_ARROW : keys.UP_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.PAGE_DOWN : keys.PAGE_UP):\r\n\t\t\t\t\tthis.increment(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ((this._descending || this.isLeftToRight()) ? keys.LEFT_ARROW : keys.RIGHT_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.UP_ARROW : keys.DOWN_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.PAGE_UP : keys.PAGE_DOWN):\r\n\t\t\t\t\tthis.decrement(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\t_onHandleClick: function(e){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!has(\"ie\")){\r\n\t\t\t\t// make sure you get focus when dragging the handle\r\n\t\t\t\t// (but don't do on IE because it causes a flicker on mouse up (due to blur then focus)\r\n\t\t\t\tfocus.focus(this.sliderHandle);\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\t_isReversed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if direction is from right to left\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn !this.isLeftToRight();\r\n\t\t},\r\n\r\n\t\t_onBarClick: function(e){\r\n\t\t\tif(this.disabled || this.readOnly || !this.clickSelect){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfocus.focus(this.sliderHandle);\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tvar abspos = domGeometry.position(this.sliderBarContainer, true);\r\n\t\t\tvar pixelValue = e[this._mousePixelCoord] - abspos[this._startingPixelCoord];\r\n\t\t\tthis._setPixelValue(this._isReversed() ? (abspos[this._pixelCount] - pixelValue) : pixelValue, abspos[this._pixelCount], true);\r\n\t\t\tthis._movable.onMouseDown(e);\r\n\t\t},\r\n\r\n\t\t_setPixelValue: function(/*Number*/ pixelValue, /*Number*/ maxPixels, /*Boolean?*/ priorityChange){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar count = this.discreteValues;\r\n\t\t\tif(count <= 1 || count == Infinity){\r\n\t\t\t\tcount = maxPixels;\r\n\t\t\t}\r\n\t\t\tcount--;\r\n\t\t\tvar pixelsPerValue = maxPixels / count;\r\n\t\t\tvar wholeIncrements = Math.round(pixelValue / pixelsPerValue);\r\n\t\t\tthis._setValueAttr(Math.max(Math.min((this.maximum - this.minimum) * wholeIncrements / count + this.minimum, this.maximum), this.minimum), priorityChange);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Number*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', value) works.\r\n\t\t\tthis._set(\"value\", value);\r\n\t\t\tthis.valueNode.value = value;\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuenow\", value);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar percent = this.maximum > this.minimum ? ((value - this.minimum) / (this.maximum - this.minimum)) : 0;\r\n\t\t\tvar progressBar = (this._descending === false) ? this.remainingBar : this.progressBar;\r\n\t\t\tvar remainingBar = (this._descending === false) ? this.progressBar : this.remainingBar;\r\n\t\t\tif(this._inProgressAnim && this._inProgressAnim.status != \"stopped\"){\r\n\t\t\t\tthis._inProgressAnim.stop(true);\r\n\t\t\t}\r\n\t\t\tif(priorityChange && this.slideDuration > 0 && progressBar.style[this._progressPixelSize]){\r\n\t\t\t\t// animate the slider\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tvar props = {};\r\n\t\t\t\tvar start = parseFloat(progressBar.style[this._progressPixelSize]);\r\n\t\t\t\tvar duration = this.slideDuration * (percent - start / 100);\r\n\t\t\t\tif(duration == 0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(duration < 0){\r\n\t\t\t\t\tduration = 0 - duration;\r\n\t\t\t\t}\r\n\t\t\t\tprops[this._progressPixelSize] = { start: start, end: percent * 100, units: \"%\" };\r\n\t\t\t\tthis._inProgressAnim = fx.animateProperty({ node: progressBar, duration: duration,\r\n\t\t\t\t\tonAnimate: function(v){\r\n\t\t\t\t\t\tremainingBar.style[_this._progressPixelSize] = (100 - parseFloat(v[_this._progressPixelSize])) + \"%\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonEnd: function(){\r\n\t\t\t\t\t\tdelete _this._inProgressAnim;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: props\r\n\t\t\t\t});\r\n\t\t\t\tthis._inProgressAnim.play();\r\n\t\t\t}else{\r\n\t\t\t\tprogressBar.style[this._progressPixelSize] = (percent * 100) + \"%\";\r\n\t\t\t\tremainingBar.style[this._progressPixelSize] = ((1 - percent) * 100) + \"%\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_bumpValue: function(signedChange, /*Boolean?*/ priorityChange){\r\n\t\t\tif(this.disabled || this.readOnly || (this.maximum <= this.minimum)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar s = domStyle.getComputedStyle(this.sliderBarContainer);\r\n\t\t\tvar c = domGeometry.getContentBox(this.sliderBarContainer, s);\r\n\t\t\tvar count = this.discreteValues;\r\n\t\t\tif(count <= 1 || count == Infinity){\r\n\t\t\t\tcount = c[this._pixelCount];\r\n\t\t\t}\r\n\t\t\tcount--;\r\n\t\t\tvar value = (this.value - this.minimum) * count / (this.maximum - this.minimum) + signedChange;\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\t\t\tif(value > count){\r\n\t\t\t\tvalue = count;\r\n\t\t\t}\r\n\t\t\tvalue = value * (this.maximum - this.minimum) / count + this.minimum;\r\n\t\t\tthis._setValueAttr(value, priorityChange);\r\n\t\t},\r\n\r\n\t\t_onClkBumper: function(val){\r\n\t\t\tif(this.disabled || this.readOnly || !this.clickSelect){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setValueAttr(val, true);\r\n\t\t},\r\n\r\n\t\t_onClkIncBumper: function(){\r\n\t\t\tthis._onClkBumper(this._descending === false ? this.minimum : this.maximum);\r\n\t\t},\r\n\r\n\t\t_onClkDecBumper: function(){\r\n\t\t\tthis._onClkBumper(this._descending === false ? this.maximum : this.minimum);\r\n\t\t},\r\n\r\n\t\tdecrement: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDecrement slider\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._bumpValue(e.keyCode == keys.PAGE_DOWN ? -this.pageIncrement : -1);\r\n\t\t},\r\n\r\n\t\tincrement: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIncrement slider\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._bumpValue(e.keyCode == keys.PAGE_UP ? this.pageIncrement : 1);\r\n\t\t},\r\n\r\n\t\t_mouseWheeled: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent handler for mousewheel where supported\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis._bumpValue(evt.wheelDelta < 0 ? -1 : 1, true); // negative scroll acts like a decrement\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tif(this[child.container] != this.containerNode){\r\n\t\t\t\t\tthis[child.container].appendChild(child.domNode);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_typematicCallback: function(/*Number*/ count, /*Object*/ button, /*Event*/ e){\r\n\t\t\tif(count == -1){\r\n\t\t\t\tthis._setValueAttr(this.value, true);\r\n\t\t\t}else{\r\n\t\t\t\tthis[(button == (this._descending ? this.incrementButton : this.decrementButton)) ? \"decrement\" : \"increment\"](e);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.showButtons){\r\n\t\t\t\tthis.incrementButton.style.display = \"\";\r\n\t\t\t\tthis.decrementButton.style.display = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// find any associated label element and add to slider focusnode.\r\n\t\t\tvar label = query('label[for=\"' + this.id + '\"]');\r\n\t\t\tif(label.length){\r\n\t\t\t\tif(!label[0].id){\r\n\t\t\t\t\tlabel[0].id = this.id + \"_label\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.focusNode.setAttribute(\"aria-labelledby\", label[0].id);\r\n\t\t\t}\r\n\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuemin\", this.minimum);\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuemax\", this.maximum);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this.showButtons){\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\ttypematic.addMouseListener(this.decrementButton, this, \"_typematicCallback\", 25, 500),\r\n\t\t\t\t\ttypematic.addMouseListener(this.incrementButton, this, \"_typematicCallback\", 25, 500)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, mouse.wheel, lang.hitch(this, \"_mouseWheeled\"))\r\n\t\t\t);\r\n\r\n\t\t\t// define a custom constructor for a SliderMover that points back to me\r\n\t\t\tvar mover = declare(_SliderMover, {\r\n\t\t\t\twidget: this\r\n\t\t\t});\r\n\t\t\tthis._movable = new Moveable(this.sliderHandle, {mover: mover});\r\n\r\n\t\t\tthis._layoutHackIE7();\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis._movable.destroy();\r\n\t\t\tif(this._inProgressAnim && this._inProgressAnim.status != \"stopped\"){\r\n\t\t\t\tthis._inProgressAnim.stop(true);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tHorizontalSlider._Mover = _SliderMover;\t// for monkey patching\r\n\r\n\treturn HorizontalSlider;\r\n});\r\n\n\ndefine('dijit/form/VerticalSlider',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./HorizontalSlider\",\r\n\t\"dojo/text!./templates/VerticalSlider.html\"\r\n], function(declare, HorizontalSlider, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/VerticalSlider\r\n\r\n\treturn declare(\"dijit.form.VerticalSlider\", HorizontalSlider, {\r\n\t\t// summary:\r\n\t\t//\t\tA form widget that allows one to select a value with a vertically draggable handle\r\n\r\n\t\ttemplateString: template,\r\n\t\t_mousePixelCoord: \"pageY\",\r\n\t\t_pixelCount: \"h\",\r\n\t\t_startingPixelCoord: \"y\",\r\n\t\t_handleOffsetCoord: \"top\",\r\n\t\t_progressPixelSize: \"height\",\r\n\r\n\t\t// _descending: Boolean\r\n\t\t//\t\tSpecifies if the slider values go from high-on-top (true), or low-on-top (false)\r\n\t\t//\t\tTODO: expose this in 1.2 - the css progress/remaining bar classes need to be reversed\r\n\t\t_descending: true,\r\n\r\n\t\t_isReversed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides HorizontalSlider._isReversed.\r\n\t\t\t//\t\tIndicates if values are high on top (with low numbers on the bottom).\r\n\t\t\treturn this._descending;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/HorizontalRule',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"../_Widget\",\r\n\t\"../_TemplatedMixin\"\r\n], function(declare, _Widget, _TemplatedMixin){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/HorizontalRule\r\n\r\n\treturn declare(\"dijit.form.HorizontalRule\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tHash marks for `dijit/form/HorizontalSlider`\r\n\r\n\t\ttemplateString: '<div class=\"dijitRuleContainer dijitRuleContainerH\"></div>',\r\n\r\n\t\t// count: Integer\r\n\t\t//\t\tNumber of hash marks to generate\r\n\t\tcount: 3,\r\n\r\n\t\t// container: String\r\n\t\t//\t\tFor HorizontalSlider, this is either \"topDecoration\" or \"bottomDecoration\",\r\n\t\t//\t\tand indicates whether this rule goes above or below the slider.\r\n\t\tcontainer: \"containerNode\",\r\n\r\n\t\t// ruleStyle: String\r\n\t\t//\t\tCSS style to apply to individual hash marks\r\n\t\truleStyle: \"\",\r\n\r\n\t\t_positionPrefix: '<div class=\"dijitRuleMark dijitRuleMarkH\" style=\"left:',\r\n\t\t_positionSuffix: '%;',\r\n\t\t_suffix: '\"></div>',\r\n\r\n\t\t_genHTML: function(pos){\r\n\t\t\treturn this._positionPrefix + pos + this._positionSuffix + this.ruleStyle + this._suffix;\r\n\t\t},\r\n\r\n\t\t// _isHorizontal: [protected extension] Boolean\r\n\t\t//\t\tVerticalRule will override this...\r\n\t\t_isHorizontal: true,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar innerHTML;\r\n\t\t\tif(this.count == 1){\r\n\t\t\t\tinnerHTML = this._genHTML(50, 0);\r\n\t\t\t}else{\r\n\t\t\t\tvar i;\r\n\t\t\t\tvar interval = 100 / (this.count - 1);\r\n\t\t\t\tif(!this._isHorizontal || this.isLeftToRight()){\r\n\t\t\t\t\tinnerHTML = this._genHTML(0, 0);\r\n\t\t\t\t\tfor(i = 1; i < this.count - 1; i++){\r\n\t\t\t\t\t\tinnerHTML += this._genHTML(interval * i, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinnerHTML += this._genHTML(100, this.count - 1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tinnerHTML = this._genHTML(100, 0);\r\n\t\t\t\t\tfor(i = 1; i < this.count - 1; i++){\r\n\t\t\t\t\t\tinnerHTML += this._genHTML(100 - interval * i, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinnerHTML += this._genHTML(0, this.count - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.domNode.innerHTML = innerHTML;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/VerticalRule',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./HorizontalRule\"\r\n], function(declare, HorizontalRule){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/VerticalRule\r\n\r\n\treturn declare(\"dijit.form.VerticalRule\", HorizontalRule, {\r\n\t\t// summary:\r\n\t\t//\t\tHash marks for the `dijit/form/VerticalSlider`\r\n\r\n\t\ttemplateString: '<div class=\"dijitRuleContainer dijitRuleContainerV\"></div>',\r\n\t\t_positionPrefix: '<div class=\"dijitRuleMark dijitRuleMarkV\" style=\"top:',\r\n\r\n\t/*=====\r\n\t\t// container: String\r\n\t\t//\t\tThis is either \"leftDecoration\" or \"rightDecoration\",\r\n\t\t//\t\tto indicate whether this rule goes to the left or to the right of the slider.\r\n\t\t//\t\tNote that on RTL system, \"leftDecoration\" would actually go to the right, and vice-versa.\r\n\t\tcontainer: \"\",\r\n\t=====*/\r\n\r\n\t\t// Overrides HorizontalRule._isHorizontal\r\n\t\t_isHorizontal: false\r\n\r\n\t});\r\n});\r\n\ndefine('dijit/form/HorizontalRuleLabels',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/has\",\r\n\t\"dojo/number\", // number.format\r\n\t\"dojo/query\", // query\r\n\t\"dojo/_base/lang\", // lang\r\n\t\"./HorizontalRule\"\r\n], function(declare, has, number, query, lang, HorizontalRule){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/HorizontalRuleLabels\r\n\r\n\tvar HorizontalRuleLabels = declare(\"dijit.form.HorizontalRuleLabels\", HorizontalRule, {\r\n\t\t// summary:\r\n\t\t//\t\tLabels for `dijit/form/HorizontalSlider`\r\n\r\n\t\ttemplateString: '<div class=\"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH\"></div>',\r\n\r\n\t\t// labelStyle: String\r\n\t\t//\t\tCSS style to apply to individual text labels\r\n\t\tlabelStyle: \"\",\r\n\r\n\t\t// labels: String[]?\r\n\t\t//\t\tArray of text labels to render - evenly spaced from left-to-right or bottom-to-top.\r\n\t\t//\t\tAlternately, minimum and maximum can be specified, to get numeric labels.\r\n\t\tlabels: [],\r\n\r\n\t\t// numericMargin: Integer\r\n\t\t//\t\tNumber of generated numeric labels that should be rendered as '' on the ends when labels[] are not specified\r\n\t\tnumericMargin: 0,\r\n\r\n\t\t// numericMinimum: Integer\r\n\t\t//\t\tLeftmost label value for generated numeric labels when labels[] are not specified\r\n\t\tminimum: 0,\r\n\r\n\t\t// numericMaximum: Integer\r\n\t\t//\t\tRightmost label value for generated numeric labels when labels[] are not specified\r\n\t\tmaximum: 1,\r\n\r\n\t\t// constraints: Object\r\n\t\t//\t\tpattern, places, lang, et al (see dojo.number) for generated numeric labels when labels[] are not specified\r\n\t\tconstraints: {pattern: \"#%\"},\r\n\r\n\t\t_positionPrefix: '<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerH\" style=\"left:',\r\n\t\t_labelPrefix: '\"><div class=\"dijitRuleLabel dijitRuleLabelH\">',\r\n\t\t_suffix: '</div></div>',\r\n\r\n\t\t_calcPosition: function(pos){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the value to be used in HTML for the label as part of the left: attribute\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn pos;\r\n\t\t},\r\n\r\n\t\t_genHTML: function(pos, ndx){\r\n\t\t\tvar label = this.labels[ndx];\r\n\t\t\treturn this._positionPrefix + this._calcPosition(pos) + this._positionSuffix + this.labelStyle +\r\n\t\t\t\tthis._genDirectionHTML(label) +\r\n\t\t\t\tthis._labelPrefix + label + this._suffix;\r\n\t\t},\r\n\r\n\t\t_genDirectionHTML: function(label){\r\n\t\t\t// extension point for bidi code\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\tgetLabels: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverridable function to return array of labels to use for this slider.\r\n\t\t\t//\t\tCan specify a getLabels() method instead of a labels[] array, or min/max attributes.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\t// if the labels array was not specified directly, then see if <li> children were\r\n\t\t\tvar labels = this.labels;\r\n\t\t\tif(!labels.length && this.srcNodeRef){\r\n\t\t\t\t// for markup creation, labels are specified as child elements\r\n\t\t\t\tlabels = query(\"> li\", this.srcNodeRef).map(function(node){\r\n\t\t\t\t\treturn String(node.innerHTML);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// if the labels were not specified directly and not as <li> children, then calculate numeric labels\r\n\t\t\tif(!labels.length && this.count > 1){\r\n\t\t\t\tvar start = this.minimum;\r\n\t\t\t\tvar inc = (this.maximum - start) / (this.count - 1);\r\n\t\t\t\tfor(var i = 0; i < this.count; i++){\r\n\t\t\t\t\tlabels.push((i < this.numericMargin || i >= (this.count - this.numericMargin)) ? '' : number.format(start, this.constraints));\r\n\t\t\t\t\tstart += inc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn labels;\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.labels = this.getLabels();\r\n\t\t\tthis.count = this.labels.length;\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tHorizontalRuleLabels.extend({\r\n\t\t\t_setTextDirAttr: function(textDir){\r\n\t\t\t\tif(this.textDir != textDir){\r\n\t\t\t\t\tthis._set(\"textDir\", textDir);\r\n\t\t\t\t\tquery(\".dijitRuleLabelContainer\", this.domNode).forEach(\r\n\t\t\t\t\t\tlang.hitch(this, function(labelNode){\r\n\t\t\t\t\t\t\tlabelNode.style.direction = this.getTextDir(labelNode.innerText || labelNode.textContent || \"\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t_genDirectionHTML: function(label){\r\n\t\t\t\treturn (this.textDir ? (\"direction:\" + this.getTextDir(label) + \";\") : \"\")\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn HorizontalRuleLabels;\r\n});\r\n\ndefine('dijit/form/VerticalRuleLabels',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./HorizontalRuleLabels\"\r\n], function(declare, HorizontalRuleLabels){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/VerticalRuleLabels\r\n\r\n\treturn declare(\"dijit.form.VerticalRuleLabels\", HorizontalRuleLabels, {\r\n\t\t// summary:\r\n\t\t//\t\tLabels for the `dijit/form/VerticalSlider`\r\n\r\n\t\ttemplateString: '<div class=\"dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV\"></div>',\r\n\r\n\t\t_positionPrefix: '<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerV\" style=\"top:',\r\n\t\t_labelPrefix: '\"><span class=\"dijitRuleLabel dijitRuleLabelV\">',\r\n\r\n\t\t_calcPosition: function(pos){\r\n\t\t\t// Overrides HorizontalRuleLabel._calcPosition()\r\n\t\t\treturn 100-pos;\r\n\t\t},\r\n\r\n\t\t// needed to prevent labels from being reversed in RTL mode\r\n\t\t_isHorizontal: false\r\n\t});\r\n});\r\n\ndefine('dijit/form/SimpleTextarea',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"opera\")\r\n\t\"./TextBox\"\r\n], function(declare, domClass, has, TextBox){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/SimpleTextarea\r\n\r\n\treturn declare(\"dijit.form.SimpleTextarea\", TextBox, {\r\n\t\t// summary:\r\n\t\t//\t\tA simple textarea that degrades, and responds to\r\n\t\t//\t\tminimal LayoutContainer usage, and works with dijit/form/Form.\r\n\t\t//\t\tDoesn't automatically size according to input, like Textarea.\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t<textarea data-dojo-type=\"dijit/form/SimpleTextarea\" name=\"foo\" value=\"bar\" rows=30 cols=40></textarea>\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\tnew SimpleTextarea({ rows:20, cols:30 }, \"foo\");\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitTextArea\",\r\n\r\n\t\t// rows: Number\r\n\t\t//\t\tThe number of rows of text.\r\n\t\trows: \"3\",\r\n\r\n\t\t// rows: Number\r\n\t\t//\t\tThe number of characters per line.\r\n\t\tcols: \"20\",\r\n\r\n\t\ttemplateString: \"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>\",\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// Copy value from srcNodeRef, unless user specified a value explicitly (or there is no srcNodeRef)\r\n\t\t\t// TODO: parser will handle this in 2.0\r\n\t\t\tif(!this.value && this.srcNodeRef){\r\n\t\t\t\tthis.value = this.srcNodeRef.value;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(has(\"ie\") && this.cols){ // attribute selectors is not supported in IE6\r\n\t\t\t\tdomClass.add(this.textbox, \"dijitTextAreaCols\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfilter: function(/*String*/ value){\r\n\t\t\t// Override TextBox.filter to deal with newlines... specifically (IIRC) this is for IE which writes newlines\r\n\t\t\t// as \\r\\n instead of just \\n\r\n\t\t\tif(value){\r\n\t\t\t\tvalue = value.replace(/\\r/g, \"\");\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_onInput: function(/*Event?*/ e){\r\n\t\t\t// Override TextBox._onInput() to enforce maxLength restriction\r\n\t\t\tif(this.maxLength){\r\n\t\t\t\tvar maxLength = parseInt(this.maxLength);\r\n\t\t\t\tvar value = this.textbox.value.replace(/\\r/g, '');\r\n\t\t\t\tvar overflow = value.length - maxLength;\r\n\t\t\t\tif(overflow > 0){\r\n\t\t\t\t\tvar textarea = this.textbox;\r\n\t\t\t\t\tif(textarea.selectionStart){\r\n\t\t\t\t\t\tvar pos = textarea.selectionStart;\r\n\t\t\t\t\t\tvar cr = 0;\r\n\t\t\t\t\t\tif(has(\"opera\")){\r\n\t\t\t\t\t\t\tcr = (this.textbox.value.substring(0, pos).match(/\\r/g) || []).length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.textbox.value = value.substring(0, pos - overflow - cr) + value.substring(pos - cr);\r\n\t\t\t\t\t\ttextarea.setSelectionRange(pos - overflow, pos - overflow);\r\n\t\t\t\t\t}else if(this.ownerDocument.selection){ //IE\r\n\t\t\t\t\t\ttextarea.focus();\r\n\t\t\t\t\t\tvar range = this.ownerDocument.selection.createRange();\r\n\t\t\t\t\t\t// delete overflow characters\r\n\t\t\t\t\t\trange.moveStart(\"character\", -overflow);\r\n\t\t\t\t\t\trange.text = '';\r\n\t\t\t\t\t\t// show cursor\r\n\t\t\t\t\t\trange.select();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/_ExpandingTextAreaMixin',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-construct\", // domConstruct.create\r\n\t\"dojo/has\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"../Viewport\"\r\n], function(declare, domConstruct, has, lang, on, win, Viewport){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ExpandingTextAreaMixin\r\n\r\n\t// feature detection, true for mozilla and webkit\r\n\thas.add(\"textarea-needs-help-shrinking\", function(){\r\n\t\tvar body = win.body(),\t// note: if multiple documents exist, doesn't matter which one we use\r\n\t\t\tte = domConstruct.create('textarea', {\r\n\t\t\trows:\"5\",\r\n\t\t\tcols:\"20\",\r\n\t\t\tvalue: ' ',\r\n\t\t\tstyle: {zoom:1, fontSize:\"12px\", height:\"96px\", overflow:'hidden', visibility:'hidden', position:'absolute', border:\"5px solid white\", margin:\"0\", padding:\"0\", boxSizing: 'border-box', MsBoxSizing: 'border-box', WebkitBoxSizing: 'border-box', MozBoxSizing: 'border-box' }\r\n\t\t}, body, \"last\");\r\n\t\tvar needsHelpShrinking = te.scrollHeight >= te.clientHeight;\r\n\t\tbody.removeChild(te);\r\n\t\treturn needsHelpShrinking;\r\n\t});\r\n\r\n\treturn declare(\"dijit.form._ExpandingTextAreaMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for textarea widgets to add auto-expanding capability\r\n\r\n\t\t_setValueAttr: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar textarea = this.textbox;\r\n\t\t\ttextarea.style.overflowY = \"hidden\";\r\n\t\t\tthis.own(on(textarea, \"focus, resize\", lang.hitch(this, \"_resizeLater\")));\r\n\t\t},\r\n\r\n\t\tstartup: function(){ \r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.own(Viewport.on(\"resize\", lang.hitch(this, \"_resizeLater\")));\r\n\t\t\tthis._resizeLater();\r\n\t\t},\r\n\r\n\t\t_onInput: function(e){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t_estimateHeight: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tApproximate the height when the textarea is invisible with the number of lines in the text.\r\n\t\t\t//\t\tFails when someone calls setValue with a long wrapping line, but the layout fixes itself when the user clicks inside so . . .\r\n\t\t\t//\t\tIn IE, the resize event is supposed to fire when the textarea becomes visible again and that will correct the size automatically.\r\n\t\t\t//\r\n\t\t\tvar textarea = this.textbox;\r\n\t\t\t// #rows = #newlines+1\r\n\t\t\ttextarea.rows = (textarea.value.match(/\\n/g) || []).length + 1;\r\n\t\t},\r\n\r\n\t\t_resizeLater: function(){\r\n\t\t\tthis.defer(\"resize\");\r\n\t\t},\r\n\r\n\t\tresize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tResizes the textarea vertically (should be called after a style/value change)\r\n\r\n\t\t\tvar textarea = this.textbox;\r\n\r\n\t\t\tfunction textareaScrollHeight(){\r\n\t\t\t\tvar empty = false;\r\n\t\t\t\tif(textarea.value === ''){\r\n\t\t\t\t\ttextarea.value = ' ';\r\n\t\t\t\t\tempty = true;\r\n\t\t\t\t}\r\n\t\t\t\tvar sh = textarea.scrollHeight;\r\n\t\t\t\tif(empty){ textarea.value = ''; }\r\n\t\t\t\treturn sh;\r\n\t\t\t}\r\n\r\n\t\t\tif(textarea.style.overflowY == \"hidden\"){ textarea.scrollTop = 0; }\r\n\t\t\tif(this.busyResizing){ return; }\r\n\t\t\tthis.busyResizing = true;\r\n\t\t\tif(textareaScrollHeight() || textarea.offsetHeight){\r\n\t\t\t\tvar newH = textareaScrollHeight() + Math.max(textarea.offsetHeight - textarea.clientHeight, 0);\r\n\t\t\t\tvar newHpx = newH + \"px\";\r\n\t\t\t\tif(newHpx != textarea.style.height){\r\n\t\t\t\t\ttextarea.style.height = newHpx;\r\n\t\t\t\t\ttextarea.rows = 1; // rows can act like a minHeight if not cleared\r\n\t\t\t\t}\r\n\t\t\t\tif(has(\"textarea-needs-help-shrinking\")){\r\n\t\t\t\t\tvar\torigScrollHeight = textareaScrollHeight(),\r\n\t\t\t\t\t\tnewScrollHeight = origScrollHeight,\r\n\t\t\t\t\t\torigMinHeight = textarea.style.minHeight,\r\n\t\t\t\t\t\tdecrement = 4, // not too fast, not too slow\r\n\t\t\t\t\t\tthisScrollHeight,\r\n\t\t\t\t\t\torigScrollTop = textarea.scrollTop;\r\n\t\t\t\t\ttextarea.style.minHeight = newHpx; // maintain current height\r\n\t\t\t\t\ttextarea.style.height = \"auto\"; // allow scrollHeight to change\r\n\t\t\t\t\twhile(newH > 0){\r\n\t\t\t\t\t\ttextarea.style.minHeight = Math.max(newH - decrement, 4) + \"px\";\r\n\t\t\t\t\t\tthisScrollHeight = textareaScrollHeight();\r\n\t\t\t\t\t\tvar change = newScrollHeight - thisScrollHeight;\r\n\t\t\t\t\t\tnewH -= change;\r\n\t\t\t\t\t\tif(change < decrement){\r\n\t\t\t\t\t\t\tbreak; // scrollHeight didn't shrink\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewScrollHeight = thisScrollHeight;\r\n\t\t\t\t\t\tdecrement <<= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttextarea.style.height = newH + \"px\";\r\n\t\t\t\t\ttextarea.style.minHeight = origMinHeight;\r\n\t\t\t\t\ttextarea.scrollTop = origScrollTop;\r\n\t\t\t\t}\r\n\t\t\t\ttextarea.style.overflowY = textareaScrollHeight() > textarea.clientHeight ? \"auto\" : \"hidden\";\r\n\t\t\t\tif(textarea.style.overflowY == \"hidden\"){ textarea.scrollTop = 0; }\r\n\t\t\t}else{\r\n\t\t\t\t// hidden content of unknown size\r\n\t\t\t\tthis._estimateHeight();\r\n\t\t\t}\r\n\t\t\tthis.busyResizing = false;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/form/Textarea',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"./_ExpandingTextAreaMixin\",\r\n\t\"./SimpleTextarea\"\r\n], function(declare, domStyle, _ExpandingTextAreaMixin, SimpleTextarea){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/Textarea\r\n\r\n\treturn declare(\"dijit.form.Textarea\", [SimpleTextarea, _ExpandingTextAreaMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA textarea widget that adjusts it's height according to the amount of data.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tA textarea that dynamically expands/contracts (changing it's height) as\r\n\t\t//\t\tthe user types, to display all the text without requiring a scroll bar.\r\n\t\t//\r\n\t\t//\t\tTakes nearly all the parameters (name, value, etc.) that a vanilla textarea takes.\r\n\t\t//\t\tRows is not supported since this widget adjusts the height.\r\n\r\n\r\n\t\t// TODO: for 2.0, rename this to ExpandingTextArea, and rename SimpleTextarea to TextArea\r\n\r\n\t\tbaseClass: \"dijitTextBox dijitTextArea dijitExpandingTextArea\",\r\n\r\n\t\t// Override SimpleTextArea.cols to default to width:100%, for backward compatibility\r\n\t\tcols: \"\",\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// tweak textarea style to reduce browser differences\r\n\t\t\tdomStyle.set(this.textbox, { overflowY: 'hidden', overflowX: 'auto', boxSizing: 'border-box', MsBoxSizing: 'border-box', WebkitBoxSizing: 'border-box', MozBoxSizing: 'border-box' });\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/layout/StackContainer',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.some\r\n\t\"dojo/cookie\", // cookie\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.replace\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/has\", // has(\"dijit-legacy-requires\")\r\n\t\"dojo/_base/lang\", // lang.extend\r\n\t\"dojo/on\",\r\n\t\"dojo/ready\",\r\n\t\"dojo/topic\", // publish\r\n\t\"dojo/when\",\r\n\t\"../registry\", // registry.byId\r\n\t\"../_WidgetBase\",\r\n\t\"./_LayoutWidget\"\r\n], function(array, cookie, declare, domClass, domConstruct, has, lang, on, ready, topic, when, registry, _WidgetBase, _LayoutWidget){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/StackContainer\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/layout/StackController\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\tvar StackContainer = declare(\"dijit.layout.StackContainer\", _LayoutWidget, {\r\n\t\t// summary:\r\n\t\t//\t\tA container that has multiple children, but shows only\r\n\t\t//\t\tone child at a time\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tA container for widgets (ContentPanes, for example) That displays\r\n\t\t//\t\tonly one Widget at a time.\r\n\t\t//\r\n\t\t//\t\tPublishes topics [widgetId]-addChild, [widgetId]-removeChild, and [widgetId]-selectChild\r\n\t\t//\r\n\t\t//\t\tCan be base class for container, Wizard, Show, etc.\r\n\t\t//\r\n\t\t//\t\tSee `StackContainer.ChildWidgetProperties` for details on the properties that can be set on\r\n\t\t//\t\tchildren of a `StackContainer`.\r\n\r\n\t\t// doLayout: Boolean\r\n\t\t//\t\tIf true, change the size of my currently displayed child to match my size\r\n\t\tdoLayout: true,\r\n\r\n\t\t// persist: Boolean\r\n\t\t//\t\tRemembers the selected child across sessions\r\n\t\tpersist: false,\r\n\r\n\t\tbaseClass: \"dijitStackContainer\",\r\n\r\n\t\t/*=====\r\n\t\t// selectedChildWidget: [readonly] dijit._Widget\r\n\t\t//\t\tReferences the currently selected child widget, if any.\r\n\t\t//\t\tAdjust selected child with selectChild() method.\r\n\t\tselectedChildWidget: null,\r\n\t\t=====*/\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomClass.add(this.domNode, \"dijitLayoutContainer\");\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, \"keydown\", lang.hitch(this, \"_onKeyDown\"))\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar children = this.getChildren();\r\n\r\n\t\t\t// Setup each page panel to be initially hidden\r\n\t\t\tarray.forEach(children, this._setupChild, this);\r\n\r\n\t\t\t// Figure out which child to initially display, defaulting to first one\r\n\t\t\tif(this.persist){\r\n\t\t\t\tthis.selectedChildWidget = registry.byId(cookie(this.id + \"_selectedChild\"));\r\n\t\t\t}else{\r\n\t\t\t\tarray.some(children, function(child){\r\n\t\t\t\t\tif(child.selected){\r\n\t\t\t\t\t\tthis.selectedChildWidget = child;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn child.selected;\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\tvar selected = this.selectedChildWidget;\r\n\t\t\tif(!selected && children[0]){\r\n\t\t\t\tselected = this.selectedChildWidget = children[0];\r\n\t\t\t\tselected.selected = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Publish information about myself so any StackControllers can initialize.\r\n\t\t\t// This needs to happen before this.inherited(arguments) so that for\r\n\t\t\t// TabContainer, this._contentBox doesn't include the space for the tab labels.\r\n\t\t\ttopic.publish(this.id + \"-startup\", {children: children, selected: selected, textDir: this.textDir});\r\n\r\n\t\t\t// Startup each child widget, and do initial layout like setting this._contentBox,\r\n\t\t\t// then calls this.resize() which does the initial sizing on the selected child.\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tresize: function(){\r\n\t\t\t// Overrides _LayoutWidget.resize()\r\n\t\t\t// Resize is called when we are first made visible (it's called from startup()\r\n\t\t\t// if we are initially visible). If this is the first time we've been made\r\n\t\t\t// visible then show our first child.\r\n\t\t\tif(!this._hasBeenShown){\r\n\t\t\t\tthis._hasBeenShown = true;\r\n\t\t\t\tvar selected = this.selectedChildWidget;\r\n\t\t\t\tif(selected){\r\n\t\t\t\t\tthis._showChild(selected);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// Overrides _LayoutWidget._setupChild()\r\n\r\n\t\t\t// For aria support, wrap child widget in a <div role=\"tabpanel\">\r\n\t\t\tvar childNode = child.domNode,\r\n\t\t\t\twrapper = domConstruct.place(\r\n\t\t\t\t\t\"<div role='tabpanel' class='\" + this.baseClass + \"ChildWrapper dijitHidden'>\",\r\n\t\t\t\t\tchild.domNode,\r\n\t\t\t\t\t\"replace\"),\r\n\t\t\t\tlabel = child[\"aria-label\"] || child.title || child.label;\r\n\t\t\tif(label){\r\n\t\t\t\t// setAttribute() escapes special chars, and if() statement avoids setting aria-label=\"undefined\"\r\n\t\t\t\twrapper.setAttribute(\"aria-label\", label);\r\n\t\t\t}\r\n\t\t\tdomConstruct.place(childNode, wrapper);\r\n\t\t\tchild._wrapper = wrapper;\t// to set the aria-labelledby in StackController\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// child may have style=\"display: none\" (at least our test cases do), so remove that\r\n\t\t\tif(childNode.style.display == \"none\"){\r\n\t\t\t\tchildNode.style.display = \"block\";\r\n\t\t\t}\r\n\r\n\t\t\t// remove the title attribute so it doesn't show up when i hover over a node\r\n\t\t\tchild.domNode.removeAttribute(\"title\");\r\n\t\t},\r\n\r\n\t\taddChild: function(/*dijit/_WidgetBase*/ child, /*Integer?*/ insertIndex){\r\n\t\t\t// Overrides _Container.addChild() to do layout and publish events\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this._started){\r\n\t\t\t\ttopic.publish(this.id + \"-addChild\", child, insertIndex);\t// publish\r\n\r\n\t\t\t\t// in case the tab titles have overflowed from one line to two lines\r\n\t\t\t\t// (or, if this if first child, from zero lines to one line)\r\n\t\t\t\t// TODO: w/ScrollingTabController this is no longer necessary, although\r\n\t\t\t\t// ScrollTabController.resize() does need to get called to show/hide\r\n\t\t\t\t// the navigation buttons as appropriate, but that's handled in ScrollingTabController.onAddChild().\r\n\t\t\t\t// If this is updated to not layout [except for initial child added / last child removed], update\r\n\t\t\t\t// \"childless startup\" test in StackContainer.html to check for no resize event after second addChild()\r\n\t\t\t\tthis.layout();\r\n\r\n\t\t\t\t// if this is the first child, then select it\r\n\t\t\t\tif(!this.selectedChildWidget){\r\n\t\t\t\t\tthis.selectChild(child);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// Overrides _Container.removeChild() to do layout and publish events\r\n\r\n\t\t\tvar idx = array.indexOf(this.getChildren(), page);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Remove the child widget wrapper we use to set aria roles.  This won't affect the page itself since it's\r\n\t\t\t// already been detached from page._wrapper via the this.inherited(arguments) call above.\r\n\t\t\tdomConstruct.destroy(page._wrapper);\r\n\t\t\tdelete page._wrapper;\r\n\r\n\t\t\tif(this._started){\r\n\t\t\t\t// This will notify any tablists to remove a button; do this first because it may affect sizing.\r\n\t\t\t\ttopic.publish(this.id + \"-removeChild\", page);\r\n\t\t\t}\r\n\r\n\t\t\t// If all our children are being destroyed than don't run the code below (to select another page),\r\n\t\t\t// because we are deleting every page one by one\r\n\t\t\tif(this._descendantsBeingDestroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Select new page to display, also updating TabController to show the respective tab.\r\n\t\t\t// Do this before layout call because it can affect the height of the TabController.\r\n\t\t\tif(this.selectedChildWidget === page){\r\n\t\t\t\tthis.selectedChildWidget = undefined;\r\n\t\t\t\tif(this._started){\r\n\t\t\t\t\tvar children = this.getChildren();\r\n\t\t\t\t\tif(children.length){\r\n\t\t\t\t\t\tthis.selectChild(children[Math.max(idx - 1, 0)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(this._started){\r\n\t\t\t\t// In case the tab titles now take up one line instead of two lines\r\n\t\t\t\t// (note though that ScrollingTabController never overflows to multiple lines),\r\n\t\t\t\t// or the height has changed slightly because of addition/removal of tab which close icon\r\n\t\t\t\tthis.layout();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tselectChild: function(/*dijit/_WidgetBase|String*/ page, /*Boolean*/ animate){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tShow the given widget (which must be one of my children)\r\n\t\t\t// page:\r\n\t\t\t//\t\tReference to child widget or id of child widget\r\n\r\n\t\t\tvar d;\r\n\r\n\t\t\tpage = registry.byId(page);\r\n\r\n\t\t\tif(this.selectedChildWidget != page){\r\n\t\t\t\t// Deselect old page and select new one\r\n\t\t\t\td = this._transition(page, this.selectedChildWidget, animate);\r\n\t\t\t\tthis._set(\"selectedChildWidget\", page);\r\n\t\t\t\ttopic.publish(this.id + \"-selectChild\", page);\t// publish\r\n\r\n\t\t\t\tif(this.persist){\r\n\t\t\t\t\tcookie(this.id + \"_selectedChild\", this.selectedChildWidget.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// d may be null, or a scalar like true.  Return a promise in all cases\r\n\t\t\treturn when(d || true);\t\t// Promise\r\n\t\t},\r\n\r\n\t\t_transition: function(newWidget, oldWidget /*===== ,  animate =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide the old widget and display the new widget.\r\n\t\t\t//\t\tSubclasses should override this.\r\n\t\t\t// newWidget: dijit/_WidgetBase\r\n\t\t\t//\t\tThe newly selected widget.\r\n\t\t\t// oldWidget: dijit/_WidgetBase\r\n\t\t\t//\t\tThe previously selected widget.\r\n\t\t\t// animate: Boolean\r\n\t\t\t//\t\tUsed by AccordionContainer to turn on/off slide effect.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\tif(oldWidget){\r\n\t\t\t\tthis._hideChild(oldWidget);\r\n\t\t\t}\r\n\t\t\tvar d = this._showChild(newWidget);\r\n\r\n\t\t\t// Size the new widget, in case this is the first time it's being shown,\r\n\t\t\t// or I have been resized since the last time it was shown.\r\n\t\t\t// Note that page must be visible for resizing to work.\r\n\t\t\tif(newWidget.resize){\r\n\t\t\t\tif(this.doLayout){\r\n\t\t\t\t\tnewWidget.resize(this._containerContentBox || this._contentBox);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// the child should pick it's own size but we still need to call resize()\r\n\t\t\t\t\t// (with no arguments) to let the widget lay itself out\r\n\t\t\t\t\tnewWidget.resize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn d;\t// If child has an href, promise that fires when the child's href finishes loading\r\n\t\t},\r\n\r\n\t\t_adjacent: function(/*Boolean*/ forward){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the next/previous child widget in this container from the current selection.\r\n\r\n\t\t\t// TODO: remove for 2.0 if this isn't being used.   Otherwise, fix to skip disabled tabs.\r\n\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tvar index = array.indexOf(children, this.selectedChildWidget);\r\n\t\t\tindex += forward ? 1 : children.length - 1;\r\n\t\t\treturn children[ index % children.length ]; // dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tforward: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdvance to next page.\r\n\t\t\treturn this.selectChild(this._adjacent(true), true);\r\n\t\t},\r\n\r\n\t\tback: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGo back to previous page.\r\n\t\t\treturn this.selectChild(this._adjacent(false), true);\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(e){\r\n\t\t\ttopic.publish(this.id + \"-containerKeyDown\", { e: e, page: this});\t// publish\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// Implement _LayoutWidget.layout() virtual method.\r\n\t\t\tvar child = this.selectedChildWidget;\r\n\t\t\tif(child && child.resize){\r\n\t\t\t\tif(this.doLayout){\r\n\t\t\t\t\tchild.resize(this._containerContentBox || this._contentBox);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchild.resize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_showChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tShow the specified child by changing it's CSS, and call _onShow()/onShow() so\r\n\t\t\t//\t\tit can do any updates it needs regarding loading href's etc.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tPromise that fires when page has finished showing, or true if there's no href\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tpage.isFirstChild = (page == children[0]);\r\n\t\t\tpage.isLastChild = (page == children[children.length - 1]);\r\n\t\t\tpage._set(\"selected\", true);\r\n\r\n\t\t\tif(page._wrapper){\t// false if not started yet\r\n\t\t\t\tdomClass.replace(page._wrapper, \"dijitVisible\", \"dijitHidden\");\r\n\t\t\t}\r\n\r\n\t\t\treturn (page._onShow && page._onShow()) || true;\r\n\t\t},\r\n\r\n\t\t_hideChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide the specified child by changing it's CSS, and call _onHide() so\r\n\t\t\t//\t\tit's notified.\r\n\t\t\tpage._set(\"selected\", false);\r\n\r\n\t\t\tif(page._wrapper){\t// false if not started yet\r\n\t\t\t\tdomClass.replace(page._wrapper, \"dijitHidden\", \"dijitVisible\");\r\n\t\t\t}\r\n\r\n\t\t\tpage.onHide && page.onHide();\r\n\t\t},\r\n\r\n\t\tcloseChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when user clicks the [X] to remove a page.\r\n\t\t\t//\t\tIf onClose() returns true then remove and destroy the child.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar remove = page.onClose && page.onClose(this, page);\r\n\t\t\tif(remove){\r\n\t\t\t\tthis.removeChild(page);\r\n\t\t\t\t// makes sure we can clean up executeScripts in ContentPane onUnLoad\r\n\t\t\t\tpage.destroyRecursive();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroyDescendants: function(/*Boolean*/ preserveDom){\r\n\t\t\tthis._descendantsBeingDestroyed = true;\r\n\t\t\tthis.selectedChildWidget = undefined;\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tif(!preserveDom){\r\n\t\t\t\t\tthis.removeChild(child);\r\n\t\t\t\t}\r\n\t\t\t\tchild.destroyRecursive(preserveDom);\r\n\t\t\t}, this);\r\n\t\t\tthis._descendantsBeingDestroyed = false;\r\n\t\t}\r\n\t});\r\n\r\n\tStackContainer.ChildWidgetProperties = {\r\n\t\t// summary:\r\n\t\t//\t\tThese properties can be specified for the children of a StackContainer.\r\n\r\n\t\t// selected: Boolean\r\n\t\t//\t\tSpecifies that this widget should be the initially displayed pane.\r\n\t\t//\t\tNote: to change the selected child use `dijit/layout/StackContainer.selectChild`\r\n\t\tselected: false,\r\n\r\n\t\t// disabled: Boolean\r\n\t\t//\t\tSpecifies that the button to select this pane should be disabled.\r\n\t\t//\t\tDoesn't affect programmatic selection of the pane, nor does it deselect the pane if it is currently selected.\r\n\t\tdisabled: false,\r\n\r\n\t\t// closable: Boolean\r\n\t\t//\t\tTrue if user can close (destroy) this child, such as (for example) clicking the X on the tab.\r\n\t\tclosable: false,\r\n\r\n\t\t// iconClass: String\r\n\t\t//\t\tCSS Class specifying icon to use in label associated with this pane.\r\n\t\ticonClass: \"dijitNoIcon\",\r\n\r\n\t\t// showTitle: Boolean\r\n\t\t//\t\tWhen true, display title of this widget as tab label etc., rather than just using\r\n\t\t//\t\ticon specified in iconClass\r\n\t\tshowTitle: true\r\n\t};\r\n\r\n\t// Since any widget can be specified as a StackContainer child, mix them\r\n\t// into the base widget class.  (This is a hack, but it's effective.)\r\n\t// This is for the benefit of the parser.   Remove for 2.0.  Also, hide from doc viewer.\r\n\tlang.extend(_WidgetBase, /*===== {} || =====*/ StackContainer.ChildWidgetProperties);\r\n\r\n\treturn StackContainer;\r\n});\r\n\n\ndefine('dijit/layout/AccordionContainer',[\r\n\t\"require\",\r\n\t\"dojo/_base/array\", // array.forEach array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/fx\", // fx.Animation\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-attr\", // domAttr.attr\r\n\t\"dojo/dom-class\", // domClass.remove\r\n\t\"dojo/dom-construct\", // domConstruct.place\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.getObject lang.hitch\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"dijit-legacy-requires\")\r\n\t\"dojo/topic\", // publish\r\n\t\"../focus\", // focus.focus()\r\n\t\"../_base/manager\", // manager.defaultDuration\r\n\t\"dojo/ready\",\r\n\t\"../_Widget\",\r\n\t\"../_Container\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"../_CssStateMixin\",\r\n\t\"./StackContainer\",\r\n\t\"./ContentPane\",\r\n\t\"dojo/text!./templates/AccordionButton.html\",\r\n\t\"../a11yclick\" // AccordionButton template uses ondijitclick; not for keyboard, but for responsive touch.\r\n], function(require, array, declare, fx, dom, domAttr, domClass, domConstruct, domGeometry, keys, lang, has, topic,\r\n\t\t\tfocus, manager, ready, _Widget, _Container, _TemplatedMixin, _CssStateMixin, StackContainer, ContentPane, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/AccordionContainer\r\n\r\n\r\n\t// Design notes:\r\n\t//\r\n\t// An AccordionContainer is a StackContainer, but each child (typically ContentPane)\r\n\t// is wrapped in a _AccordionInnerContainer.   This is hidden from the caller.\r\n\t//\r\n\t// The resulting markup will look like:\r\n\t//\r\n\t//\t<div class=dijitAccordionContainer>\r\n\t//\t\t<div class=dijitAccordionInnerContainer>\t(one pane)\r\n\t//\t\t\t\t<div class=dijitAccordionTitle>\t\t(title bar) ... </div>\r\n\t//\t\t\t\t<div class=dijtAccordionChildWrapper>   (content pane) </div>\r\n\t//\t\t</div>\r\n\t//\t</div>\r\n\t//\r\n\t// Normally the dijtAccordionChildWrapper is hidden for all but one child (the shown\r\n\t// child), so the space for the content pane is all the title bars + the one dijtAccordionChildWrapper,\r\n\t// which on claro has a 1px border plus a 2px bottom margin.\r\n\t//\r\n\t// During animation there are two dijtAccordionChildWrapper's shown, so we need\r\n\t// to compensate for that.\r\n\r\n\tvar AccordionButton = declare(\"dijit.layout._AccordionButton\", [_Widget, _TemplatedMixin, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tThe title bar to click to open up an accordion pane.\r\n\t\t//\t\tInternal widget used by AccordionContainer.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// label: String\r\n\t\t//\t\tTitle of the pane\r\n\t\tlabel: \"\",\r\n\t\t_setLabelAttr: {node: \"titleTextNode\", type: \"innerHTML\" },\r\n\r\n\t\t// title: String\r\n\t\t//\t\tTooltip that appears on hover\r\n\t\ttitle: \"\",\r\n\t\t_setTitleAttr: {node: \"titleTextNode\", type: \"attribute\", attribute: \"title\"},\r\n\r\n\t\t// iconClassAttr: String\r\n\t\t//\t\tCSS class for icon to left of label\r\n\t\ticonClassAttr: \"\",\r\n\t\t_setIconClassAttr: { node: \"iconNode\", type: \"class\" },\r\n\r\n\t\tbaseClass: \"dijitAccordionTitle\",\r\n\r\n\t\tgetParent: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the AccordionContainer parent.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\treturn this.parent;\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar titleTextNodeId = this.id.replace(' ', '_');\r\n\t\t\tdomAttr.set(this.titleTextNode, \"id\", titleTextNodeId + \"_title\");\r\n\t\t\tthis.focusNode.setAttribute(\"aria-labelledby\", domAttr.get(this.titleTextNode, \"id\"));\r\n\t\t\tdom.setSelectable(this.domNode, false);\r\n\t\t},\r\n\r\n\t\tgetTitleHeight: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the height of the title dom node.\r\n\t\t\treturn domGeometry.getMarginSize(this.domNode).h;\t// Integer\r\n\t\t},\r\n\r\n\t\t// TODO: maybe the parent should set these methods directly rather than forcing the code\r\n\t\t// into the button widget?\r\n\t\t_onTitleClick: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when someone clicks my title.\r\n\t\t\tvar parent = this.getParent();\r\n\t\t\tparent.selectChild(this.contentWidget, true);\r\n\t\t\tfocus.focus(this.focusNode);\r\n\t\t},\r\n\r\n\t\t_onTitleKeyDown: function(/*Event*/ evt){\r\n\t\t\treturn this.getParent()._onKeyDown(evt, this.contentWidget);\r\n\t\t},\r\n\r\n\t\t_setSelectedAttr: function(/*Boolean*/ isSelected){\r\n\t\t\tthis._set(\"selected\", isSelected);\r\n\t\t\tthis.focusNode.setAttribute(\"aria-expanded\", isSelected ? \"true\" : \"false\");\r\n\t\t\tthis.focusNode.setAttribute(\"aria-selected\", isSelected ? \"true\" : \"false\");\r\n\t\t\tthis.focusNode.setAttribute(\"tabIndex\", isSelected ? \"0\" : \"-1\");\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tAccordionButton.extend({\r\n\t\t\t_setLabelAttr: function(label){\r\n\t\t\t\tthis._set(\"label\", label);\r\n\t\t\t\tdomAttr.set(this.titleTextNode, \"innerHTML\", label);\r\n\t\t\t\tthis.applyTextDir(this.titleTextNode);\r\n\t\t\t},\r\n\r\n\t\t\t_setTitleAttr: function(title){\r\n\t\t\t\tthis._set(\"title\", title);\r\n\t\t\t\tdomAttr.set(this.titleTextNode, \"title\", title);\r\n\t\t\t\tthis.applyTextDir(this.titleTextNode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar AccordionInnerContainer = declare(\"dijit.layout._AccordionInnerContainer\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), [_Widget, _CssStateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tInternal widget placed as direct child of AccordionContainer.containerNode.\r\n\t\t//\t\tWhen other widgets are added as children to an AccordionContainer they are wrapped in\r\n\t\t//\t\tthis widget.\r\n\r\n\t\t/*=====\r\n\t\t // buttonWidget: Function|String\r\n\t\t //\t\tClass to use to instantiate title\r\n\t\t //\t\t(Wish we didn't have a separate widget for just the title but maintaining it\r\n\t\t //\t\tfor backwards compatibility, is it worth it?)\r\n\t\t buttonWidget: null,\r\n\t\t =====*/\r\n\r\n\t\t/*=====\r\n\t\t // contentWidget: dijit/_WidgetBase\r\n\t\t //\t\tPointer to the real child widget\r\n\t\t contentWidget: null,\r\n\t\t =====*/\r\n\r\n\t\tbaseClass: \"dijitAccordionInnerContainer\",\r\n\r\n\t\t// tell nested layout widget that we will take care of sizing\r\n\t\tisLayoutContainer: true,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\t// Builds a template like:\r\n\t\t\t//\t<div class=dijitAccordionInnerContainer>\r\n\t\t\t//\t\tButton\r\n\t\t\t//\t\t<div class=dijitAccordionChildWrapper>\r\n\t\t\t//\t\t\tContentPane\r\n\t\t\t//\t\t</div>\r\n\t\t\t//\t</div>\r\n\r\n\t\t\t// Create wrapper div, placed where the child is now\r\n\t\t\tthis.domNode = domConstruct.place(\"<div class='\" + this.baseClass +\r\n\t\t\t\t\"' role='presentation'>\", this.contentWidget.domNode, \"after\");\r\n\r\n\t\t\t// wrapper div's first child is the button widget (ie, the title bar)\r\n\t\t\tvar child = this.contentWidget,\r\n\t\t\t\tcls = lang.isString(this.buttonWidget) ? lang.getObject(this.buttonWidget) : this.buttonWidget;\r\n\t\t\tthis.button = child._buttonWidget = (new cls({\r\n\t\t\t\tcontentWidget: child,\r\n\t\t\t\tlabel: child.title,\r\n\t\t\t\ttitle: child.tooltip,\r\n\t\t\t\tdir: child.dir,\r\n\t\t\t\tlang: child.lang,\r\n\t\t\t\ttextDir: child.textDir || this.textDir,\r\n\t\t\t\ticonClass: child.iconClass,\r\n\t\t\t\tid: child.id + \"_button\",\r\n\t\t\t\tparent: this.parent\r\n\t\t\t})).placeAt(this.domNode);\r\n\r\n\t\t\t// and then the actual content widget (changing it from prior-sibling to last-child),\r\n\t\t\t// wrapped by a <div class=dijitAccordionChildWrapper>\r\n\t\t\tthis.containerNode = domConstruct.place(\"<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>\", this.domNode);\r\n\t\t\tthis.containerNode.setAttribute(\"aria-labelledby\", this.button.id);\r\n\r\n\t\t\tdomConstruct.place(this.contentWidget.domNode, this.containerNode);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Map changes in content widget's title etc. to changes in the button\r\n\t\t\tvar button = this.button,\r\n\t\t\t\tcw = this.contentWidget;\r\n\t\t\tthis._contentWidgetWatches = [\r\n\t\t\t\tcw.watch('title', lang.hitch(this, function(name, oldValue, newValue){\r\n\t\t\t\t\tbutton.set(\"label\", newValue);\r\n\t\t\t\t})),\r\n\t\t\t\tcw.watch('tooltip', lang.hitch(this, function(name, oldValue, newValue){\r\n\t\t\t\t\tbutton.set(\"title\", newValue);\r\n\t\t\t\t})),\r\n\t\t\t\tcw.watch('iconClass', lang.hitch(this, function(name, oldValue, newValue){\r\n\t\t\t\t\tbutton.set(\"iconClass\", newValue);\r\n\t\t\t\t}))\r\n\t\t\t];\r\n\t\t},\r\n\r\n\t\t_setSelectedAttr: function(/*Boolean*/ isSelected){\r\n\t\t\tthis._set(\"selected\", isSelected);\r\n\t\t\tthis.button.set(\"selected\", isSelected);\r\n\t\t\tif(isSelected){\r\n\t\t\t\tvar cw = this.contentWidget;\r\n\t\t\t\tif(cw.onSelected){\r\n\t\t\t\t\tcw.onSelected();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\t// Called by _Container.addChild()\r\n\t\t\tthis.contentWidget.startup();\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis.button.destroyRecursive();\r\n\r\n\t\t\tarray.forEach(this._contentWidgetWatches || [], function(w){\r\n\t\t\t\tw.unwatch();\r\n\t\t\t});\r\n\r\n\t\t\tdelete this.contentWidget._buttonWidget;\r\n\t\t\tdelete this.contentWidget._wrapperWidget;\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tdestroyDescendants: function(/*Boolean*/ preserveDom){\r\n\t\t\t// since getChildren isn't working for me, have to code this manually\r\n\t\t\tthis.contentWidget.destroyRecursive(preserveDom);\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tAccordionInnerContainer = declare(\"dijit.layout._AccordionInnerContainer\", AccordionInnerContainer, {\r\n\t\t\tpostCreate: function(){\r\n\t\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t\t// Map changes in content widget's textdir to changes in the button\r\n\t\t\t\tvar button = this.button;\r\n\t\t\t\tthis._contentWidgetWatches.push(\r\n\t\t\t\t\tthis.contentWidget.watch(\"textDir\", function(name, oldValue, newValue){\r\n\t\t\t\t\t\tbutton.set(\"textDir\", newValue);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar AccordionContainer = declare(\"dijit.layout.AccordionContainer\", StackContainer, {\r\n\t\t// summary:\r\n\t\t//\t\tHolds a set of panes where every pane's title is visible, but only one pane's content is visible at a time,\r\n\t\t//\t\tand switching between panes is visualized by sliding the other panes up/down.\r\n\t\t// example:\r\n\t\t//\t|\t<div data-dojo-type=\"dijit/layout/AccordionContainer\">\r\n\t\t//\t|\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" title=\"pane 1\">\r\n\t\t//\t|\t\t</div>\r\n\t\t//\t|\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" title=\"pane 2\">\r\n\t\t//\t|\t\t\t<p>This is some text</p>\r\n\t\t//\t|\t\t</div>\r\n\t\t//\t|\t</div>\r\n\r\n\t\t// duration: Integer\r\n\t\t//\t\tAmount of time (in ms) it takes to slide panes\r\n\t\tduration: manager.defaultDuration,\r\n\r\n\t\t// buttonWidget: [const] String\r\n\t\t//\t\tThe name of the widget used to display the title of each pane\r\n\t\tbuttonWidget: AccordionButton,\r\n\r\n\t\t/*=====\r\n\t\t // _verticalSpace: Number\r\n\t\t //\t\tPixels of space available for the open pane\r\n\t\t //\t\t(my content box size minus the cumulative size of all the title bars)\r\n\t\t _verticalSpace: 0,\r\n\t\t =====*/\r\n\t\tbaseClass: \"dijitAccordionContainer\",\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.domNode.style.overflow = \"hidden\";\t\t// TODO: put this in dijit.css\r\n\t\t\tthis.domNode.setAttribute(\"role\", \"tablist\");\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.selectedChildWidget){\r\n\t\t\t\tthis.selectedChildWidget._wrapperWidget.set(\"selected\", true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// Implement _LayoutWidget.layout() virtual method.\r\n\t\t\t// Set the height of the open pane based on what room remains.\r\n\r\n\t\t\tvar openPane = this.selectedChildWidget;\r\n\r\n\t\t\tif(!openPane){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// space taken up by title, plus wrapper div (with border/margin) for open pane\r\n\t\t\tvar wrapperDomNode = openPane._wrapperWidget.domNode,\r\n\t\t\t\twrapperDomNodeMargin = domGeometry.getMarginExtents(wrapperDomNode),\r\n\t\t\t\twrapperDomNodePadBorder = domGeometry.getPadBorderExtents(wrapperDomNode),\r\n\t\t\t\twrapperContainerNode = openPane._wrapperWidget.containerNode,\r\n\t\t\t\twrapperContainerNodeMargin = domGeometry.getMarginExtents(wrapperContainerNode),\r\n\t\t\t\twrapperContainerNodePadBorder = domGeometry.getPadBorderExtents(wrapperContainerNode),\r\n\t\t\t\tmySize = this._contentBox;\r\n\r\n\t\t\t// get cumulative height of all the unselected title bars\r\n\t\t\tvar totalCollapsedHeight = 0;\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tif(child != openPane){\r\n\t\t\t\t\t// Using domGeometry.getMarginSize() rather than domGeometry.position() since claro has 1px bottom margin\r\n\t\t\t\t\t// to separate accordion panes.  Not sure that works perfectly, it's probably putting a 1px\r\n\t\t\t\t\t// margin below the bottom pane (even though we don't want one).\r\n\t\t\t\t\ttotalCollapsedHeight += domGeometry.getMarginSize(child._wrapperWidget.domNode).h;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis._verticalSpace = mySize.h - totalCollapsedHeight - wrapperDomNodeMargin.h\r\n\t\t\t\t- wrapperDomNodePadBorder.h - wrapperContainerNodeMargin.h - wrapperContainerNodePadBorder.h\r\n\t\t\t\t- openPane._buttonWidget.getTitleHeight();\r\n\r\n\t\t\t// Memo size to make displayed child\r\n\t\t\tthis._containerContentBox = {\r\n\t\t\t\th: this._verticalSpace,\r\n\t\t\t\tw: this._contentBox.w - wrapperDomNodeMargin.w - wrapperDomNodePadBorder.w\r\n\t\t\t\t\t- wrapperContainerNodeMargin.w - wrapperContainerNodePadBorder.w\r\n\t\t\t};\r\n\r\n\t\t\tif(openPane){\r\n\t\t\t\topenPane.resize(this._containerContentBox);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupChild: function(child){\r\n\t\t\t// Overrides _LayoutWidget._setupChild().\r\n\t\t\t// Put wrapper widget around the child widget, showing title\r\n\r\n\t\t\tchild._wrapperWidget = AccordionInnerContainer({\r\n\t\t\t\tcontentWidget: child,\r\n\t\t\t\tbuttonWidget: this.buttonWidget,\r\n\t\t\t\tid: child.id + \"_wrapper\",\r\n\t\t\t\tdir: child.dir,\r\n\t\t\t\tlang: child.lang,\r\n\t\t\t\ttextDir: child.textDir || this.textDir,\r\n\t\t\t\tparent: this\r\n\t\t\t});\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Since we are wrapping children in AccordionInnerContainer, replace the default\r\n\t\t\t// wrapper that we created in StackContainer.\r\n\t\t\tdomConstruct.place(child.domNode, child._wrapper, \"replace\");\r\n\t\t},\r\n\r\n\t\tremoveChild: function(child){\r\n\t\t\t// Overrides _LayoutWidget.removeChild().\r\n\r\n\t\t\t// Destroy wrapper widget first, before StackContainer.getChildren() call.\r\n\t\t\t// Replace wrapper widget with true child widget (ContentPane etc.).\r\n\t\t\t// This step only happens if the AccordionContainer has been started; otherwise there's no wrapper.\r\n\t\t\t// (TODO: since StackContainer destroys child._wrapper, maybe it can do this step too?)\r\n\t\t\tif(child._wrapperWidget){\r\n\t\t\t\tdomConstruct.place(child.domNode, child._wrapperWidget.domNode, \"after\");\r\n\t\t\t\tchild._wrapperWidget.destroy();\r\n\t\t\t\tdelete child._wrapperWidget;\r\n\t\t\t}\r\n\r\n\t\t\tdomClass.remove(child.domNode, \"dijitHidden\");\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tgetChildren: function(){\r\n\t\t\t// Overrides _Container.getChildren() to return content panes rather than internal AccordionInnerContainer panes\r\n\t\t\treturn array.map(this.inherited(arguments), function(child){\r\n\t\t\t\treturn child.declaredClass == \"dijit.layout._AccordionInnerContainer\" ? child.contentWidget : child;\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tif(this._animation){\r\n\t\t\t\tthis._animation.stop();\r\n\t\t\t}\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\t// If AccordionContainer has been started, then each child has a wrapper widget which\r\n\t\t\t\t// also needs to be destroyed.\r\n\t\t\t\tif(child._wrapperWidget){\r\n\t\t\t\t\tchild._wrapperWidget.destroy();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchild.destroyRecursive();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_showChild: function(child){\r\n\t\t\t// Override StackContainer._showChild() to set visibility of _wrapperWidget.containerNode\r\n\t\t\tchild._wrapperWidget.containerNode.style.display = \"block\";\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_hideChild: function(child){\r\n\t\t\t// Override StackContainer._showChild() to set visibility of _wrapperWidget.containerNode\r\n\t\t\tchild._wrapperWidget.containerNode.style.display = \"none\";\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_transition: function(/*dijit/_WidgetBase?*/ newWidget, /*dijit/_WidgetBase?*/ oldWidget, /*Boolean*/ animate){\r\n\t\t\t// Overrides StackContainer._transition() to provide sliding of title bars etc.\r\n\r\n\t\t\tif(has(\"ie\") < 8){\r\n\t\t\t\t// workaround animation bugs by not animating; not worth supporting animation for IE6 & 7\r\n\t\t\t\tanimate = false;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._animation){\r\n\t\t\t\t// there's an in-progress animation.  speedily end it so we can do the newly requested one\r\n\t\t\t\tthis._animation.stop(true);\r\n\t\t\t\tdelete this._animation;\r\n\t\t\t}\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif(newWidget){\r\n\t\t\t\tnewWidget._wrapperWidget.set(\"selected\", true);\r\n\r\n\t\t\t\tvar d = this._showChild(newWidget);\t// prepare widget to be slid in\r\n\r\n\t\t\t\t// Size the new widget, in case this is the first time it's being shown,\r\n\t\t\t\t// or I have been resized since the last time it was shown.\r\n\t\t\t\t// Note that page must be visible for resizing to work.\r\n\t\t\t\tif(this.doLayout && newWidget.resize){\r\n\t\t\t\t\tnewWidget.resize(this._containerContentBox);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(oldWidget){\r\n\t\t\t\toldWidget._wrapperWidget.set(\"selected\", false);\r\n\t\t\t\tif(!animate){\r\n\t\t\t\t\tthis._hideChild(oldWidget);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(animate){\r\n\t\t\t\tvar newContents = newWidget._wrapperWidget.containerNode,\r\n\t\t\t\t\toldContents = oldWidget._wrapperWidget.containerNode;\r\n\r\n\t\t\t\t// During the animation we will be showing two dijitAccordionChildWrapper nodes at once,\r\n\t\t\t\t// which on claro takes up 4px extra space (compared to stable AccordionContainer).\r\n\t\t\t\t// Have to compensate for that by immediately shrinking the pane being closed.\r\n\t\t\t\tvar wrapperContainerNode = newWidget._wrapperWidget.containerNode,\r\n\t\t\t\t\twrapperContainerNodeMargin = domGeometry.getMarginExtents(wrapperContainerNode),\r\n\t\t\t\t\twrapperContainerNodePadBorder = domGeometry.getPadBorderExtents(wrapperContainerNode),\r\n\t\t\t\t\tanimationHeightOverhead = wrapperContainerNodeMargin.h + wrapperContainerNodePadBorder.h;\r\n\r\n\t\t\t\toldContents.style.height = (self._verticalSpace - animationHeightOverhead) + \"px\";\r\n\r\n\t\t\t\tthis._animation = new fx.Animation({\r\n\t\t\t\t\tnode: newContents,\r\n\t\t\t\t\tduration: this.duration,\r\n\t\t\t\t\tcurve: [1, this._verticalSpace - animationHeightOverhead - 1],\r\n\t\t\t\t\tonAnimate: function(value){\r\n\t\t\t\t\t\tvalue = Math.floor(value);\t// avoid fractional values\r\n\t\t\t\t\t\tnewContents.style.height = value + \"px\";\r\n\t\t\t\t\t\toldContents.style.height = (self._verticalSpace - animationHeightOverhead - value) + \"px\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonEnd: function(){\r\n\t\t\t\t\t\tdelete self._animation;\r\n\t\t\t\t\t\tnewContents.style.height = \"auto\";\r\n\t\t\t\t\t\toldWidget._wrapperWidget.containerNode.style.display = \"none\";\r\n\t\t\t\t\t\toldContents.style.height = \"auto\";\r\n\t\t\t\t\t\tself._hideChild(oldWidget);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis._animation.onStop = this._animation.onEnd;\r\n\t\t\t\tthis._animation.play();\r\n\t\t\t}\r\n\r\n\t\t\treturn d;\t// If child has an href, promise that fires when the widget has finished loading\r\n\t\t},\r\n\r\n\t\t// note: we are treating the container as controller here\r\n\t\t_onKeyDown: function(/*Event*/ e, /*dijit/_WidgetBase*/ fromTitle){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle keydown events\r\n\t\t\t// description:\r\n\t\t\t//\t\tThis is called from a handler on AccordionContainer.domNode\r\n\t\t\t//\t\t(setup in StackContainer), and is also called directly from\r\n\t\t\t//\t\tthe click handler for accordion labels\r\n\t\t\tif(this.disabled || e.altKey || !(fromTitle || e.ctrlKey)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar c = e.keyCode;\r\n\t\t\tif((fromTitle && (c == keys.LEFT_ARROW || c == keys.UP_ARROW)) ||\r\n\t\t\t\t(e.ctrlKey && c == keys.PAGE_UP)){\r\n\t\t\t\tthis._adjacent(false)._buttonWidget._onTitleClick();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}else if((fromTitle && (c == keys.RIGHT_ARROW || c == keys.DOWN_ARROW)) ||\r\n\t\t\t\t(e.ctrlKey && (c == keys.PAGE_DOWN || c == keys.TAB))){\r\n\t\t\t\tthis._adjacent(true)._buttonWidget._onTitleClick();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Back compat w/1.6, remove for 2.0\r\n\tif(has(\"dijit-legacy-requires\")){\r\n\t\tready(0, function(){\r\n\t\t\tvar requires = [\"dijit/layout/AccordionPane\"];\r\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\r\n\t\t});\r\n\t}\r\n\r\n\t// For monkey patching\r\n\tAccordionContainer._InnerContainer = AccordionInnerContainer;\r\n\tAccordionContainer._Button = AccordionButton;\r\n\r\n\treturn AccordionContainer;\r\n});\r\n\ndefine('dijit/layout/LayoutContainer',[\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/_base/lang\",\r\n\t\"../_WidgetBase\",\r\n\t\"./_LayoutWidget\",\r\n\t\"./utils\" // layoutUtils.layoutChildren\r\n], function(array, declare, domClass, domStyle, lang, _WidgetBase, _LayoutWidget, layoutUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/LayoutContainer\r\n\r\n\tvar LayoutContainer = declare(\"dijit.layout.LayoutContainer\", _LayoutWidget, {\r\n\t\t// summary:\r\n\t\t//\t\tA LayoutContainer is a box with a specified size, such as style=\"width: 500px; height: 500px;\",\r\n\t\t//\t\tthat contains a child widget marked region=\"center\" and optionally children widgets marked\r\n\t\t//\t\tregion equal to \"top\", \"bottom\", \"leading\", \"trailing\", \"left\" or \"right\".\r\n\t\t//\t\tChildren along the edges will be laid out according to width or height dimensions. The remaining\r\n\t\t//\t\tspace is designated for the center region.\r\n\t\t//\r\n\t\t//\t\tThe outer size must be specified on the LayoutContainer node.  Width must be specified for the sides\r\n\t\t//\t\tand height for the top and bottom, respectively.  No dimensions should be specified on the center;\r\n\t\t//\t\tit will fill the remaining space.  Regions named \"leading\" and \"trailing\" may be used just like\r\n\t\t//\t\t\"left\" and \"right\" except that they will be reversed in right-to-left environments.\r\n\t\t//\r\n\t\t//\t\tFor complex layouts, multiple children can be specified for a single region.   In this case, the\r\n\t\t//\t\tlayoutPriority flag on the children determines which child is closer to the edge (low layoutPriority)\r\n\t\t//\t\tand which child is closer to the center (high layoutPriority).   layoutPriority can also be used\r\n\t\t//\t\tinstead of the design attribute to control layout precedence of horizontal vs. vertical panes.\r\n\t\t//\r\n\t\t//\t\tSee `LayoutContainer.ChildWidgetProperties` for details on the properties that can be set on\r\n\t\t//\t\tchildren of a `LayoutContainer`.\r\n\t\t//\r\n\t\t//\t\tIf layoutPriority is not set, lays out each child in the natural order the children occur in.\r\n\t\t//\t\tBasically each child is laid out into the \"remaining space\", where \"remaining space\" is initially\r\n\t\t//\t\tthe content area of this widget, but is reduced to a smaller rectangle each time a child is added.\r\n\r\n\t\t// design: String\r\n\t\t//\t\tWhich design is used for the layout:\r\n\t\t//\r\n\t\t//\t\t- \"headline\" (default) where the top and bottom extend the full width of the container\r\n\t\t//\t\t- \"sidebar\" where the left and right sides extend from top to bottom.\r\n\t\t//\r\n\t\t//\t\tHowever, a `layoutPriority` setting on child panes overrides the `design` attribute on the parent.\r\n\t\t//\t\tIn other words, if the top and bottom sections have a lower `layoutPriority` than the left and right\r\n\t\t//\t\tpanes, the top and bottom panes will extend the entire width of the box.\r\n\t\tdesign: \"headline\",\r\n\r\n\t\tbaseClass: \"dijitLayoutContainer\",\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tarray.forEach(this.getChildren(), this._setupChild, this);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// Override _LayoutWidget._setupChild().\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar region = child.region;\r\n\t\t\tif(region){\r\n\t\t\t\tdomClass.add(child.domNode, this.baseClass + \"Pane\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getOrderedChildren: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn list of my children in the order that I want layoutChildren()\r\n\t\t\t//\t\tto process them (i.e. from the outside to the inside)\r\n\r\n\t\t\tvar wrappers = array.map(this.getChildren(), function(child, idx){\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpane: child,\r\n\t\t\t\t\tweight: [\r\n\t\t\t\t\t\tchild.region == \"center\" ? Infinity : 0,\r\n\t\t\t\t\t\tchild.layoutPriority,\r\n\t\t\t\t\t\t(this.design == \"sidebar\" ? 1 : -1) * (/top|bottom/.test(child.region) ? 1 : -1),\r\n\t\t\t\t\t\tidx\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t}, this);\r\n\t\t\twrappers.sort(function(a, b){\r\n\t\t\t\tvar aw = a.weight, bw = b.weight;\r\n\t\t\t\tfor(var i = 0; i < aw.length; i++){\r\n\t\t\t\t\tif(aw[i] != bw[i]){\r\n\t\t\t\t\t\treturn aw[i] - bw[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\r\n\t\t\treturn array.map(wrappers, function(w){ return w.pane; });\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\tlayoutUtils.layoutChildren(this.domNode, this._contentBox, this._getOrderedChildren());\r\n\t\t},\r\n\r\n\t\taddChild: function(/*dijit/_WidgetBase*/ child, /*Integer?*/ insertIndex){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this._started){\r\n\t\t\t\tthis.layout();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this._started){\r\n\t\t\t\tthis.layout();\r\n\t\t\t}\r\n\r\n\t\t\t// Clean up whatever style changes we made to the child pane.\r\n\t\t\t// Unclear how height and width should be handled.\r\n\t\t\tdomClass.remove(child.domNode, this.baseClass + \"Pane\");\r\n\t\t\tdomStyle.set(child.domNode, {\r\n\t\t\t\ttop: \"auto\",\r\n\t\t\t\tbottom: \"auto\",\r\n\t\t\t\tleft: \"auto\",\r\n\t\t\t\tright: \"auto\",\r\n\t\t\t\tposition: \"static\"\r\n\t\t\t});\r\n\t\t\tdomStyle.set(child.domNode, /top|bottom/.test(child.region) ? \"width\" : \"height\", \"auto\");\r\n\t\t}\r\n\t});\r\n\r\n\tLayoutContainer.ChildWidgetProperties = {\r\n\t\t// summary:\r\n\t\t//\t\tThese properties can be specified for the children of a LayoutContainer.\r\n\r\n\t\t// region: [const] String\r\n\t\t//\t\tValues: \"top\", \"bottom\", \"leading\", \"trailing\", \"left\", \"right\", \"center\".\r\n\t\t//\t\tSee the `dijit/layout/LayoutContainer` description for details.\r\n\t\tregion: '',\r\n\r\n\t\t// layoutAlign: [const deprecated] String\r\n\t\t//\t\tSynonym for region, except using \"client\" instead of \"center\".  Deprecated; use region instead.\r\n\t\tlayoutAlign: '',\r\n\r\n\t\t// layoutPriority: [const] Number\r\n\t\t//\t\tChildren with a higher layoutPriority will be placed closer to the LayoutContainer center,\r\n\t\t//\t\tbetween children with a lower layoutPriority.\r\n\t\tlayoutPriority: 0\r\n\t};\r\n\r\n\t// Since any widget can be specified as a LayoutContainer child, mix it\r\n\t// into the base widget class.  (This is a hack, but it's effective.)\r\n\t// This is for the benefit of the parser.   Remove for 2.0.  Also, hide from doc viewer.\r\n\tlang.extend(_WidgetBase, /*===== {} || =====*/ LayoutContainer.ChildWidgetProperties);\r\n\r\n\treturn LayoutContainer;\r\n});\r\n\ndefine('dijit/layout/BorderContainer',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.map\r\n\t\"dojo/cookie\", // cookie\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove domClass.toggle\r\n\t\"dojo/dom-construct\", // domConstruct.destroy domConstruct.place\r\n\t\"dojo/dom-geometry\", // domGeometry.marginBox\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"dojo/keys\",\r\n\t\"dojo/_base/lang\", // getObject() hitch() delegate()\r\n\t\"dojo/on\",\r\n\t\"dojo/touch\",\r\n\t\"../_WidgetBase\",\r\n\t\"../_Widget\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"./LayoutContainer\",\r\n\t\"./utils\"        // layoutUtils.layoutChildren\r\n], function(array, cookie, declare, domClass, domConstruct, domGeometry, domStyle, keys, lang, on, touch,\r\n\t\t\t_WidgetBase, _Widget, _TemplatedMixin, LayoutContainer, layoutUtils){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/BorderContainer\r\n\r\n\tvar _Splitter = declare(\"dijit.layout._Splitter\", [_Widget, _TemplatedMixin ], {\r\n\t\t// summary:\r\n\t\t//\t\tA draggable spacer between two items in a `dijit/layout/BorderContainer`.\r\n\t\t// description:\r\n\t\t//\t\tThis is instantiated by `dijit/layout/BorderContainer`.  Users should not\r\n\t\t//\t\tcreate it directly.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t/*=====\r\n\t\t // container: [const] dijit/layout/BorderContainer\r\n\t\t //\t\tPointer to the parent BorderContainer\r\n\t\t container: null,\r\n\r\n\t\t // child: [const] dijit/layout/_LayoutWidget\r\n\t\t //\t\tPointer to the pane associated with this splitter\r\n\t\t child: null,\r\n\r\n\t\t // region: [const] String\r\n\t\t //\t\tRegion of pane associated with this splitter.\r\n\t\t //\t\t\"top\", \"bottom\", \"left\", \"right\".\r\n\t\t region: null,\r\n\t\t =====*/\r\n\r\n\t\t// live: [const] Boolean\r\n\t\t//\t\tIf true, the child's size changes and the child widget is redrawn as you drag the splitter;\r\n\t\t//\t\totherwise, the size doesn't change until you drop the splitter (by mouse-up)\r\n\t\tlive: true,\r\n\r\n\t\ttemplateString: '<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>',\r\n\r\n\t\tconstructor: function(){\r\n\t\t\tthis._handlers = [];\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis.horizontal = /top|bottom/.test(this.region);\r\n\t\t\tthis._factor = /top|left/.test(this.region) ? 1 : -1;\r\n\t\t\tthis._cookieName = this.container.id + \"_\" + this.region;\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tdomClass.add(this.domNode, \"dijitSplitter\" + (this.horizontal ? \"H\" : \"V\"));\r\n\r\n\t\t\tif(this.container.persist){\r\n\t\t\t\t// restore old size\r\n\t\t\t\tvar persistSize = cookie(this._cookieName);\r\n\t\t\t\tif(persistSize){\r\n\t\t\t\t\tthis.child.domNode.style[this.horizontal ? \"height\" : \"width\"] = persistSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_computeMaxSize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturn the maximum size that my corresponding pane can be set to\r\n\r\n\t\t\tvar dim = this.horizontal ? 'h' : 'w',\r\n\t\t\t\tchildSize = domGeometry.getMarginBox(this.child.domNode)[dim],\r\n\t\t\t\tcenter = array.filter(this.container.getChildren(), function(child){\r\n\t\t\t\t\treturn child.region == \"center\";\r\n\t\t\t\t})[0];\r\n\r\n\t\t\t// Can expand until center is crushed.  But always leave room for center's padding + border,\r\n\t\t\t//  otherwise on the next call domGeometry methods start to lie about size.\r\n\t\t\tvar spaceAvailable = domGeometry.getContentBox(center.domNode)[dim] - 10;\r\n\r\n\t\t\treturn Math.min(this.child.maxSize, childSize + spaceAvailable);\r\n\t\t},\r\n\r\n\t\t_startDrag: function(e){\r\n\t\t\tif(!this.cover){\r\n\t\t\t\tthis.cover = domConstruct.place(\"<div class=dijitSplitterCover></div>\", this.child.domNode, \"after\");\r\n\t\t\t}\r\n\t\t\tdomClass.add(this.cover, \"dijitSplitterCoverActive\");\r\n\r\n\t\t\t// Safeguard in case the stop event was missed.  Shouldn't be necessary if we always get the mouse up.\r\n\t\t\tif(this.fake){\r\n\t\t\t\tdomConstruct.destroy(this.fake);\r\n\t\t\t}\r\n\t\t\tif(!(this._resize = this.live)){ //TODO: disable live for IE6?\r\n\t\t\t\t// create fake splitter to display at old position while we drag\r\n\t\t\t\t(this.fake = this.domNode.cloneNode(true)).removeAttribute(\"id\");\r\n\t\t\t\tdomClass.add(this.domNode, \"dijitSplitterShadow\");\r\n\t\t\t\tdomConstruct.place(this.fake, this.domNode, \"after\");\r\n\t\t\t}\r\n\t\t\tdomClass.add(this.domNode, \"dijitSplitterActive dijitSplitter\" + (this.horizontal ? \"H\" : \"V\") + \"Active\");\r\n\t\t\tif(this.fake){\r\n\t\t\t\tdomClass.remove(this.fake, \"dijitSplitterHover dijitSplitter\" + (this.horizontal ? \"H\" : \"V\") + \"Hover\");\r\n\t\t\t}\r\n\r\n\t\t\t//Performance: load data info local vars for onmousevent function closure\r\n\t\t\tvar factor = this._factor,\r\n\t\t\t\tisHorizontal = this.horizontal,\r\n\t\t\t\taxis = isHorizontal ? \"pageY\" : \"pageX\",\r\n\t\t\t\tpageStart = e[axis],\r\n\t\t\t\tsplitterStyle = this.domNode.style,\r\n\t\t\t\tdim = isHorizontal ? 'h' : 'w',\r\n\t\t\t\tchildCS = domStyle.getComputedStyle(this.child.domNode),\r\n\t\t\t\tchildStart = domGeometry.getMarginBox(this.child.domNode, childCS)[dim],\r\n\t\t\t\tmax = this._computeMaxSize(),\r\n\t\t\t\tmin = Math.max(this.child.minSize, domGeometry.getPadBorderExtents(this.child.domNode, childCS)[dim] + 10),\r\n\t\t\t\tregion = this.region,\r\n\t\t\t\tsplitterAttr = region == \"top\" || region == \"bottom\" ? \"top\" : \"left\", // style attribute of splitter to adjust\r\n\t\t\t\tsplitterStart = parseInt(splitterStyle[splitterAttr], 10),\r\n\t\t\t\tresize = this._resize,\r\n\t\t\t\tlayoutFunc = lang.hitch(this.container, \"_layoutChildren\", this.child.id),\r\n\t\t\t\tde = this.ownerDocument;\r\n\r\n\t\t\tthis._handlers = this._handlers.concat([\r\n\t\t\t\ton(de, touch.move, this._drag = function(e, forceResize){\r\n\t\t\t\t\tvar delta = e[axis] - pageStart,\r\n\t\t\t\t\t\tchildSize = factor * delta + childStart,\r\n\t\t\t\t\t\tboundChildSize = Math.max(Math.min(childSize, max), min);\r\n\r\n\t\t\t\t\tif(resize || forceResize){\r\n\t\t\t\t\t\tlayoutFunc(boundChildSize);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// TODO: setting style directly (usually) sets content box size, need to set margin box size\r\n\t\t\t\t\tsplitterStyle[splitterAttr] = delta + splitterStart + factor * (boundChildSize - childSize) + \"px\";\r\n\t\t\t\t}),\r\n\t\t\t\ton(de, \"dragstart\", function(e){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}),\r\n\t\t\t\ton(this.ownerDocumentBody, \"selectstart\", function(e){\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}),\r\n\t\t\t\ton(de, touch.release, lang.hitch(this, \"_stopDrag\"))\r\n\t\t\t]);\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\t_onMouse: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandler for onmouseenter / onmouseleave events\r\n\t\t\tvar o = (e.type == \"mouseover\" || e.type == \"mouseenter\");\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitSplitterHover\", o);\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitSplitter\" + (this.horizontal ? \"H\" : \"V\") + \"Hover\", o);\r\n\t\t},\r\n\r\n\t\t_stopDrag: function(e){\r\n\t\t\ttry{\r\n\t\t\t\tif(this.cover){\r\n\t\t\t\t\tdomClass.remove(this.cover, \"dijitSplitterCoverActive\");\r\n\t\t\t\t}\r\n\t\t\t\tif(this.fake){\r\n\t\t\t\t\tdomConstruct.destroy(this.fake);\r\n\t\t\t\t}\r\n\t\t\t\tdomClass.remove(this.domNode, \"dijitSplitterActive dijitSplitter\"\r\n\t\t\t\t\t+ (this.horizontal ? \"H\" : \"V\") + \"Active dijitSplitterShadow\");\r\n\t\t\t\tthis._drag(e); //TODO: redundant with onmousemove?\r\n\t\t\t\tthis._drag(e, true);\r\n\t\t\t}finally{\r\n\t\t\t\tthis._cleanupHandlers();\r\n\t\t\t\tdelete this._drag;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.container.persist){\r\n\t\t\t\tcookie(this._cookieName, this.child.domNode.style[this.horizontal ? \"height\" : \"width\"], {expires: 365});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_cleanupHandlers: function(){\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this._handlers.pop()){\r\n\t\t\t\th.remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(/*Event*/ e){\r\n\t\t\t// should we apply typematic to this?\r\n\t\t\tthis._resize = true;\r\n\t\t\tvar horizontal = this.horizontal;\r\n\t\t\tvar tick = 1;\r\n\t\t\tswitch(e.keyCode){\r\n\t\t\t\tcase horizontal ? keys.UP_ARROW : keys.LEFT_ARROW:\r\n\t\t\t\t\ttick *= -1;\r\n//\t\t\t\tbreak;\r\n\t\t\t\tcase horizontal ? keys.DOWN_ARROW : keys.RIGHT_ARROW:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n//\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar childSize = domGeometry.getMarginSize(this.child.domNode)[ horizontal ? 'h' : 'w' ] + this._factor * tick;\r\n\t\t\tthis.container._layoutChildren(this.child.id, Math.max(Math.min(childSize, this._computeMaxSize()), this.child.minSize));\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis._cleanupHandlers();\r\n\t\t\tdelete this.child;\r\n\t\t\tdelete this.container;\r\n\t\t\tdelete this.cover;\r\n\t\t\tdelete this.fake;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tvar _Gutter = declare(\"dijit.layout._Gutter\", [_Widget, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tJust a spacer div to separate side pane from center pane.\r\n\t\t//\t\tBasically a trick to lookup the gutter/splitter width from the theme.\r\n\t\t// description:\r\n\t\t//\t\tInstantiated by `dijit/layout/BorderContainer`.  Users should not\r\n\t\t//\t\tcreate directly.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\ttemplateString: '<div class=\"dijitGutter\" role=\"presentation\"></div>',\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.horizontal = /top|bottom/.test(this.region);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tdomClass.add(this.domNode, \"dijitGutter\" + (this.horizontal ? \"H\" : \"V\"));\r\n\t\t}\r\n\t});\r\n\r\n\tvar BorderContainer = declare(\"dijit.layout.BorderContainer\", LayoutContainer, {\r\n\t\t// summary:\r\n\t\t//\t\tA BorderContainer is a `dijit/LayoutContainer` that can have draggable splitters between the children,\r\n\t\t//\t\tin order to adjust their sizes.\r\n\t\t//\r\n\t\t//\t\tIn addition, it automatically adds some space between the children even\r\n\t\t//\t\tif they don't have a draggable splitter between them, and space between the edge of the BorderContainer\r\n\t\t//\t\tand the children that are adjacent to the edge.  Note that the intended style is that all the children\r\n\t\t//\t\thave borders, but (despite the name) the BorderContainer itself does not.\r\n\t\t//\r\n\t\t//\t\tSee `BorderContainer.ChildWidgetProperties` for details on the properties that can be set on\r\n\t\t//\t\tchildren of a `BorderContainer`.\r\n\r\n\t\t// gutters: [const] Boolean\r\n\t\t//\t\tGive each pane a border and margin.\r\n\t\t//\t\tMargin determined by domNode.paddingLeft.\r\n\t\t//\t\tWhen false, only resizable panes have a gutter (i.e. draggable splitter) for resizing.\r\n\t\tgutters: true,\r\n\r\n\t\t// liveSplitters: [const] Boolean\r\n\t\t//\t\tSpecifies whether splitters resize as you drag (true) or only upon mouseup (false)\r\n\t\tliveSplitters: true,\r\n\r\n\t\t// persist: Boolean\r\n\t\t//\t\tSave splitter positions in a cookie.\r\n\t\tpersist: false,\r\n\r\n\t\tbaseClass: \"dijitBorderContainer\",\r\n\r\n\t\t// _splitterClass: Function||String\r\n\t\t//\t\tOptional hook to override the default Splitter widget used by BorderContainer\r\n\t\t_splitterClass: _Splitter,\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// change class name to indicate that BorderContainer is being used purely for\r\n\t\t\t// layout (like LayoutContainer) rather than for pretty formatting.\r\n\t\t\tif(!this.gutters){\r\n\t\t\t\tthis.baseClass += \"NoGutter\";\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// Override LayoutContainer._setupChild().\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar region = child.region, ltr = child.isLeftToRight();\r\n\t\t\tif(region == \"leading\"){\r\n\t\t\t\tregion = ltr ? \"left\" : \"right\";\r\n\t\t\t}\r\n\t\t\tif(region == \"trailing\"){\r\n\t\t\t\tregion = ltr ? \"right\" : \"left\";\r\n\t\t\t}\r\n\r\n\t\t\tif(region){\r\n\t\t\t\t// Create draggable splitter for resizing pane,\r\n\t\t\t\t// or alternately if splitter=false but BorderContainer.gutters=true then\r\n\t\t\t\t// insert dummy div just for spacing\r\n\t\t\t\tif(region != \"center\" && (child.splitter || this.gutters) && !child._splitterWidget){\r\n\t\t\t\t\tvar _Splitter = child.splitter ? this._splitterClass : _Gutter;\r\n\t\t\t\t\tif(lang.isString(_Splitter)){\r\n\t\t\t\t\t\t_Splitter = lang.getObject(_Splitter);\t// for back-compat, remove in 2.0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar splitter = new _Splitter({\r\n\t\t\t\t\t\tid: child.id + \"_splitter\",\r\n\t\t\t\t\t\tcontainer: this,\r\n\t\t\t\t\t\tchild: child,\r\n\t\t\t\t\t\tregion: region,\r\n\t\t\t\t\t\tlive: this.liveSplitters\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsplitter.isSplitter = true;\r\n\t\t\t\t\tchild._splitterWidget = splitter;\r\n\r\n\t\t\t\t\t// Make the tab order match the visual layout by placing the splitter before or after the pane,\r\n\t\t\t\t\t// depending on where the splitter is visually compared to the pane.\r\n\t\t\t\t\tvar before = region == \"bottom\" || region == (this.isLeftToRight() ? \"right\" : \"left\");\r\n\t\t\t\t\tdomConstruct.place(splitter.domNode, child.domNode, before ? \"before\" : \"after\");\r\n\r\n\t\t\t\t\t// Splitters aren't added as Contained children, so we need to call startup explicitly\r\n\t\t\t\t\tsplitter.startup();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// Implement _LayoutWidget.layout() virtual method.\r\n\t\t\tthis._layoutChildren();\r\n\t\t},\r\n\r\n\t\tremoveChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\t\t// Override _LayoutWidget.removeChild().\r\n\r\n\t\t\tvar splitter = child._splitterWidget;\r\n\t\t\tif(splitter){\r\n\t\t\t\tsplitter.destroy();\r\n\t\t\t\tdelete child._splitterWidget;\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tgetChildren: function(){\r\n\t\t\t// Override _LayoutWidget.getChildren() to only return real children, not the splitters.\r\n\t\t\treturn array.filter(this.inherited(arguments), function(widget){\r\n\t\t\t\treturn !widget.isSplitter;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// TODO: remove in 2.0\r\n\t\tgetSplitter: function(/*String*/region){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the widget responsible for rendering the splitter associated with region\r\n\t\t\t// tags:\r\n\t\t\t//\t\tdeprecated\r\n\t\t\treturn array.filter(this.getChildren(), function(child){\r\n\t\t\t\treturn child.region == region;\r\n\t\t\t})[0]._splitterWidget;\r\n\t\t},\r\n\r\n\t\tresize: function(newSize, currentSize){\r\n\t\t\t// Overrides _LayoutWidget.resize().\r\n\r\n\t\t\t// resetting potential padding to 0px to provide support for 100% width/height + padding\r\n\t\t\t// TODO: this hack doesn't respect the box model and is a temporary fix\r\n\t\t\tif(!this.cs || !this.pe){\r\n\t\t\t\tvar node = this.domNode;\r\n\t\t\t\tthis.cs = domStyle.getComputedStyle(node);\r\n\t\t\t\tthis.pe = domGeometry.getPadExtents(node, this.cs);\r\n\t\t\t\tthis.pe.r = domStyle.toPixelValue(node, this.cs.paddingRight);\r\n\t\t\t\tthis.pe.b = domStyle.toPixelValue(node, this.cs.paddingBottom);\r\n\r\n\t\t\t\tdomStyle.set(node, \"padding\", \"0px\");\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_layoutChildren: function(/*String?*/ changedChildId, /*Number?*/ changedChildSize){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis is the main routine for setting size/position of each child.\r\n\t\t\t// description:\r\n\t\t\t//\t\tWith no arguments, measures the height of top/bottom panes, the width\r\n\t\t\t//\t\tof left/right panes, and then sizes all panes accordingly.\r\n\t\t\t//\r\n\t\t\t//\t\tWith changedRegion specified (as \"left\", \"top\", \"bottom\", or \"right\"),\r\n\t\t\t//\t\tit changes that region's width/height to changedRegionSize and\r\n\t\t\t//\t\tthen resizes other regions that were affected.\r\n\t\t\t// changedChildId:\r\n\t\t\t//\t\tId of the child which should be resized because splitter was dragged.\r\n\t\t\t// changedChildSize:\r\n\t\t\t//\t\tThe new width/height (in pixels) to make specified child\r\n\r\n\t\t\tif(!this._borderBox || !this._borderBox.h){\r\n\t\t\t\t// We are currently hidden, or we haven't been sized by our parent yet.\r\n\t\t\t\t// Abort.   Someone will resize us later.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Combining the externally specified children with splitters and gutters\r\n\t\t\tvar childrenAndSplitters = [];\r\n\t\t\tarray.forEach(this._getOrderedChildren(), function(pane){\r\n\t\t\t\tchildrenAndSplitters.push(pane);\r\n\t\t\t\tif(pane._splitterWidget){\r\n\t\t\t\t\tchildrenAndSplitters.push(pane._splitterWidget);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Compute the box in which to lay out my children\r\n\t\t\tvar dim = {\r\n\t\t\t\tl: this.pe.l,\r\n\t\t\t\tt: this.pe.t,\r\n\t\t\t\tw: this._borderBox.w - this.pe.w,\r\n\t\t\t\th: this._borderBox.h - this.pe.h\r\n\t\t\t};\r\n\r\n\t\t\t// Layout the children, possibly changing size due to a splitter drag\r\n\t\t\tlayoutUtils.layoutChildren(this.domNode, dim, childrenAndSplitters,\r\n\t\t\t\tchangedChildId, changedChildSize);\r\n\t\t},\r\n\r\n\t\tdestroyRecursive: function(){\r\n\t\t\t// Destroy splitters first, while getChildren() still works\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tvar splitter = child._splitterWidget;\r\n\t\t\t\tif(splitter){\r\n\t\t\t\t\tsplitter.destroy();\r\n\t\t\t\t}\r\n\t\t\t\tdelete child._splitterWidget;\r\n\t\t\t});\r\n\r\n\t\t\t// Then destroy the real children, and myself\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tBorderContainer.ChildWidgetProperties = {\r\n\t\t// summary:\r\n\t\t//\t\tThese properties can be specified for the children of a BorderContainer.\r\n\r\n\t\t// splitter: [const] Boolean\r\n\t\t//\t\tParameter for children where region != \"center\".\r\n\t\t//\t\tIf true, enables user to resize the widget by putting a draggable splitter between\r\n\t\t//\t\tthis widget and the region=center widget.\r\n\t\tsplitter: false,\r\n\r\n\t\t// minSize: [const] Number\r\n\t\t//\t\tSpecifies a minimum size (in pixels) for this widget when resized by a splitter.\r\n\t\tminSize: 0,\r\n\r\n\t\t// maxSize: [const] Number\r\n\t\t//\t\tSpecifies a maximum size (in pixels) for this widget when resized by a splitter.\r\n\t\tmaxSize: Infinity\r\n\t};\r\n\tlang.mixin(BorderContainer.ChildWidgetProperties, LayoutContainer.ChildWidgetProperties);\r\n\r\n\t// Since any widget can be specified as a BorderContainer child, mix it\r\n\t// into the base widget class.  (This is a hack, but it's effective.)\r\n\t// This is for the benefit of the parser.   Remove for 2.0.  Also, hide from doc viewer.\r\n\tlang.extend(_WidgetBase, /*===== {} || =====*/ BorderContainer.ChildWidgetProperties);\r\n\r\n\t// For monkey patching\r\n\tBorderContainer._Splitter = _Splitter;\r\n\tBorderContainer._Gutter = _Gutter;\r\n\r\n\treturn BorderContainer;\r\n});\r\n\ndefine('dijit/layout/LinkPane',[\r\n\t\"./ContentPane\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"dojo/_base/declare\" // declare\r\n], function(ContentPane, _TemplatedMixin, declare){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/LinkPane\r\n\r\n\r\n\treturn declare(\"dijit.layout.LinkPane\", [ContentPane, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA ContentPane with an href where (when declared in markup)\r\n\t\t//\t\tthe title is specified as innerHTML rather than as a title attribute.\r\n\t\t// description:\r\n\t\t//\t\tLinkPane is just a ContentPane that is declared in markup similarly\r\n\t\t//\t\tto an anchor.  The anchor's body (the words between `<a>` and `</a>`)\r\n\t\t//\t\tbecome the title of the widget (used for TabContainer, AccordionContainer, etc.)\r\n\t\t// example:\r\n\t\t//\t| <a href=\"foo.html\">my title</a>\r\n\r\n\t\t// I'm using a template because the user may specify the input as\r\n\t\t// <a href=\"foo.html\">title</a>, in which case we need to get rid of the\r\n\t\t// <a> because we don't want a link.\r\n\t\ttemplateString: '<div class=\"dijitLinkPane\" data-dojo-attach-point=\"containerNode\"></div>',\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// If user has specified node contents, they become the title\r\n\t\t\t// (the link must be plain text)\r\n\t\t\tif(this.srcNodeRef){\r\n\t\t\t\tthis.title += this.srcNodeRef.innerHTML;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_fillContent: function(){\r\n\t\t\t// Overrides _Templated._fillContent().\r\n\r\n\t\t\t// _Templated._fillContent() relocates srcNodeRef innerHTML to templated container node,\r\n\t\t\t// but in our case the srcNodeRef innerHTML is the title, so shouldn't be\r\n\t\t\t// copied\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/layout/SplitContainer',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.some\r\n\t\"dojo/cookie\", // cookie\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.destroy\r\n\t\"dojo/dom-geometry\", // domGeometry.marginBox domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"dojo/_base/event\", // event.stop\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"dojo/_base/lang\", // lang.extend lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/sniff\", // has(\"mozilla\")\r\n\t\"../registry\",\t// registry.getUniqueId()\r\n\t\"../_WidgetBase\",\r\n\t\"./_LayoutWidget\"\r\n], function(array, cookie, declare, dom, domClass, domConstruct, domGeometry, domStyle,\r\n\t\t\tevent, kernel, lang, on, has, registry, _WidgetBase, _LayoutWidget){\r\n\r\n// module:\r\n//\t\tdijit/layout/SplitContainer\r\n\r\n//\r\n// FIXME: make it prettier\r\n// FIXME: active dragging upwards doesn't always shift other bars (direction calculation is wrong in this case)\r\n// FIXME: sizeWidth should be a CSS attribute (at 7 because css wants it to be 7 until we fix to css)\r\n//\r\n\r\nvar SplitContainer = declare(\"dijit.layout.SplitContainer\", _LayoutWidget, {\r\n\t// summary:\r\n\t//\t\tDeprecated.  Use `dijit/layout/BorderContainer` instead.\r\n\t// description:\r\n\t//\t\tA Container widget with sizing handles in-between each child.\r\n\t//\t\tContains multiple children widgets, all of which are displayed side by side\r\n\t//\t\t(either horizontally or vertically); there's a bar between each of the children,\r\n\t//\t\tand you can adjust the relative size of each child by dragging the bars.\r\n\t//\r\n\t//\t\tYou must specify a size (width and height) for the SplitContainer.\r\n\t//\r\n\t//\t\tSee `SplitContainer.ChildWidgetProperties` for details on the properties that can be set on\r\n\t//\t\tchildren of a `SplitContainer`.\r\n\t// tags:\r\n\t//\t\tdeprecated\r\n\r\n\tconstructor: function(){\r\n\t\tkernel.deprecated(\"dijit.layout.SplitContainer is deprecated\", \"use BorderContainer with splitter instead\", 2.0);\r\n\t},\r\n\r\n\t// activeSizing: Boolean\r\n\t//\t\tIf true, the children's size changes as you drag the bar;\r\n\t//\t\totherwise, the sizes don't change until you drop the bar (by mouse-up)\r\n\tactiveSizing: false,\r\n\r\n\t// sizerWidth: Integer\r\n\t//\t\tSize in pixels of the bar between each child\r\n\tsizerWidth: 7,\r\n\r\n\t// orientation: String\r\n\t//\t\teither 'horizontal' or vertical; indicates whether the children are\r\n\t//\t\tarranged side-by-side or up/down.\r\n\torientation: 'horizontal',\r\n\r\n\t// persist: Boolean\r\n\t//\t\tSave splitter positions in a cookie\r\n\tpersist: true,\r\n\r\n\tbaseClass: \"dijitSplitContainer\",\r\n\r\n\tpostMixInProperties: function(){\r\n\t\tthis.inherited(\"postMixInProperties\",arguments);\r\n\t\tthis.isHorizontal = (this.orientation == 'horizontal');\r\n\t},\r\n\r\n\tpostCreate: function(){\r\n\t\tthis.inherited(arguments);\r\n\t\tthis.sizers = [];\r\n\r\n\t\t// overflow has to be explicitly hidden for splitContainers using gekko (trac #1435)\r\n\t\t// to keep other combined css classes from inadvertantly making the overflow visible\r\n\t\tif(has(\"mozilla\")){\r\n\t\t\tthis.domNode.style.overflow = '-moz-scrollbars-none'; // hidden doesn't work\r\n\t\t}\r\n\r\n\t\t// create the fake dragger\r\n\t\tif(typeof this.sizerWidth == \"object\"){\r\n\t\t\ttry{ //FIXME: do this without a try/catch\r\n\t\t\t\tthis.sizerWidth = parseInt(this.sizerWidth.toString());\r\n\t\t\t}catch(e){ this.sizerWidth = 7; }\r\n\t\t}\r\n\t\tvar sizer = this.ownerDocument.createElement('div');\r\n\t\tthis.virtualSizer = sizer;\r\n\t\tsizer.style.position = 'relative';\r\n\r\n\t\t// #1681: work around the dreaded 'quirky percentages in IE' layout bug\r\n\t\t// If the splitcontainer's dimensions are specified in percentages, it\r\n\t\t// will be resized when the virtualsizer is displayed in _showSizingLine\r\n\t\t// (typically expanding its bounds unnecessarily). This happens because\r\n\t\t// we use position: relative for .dijitSplitContainer.\r\n\t\t// The workaround: instead of changing the display style attribute,\r\n\t\t// switch to changing the zIndex (bring to front/move to back)\r\n\r\n\t\tsizer.style.zIndex = 10;\r\n\t\tsizer.className = this.isHorizontal ? 'dijitSplitContainerVirtualSizerH' : 'dijitSplitContainerVirtualSizerV';\r\n\t\tthis.domNode.appendChild(sizer);\r\n\t\tdom.setSelectable(sizer, false);\r\n\t},\r\n\r\n\tdestroy: function(){\r\n\t\tdelete this.virtualSizer;\r\n\t\tif(this._ownconnects){\r\n\t\t\tvar h;\r\n\t\t\twhile(h = this._ownconnects.pop()){ h.remove(); }\r\n\t\t}\r\n\t\tthis.inherited(arguments);\r\n\t},\r\n\tstartup: function(){\r\n\t\tif(this._started){ return; }\r\n\r\n\t\tarray.forEach(this.getChildren(), function(child, i, children){\r\n\t\t\t// attach the children and create the draggers\r\n\t\t\tthis._setupChild(child);\r\n\r\n\t\t\tif(i < children.length-1){\r\n\t\t\t\tthis._addSizer();\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tif(this.persist){\r\n\t\t\tthis._restoreState();\r\n\t\t}\r\n\r\n\t\tthis.inherited(arguments);\r\n\t},\r\n\r\n\t_setupChild: function(/*dijit/_WidgetBase*/ child){\r\n\t\tthis.inherited(arguments);\r\n\t\tchild.domNode.style.position = \"absolute\";\r\n\t\tdomClass.add(child.domNode, \"dijitSplitPane\");\r\n\t},\r\n\r\n\t_onSizerMouseDown: function(e){\r\n\t\tif(e.target.id){\r\n\t\t\tfor(var i=0;i<this.sizers.length;i++){\r\n\t\t\t\tif(this.sizers[i].id == e.target.id){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(i<this.sizers.length){\r\n\t\t\t\tthis.beginSizing(e,i);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_addSizer: function(index){\r\n\t\tindex = index === undefined ? this.sizers.length : index;\r\n\r\n\t\t// TODO: use a template for this!!!\r\n\t\tvar sizer = this.ownerDocument.createElement('div');\r\n\t\tsizer.id=registry.getUniqueId('dijit_layout_SplitterContainer_Splitter');\r\n\t\tthis.sizers.splice(index,0,sizer);\r\n\t\tthis.domNode.appendChild(sizer);\r\n\r\n\t\tsizer.className = this.isHorizontal ? 'dijitSplitContainerSizerH' : 'dijitSplitContainerSizerV';\r\n\r\n\t\t// add the thumb div\r\n\t\tvar thumb = this.ownerDocument.createElement('div');\r\n\t\tthumb.className = 'thumb';\r\n\t\tsizer.appendChild(thumb);\r\n\r\n\t\t// FIXME: are you serious? why aren't we using mover start/stop combo?\r\n\t\tthis.connect(sizer, \"onmousedown\", '_onSizerMouseDown');\r\n\r\n\t\tdom.setSelectable(sizer, false);\r\n\t},\r\n\r\n\tremoveChild: function(widget){\r\n\t\t// summary:\r\n\t\t//\t\tRemove sizer, but only if widget is really our child and\r\n\t\t//\t\twe have at least one sizer to throw away\r\n\t\tif(this.sizers.length){\r\n\t\t\tvar i = array.indexOf(this.getChildren(), widget);\r\n\t\t\tif(i != -1){\r\n\t\t\t\tif(i == this.sizers.length){\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t\tdomConstruct.destroy(this.sizers[i]);\r\n\t\t\t\tthis.sizers.splice(i,1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove widget and repaint\r\n\t\tthis.inherited(arguments);\r\n\t\tif(this._started){\r\n\t\t\tthis.layout();\r\n\t\t}\r\n\t},\r\n\r\n\taddChild: function(/*dijit/_WidgetBase*/ child, /*Integer?*/ insertIndex){\r\n\t\t// summary:\r\n\t\t//\t\tAdd a child widget to the container\r\n\t\t// child:\r\n\t\t//\t\ta widget to add\r\n\t\t// insertIndex:\r\n\t\t//\t\tposition in the \"stack\" to add the child widget\r\n\r\n\t\t// SplitContainer puts all the child widgets first, and all the splitters at the end.\r\n\t\t// (This is not ideal for accessibility but not going to fix because the widget is deprecated.)\r\n\t\t// So, just need to maintain that order so that _Container.addChild() puts the widgets where expected.\r\n\t\tif(typeof insertIndex == \"undefined\" || insertIndex == \"last\"){\r\n\t\t\tinsertIndex = this.getChildren().length;\r\n\t\t}\r\n\r\n\t\tthis.inherited(arguments, [child, insertIndex]);\r\n\r\n\t\tif(this._started){\r\n\t\t\t// Do the stuff that startup() does for each widget\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tif(children.length > 1){\r\n\t\t\t\tthis._addSizer(insertIndex);\r\n\t\t\t}\r\n\r\n\t\t\t// and then reposition (ie, shrink) every pane to make room for the new guy\r\n\t\t\tthis.layout();\r\n\t\t}\r\n\t},\r\n\r\n\tlayout: function(){\r\n\t\t// summary:\r\n\t\t//\t\tDo layout of panels\r\n\r\n\t\t// base class defines this._contentBox on initial creation and also\r\n\t\t// on resize\r\n\t\tthis.paneWidth = this._contentBox.w;\r\n\t\tthis.paneHeight = this._contentBox.h;\r\n\r\n\t\tvar children = this.getChildren();\r\n\t\tif(!children.length){ return; }\r\n\r\n\t\t//\r\n\t\t// calculate space\r\n\t\t//\r\n\r\n\t\tvar space = this.isHorizontal ? this.paneWidth : this.paneHeight;\r\n\t\tif(children.length > 1){\r\n\t\t\tspace -= this.sizerWidth * (children.length - 1);\r\n\t\t}\r\n\r\n\t\t//\r\n\t\t// calculate total of SizeShare values\r\n\t\t//\r\n\t\tvar outOf = 0;\r\n\t\tarray.forEach(children, function(child){\r\n\t\t\toutOf += child.sizeShare;\r\n\t\t});\r\n\r\n\t\t//\r\n\t\t// work out actual pixels per sizeshare unit\r\n\t\t//\r\n\t\tvar pixPerUnit = space / outOf;\r\n\r\n\t\t//\r\n\t\t// set the SizeActual member of each pane\r\n\t\t//\r\n\t\tvar totalSize = 0;\r\n\t\tarray.forEach(children.slice(0, children.length - 1), function(child){\r\n\t\t\tvar size = Math.round(pixPerUnit * child.sizeShare);\r\n\t\t\tchild.sizeActual = size;\r\n\t\t\ttotalSize += size;\r\n\t\t});\r\n\r\n\t\tchildren[children.length-1].sizeActual = space - totalSize;\r\n\r\n\t\t//\r\n\t\t// make sure the sizes are ok\r\n\t\t//\r\n\t\tthis._checkSizes();\r\n\r\n\t\t//\r\n\t\t// now loop, positioning each pane and letting children resize themselves\r\n\t\t//\r\n\r\n\t\tvar pos = 0;\r\n\t\tvar size = children[0].sizeActual;\r\n\t\tthis._movePanel(children[0], pos, size);\r\n\t\tchildren[0].position = pos;\r\n\t\tpos += size;\r\n\r\n\t\t// if we don't have any sizers, our layout method hasn't been called yet\r\n\t\t// so bail until we are called..TODO: REVISIT: need to change the startup\r\n\t\t// algorithm to guaranteed the ordering of calls to layout method\r\n\t\tif(!this.sizers){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tarray.some(children.slice(1), function(child, i){\r\n\t\t\t// error-checking\r\n\t\t\tif(!this.sizers[i]){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// first we position the sizing handle before this pane\r\n\t\t\tthis._moveSlider(this.sizers[i], pos, this.sizerWidth);\r\n\t\t\tthis.sizers[i].position = pos;\r\n\t\t\tpos += this.sizerWidth;\r\n\r\n\t\t\tsize = child.sizeActual;\r\n\t\t\tthis._movePanel(child, pos, size);\r\n\t\t\tchild.position = pos;\r\n\t\t\tpos += size;\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_movePanel: function(panel, pos, size){\r\n\t\tvar box;\r\n\t\tif(this.isHorizontal){\r\n\t\t\tpanel.domNode.style.left = pos + 'px';\t// TODO: resize() takes l and t parameters too, don't need to set manually\r\n\t\t\tpanel.domNode.style.top = 0;\r\n\t\t\tbox = {w: size, h: this.paneHeight};\r\n\t\t\tif(panel.resize){\r\n\t\t\t\tpanel.resize(box);\r\n\t\t\t}else{\r\n\t\t\t\tdomGeometry.setMarginBox(panel.domNode, box);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tpanel.domNode.style.left = 0;\t// TODO: resize() takes l and t parameters too, don't need to set manually\r\n\t\t\tpanel.domNode.style.top = pos + 'px';\r\n\t\t\tbox = {w: this.paneWidth, h: size};\r\n\t\t\tif(panel.resize){\r\n\t\t\t\tpanel.resize(box);\r\n\t\t\t}else{\r\n\t\t\t\tdomGeometry.setMarginBox(panel.domNode, box);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_moveSlider: function(slider, pos, size){\r\n\t\tif(this.isHorizontal){\r\n\t\t\tslider.style.left = pos + 'px';\r\n\t\t\tslider.style.top = 0;\r\n\t\t\tdomGeometry.setMarginBox(slider, { w: size, h: this.paneHeight });\r\n\t\t}else{\r\n\t\t\tslider.style.left = 0;\r\n\t\t\tslider.style.top = pos + 'px';\r\n\t\t\tdomGeometry.setMarginBox(slider, { w: this.paneWidth, h: size });\r\n\t\t}\r\n\t},\r\n\r\n\t_growPane: function(growth, pane){\r\n\t\tif(growth > 0){\r\n\t\t\tif(pane.sizeActual > pane.sizeMin){\r\n\t\t\t\tif((pane.sizeActual - pane.sizeMin) > growth){\r\n\r\n\t\t\t\t\t// stick all the growth in this pane\r\n\t\t\t\t\tpane.sizeActual = pane.sizeActual - growth;\r\n\t\t\t\t\tgrowth = 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// put as much growth in here as we can\r\n\t\t\t\t\tgrowth -= pane.sizeActual - pane.sizeMin;\r\n\t\t\t\t\tpane.sizeActual = pane.sizeMin;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn growth;\r\n\t},\r\n\r\n\t_checkSizes: function(){\r\n\r\n\t\tvar totalMinSize = 0;\r\n\t\tvar totalSize = 0;\r\n\t\tvar children = this.getChildren();\r\n\r\n\t\tarray.forEach(children, function(child){\r\n\t\t\ttotalSize += child.sizeActual;\r\n\t\t\ttotalMinSize += child.sizeMin;\r\n\t\t});\r\n\r\n\t\t// only make adjustments if we have enough space for all the minimums\r\n\r\n\t\tif(totalMinSize <= totalSize){\r\n\r\n\t\t\tvar growth = 0;\r\n\r\n\t\t\tarray.forEach(children, function(child){\r\n\t\t\t\tif(child.sizeActual < child.sizeMin){\r\n\t\t\t\t\tgrowth += child.sizeMin - child.sizeActual;\r\n\t\t\t\t\tchild.sizeActual = child.sizeMin;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(growth > 0){\r\n\t\t\t\tvar list = this.isDraggingLeft ? children.reverse() : children;\r\n\t\t\t\tarray.forEach(list, function(child){\r\n\t\t\t\t\tgrowth = this._growPane(growth, child);\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tarray.forEach(children, function(child){\r\n\t\t\t\tchild.sizeActual = Math.round(totalSize * (child.sizeMin / totalMinSize));\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tbeginSizing: function(e, i){\r\n\t\t// summary:\r\n\t\t//\t\tBegin dragging the splitter between child[i] and child[i+1]\r\n\r\n\t\tvar children = this.getChildren();\r\n\r\n\t\tthis.paneBefore = children[i];\r\n\t\tthis.paneAfter = children[i+1];\r\n\r\n\t\tthis.paneBefore.sizeBeforeDrag = this.paneBefore.sizeActual;\r\n\t\tthis.paneAfter.sizeBeforeDrag = this.paneAfter.sizeActual;\r\n\t\tthis.paneAfter.positionBeforeDrag = this.paneAfter.position;\r\n\r\n\t\tthis.isSizing = true;\r\n\t\tthis.sizingSplitter = this.sizers[i];\r\n\t\tthis.sizingSplitter.positionBeforeDrag = domStyle.get(this.sizingSplitter,(this.isHorizontal ? \"left\" : \"top\"));\r\n\r\n\t\tif(!this.cover){\r\n\t\t\tthis.cover = domConstruct.create('div', {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tposition:'absolute',\r\n\t\t\t\t\tzIndex:5,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\theight: \"100%\"\r\n\t\t\t\t}\r\n\t\t\t}, this.domNode);\r\n\t\t}else{\r\n\t\t\tthis.cover.style.zIndex = 5;\r\n\t\t}\r\n\t\tthis.sizingSplitter.style.zIndex = 6;\r\n\r\n\t\t// startPoint is the e.pageX or e.pageY at start of drag\r\n\t\tthis.startPoint = this.lastPoint = (this.isHorizontal ? e.pageX : e.pageY);\r\n\r\n\t\t// Calculate maximum to the left or right that splitter is allowed to be dragged\r\n\t\t// minDelta is negative to indicate left/upward drag where end.pageX < start.pageX.\r\n\t\tthis.maxDelta = this.paneAfter.sizeActual - this.paneAfter.sizeMin;\r\n\t\tthis.minDelta = -1 * (this.paneBefore.sizeActual - this.paneBefore.sizeMin);\r\n\r\n\t\tif(!this.activeSizing){\r\n\t\t\tthis._showSizingLine();\r\n\t\t}\r\n\r\n\t\t// attach mouse events\r\n\t\tthis._ownconnects = [\r\n\t\t\ton(this.ownerDocument.documentElement, \"mousemove\", lang.hitch(this, \"changeSizing\")),\r\n\t\t\ton(this.ownerDocument.documentElement, \"mouseup\", lang.hitch(this, \"endSizing\"))\r\n\t\t];\r\n\r\n\t\tevent.stop(e);\r\n\t},\r\n\r\n\tchangeSizing: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tCalled on mousemove while dragging the splitter\r\n\r\n\t\tif(!this.isSizing){ return; }\r\n\r\n\t\t// lastPoint is the most recent e.pageX or e.pageY during the drag\r\n\t\tthis.lastPoint = this.isHorizontal ? e.pageX : e.pageY;\r\n\t\tvar delta = Math.max(Math.min(this.lastPoint - this.startPoint, this.maxDelta), this.minDelta);\r\n\r\n\t\tif(this.activeSizing){\r\n\t\t\tthis._updateSize(delta);\r\n\t\t}else{\r\n\t\t\tthis._moveSizingLine(delta);\r\n\t\t}\r\n\t\tevent.stop(e);\r\n\t},\r\n\r\n\tendSizing: function(){\r\n\t\tif(!this.isSizing){ return; }\r\n\t\tif(this.cover){\r\n\t\t\tthis.cover.style.zIndex = -1;\r\n\t\t}\r\n\t\tif(!this.activeSizing){\r\n\t\t\tthis._hideSizingLine();\r\n\t\t}\r\n\r\n\t\tvar delta = Math.max(Math.min(this.lastPoint - this.startPoint, this.maxDelta), this.minDelta);\r\n\t\tthis._updateSize(delta);\r\n\r\n\t\tthis.isSizing = false;\r\n\r\n\t\tif(this.persist){\r\n\t\t\tthis._saveState(this);\r\n\t\t}\r\n\r\n\t\tvar h;\r\n\t\twhile(h = this._ownconnects.pop()){ h.remove(); }\r\n\t},\r\n\r\n\t_updateSize: function(/*Number*/ delta){\r\n\t\t// summary:\r\n\t\t//\t\tResets sizes of panes before and after splitter being dragged.\r\n\t\t//\t\tCalled during a drag, for active sizing, or at the end of a drag otherwise.\r\n\t\t// delta: Number\r\n\t\t//\t\tChange in slider position compared to start of drag.   But note that\r\n\t\t//\t\tthis function may be called multiple times during drag.\r\n\r\n\t\tthis.paneBefore.sizeActual = this.paneBefore.sizeBeforeDrag + delta;\r\n\t\tthis.paneAfter.position\t= this.paneAfter.positionBeforeDrag + delta;\r\n\t\tthis.paneAfter.sizeActual = this.paneAfter.sizeBeforeDrag - delta;\r\n\r\n\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\tchild.sizeShare = child.sizeActual;\r\n\t\t});\r\n\r\n\t\tif(this._started){\r\n\t\t\tthis.layout();\r\n\t\t}\r\n\t},\r\n\r\n\t_showSizingLine: function(){\r\n\t\t// summary:\r\n\t\t//\t\tShow virtual splitter, for non-active resizing\r\n\r\n\t\tthis._moveSizingLine(0);\r\n\r\n\t\tdomGeometry.setMarginBox(this.virtualSizer,\r\n\t\t\tthis.isHorizontal ? { w: this.sizerWidth, h: this.paneHeight } : { w: this.paneWidth, h: this.sizerWidth });\r\n\r\n\t\tthis.virtualSizer.style.display = 'block';\r\n\t},\r\n\r\n\t_hideSizingLine: function(){\r\n\t\tthis.virtualSizer.style.display = 'none';\r\n\t},\r\n\r\n\t_moveSizingLine: function(/*Number*/ delta){\r\n\t\t// summary:\r\n\t\t//\t\tCalled for non-active resizing, to move the virtual splitter without adjusting the size of the panes\r\n\t\tvar pos = delta + this.sizingSplitter.positionBeforeDrag;\r\n\t\tdomStyle.set(this.virtualSizer,(this.isHorizontal ? \"left\" : \"top\"),pos+\"px\");\r\n\t},\r\n\r\n\t_getCookieName: function(i){\r\n\t\treturn this.id + \"_\" + i;\r\n\t},\r\n\r\n\t_restoreState: function(){\r\n\t\tarray.forEach(this.getChildren(), function(child, i){\r\n\t\t\tvar cookieName = this._getCookieName(i);\r\n\t\t\tvar cookieValue = cookie(cookieName);\r\n\t\t\tif(cookieValue){\r\n\t\t\t\tvar pos = parseInt(cookieValue);\r\n\t\t\t\tif(typeof pos == \"number\"){\r\n\t\t\t\t\tchild.sizeShare = pos;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_saveState: function(){\r\n\t\tif(!this.persist){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tarray.forEach(this.getChildren(), function(child, i){\r\n\t\t\tcookie(this._getCookieName(i), child.sizeShare, {expires:365});\r\n\t\t}, this);\r\n\t}\r\n});\r\n\r\nSplitContainer.ChildWidgetProperties = {\r\n\t// summary:\r\n\t//\t\tThese properties can be specified for the children of a SplitContainer.\r\n\r\n\t// sizeMin: [deprecated] Integer\r\n\t//\t\tMinimum size (width or height) of a child of a SplitContainer.\r\n\t//\t\tThe value is relative to other children's sizeShare properties.\r\n\tsizeMin: 10,\r\n\r\n\t// sizeShare: [deprecated] Integer\r\n\t//\t\tSize (width or height) of a child of a SplitContainer.\r\n\t//\t\tThe value is relative to other children's sizeShare properties.\r\n\t//\t\tFor example, if there are two children and each has sizeShare=10, then\r\n\t//\t\teach takes up 50% of the available space.\r\n\tsizeShare: 10\r\n};\r\n\r\n// Since any widget can be specified as a SplitContainer child, mix them\r\n// into the base widget class.  (This is a hack, but it's effective.)\r\n// This is for the benefit of the parser.   Remove for 2.0.  Also, hide from doc viewer.\r\nlang.extend(_WidgetBase, /*===== {} || =====*/ SplitContainer.ChildWidgetProperties);\r\n\r\nreturn SplitContainer;\r\n\r\n});\r\n\n\ndefine('dijit/layout/_TabContainerBase',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/dom-geometry\", // domGeometry.contentBox\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"./StackContainer\",\r\n\t\"./utils\", // marginBox2contextBox, layoutChildren\r\n\t\"../registry\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"dojo/text!./templates/TabContainer.html\"\r\n], function(declare, domClass, domGeometry, domStyle, StackContainer, layoutUtils, registry, _TemplatedMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/_TabContainerBase\r\n\r\n\treturn declare(\"dijit.layout._TabContainerBase\", [StackContainer, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tAbstract base class for TabContainer.   Must define _makeController() to instantiate\r\n\t\t//\t\tand return the widget that displays the tab labels\r\n\t\t// description:\r\n\t\t//\t\tA TabContainer is a container that has multiple panes, but shows only\r\n\t\t//\t\tone pane at a time.  There are a set of tabs corresponding to each pane,\r\n\t\t//\t\twhere each tab has the name (aka title) of the pane, and optionally a close button.\r\n\r\n\t\t// tabPosition: String\r\n\t\t//\t\tDefines where tabs go relative to tab content.\r\n\t\t//\t\t\"top\", \"bottom\", \"left-h\", \"right-h\"\r\n\t\ttabPosition: \"top\",\r\n\r\n\t\tbaseClass: \"dijitTabContainer\",\r\n\r\n\t\t// tabStrip: [const] Boolean\r\n\t\t//\t\tDefines whether the tablist gets an extra class for layouting, putting a border/shading\r\n\t\t//\t\taround the set of tabs.   Not supported by claro theme.\r\n\t\ttabStrip: false,\r\n\r\n\t\t// nested: [const] Boolean\r\n\t\t//\t\tIf true, use styling for a TabContainer nested inside another TabContainer.\r\n\t\t//\t\tFor tundra etc., makes tabs look like links, and hides the outer\r\n\t\t//\t\tborder since the outer TabContainer already has a border.\r\n\t\tnested: false,\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// set class name according to tab position, ex: dijitTabContainerTop\r\n\t\t\tthis.baseClass += this.tabPosition.charAt(0).toUpperCase() + this.tabPosition.substr(1).replace(/-.*/, \"\");\r\n\r\n\t\t\tthis.srcNodeRef && domStyle.set(this.srcNodeRef, \"visibility\", \"hidden\");\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Create the tab list that will have a tab (a.k.a. tab button) for each tab panel\r\n\t\t\tthis.tablist = this._makeController(this.tablistNode);\r\n\r\n\t\t\tif(!this.doLayout){\r\n\t\t\t\tdomClass.add(this.domNode, \"dijitTabContainerNoLayout\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.nested){\r\n\t\t\t\t/* workaround IE's lack of support for \"a > b\" selectors by\r\n\t\t\t\t * tagging each node in the template.\r\n\t\t\t\t */\r\n\t\t\t\tdomClass.add(this.domNode, \"dijitTabContainerNested\");\r\n\t\t\t\tdomClass.add(this.tablist.containerNode, \"dijitTabContainerTabListNested\");\r\n\t\t\t\tdomClass.add(this.tablistSpacer, \"dijitTabContainerSpacerNested\");\r\n\t\t\t\tdomClass.add(this.containerNode, \"dijitTabPaneWrapperNested\");\r\n\t\t\t}else{\r\n\t\t\t\tdomClass.add(this.domNode, \"tabStrip-\" + (this.tabStrip ? \"enabled\" : \"disabled\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/ tab){\r\n\t\t\t// Overrides StackContainer._setupChild().\r\n\t\t\tdomClass.add(tab.domNode, \"dijitTabPane\");\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// wire up the tablist and its tabs\r\n\t\t\tthis.tablist.startup();\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// Overrides StackContainer.layout().\r\n\t\t\t// Configure the content pane to take up all the space except for where the tabs are\r\n\r\n\t\t\tif(!this._contentBox || typeof(this._contentBox.l) == \"undefined\"){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sc = this.selectedChildWidget;\r\n\r\n\t\t\tif(this.doLayout){\r\n\t\t\t\t// position and size the titles and the container node\r\n\t\t\t\tvar titleAlign = this.tabPosition.replace(/-h/, \"\");\r\n\t\t\t\tthis.tablist.region = titleAlign;\r\n\t\t\t\tvar children = [this.tablist, {\r\n\t\t\t\t\tdomNode: this.tablistSpacer,\r\n\t\t\t\t\tregion: titleAlign\r\n\t\t\t\t}, {\r\n\t\t\t\t\tdomNode: this.containerNode,\r\n\t\t\t\t\tregion: \"center\"\r\n\t\t\t\t}];\r\n\t\t\t\tlayoutUtils.layoutChildren(this.domNode, this._contentBox, children);\r\n\r\n\t\t\t\t// Compute size to make each of my children.\r\n\t\t\t\t// children[2] is the margin-box size of this.containerNode, set by layoutChildren() call above\r\n\t\t\t\tthis._containerContentBox = layoutUtils.marginBox2contentBox(this.containerNode, children[2]);\r\n\r\n\t\t\t\tif(sc && sc.resize){\r\n\t\t\t\t\tsc.resize(this._containerContentBox);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// just layout the tab controller, so it can position left/right buttons etc.\r\n\t\t\t\tif(this.tablist.resize){\r\n\t\t\t\t\t//make the tabs zero width so that they don't interfere with width calc, then reset\r\n\t\t\t\t\tvar s = this.tablist.domNode.style;\r\n\t\t\t\t\ts.width = \"0\";\r\n\t\t\t\t\tvar width = domGeometry.getContentBox(this.domNode).w;\r\n\t\t\t\t\ts.width = \"\";\r\n\t\t\t\t\tthis.tablist.resize({w: width});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// and call resize() on the selected pane just to tell it that it's been made visible\r\n\t\t\t\tif(sc && sc.resize){\r\n\t\t\t\t\tsc.resize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(preserveDom){\r\n\t\t\tif(this.tablist){\r\n\t\t\t\tthis.tablist.destroy(preserveDom);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tselectChild: function(/*dijit/_WidgetBase|String*/ page, /*Boolean*/ animate){\r\n\t\t\t// Override _StackContainer.selectChild() so the page's focus isn't left in a strange state.\r\n\r\n\t\t\tif(this._focused){\r\n\t\t\t\t// Focus must be inside the currently selected tab,\r\n\t\t\t\t// or on the currently selected tab label.\r\n\t\t\t\tpage = registry.byId(page);\r\n\t\t\t\tthis.tablist.pane2button(page.id).focus();\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/layout/StackController',[\r\n\t\"dojo/_base/array\", // array.forEach array.indexOf array.map\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/keys\", // keys\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/on\",\r\n\t\"dojo/topic\",\r\n\t\"../focus\", // focus.focus()\r\n\t\"../registry\", // registry.byId\r\n\t\"../_Widget\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"../_Container\",\r\n\t\"../form/ToggleButton\",\r\n\t\"dojo/touch\"\t// for normalized click handling, see dojoClick property setting in postCreate()\r\n], function(array, declare, domClass, domConstruct, keys, lang, on, topic,\r\n\t\t\tfocus, registry, _Widget, _TemplatedMixin,_Container, ToggleButton){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/StackController\r\n\r\n\tvar StackButton = declare(\"dijit.layout._StackButton\", ToggleButton, {\r\n\t\t// summary:\r\n\t\t//\t\tInternal widget used by StackContainer.\r\n\t\t// description:\r\n\t\t//\t\tThe button-like or tab-like object you click to select or delete a page\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// Override _FormWidget.tabIndex.\r\n\t\t// StackContainer buttons are not in the tab order by default.\r\n\t\t// Probably we should be calling this.startupKeyNavChildren() instead.\r\n\t\ttabIndex: \"-1\",\r\n\r\n\t\t// closeButton: Boolean\r\n\t\t//\t\tWhen true, display close button for this tab\r\n\t\tcloseButton: false,\r\n\r\n\t\t_aria_attr: \"aria-selected\",\r\n\r\n\t\tbuildRendering: function(/*Event*/ evt){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t(this.focusNode || this.domNode).setAttribute(\"role\", \"tab\");\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tvar StackController = declare(\"dijit.layout.StackController\", [_Widget, _TemplatedMixin, _Container], {\r\n\t\t// summary:\r\n\t\t//\t\tSet of buttons to select a page in a `dijit/layout/StackContainer`\r\n\t\t// description:\r\n\t\t//\t\tMonitors the specified StackContainer, and whenever a page is\r\n\t\t//\t\tadded, deleted, or selected, updates itself accordingly.\r\n\r\n\t\tbaseClass: \"dijitStackController\",\r\n\r\n\t\ttemplateString: \"<span role='tablist' data-dojo-attach-event='onkeydown'></span>\",\r\n\r\n\t\t// containerId: [const] String\r\n\t\t//\t\tThe id of the page container that I point to\r\n\t\tcontainerId: \"\",\r\n\r\n\t\t// buttonWidget: [const] Constructor\r\n\t\t//\t\tThe button widget to create to correspond to each page\r\n\t\tbuttonWidget: StackButton,\r\n\r\n\t\t// buttonWidgetCloseClass: String\r\n\t\t//\t\tCSS class of [x] close icon, used by event delegation code to tell when close button was clicked\r\n\t\tbuttonWidgetCloseClass: \"dijitStackCloseButton\",\r\n\r\n\t\tpane2button: function(/*String*/ id){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the button corresponding to the pane w/the given id.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\treturn registry.byId(this.id + \"_\" + id);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Listen to notifications from StackContainer.  This is tricky because the StackContainer may not have\r\n\t\t\t// been created yet, so abstracting it through topics.\r\n\t\t\t// Note: for TabContainer we can do this through bubbled events instead of topics; maybe that's\r\n\t\t\t// all we support for 2.0?\r\n\t\t\tthis.own(\r\n\t\t\t\ttopic.subscribe(this.containerId + \"-startup\", lang.hitch(this, \"onStartup\")),\r\n\t\t\t\ttopic.subscribe(this.containerId + \"-addChild\", lang.hitch(this, \"onAddChild\")),\r\n\t\t\t\ttopic.subscribe(this.containerId + \"-removeChild\", lang.hitch(this, \"onRemoveChild\")),\r\n\t\t\t\ttopic.subscribe(this.containerId + \"-selectChild\", lang.hitch(this, \"onSelectChild\")),\r\n\t\t\t\ttopic.subscribe(this.containerId + \"-containerKeyDown\", lang.hitch(this, \"onContainerKeyDown\"))\r\n\t\t\t);\r\n\r\n\t\t\t// Listen for click events to select or close tabs.\r\n\t\t\t// No need to worry about ENTER/SPACE key handling: tabs are selected via left/right arrow keys,\r\n\t\t\t// and closed via shift-F10 (to show the close menu).\r\n\t\t\t// Also, add flag to use normalized click handling from dojo/touch\r\n\t\t\tthis.containerNode.dojoClick = true;\r\n\t\t\tthis.own(on(this.containerNode, 'click', lang.hitch(this, function(evt){\r\n\t\t\t\tvar button = registry.getEnclosingWidget(evt.target);\r\n\t\t\t\tif(button != this.containerNode && !button.disabled && button.page){\r\n\t\t\t\t\tfor(var target = evt.target; target !== this.containerNode; target = target.parentNode){\r\n\t\t\t\t\t\tif(domClass.contains(target, this.buttonWidgetCloseClass)){\r\n\t\t\t\t\t\t\tthis.onCloseButtonClick(button.page);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else if(target == button.domNode){\r\n\t\t\t\t\t\t\tthis.onButtonClick(button.page);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\r\n\t\tonStartup: function(/*Object*/ info){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled after StackContainer has finished initializing\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.textDir = info.textDir;\r\n\t\t\tarray.forEach(info.children, this.onAddChild, this);\r\n\t\t\tif(info.selected){\r\n\t\t\t\t// Show button corresponding to selected pane (unless selected\r\n\t\t\t\t// is null because there are no panes)\r\n\t\t\t\tthis.onSelectChild(info.selected);\r\n\t\t\t}\r\n\r\n\t\t\t// Reflect events like page title changes to tab buttons\r\n\t\t\tvar containerNode = registry.byId(this.containerId).containerNode,\r\n\t\t\t\tpane2button = lang.hitch(this, \"pane2button\"),\r\n\t\t\t\tpaneToButtonAttr = {\r\n\t\t\t\t\t\"title\": \"label\",\r\n\t\t\t\t\t\"showtitle\": \"showLabel\",\r\n\t\t\t\t\t\"iconclass\": \"iconClass\",\r\n\t\t\t\t\t\"closable\": \"closeButton\",\r\n\t\t\t\t\t\"tooltip\": \"title\",\r\n\t\t\t\t\t\"disabled\": \"disabled\",\r\n\t\t\t\t\t\"textdir\": \"textdir\"\r\n\t\t\t\t},\r\n\t\t\t\tconnectFunc = function(attr, buttonAttr){\r\n\t\t\t\t\treturn on(containerNode, \"attrmodified-\" + attr, function(evt){\r\n\t\t\t\t\t\tvar button = pane2button(evt.detail && evt.detail.widget && evt.detail.widget.id);\r\n\t\t\t\t\t\tif(button){\r\n\t\t\t\t\t\t\tbutton.set(buttonAttr, evt.detail.newValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\tfor(var attr in paneToButtonAttr){\r\n\t\t\t\tthis.own(connectFunc(attr, paneToButtonAttr[attr]));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(preserveDom){\r\n\t\t\t// Since the buttons are internal to the StackController widget, destroy() should remove them.\r\n\t\t\t// When #5796 is fixed for 2.0 can get rid of this function completely.\r\n\t\t\tthis.destroyDescendants(preserveDom);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tonAddChild: function(/*dijit/_WidgetBase*/ page, /*Integer?*/ insertIndex){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled whenever a page is added to the container.\r\n\t\t\t//\t\tCreate button corresponding to the page.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t// create an instance of the button widget\r\n\t\t\t// (remove typeof buttonWidget == string support in 2.0)\r\n\t\t\tvar Cls = lang.isString(this.buttonWidget) ? lang.getObject(this.buttonWidget) : this.buttonWidget;\r\n\t\t\tvar button = new Cls({\r\n\t\t\t\tid: this.id + \"_\" + page.id,\r\n\t\t\t\tname: this.id + \"_\" + page.id, // note: must match id used in pane2button()\r\n\t\t\t\tlabel: page.title,\r\n\t\t\t\tdisabled: page.disabled,\r\n\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\tdir: page.dir,\r\n\t\t\t\tlang: page.lang,\r\n\t\t\t\ttextDir: page.textDir || this.textDir,\r\n\t\t\t\tshowLabel: page.showTitle,\r\n\t\t\t\ticonClass: page.iconClass,\r\n\t\t\t\tcloseButton: page.closable,\r\n\t\t\t\ttitle: page.tooltip,\r\n\t\t\t\tpage: page\r\n\t\t\t});\r\n\r\n\t\t\tthis.addChild(button, insertIndex);\r\n\t\t\tpage.controlButton = button;\t// this value might be overwritten if two tabs point to same container\r\n\t\t\tif(!this._currentChild){\r\n\t\t\t\t// If this is the first child then StackContainer will soon publish that it's selected,\r\n\t\t\t\t// but before that StackContainer calls layout(), and before layout() is called the\r\n\t\t\t\t// StackController needs to have the proper height... which means that the button needs\r\n\t\t\t\t// to be marked as selected now.   See test_TabContainer_CSS.html for test.\r\n\t\t\t\tthis.onSelectChild(page);\r\n\t\t\t}\r\n\r\n\t\t\t// Add this StackController button to the list of things that labels that StackContainer pane.\r\n\t\t\t// Also, if there's an aria-labelledby parameter for the pane, then the aria-label parameter is unneeded.\r\n\t\t\tvar labelledby = page._wrapper.getAttribute(\"aria-labelledby\") ?\r\n\t\t\t\tpage._wrapper.getAttribute(\"aria-labelledby\") + \" \" + button.id : button.id;\r\n\t\t\tpage._wrapper.removeAttribute(\"aria-label\");\r\n\t\t\tpage._wrapper.setAttribute(\"aria-labelledby\", labelledby);\r\n\t\t},\r\n\r\n\t\tonRemoveChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled whenever a page is removed from the container.\r\n\t\t\t//\t\tRemove the button corresponding to the page.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this._currentChild === page){\r\n\t\t\t\tthis._currentChild = null;\r\n\t\t\t}\r\n\r\n\t\t\tvar button = this.pane2button(page.id);\r\n\t\t\tif(button){\r\n\t\t\t\tthis.removeChild(button);\r\n\t\t\t\tbutton.destroy();\r\n\t\t\t}\r\n\t\t\tdelete page.controlButton;\r\n\t\t},\r\n\r\n\t\tonSelectChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when a page has been selected in the StackContainer, either by me or by another StackController\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(!page){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this._currentChild){\r\n\t\t\t\tvar oldButton = this.pane2button(this._currentChild.id);\r\n\t\t\t\toldButton.set('checked', false);\r\n\t\t\t\toldButton.focusNode.setAttribute(\"tabIndex\", \"-1\");\r\n\t\t\t}\r\n\r\n\t\t\tvar newButton = this.pane2button(page.id);\r\n\t\t\tnewButton.set('checked', true);\r\n\t\t\tthis._currentChild = page;\r\n\t\t\tnewButton.focusNode.setAttribute(\"tabIndex\", \"0\");\r\n\t\t\tvar container = registry.byId(this.containerId);\r\n\t\t},\r\n\r\n\t\tonButtonClick: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled whenever one of my child buttons is pressed in an attempt to select a page\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar button = this.pane2button(page.id);\r\n\r\n\t\t\t// For TabContainer where the tabs are <span>, need to set focus explicitly when left/right arrow\r\n\t\t\tfocus.focus(button.focusNode);\r\n\r\n\t\t\tif(this._currentChild && this._currentChild.id === page.id){\r\n\t\t\t\t//In case the user clicked the checked button, keep it in the checked state because it remains to be the selected stack page.\r\n\t\t\t\tbutton.set('checked', true);\r\n\t\t\t}\r\n\t\t\tvar container = registry.byId(this.containerId);\r\n\t\t\tcontainer.selectChild(page);\r\n\t\t},\r\n\r\n\t\tonCloseButtonClick: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled whenever one of my child buttons [X] is pressed in an attempt to close a page\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar container = registry.byId(this.containerId);\r\n\t\t\tcontainer.closeChild(page);\r\n\t\t\tif(this._currentChild){\r\n\t\t\t\tvar b = this.pane2button(this._currentChild.id);\r\n\t\t\t\tif(b){\r\n\t\t\t\t\tfocus.focus(b.focusNode || b.domNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// TODO: this is a bit redundant with forward, back api in StackContainer\r\n\t\tadjacent: function(/*Boolean*/ forward){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHelper for onkeydown to find next/previous button\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(!this.isLeftToRight() && (!this.tabPosition || /top|bottom/.test(this.tabPosition))){\r\n\t\t\t\tforward = !forward;\r\n\t\t\t}\r\n\t\t\t// find currently focused button in children array\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tvar idx = array.indexOf(children, this.pane2button(this._currentChild.id)),\r\n\t\t\t\tcurrent = children[idx];\r\n\r\n\t\t\t// Pick next/previous non-disabled button to focus on.   If we get back to the original button it means\r\n\t\t\t// that all buttons must be disabled, so return current child to avoid an infinite loop.\r\n\t\t\tvar child;\r\n\t\t\tdo{\r\n\t\t\t\tidx = (idx + (forward ? 1 : children.length - 1)) % children.length;\r\n\t\t\t\tchild = children[idx];\r\n\t\t\t}while(child.disabled && child != current);\r\n\r\n\t\t\treturn child; // dijit/_WidgetBase\r\n\t\t},\r\n\r\n\t\tonkeydown: function(/*Event*/ e, /*Boolean?*/ fromContainer){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle keystrokes on the page list, for advancing to next/previous button\r\n\t\t\t//\t\tand closing the current page if the page is closable.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.disabled || e.altKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar forward = null;\r\n\t\t\tif(e.ctrlKey || !e._djpage){\r\n\t\t\t\tswitch(e.keyCode){\r\n\t\t\t\t\tcase keys.LEFT_ARROW:\r\n\t\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\t\tif(!e._djpage){\r\n\t\t\t\t\t\t\tforward = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\t\t\tif(e.ctrlKey){\r\n\t\t\t\t\t\t\tforward = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.RIGHT_ARROW:\r\n\t\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\t\t\tif(!e._djpage){\r\n\t\t\t\t\t\t\tforward = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\t\t\tif(e.ctrlKey){\r\n\t\t\t\t\t\t\tforward = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.HOME:\r\n\t\t\t\t\t\t// Navigate to first non-disabled child\r\n\t\t\t\t\t\tvar children = this.getChildren();\r\n\t\t\t\t\t\tfor(var idx = 0; idx < children.length; idx++){\r\n\t\t\t\t\t\t\tvar child = children[idx];\r\n\t\t\t\t\t\t\tif(!child.disabled){\r\n\t\t\t\t\t\t\t\tthis.onButtonClick(child.page);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.END:\r\n\t\t\t\t\t\t// Navigate to last non-disabled child\r\n\t\t\t\t\t\tvar children = this.getChildren();\r\n\t\t\t\t\t\tfor(var idx = children.length - 1; idx >= 0; idx--){\r\n\t\t\t\t\t\t\tvar child = children[idx];\r\n\t\t\t\t\t\t\tif(!child.disabled){\r\n\t\t\t\t\t\t\t\tthis.onButtonClick(child.page);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.DELETE:\r\n\t\t\t\t\tcase \"W\".charCodeAt(0):    // ctrl-W\r\n\t\t\t\t\t\tif(this._currentChild.closable &&\r\n\t\t\t\t\t\t\t(e.keyCode == keys.DELETE || e.ctrlKey)){\r\n\t\t\t\t\t\t\tthis.onCloseButtonClick(this._currentChild);\r\n\r\n\t\t\t\t\t\t\t// avoid browser tab closing\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.TAB:\r\n\t\t\t\t\t\tif(e.ctrlKey){\r\n\t\t\t\t\t\t\tthis.onButtonClick(this.adjacent(!e.shiftKey).page);\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t// handle next/previous page navigation (left/right arrow, etc.)\r\n\t\t\t\tif(forward !== null){\r\n\t\t\t\t\tthis.onButtonClick(this.adjacent(forward).page);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonContainerKeyDown: function(/*Object*/ info){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalled when there was a keydown on the container\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tinfo.e._djpage = info.page;\r\n\t\t\tthis.onkeydown(info.e);\r\n\t\t}\r\n\t});\r\n\r\n\tStackController.StackButton = StackButton;\t// for monkey patching\r\n\r\n\treturn StackController;\r\n});\r\n\n\ndefine('dijit/layout/TabController',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom\", // dom.setSelectable\r\n\t\"dojo/dom-attr\", // domAttr.attr\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/has\",\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/_base/lang\", // lang.hitch lang.trim\r\n\t\"./StackController\",\r\n\t\"../registry\",\r\n\t\"../Menu\",\r\n\t\"../MenuItem\",\r\n\t\"dojo/text!./templates/_TabButton.html\",\r\n\t\"dojo/i18n!../nls/common\"\r\n], function(declare, dom, domAttr, domClass, has, i18n, lang, StackController, registry, Menu, MenuItem, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/TabController\r\n\r\n\tvar TabButton = declare(\"dijit.layout._TabButton\" + (has(\"dojo-bidi\") ? \"_NoBidi\" : \"\"), StackController.StackButton, {\r\n\t\t// summary:\r\n\t\t//\t\tA tab (the thing you click to select a pane).\r\n\t\t// description:\r\n\t\t//\t\tContains the title of the pane, and optionally a close-button to destroy the pane.\r\n\t\t//\t\tThis is an internal widget and should not be instantiated directly.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// baseClass: String\r\n\t\t//\t\tThe CSS class applied to the domNode.\r\n\t\tbaseClass: \"dijitTab\",\r\n\r\n\t\t// Apply dijitTabCloseButtonHover when close button is hovered\r\n\t\tcssStateNodes: {\r\n\t\t\tcloseNode: \"dijitTabCloseButton\"\r\n\t\t},\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Button superclass maps name to a this.valueNode, but we don't have a this.valueNode attach point\r\n\t\t_setNameAttr: \"focusNode\",\r\n\r\n\t\t// Override _FormWidget.scrollOnFocus.\r\n\t\t// Don't scroll the whole tab container into view when the button is focused.\r\n\t\tscrollOnFocus: false,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tdom.setSelectable(this.containerNode, false);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar n = this.domNode;\r\n\r\n\t\t\t// Required to give IE6 a kick, as it initially hides the\r\n\t\t\t// tabs until they are focused on.\r\n\t\t\tthis.defer(function(){\r\n\t\t\t\tn.className = n.className;\r\n\t\t\t}, 1);\r\n\t\t},\r\n\r\n\t\t_setCloseButtonAttr: function(/*Boolean*/ disp){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide/show close button\r\n\t\t\tthis._set(\"closeButton\", disp);\r\n\t\t\tdomClass.toggle(this.domNode, \"dijitClosable\", disp);\r\n\t\t\tthis.closeNode.style.display = disp ? \"\" : \"none\";\r\n\t\t\tif(disp){\r\n\t\t\t\tvar _nlsResources = i18n.getLocalization(\"dijit\", \"common\");\r\n\t\t\t\tif(this.closeNode){\r\n\t\t\t\t\tdomAttr.set(this.closeNode, \"title\", _nlsResources.itemClose);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setDisabledAttr: function(/*Boolean*/ disabled){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMake tab selected/unselectable\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Don't show tooltip for close button when tab is disabled\r\n\t\t\tif(this.closeNode){\r\n\t\t\t\tif(disabled){\r\n\t\t\t\t\tdomAttr.remove(this.closeNode, \"title\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar _nlsResources = i18n.getLocalization(\"dijit\", \"common\");\r\n\t\t\t\t\tdomAttr.set(this.closeNode, \"title\", _nlsResources.itemClose);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setLabelAttr: function(/*String*/ content){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook for set('label', ...) to work.\r\n\t\t\t// description:\r\n\t\t\t//\t\ttakes an HTML string.\r\n\t\t\t//\t\tInherited ToggleButton implementation will Set the label (text) of the button;\r\n\t\t\t//\t\tNeed to set the alt attribute of icon on tab buttons if no label displayed\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.showLabel && !this.params.title){\r\n\t\t\t\tthis.iconNode.alt = lang.trim(this.containerNode.innerText || this.containerNode.textContent || '');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tTabButton = declare(\"dijit.layout._TabButton\", TabButton, {\r\n\t\t\t_setLabelAttr: function(/*String*/ content){\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t\tthis.applyTextDir(this.iconNode, this.iconNode.alt);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar TabController = declare(\"dijit.layout.TabController\", StackController, {\r\n\t\t// summary:\r\n\t\t//\t\tSet of tabs (the things with titles and a close button, that you click to show a tab panel).\r\n\t\t//\t\tUsed internally by `dijit/layout/TabContainer`.\r\n\t\t// description:\r\n\t\t//\t\tLets the user select the currently shown pane in a TabContainer or StackContainer.\r\n\t\t//\t\tTabController also monitors the TabContainer, and whenever a pane is\r\n\t\t//\t\tadded or deleted updates itself accordingly.\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\tbaseClass: \"dijitTabController\",\r\n\r\n\t\ttemplateString: \"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>\",\r\n\r\n\t\t// tabPosition: String\r\n\t\t//\t\tDefines where tabs go relative to the content.\r\n\t\t//\t\t\"top\", \"bottom\", \"left-h\", \"right-h\"\r\n\t\ttabPosition: \"top\",\r\n\r\n\t\t// buttonWidget: Constructor\r\n\t\t//\t\tThe tab widget to create to correspond to each page\r\n\t\tbuttonWidget: TabButton,\r\n\r\n\t\t// buttonWidgetCloseClass: String\r\n\t\t//\t\tClass of [x] close icon, used by event delegation code to tell when close button was clicked\r\n\t\tbuttonWidgetCloseClass: \"dijitTabCloseButton\",\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Setup a close menu to be shared between all the closable tabs (excluding disabled tabs)\r\n\t\t\tvar closeMenu = new Menu({\r\n\t\t\t\tid: this.id + \"_Menu\",\r\n\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir,\r\n\t\t\t\ttargetNodeIds: [this.domNode],\r\n\t\t\t\tselector: function(node){\r\n\t\t\t\t\treturn domClass.contains(node, \"dijitClosable\") && !domClass.contains(node, \"dijitTabDisabled\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.own(closeMenu);\r\n\r\n\t\t\tvar _nlsResources = i18n.getLocalization(\"dijit\", \"common\"),\r\n\t\t\t\tcontroller = this;\r\n\t\t\tcloseMenu.addChild(new MenuItem({\r\n\t\t\t\tlabel: _nlsResources.itemClose,\r\n\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir,\r\n\t\t\t\tonClick: function(evt){\r\n\t\t\t\t\tvar button = registry.byNode(this.getParent().currentTarget);\r\n\t\t\t\t\tcontroller.onCloseButtonClick(button.page);\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t});\r\n\r\n\tTabController.TabButton = TabButton;\t// for monkey patching\r\n\r\n\treturn TabController;\r\n});\r\n\n\n\ndefine('dijit/layout/ScrollingTabController',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.contains\r\n\t\"dojo/dom-geometry\", // domGeometry.contentBox\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"dojo/_base/fx\", // Animation\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\",\r\n\t\"dojo/query\", // query\r\n\t\"dojo/sniff\", // has(\"ie\"), has(\"webkit\"), has(\"quirks\")\r\n\t\"../registry\", // registry.byId()\r\n\t\"dojo/text!./templates/ScrollingTabController.html\",\r\n\t\"dojo/text!./templates/_ScrollingTabControllerButton.html\",\r\n\t\"./TabController\",\r\n\t\"./utils\", // marginBox2contextBox, layoutChildren\r\n\t\"../_WidgetsInTemplateMixin\",\r\n\t\"../Menu\",\r\n\t\"../MenuItem\",\r\n\t\"../form/Button\",\r\n\t\"../_HasDropDown\",\r\n\t\"dojo/NodeList-dom\", // NodeList.style\r\n\t\"../a11yclick\"\t// template uses ondijitclick (not for keyboard support, but for responsive touch support)\r\n], function(array, declare, domClass, domGeometry, domStyle, fx, lang, on, query, has,\r\n\tregistry, tabControllerTemplate, buttonTemplate, TabController, layoutUtils, _WidgetsInTemplateMixin,\r\n\tMenu, MenuItem, Button, _HasDropDown){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/ScrollingTabController\r\n\r\n\tvar ScrollingTabController = declare(\"dijit.layout.ScrollingTabController\", [TabController, _WidgetsInTemplateMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tSet of tabs with left/right arrow keys and a menu to switch between tabs not\r\n\t\t//\t\tall fitting on a single row.\r\n\t\t//\t\tWorks only for horizontal tabs (either above or below the content, not to the left\r\n\t\t//\t\tor right).\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\tbaseClass: \"dijitTabController dijitScrollingTabController\",\r\n\r\n\t\ttemplateString: tabControllerTemplate,\r\n\r\n\t\t// useMenu: [const] Boolean\r\n\t\t//\t\tTrue if a menu should be used to select tabs when they are too\r\n\t\t//\t\twide to fit the TabContainer, false otherwise.\r\n\t\tuseMenu: true,\r\n\r\n\t\t// useSlider: [const] Boolean\r\n\t\t//\t\tTrue if a slider should be used to select tabs when they are too\r\n\t\t//\t\twide to fit the TabContainer, false otherwise.\r\n\t\tuseSlider: true,\r\n\r\n\t\t// tabStripClass: [const] String\r\n\t\t//\t\tThe css class to apply to the tab strip, if it is visible.\r\n\t\ttabStripClass: \"\",\r\n\r\n\t\t// _minScroll: Number\r\n\t\t//\t\tThe distance in pixels from the edge of the tab strip which,\r\n\t\t//\t\tif a scroll animation is less than, forces the scroll to\r\n\t\t//\t\tgo all the way to the left/right.\r\n\t\t_minScroll: 5,\r\n\r\n\t\t// Override default behavior mapping class to DOMNode\r\n\t\t_setClassAttr: { node: \"containerNode\", type: \"class\" },\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar n = this.domNode;\r\n\r\n\t\t\tthis.scrollNode = this.tablistWrapper;\r\n\t\t\tthis._initButtons();\r\n\r\n\t\t\tif(!this.tabStripClass){\r\n\t\t\t\tthis.tabStripClass = \"dijitTabContainer\" +\r\n\t\t\t\t\tthis.tabPosition.charAt(0).toUpperCase() +\r\n\t\t\t\t\tthis.tabPosition.substr(1).replace(/-.*/, \"\") +\r\n\t\t\t\t\t\"None\";\r\n\t\t\t\tdomClass.add(n, \"tabStrip-disabled\")\r\n\t\t\t}\r\n\r\n\t\t\tdomClass.add(this.tablistWrapper, this.tabStripClass);\r\n\t\t},\r\n\r\n\t\tonStartup: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// TabController is hidden until it finishes drawing, to give\r\n\t\t\t// a less visually jumpy instantiation.   When it's finished, set visibility to \"\"\r\n\t\t\t// to that the tabs are hidden/shown depending on the container's visibility setting.\r\n\t\t\tdomStyle.set(this.domNode, \"visibility\", \"\");\r\n\t\t\tthis._postStartup = true;\r\n\r\n\t\t\t// changes to the tab button label or iconClass will have changed the width of the\r\n\t\t\t// buttons, so do a resize\r\n\t\t\tthis.own(on(this.containerNode, \"attrmodified-label, attrmodified-iconclass\", lang.hitch(this, function(evt){\r\n\t\t\t\tif(this._dim){\r\n\t\t\t\t\tthis.resize(this._dim);\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\r\n\t\tonAddChild: function(page, insertIndex){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Increment the width of the wrapper when a tab is added\r\n\t\t\t// This makes sure that the buttons never wrap.\r\n\t\t\t// The value 200 is chosen as it should be bigger than most\r\n\t\t\t// Tab button widths.\r\n\t\t\tdomStyle.set(this.containerNode, \"width\",\r\n\t\t\t\t(domStyle.get(this.containerNode, \"width\") + 200) + \"px\");\r\n\t\t},\r\n\r\n\t\tonRemoveChild: function(page, insertIndex){\r\n\t\t\t// null out _selectedTab because we are about to delete that dom node\r\n\t\t\tvar button = this.pane2button(page.id);\r\n\t\t\tif(this._selectedTab === button.domNode){\r\n\t\t\t\tthis._selectedTab = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_initButtons: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates the buttons used to scroll to view tabs that\r\n\t\t\t//\t\tmay not be visible if the TabContainer is too narrow.\r\n\r\n\t\t\t// Make a list of the buttons to display when the tab labels become\r\n\t\t\t// wider than the TabContainer, and hide the other buttons.\r\n\t\t\t// Also gets the total width of the displayed buttons.\r\n\t\t\tthis._btnWidth = 0;\r\n\t\t\tthis._buttons = query(\"> .tabStripButton\", this.domNode).filter(function(btn){\r\n\t\t\t\tif((this.useMenu && btn == this._menuBtn.domNode) ||\r\n\t\t\t\t\t(this.useSlider && (btn == this._rightBtn.domNode || btn == this._leftBtn.domNode))){\r\n\t\t\t\t\tthis._btnWidth += domGeometry.getMarginSize(btn).w;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdomStyle.set(btn, \"display\", \"none\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_getTabsWidth: function(){\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tif(children.length){\r\n\t\t\t\tvar leftTab = children[this.isLeftToRight() ? 0 : children.length - 1].domNode,\r\n\t\t\t\t\trightTab = children[this.isLeftToRight() ? children.length - 1 : 0].domNode;\r\n\t\t\t\treturn rightTab.offsetLeft + rightTab.offsetWidth - leftTab.offsetLeft;\r\n\t\t\t}else{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_enableBtn: function(width){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDetermines if the tabs are wider than the width of the TabContainer, and\r\n\t\t\t//\t\tthus that we need to display left/right/menu navigation buttons.\r\n\t\t\tvar tabsWidth = this._getTabsWidth();\r\n\t\t\twidth = width || domStyle.get(this.scrollNode, \"width\");\r\n\t\t\treturn tabsWidth > 0 && width < tabsWidth;\r\n\t\t},\r\n\r\n\t\tresize: function(dim){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHides or displays the buttons used to scroll the tab list and launch the menu\r\n\t\t\t//\t\tthat selects tabs.\r\n\r\n\t\t\t// Save the dimensions to be used when a child is renamed.\r\n\t\t\tthis._dim = dim;\r\n\r\n\t\t\t// Set my height to be my natural height (tall enough for one row of tab labels),\r\n\t\t\t// and my content-box width based on margin-box width specified in dim parameter.\r\n\t\t\t// But first reset scrollNode.height in case it was set by layoutChildren() call\r\n\t\t\t// in a previous run of this method.\r\n\t\t\tthis.scrollNode.style.height = \"auto\";\r\n\t\t\tvar cb = this._contentBox = layoutUtils.marginBox2contentBox(this.domNode, {h: 0, w: dim.w});\r\n\t\t\tcb.h = this.scrollNode.offsetHeight;\r\n\t\t\tdomGeometry.setContentSize(this.domNode, cb);\r\n\r\n\t\t\t// Show/hide the left/right/menu navigation buttons depending on whether or not they\r\n\t\t\t// are needed.\r\n\t\t\tvar enable = this._enableBtn(this._contentBox.w);\r\n\t\t\tthis._buttons.style(\"display\", enable ? \"\" : \"none\");\r\n\r\n\t\t\t// Position and size the navigation buttons and the tablist\r\n\t\t\tthis._leftBtn.region = \"left\";\r\n\t\t\tthis._rightBtn.region = \"right\";\r\n\t\t\tthis._menuBtn.region = this.isLeftToRight() ? \"right\" : \"left\";\r\n\t\t\tlayoutUtils.layoutChildren(this.domNode, this._contentBox,\r\n\t\t\t\t[this._menuBtn, this._leftBtn, this._rightBtn, {domNode: this.scrollNode, region: \"center\"}]);\r\n\r\n\t\t\t// set proper scroll so that selected tab is visible\r\n\t\t\tif(this._selectedTab){\r\n\t\t\t\tif(this._anim && this._anim.status() == \"playing\"){\r\n\t\t\t\t\tthis._anim.stop();\r\n\t\t\t\t}\r\n\t\t\t\tthis.scrollNode.scrollLeft = this._convertToScrollLeft(this._getScrollForSelectedTab());\r\n\t\t\t}\r\n\r\n\t\t\t// Enable/disabled left right buttons depending on whether or not user can scroll to left or right\r\n\t\t\tthis._setButtonClass(this._getScroll());\r\n\r\n\t\t\tthis._postResize = true;\r\n\r\n\t\t\t// Return my size so layoutChildren() can use it.\r\n\t\t\t// Also avoids IE9 layout glitch on browser resize when scroll buttons present\r\n\t\t\treturn {h: this._contentBox.h, w: dim.w};\r\n\t\t},\r\n\r\n\t\t_getScroll: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the current scroll of the tabs where 0 means\r\n\t\t\t//\t\t\"scrolled all the way to the left\" and some positive number, based on #\r\n\t\t\t//\t\tof pixels of possible scroll (ex: 1000) means \"scrolled all the way to the right\"\r\n\t\t\treturn (this.isLeftToRight() || has(\"ie\") < 8 || (has(\"ie\") && has(\"quirks\")) || has(\"webkit\")) ? this.scrollNode.scrollLeft :\r\n\t\t\t\tdomStyle.get(this.containerNode, \"width\") - domStyle.get(this.scrollNode, \"width\")\r\n\t\t\t\t\t+ (has(\"ie\") >= 8 ? -1 : 1) * this.scrollNode.scrollLeft;\r\n\t\t},\r\n\r\n\t\t_convertToScrollLeft: function(val){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGiven a scroll value where 0 means \"scrolled all the way to the left\"\r\n\t\t\t//\t\tand some positive number, based on # of pixels of possible scroll (ex: 1000)\r\n\t\t\t//\t\tmeans \"scrolled all the way to the right\", return value to set this.scrollNode.scrollLeft\r\n\t\t\t//\t\tto achieve that scroll.\r\n\t\t\t//\r\n\t\t\t//\t\tThis method is to adjust for RTL funniness in various browsers and versions.\r\n\t\t\tif(this.isLeftToRight() || has(\"ie\") < 8 || (has(\"ie\") && has(\"quirks\")) || has(\"webkit\")){\r\n\t\t\t\treturn val;\r\n\t\t\t}else{\r\n\t\t\t\tvar maxScroll = domStyle.get(this.containerNode, \"width\") - domStyle.get(this.scrollNode, \"width\");\r\n\t\t\t\treturn (has(\"ie\") >= 8 ? -1 : 1) * (val - maxScroll);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonSelectChild: function(/*dijit/_WidgetBase*/ page){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSmoothly scrolls to a tab when it is selected.\r\n\r\n\t\t\tvar tab = this.pane2button(page.id);\r\n\t\t\tif(!tab){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar node = tab.domNode;\r\n\r\n\t\t\t// Save the selection\r\n\t\t\tif(node != this._selectedTab){\r\n\t\t\t\tthis._selectedTab = node;\r\n\r\n\t\t\t\t// Scroll to the selected tab, except on startup, when scrolling is handled in resize()\r\n\t\t\t\tif(this._postResize){\r\n\t\t\t\t\tvar sl = this._getScroll();\r\n\r\n\t\t\t\t\tif(sl > node.offsetLeft ||\r\n\t\t\t\t\t\tsl + domStyle.get(this.scrollNode, \"width\") <\r\n\t\t\t\t\t\t\tnode.offsetLeft + domStyle.get(node, \"width\")){\r\n\t\t\t\t\t\tthis.createSmoothScroll().play();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_getScrollBounds: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the minimum and maximum scroll setting to show the leftmost and rightmost\r\n\t\t\t//\t\ttabs (respectively)\r\n\t\t\tvar children = this.getChildren(),\r\n\t\t\t\tscrollNodeWidth = domStyle.get(this.scrollNode, \"width\"), // about 500px\r\n\t\t\t\tcontainerWidth = domStyle.get(this.containerNode, \"width\"), // 50,000px\r\n\t\t\t\tmaxPossibleScroll = containerWidth - scrollNodeWidth, // scrolling until right edge of containerNode visible\r\n\t\t\t\ttabsWidth = this._getTabsWidth();\r\n\r\n\t\t\tif(children.length && tabsWidth > scrollNodeWidth){\r\n\t\t\t\t// Scrolling should happen\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmin: this.isLeftToRight() ? 0 : children[children.length - 1].domNode.offsetLeft,\r\n\t\t\t\t\tmax: this.isLeftToRight() ?\r\n\t\t\t\t\t\t(children[children.length - 1].domNode.offsetLeft + children[children.length - 1].domNode.offsetWidth) - scrollNodeWidth :\r\n\t\t\t\t\t\tmaxPossibleScroll\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\t// No scrolling needed, all tabs visible, we stay either scrolled to far left or far right (depending on dir)\r\n\t\t\t\tvar onlyScrollPosition = this.isLeftToRight() ? 0 : maxPossibleScroll;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmin: onlyScrollPosition,\r\n\t\t\t\t\tmax: onlyScrollPosition\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getScrollForSelectedTab: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the scroll value setting so that the selected tab\r\n\t\t\t//\t\twill appear in the center\r\n\t\t\tvar w = this.scrollNode,\r\n\t\t\t\tn = this._selectedTab,\r\n\t\t\t\tscrollNodeWidth = domStyle.get(this.scrollNode, \"width\"),\r\n\t\t\t\tscrollBounds = this._getScrollBounds();\r\n\r\n\t\t\t// TODO: scroll minimal amount (to either right or left) so that\r\n\t\t\t// selected tab is fully visible, and just return if it's already visible?\r\n\t\t\tvar pos = (n.offsetLeft + domStyle.get(n, \"width\") / 2) - scrollNodeWidth / 2;\r\n\t\t\tpos = Math.min(Math.max(pos, scrollBounds.min), scrollBounds.max);\r\n\r\n\t\t\t// TODO:\r\n\t\t\t// If scrolling close to the left side or right side, scroll\r\n\t\t\t// all the way to the left or right.  See this._minScroll.\r\n\t\t\t// (But need to make sure that doesn't scroll the tab out of view...)\r\n\t\t\treturn pos;\r\n\t\t},\r\n\r\n\t\tcreateSmoothScroll: function(x){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a dojo._Animation object that smoothly scrolls the tab list\r\n\t\t\t//\t\teither to a fixed horizontal pixel value, or to the selected tab.\r\n\t\t\t// description:\r\n\t\t\t//\t\tIf an number argument is passed to the function, that horizontal\r\n\t\t\t//\t\tpixel position is scrolled to.  Otherwise the currently selected\r\n\t\t\t//\t\ttab is scrolled to.\r\n\t\t\t// x: Integer?\r\n\t\t\t//\t\tAn optional pixel value to scroll to, indicating distance from left.\r\n\r\n\t\t\t// Calculate position to scroll to\r\n\t\t\tif(arguments.length > 0){\r\n\t\t\t\t// position specified by caller, just make sure it's within bounds\r\n\t\t\t\tvar scrollBounds = this._getScrollBounds();\r\n\t\t\t\tx = Math.min(Math.max(x, scrollBounds.min), scrollBounds.max);\r\n\t\t\t}else{\r\n\t\t\t\t// scroll to center the current tab\r\n\t\t\t\tx = this._getScrollForSelectedTab();\r\n\t\t\t}\r\n\r\n\t\t\tif(this._anim && this._anim.status() == \"playing\"){\r\n\t\t\t\tthis._anim.stop();\r\n\t\t\t}\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\tw = this.scrollNode,\r\n\t\t\t\tanim = new fx.Animation({\r\n\t\t\t\t\tbeforeBegin: function(){\r\n\t\t\t\t\t\tif(this.curve){\r\n\t\t\t\t\t\t\tdelete this.curve;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar oldS = w.scrollLeft,\r\n\t\t\t\t\t\t\tnewS = self._convertToScrollLeft(x);\r\n\t\t\t\t\t\tanim.curve = new fx._Line(oldS, newS);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonAnimate: function(val){\r\n\t\t\t\t\t\tw.scrollLeft = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tthis._anim = anim;\r\n\r\n\t\t\t// Disable/enable left/right buttons according to new scroll position\r\n\t\t\tthis._setButtonClass(x);\r\n\r\n\t\t\treturn anim; // dojo/_base/fx/Animation\r\n\t\t},\r\n\r\n\t\t_getBtnNode: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets a button DOM node from a mouse click event.\r\n\t\t\t// e:\r\n\t\t\t//\t\tThe mouse click event.\r\n\t\t\tvar n = e.target;\r\n\t\t\twhile(n && !domClass.contains(n, \"tabStripButton\")){\r\n\t\t\t\tn = n.parentNode;\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t},\r\n\r\n\t\tdoSlideRight: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScrolls the menu to the right.\r\n\t\t\t// e:\r\n\t\t\t//\t\tThe mouse click event.\r\n\t\t\tthis.doSlide(1, this._getBtnNode(e));\r\n\t\t},\r\n\r\n\t\tdoSlideLeft: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScrolls the menu to the left.\r\n\t\t\t// e:\r\n\t\t\t//\t\tThe mouse click event.\r\n\t\t\tthis.doSlide(-1, this._getBtnNode(e));\r\n\t\t},\r\n\r\n\t\tdoSlide: function(/*Number*/ direction, /*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tScrolls the tab list to the left or right by 75% of the widget width.\r\n\t\t\t// direction:\r\n\t\t\t//\t\tIf the direction is 1, the widget scrolls to the right, if it is -1,\r\n\t\t\t//\t\tit scrolls to the left.\r\n\r\n\t\t\tif(node && domClass.contains(node, \"dijitTabDisabled\")){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sWidth = domStyle.get(this.scrollNode, \"width\");\r\n\t\t\tvar d = (sWidth * 0.75) * direction;\r\n\r\n\t\t\tvar to = this._getScroll() + d;\r\n\r\n\t\t\tthis._setButtonClass(to);\r\n\r\n\t\t\tthis.createSmoothScroll(to).play();\r\n\t\t},\r\n\r\n\t\t_setButtonClass: function(/*Number*/ scroll){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDisables the left scroll button if the tabs are scrolled all the way to the left,\r\n\t\t\t//\t\tor the right scroll button in the opposite case.\r\n\t\t\t// scroll: Integer\r\n\t\t\t//\t\tamount of horizontal scroll\r\n\r\n\t\t\tvar scrollBounds = this._getScrollBounds();\r\n\t\t\tthis._leftBtn.set(\"disabled\", scroll <= scrollBounds.min);\r\n\t\t\tthis._rightBtn.set(\"disabled\", scroll >= scrollBounds.max);\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tvar ScrollingTabControllerButtonMixin = declare(\"dijit.layout._ScrollingTabControllerButtonMixin\", null, {\r\n\t\tbaseClass: \"dijitTab tabStripButton\",\r\n\r\n\t\ttemplateString: buttonTemplate,\r\n\r\n\t\t// Override inherited tabIndex: 0 from dijit/form/Button, because user shouldn't be\r\n\t\t// able to tab to the left/right/menu buttons\r\n\t\ttabIndex: \"\",\r\n\r\n\t\t// Similarly, override FormWidget.isFocusable() because clicking a button shouldn't focus it\r\n\t\t// either (this override avoids focus() call in FormWidget.js)\r\n\t\tisFocusable: function(){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\t// Class used in template\r\n\tdeclare(\"dijit.layout._ScrollingTabControllerButton\", [Button, ScrollingTabControllerButtonMixin]);\r\n\r\n\t// Class used in template\r\n\tdeclare(\"dijit.layout._ScrollingTabControllerMenuButton\", [Button, _HasDropDown, ScrollingTabControllerButtonMixin], {\r\n\t\t// id of the TabContainer itself\r\n\t\tcontainerId: \"\",\r\n\r\n\t\t// -1 so user can't tab into the button, but so that button can still be focused programatically.\r\n\t\t// Because need to move focus to the button (or somewhere) before the menu is hidden or IE6 will crash.\r\n\t\ttabIndex: \"-1\",\r\n\r\n\t\tisLoaded: function(){\r\n\t\t\t// recreate menu every time, in case the TabContainer's list of children (or their icons/labels) have changed\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tloadDropDown: function(callback){\r\n\t\t\tthis.dropDown = new Menu({\r\n\t\t\t\tid: this.containerId + \"_menu\",\r\n\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir\r\n\t\t\t});\r\n\t\t\tvar container = registry.byId(this.containerId);\r\n\t\t\tarray.forEach(container.getChildren(), function(page){\r\n\t\t\t\tvar menuItem = new MenuItem({\r\n\t\t\t\t\tid: page.id + \"_stcMi\",\r\n\t\t\t\t\tlabel: page.title,\r\n\t\t\t\t\ticonClass: page.iconClass,\r\n\t\t\t\t\tdisabled: page.disabled,\r\n\t\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\t\tdir: page.dir,\r\n\t\t\t\t\tlang: page.lang,\r\n\t\t\t\t\ttextDir: page.textDir || container.textDir,\r\n\t\t\t\t\tonClick: function(){\r\n\t\t\t\t\t\tcontainer.selectChild(page);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.dropDown.addChild(menuItem);\r\n\t\t\t}, this);\r\n\t\t\tcallback();\r\n\t\t},\r\n\r\n\t\tcloseDropDown: function(/*Boolean*/ focus){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.dropDown){\r\n\t\t\t\tthis._popupStateNode.removeAttribute(\"aria-owns\");\t// remove ref to node that we are about to delete\r\n\t\t\t\tthis.dropDown.destroyRecursive();\r\n\t\t\t\tdelete this.dropDown;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn ScrollingTabController;\r\n});\r\n\ndefine('dijit/layout/TabContainer',[\r\n\t\"dojo/_base/lang\", // lang.getObject\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"./_TabContainerBase\",\r\n\t\"./TabController\",\r\n\t\"./ScrollingTabController\"\r\n], function(lang, declare, _TabContainerBase, TabController, ScrollingTabController){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/TabContainer\r\n\r\n\r\n\treturn declare(\"dijit.layout.TabContainer\", _TabContainerBase, {\r\n\t\t// summary:\r\n\t\t//\t\tA Container with tabs to select each child (only one of which is displayed at a time).\r\n\t\t// description:\r\n\t\t//\t\tA TabContainer is a container that has multiple panes, but shows only\r\n\t\t//\t\tone pane at a time.  There are a set of tabs corresponding to each pane,\r\n\t\t//\t\twhere each tab has the name (aka title) of the pane, and optionally a close button.\r\n\t\t//\r\n\t\t//\t\tSee `StackContainer.ChildWidgetProperties` for details on the properties that can be set on\r\n\t\t//\t\tchildren of a `TabContainer`.\r\n\r\n\t\t// useMenu: [const] Boolean\r\n\t\t//\t\tTrue if a menu should be used to select tabs when they are too\r\n\t\t//\t\twide to fit the TabContainer, false otherwise.\r\n\t\tuseMenu: true,\r\n\r\n\t\t// useSlider: [const] Boolean\r\n\t\t//\t\tTrue if a slider should be used to select tabs when they are too\r\n\t\t//\t\twide to fit the TabContainer, false otherwise.\r\n\t\tuseSlider: true,\r\n\r\n\t\t// controllerWidget: Class\r\n\t\t//\t\tAn optional parameter to override the widget used to display the tab labels\r\n\t\tcontrollerWidget: \"\",\r\n\r\n\t\t_makeController: function(/*DomNode*/ srcNode){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInstantiate tablist controller widget and return reference to it.\r\n\t\t\t//\t\tCallback from _TabContainerBase.postCreate().\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\r\n\t\t\t// \"string\" branch for back-compat, remove for 2.0\r\n\t\t\tvar cls = this.baseClass + \"-tabs\" + (this.doLayout ? \"\" : \" dijitTabNoLayout\"),\r\n\t\t\t\tTabController = typeof this.controllerWidget == \"string\" ? lang.getObject(this.controllerWidget) :\r\n\t\t\t\t\t\tthis.controllerWidget;\r\n\r\n\t\t\treturn new TabController({\r\n\t\t\t\tid: this.id + \"_tablist\",\r\n\t\t\t\townerDocument: this.ownerDocument,\r\n\t\t\t\tdir: this.dir,\r\n\t\t\t\tlang: this.lang,\r\n\t\t\t\ttextDir: this.textDir,\r\n\t\t\t\ttabPosition: this.tabPosition,\r\n\t\t\t\tdoLayout: this.doLayout,\r\n\t\t\t\tcontainerId: this.id,\r\n\t\t\t\t\"class\": cls,\r\n\t\t\t\tnested: this.nested,\r\n\t\t\t\tuseMenu: this.useMenu,\r\n\t\t\t\tuseSlider: this.useSlider,\r\n\t\t\t\ttabStripClass: this.tabStrip ? this.baseClass + (this.tabStrip ? \"\":\"No\") + \"Strip\": null\r\n\t\t\t}, srcNode);\r\n\t\t},\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Scrolling controller only works for horizontal non-nested tabs\r\n\t\t\tif(!this.controllerWidget){\r\n\t\t\t\tthis.controllerWidget = (this.tabPosition == \"top\" || this.tabPosition == \"bottom\") && !this.nested ?\r\n\t\t\t\t\t\t\tScrollingTabController : TabController;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/dijit-all',[\r\n\t\"./main\",\r\n\t\"./dijit\",\r\n\t\"./ColorPalette\",\r\n\t\"./Declaration\",\r\n\t\"./Dialog\",\r\n\t\"./DialogUnderlay\",\r\n\t\"./TooltipDialog\",\r\n\t\"./Editor\",\r\n\t\"./_editor/plugins/FontChoice\",\r\n\t\"./_editor/plugins/LinkDialog\",\r\n\t\"./Menu\",\r\n\t\"./MenuItem\",\r\n\t\"./PopupMenuItem\",\r\n\t\"./CheckedMenuItem\",\r\n\t\"./MenuBar\",\r\n\t\"./MenuBarItem\",\r\n\t\"./PopupMenuBarItem\",\r\n\t\"./MenuSeparator\",\r\n\t\"./ProgressBar\",\r\n\t\"./TitlePane\",\r\n\t\"./Toolbar\",\r\n\t\"./Tooltip\",\r\n\t\"./Tree\",\r\n\t\"./InlineEditBox\",\r\n\t\"./form/Form\",\r\n\t\"./form/Button\",\r\n\t\"./form/DropDownButton\",\r\n\t\"./form/ComboButton\",\r\n\t\"./form/ToggleButton\",\r\n\t\"./form/CheckBox\",\r\n\t\"./form/RadioButton\",\r\n\t\"./form/TextBox\",\r\n\t\"./form/ValidationTextBox\",\r\n\t\"./form/CurrencyTextBox\",\r\n\t\"./form/DateTextBox\",\r\n\t\"./form/TimeTextBox\",\r\n\t\"./form/NumberSpinner\",\r\n\t\"./form/NumberTextBox\",\r\n\t\"./form/ComboBox\",\r\n\t\"./form/FilteringSelect\",\r\n\t\"./form/MultiSelect\",\r\n\t\"./form/Select\",\r\n\t\"./form/HorizontalSlider\",\r\n\t\"./form/VerticalSlider\",\r\n\t\"./form/HorizontalRule\",\r\n\t\"./form/VerticalRule\",\r\n\t\"./form/HorizontalRuleLabels\",\r\n\t\"./form/VerticalRuleLabels\",\r\n\t\"./form/SimpleTextarea\",\r\n\t\"./form/Textarea\",\r\n\t\"./layout/AccordionContainer\",\r\n\t\"./layout/ContentPane\",\r\n\t\"./layout/BorderContainer\",\r\n\t\"./layout/LayoutContainer\",\r\n\t\"./layout/LinkPane\",\r\n\t\"./layout/SplitContainer\",\r\n\t\"./layout/StackContainer\",\r\n\t\"./layout/TabContainer\"\r\n], function(dijit){\r\n\r\n\t// module:\r\n\t//\t\tdijit/dijit-all\r\n\r\n\t/*=====\r\n\treturn {\r\n\t\t// summary:\r\n\t\t//\t\tA rollup that includes every dijit. You probably don't need this.\r\n\t};\r\n\t=====*/\r\n\r\n\tconsole.warn(\"dijit-all may include much more code than your application actually requires. We strongly recommend that you investigate a custom build or the web build tool\");\r\n\r\n\treturn dijit;\r\n});\r\n\ndefine('dijit/RadioMenuItem',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.toggle\r\n\t\"dojo/query!css2\", // query\r\n\t\"./CheckedMenuItem\",\r\n\t\"./registry\"    // registry.getEnclosingWidget\r\n], function(array, declare, domClass, query, CheckedMenuItem, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/RadioButtonMenuItem\r\n\r\n\treturn declare(\"dijit.RadioButtonMenuItem\", CheckedMenuItem, {\r\n\t\t// summary:\r\n\t\t//\t\tA radio-button-like menu item for toggling on and off\r\n\r\n\t\t// Use both base classes so we get styles like dijitMenuItemDisabled\r\n\t\tbaseClass: \"dijitMenuItem dijitRadioMenuItem\",\r\n\r\n\t\trole: \"menuitemradio\",\r\n\r\n\t\t// checkedChar: String\r\n\t\t//\t\tCharacter (or string) used in place of radio button icon when display in high contrast mode\r\n\t\tcheckedChar: \"*\",\r\n\r\n\t\t// group: String\r\n\t\t//\t\tToggling on a RadioMenuItem in a given group toggles off the other RadioMenuItems in that group.\r\n\t\tgroup: \"\",\r\n\t\t_setGroupAttr: \"domNode\",\t// needs to be set as an attribute so dojo/query can find it\r\n\r\n\t\t_setCheckedAttr: function(/*Boolean*/ checked){\r\n\t\t\t// If I am being checked then have to deselect currently checked items\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this._created){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(checked && this.group){\r\n\t\t\t\tarray.forEach(this._getRelatedWidgets(), function(widget){\r\n\t\t\t\t\tif(widget != this && widget.checked){\r\n\t\t\t\t\t\twidget.set('checked', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onClick: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tClicking this item toggles it on.   If it's already on, then clicking does nothing.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(!this.disabled && !this.checked){\r\n\t\t\t\tthis.set(\"checked\", true);\r\n\t\t\t\tthis.onChange(true);\r\n\t\t\t}\r\n\t\t\tthis.onClick(evt);\r\n\t\t},\r\n\r\n\t\t_getRelatedWidgets: function(){\r\n\t\t\t// Private function needed to help iterate over all radio menu items in a group.\r\n\t\t\tvar ary = [];\r\n\t\t\tquery(\"[group=\" + this.group + \"][role=\" + this.role + \"]\").forEach(\r\n\t\t\t\tfunction(menuItemNode){\r\n\t\t\t\t\tvar widget = registry.getEnclosingWidget(menuItemNode);\r\n\t\t\t\t\tif(widget){\r\n\t\t\t\t\t\tary.push(widget);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn ary;\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/_editor/plugins/FullScreen',[\r\n\t\"dojo/aspect\",\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/keys\", // keys.F11 keys.TAB\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\", // on()\r\n\t\"dojo/sniff\", // has(\"ie\"), has(\"quirks\")\r\n\t\"dojo/_base/window\", // win.body\r\n\t\"dojo/window\", // winUtils.getBox winUtils.scrollIntoView\r\n\t\"../../focus\", // focus.focus(), focus.curNode\r\n\t\"../_Plugin\",\r\n\t\"../../form/ToggleButton\",\r\n\t\"../../registry\", // registry.getEnclosingWidget()\r\n\t\"dojo/i18n!../nls/commands\"\r\n], function(aspect, declare, domClass, domGeometry, domStyle, i18n, keys, lang, on, has, win, winUtils,\r\n\t\t\tfocus, _Plugin, ToggleButton, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/FullScreen\r\n\r\n\tvar FullScreen = declare(\"dijit._editor.plugins.FullScreen\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin provides FullScreen capability to the editor.  When\r\n\t\t//\t\ttoggled on, it will render the editor into the full window and\r\n\t\t//\t\toverlay everything.  It also binds to the hotkey: CTRL-SHIFT-F11\r\n\t\t//\t\tfor toggling fullscreen mode.\r\n\r\n\t\t// zIndex: [public] Number\r\n\t\t//\t\tzIndex value used for overlaying the full page.\r\n\t\t//\t\tdefault is 500.\r\n\t\tzIndex: 500,\r\n\r\n\t\t// _origState: [private] Object\r\n\t\t//\t\tThe original view state of the editor.\r\n\t\t_origState: null,\r\n\r\n\t\t// _origiFrameState: [private] Object\r\n\t\t//\t\tThe original view state of the iframe of the editor.\r\n\t\t_origiFrameState: null,\r\n\r\n\t\t// _resizeHandle: [private] Object\r\n\t\t//\t\tConnection point used for handling resize when window resizes.\r\n\t\t_resizeHandle: null,\r\n\r\n\t\t// isFullscreen: [const] boolean\r\n\t\t//\t\tRead-Only variable used to denote of the editor is in fullscreen mode or not.\r\n\t\tisFullscreen: false,\r\n\r\n\t\ttoggle: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to allow programmatic toggling of the view.\r\n\t\t\tthis.button.set(\"checked\", !this.button.get(\"checked\"));\r\n\t\t},\r\n\r\n\t\t_initButton: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for creation of the resize button.\r\n\t\t\tvar strings = i18n.getLocalization(\"dijit._editor\", \"commands\"),\r\n\t\t\t\teditor = this.editor;\r\n\t\t\tthis.button = new ToggleButton({\r\n\t\t\t\tlabel: strings[\"fullScreen\"],\r\n\t\t\t\townerDocument: editor.ownerDocument,\r\n\t\t\t\tdir: editor.dir,\r\n\t\t\t\tlang: editor.lang,\r\n\t\t\t\tshowLabel: false,\r\n\t\t\t\ticonClass: this.iconClassPrefix + \" \" + this.iconClassPrefix + \"FullScreen\",\r\n\t\t\t\ttabIndex: \"-1\",\r\n\t\t\t\tonChange: lang.hitch(this, \"_setFullScreen\")\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tsetEditor: function(editor){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for the setting of the editor.\r\n\t\t\t// editor: Object\r\n\t\t\t//\t\tThe editor to configure for this plugin to use.\r\n\t\t\tthis.editor = editor;\r\n\t\t\tthis._initButton();\r\n\r\n\t\t\tthis.editor.addKeyHandler(keys.F11, true, true, lang.hitch(this, function(e){\r\n\t\t\t\t// Enable the CTRL-SHIFT-F11 hotkey for fullscreen mode.\r\n\t\t\t\tthis.toggle();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.editor.defer(\"focus\", 250);\r\n\t\t\t\treturn true;\r\n\t\t\t}));\r\n\t\t\tthis.own(on(this.editor.domNode, \"keydown\", lang.hitch(this, \"_containFocus\")));\r\n\t\t},\r\n\r\n\t\t_containFocus: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWhen in Full Screen mode, it's good to try and retain focus in the editor\r\n\t\t\t//\t\tso this function is intended to try and constrain the TAB key.\r\n\t\t\t// e: Event\r\n\t\t\t//\t\tThe key event.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.isFullscreen){\r\n\t\t\t\tvar ed = this.editor;\r\n\t\t\t\tif(!ed.isTabIndent &&\r\n\t\t\t\t\ted._fullscreen_oldOnKeyDown &&\r\n\t\t\t\t\te.keyCode === keys.TAB){\r\n\t\t\t\t\t// If we're in fullscreen mode, we want to take over how tab moves focus a bit.\r\n\t\t\t\t\t// to keep it within the editor since it's hiding the rest of the page.\r\n\t\t\t\t\t// IE hates changing focus IN the event handler, so need to put calls\r\n\t\t\t\t\t// in a timeout.  Gotta love IE.\r\n\t\t\t\t\t// Also need to check for alternate view nodes if present and active.\r\n\t\t\t\t\tvar f = focus.curNode;\r\n\t\t\t\t\tvar avn = this._getAltViewNode();\r\n\t\t\t\t\tif(f == ed.iframe ||\r\n\t\t\t\t\t\t(avn && f === avn)){\r\n\t\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\ted.toolbar.focus();\r\n\t\t\t\t\t\t}), 10);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(avn && domStyle.get(ed.iframe, \"display\") === \"none\"){\r\n\t\t\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\t\tfocus.focus(avn);\r\n\t\t\t\t\t\t\t}), 10);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\t\ted.focus();\r\n\t\t\t\t\t\t\t}), 10);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}else if(ed._fullscreen_oldOnKeyDown){\r\n\t\t\t\t\t// Only call up when it's a different function.  Traps corner case event issue\r\n\t\t\t\t\t// on IE which caused stack overflow on handler cleanup.\r\n\t\t\t\t\ted._fullscreen_oldOnKeyDown(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_resizeEditor: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to handle resizing the editor as the viewport\r\n\t\t\t//\t\tresizes (window scaled)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar vp = winUtils.getBox(this.editor.ownerDocument);\r\n\t\t\tdomGeometry.setMarginBox(this.editor.domNode, {\r\n\t\t\t\tw: vp.w,\r\n\t\t\t\th: vp.h\r\n\t\t\t});\r\n\r\n\t\t\t//Adjust the internal heights too, as they can be a bit off.\r\n\t\t\tvar hHeight = this.editor.getHeaderHeight();\r\n\t\t\tvar fHeight = this.editor.getFooterHeight();\r\n\t\t\tvar extents = domGeometry.getPadBorderExtents(this.editor.domNode);\r\n\t\t\tvar fcpExtents = domGeometry.getPadBorderExtents(this.editor.iframe.parentNode);\r\n\t\t\tvar fcmExtents = domGeometry.getMarginExtents(this.editor.iframe.parentNode);\r\n\r\n\t\t\tvar cHeight = vp.h - (hHeight + extents.h + fHeight);\r\n\t\t\tdomGeometry.setMarginBox(this.editor.iframe.parentNode, {\r\n\t\t\t\th: cHeight,\r\n\t\t\t\tw: vp.w\r\n\t\t\t});\r\n\t\t\tdomGeometry.setMarginBox(this.editor.iframe, {\r\n\t\t\t\th: cHeight - (fcpExtents.h + fcmExtents.h)\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_getAltViewNode: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tThis function is intended as a hook point for setting an\r\n\t\t\t//\t\talternate view node for when in full screen mode and the\r\n\t\t\t//\t\teditable iframe is hidden.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected.\r\n\t\t},\r\n\r\n\t\t_setFullScreen: function(full){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to handle toggling between full screen and\r\n\t\t\t//\t\tregular view.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\t//Alias this for shorter code.\r\n\t\t\tvar ed = this.editor;\r\n\t\t\tvar body = ed.ownerDocumentBody;\r\n\t\t\tvar editorParent = ed.domNode.parentNode;\r\n\r\n\t\t\tvar vp = winUtils.getBox(ed.ownerDocument);\r\n\r\n\t\t\tthis.isFullscreen = full;\r\n\r\n\t\t\tif(full){\r\n\t\t\t\t//Parent classes can royally screw up this plugin, so we\r\n\t\t\t\t//have to set everything to position static.\r\n\t\t\t\twhile(editorParent && editorParent !== body){\r\n\t\t\t\t\tdomClass.add(editorParent, \"dijitForceStatic\");\r\n\t\t\t\t\teditorParent = editorParent.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Save off the resize function.  We want to kill its behavior.\r\n\t\t\t\tthis._editorResizeHolder = this.editor.resize;\r\n\t\t\t\ted.resize = function(){\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Try to constrain focus control.\r\n\t\t\t\ted._fullscreen_oldOnKeyDown = ed.onKeyDown;\r\n\t\t\t\ted.onKeyDown = lang.hitch(this, this._containFocus);\r\n\r\n\t\t\t\tthis._origState = {};\r\n\t\t\t\tthis._origiFrameState = {};\r\n\r\n\t\t\t\t// Store the basic editor state we have to restore later.\r\n\t\t\t\t// Not using domStyle.get here, had problems, didn't\r\n\t\t\t\t// give me stuff like 100%, gave me pixel calculated values.\r\n\t\t\t\t// Need the exact original values.\r\n\t\t\t\tvar domNode = ed.domNode,\r\n\t\t\t\t\trawStyle = domNode && domNode.style || {};\r\n\t\t\t\tthis._origState = {\r\n\t\t\t\t\twidth: rawStyle.width || \"\",\r\n\t\t\t\t\theight: rawStyle.height || \"\",\r\n\t\t\t\t\ttop: domStyle.get(domNode, \"top\") || \"\",\r\n\t\t\t\t\tleft: domStyle.get(domNode, \"left\") || \"\",\r\n\t\t\t\t\tposition: domStyle.get(domNode, \"position\") || \"static\",\r\n\t\t\t\t\tmarginBox: domGeometry.getMarginBox(ed.domNode)\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Store the iframe state we have to restore later.\r\n\t\t\t\t// Not using domStyle.get here, had problems, didn't\r\n\t\t\t\t// give me stuff like 100%, gave me pixel calculated values.\r\n\t\t\t\t// Need the exact original values.\r\n\t\t\t\tvar iframe = ed.iframe,\r\n\t\t\t\t\tiframeStyle = iframe && iframe.style || {};\r\n\r\n\t\t\t\tvar bc = domStyle.get(ed.iframe, \"backgroundColor\");\r\n\t\t\t\tthis._origiFrameState = {\r\n\t\t\t\t\tbackgroundColor: bc || \"transparent\",\r\n\t\t\t\t\twidth: iframeStyle.width || \"auto\",\r\n\t\t\t\t\theight: iframeStyle.height || \"auto\",\r\n\t\t\t\t\tzIndex: iframeStyle.zIndex || \"\"\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Okay, size everything.\r\n\t\t\t\tdomStyle.set(ed.domNode, {\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\tzIndex: this.zIndex,\r\n\t\t\t\t\twidth: vp.w + \"px\",\r\n\t\t\t\t\theight: vp.h + \"px\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdomStyle.set(ed.iframe, {\r\n\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tzIndex: this.zIndex,\r\n\t\t\t\t\tbackgroundColor: bc !== \"transparent\" &&\r\n\t\t\t\t\t\tbc !== \"rgba(0, 0, 0, 0)\" ? bc : \"white\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdomStyle.set(ed.iframe.parentNode, {\r\n\t\t\t\t\theight: \"95%\",\r\n\t\t\t\t\twidth: \"100%\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Store the overflow state we have to restore later.\r\n\t\t\t\t// IE had issues, so have to check that it's defined.  Ugh.\r\n\t\t\t\tif(body.style && body.style.overflow){\r\n\t\t\t\t\tthis._oldOverflow = domStyle.get(body, \"overflow\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis._oldOverflow = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(has(\"ie\") && !has(\"quirks\")){\r\n\t\t\t\t\t// IE will put scrollbars in anyway, html (parent of body)\r\n\t\t\t\t\t// also controls them in standards mode, so we have to\r\n\t\t\t\t\t// remove them, argh.\r\n\t\t\t\t\tif(body.parentNode &&\r\n\t\t\t\t\t\tbody.parentNode.style &&\r\n\t\t\t\t\t\tbody.parentNode.style.overflow){\r\n\t\t\t\t\t\tthis._oldBodyParentOverflow = body.parentNode.style.overflow;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tthis._oldBodyParentOverflow = domStyle.get(body.parentNode, \"overflow\");\r\n\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\tthis._oldBodyParentOverflow = \"scroll\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomStyle.set(body.parentNode, \"overflow\", \"hidden\");\r\n\t\t\t\t}\r\n\t\t\t\tdomStyle.set(body, \"overflow\", \"hidden\");\r\n\r\n\t\t\t\tvar resizer = function(){\r\n\t\t\t\t\t// function to handle resize events.\r\n\t\t\t\t\t// Will check current VP and only resize if\r\n\t\t\t\t\t// different.\r\n\t\t\t\t\tvar vp = winUtils.getBox(ed.ownerDocument);\r\n\t\t\t\t\tif(\"_prevW\" in this && \"_prevH\" in this){\r\n\t\t\t\t\t\t// No actual size change, ignore.\r\n\t\t\t\t\t\tif(vp.w === this._prevW && vp.h === this._prevH){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis._prevW = vp.w;\r\n\t\t\t\t\t\tthis._prevH = vp.h;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this._resizer){\r\n\t\t\t\t\t\tclearTimeout(this._resizer);\r\n\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Timeout it to help avoid spamming resize on IE.\r\n\t\t\t\t\t// Works for all browsers.\r\n\t\t\t\t\tthis._resizer = setTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t\tthis._resizeEditor();\r\n\t\t\t\t\t}), 10);\r\n\t\t\t\t};\r\n\t\t\t\tthis._resizeHandle = on(window, \"resize\", lang.hitch(this, resizer));\r\n\r\n\t\t\t\t// Also monitor for direct calls to resize and adapt editor.\r\n\t\t\t\tthis._resizeHandle2 = aspect.after(ed, \"onResize\", lang.hitch(this, function(){\r\n\t\t\t\t\tif(this._resizer){\r\n\t\t\t\t\t\tclearTimeout(this._resizer);\r\n\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._resizer = setTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t\tthis._resizeEditor();\r\n\t\t\t\t\t}), 10);\r\n\t\t\t\t}));\r\n\r\n\t\t\t\t// Call it once to work around IE glitchiness.  Safe for other browsers too.\r\n\t\t\t\tthis._resizeEditor();\r\n\t\t\t\tvar dn = this.editor.toolbar.domNode;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\twinUtils.scrollIntoView(dn);\r\n\t\t\t\t}, 250);\r\n\t\t\t}else{\r\n\t\t\t\tif(this._resizeHandle){\r\n\t\t\t\t\t// Cleanup resizing listeners\r\n\t\t\t\t\tthis._resizeHandle.remove();\r\n\t\t\t\t\tthis._resizeHandle = null;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._resizeHandle2){\r\n\t\t\t\t\t// Cleanup resizing listeners\r\n\t\t\t\t\tthis._resizeHandle2.remove();\r\n\t\t\t\t\tthis._resizeHandle2 = null;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._rst){\r\n\t\t\t\t\tclearTimeout(this._rst);\r\n\t\t\t\t\tthis._rst = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Remove all position static class assigns.\r\n\t\t\t\twhile(editorParent && editorParent !== body){\r\n\t\t\t\t\tdomClass.remove(editorParent, \"dijitForceStatic\");\r\n\t\t\t\t\teditorParent = editorParent.parentNode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Restore resize function\r\n\t\t\t\tif(this._editorResizeHolder){\r\n\t\t\t\t\tthis.editor.resize = this._editorResizeHolder;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this._origState && !this._origiFrameState){\r\n\t\t\t\t\t// If we actually didn't toggle, then don't do anything.\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(ed._fullscreen_oldOnKeyDown){\r\n\t\t\t\t\ted.onKeyDown = ed._fullscreen_oldOnKeyDown;\r\n\t\t\t\t\tdelete ed._fullscreen_oldOnKeyDown;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add a timeout to make sure we don't have a resize firing in the\r\n\t\t\t\t// background at the time of minimize.\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t// Restore all the editor state.\r\n\t\t\t\t\tvar mb = self._origState.marginBox;\r\n\t\t\t\t\tvar oh = self._origState.height;\r\n\t\t\t\t\tif(has(\"ie\") && !has(\"quirks\")){\r\n\t\t\t\t\t\tbody.parentNode.style.overflow = self._oldBodyParentOverflow;\r\n\t\t\t\t\t\tdelete self._oldBodyParentOverflow;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomStyle.set(body, \"overflow\", self._oldOverflow);\r\n\t\t\t\t\tdelete self._oldOverflow;\r\n\r\n\t\t\t\t\tdomStyle.set(ed.domNode, self._origState);\r\n\t\t\t\t\tdomStyle.set(ed.iframe.parentNode, {\r\n\t\t\t\t\t\theight: \"\",\r\n\t\t\t\t\t\twidth: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdomStyle.set(ed.iframe, self._origiFrameState);\r\n\t\t\t\t\tdelete self._origState;\r\n\t\t\t\t\tdelete self._origiFrameState;\r\n\t\t\t\t\t// In case it is contained in a layout and the layout changed size,\r\n\t\t\t\t\t// go ahead and call resize.\r\n\t\t\t\t\tvar pWidget = registry.getEnclosingWidget(ed.domNode.parentNode);\r\n\t\t\t\t\tif(pWidget && pWidget.resize){\r\n\t\t\t\t\t\tpWidget.resize();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(!oh || oh.indexOf(\"%\") < 0){\r\n\t\t\t\t\t\t\t// Resize if the original size wasn't set\r\n\t\t\t\t\t\t\t// or wasn't in percent.  Timeout is to avoid\r\n\t\t\t\t\t\t\t// an IE crash in unit testing.\r\n\t\t\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\t\ted.resize({h: mb.h});\r\n\t\t\t\t\t\t\t}), 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\twinUtils.scrollIntoView(self.editor.toolbar.domNode);\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for button state control for disabled to work.\r\n\t\t\tthis.button.set(\"disabled\", this.get(\"disabled\"));\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride to ensure the resize handle gets cleaned up.\r\n\t\t\tif(this._resizeHandle){\r\n\t\t\t\t// Cleanup resizing listeners\r\n\t\t\t\tthis._resizeHandle.remove();\r\n\t\t\t\tthis._resizeHandle = null;\r\n\t\t\t}\r\n\t\t\tif(this._resizeHandle2){\r\n\t\t\t\t// Cleanup resizing listeners\r\n\t\t\t\tthis._resizeHandle2.remove();\r\n\t\t\t\tthis._resizeHandle2 = null;\r\n\t\t\t}\r\n\t\t\tif(this._resizer){\r\n\t\t\t\tclearTimeout(this._resizer);\r\n\t\t\t\tthis._resizer = null;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\t// Register this plugin.\r\n\t// For back-compat accept \"fullscreen\" (all lowercase) too, remove in 2.0\r\n\t_Plugin.registry[\"fullScreen\"] = _Plugin.registry[\"fullscreen\"] = function(args){\r\n\t\treturn new FullScreen({\r\n\t\t\tzIndex: (\"zIndex\" in args) ? args.zIndex : 500\r\n\t\t});\r\n\t};\r\n\r\n\treturn FullScreen;\r\n});\r\n\ndefine('dijit/_editor/plugins/TabIndent',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.experimental\r\n\t\"../_Plugin\",\r\n\t\"../../form/ToggleButton\"\r\n], function(declare, kernel, _Plugin, ToggleButton){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/TabIndent\r\n\r\n\tkernel.experimental(\"dijit._editor.plugins.TabIndent\");\r\n\r\n\r\n\tvar TabIndent = declare(\"dijit._editor.plugins.TabIndent\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin is used to allow the use of the tab and shift-tab keys\r\n\t\t//\t\tto indent/outdent list items.  This overrides the default behavior\r\n\t\t//\t\tof moving focus from/to the toolbar\r\n\r\n\t\t// Override _Plugin.useDefaultCommand... processing is handled by this plugin, not by dijit/Editor.\r\n\t\tuseDefaultCommand: false,\r\n\r\n\t\t// Override _Plugin.buttonClass to use a ToggleButton for this plugin rather than a vanilla Button\r\n\t\tbuttonClass: ToggleButton,\r\n\r\n\t\tcommand: \"tabIndent\",\r\n\r\n\t\t_initButton: function(){\r\n\t\t\t// Override _Plugin._initButton() to setup listener on button click\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar e = this.editor;\r\n\t\t\tthis.own(this.button.on(\"change\", function(val){\r\n\t\t\t\te.set(\"isTabIndent\", val);\r\n\t\t\t}));\r\n\r\n\t\t\t// Set initial checked state of button based on Editor.isTabIndent\r\n\t\t\tthis.updateState();\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// Overrides _Plugin.updateState().\r\n\t\t\t// Ctrl-m in the editor will switch tabIndent mode on/off, so we need to react to that.\r\n\t\t\tvar disabled = this.get(\"disabled\");\r\n\t\t\tthis.button.set(\"disabled\", disabled);\r\n\t\t\tif(disabled){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.button.set('checked', this.editor.isTabIndent, false);\r\n\t\t}\r\n\t});\r\n\r\n\t// Register this plugin.\r\n\t_Plugin.registry[\"tabIndent\"] = function(){\r\n\t\treturn new TabIndent({command: \"tabIndent\"});\r\n\t};\r\n\r\n\r\n\treturn TabIndent;\r\n});\r\n\ndefine('dijit/_editor/plugins/TextColor',[\r\n\t\"require\",\r\n\t\"dojo/colors\", // colors.fromRgb\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/lang\",\r\n\t\"../_Plugin\",\r\n\t\"../../form/DropDownButton\"\r\n], function(require, colors, declare, lang, _Plugin, DropDownButton){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/TextColor\r\n\r\n\tvar TextColor = declare(\"dijit._editor.plugins.TextColor\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin provides dropdown color pickers for setting text color and background color\r\n\t\t// description:\r\n\t\t//\t\tThe commands provided by this plugin are:\r\n\t\t//\r\n\t\t//\t\t- foreColor - sets the text color\r\n\t\t//\t\t- hiliteColor - sets the background color\r\n\r\n\t\t// Override _Plugin.buttonClass to use DropDownButton (with ColorPalette) to control this plugin\r\n\t\tbuttonClass: DropDownButton,\r\n\t\t\t\t\r\n\t\t// colorPicker: String|Constructor\r\n\t\t//\t\tThe color picker dijit to use, defaults to dijit/ColorPalette\r\n\t\tcolorPicker: \"dijit/ColorPalette\",\r\n\r\n\t\t// useDefaultCommand: Boolean\r\n\t\t//\t\tFalse as we do not use the default editor command/click behavior.\r\n\t\tuseDefaultCommand: false,\r\n\r\n\t\t_initButton: function(){\r\n\t\t\tthis.command = this.name;\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Setup to lazy load ColorPalette first time the button is clicked\r\n\t\t\tvar self = this;\r\n\t\t\tthis.button.loadDropDown = function(callback){\r\n\t\t\t\tfunction onColorPaletteLoad(ColorPalette){\r\n\t\t\t\t\tself.button.dropDown = new ColorPalette({\r\n\t\t\t\t\t\tdir: self.editor.dir,\r\n\t\t\t\t\t\townerDocument: self.editor.ownerDocument,\r\n\t\t\t\t\t\tvalue: self.value,\r\n\t\t\t\t\t\tonChange: function(color){\r\n\t\t\t\t\t\t\tself.editor.execCommand(self.command, color);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonExecute: function(){\r\n\t\t\t\t\t\t\tself.editor.execCommand(self.command, this.get(\"value\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof self.colorPicker == \"string\"){\r\n\t\t\t\t\trequire([self.colorPicker], onColorPaletteLoad);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tonColorPaletteLoad(self.colorPicker);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides _Plugin.updateState().  This updates the ColorPalette\r\n\t\t\t//\t\tto show the color of the currently selected text.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\r\n\t\t\tvar _e = this.editor;\r\n\t\t\tvar _c = this.command;\r\n\t\t\tif(!_e || !_e.isLoaded || !_c.length){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.button){\r\n\t\t\t\tvar disabled = this.get(\"disabled\");\r\n\t\t\t\tthis.button.set(\"disabled\", disabled);\r\n\t\t\t\tif(disabled){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar value;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvalue = _e.queryCommandValue(_c) || \"\";\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\t//Firefox may throw error above if the editor is just loaded, ignore it\r\n\t\t\t\t\tvalue = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(value == \"\"){\r\n\t\t\t\tvalue = \"#000000\";\r\n\t\t\t}\r\n\t\t\tif(value == \"transparent\"){\r\n\t\t\t\tvalue = \"#ffffff\";\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof value == \"string\"){\r\n\t\t\t\t//if RGB value, convert to hex value\r\n\t\t\t\tif(value.indexOf(\"rgb\") > -1){\r\n\t\t\t\t\tvalue = colors.fromRgb(value).toHex();\r\n\t\t\t\t}\r\n\t\t\t}else{    //it's an integer(IE returns an MS access #)\r\n\t\t\t\tvalue = ((value & 0x0000ff) << 16) | (value & 0x00ff00) | ((value & 0xff0000) >>> 16);\r\n\t\t\t\tvalue = value.toString(16);\r\n\t\t\t\tvalue = \"#000000\".slice(0, 7 - value.length) + value;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.value = value;\r\n\r\n\t\t\tvar dropDown = this.button.dropDown;\r\n\t\t\tif(dropDown && dropDown.get && value !== dropDown.get('value')){\r\n\t\t\t\tdropDown.set('value', value, false);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// Register this plugin.\r\n\t_Plugin.registry[\"foreColor\"] = function(args){\r\n\t\treturn new TextColor(args);\r\n\t};\r\n\t_Plugin.registry[\"hiliteColor\"] = function(args){\r\n\t\treturn new TextColor(args);\r\n\t};\r\n\r\n\treturn TextColor;\r\n});\r\n\ndefine('dijit/_editor/plugins/ViewSource',[\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/aspect\", // Aspect commands for advice\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-attr\", // domAttr.set\r\n\t\"dojo/dom-construct\", // domConstruct.create domConstruct.place\r\n\t\"dojo/dom-geometry\", // domGeometry.setMarginBox domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.set\r\n\t\"dojo/i18n\", // i18n.getLocalization\r\n\t\"dojo/keys\", // keys.F12\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/on\", // on()\r\n\t\"dojo/sniff\", // has(\"ie\")\r\n\t\"dojo/window\", // winUtils.getBox\r\n\t\"../../focus\", // focus.focus()\r\n\t\"../_Plugin\",\r\n\t\"../../form/ToggleButton\",\r\n\t\"../..\", // dijit._scopeName\r\n\t\"../../registry\", // registry.getEnclosingWidget()\r\n\t\"dojo/i18n!../nls/commands\"\r\n], function(array, aspect, declare, domAttr, domConstruct, domGeometry, domStyle, i18n, keys, lang, on, has, winUtils,\r\n\t\t\tfocus, _Plugin, ToggleButton, dijit, registry){\r\n\r\n\t// module:\r\n\t//\t\tdijit/_editor/plugins/ViewSource\r\n\r\n\tvar ViewSource = declare(\"dijit._editor.plugins.ViewSource\", _Plugin, {\r\n\t\t// summary:\r\n\t\t//\t\tThis plugin provides a simple view source capability.  When view\r\n\t\t//\t\tsource mode is enabled, it disables all other buttons/plugins on the RTE.\r\n\t\t//\t\tIt also binds to the hotkey: CTRL-SHIFT-F11 for toggling ViewSource mode.\r\n\r\n\t\t// stripScripts: [public] Boolean\r\n\t\t//\t\tBoolean flag used to indicate if script tags should be stripped from the document.\r\n\t\t//\t\tDefaults to true.\r\n\t\tstripScripts: true,\r\n\r\n\t\t// stripComments: [public] Boolean\r\n\t\t//\t\tBoolean flag used to indicate if comment tags should be stripped from the document.\r\n\t\t//\t\tDefaults to true.\r\n\t\tstripComments: true,\r\n\r\n\t\t// stripComments: [public] Boolean\r\n\t\t//\t\tBoolean flag used to indicate if iframe tags should be stripped from the document.\r\n\t\t//\t\tDefaults to true.\r\n\t\tstripIFrames: true,\r\n\r\n\t\t// readOnly: [const] Boolean\r\n\t\t//\t\tBoolean flag used to indicate if the source view should be readonly or not.\r\n\t\t//\t\tCannot be changed after initialization of the plugin.\r\n\t\t//\t\tDefaults to false.\r\n\t\treadOnly: false,\r\n\r\n\t\t// _fsPlugin: [private] Object\r\n\t\t//\t\tReference to a registered fullscreen plugin so that viewSource knows\r\n\t\t//\t\thow to scale.\r\n\t\t_fsPlugin: null,\r\n\r\n\t\ttoggle: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to allow programmatic toggling of the view.\r\n\r\n\t\t\t// For Webkit, we have to focus a very particular way.\r\n\t\t\t// when swapping views, otherwise focus doesn't shift right\r\n\t\t\t// but can't focus this way all the time, only for VS changes.\r\n\t\t\t// If we did it all the time, buttons like bold, italic, etc\r\n\t\t\t// break.\r\n\t\t\tif(has(\"webkit\")){\r\n\t\t\t\tthis._vsFocused = true;\r\n\t\t\t}\r\n\t\t\tthis.button.set(\"checked\", !this.button.get(\"checked\"));\r\n\r\n\t\t},\r\n\r\n\t\t_initButton: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for creation of the resize button.\r\n\t\t\tvar strings = i18n.getLocalization(\"dijit._editor\", \"commands\"),\r\n\t\t\t\teditor = this.editor;\r\n\t\t\tthis.button = new ToggleButton({\r\n\t\t\t\tlabel: strings[\"viewSource\"],\r\n\t\t\t\townerDocument: editor.ownerDocument,\r\n\t\t\t\tdir: editor.dir,\r\n\t\t\t\tlang: editor.lang,\r\n\t\t\t\tshowLabel: false,\r\n\t\t\t\ticonClass: this.iconClassPrefix + \" \" + this.iconClassPrefix + \"ViewSource\",\r\n\t\t\t\ttabIndex: \"-1\",\r\n\t\t\t\tonChange: lang.hitch(this, \"_showSource\")\r\n\t\t\t});\r\n\r\n\t\t\t// IE 7 has a horrible bug with zoom, so we have to create this node\r\n\t\t\t// to cross-check later.  Sigh.\r\n\t\t\tif(has(\"ie\") == 7){\r\n\t\t\t\tthis._ieFixNode = domConstruct.create(\"div\", {\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\topacity: \"0\",\r\n\t\t\t\t\t\tzIndex: \"-1000\",\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\ttop: \"-1000px\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}, editor.ownerDocumentBody);\r\n\t\t\t}\r\n\t\t\t// Make sure readonly mode doesn't make the wrong cursor appear over the button.\r\n\t\t\tthis.button.set(\"readOnly\", false);\r\n\t\t},\r\n\r\n\r\n\t\tsetEditor: function(/*dijit/Editor*/ editor){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTell the plugin which Editor it is associated with.\r\n\t\t\t// editor: Object\r\n\t\t\t//\t\tThe editor object to attach the print capability to.\r\n\t\t\tthis.editor = editor;\r\n\t\t\tthis._initButton();\r\n\r\n\t\t\tthis.editor.addKeyHandler(keys.F12, true, true, lang.hitch(this, function(e){\r\n\t\t\t\t// Move the focus before switching\r\n\t\t\t\t// It'll focus back.  Hiding a focused\r\n\t\t\t\t// node causes issues.\r\n\t\t\t\tthis.button.focus();\r\n\t\t\t\tthis.toggle();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t// Call the focus shift outside of the handler.\r\n\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t// Focus the textarea... unless focus has moved outside of the editor completely during the timeout.\r\n\t\t\t\t\t// Since we override focus, so we just need to call it.\r\n\t\t\t\t\tif(this.editor.focused){\r\n\t\t\t\t\t\tthis.editor.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}), 100);\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_showSource: function(source){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to toggle between the source and RTE views.\r\n\t\t\t// source: boolean\r\n\t\t\t//\t\tBoolean value indicating if it should be in source mode or not.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar ed = this.editor;\r\n\t\t\tvar edPlugins = ed._plugins;\r\n\t\t\tvar html;\r\n\t\t\tthis._sourceShown = source;\r\n\t\t\tvar self = this;\r\n\t\t\ttry{\r\n\t\t\t\tif(!this.sourceArea){\r\n\t\t\t\t\tthis._createSourceView();\r\n\t\t\t\t}\r\n\t\t\t\tif(source){\r\n\t\t\t\t\t// Update the QueryCommandEnabled function to disable everything but\r\n\t\t\t\t\t// the source view mode.  Have to over-ride a function, then kick all\r\n\t\t\t\t\t// plugins to check their state.\r\n\t\t\t\t\ted._sourceQueryCommandEnabled = ed.queryCommandEnabled;\r\n\t\t\t\t\ted.queryCommandEnabled = function(cmd){\r\n\t\t\t\t\t\treturn cmd.toLowerCase() === \"viewsource\";\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.editor.onDisplayChanged();\r\n\t\t\t\t\thtml = ed.get(\"value\");\r\n\t\t\t\t\thtml = this._filter(html);\r\n\t\t\t\t\ted.set(\"value\", html);\r\n\t\t\t\t\tarray.forEach(edPlugins, function(p){\r\n\t\t\t\t\t\t// Turn off any plugins not controlled by queryCommandenabled.\r\n\t\t\t\t\t\tif(p && !(p instanceof ViewSource) && p.isInstanceOf(_Plugin)){\r\n\t\t\t\t\t\t\tp.set(\"disabled\", true)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// We actually do need to trap this plugin and adjust how we\r\n\t\t\t\t\t// display the textarea.\r\n\t\t\t\t\tif(this._fsPlugin){\r\n\t\t\t\t\t\tthis._fsPlugin._getAltViewNode = function(){\r\n\t\t\t\t\t\t\treturn self.sourceArea;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.sourceArea.value = html;\r\n\r\n\t\t\t\t\t// Since neither iframe nor textarea have margin, border, or padding,\r\n\t\t\t\t\t// just set sizes equal\r\n\t\t\t\t\tthis.sourceArea.style.height = ed.iframe.style.height;\r\n\t\t\t\t\tthis.sourceArea.style.width = ed.iframe.style.width;\r\n\t\t\t\t\tdomStyle.set(ed.iframe, \"display\", \"none\");\r\n\t\t\t\t\tdomStyle.set(this.sourceArea, {\r\n\t\t\t\t\t\tdisplay: \"block\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar resizer = function(){\r\n\t\t\t\t\t\t// function to handle resize events.\r\n\t\t\t\t\t\t// Will check current VP and only resize if\r\n\t\t\t\t\t\t// different.\r\n\t\t\t\t\t\tvar vp = winUtils.getBox(ed.ownerDocument);\r\n\r\n\t\t\t\t\t\tif(\"_prevW\" in this && \"_prevH\" in this){\r\n\t\t\t\t\t\t\t// No actual size change, ignore.\r\n\t\t\t\t\t\t\tif(vp.w === this._prevW && vp.h === this._prevH){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis._prevW = vp.w;\r\n\t\t\t\t\t\t\t\tthis._prevH = vp.h;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis._prevW = vp.w;\r\n\t\t\t\t\t\t\tthis._prevH = vp.h;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this._resizer){\r\n\t\t\t\t\t\t\tclearTimeout(this._resizer);\r\n\t\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Timeout it to help avoid spamming resize on IE.\r\n\t\t\t\t\t\t// Works for all browsers.\r\n\t\t\t\t\t\tthis._resizer = setTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\t\tdelete this._resizer;\r\n\t\t\t\t\t\t\tthis._resize();\r\n\t\t\t\t\t\t}), 10);\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis._resizeHandle = on(window, \"resize\", lang.hitch(this, resizer));\r\n\r\n\t\t\t\t\t//Call this on a delay once to deal with IE glitchiness on initial size.\r\n\t\t\t\t\tsetTimeout(lang.hitch(this, this._resize), 100);\r\n\r\n\t\t\t\t\t//Trigger a check for command enablement/disablement.\r\n\t\t\t\t\tthis.editor.onNormalizedDisplayChanged();\r\n\r\n\t\t\t\t\tthis.editor.__oldGetValue = this.editor.getValue;\r\n\t\t\t\t\tthis.editor.getValue = lang.hitch(this, function(){\r\n\t\t\t\t\t\tvar txt = this.sourceArea.value;\r\n\t\t\t\t\t\ttxt = this._filter(txt);\r\n\t\t\t\t\t\treturn txt;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis._setListener = aspect.after(this.editor, \"setValue\", lang.hitch(this, function(htmlTxt){\r\n\t\t\t\t\t\thtmlTxt = htmlTxt || \"\";\r\n\t\t\t\t\t\thtmlTxt = this._filter(htmlTxt);\r\n\t\t\t\t\t\tthis.sourceArea.value = htmlTxt;\r\n\t\t\t\t\t}), true);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// First check that we were in source view before doing anything.\r\n\t\t\t\t\t// corner case for being called with a value of false and we hadn't\r\n\t\t\t\t\t// actually been in source display mode.\r\n\t\t\t\t\tif(!ed._sourceQueryCommandEnabled){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Remove the set listener.\r\n\t\t\t\t\tthis._setListener.remove();\r\n\t\t\t\t\tdelete this._setListener;\r\n\r\n\t\t\t\t\tthis._resizeHandle.remove();\r\n\t\t\t\t\tdelete this._resizeHandle;\r\n\r\n\t\t\t\t\tif(this.editor.__oldGetValue){\r\n\t\t\t\t\t\tthis.editor.getValue = this.editor.__oldGetValue;\r\n\t\t\t\t\t\tdelete this.editor.__oldGetValue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Restore all the plugin buttons state.\r\n\t\t\t\t\ted.queryCommandEnabled = ed._sourceQueryCommandEnabled;\r\n\t\t\t\t\tif(!this._readOnly){\r\n\t\t\t\t\t\thtml = this.sourceArea.value;\r\n\t\t\t\t\t\thtml = this._filter(html);\r\n\t\t\t\t\t\ted.beginEditing();\r\n\t\t\t\t\t\ted.set(\"value\", html);\r\n\t\t\t\t\t\ted.endEditing();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tarray.forEach(edPlugins, function(p){\r\n\t\t\t\t\t\t// Turn back on any plugins we turned off.\r\n\t\t\t\t\t\tif(p && p.isInstanceOf(_Plugin)){\r\n\t\t\t\t\t\t\tp.set(\"disabled\", false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdomStyle.set(this.sourceArea, \"display\", \"none\");\r\n\t\t\t\t\tdomStyle.set(ed.iframe, \"display\", \"block\");\r\n\t\t\t\t\tdelete ed._sourceQueryCommandEnabled;\r\n\r\n\t\t\t\t\t//Trigger a check for command enablement/disablement.\r\n\t\t\t\t\tthis.editor.onDisplayChanged();\r\n\t\t\t\t}\r\n\t\t\t\t// Call a delayed resize to wait for some things to display in header/footer.\r\n\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t// Make resize calls.\r\n\t\t\t\t\tvar parent = ed.domNode.parentNode;\r\n\t\t\t\t\tif(parent){\r\n\t\t\t\t\t\tvar container = registry.getEnclosingWidget(parent);\r\n\t\t\t\t\t\tif(container && container.resize){\r\n\t\t\t\t\t\t\tcontainer.resize();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ted.resize();\r\n\t\t\t\t}), 300);\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateState: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride for button state control for disabled to work.\r\n\t\t\tthis.button.set(\"disabled\", this.get(\"disabled\"));\r\n\t\t},\r\n\r\n\t\t_resize: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to resize the source view\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar ed = this.editor;\r\n\t\t\tvar tbH = ed.getHeaderHeight();\r\n\t\t\tvar fH = ed.getFooterHeight();\r\n\t\t\tvar eb = domGeometry.position(ed.domNode);\r\n\r\n\t\t\t// Styles are now applied to the internal source container, so we have\r\n\t\t\t// to subtract them off.\r\n\t\t\tvar containerPadding = domGeometry.getPadBorderExtents(ed.iframe.parentNode);\r\n\t\t\tvar containerMargin = domGeometry.getMarginExtents(ed.iframe.parentNode);\r\n\r\n\t\t\tvar extents = domGeometry.getPadBorderExtents(ed.domNode);\r\n\t\t\tvar edb = {\r\n\t\t\t\tw: eb.w - extents.w,\r\n\t\t\t\th: eb.h - (tbH + extents.h + fH)\r\n\t\t\t};\r\n\r\n\t\t\t// Fullscreen gets odd, so we need to check for the FS plugin and\r\n\t\t\t// adapt.\r\n\t\t\tif(this._fsPlugin && this._fsPlugin.isFullscreen){\r\n\t\t\t\t//Okay, probably in FS, adjust.\r\n\t\t\t\tvar vp = winUtils.getBox(ed.ownerDocument);\r\n\t\t\t\tedb.w = (vp.w - extents.w);\r\n\t\t\t\tedb.h = (vp.h - (tbH + extents.h + fH));\r\n\t\t\t}\r\n\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\t// IE is always off by 2px, so we have to adjust here\r\n\t\t\t\t// Note that IE ZOOM is broken here.  I can't get\r\n\t\t\t\t//it to scale right.\r\n\t\t\t\tedb.h -= 2;\r\n\t\t\t}\r\n\r\n\t\t\t// IE has a horrible zoom bug.  So, we have to try and account for\r\n\t\t\t// it and fix up the scaling.\r\n\t\t\tif(this._ieFixNode){\r\n\t\t\t\tvar _ie7zoom = -this._ieFixNode.offsetTop / 1000;\r\n\t\t\t\tedb.w = Math.floor((edb.w + 0.9) / _ie7zoom);\r\n\t\t\t\tedb.h = Math.floor((edb.h + 0.9) / _ie7zoom);\r\n\t\t\t}\r\n\r\n\t\t\tdomGeometry.setMarginBox(this.sourceArea, {\r\n\t\t\t\tw: edb.w - (containerPadding.w + containerMargin.w),\r\n\t\t\t\th: edb.h - (containerPadding.h + containerMargin.h)\r\n\t\t\t});\r\n\r\n\t\t\t// Scale the parent container too in this case.\r\n\t\t\tdomGeometry.setMarginBox(ed.iframe.parentNode, {\r\n\t\t\t\th: edb.h\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_createSourceView: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function for creating the source view area.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar ed = this.editor;\r\n\t\t\tvar edPlugins = ed._plugins;\r\n\t\t\tthis.sourceArea = domConstruct.create(\"textarea\");\r\n\t\t\tif(this.readOnly){\r\n\t\t\t\tdomAttr.set(this.sourceArea, \"readOnly\", true);\r\n\t\t\t\tthis._readOnly = true;\r\n\t\t\t}\r\n\t\t\tdomStyle.set(this.sourceArea, {\r\n\t\t\t\tpadding: \"0px\",\r\n\t\t\t\tmargin: \"0px\",\r\n\t\t\t\tborderWidth: \"0px\",\r\n\t\t\t\tborderStyle: \"none\"\r\n\t\t\t});\r\n\t\t\tdomAttr.set(this.sourceArea, \"aria-label\", this.editor.id);\r\n\r\n\t\t\tdomConstruct.place(this.sourceArea, ed.iframe, \"before\");\r\n\r\n\t\t\tif(has(\"ie\") && ed.iframe.parentNode.lastChild !== ed.iframe){\r\n\t\t\t\t// There's some weirdo div in IE used for focus control\r\n\t\t\t\t// But is messed up scaling the textarea if we don't config\r\n\t\t\t\t// it some so it doesn't have a varying height.\r\n\t\t\t\tdomStyle.set(ed.iframe.parentNode.lastChild, {\r\n\t\t\t\t\twidth: \"0px\",\r\n\t\t\t\t\theight: \"0px\",\r\n\t\t\t\t\tpadding: \"0px\",\r\n\t\t\t\t\tmargin: \"0px\",\r\n\t\t\t\t\tborderWidth: \"0px\",\r\n\t\t\t\t\tborderStyle: \"none\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// We also need to take over editor focus a bit here, so that focus calls to\r\n\t\t\t// focus the editor will focus to the right node when VS is active.\r\n\t\t\ted._viewsource_oldFocus = ed.focus;\r\n\t\t\tvar self = this;\r\n\t\t\ted.focus = function(){\r\n\t\t\t\tif(self._sourceShown){\r\n\t\t\t\t\tself.setSourceAreaCaret();\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tif(this._vsFocused){\r\n\t\t\t\t\t\t\tdelete this._vsFocused;\r\n\t\t\t\t\t\t\t// Must focus edit node in this case (webkit only) or\r\n\t\t\t\t\t\t\t// focus doesn't shift right, but in normal\r\n\t\t\t\t\t\t\t// cases we focus with the regular function.\r\n\t\t\t\t\t\t\tfocus.focus(ed.editNode);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ted._viewsource_oldFocus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar i, p;\r\n\t\t\tfor(i = 0; i < edPlugins.length; i++){\r\n\t\t\t\t// We actually do need to trap this plugin and adjust how we\r\n\t\t\t\t// display the textarea.\r\n\t\t\t\tp = edPlugins[i];\r\n\t\t\t\tif(p && (p.declaredClass === \"dijit._editor.plugins.FullScreen\" ||\r\n\t\t\t\t\tp.declaredClass === (dijit._scopeName +\r\n\t\t\t\t\t\t\"._editor.plugins.FullScreen\"))){\r\n\t\t\t\t\tthis._fsPlugin = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._fsPlugin){\r\n\t\t\t\t// Found, we need to over-ride the alt-view node function\r\n\t\t\t\t// on FullScreen with our own, chain up to parent call when appropriate.\r\n\t\t\t\tthis._fsPlugin._viewsource_getAltViewNode = this._fsPlugin._getAltViewNode;\r\n\t\t\t\tthis._fsPlugin._getAltViewNode = function(){\r\n\t\t\t\t\treturn self._sourceShown ? self.sourceArea : this._viewsource_getAltViewNode();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// Listen to the source area for key events as well, as we need to be able to hotkey toggle\r\n\t\t\t// it from there too.\r\n\t\t\tthis.own(on(this.sourceArea, \"keydown\", lang.hitch(this, function(e){\r\n\t\t\t\tif(this._sourceShown && e.keyCode == keys.F12 && e.ctrlKey && e.shiftKey){\r\n\t\t\t\t\tthis.button.focus();\r\n\t\t\t\t\tthis.button.set(\"checked\", false);\r\n\t\t\t\t\tsetTimeout(lang.hitch(this, function(){\r\n\t\t\t\t\t\ted.focus();\r\n\t\t\t\t\t}), 100);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\r\n\t\t_stripScripts: function(html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStrips out script tags from the HTML used in editor.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tThe HTML to filter\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(html){\r\n\t\t\t\t// Look for closed and unclosed (malformed) script attacks.\r\n\t\t\t\thtml = html.replace(/<\\s*script[^>]*>((.|\\s)*?)<\\\\?\\/\\s*script\\s*>/ig, \"\");\r\n\t\t\t\thtml = html.replace(/<\\s*script\\b([^<>]|\\s)*>?/ig, \"\");\r\n\t\t\t\thtml = html.replace(/<[^>]*=(\\s|)*[(\"|')]javascript:[^$1][(\\s|.)]*[$1][^>]*>/ig, \"\");\r\n\t\t\t}\r\n\t\t\treturn html;\r\n\t\t},\r\n\r\n\t\t_stripComments: function(html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStrips out comments from the HTML used in editor.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tThe HTML to filter\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(html){\r\n\t\t\t\thtml = html.replace(/<!--(.|\\s){1,}?-->/g, \"\");\r\n\t\t\t}\r\n\t\t\treturn html;\r\n\t\t},\r\n\r\n\t\t_stripIFrames: function(html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStrips out iframe tags from the content, to avoid iframe script\r\n\t\t\t//\t\tstyle injection attacks.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tThe HTML to filter\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(html){\r\n\t\t\t\thtml = html.replace(/<\\s*iframe[^>]*>((.|\\s)*?)<\\\\?\\/\\s*iframe\\s*>/ig, \"\");\r\n\t\t\t}\r\n\t\t\treturn html;\r\n\t\t},\r\n\r\n\t\t_filter: function(html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to perform some filtering on the HTML.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tThe HTML to filter\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(html){\r\n\t\t\t\tif(this.stripScripts){\r\n\t\t\t\t\thtml = this._stripScripts(html);\r\n\t\t\t\t}\r\n\t\t\t\tif(this.stripComments){\r\n\t\t\t\t\thtml = this._stripComments(html);\r\n\t\t\t\t}\r\n\t\t\t\tif(this.stripIFrames){\r\n\t\t\t\t\thtml = this._stripIFrames(html);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn html;\r\n\t\t},\r\n\r\n\t\tsetSourceAreaCaret: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal function to set the caret in the sourceArea\r\n\t\t\t//\t\tto 0x0\r\n\t\t\tvar elem = this.sourceArea;\r\n\t\t\tfocus.focus(elem);\r\n\t\t\tif(this._sourceShown && !this.readOnly){\r\n\t\t\t\tif(elem.setSelectionRange){\r\n\t\t\t\t\telem.setSelectionRange(0, 0);\r\n\t\t\t\t}else if(this.sourceArea.createTextRange){\r\n\t\t\t\t\t// IE\r\n\t\t\t\t\tvar range = elem.createTextRange();\r\n\t\t\t\t\trange.collapse(true);\r\n\t\t\t\t\trange.moveStart(\"character\", -99999); // move to 0\r\n\t\t\t\t\trange.moveStart(\"character\", 0); // delta from 0 is the correct position\r\n\t\t\t\t\trange.moveEnd(\"character\", 0);\r\n\t\t\t\t\trange.select();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOver-ride to remove the node used to correct for IE's\r\n\t\t\t//\t\tzoom bug.\r\n\t\t\tif(this._ieFixNode){\r\n\t\t\t\tdomConstruct.destroy(this._ieFixNode);\r\n\t\t\t}\r\n\t\t\tif(this._resizer){\r\n\t\t\t\tclearTimeout(this._resizer);\r\n\t\t\t\tdelete this._resizer;\r\n\t\t\t}\r\n\t\t\tif(this._resizeHandle){\r\n\t\t\t\tthis._resizeHandle.remove();\r\n\t\t\t\tdelete this._resizeHandle;\r\n\t\t\t}\r\n\t\t\tif(this._setListener){\r\n\t\t\t\tthis._setListener.remove();\r\n\t\t\t\tdelete this._setListener;\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\t// Register this plugin.\r\n\t// For back-compat accept \"viewsource\" (all lowercase) too, remove in 2.0\r\n\t_Plugin.registry[\"viewSource\"] = _Plugin.registry[\"viewsource\"] = function(args){\r\n\t\treturn new ViewSource({\r\n\t\t\treadOnly: (\"readOnly\" in args) ? args.readOnly : false,\r\n\t\t\tstripComments: (\"stripComments\" in args) ? args.stripComments : true,\r\n\t\t\tstripScripts: (\"stripScripts\" in args) ? args.stripScripts : true,\r\n\t\t\tstripIFrames: (\"stripIFrames\" in args) ? args.stripIFrames : true\r\n\t\t});\r\n\t};\r\n\r\n\treturn ViewSource;\r\n});\r\n\ndefine('dijit/layout/AccordionPane',[\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/_base/kernel\", // kernel.deprecated\r\n\t\"./ContentPane\"\r\n], function(declare, kernel, ContentPane){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/AccordionPane\r\n\r\n\treturn declare(\"dijit.layout.AccordionPane\", ContentPane, {\r\n\t\t// summary:\r\n\t\t//\t\tDeprecated widget.   Use `dijit/layout/ContentPane` instead.\r\n\t\t// tags:\r\n\t\t//\t\tdeprecated\r\n\r\n\t\tconstructor: function(){\r\n\t\t\tkernel.deprecated(\"dijit.layout.AccordionPane deprecated, use ContentPane instead\", \"\", \"2.0\");\r\n\t\t},\r\n\r\n\t\tonSelected: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tcalled when this pane is selected\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/tree/ObjectStoreModel',[\r\n\t\"dojo/_base/array\", // array.filter array.forEach array.indexOf array.some\r\n\t\"dojo/aspect\", // aspect.before, aspect.after\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/Deferred\",\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/when\",\r\n\t\"../Destroyable\"\r\n], function(array, aspect, declare, Deferred, lang, when, Destroyable){\r\n\r\n\t// module:\r\n\t//\t\tdijit/tree/ObjectStoreModel\r\n\r\n\treturn declare(\"dijit.tree.ObjectStoreModel\", Destroyable, {\r\n\t\t// summary:\r\n\t\t//\t\tImplements dijit/tree/model connecting dijit/Tree to a dojo/store/api/Store that implements\r\n\t\t//\t\tgetChildren().\r\n\t\t//\r\n\t\t//\t\tIf getChildren() returns an array with an observe() method, then it will be leveraged to reflect\r\n\t\t//\t\tstore updates to the tree.   So, this class will work best when:\r\n\t\t//\r\n\t\t//\t\t\t1. the store implements dojo/store/Observable\r\n\t\t//\t\t\t2. getChildren() is implemented as a query to the server (i.e. it calls store.query())\r\n\t\t//\r\n\t\t//\t\tDrag and Drop: To support drag and drop, besides implementing getChildren()\r\n\t\t//\t\tand dojo/store/Observable, the store must support the parent option to put().\r\n\t\t//\t\tAnd in order to have child elements ordered according to how the user dropped them,\r\n\t\t//\t\tput() must support the before option.\r\n\r\n\t\t// store: dojo/store/api/Store\r\n\t\t//\t\tUnderlying store\r\n\t\tstore: null,\r\n\r\n\t\t// labelAttr: String\r\n\t\t//\t\tGet label for tree node from this attribute\r\n\t\tlabelAttr: \"name\",\r\n\r\n\t\t// labelType: [const] String\r\n\t\t//\t\tSpecifies how to interpret the labelAttr in the data store items.\r\n\t\t//\t\tCan be \"html\" or \"text\".\r\n\t\tlabelType: \"text\",\r\n\r\n\t\t// root: [readonly] Object\r\n\t\t//\t\tPointer to the root item from the dojo/store/api/Store (read only, not a parameter)\r\n\t\troot: null,\r\n\r\n\t\t// query: anything\r\n\t\t//\t\tSpecifies datastore query to return the root item for the tree.\r\n\t\t//\t\tMust only return a single item.   Alternately can just pass in pointer\r\n\t\t//\t\tto root item.\r\n\t\t// example:\r\n\t\t//\t|\t{id:'ROOT'}\r\n\t\tquery: null,\r\n\r\n\t\tconstructor: function(/* Object */ args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPassed the arguments listed above (store, etc)\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tlang.mixin(this, args);\r\n\r\n\t\t\t// Map from id of each parent node to array of its children, or to Promise for that array of children.\r\n\t\t\tthis.childrenCache = {};\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Methods for traversing hierarchy\r\n\r\n\t\tgetRoot: function(onItem, onError){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls onItem with the root item for the tree, possibly a fabricated item.\r\n\t\t\t//\t\tCalls onError on error.\r\n\t\t\tif(this.root){\r\n\t\t\t\tonItem(this.root);\r\n\t\t\t}else{\r\n\t\t\t\tvar res = this.store.query(this.query);\r\n\t\t\t\tif(res.then){\r\n\t\t\t\t\tthis.own(res);\t// in case app calls destroy() before query completes\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhen(res,\r\n\t\t\t\t\tlang.hitch(this, function(items){\r\n\t\t\t\t\t\t//console.log(\"queried root: \", res);\r\n\t\t\t\t\t\tif(items.length != 1){\r\n\t\t\t\t\t\t\tthrow new Error(\"dijit.tree.ObjectStoreModel: root query returned \" + items.length +\r\n\t\t\t\t\t\t\t\t\" items, but must return exactly one\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.root = items[0];\r\n\t\t\t\t\t\tonItem(this.root);\r\n\r\n\t\t\t\t\t\t// Setup listener to detect if root item changes\r\n\t\t\t\t\t\tif(res.observe){\r\n\t\t\t\t\t\t\tres.observe(lang.hitch(this, function(obj){\r\n\t\t\t\t\t\t\t\t// Presumably removedFrom == insertedInto == 1, and this call indicates item has changed.\r\n\t\t\t\t\t\t\t\t//console.log(\"root changed: \", obj);\r\n\t\t\t\t\t\t\t\tthis.onChange(obj);\r\n\t\t\t\t\t\t\t}), true);\t// true to listen for updates to obj\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tonError\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmayHaveChildren: function(/*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tTells if an item has or might have children.  Implementing logic here\r\n\t\t\t//\t\tavoids showing +/- expando icon for nodes that we know won't have children.\r\n\t\t\t//\t\t(For efficiency reasons we may not want to check if an element actually\r\n\t\t\t//\t\thas children until user clicks the expando node).\r\n\t\t\t//\r\n\t\t\t//\t\tApplication code should override this method based on the data, for example\r\n\t\t\t//\t\tit could be `return item.leaf == true;`.\r\n\t\t\t//\r\n\t\t\t//\t\tNote that mayHaveChildren() must return true for an item if it could possibly\r\n\t\t\t//\t\thave children in the future, due to drag-an-drop or some other data store update.\r\n\t\t\t//\t\tAlso note that it may return true if it's just too expensive to check during tree\r\n\t\t\t//\t\tcreation whether or not the item has children.\r\n\t\t\t// item: Object\r\n\t\t\t//\t\tItem from the dojo/store\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tgetChildren: function(/*Object*/ parentItem, /*function(items)*/ onComplete, /*function*/ onError){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCalls onComplete() with array of child items of given parent item.\r\n\t\t\t// parentItem:\r\n\t\t\t//\t\tItem from the dojo/store\r\n\r\n\t\t\t// TODO:\r\n\t\t\t// For 2.0, change getChildren(), getRoot(), etc. to return a cancelable promise, rather than taking\r\n\t\t\t// onComplete() and onError() callbacks.   Also, probably get rid of the caching.\r\n\t\t\t//\r\n\t\t\t// But be careful if we continue to maintain ObjectStoreModel as a separate class\r\n\t\t\t// from Tree, because in that case ObjectStoreModel can be shared by two trees, and destroying one tree\r\n\t\t\t// should not interfere with an in-progress getChildren() call from another tree.  Also, need to make\r\n\t\t\t// sure that multiple calls to getChildren() for the same parentItem don't trigger duplicate calls\r\n\t\t\t// to onChildrenChange() and onChange().\r\n\t\t\t//\r\n\t\t\t// I think for 2.0 though that ObjectStoreModel should be rolled into Tree itself.\r\n\r\n\t\t\tvar id = this.store.getIdentity(parentItem);\r\n\r\n\t\t\tif(this.childrenCache[id]){\r\n\t\t\t\t// If this.childrenCache[id] is defined, then it always has the latest list of children\r\n\t\t\t\t// (like a live collection), so just return it.\r\n\t\t\t\twhen(this.childrenCache[id], onComplete, onError);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Query the store.\r\n\t\t\t// Cache result so that we can close the query on destroy(), and to avoid setting up multiple observers\r\n\t\t\t// when getChildren() is called multiple times for the same parent.\r\n\t\t\t// The only problem is that getChildren() on non-Observable stores may return a stale value.\r\n\t\t\tvar res = this.childrenCache[id] = this.store.getChildren(parentItem);\r\n\t\t\tif(res.then){\r\n\t\t\t\tthis.own(res);\t// in case app calls destroy() before query completes\r\n\t\t\t}\r\n\r\n\t\t\t// Setup observer in case children list changes, or the item(s) in the children list are updated.\r\n\t\t\tif(res.observe){\r\n\t\t\t\tthis.own(res.observe(lang.hitch(this, function(obj, removedFrom, insertedInto){\r\n\t\t\t\t\t//console.log(\"observe on children of \", id, \": \", obj, removedFrom, insertedInto);\r\n\r\n\t\t\t\t\t// If removedFrom == insertedInto, this call indicates that the item has changed.\r\n\t\t\t\t\t// Even if removedFrom != insertedInto, the item may have changed.\r\n\t\t\t\t\tthis.onChange(obj);\r\n\r\n\t\t\t\t\tif(removedFrom != insertedInto){\r\n\t\t\t\t\t\t// Indicates an item was added, removed, or re-parented.  The children[] array (returned from\r\n\t\t\t\t\t\t// res.then(...)) has already been updated (like a live collection), so just use it.\r\n\t\t\t\t\t\twhen(res, lang.hitch(this, \"onChildrenChange\", parentItem));\r\n\t\t\t\t\t}\r\n\t\t\t\t}), true));\t// true means to notify on item changes\r\n\t\t\t}\r\n\r\n\t\t\t// User callback\r\n\t\t\twhen(res, onComplete, onError);\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Inspecting items\r\n\r\n\t\tisItem: function(/*===== something =====*/){\r\n\t\t\treturn true;\t// Boolean\r\n\t\t},\r\n\r\n\t\tgetIdentity: function(/* item */ item){\r\n\t\t\treturn this.store.getIdentity(item);\t// Object\r\n\t\t},\r\n\r\n\t\tgetLabel: function(/*dojo/data/Item*/ item){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGet the label for an item\r\n\t\t\treturn item[this.labelAttr];\t// String\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Write interface, for DnD\r\n\r\n\t\tnewItem: function(/* dijit/tree/dndSource.__Item */ args, /*Item*/ parent, /*int?*/ insertIndex, /*Item*/ before){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a new item.   See `dojo/data/api/Write` for details on args.\r\n\t\t\t//\t\tUsed in drag & drop when item from external source dropped onto tree.\r\n\r\n\t\t\treturn this.store.put(args, {\r\n\t\t\t\tparent: parent,\r\n\t\t\t\tbefore: before\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tpasteItem: function(/*Item*/ childItem, /*Item*/ oldParentItem, /*Item*/ newParentItem,\r\n\t\t\t\t\t/*Boolean*/ bCopy, /*int?*/ insertIndex, /*Item*/ before){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tMove or copy an item from one parent item to another.\r\n\t\t\t//\t\tUsed in drag & drop.\r\n\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\tif(oldParentItem === newParentItem && !bCopy && !before){\r\n\t\t\t\t// Avoid problem when items visually disappear when dropped onto their parent.\r\n\t\t\t\t// Happens because the (no-op) store.put() call doesn't generate any notification\r\n\t\t\t\t// that the childItem was added/moved.\r\n\t\t\t\td.resolve(true);\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\r\n\t\t\tif(oldParentItem && !bCopy){\r\n\t\t\t\t// In order for DnD moves to work correctly, childItem needs to be orphaned from oldParentItem\r\n\t\t\t\t// before being adopted by newParentItem.   That way, the TreeNode is moved rather than\r\n\t\t\t\t// an additional TreeNode being created, and the old TreeNode subsequently being deleted.\r\n\t\t\t\t// The latter loses information such as selection and opened/closed children TreeNodes.\r\n\t\t\t\t// Unfortunately simply calling this.store.put() will send notifications in a random order, based\r\n\t\t\t\t// on when the TreeNodes in question originally appeared, and not based on the drag-from\r\n\t\t\t\t// TreeNode vs. the drop-onto TreeNode.\r\n\r\n\t\t\t\tthis.getChildren(oldParentItem, lang.hitch(this, function(oldParentChildren){\r\n\t\t\t\t\toldParentChildren = [].concat(oldParentChildren); // concat to make copy\r\n\t\t\t\t\tvar index = array.indexOf(oldParentChildren, childItem);\r\n\t\t\t\t\toldParentChildren.splice(index, 1);\r\n\t\t\t\t\tthis.onChildrenChange(oldParentItem, oldParentChildren);\r\n\r\n\t\t\t\t\td.resolve(this.store.put(childItem, {\r\n\t\t\t\t\t\toverwrite: true,\r\n\t\t\t\t\t\tparent: newParentItem,\r\n\t\t\t\t\t\toldParent: oldParentItem,\r\n\t\t\t\t\t\tbefore: before\r\n\t\t\t\t\t}));\r\n\t\t\t\t}));\r\n\t\t\t}else{\r\n\t\t\t\td.resolve(this.store.put(childItem, {\r\n\t\t\t\t\toverwrite: true,\r\n\t\t\t\t\tparent: newParentItem,\r\n\t\t\t\t\toldParent: oldParentItem,\r\n\t\t\t\t\tbefore: before\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\r\n\t\t\treturn d;\r\n\t\t},\r\n\r\n\t\t// =======================================================================\r\n\t\t// Callbacks\r\n\r\n\t\tonChange: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback whenever an item has changed, so that Tree\r\n\t\t\t//\t\tcan update the label, icon, etc.   Note that changes\r\n\t\t\t//\t\tto an item's children or parent(s) will trigger an\r\n\t\t\t//\t\tonChildrenChange() so you can ignore those changes here.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonChildrenChange: function(/*===== parent, newChildrenList =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback to do notifications about new, updated, or deleted items.\r\n\t\t\t// parent: dojo/data/Item\r\n\t\t\t// newChildrenList: Object[]\r\n\t\t\t//\t\tItems from the store\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t},\r\n\r\n\t\tonDelete: function(/*dojo/data/Item*/ /*===== item =====*/){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCallback when an item has been deleted.\r\n\t\t\t//\t\tActually we have no way of knowing this with the new dojo.store API,\r\n\t\t\t//\t\tso this method is never called (but it's left here since Tree connects\r\n\t\t\t//\t\tto it).\r\n\t\t\t// tags:\r\n\t\t\t//\t\tcallback\r\n\t\t}\r\n\t});\r\n});\r\n\ndefine('dijit/main',[\r\n\t\"dojo/_base/kernel\",\r\n\t\"dijit/dijit-all\",\r\n\t\"dijit/RadioMenuItem\",\r\n\t\"dijit/_editor/plugins/FullScreen\",\r\n\t\"dijit/_editor/plugins/TabIndent\",\r\n\t\"dijit/_editor/plugins/TextColor\",\r\n\t\"dijit/_editor/plugins/ViewSource\",\r\n\t\"dijit/layout/AccordionPane\",\r\n\t\"dijit/tree/ObjectStoreModel\"\t\r\n], function(dojo){\r\n\t// module:\r\n\t//\t\tdijit/main\r\n\r\n/*=====\r\nreturn {\r\n\t// summary:\r\n\t//\t\tThe dijit package main module.\r\n\t//\t\tDeprecated.   Users should access individual modules (ex: dijit/registry) directly.\r\n};\r\n=====*/\r\n\r\n\treturn dojo.dijit;\r\n});\r\n\ndefine('dijit', ['dijit/main'], function (main) { return main; });\n\n"]}