/**
 * dijit - A version of dijit.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dijit/
 * @license MIT
 */
define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(e,t,r){var exports={};t.setObject("dijit._editor.html",exports);var a=exports.escapeXml=function(e,t){return e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),t||(e=e.replace(/'/gm,"&#39;")),e};return exports.getNodeHtml=function(e){var t=[];return exports.getNodeHtmlHelper(e,t),t.join("")},exports.getNodeHtmlHelper=function(t,i){switch(t.nodeType){case 1:var s=t.nodeName.toLowerCase();if(!s||"/"==s.charAt(0))return"";i.push("<",s);var l,c=[],n={};if(r("dom-attributes-explicit")||r("dom-attributes-specified-flag"))for(var u=0;l=t.attributes[u++];){var o=l.name;if("_dj"!==o.substr(0,3)&&(!r("dom-attributes-specified-flag")||l.specified)&&!(o in n)){var d=l.value;"src"!=o&&"href"!=o||t.getAttribute("_djrealurl")&&(d=t.getAttribute("_djrealurl")),8===r("ie")&&"style"===o&&(d=d.replace("HEIGHT:","height:").replace("WIDTH:","width:")),c.push([o,d]),n[o]=d}}else{var f=(/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1)).outerHTML,h=f.match(/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi);f=f.substr(0,f.indexOf(">")),e.forEach(h,function(e){if(e){var r=e.indexOf("=");if(r>0){var a=e.substring(0,r);if("_dj"!=a.substr(0,3)){if(("src"==a||"href"==a)&&t.getAttribute("_djrealurl"))return void c.push([a,t.getAttribute("_djrealurl")]);var i,l;switch(a){case"style":i=t.style.cssText.toLowerCase();break;case"class":i=t.className;break;case"width":if("img"===s){(l=/width=(\S+)/i.exec(f))&&(i=l[1]);break}case"height":if("img"===s){(l=/height=(\S+)/i.exec(f))&&(i=l[1]);break}default:i=t.getAttribute(a)}null!=i&&c.push([a,i.toString()])}}}},this)}c.sort(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1});for(var p=0;l=c[p++];)i.push(" ",l[0],'="',"string"==typeof l[1]?a(l[1],!0):l[1],'"');switch(s){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":i.push(" />");break;case"script":i.push(">",t.innerHTML,"</",s,">");break;default:i.push(">"),t.hasChildNodes()&&exports.getChildrenHtmlHelper(t,i),i.push("</",s,">")}break;case 4:case 3:i.push(a(t.nodeValue,!0));break;case 8:i.push("\x3c!--",a(t.nodeValue,!0),"--\x3e");break;default:i.push("\x3c!-- Element not recognized - Type: ",t.nodeType," Name: ",t.nodeName,"--\x3e")}},exports.getChildrenHtml=function(e){var t=[];return exports.getChildrenHtmlHelper(e,t),t.join("")},exports.getChildrenHtmlHelper=function(e,t){if(e)for(var a,i=e.childNodes||e,s=!r("ie")||i!==e,l=0;a=i[l++];)s&&a.parentNode!=e||exports.getNodeHtmlHelper(a,t)},exports});
//# sourceMappingURL=../sourcemaps/_editor/html.js.map
