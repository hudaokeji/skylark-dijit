/**
 * dijit - A version of dijit.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dijit/
 * @license MIT
 */
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(i,t,e,s,o,n,h,d,a,l){return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var i=this.getParent();this._childOfLayoutWidget=i&&i.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(a.on("resize",n.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var i=[],t=!1;h("> *",this.containerNode).some(function(e){var s=d.byNode(e);s&&s.resize?i.push(s):!/script|link|style/i.test(e.nodeName)&&e.offsetHeight&&(t=!0)}),this._singleChild=1!=i.length||t?null:i[0],e.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(i,t){this._resizeCalled=!0,this._scheduleLayout(i,t)},_scheduleLayout:function(i,t){this._isShown()?this._layout(i,t):(this._needLayout=!0,this._changeSize=i,this._resultSize=t)},_layout:function(i,t){delete this._needLayout,this._wasShown||!1===this.open||this._onShow(),i&&s.setMarginBox(this.domNode,i);var e=this.containerNode;if(e===this.domNode){var o=t||{};n.mixin(o,i||{}),"h"in o&&"w"in o||(o=n.mixin(s.getMarginBox(e),o)),this._contentBox=l.marginBox2contentBox(e,o)}else this._contentBox=s.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){if(this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var i=this._contentBox||s.getContentBox(this.containerNode);this._singleChild.resize({w:i.w,h:i.h})}else for(var t,e=this.getChildren(),o=0;t=e[o++];)t.resize&&t.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var i=this.domNode,t=this.domNode.parentNode;return"none"!=i.style.display&&"hidden"!=i.style.visibility&&!e.contains(i,"dijitHidden")&&t&&t.style&&"none"!=t.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})});
//# sourceMappingURL=../sourcemaps/layout/_ContentPaneResizeMixin.js.map
