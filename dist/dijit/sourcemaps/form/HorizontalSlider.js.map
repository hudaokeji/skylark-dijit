{"version":3,"sources":["form/HorizontalSlider.js"],"names":["define","array","declare","move","fx","domGeometry","domStyle","keys","lang","has","Moveable","Mover","query","mouse","on","manager","focus","typematic","Button","_FormValueWidget","_Container","template","_SliderMover","onMouseMove","e","widget","this","abspos","_abspos","position","sliderBarContainer","_setPixelValue_","hitch","_isReversed_","_isReversed","pixelValue","_mousePixelCoord","_startingPixelCoord","_pixelCount","destroy","prototype","apply","arguments","_setValueAttr","value","HorizontalSlider","templateString","showButtons","minimum","maximum","discreteValues","Infinity","pageIncrement","clickSelect","slideDuration","defaultDuration","_setIdAttr","_setNameAttr","baseClass","cssStateNodes","incrementButton","decrementButton","focusNode","_handleOffsetCoord","_progressPixelSize","_onKeyUp","disabled","readOnly","altKey","ctrlKey","metaKey","_onKeyDown","keyCode","HOME","END","_descending","isLeftToRight","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","UP_ARROW","PAGE_DOWN","PAGE_UP","increment","decrement","stopPropagation","preventDefault","_onHandleClick","sliderHandle","_onBarClick","_setPixelValue","_movable","onMouseDown","maxPixels","priorityChange","count","pixelsPerValue","wholeIncrements","Math","round","max","min","_set","valueNode","setAttribute","inherited","percent","progressBar","remainingBar","_inProgressAnim","status","stop","style","_this","props","start","parseFloat","duration","end","units","animateProperty","node","onAnimate","v","onEnd","properties","play","_bumpValue","signedChange","s","getComputedStyle","c","getContentBox","_onClkBumper","val","_onClkIncBumper","_onClkDecBumper","_mouseWheeled","evt","wheelDelta","startup","_started","forEach","getChildren","child","container","containerNode","appendChild","domNode","_typematicCallback","button","buildRendering","display","label","id","length","postCreate","own","addMouseListener","wheel","mover","_layoutHackIE7","_Mover"],"mappings":"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","file":"../../form/HorizontalSlider.js","sourcesContent":["define([\r\n\t\"dojo/_base/array\", // array.forEach\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dnd/move\",\r\n\t\"dojo/_base/fx\", // fx.animateProperty\r\n\t\"dojo/dom-geometry\", // domGeometry.position\r\n\t\"dojo/dom-style\", // domStyle.getComputedStyle\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.END keys.HOME keys.LEFT_ARROW keys.PAGE_DOWN keys.PAGE_UP keys.RIGHT_ARROW keys.UP_ARROW\r\n\t\"dojo/_base/lang\", // lang.hitch\r\n\t\"dojo/sniff\", // has(\"ie\") has(\"mozilla\")\r\n\t\"dojo/dnd/Moveable\", // Moveable\r\n\t\"dojo/dnd/Mover\", // Mover Mover.prototype.destroy.apply\r\n\t\"dojo/query\", // query\r\n\t\"dojo/mouse\", // mouse.wheel\r\n\t\"dojo/on\",\r\n\t\"../_base/manager\", // defaultDuration\r\n\t\"../focus\", // focus.focus()\r\n\t\"../typematic\",\r\n\t\"./Button\",\r\n\t\"./_FormValueWidget\",\r\n\t\"../_Container\",\r\n\t\"dojo/text!./templates/HorizontalSlider.html\"\r\n], function(array, declare, move, fx, domGeometry, domStyle, keys, lang, has, Moveable, Mover, query, mouse, on,\r\n\t\t\tmanager, focus, typematic, Button, _FormValueWidget, _Container, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/HorizontalSlider\r\n\r\n\tvar _SliderMover = declare(\"dijit.form._SliderMover\", Mover, {\r\n\t\tonMouseMove: function(e){\r\n\t\t\tvar widget = this.widget;\r\n\t\t\tvar abspos = widget._abspos;\r\n\t\t\tif(!abspos){\r\n\t\t\t\tabspos = widget._abspos = domGeometry.position(widget.sliderBarContainer, true);\r\n\t\t\t\twidget._setPixelValue_ = lang.hitch(widget, \"_setPixelValue\");\r\n\t\t\t\twidget._isReversed_ = widget._isReversed();\r\n\t\t\t}\r\n\t\t\tvar pixelValue = e[widget._mousePixelCoord] - abspos[widget._startingPixelCoord];\r\n\t\t\twidget._setPixelValue_(widget._isReversed_ ? (abspos[widget._pixelCount] - pixelValue) : pixelValue, abspos[widget._pixelCount], false);\r\n\t\t},\r\n\r\n\t\tdestroy: function(e){\r\n\t\t\tMover.prototype.destroy.apply(this, arguments);\r\n\t\t\tvar widget = this.widget;\r\n\t\t\twidget._abspos = null;\r\n\t\t\twidget._setValueAttr(widget.value, true);\r\n\t\t}\r\n\t});\r\n\r\n\tvar HorizontalSlider = declare(\"dijit.form.HorizontalSlider\", [_FormValueWidget, _Container], {\r\n\t\t// summary:\r\n\t\t//\t\tA form widget that allows one to select a value with a horizontally draggable handle\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\t// Overrides FormValueWidget.value to indicate numeric value\r\n\t\tvalue: 0,\r\n\r\n\t\t// showButtons: [const] Boolean\r\n\t\t//\t\tShow increment/decrement buttons at the ends of the slider?\r\n\t\tshowButtons: true,\r\n\r\n\t\t// minimum: [const] Integer\r\n\t\t//\t\tThe minimum value the slider can be set to.\r\n\t\tminimum: 0,\r\n\r\n\t\t// maximum: [const] Integer\r\n\t\t//\t\tThe maximum value the slider can be set to.\r\n\t\tmaximum: 100,\r\n\r\n\t\t// discreteValues: Integer\r\n\t\t//\t\tIf specified, indicates that the slider handle has only 'discreteValues' possible positions,\r\n\t\t//\t\tand that after dragging the handle, it will snap to the nearest possible position.\r\n\t\t//\t\tThus, the slider has only 'discreteValues' possible values.\r\n\t\t//\r\n\t\t//\t\tFor example, if minimum=10, maxiumum=30, and discreteValues=3, then the slider handle has\r\n\t\t//\t\tthree possible positions, representing values 10, 20, or 30.\r\n\t\t//\r\n\t\t//\t\tIf discreteValues is not specified or if it's value is higher than the number of pixels\r\n\t\t//\t\tin the slider bar, then the slider handle can be moved freely, and the slider's value will be\r\n\t\t//\t\tcomputed/reported based on pixel position (in this case it will likely be fractional,\r\n\t\t//\t\tsuch as 123.456789).\r\n\t\tdiscreteValues: Infinity,\r\n\r\n\t\t// pageIncrement: Integer\r\n\t\t//\t\tIf discreteValues is also specified, this indicates the amount of clicks (ie, snap positions)\r\n\t\t//\t\tthat the slider handle is moved via pageup/pagedown keys.\r\n\t\t//\t\tIf discreteValues is not specified, it indicates the number of pixels.\r\n\t\tpageIncrement: 2,\r\n\r\n\t\t// clickSelect: Boolean\r\n\t\t//\t\tIf clicking the slider bar changes the value or not\r\n\t\tclickSelect: true,\r\n\r\n\t\t// slideDuration: Number\r\n\t\t//\t\tThe time in ms to take to animate the slider handle from 0% to 100%,\r\n\t\t//\t\twhen clicking the slider bar to make the handle move.\r\n\t\tslideDuration: manager.defaultDuration,\r\n\r\n\t\t// Map widget attributes to DOMNode attributes.\r\n\t\t_setIdAttr: \"\", // Override _FormWidget which sends id to focusNode\r\n\t\t_setNameAttr: \"valueNode\", // Override default behavior to send to focusNode\r\n\r\n\t\tbaseClass: \"dijitSlider\",\r\n\r\n\t\t// Apply CSS classes to up/down arrows and handle per mouse state\r\n\t\tcssStateNodes: {\r\n\t\t\tincrementButton: \"dijitSliderIncrementButton\",\r\n\t\t\tdecrementButton: \"dijitSliderDecrementButton\",\r\n\t\t\tfocusNode: \"dijitSliderThumb\"\r\n\t\t},\r\n\r\n\t\t_mousePixelCoord: \"pageX\",\r\n\t\t_pixelCount: \"w\",\r\n\t\t_startingPixelCoord: \"x\",\r\n\t\t_handleOffsetCoord: \"left\",\r\n\t\t_progressPixelSize: \"width\",\r\n\r\n\t\t_onKeyUp: function(/*Event*/ e){\r\n\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setValueAttr(this.value, true);\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(/*Event*/ e){\r\n\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswitch(e.keyCode){\r\n\t\t\t\tcase keys.HOME:\r\n\t\t\t\t\tthis._setValueAttr(this.minimum, false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase keys.END:\r\n\t\t\t\t\tthis._setValueAttr(this.maximum, false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t// this._descending === false: if ascending vertical (min on top)\r\n\t\t\t\t// (this._descending || this.isLeftToRight()): if left-to-right horizontal or descending vertical\r\n\t\t\t\tcase ((this._descending || this.isLeftToRight()) ? keys.RIGHT_ARROW : keys.LEFT_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.DOWN_ARROW : keys.UP_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.PAGE_DOWN : keys.PAGE_UP):\r\n\t\t\t\t\tthis.increment(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase ((this._descending || this.isLeftToRight()) ? keys.LEFT_ARROW : keys.RIGHT_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.UP_ARROW : keys.DOWN_ARROW):\r\n\t\t\t\tcase (this._descending === false ? keys.PAGE_UP : keys.PAGE_DOWN):\r\n\t\t\t\t\tthis.decrement(e);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\t_onHandleClick: function(e){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!has(\"ie\")){\r\n\t\t\t\t// make sure you get focus when dragging the handle\r\n\t\t\t\t// (but don't do on IE because it causes a flicker on mouse up (due to blur then focus)\r\n\t\t\t\tfocus.focus(this.sliderHandle);\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t},\r\n\r\n\t\t_isReversed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns true if direction is from right to left\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected extension\r\n\t\t\treturn !this.isLeftToRight();\r\n\t\t},\r\n\r\n\t\t_onBarClick: function(e){\r\n\t\t\tif(this.disabled || this.readOnly || !this.clickSelect){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfocus.focus(this.sliderHandle);\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tvar abspos = domGeometry.position(this.sliderBarContainer, true);\r\n\t\t\tvar pixelValue = e[this._mousePixelCoord] - abspos[this._startingPixelCoord];\r\n\t\t\tthis._setPixelValue(this._isReversed() ? (abspos[this._pixelCount] - pixelValue) : pixelValue, abspos[this._pixelCount], true);\r\n\t\t\tthis._movable.onMouseDown(e);\r\n\t\t},\r\n\r\n\t\t_setPixelValue: function(/*Number*/ pixelValue, /*Number*/ maxPixels, /*Boolean?*/ priorityChange){\r\n\t\t\tif(this.disabled || this.readOnly){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar count = this.discreteValues;\r\n\t\t\tif(count <= 1 || count == Infinity){\r\n\t\t\t\tcount = maxPixels;\r\n\t\t\t}\r\n\t\t\tcount--;\r\n\t\t\tvar pixelsPerValue = maxPixels / count;\r\n\t\t\tvar wholeIncrements = Math.round(pixelValue / pixelsPerValue);\r\n\t\t\tthis._setValueAttr(Math.max(Math.min((this.maximum - this.minimum) * wholeIncrements / count + this.minimum, this.maximum), this.minimum), priorityChange);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(/*Number*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook so set('value', value) works.\r\n\t\t\tthis._set(\"value\", value);\r\n\t\t\tthis.valueNode.value = value;\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuenow\", value);\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tvar percent = this.maximum > this.minimum ? ((value - this.minimum) / (this.maximum - this.minimum)) : 0;\r\n\t\t\tvar progressBar = (this._descending === false) ? this.remainingBar : this.progressBar;\r\n\t\t\tvar remainingBar = (this._descending === false) ? this.progressBar : this.remainingBar;\r\n\t\t\tif(this._inProgressAnim && this._inProgressAnim.status != \"stopped\"){\r\n\t\t\t\tthis._inProgressAnim.stop(true);\r\n\t\t\t}\r\n\t\t\tif(priorityChange && this.slideDuration > 0 && progressBar.style[this._progressPixelSize]){\r\n\t\t\t\t// animate the slider\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tvar props = {};\r\n\t\t\t\tvar start = parseFloat(progressBar.style[this._progressPixelSize]);\r\n\t\t\t\tvar duration = this.slideDuration * (percent - start / 100);\r\n\t\t\t\tif(duration == 0){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(duration < 0){\r\n\t\t\t\t\tduration = 0 - duration;\r\n\t\t\t\t}\r\n\t\t\t\tprops[this._progressPixelSize] = { start: start, end: percent * 100, units: \"%\" };\r\n\t\t\t\tthis._inProgressAnim = fx.animateProperty({ node: progressBar, duration: duration,\r\n\t\t\t\t\tonAnimate: function(v){\r\n\t\t\t\t\t\tremainingBar.style[_this._progressPixelSize] = (100 - parseFloat(v[_this._progressPixelSize])) + \"%\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonEnd: function(){\r\n\t\t\t\t\t\tdelete _this._inProgressAnim;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tproperties: props\r\n\t\t\t\t});\r\n\t\t\t\tthis._inProgressAnim.play();\r\n\t\t\t}else{\r\n\t\t\t\tprogressBar.style[this._progressPixelSize] = (percent * 100) + \"%\";\r\n\t\t\t\tremainingBar.style[this._progressPixelSize] = ((1 - percent) * 100) + \"%\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_bumpValue: function(signedChange, /*Boolean?*/ priorityChange){\r\n\t\t\tif(this.disabled || this.readOnly || (this.maximum <= this.minimum)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar s = domStyle.getComputedStyle(this.sliderBarContainer);\r\n\t\t\tvar c = domGeometry.getContentBox(this.sliderBarContainer, s);\r\n\t\t\tvar count = this.discreteValues;\r\n\t\t\tif(count <= 1 || count == Infinity){\r\n\t\t\t\tcount = c[this._pixelCount];\r\n\t\t\t}\r\n\t\t\tcount--;\r\n\t\t\tvar value = (this.value - this.minimum) * count / (this.maximum - this.minimum) + signedChange;\r\n\t\t\tif(value < 0){\r\n\t\t\t\tvalue = 0;\r\n\t\t\t}\r\n\t\t\tif(value > count){\r\n\t\t\t\tvalue = count;\r\n\t\t\t}\r\n\t\t\tvalue = value * (this.maximum - this.minimum) / count + this.minimum;\r\n\t\t\tthis._setValueAttr(value, priorityChange);\r\n\t\t},\r\n\r\n\t\t_onClkBumper: function(val){\r\n\t\t\tif(this.disabled || this.readOnly || !this.clickSelect){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._setValueAttr(val, true);\r\n\t\t},\r\n\r\n\t\t_onClkIncBumper: function(){\r\n\t\t\tthis._onClkBumper(this._descending === false ? this.minimum : this.maximum);\r\n\t\t},\r\n\r\n\t\t_onClkDecBumper: function(){\r\n\t\t\tthis._onClkBumper(this._descending === false ? this.maximum : this.minimum);\r\n\t\t},\r\n\r\n\t\tdecrement: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDecrement slider\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._bumpValue(e.keyCode == keys.PAGE_DOWN ? -this.pageIncrement : -1);\r\n\t\t},\r\n\r\n\t\tincrement: function(/*Event*/ e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tIncrement slider\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._bumpValue(e.keyCode == keys.PAGE_UP ? this.pageIncrement : 1);\r\n\t\t},\r\n\r\n\t\t_mouseWheeled: function(/*Event*/ evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tEvent handler for mousewheel where supported\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis._bumpValue(evt.wheelDelta < 0 ? -1 : 1, true); // negative scroll acts like a decrement\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tarray.forEach(this.getChildren(), function(child){\r\n\t\t\t\tif(this[child.container] != this.containerNode){\r\n\t\t\t\t\tthis[child.container].appendChild(child.domNode);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\t_typematicCallback: function(/*Number*/ count, /*Object*/ button, /*Event*/ e){\r\n\t\t\tif(count == -1){\r\n\t\t\t\tthis._setValueAttr(this.value, true);\r\n\t\t\t}else{\r\n\t\t\t\tthis[(button == (this._descending ? this.incrementButton : this.decrementButton)) ? \"decrement\" : \"increment\"](e);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.showButtons){\r\n\t\t\t\tthis.incrementButton.style.display = \"\";\r\n\t\t\t\tthis.decrementButton.style.display = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// find any associated label element and add to slider focusnode.\r\n\t\t\tvar label = query('label[for=\"' + this.id + '\"]');\r\n\t\t\tif(label.length){\r\n\t\t\t\tif(!label[0].id){\r\n\t\t\t\t\tlabel[0].id = this.id + \"_label\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.focusNode.setAttribute(\"aria-labelledby\", label[0].id);\r\n\t\t\t}\r\n\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuemin\", this.minimum);\r\n\t\t\tthis.focusNode.setAttribute(\"aria-valuemax\", this.maximum);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this.showButtons){\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\ttypematic.addMouseListener(this.decrementButton, this, \"_typematicCallback\", 25, 500),\r\n\t\t\t\t\ttypematic.addMouseListener(this.incrementButton, this, \"_typematicCallback\", 25, 500)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.own(\r\n\t\t\t\ton(this.domNode, mouse.wheel, lang.hitch(this, \"_mouseWheeled\"))\r\n\t\t\t);\r\n\r\n\t\t\t// define a custom constructor for a SliderMover that points back to me\r\n\t\t\tvar mover = declare(_SliderMover, {\r\n\t\t\t\twidget: this\r\n\t\t\t});\r\n\t\t\tthis._movable = new Moveable(this.sliderHandle, {mover: mover});\r\n\r\n\t\t\tthis._layoutHackIE7();\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tthis._movable.destroy();\r\n\t\t\tif(this._inProgressAnim && this._inProgressAnim.status != \"stopped\"){\r\n\t\t\t\tthis._inProgressAnim.stop(true);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t});\r\n\r\n\tHorizontalSlider._Mover = _SliderMover;\t// for monkey patching\r\n\r\n\treturn HorizontalSlider;\r\n});\r\n"]}