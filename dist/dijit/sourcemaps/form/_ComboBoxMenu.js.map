{"version":3,"sources":["form/_ComboBoxMenu.js"],"names":["define","declare","domClass","domStyle","keys","_WidgetBase","_TemplatedMixin","_ComboBoxMenuMixin","_ListMouseMixin","templateString","baseClass","postCreate","this","inherited","arguments","isLeftToRight","add","previousButton","nextButton","containerNode","setAttribute","_createMenuItem","item","ownerDocument","createElement","className","onHover","node","onUnhover","remove","onSelect","onDeselect","_page","up","scrollamount","oldscroll","domNode","scrollTop","height","get","getHighlightedOption","selectNextNode","highlighted_option","previousSibling","style","display","selectPreviousNode","nextSibling","newscroll","handleKey","evt","keyCode","DOWN_ARROW","PAGE_DOWN","UP_ARROW","PAGE_UP"],"mappings":";;;;;;;AAAAA,QACC,qBACA,iBACA,iBACA,YACA,iBACA,qBACA,uBACA,qBACE,SAASC,EAASC,EAAUC,EAAUC,EACtCC,EAAaC,EAAiBC,EAAoBC,GAMpD,OAAOP,EAAQ,4BAA4BI,EAAaC,EAAiBE,EAAiBD,IAYzFE,eAAgB,mWAKhBC,UAAW,oBAEXC,WAAY,WACXC,KAAKC,UAAUC,WACXF,KAAKG,kBACRb,EAASc,IAAIJ,KAAKK,eAAgB,oBAClCf,EAASc,IAAIJ,KAAKM,WAAY,qBAE/BN,KAAKO,cAAcC,aAAa,OAAO,YAGxCC,gBAAiB,WAEhB,IAAIC,EAAOV,KAAKW,cAAcC,cAAc,OAG5C,OAFAF,EAAKG,UAAY,4BAA6Bb,KAAKG,gBAAkB,GAAK,qBAC1EO,EAAKF,aAAa,OAAQ,UACnBE,GAGRI,QAAS,SAAqBC,GAG7BzB,EAASc,IAAIW,EAAM,uBAGpBC,UAAW,SAAqBD,GAG/BzB,EAAS2B,OAAOF,EAAM,uBAGvBG,SAAU,SAAqBH,GAG9BzB,EAASc,IAAIW,EAAM,0BAGpBI,WAAY,SAAqBJ,GAGhCzB,EAAS2B,OAAOF,EAAM,0BAGvBK,MAAO,SAAqBC,GAI3B,IAAIC,EAAe,EACfC,EAAYvB,KAAKwB,QAAQC,UACzBC,EAASnC,EAASoC,IAAI3B,KAAKwB,QAAS,UAKxC,IAHIxB,KAAK4B,wBACR5B,KAAK6B,iBAEAP,EAAaI,GAAO,CACzB,IAAII,EAAqB9B,KAAK4B,uBAC9B,GAAGP,EAAG,CAEL,IAAIS,EAAmBC,iBAC8B,QAApDD,EAAmBC,gBAAgBC,MAAMC,QACzC,MAEDjC,KAAKkC,yBACD,CAEJ,IAAIJ,EAAmBK,aAC0B,QAAhDL,EAAmBK,YAAYH,MAAMC,QACrC,MAEDjC,KAAK6B,iBAGN,IAAIO,EAAYpC,KAAKwB,QAAQC,UAC7BH,IAAiBc,EAAUb,IAAYF,GAAM,EAAE,GAC/CE,EAAYa,IAIdC,UAAW,SAASC,GAInB,OAAOA,EAAIC,SACV,KAAK/C,EAAKgD,WAET,OADAxC,KAAK6B,kBACE,EACR,KAAKrC,EAAKiD,UAET,OADAzC,KAAKoB,OAAM,IACJ,EACR,KAAK5B,EAAKkD,SAET,OADA1C,KAAKkC,sBACE,EACR,KAAK1C,EAAKmD,QAET,OADA3C,KAAKoB,OAAM,IACJ,EACR,QACC,OAAO","file":"../../form/_ComboBoxMenu.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add domClass.remove\r\n\t\"dojo/dom-style\", // domStyle.get\r\n\t\"dojo/keys\", // keys.DOWN_ARROW keys.PAGE_DOWN keys.PAGE_UP keys.UP_ARROW\r\n\t\"../_WidgetBase\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"./_ComboBoxMenuMixin\",\r\n\t\"./_ListMouseMixin\"\r\n], function(declare, domClass, domStyle, keys,\r\n\t\t\t_WidgetBase, _TemplatedMixin, _ComboBoxMenuMixin, _ListMouseMixin){\r\n\r\n\r\n\t// module:\r\n\t//\t\tdijit/form/_ComboBoxMenu\r\n\r\n\treturn declare(\"dijit.form._ComboBoxMenu\",[_WidgetBase, _TemplatedMixin, _ListMouseMixin, _ComboBoxMenuMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tFocus-less menu for internal use in `dijit/form/ComboBox`\r\n\t\t//\t\tAbstract methods that must be defined externally:\r\n\t\t//\r\n\t\t//\t\t- onChange: item was explicitly chosen (mousedown somewhere on the menu and mouseup somewhere on the menu)\r\n\t\t//\t\t- onPage: next(1) or previous(-1) button pressed\r\n\t\t// tags:\r\n\t\t//\t\tprivate\r\n\r\n\t\t// TODO for 2.0 or earlier: stop putting stuff inside this.containerNode.   Switch to using this.domNode\r\n\t\t// or a different attach point.    See _TemplatedMixin::searchContainerNode.\r\n\t\ttemplateString: \"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>\"\r\n\t\t\t\t+\"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>\"\r\n\t\t\t\t+\"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>\"\r\n\t\t\t\t+\"</div>\",\r\n\r\n\t\tbaseClass: \"dijitComboBoxMenu\",\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\tdomClass.add(this.previousButton, \"dijitMenuItemRtl\");\r\n\t\t\t\tdomClass.add(this.nextButton, \"dijitMenuItemRtl\");\r\n\t\t\t}\r\n\t\t\tthis.containerNode.setAttribute(\"role\",\"listbox\");\r\n\t\t},\r\n\r\n\t\t_createMenuItem: function(){\r\n\t\t\t// note: not using domConstruct.create() because need to specify document\r\n\t\t\tvar item = this.ownerDocument.createElement(\"div\");\r\n\t\t\titem.className = \"dijitReset dijitMenuItem\" +(this.isLeftToRight() ? \"\" : \" dijitMenuItemRtl\");\r\n\t\t\titem.setAttribute(\"role\", \"option\");\r\n\t\t\treturn item;\r\n\t\t},\r\n\r\n\t\tonHover: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd hover CSS\r\n\t\t\tdomClass.add(node, \"dijitMenuItemHover\");\r\n\t\t},\r\n\r\n\t\tonUnhover: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove hover CSS\r\n\t\t\tdomClass.remove(node, \"dijitMenuItemHover\");\r\n\t\t},\r\n\r\n\t\tonSelect: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdd selected CSS\r\n\t\t\tdomClass.add(node, \"dijitMenuItemSelected\");\r\n\t\t},\r\n\r\n\t\tonDeselect: function(/*DomNode*/ node){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRemove selected CSS\r\n\t\t\tdomClass.remove(node, \"dijitMenuItemSelected\");\r\n\t\t},\r\n\r\n\t\t_page: function(/*Boolean*/ up){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles page-up and page-down keypresses\r\n\r\n\t\t\tvar scrollamount = 0;\r\n\t\t\tvar oldscroll = this.domNode.scrollTop;\r\n\t\t\tvar height = domStyle.get(this.domNode, \"height\");\r\n\t\t\t// if no item is highlighted, highlight the first option\r\n\t\t\tif(!this.getHighlightedOption()){\r\n\t\t\t\tthis.selectNextNode();\r\n\t\t\t}\r\n\t\t\twhile(scrollamount<height){\r\n\t\t\t\tvar highlighted_option = this.getHighlightedOption();\r\n\t\t\t\tif(up){\r\n\t\t\t\t\t// stop at option 1\r\n\t\t\t\t\tif(!highlighted_option.previousSibling ||\r\n\t\t\t\t\t\thighlighted_option.previousSibling.style.display == \"none\"){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// stop at last option\r\n\t\t\t\t\tif(!highlighted_option.nextSibling ||\r\n\t\t\t\t\t\thighlighted_option.nextSibling.style.display == \"none\"){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.selectNextNode();\r\n\t\t\t\t}\r\n\t\t\t\t// going backwards\r\n\t\t\t\tvar newscroll = this.domNode.scrollTop;\r\n\t\t\t\tscrollamount += (newscroll-oldscroll)*(up ? -1:1);\r\n\t\t\t\toldscroll = newscroll;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleKey: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandle keystroke event forwarded from ComboBox, returning false if it's\r\n\t\t\t//\t\ta keystroke I recognize and process, true otherwise.\r\n\t\t\tswitch(evt.keyCode){\r\n\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\t\tthis.selectNextNode();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.PAGE_DOWN:\r\n\t\t\t\t\tthis._page(false);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\tthis.selectPreviousNode();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase keys.PAGE_UP:\r\n\t\t\t\t\tthis._page(true);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"]}