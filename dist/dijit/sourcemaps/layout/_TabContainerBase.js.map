{"version":3,"sources":["layout/_TabContainerBase.js"],"names":["define","declare","domClass","domGeometry","domStyle","StackContainer","layoutUtils","registry","_TemplatedMixin","template","tabPosition","baseClass","tabStrip","nested","templateString","postMixInProperties","this","charAt","toUpperCase","substr","replace","srcNodeRef","set","inherited","arguments","buildRendering","tablist","_makeController","tablistNode","doLayout","add","domNode","containerNode","tablistSpacer","_setupChild","tab","startup","_started","layout","_contentBox","sc","selectedChildWidget","titleAlign","region","children","layoutChildren","_containerContentBox","marginBox2contentBox","resize","s","style","width","getContentBox","w","destroy","preserveDom","selectChild","page","animate","_focused","byId","pane2button","id","focus"],"mappings":";;;;;;;AAAAA,QACC,qBACA,iBACA,oBACA,iBACA,mBACA,UACA,cACA,qBACA,2CACE,SAASC,EAASC,EAAUC,EAAaC,EAAUC,EAAgBC,EAAaC,EAAUC,EAAiBC,GAK7G,OAAOR,EAAQ,kCAAmCI,EAAgBG,IAYjEE,YAAa,MAEbC,UAAW,oBAKXC,UAAU,EAMVC,QAAQ,EAERC,eAAgBL,EAEhBM,oBAAqB,WAEpBC,KAAKL,WAAaK,KAAKN,YAAYO,OAAO,GAAGC,cAAgBF,KAAKN,YAAYS,OAAO,GAAGC,QAAQ,MAAO,IAEvGJ,KAAKK,YAAcjB,EAASkB,IAAIN,KAAKK,WAAY,aAAc,UAE/DL,KAAKO,UAAUC,YAGhBC,eAAgB,WACfT,KAAKO,UAAUC,WAGfR,KAAKU,QAAUV,KAAKW,gBAAgBX,KAAKY,aAErCZ,KAAKa,UACR3B,EAAS4B,IAAId,KAAKe,QAAS,6BAGzBf,KAAKH,QAIPX,EAAS4B,IAAId,KAAKe,QAAS,2BAC3B7B,EAAS4B,IAAId,KAAKU,QAAQM,cAAe,kCACzC9B,EAAS4B,IAAId,KAAKiB,cAAe,iCACjC/B,EAAS4B,IAAId,KAAKgB,cAAe,8BAEjC9B,EAAS4B,IAAId,KAAKe,QAAS,aAAef,KAAKJ,SAAW,UAAY,cAIxEsB,YAAa,SAA+BC,GAE3CjC,EAAS4B,IAAIK,EAAIJ,QAAS,gBAC1Bf,KAAKO,UAAUC,YAGhBY,QAAS,WACLpB,KAAKqB,WAKRrB,KAAKU,QAAQU,UAEbpB,KAAKO,UAAUC,aAGhBc,OAAQ,WAIP,GAAItB,KAAKuB,kBAA6C,IAAvBvB,KAAKuB,YAAa,EAAjD,CAIA,IAAIC,EAAKxB,KAAKyB,oBAEd,GAAGzB,KAAKa,SAAS,CAEhB,IAAIa,EAAa1B,KAAKN,YAAYU,QAAQ,KAAM,IAChDJ,KAAKU,QAAQiB,OAASD,EACtB,IAAIE,GAAY5B,KAAKU,SACpBK,QAASf,KAAKiB,cACdU,OAAQD,IAERX,QAASf,KAAKgB,cACdW,OAAQ,WAETrC,EAAYuC,eAAe7B,KAAKe,QAASf,KAAKuB,YAAaK,GAI3D5B,KAAK8B,qBAAuBxC,EAAYyC,qBAAqB/B,KAAKgB,cAAeY,EAAS,IAEvFJ,GAAMA,EAAGQ,QACXR,EAAGQ,OAAOhC,KAAK8B,0BAEZ,CAEJ,GAAG9B,KAAKU,QAAQsB,OAAO,CAEtB,IAAIC,EAAIjC,KAAKU,QAAQK,QAAQmB,MAC7BD,EAAEE,MAAQ,IACV,IAAIA,EAAQhD,EAAYiD,cAAcpC,KAAKe,SAASsB,EACpDJ,EAAEE,MAAQ,GACVnC,KAAKU,QAAQsB,QAAQK,EAAGF,IAItBX,GAAMA,EAAGQ,QACXR,EAAGQ,YAKNM,QAAS,SAASC,GACdvC,KAAKU,SACPV,KAAKU,QAAQ4B,QAAQC,GAEtBvC,KAAKO,UAAUC,YAGhBgC,YAAa,SAAsCC,EAAkBC,GASpE,OANG1C,KAAK2C,WAGPF,EAAOlD,EAASqD,KAAKH,GACrBzC,KAAKU,QAAQmC,YAAYJ,EAAKK,IAAIC,SAE5B/C,KAAKO,UAAUC","file":"../../layout/_TabContainerBase.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\", // declare\r\n\t\"dojo/dom-class\", // domClass.add\r\n\t\"dojo/dom-geometry\", // domGeometry.contentBox\r\n\t\"dojo/dom-style\", // domStyle.style\r\n\t\"./StackContainer\",\r\n\t\"./utils\", // marginBox2contextBox, layoutChildren\r\n\t\"../registry\",\r\n\t\"../_TemplatedMixin\",\r\n\t\"dojo/text!./templates/TabContainer.html\"\r\n], function(declare, domClass, domGeometry, domStyle, StackContainer, layoutUtils, registry, _TemplatedMixin, template){\r\n\r\n\t// module:\r\n\t//\t\tdijit/layout/_TabContainerBase\r\n\r\n\treturn declare(\"dijit.layout._TabContainerBase\", [StackContainer, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tAbstract base class for TabContainer.   Must define _makeController() to instantiate\r\n\t\t//\t\tand return the widget that displays the tab labels\r\n\t\t// description:\r\n\t\t//\t\tA TabContainer is a container that has multiple panes, but shows only\r\n\t\t//\t\tone pane at a time.  There are a set of tabs corresponding to each pane,\r\n\t\t//\t\twhere each tab has the name (aka title) of the pane, and optionally a close button.\r\n\r\n\t\t// tabPosition: String\r\n\t\t//\t\tDefines where tabs go relative to tab content.\r\n\t\t//\t\t\"top\", \"bottom\", \"left-h\", \"right-h\"\r\n\t\ttabPosition: \"top\",\r\n\r\n\t\tbaseClass: \"dijitTabContainer\",\r\n\r\n\t\t// tabStrip: [const] Boolean\r\n\t\t//\t\tDefines whether the tablist gets an extra class for layouting, putting a border/shading\r\n\t\t//\t\taround the set of tabs.   Not supported by claro theme.\r\n\t\ttabStrip: false,\r\n\r\n\t\t// nested: [const] Boolean\r\n\t\t//\t\tIf true, use styling for a TabContainer nested inside another TabContainer.\r\n\t\t//\t\tFor tundra etc., makes tabs look like links, and hides the outer\r\n\t\t//\t\tborder since the outer TabContainer already has a border.\r\n\t\tnested: false,\r\n\r\n\t\ttemplateString: template,\r\n\r\n\t\tpostMixInProperties: function(){\r\n\t\t\t// set class name according to tab position, ex: dijitTabContainerTop\r\n\t\t\tthis.baseClass += this.tabPosition.charAt(0).toUpperCase() + this.tabPosition.substr(1).replace(/-.*/, \"\");\r\n\r\n\t\t\tthis.srcNodeRef && domStyle.set(this.srcNodeRef, \"visibility\", \"hidden\");\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// Create the tab list that will have a tab (a.k.a. tab button) for each tab panel\r\n\t\t\tthis.tablist = this._makeController(this.tablistNode);\r\n\r\n\t\t\tif(!this.doLayout){\r\n\t\t\t\tdomClass.add(this.domNode, \"dijitTabContainerNoLayout\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.nested){\r\n\t\t\t\t/* workaround IE's lack of support for \"a > b\" selectors by\r\n\t\t\t\t * tagging each node in the template.\r\n\t\t\t\t */\r\n\t\t\t\tdomClass.add(this.domNode, \"dijitTabContainerNested\");\r\n\t\t\t\tdomClass.add(this.tablist.containerNode, \"dijitTabContainerTabListNested\");\r\n\t\t\t\tdomClass.add(this.tablistSpacer, \"dijitTabContainerSpacerNested\");\r\n\t\t\t\tdomClass.add(this.containerNode, \"dijitTabPaneWrapperNested\");\r\n\t\t\t}else{\r\n\t\t\t\tdomClass.add(this.domNode, \"tabStrip-\" + (this.tabStrip ? \"enabled\" : \"disabled\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setupChild: function(/*dijit/_WidgetBase*/ tab){\r\n\t\t\t// Overrides StackContainer._setupChild().\r\n\t\t\tdomClass.add(tab.domNode, \"dijitTabPane\");\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// wire up the tablist and its tabs\r\n\t\t\tthis.tablist.startup();\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tlayout: function(){\r\n\t\t\t// Overrides StackContainer.layout().\r\n\t\t\t// Configure the content pane to take up all the space except for where the tabs are\r\n\r\n\t\t\tif(!this._contentBox || typeof(this._contentBox.l) == \"undefined\"){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sc = this.selectedChildWidget;\r\n\r\n\t\t\tif(this.doLayout){\r\n\t\t\t\t// position and size the titles and the container node\r\n\t\t\t\tvar titleAlign = this.tabPosition.replace(/-h/, \"\");\r\n\t\t\t\tthis.tablist.region = titleAlign;\r\n\t\t\t\tvar children = [this.tablist, {\r\n\t\t\t\t\tdomNode: this.tablistSpacer,\r\n\t\t\t\t\tregion: titleAlign\r\n\t\t\t\t}, {\r\n\t\t\t\t\tdomNode: this.containerNode,\r\n\t\t\t\t\tregion: \"center\"\r\n\t\t\t\t}];\r\n\t\t\t\tlayoutUtils.layoutChildren(this.domNode, this._contentBox, children);\r\n\r\n\t\t\t\t// Compute size to make each of my children.\r\n\t\t\t\t// children[2] is the margin-box size of this.containerNode, set by layoutChildren() call above\r\n\t\t\t\tthis._containerContentBox = layoutUtils.marginBox2contentBox(this.containerNode, children[2]);\r\n\r\n\t\t\t\tif(sc && sc.resize){\r\n\t\t\t\t\tsc.resize(this._containerContentBox);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// just layout the tab controller, so it can position left/right buttons etc.\r\n\t\t\t\tif(this.tablist.resize){\r\n\t\t\t\t\t//make the tabs zero width so that they don't interfere with width calc, then reset\r\n\t\t\t\t\tvar s = this.tablist.domNode.style;\r\n\t\t\t\t\ts.width = \"0\";\r\n\t\t\t\t\tvar width = domGeometry.getContentBox(this.domNode).w;\r\n\t\t\t\t\ts.width = \"\";\r\n\t\t\t\t\tthis.tablist.resize({w: width});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// and call resize() on the selected pane just to tell it that it's been made visible\r\n\t\t\t\tif(sc && sc.resize){\r\n\t\t\t\t\tsc.resize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy: function(preserveDom){\r\n\t\t\tif(this.tablist){\r\n\t\t\t\tthis.tablist.destroy(preserveDom);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tselectChild: function(/*dijit/_WidgetBase|String*/ page, /*Boolean*/ animate){\r\n\t\t\t// Override _StackContainer.selectChild() so the page's focus isn't left in a strange state.\r\n\r\n\t\t\tif(this._focused){\r\n\t\t\t\t// Focus must be inside the currently selected tab,\r\n\t\t\t\t// or on the currently selected tab label.\r\n\t\t\t\tpage = registry.byId(page);\r\n\t\t\t\tthis.tablist.pane2button(page.id).focus();\r\n\t\t\t}\r\n\t\t\treturn this.inherited(arguments);\r\n\t\t}\r\n\t});\r\n});\r\n"]}