/**
 * dijit - A version of dijit.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dijit/
 * @license MIT
 */
!function(factory,globals){var define=globals.define,require=globals.require,isAmd="function"==typeof define&&define.amd,isCmd=!isAmd&&"undefined"!=typeof exports;if(!isAmd&&!define){var map={};define=globals.define=function(e,t,i){"function"==typeof i?(map[e]={factory:i,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var i=t.split("/"),o=e.split("/");i.pop();for(var n=0;n<o.length;n++)"."!=o[n]&&(".."==o[n]?i.pop():i.push(o[n]));return i.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):map[e]={factory:null,resolved:!0,exports:i}},require=globals.require=function(e){if(!map.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var t=map[e];if(!t.resolved){var i=[];t.deps.forEach(function(e){i.push(require(e))}),t.exports=t.factory.apply(globals,i)||null,t.resolved=!0}return t.exports}}if(!define)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(define,require){define("dojo/has",["require","module"],function(e,t){var i=e.has||function(){};if(!i("dojo-has-api")){var o="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,n=function(){return this}(),r=o&&document,s=r&&r.createElement("DiV"),a=t.config&&t.config()||{};(i=function(e){return"function"==typeof a[e]?a[e]=a[e](n,r,s):a[e]}).cache=a,i.add=function(e,t,o,n){return(void 0===a[e]||n)&&(a[e]=t),o&&i(e)},i.add("host-browser",o),i.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),i.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),i.add("dom",o),i.add("dojo-dom-ready-api",1),i.add("dojo-sniff",1)}if(i("host-browser")){i.add("dom-addeventlistener",!!document.addEventListener),i.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),i.add("touch-events","ontouchstart"in document),i.add("pointer-events","onpointerdown"in document),i.add("MSPointer","msMaxTouchPoints"in navigator),i.add("device-width",screen.availWidth||innerWidth);var d=document.createElement("form");i.add("dom-attributes-explicit",0==d.attributes.length),i.add("dom-attributes-specified-flag",d.attributes.length>0&&d.attributes.length<40)}return i.clearElement=function(e){return e.innerHTML="",e},i.normalize=function(e,t){var o=e.match(/[\?:]|[^:\?]*/g),n=0,r=function(e){var t=o[n++];return":"==t?0:"?"==o[n++]?!e&&i(t)?r():(r(!0),r(e)):t||0};return(e=r())&&t(e)},!1===e.isBrowser?i.load=function(e,t,i,o){i()}:i.load=function(e,t,i){e?t([e],i):i()},i}),define("dojo/_base/config",["../has","require"],function(e,t){var i={};if(e("dojo-config-api")){var o,n=t.rawConfig;for(o in n)i[o]=n[o]}else{var r=function(t,i,n){for(o in t)"has"!=o&&e.add(i+o,t[o],0,n)},s=function(){return this}();i=e("dojo-loader")?t.rawConfig:s.dojoConfig||s.djConfig||{},r(i,"config",1),r(i.has,"",1)}if(!i.locale&&"undefined"!=typeof navigator){var a=navigator.language||navigator.userLanguage;a&&(i.locale=a.toLowerCase())}return i}),define("dojo/_base/kernel",["../has","./config","require","module"],function(e,t,i,o){var n,r,s,a=function(){return this}(),d={},l={},h={config:t,global:a,dijit:d,dojox:l},c={dojo:["dojo",h],dijit:["dijit",d],dojox:["dojox",l]},u=i.map&&i.map[o.id.match(/[^\/]+/)[0]];for(r in u)c[r]?c[r][0]=u[r]:c[r]=[u[r],{}];for(r in c)(s=c[r])[1]._scopeName=s[0],t.noGlobals||(a[s[0]]=s[1]);h.scopeMap=c,h.baseUrl=h.config.baseUrl=i.baseUrl,h.isAsync=!e("dojo-loader")||i.async,h.locale=t.locale;var f="$Rev: f4fef70 $".match(/[0-9a-f]{7,}/);if(h.version={major:1,minor:10,patch:4,flag:"",revision:f?f[0]:NaN,toString:function(){var e=h.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},e.add("extend-dojo",1),Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h),e("host-rhino")?h.exit=function(e){quit(e)}:h.exit=function(){},e.add("dojo-guarantee-console",1),e("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var p,m=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(n=0;p=m[n++];)console[p]||function(){var e=p+"";console[e]="log"in console?function(){var t=Array.prototype.slice.call(arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}if(e.add("dojo-debug-messages",!!t.isDebug),h.deprecated=h.experimental=function(){},e("dojo-debug-messages")&&(h.deprecated=function(e,t,i){var o="DEPRECATED: "+e;t&&(o+=" "+t),i&&(o+=" -- will be removed in version: "+i),console.warn(o)},h.experimental=function(e,t){var i="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(i+=" "+t),console.warn(i)}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){h.deprecated("dojo.modulePaths","use paths configuration");var g={};for(r in t.modulePaths)g[r.replace(/\./g,"/")]=t.modulePaths[r];i({paths:g})}return e.add("dojo-moduleUrl",1),e("dojo-moduleUrl")&&(h.moduleUrl=function(e,t){h.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var o=null;return e&&(o=i.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),o}),h._hasResource={},h}),define("dojo/sniff",["./has"],function(e){if(e("host-browser")){var t=navigator,i=t.userAgent,o=t.appVersion,n=parseFloat(o);if(e.add("air",i.indexOf("AdobeAIR")>=0),e.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),e.add("khtml",o.indexOf("Konqueror")>=0?n:void 0),e.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0),e.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0),e.add("safari",o.indexOf("Safari")>=0&&!e("chrome")?parseFloat(o.split("Version/")[1]):void 0),e.add("mac",o.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),i.match(/(iPhone|iPod|iPad)/)){var r=RegExp.$1.replace(/P/,"p"),s=i.match(/OS ([\d_]+)/)?RegExp.$1:"1",a=parseFloat(s.replace(/_/,".").replace(/_/g,""));e.add(r,a),e.add("ios",a)}if(e.add("android",parseFloat(i.split("Android ")[1])||void 0),e.add("bb",(i.indexOf("BlackBerry")>=0||i.indexOf("BB10")>=0)&&parseFloat(i.split("Version/")[1])||void 0),e.add("trident",parseFloat(o.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(i.indexOf("Opera")>=0&&e.add("opera",n>=9.8&&parseFloat(i.split("Version/")[1])||n),i.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&!e("trident")&&e.add("mozilla",n),e("mozilla")&&e.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var d=parseFloat(o.split("MSIE ")[1])||void 0,l=document.documentMode;l&&5!=l&&Math.floor(d)!=l&&(d=l),e.add("ie",d)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e}),define("dojo/_base/lang",["./kernel","../has","../sniff"],function(e,t){t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var i=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],o=i.length,n=function(t,i,o){o||(o=t[0]&&e.scopeMap[t[0]]?e.scopeMap[t.shift()][1]:e.global);try{for(var n=0;n<t.length;n++){var r=t[n];if(!(r in o)){if(!i)return;o[r]={}}o=o[r]}return o}catch(e){}},r=Object.prototype.toString,s=function(e,t,i){return(i||[]).concat(Array.prototype.slice.call(e,t||0))},a=/\{([^\}]+)\}/g,d={_extraNames:i,_mixin:function(e,n,r){var s,a,d,l={};for(s in n)a=n[s],s in e&&(e[s]===a||s in l&&l[s]===a)||(e[s]=r?r(a):a);if(t("bug-for-in-skips-shadowed")&&n)for(d=0;d<o;++d)s=i[d],a=n[s],s in e&&(e[s]===a||s in l&&l[s]===a)||(e[s]=r?r(a):a);return e},mixin:function(e,t){e||(e={});for(var i=1,o=arguments.length;i<o;i++)d._mixin(e,arguments[i]);return e},setObject:function(e,t,i){var o=e.split("."),r=o.pop(),s=n(o,!0,i);return s&&r?s[r]=t:void 0},getObject:function(e,t,i){return n(e?e.split("."):[],t,i)},exists:function(e,t){return void 0!==d.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e&&(e instanceof Array||"array"==typeof e)},isFunction:function(e){return"[object Function]"===r.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||d.isArray(e)||d.isFunction(e))},isArrayLike:function(e){return e&&void 0!==e&&!d.isString(e)&&!d.isFunction(e)&&!(e.tagName&&"form"==e.tagName.toLowerCase())&&(d.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!d.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,t){for(var i=1,o=arguments.length;i<o;i++)d._mixin(e.prototype,arguments[i]);return e},_hitchArgs:function(t,i){var o=d._toArray(arguments,2),n=d.isString(i);return function(){var r=d._toArray(arguments),s=n?(t||e.global)[i]:i;return s&&s.apply(t||this,o.concat(r))}},hitch:function(t,i){if(arguments.length>2)return d._hitchArgs.apply(e,arguments);if(i||(i=t,t=null),d.isString(i)){if(!(t=t||e.global)[i])throw['lang.hitch: scope["',i,'"] is null (scope="',t,'")'].join("");return function(){return t[i].apply(t,arguments||[])}}return t?function(){return i.apply(t,arguments||[])}:i},delegate:function(){function e(){}return function(t,i){e.prototype=t;var o=new e;return e.prototype=null,i&&d._mixin(o,i),o}}(),_toArray:t("ie")?function(){return function(e){return(e.item?function(e,t,i){for(var o=i||[],n=t||0;n<e.length;n++)o.push(e[n]);return o}:s).apply(this,arguments)}}():s,partial:function(t){return d.hitch.apply(e,[null].concat(d._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||d.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,i,o;if(d.isArray(e))for(t=[],i=0,o=e.length;i<o;++i)i in e&&t.push(d.clone(e[i]));else t=e.constructor?new e.constructor:{};return d._mixin(t,e,d.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,i){return e.replace(i||a,d.isFunction(t)?t:function(e,i){return d.getObject(i,!1,t)})}};return t("extend-dojo")&&d.mixin(e,d),d}),define("dojo/_base/array",["./kernel","../has","./lang"],function(e,t,i){var o,n={};function r(e){return n[e]=new Function("item","index","array",e)}function s(e){var t=!e;return function(i,o,s){var a,d=0,l=i&&i.length||0;if(l&&"string"==typeof i&&(i=i.split("")),"string"==typeof o&&(o=n[o]||r(o)),s){for(;d<l;++d)if(a=!o.call(s,i[d],d,i),e^a)return!a}else for(;d<l;++d)if(a=!o(i[d],d,i),e^a)return!a;return t}}function a(e){var t=1,i=0,n=0;return e||(t=i=n=-1),function(r,s,a,l){if(l&&t>0)return d.lastIndexOf(r,s,a);var h,c=r&&r.length||0,u=e?c+n:i;for(a===o?h=e?i:c+n:a<0?(h=c+a)<0&&(h=i):h=a>=c?c+n:a,c&&"string"==typeof r&&(r=r.split(""));h!=u;h+=t)if(r[h]==s)return h;return-1}}var d={every:s(!1),some:s(!0),indexOf:a(!0),lastIndexOf:a(!1),forEach:function(e,t,i){var o=0,s=e&&e.length||0;if(s&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=n[t]||r(t)),i)for(;o<s;++o)t.call(i,e[o],o,e);else for(;o<s;++o)t(e[o],o,e)},map:function(e,t,i,o){var s=0,a=e&&e.length||0,d=new(o||Array)(a);if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=n[t]||r(t)),i)for(;s<a;++s)d[s]=t.call(i,e[s],s,e);else for(;s<a;++s)d[s]=t(e[s],s,e);return d},filter:function(e,t,i){var o,s=0,a=e&&e.length||0,d=[];if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=n[t]||r(t)),i)for(;s<a;++s)o=e[s],t.call(i,o,s,e)&&d.push(o);else for(;s<a;++s)o=e[s],t(o,s,e)&&d.push(o);return d},clearCache:function(){n={}}};return t("extend-dojo")&&i.mixin(e,d),d}),define("dojo/_base/window",["./kernel","./lang","../sniff"],function(e,t,i){var o={global:e.global,doc:e.global.document||null,body:function(t){return(t=t||e.doc).body||t.getElementsByTagName("body")[0]},setContext:function(t,i){e.global=o.global=t,e.doc=o.doc=i},withGlobal:function(t,i,n,r){var s=e.global;try{return e.global=o.global=t,o.withDoc.call(null,t.document,i,n,r)}finally{e.global=o.global=s}},withDoc:function(t,n,r,s){var a,d,l,h=o.doc,c=i("quirks"),u=i("ie");try{return e.doc=o.doc=t,e.isQuirks=i.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),i("ie")&&(l=t.parentWindow)&&l.navigator&&(a=parseFloat(l.navigator.appVersion.split("MSIE ")[1])||void 0,(d=t.documentMode)&&5!=d&&Math.floor(a)!=d&&(a=d),e.isIE=i.add("ie",a,!0,!0)),r&&"string"==typeof n&&(n=r[n]),n.apply(r,s||[])}finally{e.doc=o.doc=h,e.isQuirks=i.add("quirks",c,!0,!0),e.isIE=i.add("ie",u,!0,!0)}}};return i("extend-dojo")&&t.mixin(e,o),o}),define("dojo/dom",["./sniff","./_base/window"],function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var i={};e("ie")?i.byId=function(e,i){if("string"!=typeof e)return e;var o=i||t.doc,n=e&&o.getElementById(e);if(n&&(n.attributes.id.value==e||n.id==e))return n;var r=o.all[e];r&&!r.nodeName||(r=[r]);for(var s=0;n=r[s++];)if(n.attributes&&n.attributes.id&&n.attributes.id.value==e||n.id==e)return n}:i.byId=function(e,i){return("string"==typeof e?(i||t.doc).getElementById(e):e)||null},i.isDescendant=function(e,t){try{for(e=i.byId(e),t=i.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(e){}return!1},e.add("css-user-select",function(e,t,i){if(!i)return!1;var o=i.style,n=["Khtml","O","Moz","Webkit"],r=n.length,s="userSelect";do{if(void 0!==o[s])return s}while(r--&&(s=n[r]+"UserSelect"));return!1});var o=e("css-user-select");return i.setSelectable=o?function(e,t){i.byId(e).style[o]=t?"":"none"}:function(e,t){var o=(e=i.byId(e)).getElementsByTagName("*"),n=o.length;if(t)for(e.removeAttribute("unselectable");n--;)o[n].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");n--;)o[n].setAttribute("unselectable","on")},i}),define("dojo/dom-style",["./sniff","./dom"],function(e,t){var i,o,n={};i=e("webkit")?function(e){var t;if(1==e.nodeType){var i=e.ownerDocument.defaultView;!(t=i.getComputedStyle(e,null))&&e.style&&(e.style.display="",t=i.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}},n.getComputedStyle=i,o=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var i=e.style,o=e.runtimeStyle,n=e.currentStyle,r=i.left,s=o.left;o.left=n.left;try{i.left=t,t=i.pixelLeft}catch(e){t=0}return i.left=r,o.left=s,t}:function(e,t){return parseFloat(t)||0},n.toPixelValue=o;var r="DXImageTransform.Microsoft.Alpha",s=function(e,t){try{return e.filters.item(r)}catch(e){return t?{}:null}},a=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return s(e).Opacity/100}catch(e){return 1}}:function(e){return i(e).opacity},d=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var i=100*t,o=1===t;if(o?(e.style.zoom="",s(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+r+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,s(e)?s(e,1).Opacity=i:e.style.filter+=" progid:"+r+"(Opacity="+i+")",s(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var n=e.firstChild;n;n=n.nextSibling)"td"==n.tagName.toLowerCase()&&d(n,t);return t}:function(e,t){return e.style.opacity=t},l={left:!0,top:!0},h=/margin|padding|width|height|max|min|offset/;var c={cssFloat:1,styleFloat:1,float:1};return n.get=function(i,r){var s=t.byId(i),d=arguments.length,u="opacity"==r;if(2==d&&u)return a(s);r=c[r]?"cssFloat"in s.style?"cssFloat":"styleFloat":r;var f=n.getComputedStyle(s);return 1==d?f:function(t,i,n){if(i=i.toLowerCase(),e("ie")||e("trident")){if("auto"==n){if("height"==i)return t.offsetHeight;if("width"==i)return t.offsetWidth}if("fontweight"==i)switch(n){case 700:return"bold";case 400:default:return"normal"}}i in l||(l[i]=h.test(i));return l[i]?o(t,n):n}(s,r,f[r]||s.style[r])},n.set=function(e,i,o){var r=t.byId(e),s=arguments.length,a="opacity"==i;if(i=c[i]?"cssFloat"in r.style?"cssFloat":"styleFloat":i,3==s)return a?d(r,o):r.style[i]=o;for(var l in i)n.set(e,l,i[l]);return n.getComputedStyle(r)},n}),define("dojo/dom-construct",["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,i,o,n,r){var s,a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,l={},h=0,c="__"+t._scopeName+"ToDomId";for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];f.pre="option"==u?'<select multiple="multiple">':"<"+f.join("><")+">",f.post="</"+f.reverse().join("></")+">"}function p(e,t){var i=t.parentNode;i&&i.insertBefore(e,t)}i("ie")<=8&&(s=function(e){e.__dojo_html5_tested="yes";var t=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){e.createElement(t)}),_(t)}),e.toDom=function(e,t){var n=(t=t||o.doc)[c];n||(t[c]=n=++h+"",l[n]=t.createElement("div")),i("ie")<=8&&!t.__dojo_html5_tested&&t.body&&s(t);var r,u,f,p,m=(e+="").match(d),g=m?m[1].toLowerCase():"",_=l[n];if(m&&a[g])for(r=a[g],_.innerHTML=r.pre+e+r.post,u=r.length;u;--u)_=_.firstChild;else _.innerHTML=e;if(1==_.childNodes.length)return _.removeChild(_.firstChild);for(p=t.createDocumentFragment();f=_.firstChild;)p.appendChild(f);return p},e.place=function(t,i,o){if(i=n.byId(i),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,i.ownerDocument):n.byId(t)),"number"==typeof o){var r=i.childNodes;!r.length||r.length<=o?i.appendChild(t):p(t,r[o<0?0:o])}else switch(o){case"before":p(t,i);break;case"after":!function(e,t){var i=t.parentNode;i&&(i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling))}(t,i);break;case"replace":i.parentNode.replaceChild(t,i);break;case"only":e.empty(i),i.appendChild(t);break;case"first":if(i.firstChild){p(t,i.firstChild);break}default:i.appendChild(t)}return t};var m=e.create=function(t,i,s,a){var d=o.doc;return s&&(s=n.byId(s),d=s.ownerDocument),"string"==typeof t&&(t=d.createElement(t)),i&&r.set(t,i),s&&e.place(t,s,a),t};function g(e){if("innerHTML"in e)try{return void(e.innerHTML="")}catch(e){}for(var t;t=e.lastChild;)e.removeChild(t)}e.empty=function(e){g(n.byId(e))};var _=e.destroy=function(e){(e=n.byId(e))&&function(e,t){e.firstChild&&g(e);t&&(i("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}(e,e.parentNode)}}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,i){"use strict";if(i("dom")){var o=window.ScriptEngineMajorVersion;i.add("jscript",o&&o()+ScriptEngineMinorVersion()/10),i.add("event-orientationchange",i("touch")&&!i("android")),i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),i.add("event-focusin",function(e,t,i){return"onfocusin"in i}),i("touch")&&i.add("touch-can-modify-event-delegate",function(){var e=function(){};e.prototype=document.createEvent("MouseEvents");try{var t=new e;return t.target=null,null===t.target}catch(e){return!1}})}var n=function(e,t,i,o){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?n.parse(e,t,i,s,o,this):e.on(t,i)};n.pausable=function(e,t,i,o){var r,s=n(e,t,function(){if(!r)return i.apply(this,arguments)},o);return s.pause=function(){r=!0},s.resume=function(){r=!1},s},n.once=function(e,t,i,o){var r=n(e,t,function(){return r.remove(),i.apply(this,arguments)});return r},n.parse=function(e,t,i,o,r,s){if(t.call)return t.call(s,e,i);if(t instanceof Array)a=t;else if(t.indexOf(",")>-1)var a=t.split(/\s*,\s*/);if(a){for(var d,l=[],h=0;d=a[h++];)l.push(n.parse(e,d,i,o,r,s));return l.remove=function(){for(var e=0;e<l.length;e++)l[e].remove()},l}return o(e,t,i,r,s)};var r=/^touch/;function s(e,t,o,s,a){var d=t.match(/(.*):(.*)/);if(d)return t=d[2],d=d[1],n.selector(d,t).call(a,e,o);if(i("touch")&&(r.test(t)&&(o=x(o)),i("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,o=x(o))),f&&(o=f(o)),e.addEventListener){var l=t in c,h=l?c[t]:t;return e.addEventListener(h,o,l),{remove:function(){e.removeEventListener(h,o,l)}}}if(t="on"+t,g&&e.attachEvent)return g(e,t,o);throw new Error("Target must be an event emitter")}function a(){this.cancelable=!1,this.defaultPrevented=!0}function d(){this.bubbles=!1}n.matches=function(e,i,o,n,r){for(r=r&&r.matches?r:t.query,n=!1!==n,1!=e.nodeType&&(e=e.parentNode);!r.matches(e,i,o);)if(e==o||!1===n||!(e=e.parentNode)||1!=e.nodeType)return!1;return e},n.selector=function(e,t,i){return function(o,r){var s="function"==typeof e?{matches:e}:this,a=t.bubble;function d(t){return n.matches(t,e,o,i,s)}return a?n(o,a(d),r):n(o,t,function(e){var t=d(e.target);if(t)return r.call(t,e)})}};var l=[].slice,h=n.emit=function(e,t,i){var o=l.call(arguments,2),n="on"+t;if("parentNode"in e){var r=o[0]={};for(var s in i)r[s]=i[s];r.preventDefault=a,r.stopPropagation=d,r.target=e,r.type=t,i=r}do{e[n]&&e[n].apply(e,o)}while(i&&i.bubbles&&(e=e.parentNode));return i&&i.cancelable&&i},c=i("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!i("event-stopimmediatepropagation"))var u=function(){this.immediatelyStopped=!0,this.modified=!0},f=function(e){return function(t){if(!t.immediatelyStopped)return t.stopImmediatePropagation=u,e.apply(this,arguments)}};if(i("dom-addeventlistener"))n.emit=function(e,t,i){if(e.dispatchEvent&&document.createEvent){var o=e.ownerDocument||document,r=o.createEvent("HTMLEvents");for(var s in r.initEvent(t,!!i.bubbles,!!i.cancelable),i)s in r||(r[s]=i[s]);return e.dispatchEvent(r)&&r}return h.apply(n,arguments)};else{n._fixEvent=function(e,t){if(!e){var i=t&&(t.ownerDocument||t.document||t).parentWindow||window;e=i.event}if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(e){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=v,e.preventDefault=b),e.type){case"keypress":var o="charCode"in e?e.charCode:e.keyCode;10==o?(o=0,e.keyCode=13):13==o||27==o?o=0:3==o&&(o=99),e.charCode=o,_(e)}return e};var p,m=function(e){this.handle=e};m.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var g=function(t,o,r){if(r=function(e){return function(t){t=n._fixEvent(t,this);var i=e.call(this,t);return t.modified&&(p||setTimeout(function(){p=null}),p=t),i}}(r),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||i("jscript")<5.8)&&!i("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var s,a=t[o];if(!a||!a.listeners){var d=a;(a=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}")).listeners=[],t[o]=a,a.global=this,d&&a.listeners.push(_dojoIEListeners_.push(d)-1)}return a.listeners.push(s=a.global._dojoIEListeners_.push(r)-1),new m(s)}return e.after(t,o,r,!0)},_=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},v=function(){this.cancelBubble=!0},b=n._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(i("touch"))var y=function(){},C=window.orientation,x=function(e){return function(t){var o=t.corrected;if(!o){var n=t.type;try{delete t.type}catch(e){}if(t.type){if(i("touch-can-modify-event-delegate"))y.prototype=t,o=new y;else for(var r in o={},t)o[r]=t[r];o.preventDefault=function(){t.preventDefault()},o.stopPropagation=function(){t.stopPropagation()}}else(o=t).type=n;if(t.corrected=o,"resize"==n)return C==window.orientation?null:(C=window.orientation,o.type="orientationchange",e.call(this,o));"rotation"in o||(o.rotation=0,o.scale=1);var s=o.changedTouches[0];for(var a in s)delete o[a],o[a]=s[a]}return e.call(this,o)}};return n}),define("dojo/aspect",[],function(){"use strict";var e,t=0;function i(i){return function(o,n,r,s){var a,d=o[n];d&&d.target==o||(o[n]=a=function(){for(var i=t,o=arguments,n=a.before;n;)o=n.advice.apply(this,o)||o,n=n.next;if(a.around)var r=a.around.advice(this,o);for(var s=a.after;s&&s.id<i;){if(s.receiveArguments){var d=s.advice.apply(this,o);r=d===e?r:d}else r=s.advice.call(this,r,o);s=s.next}return r},d&&(a.around={advice:function(e,t){return d.apply(e,t)}}),a.target=o);var l=function(e,i,o,n){var r,s=e[i],a="around"==i;if(a){var d=o(function(){return s.advice(this,arguments)});r={remove:function(){d&&(d=e=o=null)},advice:function(e,t){return d?d.apply(e,t):s.advice(e,t)}}}else r={remove:function(){if(r.advice){var t=r.previous,n=r.next;n||t?(t?t.next=n:e[i]=n,n&&(n.previous=t)):delete e[i],e=o=r.advice=null}},id:t++,advice:o,receiveArguments:n};if(s&&!a)if("after"==i){for(;s.next&&(s=s.next););s.next=r,r.previous=s}else"before"==i&&(e[i]=r,r.next=s,s.previous=r);else e[i]=r;return r}(a||d,i,r,s);return r=null,l}}var o=i("after"),n=i("before"),r=i("around");return{before:n,around:r,after:o}}),define("dojo/Evented",["./aspect","./on"],function(e,t){"use strict";var i=e.after;function o(){}return o.prototype={on:function(e,o){return t.parse(this,e,o,function(e,t){return i(e,"on"+t,o,!0)})},emit:function(e,i){var o=[this];return o.push.apply(o,arguments),t.emit.apply(t,o)}},o}),define("dojo/topic",["./Evented"],function(e){var t=new e;return{publish:function(e,i){return t.emit.apply(t,arguments)},subscribe:function(e,i){return t.on.apply(t,arguments)}}}),define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,i,o){var n={boxModel:"content-box"};e("ie")&&(n.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),n.getPadExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.paddingLeft),a=r(e,n.paddingTop),d=r(e,n.paddingRight),l=r(e,n.paddingBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}};var r="none";function s(e,t,i,o,n,r){r=r||"px";var s=e.style;isNaN(t)||(s.left=t+r),isNaN(i)||(s.top=i+r),o>=0&&(s.width=o+r),n>=0&&(s.height=n+r)}function a(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function d(e){return"border-box"==n.boxModel||"table"==e.tagName.toLowerCase()||a(e)}n.getBorderExtents=function(e,t){e=i.byId(e);var n=o.toPixelValue,s=t||o.getComputedStyle(e),a=s.borderLeftStyle!=r?n(e,s.borderLeftWidth):0,d=s.borderTopStyle!=r?n(e,s.borderTopWidth):0,l=s.borderRightStyle!=r?n(e,s.borderRightWidth):0,h=s.borderBottomStyle!=r?n(e,s.borderBottomWidth):0;return{l:a,t:d,r:l,b:h,w:a+l,h:d+h}},n.getPadBorderExtents=function(e,t){e=i.byId(e);var r=t||o.getComputedStyle(e),s=n.getPadExtents(e,r),a=n.getBorderExtents(e,r);return{l:s.l+a.l,t:s.t+a.t,r:s.r+a.r,b:s.b+a.b,w:s.w+a.w,h:s.h+a.h}},n.getMarginExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.marginLeft),a=r(e,n.marginTop),d=r(e,n.marginRight),l=r(e,n.marginBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}},n.getMarginBox=function(t,s){t=i.byId(t);var a,d=s||o.getComputedStyle(t),l=n.getMarginExtents(t,d),h=t.offsetLeft-l.l,c=t.offsetTop-l.t,u=t.parentNode,f=o.toPixelValue;if(e("mozilla")){var p=parseFloat(d.left),m=parseFloat(d.top);isNaN(p)||isNaN(m)?u&&u.style&&"visible"!=(a=o.getComputedStyle(u)).overflow&&(h+=a.borderLeftStyle!=r?f(t,a.borderLeftWidth):0,c+=a.borderTopStyle!=r?f(t,a.borderTopWidth):0):(h=p,c=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&u&&(a=o.getComputedStyle(u),h-=a.borderLeftStyle!=r?f(t,a.borderLeftWidth):0,c-=a.borderTopStyle!=r?f(t,a.borderTopWidth):0);return{l:h,t:c,w:t.offsetWidth+l.w,h:t.offsetHeight+l.h}},n.getContentBox=function(t,r){t=i.byId(t);var s,a=r||o.getComputedStyle(t),d=t.clientWidth,l=n.getPadExtents(t,a),h=n.getBorderExtents(t,a);return d?(s=t.clientHeight,h.w=h.h=0):(d=t.offsetWidth,s=t.offsetHeight),e("opera")&&(l.l+=h.l,l.t+=h.t),{l:l.l,t:l.t,w:d-l.w-h.w,h:s-l.h-h.h}},n.setContentSize=function(e,t,o){e=i.byId(e);var r=t.w,a=t.h;if(d(e)){var l=n.getPadBorderExtents(e,o);r>=0&&(r+=l.w),a>=0&&(a+=l.h)}s(e,NaN,NaN,r,a)};var l={l:0,t:0,w:0,h:0};return n.setMarginBox=function(t,r,h){t=i.byId(t);var c=h||o.getComputedStyle(t),u=r.w,f=r.h,p=d(t)?l:n.getPadBorderExtents(t,c),m=n.getMarginExtents(t,c);if(e("webkit")&&a(t)){var g=t.style;u>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px")}u>=0&&(u=Math.max(u-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),s(t,r.l,r.t,u,f)},n.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},n.docScroll=function(i){i=i||t.doc;var o=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=e("quirks")?t.body(i):i.documentElement)&&{x:n.fixIeBiDiScrollLeft(o.scrollLeft||0,i),y:o.scrollTop||0}},e("ie")&&(n.getIeDocumentElementOffset=function(i){var o=(i=i||t.doc).documentElement;if(e("ie")<8){var n=o.getBoundingClientRect(),r=n.left,s=n.top;return e("ie")<7&&(r+=o.clientLeft,s+=o.clientTop),{x:r<0?0:r,y:s<0?0:s}}return{x:0,y:0}}),n.fixIeBiDiScrollLeft=function(i,o){o=o||t.doc;var r=e("ie");if(r&&!n.isBodyLtr(o)){var s=e("quirks"),a=s?t.body(o):o.documentElement,d=t.global;return 6==r&&!s&&d.frameElement&&a.scrollHeight>a.clientHeight&&(i+=a.clientLeft),r<8||s?i+a.clientWidth-a.scrollWidth:-i}return i},n.position=function(o,r){o=i.byId(o);var s=t.body(o.ownerDocument),a=o.getBoundingClientRect();if(a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top},e("ie")<9){var d=n.getIeDocumentElementOffset(o.ownerDocument);a.x-=d.x+(e("quirks")?s.clientLeft+s.offsetLeft:0),a.y-=d.y+(e("quirks")?s.clientTop+s.offsetTop:0)}if(r){var l=n.docScroll(o.ownerDocument);a.x+=l.x,a.y+=l.y}return a},n.getMarginSize=function(e,t){e=i.byId(e);var r=n.getMarginExtents(e,t||o.getComputedStyle(e)),s=e.getBoundingClientRect();return{w:s.right-s.left+r.w,h:s.bottom-s.top+r.h}},n.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var i=t.target,o=i&&i.ownerDocument||document,r=e("quirks")?o.body:o.documentElement,s=n.getIeDocumentElementOffset(o);t.pageX=t.clientX+n.fixIeBiDiScrollLeft(r.scrollLeft||0,o)-s.x,t.pageY=t.clientY+(r.scrollTop||0)-s.y}},n}),define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(e,t,i,o){if(t._fixEvent){var n=t._fixEvent;t._fixEvent=function(e,t){return(e=n(e,t))&&o.normalizeEvent(e),e}}var r={fix:function(e,i){return t._fixEvent?t._fixEvent(e,i):e},stop:function(e){i("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((e=e||window.event).cancelBubble=!0,t._preventDefault.call(e))}};return i("extend-dojo")&&(e.fixEvent=r.fix,e.stopEvent=r.stop),r}),define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,i,o,n){var r,s;function a(e,i){var n=function(n,r){return t(n,e,function(e){return i?i(e,r):o.isDescendant(e.relatedTarget,n)?void 0:r.call(this,e)})};return n.bubble=function(t){return a(e,function(e,i){var o=t(e.target),n=e.relatedTarget;if(o&&o!=(n&&1==n.nodeType&&t(n)))return i.call(o,e)})},n}return i.add("dom-quirks",n.doc&&"BackCompat"==n.doc.compatMode),i.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div")),i.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc),r=i("dom-quirks")&&i("ie")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=r,s=i("events-mousewheel")?"mousewheel":function(e,i){return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,i.call(this,e)})},{_eventHandler:a,enter:a("mouseover"),leave:a("mouseout"),wheel:s,isLeft:r.isLeft,isMiddle:r.isMiddle,isRight:r.isRight}}),define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(e,t,i){return i("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:i("ff"),isIE:i("ie"),isKhtml:i("khtml"),isWebKit:i("webkit"),isMozilla:i("mozilla"),isMoz:i("mozilla"),isOpera:i("opera"),isSafari:i("safari"),isChrome:i("chrome"),isMac:i("mac"),isIos:i("ios"),isAndroid:i("android"),isWii:i("wii"),isQuirks:i("quirks"),isAir:i("air")}),i):i}),define("dojo/keys",["./_base/kernel","./sniff"],function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,i,o,n,r,s,a){s.add("events-keypress-typed",function(){var e={charCode:0};try{((e=document.createEvent("KeyboardEvent")).initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==e.charCode&&!s("opera")});var d,l={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},h=s("mac")?"metaKey":"ctrlKey",c=function(e,t){var i=a.mixin({},e,t);return u(i),i.preventDefault=function(){e.preventDefault()},i.stopPropagation=function(){e.stopPropagation()},i};function u(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}if(s("events-keypress-typed")){d=function(e,i){var o=t(e,"keydown",function(e){var t=e.keyCode,o=13!=t&&32!=t&&(27!=t||!s("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&229!=t;if(o||e.ctrlKey){var n=o?0:t;if(e.ctrlKey){if(3==t||13==t)return i.call(e.currentTarget,e);n>95&&n<106?n-=48:!e.shiftKey&&n>=65&&n<=90?n+=32:n=l[n]||n}var r=c(e,{type:"keypress",faux:!0,charCode:n});i.call(e.currentTarget,r),s("ie")&&function(e,t){try{e.keyCode=t}catch(e){return 0}}(e,r.keyCode)}}),n=t(e,"keypress",function(e){var t=e.charCode;return e=c(e,{charCode:t=t>=32?t:0,faux:!0}),i.call(this,e)});return{remove:function(){o.remove(),n.remove()}}}}else d=s("opera")?function(e,i){return t(e,"keypress",function(e){var t=e.which;return 3==t&&(t=99),t=t<32&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),i.call(this,c(e,{charCode:t}))})}:function(e,i){return t(e,"keypress",function(e){return u(e),i.call(this,e)})};var f={_keypress:d,connect:function(i,n,s,l,h){var c=arguments,u=[],f=0;u.push("string"==typeof c[0]?null:c[f++],c[f++]);var p=c[f+1];u.push("string"==typeof p||"function"==typeof p?c[f++]:null,c[f++]);for(var m=c.length;f<m;f++)u.push(c[f]);return function(i,n,s,l,h){if(l=a.hitch(s,l),!i||!i.addEventListener&&!i.attachEvent)return o.after(i||e.global,n,l,!0);"string"==typeof n&&"on"==n.substring(0,2)&&(n=n.substring(2));i||(i=e.global);if(!h)switch(n){case"keypress":n=d;break;case"mouseenter":n=r.enter;break;case"mouseleave":n=r.leave}return t(i,n,l,h)}.apply(this,u)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,o){return i.subscribe(e,a.hitch(t,o))},publish:function(e,t){return i.publish.apply(i,[e].concat(t))},connectPublisher:function(e,t,i){var o=function(){f.publish(e,arguments)};return i?f.connect(t,i,o):f.connect(t,o)},isCopyKey:function(e){return e[h]}};return f.unsubscribe=f.disconnect,s("extend-dojo")&&a.mixin(e,f),f}),define("dojo/dom-prop",["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,i,o,n,r,s,a){var d={},l=0,h=t._scopeName+"attrid";i.add("dom-textContent",function(e,t,i){return"textContent"in i}),e.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},e.get=function(t,o){t=n.byId(t);var r=o.toLowerCase(),s=e.names[r]||o;return"textContent"!=s||i("dom-textContent")?t[s]:function e(t){var i="",o=t.childNodes;for(var n,r=0;n=o[r];r++)8!=n.nodeType&&(1==n.nodeType?i+=e(n):i+=n.nodeValue);return i}(t)},e.set=function(t,c,u){t=n.byId(t);var f=arguments.length;if(2==f&&"string"!=typeof c){for(var p in c)e.set(t,p,c[p]);return t}var m=c.toLowerCase(),g=e.names[m]||c;if("style"==g&&"string"!=typeof u)return r.set(t,u),t;if("innerHTML"==g)return i("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(s.empty(t),t.appendChild(s.toDom(u,t.ownerDocument))):t[g]=u,t;if("textContent"==g&&!i("dom-textContent"))return s.empty(t),t.appendChild(t.ownerDocument.createTextNode(u)),t;if(o.isFunction(u)){var _=t[h];_||(_=l++,t[h]=_),d[_]||(d[_]={});var v=d[_][g];if(v)a.disconnect(v);else try{delete t[g]}catch(e){}return u?d[_][g]=a.connect(t,g,u):t[g]=null,t}return t[g]=u,t}}),define("dojo/dom-attr",["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,i,o,n,r){var s={innerHTML:1,textContent:1,className:1,htmlFor:t("ie"),value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function d(e,t){var i=e.getAttributeNode&&e.getAttributeNode(t);return!!i&&i.specified}e.has=function(e,t){var i=t.toLowerCase();return s[r.names[i]||t]||d(o.byId(e),a[i]||t)},e.get=function(e,t){e=o.byId(e);var n=t.toLowerCase(),l=r.names[n]||t,h=s[l],c=e[l];if(h&&void 0!==c)return c;if("textContent"==l)return r.get(e,l);if("href"!=l&&("boolean"==typeof c||i.isFunction(c)))return c;var u=a[n]||t;return d(e,u)?e.getAttribute(u):null},e.set=function(t,d,l){if(t=o.byId(t),2==arguments.length){for(var h in d)e.set(t,h,d[h]);return t}var c=d.toLowerCase(),u=r.names[c]||d,f=s[u];return"style"==u&&"string"!=typeof l?(n.set(t,l),t):f||"boolean"==typeof l||i.isFunction(l)?r.set(t,d,l):(t.setAttribute(a[c]||d,l),t)},e.remove=function(e,t){o.byId(e).removeAttribute(a[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){e=o.byId(e);var i=t.toLowerCase(),n=r.names[i]||t;if(n in e&&"href"!=n)return e[n];var s=a[i]||t;return d(e,s)?e.getAttribute(s):null}}),define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(e,t,i,o,n,r,s){var a={_isElementShown:function(e){var t=o.get(e);return"hidden"!=t.visibility&&"collapsed"!=t.visibility&&"none"!=t.display&&"hidden"!=i.get(e,"type")},hasDefaultTabStop:function(e){switch(e.nodeName.toLowerCase()){case"a":return i.has(e,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;case"iframe":var t;try{var o=e.contentDocument;if("designMode"in o&&"on"==o.designMode)return!0;t=o.body}catch(i){try{t=e.contentWindow.document.body}catch(e){return!1}}return t&&("true"==t.contentEditable||t.firstChild&&"true"==t.firstChild.contentEditable);default:return"true"==e.contentEditable}},effectiveTabIndex:function(e){return i.get(e,"disabled")?void 0:i.has(e,"tabIndex")?+i.get(e,"tabIndex"):a.hasDefaultTabStop(e)?0:void 0},isTabNavigable:function(e){return a.effectiveTabIndex(e)>=0},isFocusable:function(e){return a.effectiveTabIndex(e)>=-1},_getTabNavigable:function(e){var t,o,n,s,d,l,h={};function c(e){return e&&"input"==e.tagName.toLowerCase()&&e.type&&"radio"==e.type.toLowerCase()&&e.name&&e.name.toLowerCase()}var u=a._isElementShown,f=a.effectiveTabIndex,p=function(e){for(var a=e.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||r("ie")<=9&&"HTML"!==a.scopeName)&&u(a)){var m=f(a);if(m>=0){0==m?(t||(t=a),o=a):m>0&&((!n||m<s)&&(s=m,n=a),(!d||m>=l)&&(l=m,d=a));var g=c(a);i.get(a,"checked")&&g&&(h[g]=a)}"SELECT"!=a.nodeName.toUpperCase()&&p(a)}};function m(e){return h[c(e)]||e}return u(e)&&p(e),{first:m(t),last:m(o),lowest:m(n),highest:m(d)}},getFirstInTabbingOrder:function(e,i){var o=a._getTabNavigable(t.byId(e,i));return o.lowest?o.lowest:o.first},getLastInTabbingOrder:function(e,i){var o=a._getTabNavigable(t.byId(e,i));return o.last?o.last:o.highest}};return r("extend-dojo")&&n.mixin(s,a),a}),define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){var o=i.mixin,n=Object.prototype,r=n.toString,s=new Function,a=0,d="constructor";function l(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function h(e,t,i){var o,r,s,a,h,c,u,f,p,m=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=i),i=0,a=e.callee,(o=o||a.nom)||l("can't deduce a name to call inherited()",this.declaredClass),h=this.constructor._meta,s=h.bases,p=m.p,o!=d){if(m.c!==a&&(p=0,c=s[0],(h=c._meta).hidden[o]!==a)){(r=h.chains)&&"string"==typeof r[o]&&l("calling chained method with inherited: "+o,this.declaredClass);do{if(h=c._meta,u=c.prototype,h&&(u[o]===a&&u.hasOwnProperty(o)||h.hidden[o]===a))break}while(c=s[++p]);p=c?p:-1}if(c=s[++p])if(u=c.prototype,c._meta&&u.hasOwnProperty(o))i=u[o];else{f=n[o];do{if(u=c.prototype,(i=u[o])&&(c._meta?u.hasOwnProperty(o):i!==f))break}while(c=s[++p])}i=c&&i||n[o]}else{if(m.c!==a&&(p=0,(h=s[0]._meta)&&h.ctor!==a)){for((r=h.chains)&&"manual"===r.constructor||l("calling chained constructor with inherited",this.declaredClass);(c=s[++p])&&(!(h=c._meta)||h.ctor!==a););p=c?p:-1}for(;(c=s[++p])&&(h=c._meta,!(i=h?h.ctor:c)););i=c&&i}if(m.c=i,m.p=p,i)return!0===t?i:i.apply(this,t||e)}function c(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}var u=e.config.isDebug?function(e,t,i){var o=this.getInherited(e,t);if(o)return o.apply(this,i||t||e)}:h;function f(e){for(var t=this.constructor._meta.bases,i=0,o=t.length;i<o;++i)if(t[i]===e)return!0;return this instanceof e}function p(e,o){for(var n in o)n!=d&&o.hasOwnProperty(n)&&(e[n]=o[n]);if(t("bug-for-in-skips-shadowed"))for(var r=i._extraNames,s=r.length;s;)(n=r[--s])!=d&&o.hasOwnProperty(n)&&(e[n]=o[n])}function m(e){return y.safeMixin(this.prototype,e),this}function g(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},y([this].concat(e=e||[]),t)}function _(e,t,i){return function(){var o,n,r,s=0,a=1;for(i&&(s=t.length-1,a=-1);o=t[s];s+=a)n=o._meta,(r=(n?n.hidden:o.prototype)[e])&&r.apply(this,arguments)}}function v(e){s.prototype=e.prototype;var t=new s;return s.prototype=null,t}function b(e){var t=e.callee,i=v(t);return t.apply(i,e),i}function y(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var C,x,w,j,N,S,D,T=1,k=t;if("[object Array]"==r.call(t)?(S=function(e,t){for(var i,o,n,s,d,h,c,u,f=[],p=[{cls:0,refs:[]}],m={},g=1,_=e.length,v=0;v<_;++v){for((n=e[v])?"[object Function]"!=r.call(n)&&l("mixin #"+v+" is not a callable constructor.",t):l("mixin #"+v+" is unknown. Did you use dojo.require to pull it in?",t),o=n._meta?n._meta.bases:[n],s=0,i=o.length-1;i>=0;--i)(d=o[i].prototype).hasOwnProperty("declaredClass")||(d.declaredClass="uniqName_"+a++),c=d.declaredClass,m.hasOwnProperty(c)||(m[c]={count:0,refs:[],cls:o[i]},++g),h=m[c],s&&s!==h&&(h.refs.push(s),++s.count),s=h;++s.count,p[0].refs.push(s)}for(;p.length;){for(s=p.pop(),f.push(s.cls),--g;1==(u=s.refs).length;){if(!(s=u[0])||--s.count){s=0;break}f.push(s.cls),--g}if(s)for(v=0,_=u.length;v<_;++v)--(s=u[v]).count||p.push(s)}g&&l("can't build consistent linearization",t);return n=e[0],f[0]=n?n._meta&&n===f[f.length-n._meta.bases.length]?n._meta.bases.length:1:0,f}(t,e),w=S[0],T=S.length-w,t=S[T]):(S=[0],t?"[object Function]"==r.call(t)?(w=t._meta,S=S.concat(w?w.bases:t)):l("base class is not a callable constructor.",e):null!==t&&l("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(x=T-1;C=v(t),x;--x)((w=S[x])._meta?p:o)(C,w.prototype),(j=new Function).superclass=t,j.prototype=C,t=C.constructor=j;else C={};for(y.safeMixin(C,s),(w=s.constructor)!==n.constructor&&(w.nom=d,C.constructor=w),x=T-1;x;--x)(w=S[x]._meta)&&w.chains&&(D=o(D||{},w.chains));if(C["-chains-"]&&(D=o(D||{},C["-chains-"])),w=!D||!D.hasOwnProperty(d),S[0]=j=D&&"manual"===D.constructor?function(e){return function(){var t,i,o=arguments,n=0;if(!(this instanceof o.callee))return b(o);for(;t=e[n];++n)if(i=t._meta,t=i?i.ctor:t){t.apply(this,o);break}(t=this.postscript)&&t.apply(this,o)}}(S):1==S.length?function(e,t){return function(){var i,o=arguments,n=o,r=o[0];if(!(this instanceof o.callee))return b(o);t&&(r&&(i=r.preamble)&&(n=i.apply(this,n)||n),(i=this.preamble)&&i.apply(this,n)),e&&e.apply(this,o),(i=this.postscript)&&i.apply(this,o)}}(s.constructor,w):function(e,t){return function(){var i,o,n,r,s=arguments,a=s,d=s[0],l=e.length;if(!(this instanceof s.callee))return b(s);if(t&&(d&&d.preamble||this.preamble))for((r=new Array(e.length))[0]=s,o=0;(d=s[0])&&(i=d.preamble)&&(s=i.apply(this,s)||s),(i=(i=e[o].prototype).hasOwnProperty("preamble")&&i.preamble)&&(s=i.apply(this,s)||s),++o!=l;)r[o]=s;for(o=l-1;o>=0;--o)i=e[o],n=i._meta,(i=n?n.ctor:i)&&i.apply(this,r?r[o]:s);(i=this.postscript)&&i.apply(this,a)}}(S,w),j._meta={bases:S,hidden:s,chains:D,parents:k,ctor:s.constructor},j.superclass=t&&t.prototype,j.extend=m,j.createSubclass=g,j.prototype=C,C.constructor=j,C.getInherited=c,C.isInstanceOf=f,C.inherited=u,C.__inherited=h,e&&(C.declaredClass=e,i.setObject(e,j)),D)for(N in D)C[N]&&"string"==typeof D[N]&&N!=d&&((w=C[N]=_(N,S,"after"===D[N])).nom=N);return j}return e.safeMixin=y.safeMixin=function(e,o){var s,a;for(s in o)(a=o[s])===n[s]&&s in n||s==d||("[object Function]"==r.call(a)&&(a.nom=s),e[s]=a);if(t("bug-for-in-skips-shadowed"))for(var l=i._extraNames,h=l.length;h;)s=l[--h],(a=o[s])===n[s]&&s in n||s==d||("[object Function]"==r.call(a)&&(a.nom=s),e[s]=a);return e},e.declare=y,y}),define("dijit/registry",["dojo/_base/array","dojo/_base/window","./main"],function(e,t,i){var o={},n={},r={length:0,add:function(e){if(n[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered");n[e.id]=e,this.length++},remove:function(e){n[e]&&(delete n[e],this.length--)},byId:function(e){return"string"==typeof e?n[e]:e},byNode:function(e){return n[e.getAttribute("widgetId")]},toArray:function(){var e=[];for(var t in n)e.push(n[t]);return e},getUniqueId:function(e){var t;do{t=e+"_"+(e in o?++o[e]:o[e]=0)}while(n[t]);return"dijit"==i._scopeName?t:i._scopeName+"_"+t},findWidgets:function(e,t){var i=[];return function e(o){for(var r=o.firstChild;r;r=r.nextSibling)if(1==r.nodeType){var s=r.getAttribute("widgetId");if(s){var a=n[s];a&&i.push(a)}else r!==t&&e(r)}}(e),i},_destroyAll:function(){i._curFocus=null,i._prevFocus=null,i._activeStack=[],e.forEach(r.findWidgets(t.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})},getEnclosingWidget:function(e){for(;e;){var t=1==e.nodeType&&e.getAttribute("widgetId");if(t)return n[t];e=e.parentNode}return null},_hash:n};return i.registry=r,r}),define("dijit/WidgetSet",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(e,t,i,o){var n=t("dijit.WidgetSet",null,{constructor:function(){this._hash={},this.length=0},add:function(e){if(this._hash[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered");this._hash[e.id]=e,this.length++},remove:function(e){this._hash[e]&&(delete this._hash[e],this.length--)},forEach:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)e.call(t,this._hash[o],n++,this._hash);return this},filter:function(e,t){t=t||i.global;var o,r=new n,s=0;for(o in this._hash){var a=this._hash[o];e.call(t,a,s++,this._hash)&&r.add(a)}return r},byId:function(e){return this._hash[e]},byClass:function(e){var t,i,o=new n;for(t in this._hash)(i=this._hash[t]).declaredClass==e&&o.add(i);return o},toArray:function(){var e=[];for(var t in this._hash)e.push(this._hash[t]);return e},map:function(t,i){return e.map(this.toArray(),t,i)},every:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)if(!e.call(t,this._hash[o],n++,this._hash))return!1;return!0},some:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)if(e.call(t,this._hash[o],n++,this._hash))return!0;return!1}});return e.forEach(["forEach","filter","byClass","map","every","some"],function(e){o[e]=n.prototype[e]}),n}),define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(e,t,i){var o,n=/\s+/,r=[""];function s(e){if("string"==typeof e||e instanceof String){if(e&&!n.test(e))return r[0]=e,r;var i=e.split(n);return i.length&&!i[0]&&i.shift(),i.length&&!i[i.length-1]&&i.pop(),i}return e?t.filter(e,function(e){return e}):[]}var a={};return o={contains:function(e,t){return(" "+i.byId(e).className+" ").indexOf(" "+t+" ")>=0},add:function(e,t){e=i.byId(e),t=s(t);var o,n=e.className;o=(n=n?" "+n+" ":" ").length;for(var r,a=0,d=t.length;a<d;++a)(r=t[a])&&n.indexOf(" "+r+" ")<0&&(n+=r+" ");o<n.length&&(e.className=n.substr(1,n.length-2))},remove:function(t,o){var n;if(t=i.byId(t),void 0!==o){o=s(o),n=" "+t.className+" ";for(var r=0,a=o.length;r<a;++r)n=n.replace(" "+o[r]+" "," ");n=e.trim(n)}else n="";t.className!=n&&(t.className=n)},replace:function(e,t,n){e=i.byId(e),a.className=e.className,o.remove(a,n),o.add(a,t),e.className!==a.className&&(e.className=a.className)},toggle:function(e,t,n){if(e=i.byId(e),void 0===n)for(var r,a=0,d=(t=s(t)).length;a<d;++a)r=t[a],o[o.contains(e,r)?"remove":"add"](e,r);else o[n?"add":"remove"](e,t);return n}}}),define("dojo/domReady",["./has"],function(e){var t,i=function(){return this}(),o=document,n={loaded:1,complete:1},r="string"!=typeof o.readyState,s=!!n[o.readyState],a=[];function d(e){a.push(e),s&&l()}function l(){if(!t){for(t=!0;a.length;)try{a.shift()(o)}catch(e){console.error(e,"in domReady callback",e.stack)}t=!1,d._onQEmpty()}}if(d.load=function(e,t,i){d(i)},d._Q=a,d._onQEmpty=function(){},r&&(o.readyState="loading"),!s){var h=[],c=function(e){e=e||i.event,s||"readystatechange"==e.type&&!n[o.readyState]||(r&&(o.readyState="complete"),s=1,l())},u=function(e,t){e.addEventListener(t,c,!1),a.push(function(){e.removeEventListener(t,c,!1)})};if(!e("dom-addeventlistener")){u=function(e,t){t="on"+t,e.attachEvent(t,c),a.push(function(){e.detachEvent(t,c)})};var f=o.createElement("div");try{f.doScroll&&null===i.frameElement&&h.push(function(){try{return f.doScroll("left"),1}catch(e){}})}catch(e){}}if(u(o,"DOMContentLoaded"),u(i,"load"),"onreadystatechange"in o?u(o,"readystatechange"):r||h.push(function(){return n[o.readyState]}),h.length){var p=function(){if(!s){for(var e=h.length;e--;)if(h[e]())return void c("poller");setTimeout(p,30)}};p()}}return d}),define("dojo/errors/create",["../_base/lang"],function(e){return function(t,i,o,n){o=o||Error;var r=function(e){if(o===Error){Error.captureStackTrace&&Error.captureStackTrace(this,r);var t,n=Error.call(this,e);for(t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this.message=e,this.stack=n.stack}else o.apply(this,arguments);i&&i.apply(this,arguments)};return r.prototype=e.delegate(o.prototype,n),r.prototype.name=t,r.prototype.constructor=r,r}}),define("dojo/errors/CancelError",["./create"],function(e){return e("CancelError",null,null,{dojoType:"cancel"})}),define("dojo/promise/Promise",["../_base/lang"],function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend(function(){},{then:function(e,i,o){t()},cancel:function(e,i){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}),define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(e,t,i,o,n){"use strict";var r="This deferred has already been fulfilled.",s=Object.freeze||function(){},a=function(t,i,o,n,r){e("config-deferredInstrumentation")&&2===i&&c.instrumentRejected&&0===t.length&&c.instrumentRejected(o,!1,n,r);for(var s=0;s<t.length;s++)d(t[s],i,o,n)},d=function(t,i,o,n){var r=t[i],s=t.deferred;if(r)try{var a=r(o);if(0===i)void 0!==a&&h(s,i,a);else{if(a&&"function"==typeof a.then)return t.cancel=a.cancel,void a.then(l(s,1),l(s,2),l(s,0));h(s,1,a)}}catch(e){h(s,2,e)}else h(s,i,o);e("config-deferredInstrumentation")&&2===i&&c.instrumentRejected&&c.instrumentRejected(o,!!r,n,s.promise)},l=function(e,t){return function(i){h(e,t,i)}},h=function(e,t,i){if(!e.isCanceled())switch(t){case 0:e.progress(i);break;case 1:e.resolve(i);break;case 2:e.reject(i)}},c=function(t){var n,l,h,u=this.promise=new o,f=this,p=!1,m=[];e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(f,c),Error.captureStackTrace(u,c)),this.isResolved=u.isResolved=function(){return 1===n},this.isRejected=u.isRejected=function(){return 2===n},this.isFulfilled=u.isFulfilled=function(){return!!n},this.isCanceled=u.isCanceled=function(){return p},this.progress=function(e,t){if(n){if(!0===t)throw new Error(r);return u}return a(m,0,e,null,f),u},this.resolve=function(e,t){if(n){if(!0===t)throw new Error(r);return u}return a(m,n=1,l=e,null,f),m=null,u};var g=this.reject=function(t,i){if(n){if(!0===i)throw new Error(r);return u}return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(h={},g),a(m,n=2,l=t,h,f),m=null,u};this.then=u.then=function(e,t,i){var o=[i,e,t];return o.cancel=u.cancel,o.deferred=new c(function(e){return o.cancel&&o.cancel(e)}),n&&!m?d(o,n,l,h):m.push(o),o.deferred.promise},this.cancel=u.cancel=function(e,o){if(n){if(!0===o)throw new Error(r)}else{if(t){var s=t(e);e=void 0===s?e:s}if(p=!0,!n)return void 0===e&&(e=new i),g(e),e;if(2===n&&l===e)return e}},s(u)};return c.prototype.toString=function(){return"[object Deferred]"},n&&n(c),c}),define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(i,o,n,r){var s=i&&"function"==typeof i.then,a=s&&i instanceof t;if(!s)return arguments.length>1?o?o(i):i:(new e).resolve(i);if(!a){var d=new e(i.cancel);i.then(d.resolve,d.reject,d.progress),i=d.promise}return o||n||r?i.then(o,n,r):i}}),define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(e,t,i,o){return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames;return t[e]?t[e]:t[e]={s:"_"+e+"Setter",g:"_"+e+"Getter"}},postscript:function(e){e&&this.set(e)},_get:function(e,t){return"function"==typeof this[t.g]?this[t.g]():this[e]},get:function(e){return this._get(e,this._getAttrNames(e))},set:function(e,t){if("object"==typeof e){for(var i in e)e.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,e[i]);return this}var n,r=this._getAttrNames(e),s=this._get(e,r),a=this[r.s];if("function"==typeof a?n=a.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=t,this._watchCallbacks){var d=this;o(n,function(){d._watchCallbacks(e,s,t)})}return this},_changeAttrValue:function(e,t){var i=this.get(e);return this[e]=t,this._watchCallbacks&&this._watchCallbacks(e,i,t),this},watch:function(e,t){var o=this._watchCallbacks;if(!o){var n=this;o=this._watchCallbacks=function(e,t,i,r){var s=function(o){if(o)for(var r=0,s=(o=o.slice()).length;r<s;r++)o[r].call(n,e,t,i)};s(o["_"+e]),r||s(o["*"])}}t||"function"!=typeof e?e="_"+e:(t=e,e="*");var r=o[e];"object"!=typeof r&&(r=o[e]=[]),r.push(t);var s={};return s.unwatch=s.remove=function(){var e=i.indexOf(r,t);e>-1&&r.splice(e,1)},s}})}),define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(e,t,i,o,n,r,s){t.add("rtl-adjust-position-for-verticalScrollBar",function(e,t){var o=i.body(t),r=s.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},o,"last"),a=s.create("div",{style:{overflow:"hidden",direction:"ltr"}},r,"last"),d=0!=n.position(a).x;return r.removeChild(a),o.removeChild(r),d}),t.add("position-fixed-support",function(e,t){var o=i.body(t),r=s.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},o,"last"),a=s.create("span",{style:{position:"fixed",left:"0",top:"0"}},r,"last"),d=n.position(a).x!=n.position(r).x;return r.removeChild(a),o.removeChild(r),d});var a={getBox:function(e){var o,r,s="BackCompat"==(e=e||i.doc).compatMode?i.body(e):e.documentElement,d=n.docScroll(e);if(t("touch")){var l=a.get(e);o=l.innerWidth||s.clientWidth,r=l.innerHeight||s.clientHeight}else o=s.clientWidth,r=s.clientHeight;return{l:d.x,t:d.y,w:o,h:r}},get:function(e){if(t("ie")&&a!==document.parentWindow){e.parentWindow.execScript("document._parentWindow = window;","Javascript");var i=e._parentWindow;return e._parentWindow=null,i}return e.parentWindow||e.defaultView},scrollIntoView:function(e,s){try{var a=(e=o.byId(e)).ownerDocument||i.doc,d=i.body(a),l=a.documentElement||d.parentNode,h=t("ie"),c=t("webkit");if(e==d||e==l)return;if(!(t("mozilla")||h||c||t("opera")||t("trident"))&&"scrollIntoView"in e)return void e.scrollIntoView(!1);var u="BackCompat"==a.compatMode,f=Math.min(d.clientWidth||l.clientWidth,l.clientWidth||d.clientWidth),p=Math.min(d.clientHeight||l.clientHeight,l.clientHeight||d.clientHeight),m=c||u?d:l,g=s||n.position(e),_=e.parentNode,v=function(e){return!(h<=6||7==h&&u)&&(t("position-fixed-support")&&"fixed"==r.get(e,"position").toLowerCase())},b=this,y=function(e,t,i){"BODY"==e.tagName||"HTML"==e.tagName?b.get(e.ownerDocument).scrollBy(t,i):(t&&(e.scrollLeft+=t),i&&(e.scrollTop+=i))};if(v(e))return;for(;_;){_==d&&(_=m);var C=n.position(_),x=v(_),w="rtl"==r.getComputedStyle(_).direction.toLowerCase();if(_==m)C.w=f,C.h=p,m==l&&(h||t("trident"))&&w&&(C.x+=m.offsetWidth-C.w),(C.x<0||!h||h>=9||t("trident"))&&(C.x=0),(C.y<0||!h||h>=9||t("trident"))&&(C.y=0);else{var j=n.getPadBorderExtents(_);C.w-=j.w,C.h-=j.h,C.x+=j.l,C.y+=j.t;var N=_.clientWidth,S=C.w-N;N>0&&S>0&&(w&&t("rtl-adjust-position-for-verticalScrollBar")&&(C.x+=S),C.w=N),N=_.clientHeight,S=C.h-N,N>0&&S>0&&(C.h=N)}x&&(C.y<0&&(C.h+=C.y,C.y=0),C.x<0&&(C.w+=C.x,C.x=0),C.y+C.h>p&&(C.h=p-C.y),C.x+C.w>f&&(C.w=f-C.x));var D,T,k=g.x-C.x,A=g.y-C.y,E=k+g.w-C.w,M=A+g.h-C.h;E*k>0&&(_.scrollLeft||_==m||_.scrollWidth>_.offsetHeight)&&(D=Math[k<0?"max":"min"](k,E),w&&(8==h&&!u||h>=9||t("trident"))&&(D=-D),T=_.scrollLeft,y(_,D,0),D=_.scrollLeft-T,g.x-=D),M*A>0&&(_.scrollTop||_==m||_.scrollHeight>_.offsetHeight)&&(D=Math.ceil(Math[A<0?"max":"min"](A,M)),T=_.scrollTop,y(_,0,D),D=_.scrollTop-T,g.y-=D),_=_!=m&&!x&&_.parentNode}}catch(t){console.error("scrollIntoView: "+t),e.scrollIntoView(!1)}}};return t("extend-dojo")&&e.setObject("dojo.window",a),a}),define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g){var _,v,b=t([c,s],{curNode:null,activeStack:[],constructor:function(){var t=a.hitch(this,function(e){i.isDescendant(this.curNode,e)&&this.set("curNode",null),i.isDescendant(this.prevNode,e)&&this.set("prevNode",null)});e.before(r,"empty",t),e.before(r,"destroy",t)},registerIframe:function(e){return this.registerWin(e.contentWindow,e)},registerWin:function(e,t){var i=this,o=e.document&&e.document.body;if(o){var n=h("pointer-events")?"pointerdown":h("MSPointer")?"MSPointerDown":h("touch-events")?"mousedown, touchstart":"mousedown",r=d(e.document,n,function(e){e&&e.target&&null==e.target.parentNode||i._onTouchNode(t||e.target,"mouse")}),s=d(o,"focusin",function(e){if(e.target.tagName){var o=e.target.tagName.toLowerCase();"#document"!=o&&"body"!=o&&(p.isFocusable(e.target)?i._onFocusNode(t||e.target):i._onTouchNode(t||e.target))}}),a=d(o,"focusout",function(e){i._onBlurNode(t||e.target)});return{remove:function(){r.remove(),s.remove(),a.remove(),r=s=a=null,o=null}}}},_onBlurNode:function(e){var t=(new Date).getTime();t<_+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(a.hitch(this,function(){this.set("prevNode",this.curNode),this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),t<v+100||(this._clearActiveWidgetsTimer=setTimeout(a.hitch(this,function(){delete this._clearActiveWidgetsTimer,this._setStack([])}),0)))},_onTouchNode:function(e,t){v=(new Date).getTime(),this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer),n.contains(e,"dijitPopup")&&(e=e.firstChild);var i=[];try{for(;e;){var r=o.get(e,"dijitPopupParent");if(r)e=m.byId(r).domNode;else if(e.tagName&&"body"==e.tagName.toLowerCase()){if(e===u.body())break;e=f.get(e.ownerDocument).frameElement}else{var s=e.getAttribute&&e.getAttribute("widgetId"),a=s&&m.byId(s);!a||"mouse"==t&&a.get("disabled")||i.unshift(s),e=e.parentNode}}}catch(e){}this._setStack(i,t)},_onFocusNode:function(e){e&&9!=e.nodeType&&(_=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(e),e!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",e)))},_setStack:function(e,t){var i=this.activeStack,o=i.length-1,n=e.length-1;if(e[n]!=i[o]){var r,s;for(this.set("activeStack",e),s=o;s>=0&&i[s]!=e[s];s--)(r=m.byId(i[s]))&&(r._hasBeenBlurred=!0,r.set("focused",!1),r._focusManager==this&&r._onBlur(t),this.emit("widget-blur",r,t));for(s++;s<=n;s++)(r=m.byId(e[s]))&&(r.set("focused",!0),r._focusManager==this&&r._onFocus(t),this.emit("widget-focus",r,t))}},focus:function(e){if(e)try{e.focus()}catch(e){}}}),y=new b;for(var C in l(function(){var e=y.registerWin(f.get(document));h("ie")&&d(window,"unload",function(){e&&(e.remove(),e=null)})}),g.focus=function(e){y.focus(e)},y)/^_/.test(C)||(g.focus[C]="function"==typeof y[C]?a.hitch(y,C):y[C]);return y.watch(function(e,t,i){g.focus[e]=i}),y}),define("dijit/selection",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(e,t,i,o,n,r){var s=function(s){var a=s.document;this.getType=function(){if(a.getSelection){var e,t="text";try{e=s.getSelection()}catch(e){}if(e&&1==e.rangeCount){var i=e.getRangeAt(0);i.startContainer==i.endContainer&&i.endOffset-i.startOffset==1&&3!=i.startContainer.nodeType&&(t="control")}return t}return a.selection.type.toLowerCase()},this.getSelectedText=function(){if(a.getSelection){var e=s.getSelection();return e?e.toString():""}return"control"==this.getType()?null:a.selection.createRange().text},this.getSelectedHtml=function(){if(a.getSelection){var e=s.getSelection();if(e&&e.rangeCount){var t,i="";for(t=0;t<e.rangeCount;t++){var o=e.getRangeAt(t).cloneContents(),n=a.createElement("div");n.appendChild(o),i+=n.innerHTML}return i}return null}return"control"==this.getType()?null:a.selection.createRange().htmlText},this.getSelectedElement=function(){if("control"==this.getType()){if(a.getSelection){var e=s.getSelection();return e.anchorNode.childNodes[e.anchorOffset]}var t=a.selection.createRange();if(t&&t.item)return a.selection.createRange().item(0)}return null},this.getParentElement=function(){if("control"==this.getType()){var e=this.getSelectedElement();if(e)return e.parentNode}else{if(!a.getSelection){var t=a.selection.createRange();return t.collapse(!0),t.parentElement()}var i=a.getSelection();if(i){for(var o=i.anchorNode;o&&1!=o.nodeType;)o=o.parentNode;return o}}return null},this.hasAncestorElement=function(e){return null!=this.getAncestorElement.apply(this,arguments)},this.getAncestorElement=function(e){var t=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(t,arguments)},this.isTag=function(e,t){if(e&&e.tagName)for(var i=e.tagName.toLowerCase(),o=0;o<t.length;o++){var n=String(t[o]).toLowerCase();if(i==n)return n}return""},this.getParentOfType=function(e,t){for(;e;){if(this.isTag(e,t).length)return e;e=e.parentNode}return null},this.collapse=function(e){if(a.getSelection){var t=s.getSelection();t.removeAllRanges?e?t.collapseToStart():t.collapseToEnd():t.collapse(e)}else{var i=a.selection.createRange();i.collapse(e),i.select()}},this.remove=function(){var e=a.selection;return a.getSelection?((e=s.getSelection()).deleteFromDocument(),e):("none"!=e.type.toLowerCase()&&e.clear(),e)},this.selectElementChildren=function(e,i){var n;if(e=t.byId(e),a.getSelection){var r=s.getSelection();o("opera")?((n=r.rangeCount?r.getRangeAt(0):a.createRange()).setStart(e,0),n.setEnd(e,3==e.nodeType?e.length:e.childNodes.length),r.addRange(n)):r.selectAllChildren(e)}else if((n=e.ownerDocument.body.createTextRange()).moveToElementText(e),!i)try{n.select()}catch(e){}},this.selectElement=function(e,i){var r;if(e=t.byId(e),a.getSelection){var s=a.getSelection();r=a.createRange(),s.removeAllRanges&&(o("opera")&&s.getRangeAt(0)&&(r=s.getRangeAt(0)),r.selectNode(e),s.removeAllRanges(),s.addRange(r))}else try{var d=e.tagName?e.tagName.toLowerCase():"";(r="img"===d||"table"===d?n.body(a).createControlRange():n.body(a).createRange()).addElement(e),i||r.select()}catch(t){this.selectElementChildren(e,i)}},this.inSelection=function(e){var t,i;if(e)if(a.getSelection){var o=s.getSelection();if(o&&o.rangeCount>0&&(i=o.getRangeAt(0)),i&&i.compareBoundaryPoints&&a.createRange)try{if((t=a.createRange()).setStart(e,0),1===i.compareBoundaryPoints(i.START_TO_END,t))return!0}catch(e){}}else{i=a.selection.createRange();try{(t=e.ownerDocument.body.createTextRange()).moveToElementText(e)}catch(e){}if(i&&t&&1===i.compareEndPoints("EndToStart",t))return!0}return!1},this.getBookmark=function(){var e,t,i,o=a.selection,n=r.curNode;if(a.getSelection){if(o=s.getSelection())if(o.isCollapsed){if((i=n?n.tagName:"")&&("textarea"==(i=i.toLowerCase())||"input"==i&&(!n.type||"text"==n.type.toLowerCase())))return{isCollapsed:(o={start:n.selectionStart,end:n.selectionEnd,node:n,pRange:!0}).end<=o.start,mark:o};e={isCollapsed:!0},o.rangeCount&&(e.mark=o.getRangeAt(0).cloneRange())}else t=o.getRangeAt(0),e={isCollapsed:!1,mark:t.cloneRange()}}else if(o){if(i=(i=n?n.tagName:"").toLowerCase(),n&&i&&("button"==i||"textarea"==i||"input"==i))return o.type&&"none"==o.type.toLowerCase()?{isCollapsed:!0,mark:null}:{isCollapsed:!(t=o.createRange()).text||!t.text.length,mark:{range:t,pRange:!0}};e={};try{t=o.createRange(),e.isCollapsed=!("Text"==o.type?t.htmlText.length:t.length)}catch(t){return e.isCollapsed=!0,e}if("CONTROL"==o.type.toUpperCase())if(t.length){e.mark=[];for(var d=0,l=t.length;d<l;)e.mark.push(t.item(d++))}else e.isCollapsed=!0,e.mark=null;else e.mark=t.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return e},this.moveToBookmark=function(t){var o=t.mark;if(o)if(a.getSelection){var n=s.getSelection();if(n&&n.removeAllRanges)if(o.pRange){var r=o.node;r.selectionStart=o.start,r.selectionEnd=o.end}else n.removeAllRanges(),n.addRange(o);else console.warn("No idea how to restore selection for this browser!")}else if(a.selection&&o){var d;o.pRange?d=o.range:i.isArray(o)?(d=a.body.createControlRange(),e.forEach(o,function(e){d.addElement(e)})):(d=a.body.createTextRange()).moveToBookmark(o),d.select()}},this.isCollapsed=function(){return this.getBookmark().isCollapsed}},a=new s(window);return a.SelectionManager=s,a}),define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(e,t,i,o,n,r,s,a){var d={_curFocus:null,_prevFocus:null,isCollapsed:function(){return a.getBookmark().isCollapsed},getBookmark:function(){var e=n.global==window?s:new s.SelectionManager(n.global);return e.getBookmark()},moveToBookmark:function(e){var t=n.global==window?s:new s.SelectionManager(n.global);return t.moveToBookmark(e)},getFocus:function(e,i){var o=!r.curNode||e&&t.isDescendant(r.curNode,e.domNode)?a._prevFocus:r.curNode;return{node:o,bookmark:o&&o==r.curNode&&n.withGlobal(i||n.global,a.getBookmark),openedForWindow:i}},_activeStack:[],registerIframe:function(e){return r.registerIframe(e)},unregisterIframe:function(e){e&&e.remove()},registerWin:function(e,t){return r.registerWin(e,t)},unregisterWin:function(e){e&&e.remove()}};return r.focus=function(e){if(e){var t="node"in e?e.node:e,i=e.bookmark,o=e.openedForWindow,s=!!i&&i.isCollapsed;if(t){var d="iframe"==t.tagName.toLowerCase()?t.contentWindow:t;if(d&&d.focus)try{d.focus()}catch(e){}r._onFocusNode(t)}if(i&&n.withGlobal(o||n.global,a.isCollapsed)&&!s){o&&o.focus();try{n.withGlobal(o||n.global,a.moveToBookmark,null,[i])}catch(e){}}}},r.watch("curNode",function(e,t,i){a._curFocus=i,a._prevFocus=t,i&&o.publish("focusNode",i)}),r.watch("activeStack",function(e,t,i){a._activeStack=i}),r.on("widget-blur",function(e,t){o.publish("widgetBlur",e,t)}),r.on("widget-focus",function(e,t){o.publish("widgetFocus",e,t)}),i.mixin(a,d),a}),define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,t,i,o,n){var r={};return e.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(e){r[e]=o[e]}),i.mixin(r,{defaultDuration:t.defaultDuration||200}),i.mixin(n,r),n}),define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(e,t,i,o,n){var r,s=new e;return i(function(){var e=n.getBox();if(s._rlh=t(window,"resize",function(){var t=n.getBox();e.h==t.h&&e.w==t.w||(e=t,s.emit("resize"))}),8==o("ie")){var i=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=i&&(i=screen.deviceXDPI,s.emit("resize"))},500)}o("ios")&&(t(document,"focusin",function(e){r=e.target}),t(document,"focusout",function(e){r=null}))}),s.getEffectiveBox=function(e){var t=n.getBox(e),i=r&&r.tagName&&r.tagName.toLowerCase();if(o("ios")&&r&&!r.readOnly&&("textarea"==i||"input"==i&&/^(color|email|number|password|search|tel|text|url)$/.test(r.type))){t.h*=0==orientation||180==orientation?.66:.4;var s=r.getBoundingClientRect();t.h=Math.max(t.h,s.top+s.height)}return t},s}),define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,o,n,r,s){function a(o,s,a,d){var l=r.getEffectiveBox(o.ownerDocument);o.parentNode&&"body"==String(o.parentNode.tagName).toLowerCase()||n.body(o.ownerDocument).appendChild(o);var h=null;e.some(s,function(e){var i=e.corner,n=e.pos,r=0,s={w:{L:l.l+l.w-n.x,R:n.x-l.l,M:l.w}[i.charAt(1)],h:{T:l.t+l.h-n.y,B:n.y-l.t,M:l.h}[i.charAt(0)]},c=o.style;if(c.left=c.right="auto",a){var u=a(o,e.aroundCorner,i,s,d);r=void 0===u?0:u}var f=o.style,p=f.display,m=f.visibility;"none"==f.display&&(f.visibility="hidden",f.display="");var g=t.position(o);f.display=p,f.visibility=m;var _={L:n.x,R:n.x-g.w,M:Math.max(l.l,Math.min(l.l+l.w,n.x+(g.w>>1))-g.w)}[i.charAt(1)],v={T:n.y,B:n.y-g.h,M:Math.max(l.t,Math.min(l.t+l.h,n.y+(g.h>>1))-g.h)}[i.charAt(0)],b=Math.max(l.l,_),y=Math.max(l.t,v),C=Math.min(l.l+l.w,_+g.w),x=Math.min(l.t+l.h,v+g.h),w=C-b,j=x-y;return r+=g.w-w+(g.h-j),(null==h||r<h.overflow)&&(h={corner:i,aroundCorner:e.aroundCorner,x:b,y:y,w:w,h:j,overflow:r,spaceAvailable:s}),!r}),h.overflow&&a&&a(o,h.aroundCorner,h.corner,h.spaceAvailable,d);var c=h.y,u=h.x,f=n.body(o.ownerDocument);/relative|absolute/.test(i.get(f,"position"))&&(c-=i.get(f,"marginTop"),u-=i.get(f,"marginLeft"));var p=o.style;return p.top=c+"px",p.left=u+"px",p.right="auto",h}var d={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},l={at:function(t,i,o,n,r){var s=e.map(o,function(e){var t={corner:e,aroundCorner:d[e],pos:{x:i.x,y:i.y}};return n&&(t.pos.x+="L"==e.charAt(1)?n.x:-n.x,t.pos.y+="T"==e.charAt(0)?n.y:-n.y),t});return a(t,s,r)},around:function(n,r,s,d,l){var h;if("string"==typeof r||"offsetWidth"in r||"ownerSVGElement"in r){if(h=t.position(r,!0),/^(above|below)/.test(s[0])){var c=t.getBorderExtents(r),u=r.firstChild?t.getBorderExtents(r.firstChild):{t:0,l:0,b:0,r:0},f=t.getBorderExtents(n),p=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0};h.y+=Math.min(c.t+u.t,f.t+p.t),h.h-=Math.min(c.t+u.t,f.t+p.t)+Math.min(c.b+u.b,f.b+p.b)}}else h=r;if(r.parentNode)for(var m="absolute"==i.getComputedStyle(r).position,g=r.parentNode;g&&1==g.nodeType&&"BODY"!=g.nodeName;){var _=t.position(g,!0),v=i.getComputedStyle(g);if(/relative|absolute/.test(v.position)&&(m=!1),!m&&/hidden|auto|scroll/.test(v.overflow)){var b=Math.min(h.y+h.h,_.y+_.h),y=Math.min(h.x+h.w,_.x+_.w);h.x=Math.max(h.x,_.x),h.y=Math.max(h.y,_.y),h.h=b-h.y,h.w=y-h.x}"absolute"==v.position&&(m=!0),g=g.parentNode}var C=h.x,x=h.y,w="w"in h?h.w:h.w=h.width,j="h"in h?h.h:(o.deprecated("place.around: dijit/place.__Rectangle: { x:"+C+", y:"+x+", height:"+h.height+", width:"+w+" } has been deprecated.  Please use { x:"+C+", y:"+x+", h:"+h.height+", w:"+w+" }","","2.0"),h.h=h.height),N=[];function S(e,t){N.push({aroundCorner:e,corner:t,pos:{x:{L:C,R:C+w,M:C+(w>>1)}[e.charAt(1)],y:{T:x,B:x+j,M:x+(j>>1)}[e.charAt(0)]}})}e.forEach(s,function(e){var t=d;switch(e){case"above-centered":S("TM","BM");break;case"below-centered":S("BM","TM");break;case"after-centered":t=!t;case"before-centered":S(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":S(t?"TL":"TR",t?"TR":"TL"),S(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":S(t?"BL":"BR",t?"TL":"TR"),S(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":S(t?"TL":"TR",t?"BL":"BR"),S(t?"TR":"TL",t?"BR":"BL");break;default:S(e.aroundCorner,e.corner)}});var D=a(n,N,l,{w:w,h:j});return D.aroundNodePos=h,D}};return s.place=l}),define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(e,t,i,o,n){var r={getViewport:function(){return i.getBox()}};return r.placeOnScreen=o.at,r.placeOnScreenAroundElement=function(e,i,n,r){var s;if(t.isArray(n))s=n;else for(var a in s=[],n)s.push({aroundCorner:a,corner:n[a]});return o.around(e,i,s,!0,r)},r.placeOnScreenAroundNode=r.placeOnScreenAroundElement,r.placeOnScreenAroundRectangle=r.placeOnScreenAroundElement,r.getPopupAroundAlignment=function(t,i){var o={};return e.forEach(t,function(e){var t=i;switch(e){case"after":o[i?"BR":"BL"]=i?"BL":"BR";break;case"before":o[i?"BL":"BR"]=i?"BR":"BL";break;case"below-alt":t=!t;case"below":o[t?"BL":"BR"]=t?"TL":"TR",o[t?"BR":"BL"]=t?"TR":"TL";break;case"above-alt":t=!t;case"above":default:o[t?"TL":"TR"]=t?"BL":"BR",o[t?"TR":"TL"]=t?"BR":"BL"}}),o},t.mixin(n,r),n}),define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(e,t,i,o,n,r,s,a){a.add("config-bgIframe",a("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||a("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var t=[];this.pop=function(){var r;if(t.length)(r=t.pop()).style.display="";else{if(a("ie")<9){var s=i.dojoBlankHtmlUrl||e.toUrl("dojo/resources/blank.html")||'javascript:""',d="<iframe src='"+s+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";r=document.createElement(d)}else(r=o.create("iframe")).src='javascript:""',r.className="dijitBackgroundIframe",r.setAttribute("role","presentation"),n.set(r,"opacity",.1);r.tabIndex=-1}return r},this.push=function(e){e.style.display="none",t.push(e)}};return t.BackgroundIframe=function(e){if(!e.id)throw new Error("no id");if(a("config-bgIframe")){var t=this.iframe=d.pop();e.appendChild(t),a("ie")<7||a("quirks")?(this.resize(e),this._conn=s(e,"resize",r.hitch(this,"resize",e))):n.set(t,{width:"100%",height:"100%"})}},r.extend(t.BackgroundIframe,{resize:function(e){this.iframe&&n.set(this.iframe,{width:e.offsetWidth+"px",height:e.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null),this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}}),t.BackgroundIframe}),define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){function g(){this._popupWrapper&&(r.destroy(this._popupWrapper),delete this._popupWrapper)}var _=i(null,{_stack:[],_beginZIndex:1e3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var e=this._firstAroundPosition,t=s.position(this._firstAroundNode,!0),i=t.x-e.x,o=t.y-e.y;if(i||o){this._firstAroundPosition=t;for(var n=0;n<this._stack.length;n++){var r=this._stack[n].wrapper.style;r.top=parseFloat(r.top)+o+"px","auto"==r.right?r.left=parseFloat(r.left)+i+"px":r.right=parseFloat(r.right)-i+"px"}}this._aroundMoveListener=setTimeout(h.hitch(this,"_repositionAll"),i||o?10:50)}},_createWrapper:function(e){var i=e._popupWrapper,o=e.domNode;if(!i){(i=r.create("div",{class:"dijitPopup",style:{display:"none"},role:"region","aria-label":e["aria-label"]||e.label||e.name||e.id},e.ownerDocumentBody)).appendChild(o);var n=o.style;n.display="",n.visibility="",n.position="",n.top="0px",e._popupWrapper=i,t.after(e,"destroy",g,!0),"ontouchend"in document&&c(i,"touchend",function(e){/^(input|button|textarea)$/i.test(e.target.tagName)||e.preventDefault()})}return i},moveOffScreen:function(e){var t=this._createWrapper(e),i=s.isBodyLtr(e.ownerDocument),o={visibility:"hidden",top:"-9999px",display:""};return o[i?"left":"right"]="-9999px",o[i?"right":"left"]="auto",a.set(t,o),t},hide:function(e){var t=this._createWrapper(e);a.set(t,{display:"none",height:"auto",overflow:"visible",border:""});var i=e.domNode;"_originalStyle"in i&&(i.style.cssText=i._originalStyle)},getTopPopup:function(){for(var e=this._stack,t=e.length-1;t>0&&e[t].parent===e[t-1].widget;t--);return e[t]},open:function(e){for(var t=this._stack,i=e.popup,r=i.domNode,m=e.orient||["below","below-alt","above","above-alt"],g=e.parent?e.parent.isLeftToRight():s.isBodyLtr(i.ownerDocument),_=e.around,v=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;t.length&&(!e.parent||!o.isDescendant(e.parent.domNode,t[t.length-1].widget.domNode));)this.close(t[t.length-1].widget);var b=this.moveOffScreen(i);i.startup&&!i._started&&i.startup();var y,C=s.position(r);if("maxHeight"in e&&-1!=e.maxHeight)y=e.maxHeight||1/0;else{var x=p.getEffectiveBox(this.ownerDocument),w=_?s.position(_,!1):{y:e.y-(e.padding||0),h:2*(e.padding||0)};y=Math.floor(Math.max(w.y,x.h-(w.y+w.h)))}if(C.h>y){var j=a.getComputedStyle(r),N=j.borderLeftWidth+" "+j.borderLeftStyle+" "+j.borderLeftColor;a.set(b,{overflowY:"scroll",height:y+"px",border:N}),r._originalStyle=r.style.cssText,r.style.border="none"}n.set(b,{id:v,style:{zIndex:this._beginZIndex+t.length},class:"dijitPopup "+(i.baseClass||i.class||"").split(" ")[0]+"Popup",dijitPopupParent:e.parent?e.parent.id:""}),0==t.length&&_&&(this._firstAroundNode=_,this._firstAroundPosition=s.position(_,!0),this._aroundMoveListener=setTimeout(h.hitch(this,"_repositionAll"),50)),d("config-bgIframe")&&!i.bgIframe&&(i.bgIframe=new f(b));var S=i.orient?h.hitch(i,"orient"):null,D=_?u.around(b,_,m,g,S):u.at(b,e,"R"==m?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding,S);b.style.visibility="visible",r.style.visibility="visible";var T=[];return T.push(c(b,"keydown",h.hitch(this,function(t){if(t.keyCode==l.ESCAPE&&e.onCancel)t.stopPropagation(),t.preventDefault(),e.onCancel();else if(t.keyCode==l.TAB){t.stopPropagation(),t.preventDefault();var i=this.getTopPopup();i&&i.onCancel&&i.onCancel()}}))),i.onCancel&&e.onCancel&&T.push(i.on("cancel",e.onCancel)),T.push(i.on(i.onExecute?"execute":"change",h.hitch(this,function(){var e=this.getTopPopup();e&&e.onExecute&&e.onExecute()}))),t.push({widget:i,wrapper:b,parent:e.parent,onExecute:e.onExecute,onCancel:e.onCancel,onClose:e.onClose,handlers:T}),i.onOpen&&i.onOpen(D),D},close:function(t){for(var i=this._stack;t&&e.some(i,function(e){return e.widget==t})||!t&&i.length;){var o,n=i.pop(),r=n.widget,s=n.onClose;for(r.bgIframe&&(r.bgIframe.destroy(),delete r.bgIframe),r.onClose&&r.onClose();o=n.handlers.pop();)o.remove();r&&r.domNode&&this.hide(r),s&&s()}0==i.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return m.popup=new _}),define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(e,t,i){var o=i._createWrapper;i._createWrapper=function(i){return i.declaredClass||(i={_popupWrapper:i.parentNode&&e.contains(i.parentNode,"dijitPopup")?i.parentNode:null,domNode:i,destroy:function(){},ownerDocument:i.ownerDocument,ownerDocumentBody:t.body(i.ownerDocument)}),o.call(this,i)};var n=i.open;return i.open=function(e){if(e.orient&&"string"!=typeof e.orient&&!("length"in e.orient)){var t=[];for(var i in e.orient)t.push({aroundCorner:i,corner:e.orient[i]});e.orient=t}return n.call(this,e)},i}),define("dijit/_base/scroll",["dojo/window","../main"],function(e,t){t.scrollIntoView=function(t,i){e.scrollIntoView(t,i)}}),define("dojo/uacss",["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(e,t,i,o,n){var r=n.doc.documentElement,s=o("ie"),a=o("opera"),d=Math.floor,l=o("ff"),h=e.boxModel.replace(/-/,""),c={dj_quirks:o("quirks"),dj_opera:a,dj_khtml:o("khtml"),dj_webkit:o("webkit"),dj_safari:o("safari"),dj_chrome:o("chrome"),dj_gecko:o("mozilla"),dj_ios:o("ios"),dj_android:o("android")};s&&(c.dj_ie=!0,c["dj_ie"+d(s)]=!0,c.dj_iequirks=o("quirks")),l&&(c["dj_ff"+d(l)]=!0),c["dj_"+h]=!0;var u="";for(var f in c)c[f]&&(u+=f+" ");return r.className=t.trim(r.className+" "+u),i(function(){if(!e.isBodyLtr()){var i="dj_rtl dijitRtl "+u.replace(/ /g,"-rtl ");r.className=t.trim(r.className+" "+i+"dj_rtl dijitRtl "+u.replace(/ /g,"-rtl "))}}),o}),define("dijit/_base/sniff",["dojo/uacss"],function(){}),define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,i,o,n,r){var s=r.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(i.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,t,o,n,r,s,a,d){if(r!=this._obj){for(var l in this.stop(),this._initialDelay=a||500,this._subsequentDelay=s||.9,this._minDelay=d||10,this._obj=r,this._node=o,this._currentTimeout=-1,this._count=-1,this._callback=i.hitch(t,n),this._evt={faux:!0},e)if("layerX"!=l&&"layerY"!=l){var h=e[l];"function"!=typeof h&&void 0!==h&&(this._evt[l]=h)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(n,r,a,d,l,h,c){var u="keyCode"in r?"keydown":"charCode"in r?"keypress":t._keypress,f="keyCode"in r?"keyCode":"charCode"in r?"charCode":"charOrCode",p=[o(n,u,i.hitch(this,function(e){e[f]!=r[f]||void 0!==r.ctrlKey&&r.ctrlKey!=e.ctrlKey||void 0!==r.altKey&&r.altKey!=e.altKey||void 0!==r.metaKey&&r.metaKey!=(e.metaKey||!1)||void 0!==r.shiftKey&&r.shiftKey!=e.shiftKey?s._obj==r&&s.stop():(e.stopPropagation(),e.preventDefault(),s.trigger(e,a,n,d,r,l,h,c))})),o(n,"keyup",i.hitch(this,function(){s._obj==r&&s.stop()}))];return{remove:function(){e.forEach(p,function(e){e.remove()})}}},addMouseListener:function(t,r,a,d,l,h){var c=[o(t,"mousedown",i.hitch(this,function(e){e.preventDefault(),s.trigger(e,r,t,a,t,d,l,h)})),o(t,"mouseup",i.hitch(this,function(e){this._obj&&e.preventDefault(),s.stop()})),o(t,"mouseout",i.hitch(this,function(e){this._obj&&e.preventDefault(),s.stop()})),o(t,"dblclick",i.hitch(this,function(e){e.preventDefault(),n("ie")<9&&(s.trigger(e,r,t,a,t,d,l,h),setTimeout(i.hitch(this,s.stop),50))}))];return{remove:function(){e.forEach(c,function(e){e.remove()})}}},addListener:function(t,i,o,n,r,s,a,d){var l=[this.addKeyListener(i,o,n,r,s,a,d),this.addMouseListener(t,n,r,s,a,d)];return{remove:function(){e.forEach(l,function(e){e.remove()})}}}};return s}),define("dijit/_base/typematic",["../typematic"],function(){}),define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(e,t,i,o,n,r,s){return n.add("highcontrast",function(){var i=s.doc.createElement("div");i.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(t.blankGif||e.toUrl("./resources/blank.gif"))+'");',s.body().appendChild(i);var r=o.getComputedStyle(i),a=r.backgroundImage,d=r.borderTopColor==r.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);return n("ie")<=8?i.outerHTML="":s.body().removeChild(i),d}),r(function(){n("highcontrast")&&i.add(s.body(),"dj_a11y")}),n}),define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(e,t,i,o){return i(function(){t("highcontrast")&&e.add(o.body(),"dijit_a11y")}),t}),define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(e,t,i){var o={hasWaiRole:function(e,t){var i=this.getWaiRole(e);return t?i.indexOf(t)>-1:i.length>0},getWaiRole:function(i){return t.trim((e.get(i,"role")||"").replace("wairole:",""))},setWaiRole:function(t,i){e.set(t,"role",i)},removeWaiRole:function(i,o){var n=e.get(i,"role");if(n)if(o){var r=t.trim((" "+n+" ").replace(" "+o+" "," "));e.set(i,"role",r)}else i.removeAttribute("role")},hasWaiState:function(e,t){return e.hasAttribute?e.hasAttribute("aria-"+t):!!e.getAttribute("aria-"+t)},getWaiState:function(e,t){return e.getAttribute("aria-"+t)||""},setWaiState:function(e,t,i){e.setAttribute("aria-"+t,i)},removeWaiState:function(e,t){e.removeAttribute("aria-"+t)}};return t.mixin(i,o),i}),define("dijit/_base/window",["dojo/window","../main"],function(e,t){t.getDocumentWindow=function(t){return e.get(t)}}),define("dijit/_base",["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(e){return e._base}),define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),o=function(){for(var e=null,n=arguments,r=[n[0]],s=1;s<n.length;s++)if(n[s]){var a=new o(n[s]+""),d=new o(r[0]+"");if(""!=a.path||a.scheme||a.authority||a.query){if(!a.scheme&&(a.scheme=d.scheme,!a.authority&&(a.authority=d.authority,"/"!=a.path.charAt(0)))){for(var l=d.path.substring(0,d.path.lastIndexOf("/")+1)+a.path,h=l.split("/"),c=0;c<h.length;c++)"."==h[c]?c==h.length-1?h[c]="":(h.splice(c,1),c--):c>0&&(1!=c||""!=h[0])&&".."==h[c]&&".."!=h[c-1]&&(c==h.length-1?(h.splice(c,1),h[c-1]=""):(h.splice(c-1,2),c-=2));a.path=h.join("/")}}else a.fragment!=e&&(d.fragment=a.fragment),a=d;r=[],a.scheme&&r.push(a.scheme,":"),a.authority&&r.push("//",a.authority),r.push(a.path),a.query&&r.push("?",a.query),a.fragment&&r.push("#",a.fragment)}this.uri=r.join("");var u=this.uri.match(t);this.scheme=u[2]||(u[1]?"":e),this.authority=u[4]||(u[3]?"":e),this.path=u[5],this.query=u[7]||(u[6]?"":e),this.fragment=u[9]||(u[8]?"":e),this.authority!=e&&(u=this.authority.match(i),this.user=u[3]||e,this.password=u[4]||e,this.host=u[6]||u[7],this.port=u[9]||e)};return o.prototype.toString=function(){return this.uri},e._Url=o}),define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(e,t,i){"use strict";var o=e.some;return function(e){var n,r,s;e instanceof Array?r=e:e&&"object"==typeof e&&(n=e);var a=[];if(n){for(var d in r=[],n)Object.hasOwnProperty.call(n,d)&&(a.push(d),r.push(n[d]));s={}}else r&&(s=[]);if(!r||!r.length)return(new t).resolve(s);var l=new t;l.promise.always(function(){s=a=null});var h=r.length;return o(r,function(e,t){return n||a.push(t),i(e,function(e){l.isFulfilled()||(s[a[t]]=e,0==--h&&l.resolve(s))},l.reject),l.isFulfilled()}),l.promise}}),define("dojo/date/stamp",["../_base/lang","../_base/array"],function(e,t){var i={};return e.setObject("dojo.date.stamp",i),i.fromISOString=function(e,o){i._isoRegExp||(i._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var n=i._isoRegExp.exec(e),r=null;if(n){n.shift(),n[1]&&n[1]--,n[6]&&(n[6]*=1e3),o&&(o=new Date(o),t.forEach(t.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(e){return o["get"+e]()}),function(e,t){n[t]=n[t]||e})),r=new Date(n[0]||1970,n[1]||0,n[2]||1,n[3]||0,n[4]||0,n[5]||0,n[6]||0),n[0]<100&&r.setFullYear(n[0]||1970);var s=0,a=n[7]&&n[7].charAt(0);"Z"!=a&&(s=60*(n[8]||0)+(Number(n[9])||0),"-"!=a&&(s*=-1)),a&&(s-=r.getTimezoneOffset()),s&&r.setTime(r.getTime()+6e4*s)}return r},i.toISOString=function(e,t){var i=function(e){return e<10?"0"+e:e},o=[],n=(t=t||{}).zulu?"getUTC":"get",r="";if("time"!=t.selector){var s=e[n+"FullYear"]();r=["0000".substr((s+"").length)+s,i(e[n+"Month"]()+1),i(e[n+"Date"]())].join("-")}if(o.push(r),"date"!=t.selector){var a=[i(e[n+"Hours"]()),i(e[n+"Minutes"]()),i(e[n+"Seconds"]())].join(":"),d=e[n+"Milliseconds"]();if(t.milliseconds&&(a+="."+(d<100?"0":"")+i(d)),t.zulu)a+="Z";else if("time"!=t.selector){var l=e.getTimezoneOffset(),h=Math.abs(l);a+=(l>0?"-":"+")+i(Math.floor(h/60))+":"+i(h%60)}o.push(a)}return o.join("T")},i}),define("dojo/selector/_loader",["../has","require","module"],function(e,t,i){if(!1===t.isBrowser)return{load:function(e,t,i,o){i()}};var o,n=document.createElement("div");e.add("dom-qsa2.1",!!n.querySelectorAll),e.add("dom-qsa3",function(){try{return n.innerHTML="<p class='TEST'></p>",1==n.querySelectorAll(".TEST:empty").length}catch(e){}});return{load:function(i,n,r,s){var a=t;if("?"==(i="css2"==(i="default"==i?e("config-selectorEngine")||"css3":i)||"lite"==i?"./lite":"css2.1"==i?e("dom-qsa2.1")?"./lite":"./acme":"css3"==i?e("dom-qsa3")?"./lite":"./acme":"acme"==i?"./acme":(a=n)&&i).charAt(i.length-1)){i=i.substring(0,i.length-1);var d=!0}if(d&&(e("dom-compliant-qsa")||o))return r(o);a([i],function(e){"./lite"!=i&&(o=e),r(e)})}}}),define("dojo/query",["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(e,t,i,o,n,r,s,a){"use strict";t.add("array-extensible",function(){return 1==r.delegate([],{length:1}).length&&!t("bug-for-in-skips-shadowed")});var d=Array.prototype,l=d.slice,h=d.concat,c=n.forEach,u=function(t,i,o){return i=[0].concat(l.call(i,0)),o=o||e.global,function(e){return i[0]=e,t.apply(o,i)}},f=function(e){var i=this instanceof p&&t("array-extensible");"number"==typeof e&&(e=Array(e));var o=e&&"length"in e?e:arguments;if(i||!o.sort){for(var n=i?this:[],s=n.length=o.length,a=0;a<s;a++)n[a]=o[a];if(i)return n;o=n}return r._mixin(o,m),o._NodeListCtor=function(e){return p(e)},o},p=f,m=p.prototype=t("array-extensible")?[]:{};function g(e,t){var o=function(o,n){if("string"==typeof n&&!(n=i.byId(n)))return new t([]);var r="string"==typeof o?e(o,n):o?o.end&&o.on?o:[o]:[];return r.end&&r.on?r:new t(r)};if(o.matches=e&&e.match||function(e,t,i){return o.filter([e],t,i).length>0},o.filter=e&&e.filter||function(e,t,i){return o(t,i).filter(function(t){return n.indexOf(e,t)>-1})},"function"!=typeof e){var r=e&&e.search||function(e,t){return e.querySelectorAll(t)};e=function(e,t){return r(t||document,e)}}return o}p._wrap=m._wrap=function(e,t,i){var o=new(i||this._NodeListCtor||p)(e);return t?o._stash(t):o},p._adaptAsMap=function(e,t){return function(){return this.map(u(e,arguments,t))}},p._adaptAsForEach=function(e,t){return function(){return this.forEach(u(e,arguments,t)),this}},p._adaptAsFilter=function(e,t){return function(){return this.filter(u(e,arguments,t))}},p._adaptWithCondition=function(t,i,o){return function(){var n=arguments,r=u(t,n,o);return i.call(o||e.global,n)?this.map(r):(this.forEach(r),this)}},c(["slice","splice"],function(e){var t=d[e];m[e]=function(){return this._wrap(t.apply(this,arguments),"slice"==e?this:null)}}),c(["indexOf","lastIndexOf","every","some"],function(t){var i=n[t];m[t]=function(){return i.apply(e,[this].concat(l.call(arguments,0)))}}),r.extend(f,{constructor:p,_NodeListCtor:p,toString:function(){return this.join(",")},_stash:function(e){return this._parent=e,this},on:function(e,t){var i=this.map(function(i){return o(i,e,t)});return i.remove=function(){for(var e=0;e<i.length;e++)i[e].remove()},i},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(e){var t=l.call(this,0),i=n.map(arguments,function(e){return l.call(e,0)});return this._wrap(h.apply(t,i),this)},map:function(e,t){return this._wrap(n.map(this,e,t),this)},forEach:function(e,t){return c(this,e,t),this},filter:function(e){var t=arguments,i=this,o=0;if("string"==typeof e){if(i=_._filterResult(this,t[0]),1==t.length)return i._stash(this);o=1}return this._wrap(n.filter(i,t[o],t[o+1]),this)},instantiate:function(e,t){var i=r.isFunction(e)?e:r.getObject(e);return t=t||{},this.forEach(function(e){new i(t,e)})},at:function(){var e=new this._NodeListCtor(0);return c(arguments,function(t){t<0&&(t=this.length+t),this[t]&&e.push(this[t])},this),e._stash(this)}});var _=g(a,f);return e.query=g(a,function(e){return f(e)}),!1===require.isBrowser?_.load=function(e,t,i,o){i()}:_.load=function(e,t,i){s.load(e,t,function(e){i(g(e,f))})},e._filterQueryResult=_._filterResult=function(e,t,i){return new f(_.filter(e,t,i))},e.NodeList=_.NodeList=f,_}),define("dojo/ready",["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(e,t,i,o,n){var r=0,s=[],a=0,d=function(){r=1,e._postLoad=e.config.afterOnLoad=!0,l()},l=function(){if(!a){for(a=1;r&&(!o||0==o._Q.length)&&(!i.idle||i.idle())&&s.length;){var e=s.shift();try{e()}catch(e){if(e.info=e.message,!i.signal)throw e;i.signal("error",e)}}a=0}};i.on&&i.on("idle",l),o&&(o._onQEmpty=l);var h=e.ready=e.addOnLoad=function(t,i,o){var r=n._toArray(arguments);"number"!=typeof t?(o=i,i=t,t=1e3):r.shift(),(o=o?n.hitch.apply(e,r):function(){i()}).priority=t;for(var a=0;a<s.length&&t>=s[a].priority;a++);s.splice(a,0,o),l()};if(t.add("dojo-config-addOnLoad",1),t("dojo-config-addOnLoad")){var c=e.config.addOnLoad;c&&h[n.isArray(c)?"apply":"call"](e,c)}return t("dojo-sync-loader")&&e.config.parseOnLoad&&!e.isAsync&&h(99,function(){e.parser||(e.deprecated("Add explicit require(['dojo/parser']);","","2.0"),i(["dojo/parser"]))}),o?o(d):d(),h}),define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(require,dojo,dlang,darray,config,dom,dwindow,_Url,aspect,all,dates,Deferred,has,query,don,ready){function myEval(text){return eval("("+text+")")}new Date("X");var extendCnt=0;function getNameMap(e){var t=e._nameCaseMap,i=e.prototype;if(!t||t._extendCnt<extendCnt){for(var o in t=e._nameCaseMap={},i)"_"!==o.charAt(0)&&(t[o.toLowerCase()]=o);t._extendCnt=extendCnt}return t}aspect.after(dlang,"extend",function(){extendCnt++},!0);var _ctorMap={};function getCtor(e,t){var i=e.join();if(!_ctorMap[i]){for(var o=[],n=0,r=e.length;n<r;n++){var s=e[n];o[o.length]=_ctorMap[s]=_ctorMap[s]||dlang.getObject(s)||~s.indexOf("/")&&(t?t(s):require(s))}var a=o.shift();_ctorMap[i]=o.length?a.createSubclass?a.createSubclass(o):a.extend.apply(a,o):a}return _ctorMap[i]}var parser={_clearCache:function(){extendCnt++,_ctorMap={}},_functionFromScript:function(e,t){var i="",o="",n=e.getAttribute(t+"args")||e.getAttribute("args"),r=e.getAttribute("with"),s=(n||"").split(/\s*,\s*/);return r&&r.length&&darray.forEach(r.split(/\s*,\s*/),function(e){i+="with("+e+"){",o+="}"}),new Function(s,i+e.innerHTML+o)},instantiate:function(e,t,i){t=t||{};var o=((i=i||{}).scope||dojo._scopeName)+"Type",n="data-"+(i.scope||dojo._scopeName)+"-",r=n+"type",s=n+"mixins",a=[];return darray.forEach(e,function(e){var i=o in t?t[o]:e.getAttribute(r)||e.getAttribute(o);if(i){var n=e.getAttribute(s),d=n?[i].concat(n.split(/\s*,\s*/)):[i];a.push({node:e,types:d})}}),this._instantiate(a,t,i)},_instantiate:function(e,t,i,o){var n=darray.map(e,function(e){var o=e.ctor||getCtor(e.types,i.contextRequire);if(!o)throw new Error("Unable to resolve constructor for: '"+e.types.join()+"'");return this.construct(o,e.node,t,i,e.scripts,e.inherited)},this);function r(e){return t._started||i.noStart||darray.forEach(e,function(e){"function"!=typeof e.startup||e._started||e.startup()}),e}return o?all(n).then(r):r(n)},construct:function(e,t,i,o,n,r){var s,a=e&&e.prototype,d={};if((o=o||{}).defaults&&dlang.mixin(d,o.defaults),r&&dlang.mixin(d,r),has("dom-attributes-explicit"))s=t.attributes;else if(has("dom-attributes-specified-flag"))s=darray.filter(t.attributes,function(e){return e.specified});else{var l=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),h=l.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");s=darray.map(h.split(/\s+/),function(e){var i=e.toLowerCase();return{name:e,value:"LI"==t.nodeName&&"value"==e||"enctype"==i?t.getAttribute(i):t.getAttributeNode(i).value}})}var c=o.scope||dojo._scopeName,u="data-"+c+"-",f={};"dojo"!==c&&(f[u+"props"]="data-dojo-props",f[u+"type"]="data-dojo-type",f[u+"mixins"]="data-dojo-mixins",f[c+"type"]="dojoType",f[u+"id"]="data-dojo-id");for(var p,m,g,_=0,v=[];p=s[_++];){var b=p.name,y=b.toLowerCase(),C=p.value;switch(f[y]||y){case"data-dojo-type":case"dojotype":case"data-dojo-mixins":break;case"data-dojo-props":g=C;break;case"data-dojo-id":case"jsid":m=C;break;case"data-dojo-attach-point":case"dojoattachpoint":d.dojoAttachPoint=C;break;case"data-dojo-attach-event":case"dojoattachevent":d.dojoAttachEvent=C;break;case"class":d.class=t.className;break;case"style":d.style=t.style&&t.style.cssText;break;default:if(!(b in a)){var x=getNameMap(e);b=x[y]||b}if(b in a)switch(typeof a[b]){case"string":d[b]=C;break;case"number":d[b]=C.length?Number(C):NaN;break;case"boolean":d[b]="false"!=C.toLowerCase();break;case"function":""===C||-1!=C.search(/[^\w\.]+/i)?d[b]=new Function(C):d[b]=dlang.getObject(C,!1)||new Function(C),v.push(b);break;default:var w=a[b];d[b]=w&&"length"in w?C?C.split(/\s*,\s*/):[]:w instanceof Date?""==C?new Date(""):"now"==C?new Date:dates.fromISOString(C):w instanceof _Url?dojo.baseUrl+C:myEval(C)}else d[b]=C}}for(var j=0;j<v.length;j++){var N=v[j].toLowerCase();t.removeAttribute(N),t[N]=null}if(g)try{g=myEval.call(o.propsThis,"{"+g+"}"),dlang.mixin(d,g)}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+g+"'")}dlang.mixin(d,i),n||(n=e&&(e._noScript||a._noScript)?[]:query("> script[type^='dojo/']",t));var S=[],D=[],T=[],k=[];if(n)for(_=0;_<n.length;_++){var A=n[_];t.removeChild(A);var E=A.getAttribute(u+"event")||A.getAttribute("event"),M=A.getAttribute(u+"prop"),I=A.getAttribute(u+"method"),L=A.getAttribute(u+"advice"),R=A.getAttribute("type"),B=this._functionFromScript(A,u);E?"dojo/connect"==R?S.push({method:E,func:B}):"dojo/on"==R?k.push({event:E,func:B}):d[E]=B:"dojo/aspect"==R?S.push({method:I,advice:L,func:B}):"dojo/watch"==R?T.push({prop:M,func:B}):D.push(B)}var P=e.markupFactory||a.markupFactory,O=P?P(d,t,e):new e(d,t);function F(e){for(m&&dlang.setObject(m,e),_=0;_<S.length;_++)aspect[S[_].advice||"after"](e,S[_].method,dlang.hitch(e,S[_].func),!0);for(_=0;_<D.length;_++)D[_].call(e);for(_=0;_<T.length;_++)e.watch(T[_].prop,T[_].func);for(_=0;_<k.length;_++)don(e,k[_].event,k[_].func);return e}return O.then?O.then(F):F(O)},scan:function(e,t){var i=[],o=[],n={},r=(t.scope||dojo._scopeName)+"Type",s="data-"+(t.scope||dojo._scopeName)+"-",a=s+"type",d=s+"textdir",l=s+"mixins",h=e.firstChild,c=t.inherited;if(!c){function u(e,t){return e.getAttribute&&e.getAttribute(t)||e.parentNode&&u(e.parentNode,t)}for(var f in c={dir:u(e,"dir"),lang:u(e,"lang"),textDir:u(e,d)})c[f]||delete c[f]}var p,m,g={inherited:c};function _(e){if(!e.inherited){e.inherited={};var t=e.node,i=_(e.parent),o={dir:t.getAttribute("dir")||i.dir,lang:t.getAttribute("lang")||i.lang,textDir:t.getAttribute(d)||i.textDir};for(var n in o)o[n]&&(e.inherited[n]=o[n])}return e.inherited}for(;;)if(h)if(1==h.nodeType)if(p&&"script"==h.nodeName.toLowerCase())(v=h.getAttribute("type"))&&/^dojo\/\w/i.test(v)&&p.push(h),h=h.nextSibling;else if(m)h=h.nextSibling;else{var v=h.getAttribute(a)||h.getAttribute(r),b=h.firstChild;if(v||b&&(3!=b.nodeType||b.nextSibling)){var y,C=null;if(v){var x=h.getAttribute(l),w=x?[v].concat(x.split(/\s*,\s*/)):[v];try{C=getCtor(w,t.contextRequire)}catch(e){}C||darray.forEach(w,function(e){~e.indexOf("/")&&!n[e]&&(n[e]=!0,o[o.length]=e)});var j=C&&!C.prototype._noScript?[]:null;(y={types:w,ctor:C,parent:g,node:h,scripts:j}).inherited=_(y),i.push(y)}else y={node:h,scripts:p,parent:g};p=j,m=h.stopParser||C&&C.prototype.stopParser&&!t.template,g=y,h=b}else h=h.nextSibling}else h=h.nextSibling;else{if(!g||!g.node)break;h=g.node.nextSibling,m=!1,g=g.parent,p=g.scripts}var N=new Deferred;if(o.length){has("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+o.join(", "));var S=t.contextRequire||require;S(o,function(){N.resolve(darray.filter(i,function(e){if(!e.ctor)try{e.ctor=getCtor(e.types,t.contextRequire)}catch(e){}for(var i=e.parent;i&&!i.types;)i=i.parent;var o=e.ctor&&e.ctor.prototype;return e.instantiateChildren=!(o&&o.stopParser&&!t.template),e.instantiate=!i||i.instantiate&&i.instantiateChildren,e.instantiate}))})}else N.resolve(i);return N.promise},_require:function(e,t){var i=myEval("{"+e.innerHTML+"}"),o=[],n=[],r=new Deferred,s=t&&t.contextRequire||require;for(var a in i)o.push(a),n.push(i[a]);return s(n,function(){for(var e=0;e<o.length;e++)dlang.setObject(o[e],arguments[e]);r.resolve(arguments)}),r.promise},_scanAmd:function(e,t){var i=new Deferred,o=i.promise;i.resolve(!0);var n=this;return query("script[type='dojo/require']",e).forEach(function(e){o=o.then(function(){return n._require(e,t)}),e.parentNode.removeChild(e)}),o},parse:function(e,t){var i;!t&&e&&e.rootNode?i=(t=e).rootNode:!e||!dlang.isObject(e)||"nodeType"in e?i=e:t=e,i=i?dom.byId(i):dwindow.body();var o=(t=t||{}).template?{template:!0}:{},n=[],r=this,s=this._scanAmd(i,t).then(function(){return r.scan(i,t)}).then(function(e){return r._instantiate(e,o,t,!0)}).then(function(e){return n=n.concat(e)}).otherwise(function(e){throw console.error("dojo/parser::parse() error",e),e});return dlang.mixin(n,s),n}};return has("extend-dojo")&&(dojo.parser=parser),config.parseOnLoad&&ready(100,parser,"parse"),parser}),define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,t,i){return i("dijit.Destroyable",null,{destroy:function(e){this._destroyed=!0},own:function(){var i=["destroyRecursive","destroy","remove"];return e.forEach(arguments,function(o){var n,r=t.before(this,"destroy",function(e){o[n](e)}),s=[];function a(){r.remove(),e.forEach(s,function(e){e.remove()})}o.then?(n="cancel",o.then(a,a)):e.forEach(i,function(e){"function"==typeof o[e]&&(n||(n=e),s.push(t.after(o,e,a,!0)))})},this),arguments}})}),define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x){u.add("dijit-legacy-requires",!f.isAsync),u.add("dojo-bidi",!1),u("dijit-legacy-requires")&&g(0,function(){e(["dijit/_base/manager"])});var w={};function j(e){return function(t){a[t?"set":"remove"](this.domNode,e,t),this._set(e,t)}}var N=r("dijit._WidgetBase",[_,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:j("lang"),dir:"",_setDirAttr:j("dir"),class:"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(e){this._set("ownerDocument",e)},attributeMap:{},_blankGif:o.blankGif||e.toUrl("dojo/resources/blank.gif"),_introspect:function(){var e=this.constructor;if(!e._setterAttrs){var t=e.prototype,i=e._setterAttrs=[],o=e._onMap={};for(var n in t.attributeMap)i.push(n);for(n in t)/^on/.test(n)&&(o[n.substring(2).toLowerCase()]=n),/^_set[A-Z](.*)Attr$/.test(n)&&(n=n.charAt(4).toLowerCase()+n.substr(5,n.length-9),t.attributeMap&&n in t.attributeMap||i.push(n))}},postscript:function(e,t){this.create(e,t)},create:function(e,t){var i;if(this._introspect(),this.srcNodeRef=s.byId(t),this._connects=[],this._supportingWidgets=[],this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id),e&&(this.params=e,p.mixin(this,e)),this.postMixInProperties(),this.id||(this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id),this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document),this.ownerDocumentBody=b.body(this.ownerDocument),x.add(this),this.buildRendering(),this.domNode){this._applyAttributes();var o=this.srcNodeRef;o&&o.parentNode&&this.domNode!==o&&(o.parentNode.replaceChild(this.domNode,o),i=!0),this.domNode.setAttribute("widgetId",this.id)}this.postCreate(),i&&delete this.srcNodeRef,this._created=!0},_applyAttributes:function(){var e={};for(var i in this.params||{})e[i]=this._get(i);for(i in t.forEach(this.constructor._setterAttrs,function(t){if(!(t in e)){var i=this._get(t);i&&this.set(t,i)}},this),e)this.set(i,e[i])},postMixInProperties:function(){},buildRendering:function(){if(this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")),this.baseClass){var e=this.baseClass.split(" ");this.isLeftToRight()||(e=e.concat(t.map(e,function(e){return e+"Rtl"}))),d.add(this.domNode,e)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,t.forEach(this.getChildren(),function(e){e._started||e._destroyed||!p.isFunction(e.startup)||(e.startup(),e._started=!0)}))},destroyRecursive:function(e){this._beingDestroyed=!0,this.destroyDescendants(e),this.destroy(e)},destroy:function(e){function i(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e)}this._beingDestroyed=!0,this.uninitialize(),t.forEach(this._connects,p.hitch(this,"disconnect")),t.forEach(this._supportingWidgets,i),this.domNode&&t.forEach(x.findWidgets(this.domNode,this.containerNode),i),this.destroyRendering(e),x.remove(this.id),this._destroyed=!0},destroyRendering:function(e){this.bgIframe&&(this.bgIframe.destroy(e),delete this.bgIframe),this.domNode&&(e?a.remove(this.domNode,"widgetId"):l.destroy(this.domNode),delete this.domNode),this.srcNodeRef&&(e||l.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(e){t.forEach(this.getChildren(),function(t){t.destroyRecursive&&t.destroyRecursive(e)})},uninitialize:function(){return!1},_setStyleAttr:function(e){var t=this.domNode;p.isObject(e)?c.set(t,e):t.style.cssText?t.style.cssText+="; "+e:t.style.cssText=e,this._set("style",e)},_attrToDom:function(e,i,o){o=arguments.length>=3?o:this.attributeMap[e],t.forEach(p.isArray(o)?o:[o],function(t){var o=this[t.node||t||"domNode"],n=t.type||"attribute";switch(n){case"attribute":p.isFunction(i)&&(i=p.hitch(this,i));var r=t.attribute?t.attribute:/^on[A-Z][a-zA-Z]*$/.test(e)?e.toLowerCase():e;o.tagName?a.set(o,r,i):o.set(r,i);break;case"innerText":o.innerHTML="",o.appendChild(this.ownerDocument.createTextNode(i));break;case"innerHTML":o.innerHTML=i;break;case"class":d.replace(o,i,this[e])}},this)},get:function(e){var t=this._getAttrNames(e);return this[t.g]?this[t.g]():this._get(e)},set:function(e,t){if("object"==typeof e){for(var i in e)this.set(i,e[i]);return this}var o=this._getAttrNames(e),n=this[o.s];if(p.isFunction(n))var r=n.apply(this,Array.prototype.slice.call(arguments,1));else{var s=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",a=this[s]&&this[s].tagName,d=a&&(w[a]||(w[a]=function(e){var t={};for(var i in e)t[i.toLowerCase()]=!0;return t}(this[s]))),l=e in this.attributeMap?this.attributeMap[e]:o.s in this?this[o.s]:d&&o.l in d&&"function"!=typeof t||/^aria-|^data-|^role$/.test(e)?s:null;null!=l&&this._attrToDom(e,t,l),this._set(e,t)}return r||this},_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames;if(t[e])return t[e];var i=e.replace(/^[a-z]|-[a-zA-Z]/g,function(e){return e.charAt(e.length-1).toUpperCase()});return t[e]={n:e+"Node",s:"_set"+i+"Attr",g:"_get"+i+"Attr",l:i.toLowerCase()}},_set:function(e,t){var i,o,n=this[e];this[e]=t,!this._created||((i=n)===(o=t)||i!=i&&o!=o)||(this._watchCallbacks&&this._watchCallbacks(e,n,t),this.emit("attrmodified-"+e,{detail:{prevValue:n,newValue:t}}))},_get:function(e){return this[e]},emit:function(e,t,i){void 0===(t=t||{}).bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0),t.detail||(t.detail={}),t.detail.widget=this;var o,n=this["on"+e];return n&&(o=n.apply(this,i||[t])),this._started&&!this._beingDestroyed&&m.emit(this.domNode,e.toLowerCase(),t),o},on:function(e,t){var o=this._onMap(e);return o?i.after(this,o,t,!0):this.own(m(this.domNode,e,t))[0]},_onMap:function(e){var t=this.constructor,i=t._onMap;if(!i)for(var o in i=t._onMap={},t.prototype)/^on/.test(o)&&(i[o.replace(/^on/,"").toLowerCase()]=o);return i["string"==typeof e&&e.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(e,t,i){return this.own(n.connect(e,t,this,i))[0]},disconnect:function(e){e.remove()},subscribe:function(e,t){return this.own(v.subscribe(e,p.hitch(this,t)))[0]},unsubscribe:function(e){e.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():h.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=c.get(this.domNode,"display")},placeAt:function(e,t){var i=!e.tagName&&x.byId(e);if(!i||!i.addChild||t&&"number"!=typeof t){var o=i&&"domNode"in i?i.containerNode&&!/after|before|replace/.test(t||"")?i.containerNode:i.domNode:s.byId(e,this.ownerDocument);l.place(this.domNode,o,t),!this._started&&(this.getParent()||{})._started&&this.startup()}else i.addChild(this,t);return this},defer:function(e,t){var i=setTimeout(p.hitch(this,function(){i&&(i=null,this._destroyed||p.hitch(this,e)())}),t||0);return{remove:function(){return i&&(clearTimeout(i),i=null),null}}}});return u("dojo-bidi")&&N.extend(C),N}),define("dojo/touch",["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(e,t,i,o,n,r,s,a,d,l){var h,c,u,f,p,m,g,_,v,b,y=s("ios")<5,C=s("pointer-events")||s("MSPointer"),x=function(){var e={};for(var t in{down:1,move:1,up:1,cancel:1,over:1,out:1})e[t]=s("MSPointer")?"MSPointer"+t.charAt(0).toUpperCase()+t.slice(1):"pointer"+t;return e}(),w=s("touch-events"),j=!1;function N(e,t,i){return C&&i?function(e,t){return r(e,i,t)}:w?function(i,o){var n=r(i,t,function(e){o.call(this,e),v=(new Date).getTime()}),s=r(i,e,function(e){(!v||(new Date).getTime()>v+1e3)&&o.call(this,e)});return{remove:function(){n.remove(),s.remove()}}}:function(t,i){return r(t,e,i)}}function S(e,t,n){var s=function(e){do{if(void 0!==e.dojoClick)return e}while(e=e.parentNode)}(e.target);if((c=!e.target.disabled&&s&&s.dojoClick)&&(u=(j="useTarget"==c)?s:e.target,j&&e.preventDefault(),f=e.changedTouches?e.changedTouches[0].pageX-l.global.pageXOffset:e.clientX,p=e.changedTouches?e.changedTouches[0].pageY-l.global.pageYOffset:e.clientY,m=("object"==typeof c?c.x:"number"==typeof c?c:0)||4,g=("object"==typeof c?c.y:"number"==typeof c?c:0)||4,!h)){function a(e){c=j?i.isDescendant(l.doc.elementFromPoint(e.changedTouches?e.changedTouches[0].pageX-l.global.pageXOffset:e.clientX,e.changedTouches?e.changedTouches[0].pageY-l.global.pageYOffset:e.clientY),u):c&&(e.changedTouches?e.changedTouches[0].target:e.target)==u&&Math.abs((e.changedTouches?e.changedTouches[0].pageX-l.global.pageXOffset:e.clientX)-f)<=m&&Math.abs((e.changedTouches?e.changedTouches[0].pageY-l.global.pageYOffset:e.clientY)-p)<=g}function d(e){l.doc.addEventListener(e,function(t){t._dojo_click||!((new Date).getTime()<=_+1e3)||"INPUT"==t.target.tagName&&o.contains(t.target,"dijitOffScreen")||(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),"click"!=e||"INPUT"==t.target.tagName&&"radio"!=t.target.type&&"checkbox"!=t.target.type||"TEXTAREA"==t.target.tagName||"AUDIO"==t.target.tagName||"VIDEO"==t.target.tagName||t.preventDefault())},!0)}h=!0,l.doc.addEventListener(t,function(e){a(e),j&&e.preventDefault()},!0),l.doc.addEventListener(n,function(e){if(a(e),c){_=(new Date).getTime();var t=j?u:e.target;"LABEL"===t.tagName&&(t=i.byId(t.getAttribute("for"))||t);var o=e.changedTouches?e.changedTouches[0]:e,n=document.createEvent("MouseEvents");n._dojo_click=!0,n.initMouseEvent("click",!0,!0,e.view,e.detail,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),setTimeout(function(){r.emit(t,"click",n),_=(new Date).getTime()},0)}},!0),d("click"),d("mousedown"),d("mouseup")}}C?d(function(){l.doc.addEventListener(x.down,function(e){S(e,x.move,x.up)},!0)}):w&&d(function(){function e(e){var t=n.delegate(e,{bubbles:!0});return s("ios")>=6&&(t.touches=e.touches,t.altKey=e.altKey,t.changedTouches=e.changedTouches,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.targetTouches=e.targetTouches),t}b=l.body(),l.doc.addEventListener("touchstart",function(e){v=(new Date).getTime();var t=b;b=e.target,r.emit(t,"dojotouchout",{relatedTarget:b,bubbles:!0}),r.emit(b,"dojotouchover",{relatedTarget:t,bubbles:!0}),S(e,"touchmove","touchend")},!0),r(l.doc,"touchmove",function(t){v=(new Date).getTime();var i=l.doc.elementFromPoint(t.pageX-(y?0:l.global.pageXOffset),t.pageY-(y?0:l.global.pageYOffset));i&&(b!==i&&(r.emit(b,"dojotouchout",{relatedTarget:i,bubbles:!0}),r.emit(i,"dojotouchover",{relatedTarget:b,bubbles:!0}),b=i),r.emit(i,"dojotouchmove",e(t))||t.preventDefault())}),r(l.doc,"touchend",function(t){v=(new Date).getTime();var i=l.doc.elementFromPoint(t.pageX-(y?0:l.global.pageXOffset),t.pageY-(y?0:l.global.pageYOffset))||l.body();r.emit(i,"dojotouchend",e(t))})});var D={press:N("mousedown","touchstart",x.down),move:N("mousemove","dojotouchmove",x.move),release:N("mouseup","dojotouchend",x.up),cancel:N(a.leave,"touchcancel",C?x.cancel:null),over:N("mouseover","dojotouchover",x.over),out:N("mouseout","dojotouchout",x.out),enter:a._eventHandler(N("mouseover","dojotouchover",x.over)),leave:a._eventHandler(N("mouseout","dojotouchout",x.out))};return s("extend-dojo")&&(e.touch=D),D}),define("dijit/a11yclick",["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,t,i,o){function n(t){if((t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&!/input|button|textarea/i.test(t.target.nodeName))for(var i=t.target;i;i=i.parentNode)if(i.dojoClick)return!0}var r;i(document,"keydown",function(e){n(e)?(r=e.target,e.preventDefault()):r=null}),i(document,"keyup",function(e){n(e)&&e.target==r&&(r=null,i.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});var s=function(e,t){return e.dojoClick=!0,i(e,"click",t)};return s.click=s,s.press=function(n,r){var s=i(n,o.press,function(e){("mousedown"!=e.type||t.isLeft(e))&&r(e)}),a=i(n,"keydown",function(t){t.keyCode!==e.ENTER&&t.keyCode!==e.SPACE||r(t)});return{remove:function(){s.remove(),a.remove()}}},s.release=function(n,r){var s=i(n,o.release,function(e){("mouseup"!=e.type||t.isLeft(e))&&r(e)}),a=i(n,"keyup",function(t){t.keyCode!==e.ENTER&&t.keyCode!==e.SPACE||r(t)});return{remove:function(){s.remove(),a.remove()}}},s.move=o.move,s}),define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(e,t,i,o,n,r){var s=o("dijit._OnDijitClickMixin",null,{connect:function(e,t,i){return this.inherited(arguments,[e,"ondijitclick"==t?r:t,i])}});return s.a11yclick=r,s}),define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,t,i,o){return o.extend(t,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}}),i("dijit._FocusMixin",null,{_focusManager:e})}),define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(e,t,i,o,n,r,s,a,d,l,h,c,u){function f(){}function p(e){return function(t,o,n,r){return t&&"string"==typeof o&&t[o]==f?t.on(o.substring(2).toLowerCase(),s.hitch(n,r)):e.apply(i,arguments)}}e.around(i,"connect",p),r.connect&&e.around(r,"connect",p);var m=o("dijit._Widget",[h,c,u],{onClick:f,onDblClick:f,onKeyDown:f,onKeyPress:f,onKeyUp:f,onMouseDown:f,onMouseMove:f,onMouseOut:f,onMouseOver:f,onMouseLeave:f,onMouseEnter:f,onMouseUp:f,constructor:function(e){for(var t in this._toConnect={},e)this[t]===f&&(this._toConnect[t.replace(/^on/,"").toLowerCase()]=e[t],delete e[t])},postCreate:function(){for(var e in this.inherited(arguments),this._toConnect)this.on(e,this._toConnect[e]);delete this._toConnect},on:function(e,t){return this[this._onMap(e)]===f?i.connect(this.domNode,e.toLowerCase(),this,t):this.inherited(arguments)},_setFocusedAttr:function(e){this._focused=e,this._set("focused",e)},setAttribute:function(e,t){r.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0"),this.set(e,t)},attr:function(e,t){var i=arguments.length;return i>=2||"object"==typeof e?this.set.apply(this,arguments):this.get(e)},getDescendants:function(){return r.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0"),this.containerNode?a("[widgetId]",this.containerNode).map(l.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});return n("dijit-legacy-requires")&&d(0,function(){require(["dijit/_base"])}),m}),define("dojo/text",["./_base/kernel","require","./has","./has!host-browser?./request"],function(e,t,i,o){if(!1===t.isBrowser)return{load:function(e,t,i,o){i()}};var n;i("host-browser")?n=function(e,t,i){o(e,{sync:!!t,headers:{"X-Requested-With":null}}).then(i)}:t.getText?n=t.getText:console.error("dojo/text plugin failed to load because loader does not support getText");var r={},s=function(e){if(e){var t=(e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"")).match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},a={},d={};return e.cache=function(e,i,o){var a;"string"==typeof e?/\//.test(e)?(a=e,o=i):a=t.toUrl(e.replace(/\./g,"/")+(i?"/"+i:"")):(a=e+"",o=i);var d=void 0!=o&&"string"!=typeof o?o.value:o,l=o&&o.sanitize;return"string"==typeof d?(r[a]=d,l?s(d):d):null===d?(delete r[a],null):(a in r||n(a,!0,function(e){r[a]=e}),l?s(r[a]):r[a])},{dynamic:!0,normalize:function(e,t){var i=e.split("!"),o=i[0];return(/^\./.test(o)?t(o):o)+(i[1]?"!"+i[1]:"")},load:function(e,t,i){var o=e.split("!"),l=o.length>1,h=o[0],c=t.toUrl(o[0]),u="url:"+c,f=a,p=function(e){i(l?s(e):e)};if(h in r?f=r[h]:t.cache&&u in t.cache?f=t.cache[u]:c in r&&(f=r[c]),f===a)if(d[c])d[c].push(p);else{var m=d[c]=[p];n(c,!t.async,function(e){r[h]=r[c]=e;for(var t=0;t<m.length;)m[t++](e);delete d[c]})}else p(f)}}}),define("dojo/cache",["./_base/kernel","./text"],function(e){return e.cache}),define("dojo/string",["./_base/kernel","./_base/lang"],function(e,t){var i=/[&<>'"\/]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},n={};return t.setObject("dojo.string",n),n.escape=function(e){return e?e.replace(i,function(e){return o[e]}):""},n.rep=function(e,t){if(t<=0||!e)return"";for(var i=[];1&t&&i.push(e),t>>=1;)e+=e;return i.join("")},n.pad=function(e,t,i,o){i||(i="0");var r=String(e),s=n.rep(i,Math.ceil((t-r.length)/i.length));return o?r+s:s+r},n.substitute=function(i,o,n,r){return r=r||e.global,n=n?t.hitch(r,n):function(e){return e},i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,i,s){var a=t.getObject(i,!1,o);return s&&(a=t.getObject(s,!1,r).call(r,a,i)),n(a,i).toString()})},n.trim=String.prototype.trim?t.trim:function(e){for(var t=(e=e.replace(/^\s+/,"")).length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e},n}),define("dijit/_AttachMixin",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(e,t,i,o,n,r,s,a,d){var l,h=n.delegate(a,{mouseenter:r.enter,mouseleave:r.leave,keypress:i._keypress}),c=o("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[],this._attachEvents=[]},buildRendering:function(){this.inherited(arguments),this._attachTemplateNodes(this.domNode),this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(e){for(var t=e;;)if(1==t.nodeType&&(this._processTemplateNode(t,function(e,t){return e.getAttribute(t)},this._attach)||this.searchContainerNode)&&t.firstChild)t=t.firstChild;else{if(t==e)return;for(;!t.nextSibling;)if((t=t.parentNode)==e)return;t=t.nextSibling}},_processTemplateNode:function(e,t,i){var o=!0,r=this.attachScope||this,s=t(e,"dojoAttachPoint")||t(e,"data-dojo-attach-point");if(s)for(var a,d=s.split(/\s*,\s*/);a=d.shift();)n.isArray(r[a])?r[a].push(e):r[a]=e,o="containerNode"!=a,this._attachPoints.push(a);var l=t(e,"dojoAttachEvent")||t(e,"data-dojo-attach-event");if(l)for(var h,c=l.split(/\s*,\s*/),u=n.trim;h=c.shift();)if(h){var f=null;if(-1!=h.indexOf(":")){var p=h.split(":");h=u(p[0]),f=u(p[1])}else h=u(h);f||(f=h),this._attachEvents.push(i(e,h,n.hitch(r,f)))}return o},_attach:function(t,i,o){return i="dijitclick"==(i=i.replace(/^on/,"").toLowerCase())?l||(l=e("./a11yclick")):h[i]||i,s(t,i,o)},_detachTemplateNodes:function(){var e=this.attachScope||this;t.forEach(this._attachPoints,function(t){delete e[t]}),this._attachPoints=[],t.forEach(this._attachEvents,function(e){e.remove()}),this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes(),this.inherited(arguments)}});return n.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""}),c}),define("dijit/_TemplatedMixin",["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(e,t,i,o,n,r,s,a){var d=t("dijit._TemplatedMixin",a,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(e){var t=this.declaredClass,i=this;return s.substitute(e,this,function(e,n){if("!"==n.charAt(0)&&(e=o.getObject(n.substr(1),!1,i)),void 0===e)throw new Error(t+" template:"+n);return null==e?"":"!"==n.charAt(0)?e:this._escapeValue(""+e)},this)},_escapeValue:function(e){return e.replace(/["'<>&]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}[e]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=e(this.templatePath,{sanitize:!0}));var t,n=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);if(o.isString(n)){if(1!=(t=i.toDom(this._stringRepl(n),this.ownerDocument)).nodeType)throw new Error("Invalid template: "+n)}else t=n.cloneNode(!0);this.domNode=t}this.inherited(arguments),this._rendered||this._fillContent(this.srcNodeRef),this._rendered=!0},_fillContent:function(e){var t=this.containerNode;if(e&&t)for(;e.hasChildNodes();)t.appendChild(e.firstChild)}});return d._templateCache={},d.getCachedTemplate=function(e,t,o){var n=d._templateCache,r=e,a=n[r];if(a){try{if(!a.ownerDocument||a.ownerDocument==(o||document))return a}catch(e){}i.destroy(a)}if(e=s.trim(e),t||e.match(/\$\{([^\}]+)\}/g))return n[r]=e;var l=i.toDom(e,o);if(1!=l.nodeType)throw new Error("Invalid template: "+e);return n[r]=l},r("ie")&&n(window,"unload",function(){var e=d._templateCache;for(var t in e){var o=e[t];"object"==typeof o&&i.destroy(o),delete e[t]}}),d}),define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(e,t,i,o){return t("dijit._Container",null,{buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode)},addChild:function(e,t){var o=this.containerNode;if(t>0){for(o=o.firstChild;t>0;)1==o.nodeType&&t--,o=o.nextSibling;o?t="before":(o=this.containerNode,t="last")}i.place(e.domNode,o,t),this._started&&!e._started&&e.startup()},removeChild:function(e){if("number"==typeof e&&(e=this.getChildren()[e]),e){var t=e.domNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},hasChildren:function(){return this.getChildren().length>0},_getSiblingOfChild:function(t,i){o.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var n=this.getChildren(),r=e.indexOf(n,t);return n[r+i]},getIndexOfChild:function(t){return e.indexOf(this.getChildren(),t)}})}),define("dijit/_Contained",["dojo/_base/declare","./registry"],function(e,t){return e("dijit._Contained",null,{_getSibling:function(e){var i=this.domNode;do{i=i[e+"Sibling"]}while(i&&1!=i.nodeType);return i&&t.byNode(i)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return e&&e.getIndexOfChild?e.getIndexOfChild(this):-1}})}),define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,i,o,n,r,s,a,d){return r("dijit.layout._LayoutWidget",[t,i,o],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments),s.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var t=this.getParent&&this.getParent();t&&t.isLayoutContainer||(this.resize(),this.own(n.on("resize",e.hitch(this,"resize"))))}},resize:function(t,i){var o=this.domNode;t&&a.setMarginBox(o,t);var n=i||{};e.mixin(n,t||{}),"h"in n&&"w"in n||(n=e.mixin(a.getMarginBox(o),n));var r=d.getComputedStyle(o),s=a.getMarginExtents(o,r),l=a.getBorderExtents(o,r),h=this._borderBox={w:n.w-(s.w+l.w),h:n.h-(s.h+l.h)},c=a.getPadExtents(o,r);this._contentBox={l:d.toPixelValue(o,r.paddingLeft),t:d.toPixelValue(o,r.paddingTop),w:h.w-c.w,h:h.h-c.h},this.layout()},layout:function(){},_setupChild:function(e){var t=this.baseClass+"-child "+(e.baseClass?this.baseClass+"-"+e.baseClass:"");s.add(e.domNode,t)},addChild:function(e,t){this.inherited(arguments),this._started&&this._setupChild(e)},removeChild:function(e){var t=this.baseClass+"-child"+(e.baseClass?" "+this.baseClass+"-"+e.baseClass:"");s.remove(e.domNode,t),this.inherited(arguments)}})}),define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=t("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){for(var t in this.inherited(arguments),e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(e){this.watch(e,r.hitch(this,"_setStateClass"))},this),this.cssStateNodes||{})this._trackMouseState(this[t],this.cssStateNodes[t]);this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},_cssMouseEvent:function(e){if(!this.disabled)switch(e.type){case"mouseover":case"MSPointerOver":case"pointerover":this._set("hovering",!0),this._set("active",this._mouseDown);break;case"mouseout":case"MSPointerOut":case"pointerout":this._set("hovering",!1),this._set("active",!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":this._set("active",!0);break;case"mouseup":case"dojotouchend":case"MSPointerUp":case"pointerup":case"keyup":this._set("active",!1)}},_setStateClass:function(){var t=this.baseClass.split(" ");function i(i){t=t.concat(e.map(t,function(e){return e+i}),"dijit"+i)}this.isLeftToRight()||i("Rtl");var o="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&i(o),this.state&&i(this.state),this.selected&&i("Selected"),this._opened&&i("Opened"),this.disabled?i("Disabled"):this.readOnly?i("ReadOnly"):this.active?i("Active"):this.hovering&&i("Hover"),this.focused&&i("Focused");var n=this.stateNode||this.domNode,r={};e.forEach(n.className.split(" "),function(e){r[e]=!0}),"_stateClasses"in this&&e.forEach(this._stateClasses,function(e){delete r[e]}),e.forEach(t,function(e){r[e]=!0});var s=[];for(var a in r)s.push(a);n.className=s.join(" "),this._stateClasses=t},_subnodeCssMouseEvent:function(e,t,i){if(!this.disabled&&!this.readOnly)switch(i.type){case"mouseover":case"MSPointerOver":case"pointerover":n(!0);break;case"mouseout":case"MSPointerOut":case"pointerout":n(!1),r(!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":r(!0);break;case"mouseup":case"MSPointerUp":case"pointerup":case"dojotouchend":case"keyup":r(!1);break;case"focus":case"focusin":s(!0);break;case"blur":case"focusout":s(!1)}function n(i){o.toggle(e,t+"Hover",i)}function r(i){o.toggle(e,t+"Active",i)}function s(i){o.toggle(e,t+"Focused",i)}},_trackMouseState:function(e,t){e._cssState=t}});return a(function(){function e(e,t,o){if(!o||!i.isDescendant(o,t))for(var n=t;n&&n!=o;n=n.parentNode)if(n._cssState){var r=c.getEnclosingWidget(n);r&&(n==r.domNode?r._cssMouseEvent(e):r._subnodeCssMouseEvent(n,n._cssState,e))}}var t,o=l.body();s(o,d.over,function(t){e(t,t.target,t.relatedTarget)}),s(o,d.out,function(t){e(t,t.target,t.relatedTarget)}),s(o,h.press,function(i){t=i.target,e(i,t)}),s(o,h.release,function(i){e(i,t),t=null}),s(o,"focusin, focusout",function(e){var t=e.target;if(t._cssState&&!t.getAttribute("widgetId")){var i=c.getEnclosingWidget(t);i&&i._subnodeCssMouseEvent(t,t._cssState,e)}})}),u}),define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(e,t,i,o,n,r,s,a,d,l){return t("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(t){if(this._set("disabled",t),i.set(this.focusNode,"disabled",t),this.valueNode&&i.set(this.valueNode,"disabled",t),this.focusNode.setAttribute("aria-disabled",t?"true":"false"),t){this._set("hovering",!1),this._set("active",!1);var o="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode";e.forEach(n.isArray(o)?o:[o],function(e){var t=this[e];a("webkit")||l.hasDefaultTabStop(t)?t.setAttribute("tabIndex","-1"):t.removeAttribute("tabIndex")},this)}else""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(e){if("mouse"==e&&this.isFocusable())var t=this.own(s(this.focusNode,"focus",function(){o.remove(),t.remove()}))[0],i=a("pointer-events")?"pointerup":a("MSPointer")?"MSPointerUp":a("touch-events")?"touchend, mouseup":"mouseup",o=this.own(s(this.ownerDocumentBody,i,n.hitch(this,function(e){o.remove(),t.remove(),this.focused&&("touchend"==e.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){d.scrollIntoView(this.domNode)}),this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=o.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},compare:function(e,t){return"number"==typeof e&&"number"==typeof t?isNaN(e)&&isNaN(t)?0:e-t:e>t?1:e<t?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(e,t){void 0!=this._lastValueReported||null!==t&&this._onChangeActive||(this._resetValue=this._lastValueReported=e),this._pendingOnChange=this._pendingOnChange||typeof e!=typeof this._lastValueReported||0!=this.compare(e,this._lastValueReported),(this.intermediateChanges||t||void 0===t)&&this._pendingOnChange&&(this._lastValueReported=e,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null,this.onChange(e)})))},create:function(){this.inherited(arguments),this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported)),this.inherited(arguments)}})}),define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(e,t,i,o,n,r,s,a){return t("dijit-legacy-requires")&&o(0,function(){require(["dijit/form/_FormValueWidget"])}),e("dijit.form._FormWidget",[n,s,r,a],{setDisabled:function(e){i.deprecated("setDisabled("+e+") is deprecated. Use set('disabled',"+e+") instead.","","2.0"),this.set("disabled",e)},setValue:function(e){i.deprecated("dijit.form._FormWidget:setValue("+e+") is deprecated.  Use set('value',"+e+") instead.","","2.0"),this.set("value",e)},getValue:function(){return i.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!t("msapp")?'name="'+this.name.replace(/"/g,"&quot;")+'"':"",this.inherited(arguments)}})}),define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(e,t,i,o,n,r){return e("dijit.form._FormValueMixin",r,{readOnly:!1,_setReadOnlyAttr:function(e){t.set(this.focusNode,"readOnly",e),this._set("readOnly",e)},postCreate:function(){this.inherited(arguments),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(e,t){this._handleOnChange(e,t)},_handleOnChange:function(e,t){this._set("value",e),this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)}})}),define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(e,t,i,o){return e("dijit.form._FormValueWidget",[i,o],{_layoutHackIE7:function(){if(7==t("ie"))for(var e=this.domNode,i=e.parentNode,o=e.firstChild||e,n=o.style.filter,r=this;i&&0==i.clientHeight;)!function(){var e=r.connect(i,"onscroll",function(){r.disconnect(e),o.style.filter=(new Date).getMilliseconds(),r.defer(function(){o.style.filter=n})})}(),i=i.parentNode}})}),define("dijit/dijit",["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(e){return e}),define("dijit/_PaletteMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(e,t,i,o,n,r,s,a,d,l,h){var c=e("dijit._PaletteMixin",a,{defaultTimeout:500,timeoutChangeRate:.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(e){var t="string"==typeof this.dyeClass?r.getObject(this.dyeClass):this.dyeClass;return new t(e)},_preparePalette:function(e,t){this._cells=[];var i=this._blankGif;this.own(s(this.gridNode,d,r.hitch(this,"_onCellClick")));for(var a=0;a<e.length;a++)for(var l=o.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),c=0;c<e[a].length;c++){var u=e[a][c];if(u){var f=this._dyeFactory(u,a,c,t[u]),p=o.create("td",{class:this.cellClass,tabIndex:"-1",title:t[u],role:"gridcell"},l);f.fillCell(p,i),p.idx=this._cells.length,this._cells.push({node:p,dye:f})}}this._xDim=e[0].length,this._yDim=e.length;var m={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var g in m)this.own(h.addKeyListener(this.domNode,{keyCode:n[g],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var e=m[g];return function(t){this._navigateByKey(e,t)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments),this._setCurrent(this._cells[0].node)},focus:function(){l.focus(this._currentFocus)},_onCellClick:function(e){for(var t=e.target;"TD"!=t.tagName;){if(!t.parentNode||t==this.gridNode)return;t=t.parentNode}var i=this._getDye(t).getValue();this._setCurrent(t),l.focus(t),this._setValueAttr(i,!0),e.stopPropagation(),e.preventDefault()},_setCurrent:function(e){"_currentFocus"in this&&t.set(this._currentFocus,"tabIndex","-1"),this._currentFocus=e,e&&t.set(e,"tabIndex",this.tabIndex)},_setValueAttr:function(e,t){if(this._selectedCell>=0&&i.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected"),this._selectedCell=-1,e)for(var o=0;o<this._cells.length;o++)if(e==this._cells[o].dye.getValue()){this._selectedCell=o,i.add(this._cells[o].node,this.cellClass+"Selected");break}this._set("value",this._selectedCell>=0?e:null),(t||void 0===t)&&this.onChange(e)},onChange:function(){},_navigateByKey:function(e,t){if(-1!=t){var i=this._currentFocus.idx+e;if(i<this._cells.length&&i>-1){var o=this._cells[i].node;this._setCurrent(o),this.defer(r.hitch(l,"focus",o))}}},_getDye:function(e){return this._cells[e.idx].dye}});return c}),define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,i){var o;return"string"==typeof t&&(i=t,t=null),function e(n,r,s){t&&(n=t(s,n));var a,d=typeof n;if("number"==d)return isFinite(n)?n+"":"null";if("boolean"==d)return n+"";if(null===n)return"null";if("string"==typeof n)return escapeString(n);if("function"==d||"undefined"==d)return o;if("function"==typeof n.toJSON)return e(n.toJSON(s),r,s);if(n instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(e,t,i){var o=n["getUTC"+t]()+(i?1:0);return o<10?"0"+o:o});if(n.valueOf()!==n)return e(n.valueOf(),r,s);var l=i?r+i:"";var h=i?" ":"";var c=i?"\n":"";if(n instanceof Array){var u=n.length,f=[];for(s=0;s<u;s++){var p=n[s];"string"!=typeof(a=e(p,l,s))&&(a="null"),f.push(c+l+a)}return"["+f.join(",")+c+r+"]"}var m=[];for(s in n){var g;if(n.hasOwnProperty(s)){if("number"==typeof s)g='"'+s+'"';else{if("string"!=typeof s)continue;g=escapeString(s)}if("string"!=typeof(a=e(n[s],l,s)))continue;m.push(c+l+g+":"+h+a)}}return"{"+m.join(",")+c+r+"}"}(e,"","")}}}),define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./has!host-browser?./_base/xhr","./json","module"],function(e,t,i,o,n,r,s,a,d){if(!1===t.isBrowser)return{load:function(e,t,i,o){i()}};i.add("dojo-preload-i18n-Api",1),i.add("dojo-v1x-i18n-Api",1);var l=e.i18n={},h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,c={},u=function(t,i,o){return o=o?o.toLowerCase():e.locale,t=t.replace(/\./g,"/"),i=i.replace(/\./g,"/"),/root/i.test(o)?t+"/nls/"+i:t+"/nls/"+o+"/"+i},f=e.getL10nName=function(e,t,i){return e=d.id+"!"+u(e,t,i)},p=function(t,s,d){if(i("dojo-preload-i18n-Api")){var l=t.split("*"),u="preload"==l[1];if(u&&(c[t]||(c[t]=1,y(l[2],a.parse(l[3]),1,s)),d(1)),u||C(t,s,d))return}var f=h.exec(t),p=f[1]+"/",m=f[5]||f[4],g=p+m,_=f[5]&&f[4],v=_||e.locale||"",b=g+"/"+v,w=_?[v]:function(e){var t=n.extraLocale||[];return(t=r.isArray(t)?t:[t]).push(e),t}(v),j=w.length,N=function(){--j||d(r.delegate(c[b]))};o.forEach(w,function(e){var t=g+"/"+e;i("dojo-preload-i18n-Api")&&x(t),c[t]?N():function(e,t,i,o,n,s){e([t],function(a){var d=r.clone(a.root||a.ROOT),l=function(e,t,i,o){for(var n=[i+o],r=t.split("-"),s="",a=0;a<r.length;a++)s+=(s?"-":"")+r[a],e&&!e[s]||(n.push(i+s+"/"+o),n.specificity=s);return n}(!a._v1x&&a,n,i,o);e(l,function(){for(var e=1;e<l.length;e++)d=r.mixin(r.clone(d),arguments[e]);var i=t+"/"+n;c[i]=d,d.$locale=l.specificity,s()})})}(s,g,p,m,e,N)})};if(i("dojo-unit-tests"))var m=l.unitTests=[];if(i("dojo-preload-i18n-Api")||i("dojo-v1x-i18n-Api"))var g=l.normalizeLocale=function(t){var i=t?t.toLowerCase():e.locale;return"root"==i?"ROOT":i},_=function(e,o){return!i("dojo-sync-loader")||!i("dojo-v1x-i18n-Api")||o.isXdUrl(t.toUrl(e+".js"))},v=0,b=[],y=l._preloadLocalizations=function(i,n,s,a){function d(e,t){for(var i=e.split("-");i.length;){if(t(i.join("-")))return;i.pop()}t("ROOT")}function l(){v++}function h(){for(--v;!v&&b.length;)p.apply(null,b.shift())}function u(e,t,i,o){return o.toAbsMid(e+t+"/"+i)}function f(e){d(e=g(e),function(f){if(o.indexOf(n,f)>=0){var p=i.replace(/\./g,"/")+"_"+f;return l(),function(e,t){_(e,a)||s?a([e],t):N([e],t,a)}(p,function(i){for(var o in i){var n,s,p=i[o],m=o.match(/(.+)\/([^\/]+)$/);if(m){var g;if(n=m[2],s=m[1]+"/",p._localized=p._localized||{},"ROOT"===f){var _=g=p._localized;delete p._localized,_.root=p,c[t.toAbsMid(o)]=_}else g=p._localized,c[u(s,n,f,t)]=p;if(f!==e){function v(i,o,n,s){var f=[],p=[];d(e,function(e){s[e]&&(f.push(t.toAbsMid(i+e+"/"+o)),p.push(u(i,o,e,t)))}),f.length?(l(),a(f,function(){for(var s=0;s<f.length;s++)n=r.mixin(r.clone(n),arguments[s]),c[p[s]]=n;c[u(i,o,e,t)]=r.clone(n),h()})):c[u(i,o,e,t)]=n}v(s,n,p,g)}}}h()}),!0}return!1})}a=a||t,f(),o.forEach(e.config.extraLocale,f)},C=function(e,t,i){return v&&b.push([e,t,i]),v},x=function(){};if(i("dojo-v1x-i18n-Api")){var w={},j=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),N=function(e,t,i){var n=[];o.forEach(e,function(e){var t=i.toUrl(e+".js");function o(i){var o=j(i,x,e,w);o===w?n.push(c[t]=w.result):(o instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+t,o),o={}),n.push(c[t]=/nls\/[^\/]+\/[^\/]+$/.test(t)?o:{root:o,_v1x:1}))}if(c[t])n.push(c[t]);else{var r=i.syncLoadNls(e);if(r)n.push(r);else if(s)s.get({url:t,sync:!0,load:o,error:function(){n.push(c[t]={})}});else try{i.getText(t,!0,o)}catch(e){n.push(c[t]={})}}}),t&&t.apply(null,n)};x=function(t){for(var i,o=t.split("/"),n=e.global[o[0]],r=1;n&&r<o.length-1;n=n[o[r++]]);return n&&((i=n[o[r]])||(i=n[o[r].replace(/-/g,"_")]),i&&(c[t]=i)),i},l.getLocalization=function(e,i,o){var n,r=u(e,i,o);return p(r,_(r,t)?t:function(e,i){N(e,i,t)},function(e){n=e}),n},i("dojo-unit-tests")&&m.push(function(e){e.register("tests.i18n.unit",function(e){var t;t=j("{prop:1}",x,"nonsense",w),e.is({prop:1},t),e.is(void 0,t[1]),t=j("({prop:1})",x,"nonsense",w),e.is({prop:1},t),e.is(void 0,t[1]),t=j("{'prop-x':1}",x,"nonsense",w),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=j("({'prop-x':1})",x,"nonsense",w),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=j("define({'prop-x':1})",x,"nonsense",w),e.is(w,t),e.is({"prop-x":1},w.result),t=j("define('some/module', {'prop-x':1})",x,"nonsense",w),e.is(w,t),e.is({"prop-x":1},w.result),t=j("this is total nonsense and should throw an error",x,"nonsense",w),e.is(t instanceof Error,!0)})})}return r.mixin(l,{dynamic:!0,normalize:function(e,t){return/^\./.test(e)?t(e):e},load:p,cache:c,getL10nName:f})}),define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(e,t,i,o){var n=e.Color=function(e){e&&this.setColor(e)};return n.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:o.transparentColor||[0,0,0,0]},t.extend(n,{r:255,g:255,b:255,a:1,_set:function(e,t,i,o){var n=this;n.r=e,n.g=t,n.b=i,n.a=o},setColor:function(e){return t.isString(e)?n.fromString(e,this):t.isArray(e)?n.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof n||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this;return[e.r,e.g,e.b,e.a]},toHex:function(){var e=i.map(["r","g","b"],function(e){var t=this[e].toString(16);return t.length<2?"0"+t:t},this);return"#"+e.join("")},toCss:function(e){var t=this,i=t.r+", "+t.g+", "+t.b;return(e?"rgba("+i+", "+t.a:"rgb("+i)+")"},toString:function(){return this.toCss(!0)}}),n.blendColors=e.blendColors=function(e,t,o,r){var s=r||new n;return i.forEach(["r","g","b","a"],function(i){s[i]=e[i]+(t[i]-e[i])*o,"a"!=i&&(s[i]=Math.round(s[i]))}),s.sanitize()},n.fromRgb=e.colorFromRgb=function(e,t){var i=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return i&&n.fromArray(i[1].split(/\s*,\s*/),t)},n.fromHex=e.colorFromHex=function(e,t){var o=t||new n,r=4==e.length?4:8,s=(1<<r)-1;return e=Number("0x"+e.substr(1)),isNaN(e)?null:(i.forEach(["b","g","r"],function(t){var i=e&s;e>>=r,o[t]=4==r?17*i:i}),o.a=1,o)},n.fromArray=e.colorFromArray=function(e,t){var i=t||new n;return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i.sanitize()},n.fromString=e.colorFromString=function(e,t){var i=n.named[e];return i&&n.fromArray(i,t)||n.fromRgb(e,t)||n.fromHex(e,t)},n}),define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(e,t,i,o){var n={};t.setObject("dojo.colors",n);var r=function(e,t,i){i<0&&++i,i>1&&--i;var o=6*i;return o<1?e+(t-e)*o:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e};e.colorFromRgb=i.fromRgb=function(e,t){var n=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){var s,a=n[2].split(/\s*,\s*/),d=a.length,l=n[1];if("rgb"==l&&3==d||"rgba"==l&&4==d){var h=a[0];return"%"==h.charAt(h.length-1)?(s=o.map(a,function(e){return 2.56*parseFloat(e)}),4==d&&(s[3]=a[3]),i.fromArray(s,t)):i.fromArray(a,t)}if("hsl"==l&&3==d||"hsla"==l&&4==d){var c=(parseFloat(a[0])%360+360)%360/360,u=parseFloat(a[1])/100,f=parseFloat(a[2])/100,p=f<=.5?f*(u+1):f+u-f*u,m=2*f-p;return s=[256*r(m,p,c+1/3),256*r(m,p,c),256*r(m,p,c-1/3),1],4==d&&(s[3]=a[3]),i.fromArray(s,t)}}return null};var s=function(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e};return i.prototype.sanitize=function(){var e=this;return e.r=Math.round(s(e.r,0,255)),e.g=Math.round(s(e.g,0,255)),e.b=Math.round(s(e.b,0,255)),e.a=s(e.a,0,1),this},n.makeGrey=i.makeGrey=function(e,t){return i.fromArray([e,e,e,t])},t.mixin(i.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]}),i}),define("dijit/ColorPalette",["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(e,t,i,o,n,r,s,a,d,l,h){var c=d("dijit.ColorPalette",[i,o,n],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:t,baseClass:"dijitColorPalette",_dyeFactory:function(e,t,i,o){return new this._dyeClass(e,t,i,o)},buildRendering:function(){this.inherited(arguments),this._dyeClass=d(c._Color,{palette:this.palette}),this._preparePalette(this._palettes[this.palette],s.getLocalization("dojo","colors",this.lang))}});return c._Color=d("dijit._Color",a,{template:"<span class='dijitInline dijitPaletteImg'><img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/></span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'><img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/></span>",_imagePaths:{"7x10":e.toUrl("./themes/a11y/colors7x10.png"),"3x4":e.toUrl("./themes/a11y/colors3x4.png")},constructor:function(e,t,i,o){this._title=o,this._row=t,this._col=i,this.setColor(a.named[e])},getValue:function(){return this.toHex()},fillCell:function(e,t){var i=h.substitute(r("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:t,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:-20*this._col-5,top:-20*this._row-5,size:"7x10"==this.palette?"height: 145px; width: 206px":"height: 64px; width: 86px"});l.place(i,e)}}),c}),define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(e,t,i,o,n){return i("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var e=this.domNode;if(this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0),n.parse(e,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(o.hitch(this,function(e){this._startupWidgets=e;for(var t=0;t<e.length;t++)this._processTemplateNode(e[t],function(e,t){return e[t]},function(e,t,i){return t in e?e.connect(e,t,i):e.on(t,i,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser})),!this._startupWidgets)throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.")}},_processTemplateNode:function(e,t,i){return!(!t(e,"dojoType")&&!t(e,"data-dojo-type"))||this.inherited(arguments)},startup:function(){e.forEach(this._startupWidgets,function(e){e&&!e._started&&e.startup&&e.startup()}),this._startupWidgets=null,this.inherited(arguments)}})}),define("dojo/NodeList-dom",["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(e,t,i,o,n,r,s,a,d){var l=function(e){return 1==e.length&&"string"==typeof e[0]},h=function(e){var t=e.parentNode;t&&t.removeChild(e)},c=t.NodeList,u=c._adaptWithCondition,f=c._adaptAsForEach,p=c._adaptAsMap;function m(e){return function(t,i,o){return 2==arguments.length?e["string"==typeof i?"get":"set"](t,i):e.set(t,i,o)}}return o.extend(c,{_normalize:function(t,i){var n=!0===t.parse;if("string"==typeof t.template){var s=t.templateFunc||e.string&&e.string.substitute;t=s?s(t.template,t):t}var a=typeof t;return"string"==a||"number"==a?t=11==(t=r.toDom(t,i&&i.ownerDocument)).nodeType?o._toArray(t.childNodes):[t]:o.isArrayLike(t)?o.isArray(t)||(t=o._toArray(t)):t=[t],n&&(t._runParse=!0),t},_cloneNode:function(e){return e.cloneNode(!0)},_place:function(t,i,o,n){if(1==i.nodeType||"only"!=o)for(var s,a=i,d=t.length,l=d-1;l>=0;l--){var h=n?this._cloneNode(t[l]):t[l];if(t._runParse&&e.parser&&e.parser.parse)for(s||(s=a.ownerDocument.createElement("div")),s.appendChild(h),e.parser.parse(s),h=s.firstChild;s.firstChild;)s.removeChild(s.firstChild);l==d-1?r.place(h,a,o):a.parentNode.insertBefore(h,a),a=h}},position:p(s.position),attr:u(m(a),l),style:u(m(d),l),addClass:f(n.add),removeClass:f(n.remove),toggleClass:f(n.toggle),replaceClass:f(n.replace),empty:f(r.empty),removeAttr:f(a.remove),marginBox:p(s.getMarginBox),place:function(e,i){var o=t(e)[0];return this.forEach(function(e){r.place(e,o,i)})},orphan:function(e){return(e?t._filterResult(this,e):this).forEach(h)},adopt:function(e,i){return t(e).place(this[0],i)._stash(this)},query:function(e){if(!e)return this;var i=new c;return this.map(function(o){t(e,o).forEach(function(e){void 0!==e&&i.push(e)})}),i._stash(this)},filter:function(e){var o=arguments,n=this,r=0;if("string"==typeof e){if(n=t._filterResult(this,o[0]),1==o.length)return n._stash(this);r=1}return this._wrap(i.filter(n,o[r],o[r+1]),this)},addContent:function(e,t){e=this._normalize(e,this[0]);for(var i,o=0;i=this[o];o++)e.length?this._place(e,i,t,o>0):r.empty(i);return this}}),c}),define("dijit/Declaration",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser","dojo/query","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/NodeList-dom"],function(e,t,i,o,n,r,s,a,d){return i("dijit.Declaration",s,{_noScript:!0,stopParser:!0,widgetClass:"",defaults:null,mixins:[],buildRendering:function(){var l=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),h=r("> script[type='dojo/method']",l).orphan(),c=r("> script[type='dojo/connect']",l).orphan(),u=r("> script[type='dojo/aspect']",l).orphan(),f=l.nodeName,p=this.defaults||{};e.forEach(h,function(e){var t=e.getAttribute("event")||e.getAttribute("data-dojo-event"),i=n._functionFromScript(e,"data-dojo-");t?p[t]=i:u.push(e)}),this.mixins.length?this.mixins=e.map(this.mixins,function(e){return o.getObject(e)}):this.mixins=[s,a,d],p._skipNodeCache=!0,p.templateString="<"+f+" class='"+l.className+"' data-dojo-attach-point='"+(l.getAttribute("data-dojo-attach-point")||l.getAttribute("dojoAttachPoint")||"")+"' data-dojo-attach-event='"+(l.getAttribute("data-dojo-attach-event")||l.getAttribute("dojoAttachEvent")||"")+"' >"+l.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+f+">";var m=i(this.widgetClass,this.mixins,p);e.forEach(u,function(e){e.getAttribute("data-dojo-advice");var i=e.getAttribute("data-dojo-method")||"postscript",o=n._functionFromScript(e);t.after(m.prototype,i,o,!0)}),e.forEach(c,function(e){var i=e.getAttribute("event")||e.getAttribute("data-dojo-event"),o=n._functionFromScript(e);t.after(m.prototype,i,o,!0)})}})}),define("dojo/_base/fx",["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(e,t,i,o,n,r,s,a,d){var l=i.mixin,h={},c=h._Line=function(e,t){this.start=e,this.end=t};c.prototype.getValue=function(e){return(this.end-this.start)*e+this.start};var u=h.Animation=function(e){l(this,e),i.isArray(this.curve)&&(this.curve=new c(this.curve[0],this.curve[1]))};u.prototype=new o,i.extend(u,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var e=this._percent,t=this.easing;return t?t(e):e},_fire:function(e,i){var o=i||[];if(this[e])if(t.debugAtAllCosts)this[e].apply(this,o);else try{this[e].apply(this,o)}catch(t){console.error("exception in animation handler for:",e),console.error(t)}return this},play:function(e,t){var o=this;if(o._delayTimer&&o._clearTimer(),t)o._stopTimer(),o._active=o._paused=!1,o._percent=0;else if(o._active&&!o._paused)return o;o._fire("beforeBegin",[o.node]);var n=e||o.delay,r=i.hitch(o,"_play",t);return n>0?(o._delayTimer=setTimeout(r,n),o):(r(),o)},_play:function(e){var t=this;t._delayTimer&&t._clearTimer(),t._startTime=(new Date).valueOf(),t._paused&&(t._startTime-=t.duration*t._percent),t._active=!0,t._paused=!1;var i=t.curve.getValue(t._getStep());return t._percent||(t._startRepeatCount||(t._startRepeatCount=t.repeat),t._fire("onBegin",[i])),t._fire("onPlay",[i]),t._cycle(),t},pause:function(){var e=this;return e._delayTimer&&e._clearTimer(),e._stopTimer(),e._active?(e._paused=!0,e._fire("onPause",[e.curve.getValue(e._getStep())]),e):e},gotoPercent:function(e,t){var i=this;return i._stopTimer(),i._active=i._paused=!0,i._percent=e,t&&i.play(),i},stop:function(e){var t=this;return t._delayTimer&&t._clearTimer(),t._timer?(t._stopTimer(),e&&(t._percent=1),t._fire("onStop",[t.curve.getValue(t._getStep())]),t._active=t._paused=!1,t):t},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){var e=this;if(e._active){var t=(new Date).valueOf(),i=0===e.duration?1:(t-e._startTime)/e.duration;i>=1&&(i=1),e._percent=i,e.easing&&(i=e.easing(i)),e._fire("onAnimate",[e.curve.getValue(i)]),e._percent<1?e._startTimer():(e._active=!1,e.repeat>0?(e.repeat--,e.play(null,!0)):-1==e.repeat?e.play(null,!0):e._startRepeatCount&&(e.repeat=e._startRepeatCount,e._startRepeatCount=0),e._percent=0,e._fire("onEnd",[e.node]),!e.repeat&&e._stopTimer())}return e},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}});var f=0,p=null,m={run:function(){}};i.extend(u,{_startTimer:function(){this._timer||(this._timer=r.after(m,"run",i.hitch(this,"_cycle"),!0),f++),p||(p=setInterval(i.hitch(m,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,f--),f<=0&&(clearInterval(p),p=null,f=0)}});var g=s("ie")?function(e){var t=e.style;t.width.length||"auto"!=d.get(e,"width")||(t.width="auto")}:function(){};h._fade=function(e){e.node=a.byId(e.node);var t=l({properties:{}},e),o=t.properties.opacity={};o.start="start"in t?t.start:function(){return+d.get(t.node,"opacity")||0},o.end=t.end;var n=h.animateProperty(t);return r.after(n,"beforeBegin",i.partial(g,t.node),!0),n},h.fadeIn=function(e){return h._fade(l({end:1},e))},h.fadeOut=function(e){return h._fade(l({end:0},e))},h._defaultEasing=function(e){return.5+Math.sin((e+1.5)*Math.PI)/2};var _=function(e){for(var t in this._properties=e,e){var i=e[t];i.start instanceof n&&(i.tempColor=new n)}};return _.prototype.getValue=function(e){var t={};for(var o in this._properties){var r=this._properties[o],s=r.start;s instanceof n?t[o]=n.blendColors(s,r.end,e,r.tempColor).toCss():i.isArray(s)||(t[o]=(r.end-s)*e+s+("opacity"!=o?r.units||"px":0))}return t},h.animateProperty=function(t){var o=t.node=a.byId(t.node);t.easing||(t.easing=e._defaultEasing);var s=new u(t);return r.after(s,"beforeBegin",i.hitch(s,function(){var e={};for(var t in this.properties){"width"!=t&&"height"!=t||(this.node.display="block");var r=this.properties[t];i.isFunction(r)&&(r=r(o)),r=e[t]=l({},i.isObject(r)?r:{end:r}),i.isFunction(r.start)&&(r.start=r.start(o)),i.isFunction(r.end)&&(r.end=r.end(o));var s=t.toLowerCase().indexOf("color")>=0;function a(e,t){var i={height:e.offsetHeight,width:e.offsetWidth}[t];return void 0!==i?i:(i=d.get(e,t),"opacity"==t?+i:s?i:parseFloat(i))}"end"in r?"start"in r||(r.start=a(o,t)):r.end=a(o,t),s?(r.start=new n(r.start),r.end=new n(r.end)):r.start="opacity"==t?+r.start:parseFloat(r.start)}this.curve=new _(e)}),!0),r.after(s,"onAnimate",i.hitch(d,"set",s.node),!0),s},h.anim=function(e,t,i,o,n,r){return h.animateProperty({node:e,duration:i||u.prototype.duration,properties:t,easing:o,onEnd:n}).play(r||0)},s("extend-dojo")&&(l(e,h),e._Animation=u),h}),define("dojo/dnd/common",["../sniff","../_base/kernel","../_base/lang","../dom"],function(e,t,i,o){var n=i.getObject("dojo.dnd",!0);return n.getCopyKeyState=function(t){return t[e("mac")?"metaKey":"ctrlKey"]},n._uniqueId=0,n.getUniqueId=function(){var e;do{e=t._scopeName+"Unique"+ ++n._uniqueId}while(o.byId(e));return e},n._empty={},n.isFormElement=function(e){var t=e.target;return 3==t.nodeType&&(t=t.parentNode)," a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0},n}),define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(e,t,i,o,n,r){var s={};e.setObject("dojo.dnd.autoscroll",s),s.getViewport=r.getBox,s.V_TRIGGER_AUTOSCROLL=32,s.H_TRIGGER_AUTOSCROLL=32,s.V_AUTOSCROLL_VALUE=16,s.H_AUTOSCROLL_VALUE=16;var a,d=i.doc,l=1/0,h=1/0;return s.autoScrollStart=function(e){d=e,a=r.getBox(d);var t=i.body(d).parentNode;l=Math.max(t.scrollHeight-a.h,0),h=Math.max(t.scrollWidth-a.w,0)},s.autoScroll=function(e){var t=a||r.getBox(d),o=i.body(d).parentNode,n=0,c=0;e.clientX<s.H_TRIGGER_AUTOSCROLL?n=-s.H_AUTOSCROLL_VALUE:e.clientX>t.w-s.H_TRIGGER_AUTOSCROLL&&(n=Math.min(s.H_AUTOSCROLL_VALUE,h-o.scrollLeft)),e.clientY<s.V_TRIGGER_AUTOSCROLL?c=-s.V_AUTOSCROLL_VALUE:e.clientY>t.h-s.V_TRIGGER_AUTOSCROLL&&(c=Math.min(s.V_AUTOSCROLL_VALUE,l-o.scrollTop)),window.scrollBy(n,c)},s._validNodes={div:1,p:1,td:1},s._validOverflow={auto:1,scroll:1},s.autoScrollNodes=function(e){for(var r,a,d,l,h,c,u=0,f=0,p=e.target;p;){if(1==p.nodeType&&p.tagName.toLowerCase()in s._validNodes){var m=n.getComputedStyle(p),g=m.overflow.toLowerCase()in s._validOverflow,_=m.overflowX.toLowerCase()in s._validOverflow,v=m.overflowY.toLowerCase()in s._validOverflow;if((g||_||v)&&(r=o.getContentBox(p,m),a=o.position(p,!0)),(g||_)&&(d=Math.min(s.H_TRIGGER_AUTOSCROLL,r.w/2),h=e.pageX-a.x,(t("webkit")||t("opera"))&&(h+=i.body().scrollLeft),u=0,h>0&&h<r.w&&(h<d?u=-d:h>r.w-d&&(u=d),p.scrollLeft,p.scrollLeft=p.scrollLeft+u)),(g||v)&&(l=Math.min(s.V_TRIGGER_AUTOSCROLL,r.h/2),c=e.pageY-a.y,(t("webkit")||t("opera"))&&(c+=i.body().scrollTop),f=0,c>0&&c<r.h&&(c<l?f=-l:c>r.h-l&&(f=l),p.scrollTop,p.scrollTop=p.scrollTop+f)),u||f)return}try{p=p.parentNode}catch(e){p=null}}s.autoScroll(e)},s}),define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(e,t,i,o,n,r,s,a,d,l,h,c,u){return t("dojo.dnd.Mover",[d],{constructor:function(e,t,o){this.node=r.byId(e),this.marginBox={l:t.pageX,t:t.pageY},this.mouseButton=t.button;var n=this.host=o,s=e.ownerDocument;function a(e){e.preventDefault(),e.stopPropagation()}this.events=[l(s,h.move,i.hitch(this,"onFirstMove")),l(s,h.move,i.hitch(this,"onMouseMove")),l(s,h.release,i.hitch(this,"onMouseUp")),l(s,"dragstart",a),l(s.body,"selectstart",a)],u.autoScrollStart(s),n&&n.onMoveStart&&n.onMoveStart(this)},onMouseMove:function(e){u.autoScroll(e);var t=this.marginBox;this.host.onMove(this,{l:t.l+e.pageX,t:t.t+e.pageY},e),e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){(o("webkit")&&o("mac")&&2==this.mouseButton?0==e.button:this.mouseButton==e.button)&&this.destroy(),e.preventDefault(),e.stopPropagation()},onFirstMove:function(e){var t,i,o=this.node.style,r=this.host;switch(o.position){case"relative":case"absolute":t=Math.round(parseFloat(o.left))||0,i=Math.round(parseFloat(o.top))||0;break;default:o.position="absolute";var d=s.getMarginBox(this.node),l=n.doc.body,h=a.getComputedStyle(l),c=s.getMarginBox(l,h),u=s.getContentBox(l,h);t=d.l-(u.l-c.l),i=d.t-(u.t-c.t)}this.marginBox.l=t-this.marginBox.l,this.marginBox.t=i-this.marginBox.t,r&&r.onFirstMove&&r.onFirstMove(this,e),this.events.shift().remove()},destroy:function(){e.forEach(this.events,function(e){e.remove()});var t=this.host;t&&t.onMoveStop&&t.onMoveStop(this),this.events=this.node=this.host=null}})}),define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=t("dojo.dnd.Moveable",[r],{handle:"",delay:0,skip:!1,constructor:function(e,t){this.node=o.byId(e),t||(t={}),this.handle=t.handle?o.byId(t.handle):null,this.handle||(this.handle=this.node),this.delay=t.delay>0?t.delay:0,this.skip=t.skip,this.mover=t.mover?t.mover:h,this.events=[s(this.handle,d.press,i.hitch(this,"onMouseDown")),s(this.handle,"dragstart",i.hitch(this,"onSelectStart")),s(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]},markupFactory:function(e,t,i){return new i(t,e)},destroy:function(){e.forEach(this.events,function(e){e.remove()}),this.events=this.node=this.handle=null},onMouseDown:function(e){this.skip&&l.isFormElement(e)||(this.delay?(this.events.push(s(this.handle,d.move,i.hitch(this,"onMouseMove")),s(this.handle,d.release,i.hitch(this,"onMouseUp"))),this._lastX=e.pageX,this._lastY=e.pageY):this.onDragDetected(e),e.stopPropagation(),e.preventDefault())},onMouseMove:function(e){(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)&&(this.onMouseUp(e),this.onDragDetected(e)),e.stopPropagation(),e.preventDefault()},onMouseUp:function(e){for(var t=0;t<2;++t)this.events.pop().remove();e.stopPropagation(),e.preventDefault()},onSelectStart:function(e){this.skip&&l.isFormElement(e)||(e.stopPropagation(),e.preventDefault())},onDragDetected:function(e){new this.mover(this.node,e,this)},onMoveStart:function(e){a.publish("/dnd/move/start",e),n.add(c.body(),"dojoMove"),n.add(this.node,"dojoMoveItem")},onMoveStop:function(e){a.publish("/dnd/move/stop",e),n.remove(c.body(),"dojoMove"),n.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(e,t){this.onMoving(e,t);var i=e.node.style;i.left=t.l+"px",i.top=t.t+"px",this.onMoved(e,t)},onMoving:function(){},onMoved:function(){}});return u}),define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(e,t){var i=t.prototype.onMove;return e("dojo.dnd.TimedMoveable",t,{timeout:40,constructor:function(e,t){t||(t={}),t.timeout&&"number"==typeof t.timeout&&t.timeout>=0&&(this.timeout=t.timeout)},onMoveStop:function(e){e._timer&&(clearTimeout(e._timer),i.call(this,e,e._leftTop)),t.prototype.onMoveStop.apply(this,arguments)},onMove:function(e,t){if(e._leftTop=t,!e._timer){var o=this;e._timer=setTimeout(function(){e._timer=null,i.call(o,e,e._leftTop)},this.timeout)}}})}),define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(e,t,i,o,n,r){return t("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(t){var i=[];return e.forEach(t||this.getChildren(),function(e){"value"in e?i.push(e):i=i.concat(this._getDescendantFormWidgets(e.getChildren()))},this),i},reset:function(){e.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},validate:function(){var t=!1;return e.every(e.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var i=e.disabled||!e.validate||e.validate();return i||t||(r.scrollIntoView(e.containerNode||e.domNode),e.focus(),t=!0),i}),function(e){return e})},setValues:function(e){return i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(t){var i={};for(var n in e.forEach(this._getDescendantFormWidgets(),function(e){if(e.name){var t=i[e.name]||(i[e.name]=[]);t.push(e)}}),i)if(i.hasOwnProperty(n)){var r=i[n],s=o.getObject(n,!1,t);void 0!==s&&(s=[].concat(s),"boolean"==typeof r[0].checked?e.forEach(r,function(t){t.set("value",-1!=e.indexOf(s,t._get("value")))}):r[0].multiple?r[0].set("value",s):e.forEach(r,function(e,t){e.set("value",s[t])}))}},getValues:function(){return i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},_getValueAttr:function(){var t={};return e.forEach(this._getDescendantFormWidgets(),function(e){var i=e.name;if(i&&!e.disabled){var n=e.get("value");if("boolean"==typeof e.checked)if(/Radio/.test(e.declaredClass))!1!==n?o.setObject(i,n,t):void 0===(n=o.getObject(i,!1,t))&&o.setObject(i,null,t);else{var r=o.getObject(i,!1,t);r||(r=[],o.setObject(i,r,t)),!1!==n&&r.push(n)}else{var s=o.getObject(i,!1,t);void 0!==s?o.isArray(s)?s.push(n):o.setObject(i,[s,n],t):o.setObject(i,n,t)}}}),t},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var t=e.map(this._descendants,function(e){return e.get("state")||""});return e.indexOf(t,"Error")>=0?"Error":e.indexOf(t,"Incomplete")>=0?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(t){this._descendants=this._getDescendantFormWidgets(),e.forEach(this._descendants,function(e){e._started||e.startup()}),t||this._onChildChange()},_onChildChange:function(e){e&&"state"!=e&&"disabled"!=e||this._set("state",this._getState()),e&&"value"!=e&&"disabled"!=e&&"checked"!=e||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer,this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),this.value=this.get("value"),this.state=this._getState();var e=this;this.own(n(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(t){t.target!=e.domNode&&e._onChildChange(t.type.replace("attrmodified-",""))})),this.watch("state",function(e,t,i){this.onValidStateChange(""==i)})},destroy:function(){this.inherited(arguments)}})}),define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(e,t){return e("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute(),this.execute(this.get("value"))},_getFocusItems:function(){var e=t._getTabNavigable(this.domNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode,this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})}),define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=e("dijit.DialogUnderlay",[a,d],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"",class:"",_modalConnects:[],_setDialogIdAttr:function(e){o.set(this.node,"id",e+"_underlay"),this._set("dialogId",e)},_setClassAttr:function(e){this.node.className="dijitDialogUnderlay "+e,this._set("class",e)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.own(r(this.domNode,"keydown",t.hitch(this,"_onKeyDown"))),this.inherited(arguments)},layout:function(){var e=this.node.style,t=this.domNode.style;t.display="none";var i=s.getBox(this.ownerDocument);t.top=i.t+"px",t.left=i.l+"px",e.width=i.w+"px",e.height=i.h+"px",t.display="block"},show:function(){this.domNode.style.display="block",this.open=!0,this.layout(),this.bgIframe=new l(this.domNode);var e=s.get(this.ownerDocument);this._modalConnects=[h.on("resize",t.hitch(this,"layout")),r(e,"scroll",t.hitch(this,"layout"))]},hide:function(){for(this.bgIframe.destroy(),delete this.bgIframe,this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});return u.show=function(e,t){var i=u._singleton;!i||i._destroyed?i=c._underlay=u._singleton=new u(e):e&&i.set(e),n.set(i.domNode,"zIndex",t),i.open||i.show()},u.hide=function(){var e=u._singleton;e&&!e._destroyed&&e.hide()},u}),define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(e,t,i,o,n){function r(e,t){var o=e.resize?e.resize(t):i.setMarginBox(e.domNode,t);o?n.mixin(e,o):(n.mixin(e,i.getMarginBox(e.domNode)),n.mixin(e,t))}var s={marginBox2contentBox:function(e,t){var n=o.getComputedStyle(e),r=i.getMarginExtents(e,n),s=i.getPadBorderExtents(e,n);return{l:o.toPixelValue(e,n.paddingLeft),t:o.toPixelValue(e,n.paddingTop),w:t.w-(r.w+s.w),h:t.h-(r.h+s.h)}},layoutChildren:function(i,o,s,a,d){o=n.mixin({},o),t.add(i,"dijitLayoutContainer"),s=e.filter(s,function(e){return"center"!=e.region&&"client"!=e.layoutAlign}).concat(e.filter(s,function(e){return"center"==e.region||"client"==e.layoutAlign})),e.forEach(s,function(e){var i=e.domNode,n=e.region||e.layoutAlign;if(!n)throw new Error("No region setting for "+e.id);var s,l=i.style;l.left=o.l+"px",l.top=o.t+"px",l.position="absolute",t.add(i,"dijitAlign"+((s=n).substring(0,1).toUpperCase()+s.substring(1)));var h={};a&&a==e.id&&(h["top"==e.region||"bottom"==e.region?"h":"w"]=d),"leading"==n&&(n=e.isLeftToRight()?"left":"right"),"trailing"==n&&(n=e.isLeftToRight()?"right":"left"),"top"==n||"bottom"==n?(h.w=o.w,r(e,h),o.h-=e.h,"top"==n?o.t+=e.h:l.top=o.t+o.h+"px"):"left"==n||"right"==n?(h.h=o.h,r(e,h),o.w-=e.w,"left"==n?o.l+=e.w:l.left=o.l+o.w+"px"):"client"!=n&&"center"!=n||r(e,o)})}};return n.setObject("dijit.layout.utils",s),s}),define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(e,t,i,o,n,r,s,a,d,l){return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=e&&e.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(d.on("resize",r.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var e=[],t=!1;s("> *",this.containerNode).some(function(i){var o=a.byNode(i);o&&o.resize?e.push(o):!/script|link|style/i.test(i.nodeName)&&i.offsetHeight&&(t=!0)}),this._singleChild=1!=e.length||t?null:e[0],i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(e,t){this._resizeCalled=!0,this._scheduleLayout(e,t)},_scheduleLayout:function(e,t){this._isShown()?this._layout(e,t):(this._needLayout=!0,this._changeSize=e,this._resultSize=t)},_layout:function(e,t){delete this._needLayout,this._wasShown||!1===this.open||this._onShow(),e&&o.setMarginBox(this.domNode,e);var i=this.containerNode;if(i===this.domNode){var n=t||{};r.mixin(n,e||{}),"h"in n&&"w"in n||(n=r.mixin(o.getMarginBox(i),n)),this._contentBox=l.marginBox2contentBox(i,n)}else this._contentBox=o.getContentBox(i);this._layoutChildren()},_layoutChildren:function(){if(this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var e=this._contentBox||o.getContentBox(this.containerNode);this._singleChild.resize({w:e.w,h:e.h})}else for(var t,i=this.getChildren(),n=0;t=i[n++];)t.resize&&t.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var e=this.domNode,t=this.domNode.parentNode;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!i.contains(e,"dijitHidden")&&t&&t.style&&"none"!=t.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})}),define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(e,t,i,o,n,r,s){var a=0,d={_secureForInnerHtml:function(e){return e.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/gi,"")},_emptyNode:r.empty,_setNodeContent:function(e,i){if(r.empty(e),i)if("string"==typeof i&&(i=r.toDom(i,e.ownerDocument)),!i.nodeType&&t.isArrayLike(i))for(var o=i.length,n=0;n<i.length;n=o==i.length?n+1:0)r.place(i[n],e,"last");else r.place(i,e,"last");return e},_ContentSetter:o("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:e._scopeName,startup:!0,constructor:function(e,i){t.mixin(this,e||{}),i=this.node=n.byId(this.node||i),this.id||(this.id=["Setter",i?i.id||i.tagName:"",a++].join("_"))},set:function(e,t){void 0!==e&&(this.content=e),t&&this._mixin(t),this.onBegin(),this.setContent();var i=this.onEnd();return i&&i.then?i:this.node},setContent:function(){var e=this.node;if(!e)throw new Error(this.declaredClass+": setContent given no node");try{e=d._setNodeContent(e,this.content)}catch(i){var t=this.onContentError(i);try{e.innerHTML=t}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=e},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred),this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,function(e){e.destroy&&e.destroy()}),delete this.parseResults),r.empty(this.node)},onBegin:function(){var e=this.content;if(t.isString(e)&&(this.cleanContent&&(e=d._secureForInnerHtml(e)),this.extractContent)){var i=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);i&&(e=i[1])}return this.empty(),this.content=e,this.node},onEnd:function(){return this.parseContent&&this._parse(),this.node},tearDown:function(){delete this.parseResults,delete this.parseDeferred,delete this.node,delete this.content},onContentError:function(e){return"Error occurred setting content: "+e},onExecError:function(e){return"Error occurred executing scripts: "+e},_mixin:function(e){var t,i={};for(t in e)t in i||(this[t]=e[t])},_parse:function(){var e=this.node;try{var t={};i.forEach(["dir","lang","textDir"],function(e){this[e]&&(t[e]=this[e])},this);var o=this;this.parseDeferred=s.parse({rootNode:e,noStart:!this.startup,inherited:t,scope:this.parserScope}).then(function(e){return o.parseResults=e},function(e){o._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(e,t,i){var o=this["on"+e+"Error"].call(this,t);i?console.error(i,t):o&&d._setNodeContent(this.node,o,!0)}}),set:function(e,i,o){if(void 0==i&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),i=""),o){var n=new d._ContentSetter(t.mixin(o,{content:i,node:e}));return n.set()}return d._setNodeContent(e,i,!0)}};return t.setObject("dojo.html",d),d}),define("dojo/_base/Deferred",["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,i,o,n,r,s){var a=function(){},d=Object.freeze||function(){},l=e.Deferred=function(e){var s,h,c,u,f,p,m,g=this.promise=new i;function _(e){if(h)throw new Error("This deferred has already been resolved");s=e,h=!0,v()}function v(){for(var e;!e&&m;){var i=m;m=m.next,(e=i.progress==a)&&(h=!1);var o=f?i.error:i.resolved;if(n("config-useDeferredInstrumentation")&&f&&t.instrumentRejected&&t.instrumentRejected(s,!!o),o)try{var d=o(s);if(d&&"function"==typeof d.then){d.then(r.hitch(i.deferred,"resolve"),r.hitch(i.deferred,"reject"),r.hitch(i.deferred,"progress"));continue}var l=e&&void 0===d;e&&!l&&(f=d instanceof Error),i.deferred[l&&f?"reject":"resolve"](l?s:d)}catch(e){i.deferred.reject(e)}else f?i.deferred.reject(s):i.deferred.resolve(s)}}this.isResolved=g.isResolved=function(){return 0==u},this.isRejected=g.isRejected=function(){return 1==u},this.isFulfilled=g.isFulfilled=function(){return u>=0},this.isCanceled=g.isCanceled=function(){return c},this.resolve=this.callback=function(e){this.fired=u=0,this.results=[e,null],_(e)},this.reject=this.errback=function(e){f=!0,this.fired=u=1,n("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!m),_(e),this.results=[null,e]},this.progress=function(e){for(var t=m;t;){var i=t.progress;i&&i(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,a),this},g.then=this.then=function(e,t,i){var o=i==a?this:new l(g.cancel),n={resolved:e,error:t,progress:i,deferred:o};return m?p=p.next=n:m=p=n,h&&v(),o.promise};var b=this;g.cancel=this.cancel=function(){if(!h){var t=e&&e(b);h||(t instanceof Error||(t=new o(t)),t.log=!1,b.reject(t))}c=!0},d(g)};return r.extend(l,{addCallback:function(t){return this.addCallbacks(r.hitch.apply(e,arguments))},addErrback:function(t){return this.addCallbacks(null,r.hitch.apply(e,arguments))},addBoth:function(t){var i=r.hitch.apply(e,arguments);return this.addCallbacks(i,i)},fired:-1}),l.when=e.when=s,l}),define("dojo/io-query",["./_base/lang"],function(e){var t={};return{objectToQuery:function(i){var o=encodeURIComponent,n=[];for(var r in i){var s=i[r];if(s!=t[r]){var a=o(r)+"=";if(e.isArray(s))for(var d=0,l=s.length;d<l;++d)n.push(a+o(s[d]));else n.push(a+o(s))}}return n.join("&")},queryToObject:function(t){for(var i,o,n,r=decodeURIComponent,s=t.split("&"),a={},d=0,l=s.length;d<l;++d)if((n=s[d]).length){var h=n.indexOf("=");h<0?(i=r(n),o=""):(i=r(n.slice(0,h)),o=r(n.slice(h+1))),"string"==typeof a[i]&&(a[i]=[a[i]]),e.isArray(a[i])?a[i].push(o):a[i]=o}return a}}}),define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(e,t,i,o){function n(t,i,o){if(null!==o){var n=t[i];"string"==typeof n?t[i]=[n,o]:e.isArray(n)?n.push(o):t[i]=o}}var r={fieldToObject:function(e){var i=null;if(e=t.byId(e)){var o=e.name,n=(e.type||"").toLowerCase();if(o&&n&&!e.disabled)if("radio"==n||"checkbox"==n)e.checked&&(i=e.value);else if(e.multiple){i=[];for(var r=[e.firstChild];r.length;)for(var s=r.pop();s;s=s.nextSibling){if(1!=s.nodeType||"option"!=s.tagName.toLowerCase()){s.nextSibling&&r.push(s.nextSibling),s.firstChild&&r.push(s.firstChild);break}s.selected&&i.push(s.value)}}else i=e.value}return i},toObject:function(e){for(var i={},o=t.byId(e).elements,s=0,a=o.length;s<a;++s){var d=o[s],l=d.name,h=(d.type||"").toLowerCase();l&&h&&"file|submit|image|reset|button".indexOf(h)<0&&!d.disabled&&(n(i,l,r.fieldToObject(d)),"image"==h&&(i[l+".x"]=i[l+".y"]=i[l].x=i[l].y=0))}return i},toQuery:function(e){return i.objectToQuery(r.toObject(e))},toJson:function(e,t){return o.stringify(r.toObject(e),null,t?4:0)}};return r}),define("dojo/_base/json",["./kernel","../json"],function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="\t",dojo.toJson=function(e,t){return json.stringify(e,function(e,t){if(t){var i=t.__json__||t.json;if("function"==typeof i)return i.call(t)}return t},t&&dojo.toJsonIndentStr)},dojo}),define("dojo/errors/RequestError",["./create"],function(e){return e("RequestError",function(e,t){this.response=t})}),define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,i,o,n,r,s,a){e.deepCopy=function(t,i){for(var o in i){var n=t[o],r=i[o];n!==r&&(n&&"object"==typeof n&&r&&"object"==typeof r?e.deepCopy(n,r):t[o]=r)}return t},e.deepCreate=function(t,i){i=i||{};var o,n,r=s.delegate(t);for(o in t)(n=t[o])&&"object"==typeof n&&(r[o]=e.deepCreate(n,i[o]));return e.deepCopy(r,i)};var d=Object.freeze||function(e){return e};function l(e){return d(e)}function h(e){return e.data||e.text}e.deferred=function(n,r,c,u,f,p){var m=new o(function(e){return r&&r(m,n),e&&(e instanceof t||e instanceof i)?e:new i("Request canceled",n)});m.response=n,m.isValid=c,m.isReady=u,m.handleResponse=f;var g=m.then(l).otherwise(function(e){throw e.response=n,e});e.notify&&g.then(s.hitch(e.notify,"emit","load"),s.hitch(e.notify,"emit","error"));var _=g.then(h),v=new a;for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b]);return v.response=g,d(v),p&&m.then(function(e){p.call(m,e)},function(e){p.call(m,n,e)}),m.promise=v,m.then=v.then,m},e.addCommonMethods=function(e,t){r.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(i,o){return(o=s.delegate(o||{})).method=t,e(i,o)}})},e.parseArgs=function(e,t,i){var o=t.data,r=t.query;return o&&!i&&"object"==typeof o&&(t.data=n.objectToQuery(o)),r?("object"==typeof r&&(r=n.objectToQuery(r)),t.preventCache&&(r+=(r?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(r="request.preventCache="+ +new Date),e&&r&&(e+=(~e.indexOf("?")?"&":"?")+r),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return(e=e||0)>=200&&e<300||304===e||1223===e||!e}}),define("dojo/errors/RequestTimeoutError",["./create","./RequestError"],function(e,t){return e("RequestTimeoutError",null,t,{dojoType:"timeout"})}),define("dojo/request/watch",["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../has!host-browser?../_base/window:","../has!host-browser?dom-addeventlistener?:../on:"],function(e,t,i,o,n,r){var s=null,a=[];function d(){for(var e,i=+new Date,o=0;o<a.length&&(e=a[o]);o++){var n=e.response,r=n.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(n)?(a.splice(o--,1),l._onAction&&l._onAction()):e.isReady&&e.isReady(n)?(a.splice(o--,1),e.handleResponse(n),l._onAction&&l._onAction()):e.startTime&&e.startTime+(r.timeout||0)<i&&(a.splice(o--,1),e.cancel(new t("Timeout exceeded",n)),l._onAction&&l._onAction())}l._onInFlight&&l._onInFlight(e),a.length||(clearInterval(s),s=null)}function l(e){e.response.options.timeout&&(e.startTime=+new Date),e.isFulfilled()||(a.push(e),s||(s=setInterval(d,50)),e.response.options.sync&&d())}return l.cancelAll=function(){try{o.forEach(a,function(e){try{e.cancel(new i("All requests canceled."))}catch(e){}})}catch(e){}},n&&r&&n.doc.attachEvent&&r(n.global,"unload",function(){l.cancelAll()}),l}),define("dojo/request/handlers",["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(e,t,i,o){var n;if(o.add("activex","undefined"!=typeof ActiveXObject),o.add("dom-parser",function(e){return"DOMParser"in e}),o("activex")){var r,s=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];n=function(e){var t=e.data,n=e.text;function a(e){try{var i=new ActiveXObject(e);i.async=!1,i.loadXML(n),t=i,r=e}catch(e){return!1}return!0}return t&&o("dom-qsa2.1")&&!t.querySelectorAll&&o("dom-parser")&&(t=(new DOMParser).parseFromString(n,"application/xml")),t&&t.documentElement||r&&a(r)||i.some(s,a),t}}var a=function(e){return o("native-xhr2-blob")||"blob"!==e.options.handleAs||"undefined"==typeof Blob?e.xhr.response:new Blob([e.xhr.response],{type:e.xhr.getResponseHeader("Content-Type")})},d={javascript:function(e){return t.eval(e.text||"")},json:function(t){return e.parse(t.text||null)},xml:n,blob:a,arraybuffer:a,document:a};function l(e){var t=d[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}return l.register=function(e,t){d[e]=t},l}),define("dojo/request/xhr",["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,t,i,o,n){n.add("native-xhr",function(){return"undefined"!=typeof XMLHttpRequest}),n.add("dojo-force-activex-xhr",function(){return n("activex")&&!document.addEventListener&&"file:"===window.location.protocol}),n.add("native-xhr2",function(){if(n("native-xhr")){var e=new XMLHttpRequest;return void 0!==e.addEventListener&&("undefined"==typeof opera||void 0!==e.upload)}}),n.add("native-formdata",function(){return"undefined"!=typeof FormData}),n.add("native-response-type",function(){return n("native-xhr")&&void 0!==(new XMLHttpRequest).responseType}),n.add("native-xhr2-blob",function(){if(n("native-response-type")){var e=new XMLHttpRequest;e.open("GET","/",!0),e.responseType="blob";var t=e.responseType;return e.abort(),"blob"===t}});var r,s,a,d,l={blob:n("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function h(t,n){var r=t.xhr;t.status=t.xhr.status;try{t.text=r.responseText}catch(e){}if("xml"===t.options.handleAs&&(t.data=r.responseXML),!n)try{i(t)}catch(e){n=e}n?this.reject(n):o.checkStatus(r.status)?this.resolve(t):(n=new e("Unable to load "+t.url+" status: "+r.status,t),this.reject(n))}function c(e){return this.xhr.getResponseHeader(e)}n("native-xhr2")?(r=function(e){return!this.isFulfilled()},d=function(e,t){t.xhr.abort()},a=function(t,i,o){function n(e){i.handleResponse(o)}function r(t){var n=t.target,r=new e("Unable to load "+o.url+" status: "+n.status,o);i.handleResponse(o,r)}function s(e){e.lengthComputable?(o.loaded=e.loaded,o.total=e.total,i.progress(o)):3===o.xhr.readyState&&(o.loaded=e.position,i.progress(o))}return t.addEventListener("load",n,!1),t.addEventListener("error",r,!1),t.addEventListener("progress",s,!1),function(){t.removeEventListener("load",n,!1),t.removeEventListener("error",r,!1),t.removeEventListener("progress",s,!1),t=null}}):(r=function(e){return e.xhr.readyState},s=function(e){return 4===e.xhr.readyState},d=function(e,t){var i=t.xhr,o=typeof i.abort;"function"!==o&&"object"!==o&&"unknown"!==o||i.abort()});var u,f={data:null,query:null,sync:!1,method:"GET"};function p(i,m,g){var _=n("native-formdata")&&m&&m.data&&m.data instanceof FormData,v=o.parseArgs(i,o.deepCreate(f,m),_);i=v.url,m=v.options;var b,y=o.deferred(v,d,r,s,h,function(){b&&b()}),C=v.xhr=p._create();if(!C)return y.cancel(new e("XHR was not created")),g?y:y.promise;v.getHeader=c,a&&(b=a(C,y,v));var x=m.data,w=!m.sync,j=m.method;try{C.open(j,i,w,m.user||u,m.password||u),m.withCredentials&&(C.withCredentials=m.withCredentials),n("native-response-type")&&m.handleAs in l&&(C.responseType=l[m.handleAs]);var N=m.headers,S=!_&&"application/x-www-form-urlencoded";if(N)for(var D in N)"content-type"===D.toLowerCase()?S=N[D]:N[D]&&C.setRequestHeader(D,N[D]);S&&!1!==S&&C.setRequestHeader("Content-Type",S),N&&"X-Requested-With"in N||C.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.notify&&o.notify.emit("send",v,y.promise.cancel),C.send(x)}catch(e){y.reject(e)}return t(y),C=null,g?y:y.promise}if(p._create=function(){throw new Error("XMLHTTP not available")},n("native-xhr")&&!n("dojo-force-activex-xhr"))p._create=function(){return new XMLHttpRequest};else if(n("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),p._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),p._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){}}return o.addCommonMethods(p),p}),define("dojo/_base/xhr",["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){e._xhrObj=p._create;var g=e.config;e.objectToQuery=o.objectToQuery,e.queryToObject=o.queryToObject,e.fieldToObject=r.fieldToObject,e.formToObject=r.toObject,e.formToQuery=r.toQuery,e.formToJson=r.toJson,e._blockAsync=!1;var _=e._contentHandlers=e.contentHandlers={text:function(e){return e.responseText},json:function(e){return d.fromJson(e.responseText||null)},"json-comment-filtered":function(e){a.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");var t=e.responseText,i=t.indexOf("/*"),o=t.lastIndexOf("*/");if(-1==i||-1==o)throw new Error("JSON was not comment filtered");return d.fromJson(t.substring(i+2,o))},javascript:function(t){return e.eval(t.responseText)},xml:function(e){var i=e.responseXML;if(i&&t("dom-qsa2.1")&&!i.querySelectorAll&&t("dom-parser")&&(i=(new DOMParser).parseFromString(e.responseText,"application/xml")),t("ie")&&(!i||!i.documentElement)){var o=function(e){return"MSXML"+e+".DOMDocument"},n=["Microsoft.XMLDOM",o(6),o(4),o(3),o(2)];h.some(n,function(t){try{var o=new ActiveXObject(t);o.async=!1,o.loadXML(e.responseText),i=o}catch(e){return!1}return!0})}return i},"json-comment-optional":function(e){return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?_["json-comment-filtered"](e):_.json(e)}};e._ioSetArgs=function(t,i,a,d){var h={args:t,url:t.url},c=null;if(t.form){var u=n.byId(t.form),f=u.getAttributeNode("action");h.url=h.url||(f?f.value:null),c=r.toObject(u)}var p=[{}];c&&p.push(c),t.content&&p.push(t.content),t.preventCache&&p.push({"dojo.preventCache":(new Date).valueOf()}),h.query=o.objectToQuery(l.mixin.apply(null,p)),h.handleAs=t.handleAs||"text";var m=new s(function(e){e.canceled=!0,i&&i(e);var t=e.ioArgs.error;return t||((t=new Error("request cancelled")).dojoType="cancel",e.ioArgs.error=t),t});m.addCallback(a);var _=t.load;_&&l.isFunction(_)&&m.addCallback(function(e){return _.call(t,e,h)});var v=t.error;v&&l.isFunction(v)&&m.addErrback(function(e){return v.call(t,e,h)});var b=t.handle;return b&&l.isFunction(b)&&m.addBoth(function(e){return b.call(t,e,h)}),m.addErrback(function(e){return d(e,m)}),g.ioPublish&&e.publish&&!1!==h.args.ioPublish&&(m.addCallbacks(function(t){return e.publish("/dojo/io/load",[m,t]),t},function(t){return e.publish("/dojo/io/error",[m,t]),t}),m.addBoth(function(t){return e.publish("/dojo/io/done",[m,t]),t})),m.ioArgs=h,m};var v=function(e){var t=_[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t},b=function(e,t){return t.ioArgs.args.failOk||console.error(e),e},y=function(t){C<=0&&(C=0,g.ioPublish&&e.publish&&(!t||t&&!1!==t.ioArgs.args.ioPublish)&&e.publish("/dojo/io/stop"))},C=0;u.after(f,"_onAction",function(){C-=1}),u.after(f,"_onInFlight",y),e._ioCancelAll=f.cancelAll,e._ioNotifyStart=function(t){g.ioPublish&&e.publish&&!1!==t.ioArgs.args.ioPublish&&(C||e.publish("/dojo/io/start"),C+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,i,o){e.ioArgs.options=e.ioArgs.args;l.mixin(e,{response:e.ioArgs,isValid:function(i){return t(e)},isReady:function(t){return i(e)},handleResponse:function(t){return o(e)}}),f(e),y(e)};return e._ioAddQueryToUrl=function(e){e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},e.xhr=function(t,i,o){var n,r=e._ioSetArgs(i,function(e){n&&n.cancel()},v,b),s=r.ioArgs;"postData"in i?s.query=i.postData:"putData"in i?s.query=i.putData:"rawBody"in i?s.query=i.rawBody:(arguments.length>2&&!o||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(s);var a={method:t,handleAs:"text",timeout:i.timeout,withCredentials:i.withCredentials,ioArgs:s};void 0!==i.headers&&(a.headers=i.headers),void 0!==i.contentType&&(a.headers||(a.headers={}),a.headers["Content-Type"]=i.contentType),void 0!==s.query&&(a.data=s.query),void 0!==i.sync&&(a.sync=i.sync),e._ioNotifyStart(r);try{n=p(s.url,a,!0)}catch(e){return r.cancel(),r}return r.ioArgs.xhr=n.response.xhr,n.then(function(){r.resolve(r)}).otherwise(function(e){s.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,e.xhr=e.response.xhr),r.reject(e)}),r},e.xhrGet=function(t){return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return m.checkStatus(e.status)},e._getText=function(t){var i;return e.xhrGet({url:t,sync:!0,load:function(e){i=e}}),i},l.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:r.fieldToObject,formToObject:r.toObject,objectToQuery:o.objectToQuery,formToQuery:r.toQuery,formToJson:r.toJson,queryToObject:o.queryToObject,contentHandlers:_,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr}),define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g){return l("dijit.layout.ContentPane",[i,o,n],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:e._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(e,t,i){var o=new i(e,t);return!o.href&&o._contentSetter&&o._contentSetter.parseDeferred&&!o._contentSetter.parseDeferred.isFulfilled()?o._contentSetter.parseDeferred.then(function(){return o}):o},create:function(e,i){if((!e||!e.template)&&i&&!("href"in e)&&!("content"in e)){for(var o=(i=c.byId(i)).ownerDocument.createDocumentFragment();i.firstChild;)o.appendChild(i.firstChild);e=t.delegate(e,{content:o})}this.inherited(arguments,[e,i])},postMixInProperties:function(){this.inherited(arguments);var e=m.getLocalization("dijit","loading",this.lang);this.loadingMessage=r.substitute(this.loadingMessage,e),this.errorMessage=r.substitute(this.errorMessage,e)},buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode),this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments),this._contentSetter&&d.forEach(this._contentSetter.parseResults,function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this)},_startChildren:function(){d.forEach(this.getChildren(),function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)}),this._contentSetter&&d.forEach(this._contentSetter.parseResults,function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this)},setHref:function(t){return e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0"),this.set("href",t)},_setHrefAttr:function(e){return this.cancel(),this.onLoadDeferred=new h(t.hitch(this,"cancel")),this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._set("href",e),this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0,this.onLoadDeferred},setContent:function(t){e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0"),this.set("content",t)},_setContentAttr:function(e){return this._set("href",""),this.cancel(),this.onLoadDeferred=new h(t.hitch(this,"cancel")),this._created&&this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._setContent(e||""),this._isDownloaded=!1,this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),delete this._xhrDfd,this.onLoadDeferred=null},destroy:function(){this.cancel(),this.inherited(arguments)},destroyRecursive:function(e){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){if(this.inherited(arguments),this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){return this.cancel(),this.onLoadDeferred=new h(t.hitch(this,"cancel")),this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._load(),this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var e=this,i={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};t.isObject(this.ioArgs)&&t.mixin(i,this.ioArgs);var o,n=this._xhrDfd=(this.ioMethod||p.get)(i);n.then(function(t){o=t;try{return e._isDownloaded=!0,e._setContent(t,!1)}catch(t){e._onError("Content",t)}},function(t){return n.canceled||e._onError("Download",t),delete e._xhrDfd,t}).then(function(){return e.onDownloadEnd(),delete e._xhrDfd,o}),delete this._hrefChanged},_onLoadHandler:function(e){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(e)}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message)}},destroyDescendants:function(e){this.isLoaded&&this._onUnloadHandler();var t=this._contentSetter;d.forEach(this.getChildren(),function(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),t._destroyed=!0}),t&&(d.forEach(t.parseResults,function(t){t._destroyed||(t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),t._destroyed=!0)}),delete t.parseResults),e||f.empty(this.containerNode),delete this._singleChild},_setContent:function(e,i){this.destroyDescendants();var o=this._contentSetter;o&&o instanceof s._ContentSetter||(o=this._contentSetter=new s._ContentSetter({node:this.containerNode,_onError:t.hitch(this,this._onError),onContentError:t.hitch(this,function(e){var t=this.onContentError(e);try{this.containerNode.innerHTML=t}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e)}})}));var n=t.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!e.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),r=o.set(t.isObject(e)&&e.domNode?e.domNode:e,n),a=this;return g(r&&r.then?r:o.parseDeferred,function(){delete a._contentSetterParams,i||(a._started&&(a._startChildren(),a._scheduleLayout()),a._onLoadHandler(e))})},_onError:function(e,t,i){this.onLoadDeferred.reject(t);var o=this["on"+e+"Error"].call(this,t);i?console.error(i,t):o&&this._setContent(o,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})}),define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x,w,j,N,S,D,T,k){var A=new n;A.resolve(!0);var E=o("dijit._DialogBase"+(m("dojo-bidi")?"_NoBidi":""),[x,j,N,w],{templateString:k,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:y.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(e){this._set("draggable",e)},maxRatio:.9,closable:!0,_setClosableAttr:function(e){this.closeButtonNode.style.display=e?"":"none",this._set("closable",e)},postMixInProperties:function(){var e=h.getLocalization("dijit","common");u.mixin(this,e),this.inherited(arguments)},postCreate:function(){d.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),i.after(this,"onExecute",u.hitch(this,"hide"),!0),i.after(this,"onCancel",u.hitch(this,"hide"),!0),this._modalconnects=[]},onLoad:function(){this.resize(),this._position(),this.autofocus&&I.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(),b.focus(this._firstFocusItem)},_endDrag:function(){var e=a.position(this.domNode),t=g.getBox(this.ownerDocument);e.y=Math.min(Math.max(e.y,0),t.h-e.h),e.x=Math.min(Math.max(e.x,0),t.w-e.w),this._relativePosition=e,this._position()},_setup:function(){var e=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==m("ie")?v:_)(e,{handle:this.titleBar}),i.after(this._moveable,"onMoveStop",u.hitch(this,"_endDrag"),!0)):s.add(e,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,class:t.map(this.class.split(/\s/),function(e){return e+"_underlay"}).join(" "),_onKeyDown:u.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!s.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,t=g.getBox(this.ownerDocument),i=this._relativePosition,o=i?null:a.position(e),n=Math.floor(t.l+(i?i.x:(t.w-o.w)/2)),r=Math.floor(t.t+(i?i.y:(t.h-o.h)/2));d.set(e,{left:n+"px",top:r+"px"})}},_onKey:function(e){if(e.keyCode==c.TAB){this._getFocusItems();var t=e.target;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(b.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):t!=this._lastFocusItem||e.shiftKey||(b.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}else this.closable&&e.keyCode==c.ESCAPE&&(this.onCancel(),e.stopPropagation(),e.preventDefault())},show:function(){if(this.open)return A.promise;this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),I.hide(this));var e,t=g.get(this.ownerDocument);this._modalconnects.push(f(t,"scroll",u.hitch(this,"resize",null))),this._modalconnects.push(f(this.domNode,"keydown",u.hitch(this,"_onKey"))),d.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this.resize(),this._position(),this._fadeInDeferred=new n(u.hitch(this,function(){e.stop(),delete this._fadeInDeferred}));var i=this._fadeInDeferred.promise;return e=l.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:u.hitch(this,function(){I.show(this,this.underlayAttrs)}),onEnd:u.hitch(this,function(){this.autofocus&&I.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),i},hide:function(){if(!this._alreadyInitialized||!this.open)return A.promise;var e;this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred=new n(u.hitch(this,function(){e.stop(),delete this._fadeOutDeferred})),this._fadeOutDeferred.then(u.hitch(this,"onHide"));var t,i=this._fadeOutDeferred.promise;for(e=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:u.hitch(this,function(){this.domNode.style.display="none",I.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);t=this._modalconnects.pop();)t.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),i},resize:function(e){if("none"!=this.domNode.style.display){if(this._checkIfSingleChild(),!e){this._shrunk&&(this._singleChild&&void 0!==this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),t.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(e){e&&d.set(e,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var i=g.getBox(this.ownerDocument);i.w*=this.maxRatio,i.h*=this.maxRatio;var o=a.position(this.domNode);o.w>=i.w||o.h>=i.h?(e={w:Math.min(o.w,i.w),h:Math.min(o.h,i.h)},this._shrunk=!0):this._shrunk=!1}if(e){a.setMarginBox(this.domNode,e);var n=[];this.titleBar&&n.push({domNode:this.titleBar,region:"top"}),this.actionBarNode&&n.push({domNode:this.actionBarNode,region:"bottom"});var r={domNode:this.containerNode,region:"center"};n.push(r);var s=T.marginBox2contentBox(this.domNode,e);if(T.layoutChildren(this.domNode,s,n),this._singleChild){var l=T.marginBox2contentBox(this.containerNode,r);this._singleChild.resize({w:l.w,h:l.h})}else this.containerNode.style.overflow="auto",this._layoutChildren()}else this._layoutChildren();m("touch")||e||this._position()}},_layoutChildren:function(){t.forEach(this.getChildren(),function(e){e.resize&&e.resize()})},destroy:function(){var e;for(this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();e=this._modalconnects.pop();)e.remove();I.hide(this),this.inherited(arguments)}});m("dojo-bidi")&&(E=o("dijit._DialogBase",E,{_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title))}}));var M=o("dijit.Dialog",[D,E],{});M._DialogBase=E;var I=M._DialogLevelManager={_beginZIndex:950,show:function(e,t){L[L.length-1].focus=b.curNode;var i=L[L.length-1].dialog?L[L.length-1].zIndex+2:M._DialogLevelManager._beginZIndex;d.set(e.domNode,"zIndex",i),S.show(t,i-1),L.push({dialog:e,underlayAttrs:t,zIndex:i})},hide:function(e){if(L[L.length-1].dialog==e){L.pop();var i=L[L.length-1];if(1==L.length?S.hide():S.show(i.underlayAttrs,i.zIndex-1),e.refocus){var o=i.focus;if(!i.dialog||o&&r.isDescendant(o,i.dialog.domNode)||(i.dialog._getFocusItems(),o=i.dialog._firstFocusItem),o)try{o.focus()}catch(e){}}}else{var n=t.indexOf(t.map(L,function(e){return e.dialog}),e);-1!=n&&L.splice(n,1)}},isTop:function(e){return L[L.length-1].dialog==e}},L=M._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return b.watch("curNode",function(e,t,i){var o=L[L.length-1].dialog;if(i&&o&&!o._fadeOutDeferred&&i.ownerDocument==o.ownerDocument){do{if(i==o.domNode||s.contains(i,"dijitPopup"))return}while(i=i.parentNode);o.focus()}}),m("dijit-legacy-requires")&&p(0,function(){e(["dijit/TooltipDialog"])}),M}),define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(e,t,i,o,n,r,s,a,d,l,h,c,u){var f=e("dijit.TooltipDialog",[a,h,l,d],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:c,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments),this.own(r(this.domNode,"keydown",n.hitch(this,"_onKey")))},orient:function(e,i,o){var n={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[i+"-"+o];t.replace(this.domNode,n,this._currentOrientClass||""),this._currentOrientClass=n},focus:function(){this._getFocusItems(),s.focus(this._firstFocusItem)},onOpen:function(e){this.orient(this.domNode,e.aroundCorner,e.corner);var t=e.aroundNodePos;"M"==e.corner.charAt(0)&&"M"==e.aroundCorner.charAt(0)?(this.connectorNode.style.top=t.y+(t.h-this.connectorNode.offsetHeight>>1)-e.y+"px",this.connectorNode.style.left=""):"M"==e.corner.charAt(1)&&"M"==e.aroundCorner.charAt(1)&&(this.connectorNode.style.left=t.x+(t.w-this.connectorNode.offsetWidth>>1)-e.x+"px"),this._onShow()},onClose:function(){this.onHide()},_onKey:function(e){if(e.keyCode==o.ESCAPE)this.defer("onCancel"),e.stopPropagation(),e.preventDefault();else if(e.keyCode==o.TAB){var t=e.target;this._getFocusItems(),this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(s.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):t!=this._lastFocusItem||e.shiftKey?e.stopPropagation():(s.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}}});return i("dojo-bidi")&&f.extend({_setTitleAttr:function(e){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,e):e,this._set("title",e)},_setTextDirAttr:function(e){this._created&&this.textDir==e||(this._set("textDir",e),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}}),f}),define("dijit/_KeyNavMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(e,t,i,o,n,r,s,a){return t("dijit._KeyNavMixin",a,{tabIndex:"0",childSelector:null,postCreate:function(){if(this.inherited(arguments),i.set(this.domNode,"tabIndex",this.tabIndex),!this._keyNavCodes){var e=this._keyNavCodes={};e[o.HOME]=n.hitch(this,"focusFirstChild"),e[o.END]=n.hitch(this,"focusLastChild"),e[this.isLeftToRight()?o.LEFT_ARROW:o.RIGHT_ARROW]=n.hitch(this,"_onLeftArrow"),e[this.isLeftToRight()?o.RIGHT_ARROW:o.LEFT_ARROW]=n.hitch(this,"_onRightArrow"),e[o.UP_ARROW]=n.hitch(this,"_onUpArrow"),e[o.DOWN_ARROW]=n.hitch(this,"_onDownArrow")}var t=this,a="string"==typeof this.childSelector?this.childSelector:n.hitch(this,"childSelector");this.own(r(this.domNode,"keypress",n.hitch(this,"_onContainerKeypress")),r(this.domNode,"keydown",n.hitch(this,"_onContainerKeydown")),r(this.domNode,"focus",n.hitch(this,"_onContainerFocus")),r(this.containerNode,r.selector(a,"focusin"),function(e){t._onChildFocus(s.getEnclosingWidget(this),e)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(e,t){e&&(this.focusedChild&&e!==this.focusedChild&&this._onChildBlur(this.focusedChild),e.set("tabIndex",this.tabIndex),e.focus(t?"end":"start"))},_onContainerFocus:function(e){e.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){i.set(this.domNode,"tabIndex","-1"),this.inherited(arguments)},_onBlur:function(e){i.set(this.domNode,"tabIndex",this.tabIndex),this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null)),this.inherited(arguments)},_onChildFocus:function(e){e&&e!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),e.set("tabIndex",this.tabIndex),this.lastFocused=e,this._set("focusedChild",e))},_searchString:"",multiCharSearchDuration:1e3,onKeyboardSearch:function(e,t,i,o){e&&this.focusChild(e)},_keyboardSearchCompare:function(e,t){var i=e.domNode,o=e.label||(i.focusNode?i.focusNode.label:"")||i.innerText||i.textContent||"",n=o.replace(/^\s+/,"").substr(0,t.length).toLowerCase();return t.length&&n==t?-1:0},_onContainerKeydown:function(e){var t=this._keyNavCodes[e.keyCode];t?(t(e,this.focusedChild),e.stopPropagation(),e.preventDefault(),this._searchString=""):e.keyCode==o.SPACE&&this._searchTimer&&!(e.ctrlKey||e.altKey||e.metaKey)&&(e.stopImmediatePropagation(),e.preventDefault(),this._keyboardSearch(e," "))},_onContainerKeypress:function(e){e.charCode<=o.SPACE||e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),e.stopPropagation(),this._keyboardSearch(e,String.fromCharCode(e.charCode).toLowerCase()))},_keyboardSearch:function(e,t){var i,o=null,r=0,s=n.hitch(this,function(){this._searchTimer&&this._searchTimer.remove(),this._searchString+=t;var e=/^(.)\1*$/.test(this._searchString),n=e?1:this._searchString.length;i=this._searchString.substr(0,n),this._searchTimer=this.defer(function(){this._searchTimer=null,this._searchString=""},this.multiCharSearchDuration);var s=this.focusedChild||null;if(1!=n&&s||(s=this._getNextFocusableChild(s,1))){var a=s;do{var d=this._keyboardSearchCompare(s,i);if(d&&0==r++&&(o=s),-1==d){r=-1;break}s=this._getNextFocusableChild(s,1)}while(s!=a)}});s(),this.onKeyboardSearch(o,e,i,r)},_onChildBlur:function(){},_getNextFocusableChild:function(e,t){var i=e;do{if(e)e=this._getNext(e,t);else if(!(e=this[t>0?"_getFirst":"_getLast"]()))break;if(null!=e&&e!=i&&e.isFocusable())return e}while(e!=i);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(e,t){if(e)for(e=e.domNode;e;)if((e=e[t<0?"previousSibling":"nextSibling"])&&"getAttribute"in e){var i=s.byNode(e);if(i)return i}return null}})}),define("dijit/_KeyNavContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(e,t,i,o,n,r,s,a,d,l){return t("dijit._KeyNavContainer",[d,l,a],{connectKeyNavHandlers:function(t,i){var o=this._keyNavCodes={},s=r.hitch(this,"focusPrev"),a=r.hitch(this,"focusNext");e.forEach(t,function(e){o[e]=s}),e.forEach(i,function(e){o[e]=a}),o[n.HOME]=r.hitch(this,"focusFirstChild"),o[n.END]=r.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){o.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments),e.forEach(this.getChildren(),r.hitch(this,"_startupChild"))},addChild:function(e,t){this.inherited(arguments),this._startupChild(e)},_startupChild:function(e){e.set("tabIndex","-1")},_getFirst:function(){var e=this.getChildren();return e.length?e[0]:null},_getLast:function(){var e=this.getChildren();return e.length?e[e.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(e){var e=s.byNode(e);return e&&e.getParent()==this}})}),define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,i,o,n,r,s,a){return i("dijit-legacy-requires")&&n(0,function(){e(["dijit/ToolbarSeparator"])}),t("dijit.Toolbar",[r,a,s],{templateString:'<div class="dijit" role="toolbar" tabIndex="${tabIndex}" data-dojo-attach-point="containerNode"></div>',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})}),define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(e,t,i,o){return e("dijit.ToolbarSeparator",[i,o],{templateString:'<div class="dijitToolbarSeparator dijitInline" role="presentation"></div>',buildRendering:function(){this.inherited(arguments),t.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})}),define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(e,t,i,o){var n=e("dijit.form._ButtonMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){return e.stopPropagation(),e.preventDefault(),this.disabled||this.valueNode.click(e),!1},_onClick:function(e){if(this.disabled)return e.stopPropagation(),e.preventDefault(),!1;!1===this.onClick(e)&&e.preventDefault();var t=e.defaultPrevented;if(!t&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var i=this.domNode;i.parentNode;i=i.parentNode){var n=o.byNode(i);if(n&&"function"==typeof n._onSubmit){n._onSubmit(e),e.preventDefault(),t=!0;break}}return!t},postCreate:function(){this.inherited(arguments),t.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(e){this._set("label",e);var t=this.containerNode||this.focusNode;t.innerHTML=e}});return i("dojo-bidi")&&(n=e("dijit.form._ButtonMixin",n,{_setLabelAttr:function(){this.inherited(arguments);var e=this.containerNode||this.focusNode;this.applyTextDir(e)}})),n}),define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(e,t,i,o,n,r,s,a,d,l){o("dijit-legacy-requires")&&s(0,function(){e(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});var h=t("dijit.form.Button"+(o("dojo-bidi")?"_NoBidi":""),[a,d],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:l,_setValueAttr:"valueNode",_setNameAttr:function(e){this.valueNode&&this.valueNode.setAttribute("name",e)},_fillContent:function(e){if(e&&(!this.params||!("label"in this.params))){var t=r.trim(e.innerHTML);t&&(this.label=t)}},_setShowLabelAttr:function(e){this.containerNode&&i.toggle(this.containerNode,"dijitDisplayNone",!e),this._set("showLabel",e)},setLabel:function(e){n.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),this.set("label",e)},_setLabelAttr:function(e){this.inherited(arguments),this.showLabel||"title"in this.params||(this.titleNode.title=r.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});return o("dojo-bidi")&&(h=t("dijit.form.Button",h,{_setLabelAttr:function(e){this.inherited(arguments),this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this._setLabelAttr(this.label))}})),h}),define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){return e("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(e){var t=this.checked;this._set("checked",!t);var i=this.inherited(arguments);return this.set("checked",i?this.checked:t),i},_setCheckedAttr:function(e,i){this._set("checked",e);var o=this.focusNode||this.domNode;this._created&&t.get(o,"checked")!=!!e&&t.set(o,"checked",!!e),o.setAttribute(this._aria_attr,String(e)),this._handleOnChange(e,i)},postCreate:function(){this.inherited(arguments);var e=this.focusNode||this.domNode;this.checked&&e.setAttribute("checked","checked"),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1,this.set("checked",this.params.checked||!1)}})}),define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(e,t,i,o){return e("dijit.form.ToggleButton",[i,o],{baseClass:"dijitToggleButton",setChecked:function(e){t.deprecated("setChecked("+e+") is deprecated. Use set('checked',"+e+") instead.","","2.0"),this.set("checked",e)}})}),define("dijit/_editor/_Plugin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(e,t,i,o,n){var r=t("dijit._editor._Plugin",o,{constructor:function(e){this.params=e||{},i.mixin(this,this.params),this._attrPairNames={}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:!0,buttonClass:n,disabled:!1,getLabel:function(e){return this.editor.commands[e]},_initButton:function(){if(this.command.length){var e=this.getLabel(this.command),t=this.editor,o=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var n=i.mixin({label:e,ownerDocument:t.ownerDocument,dir:t.dir,lang:t.lang,showLabel:!1,iconClass:o,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});delete n.name,this.button=new this.buttonClass(n)}}this.get("disabled")&&this.button&&this.button.set("disabled",this.get("disabled"))},destroy:function(){this.dropDown&&this.dropDown.destroyRecursive(),this.inherited(arguments)},connect:function(t,i,o){this.own(e.connect(t,i,this,o))},updateState:function(){var e,t,i=this.editor,o=this.command;if(i&&i.isLoaded&&o.length){var n=this.get("disabled");if(this.button)try{t=!n&&i.queryCommandEnabled(o),this.enabled!==t&&(this.enabled=t,this.button.set("disabled",!t)),t&&"boolean"==typeof this.button.checked&&(e=i.queryCommandState(o),this.checked!==e&&(this.checked=e,this.button.set("checked",i.queryCommandState(o))))}catch(i){console.log(i)}}},setEditor:function(e){this.editor=e,this._initButton(),this.button&&this.useDefaultCommand&&(this.editor.queryCommandAvailable(this.command)?this.own(this.button.on("click",i.hitch(this.editor,"execCommand",this.command,this.commandArg))):this.button.domNode.style.display="none"),this.own(this.editor.on("NormalizedDisplayChanged",i.hitch(this,"updateState")))},setToolbar:function(e){this.button&&e.addChild(this.button)},set:function(e,t){if("object"==typeof e){for(var i in e)this.set(i,e[i]);return this}var o=this._getAttrNames(e);if(this[o.s])var n=this[o.s].apply(this,Array.prototype.slice.call(arguments,1));else this._set(e,t);return n||this},get:function(e){var t=this._getAttrNames(e);return this[t.g]?this[t.g]():this[e]},_setDisabledAttr:function(e){this._set("disabled",e),this.updateState()},_getAttrNames:function(e){var t=this._attrPairNames;if(t[e])return t[e];var i=e.charAt(0).toUpperCase()+e.substr(1);return t[e]={s:"_set"+i+"Attr",g:"_get"+i+"Attr"}},_set:function(e,t){this[e]=t}});return r.registry={},r}),define("dojo/_base/unload",["./kernel","./lang","../on"],function(e,t,i){var o=window,n={addOnWindowUnload:function(n,r){e.windowUnloaded||i(o,"unload",e.windowUnloaded=function(){}),i(o,"unload",t.hitch(n,r))},addOnUnload:function(e,n){i(o,"beforeunload",t.hitch(e,n))}};return e.addOnWindowUnload=n.addOnWindowUnload,e.addOnUnload=n.addOnUnload,n}),define("dijit/_editor/range",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(e,t,i){var o={getIndex:function(e,t){for(var i,o,n=[],r=[],s=e;e!=t;){var a=0;for(i=e.parentNode;o=i.childNodes[a++];)if(o===e){--a;break}n.unshift(a),r.unshift(a-i.childNodes.length),e=i}if(n.length>0&&3==s.nodeType){for(o=s.previousSibling;o&&3==o.nodeType;)n[n.length-1]--,o=o.previousSibling;for(o=s.nextSibling;o&&3==o.nodeType;)r[r.length-1]++,o=o.nextSibling}return{o:n,r:r}},getNode:function(t,o){if(!i.isArray(t)||0==t.length)return o;var n=o;return e.every(t,function(e){return e>=0&&e<n.childNodes.length?(n=n.childNodes[e],!0):(n=null,!1)}),n},getCommonAncestor:function(e,t,i){i=i||e.ownerDocument.body;for(var o=function(e){for(var t=[];e&&(t.unshift(e),e!==i);)e=e.parentNode;return t},n=o(e),r=o(t),s=Math.min(n.length,r.length),a=n[0],d=1;d<s&&n[d]===r[d];d++)a=n[d];return a},getAncestor:function(e,t,i){for(i=i||e.ownerDocument.body;e&&e!==i;){var o=e.nodeName.toUpperCase();if(t.test(o))return e;e=e.parentNode}return null},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(e,t,i){i=i||e.ownerDocument.body,t=t||o.BlockTagNames;for(var n,r=null;e&&e!==i;){var s=e.nodeName.toUpperCase();!r&&t.test(s)&&(r=e),!n&&/^(?:BODY|TD|TH|CAPTION)$/.test(s)&&(n=e),e=e.parentNode}return{blockNode:r,blockContainer:n||e.ownerDocument.body}},atBeginningOfContainer:function(e,t,i){var o=!1,n=0==i;if(n||3!=t.nodeType||/^[\s\xA0]+$/.test(t.nodeValue.substr(0,i))&&(n=!0),n){var r=t;for(o=!0;r&&r!==e;){if(r.previousSibling){o=!1;break}r=r.parentNode}}return o},atEndOfContainer:function(e,t,i){var o=!1,n=i==(t.length||t.childNodes.length);if(n||3!=t.nodeType||/^[\s\xA0]+$/.test(t.nodeValue.substr(i))&&(n=!0),n){var r=t;for(o=!0;r&&r!==e;){if(r.nextSibling){o=!1;break}r=r.parentNode}}return o},adjacentNoneTextNode:function(e,t){for(var i=e,o=0-e.length||0,n=t?"nextSibling":"previousSibling";i&&3==i.nodeType;)o+=i.length,i=i[n];return[i,o]},create:function(e){return(e=e||window).getSelection?e.document.createRange():new r},getSelection:function(e,t){if(e.getSelection)return e.getSelection();var i=new n.selection(e);return t||i._getCurrentSelection(),i}};if(!window.getSelection)var n=o.ie={cachedSelection:{},selection:function(e){this._ranges=[],this.addRange=function(e,t){this._ranges.push(e),t||e._select(),this.rangeCount=this._ranges.length},this.removeAllRanges=function(){this._ranges=[],this.rangeCount=0};this.getRangeAt=function(e){return this._ranges[e]},this._getCurrentSelection=function(){this.removeAllRanges();var t=function(){var t=e.document.selection.createRange();return"CONTROL"==e.document.selection.type.toUpperCase()?new r(n.decomposeControlRange(t)):new r(n.decomposeTextRange(t))}();t?(this.addRange(t,!0),this.isCollapsed=t.collapsed):this.isCollapsed=!0}},decomposeControlRange:function(e){var t=e.item(0),i=e.item(e.length-1),n=t.parentNode,r=i.parentNode,s=o.getIndex(t,n).o[0],a=o.getIndex(i,r).o[0]+1;return[n,s,r,a]},getEndPoint:function(t,i){var n=t.duplicate();n.collapse(!i);var r,s,a,d="EndTo"+(i?"End":"Start"),l=n.parentElement();if(l.childNodes.length>0?e.every(l.childNodes,function(e,i){var h;if(3!=e.nodeType){if(n.moveToElementText(e),n.compareEndPoints(d,t)>0){if(!a||3!=a.nodeType)return r=l,s=i,!1;r=a,h=!0}else if(i==l.childNodes.length-1)return r=l,s=l.childNodes.length,!1}else i==l.childNodes.length-1&&(r=e,h=!0);if(h&&r){var c=o.adjacentNoneTextNode(r)[0];r=c?c.nextSibling:l.firstChild;var u=o.adjacentNoneTextNode(r);c=u[0];var f=u[1];return c?(n.moveToElementText(c),n.collapse(!1)):n.moveToElementText(l),n.setEndPoint(d,t),s=n.text.length-f,!1}return a=e,!0}):(r=l,s=0),!i&&1==r.nodeType&&s==r.childNodes.length){var h=r.nextSibling;h&&3==h.nodeType&&(r=h,s=0)}return[r,s]},setEndPoint:function(e,t,i){var n,r,s=e.duplicate();if(3!=t.nodeType)if(i>0){if(n=t.childNodes[i-1])if(3==n.nodeType)t=n,i=n.length;else if(n.nextSibling&&3==n.nextSibling.nodeType)t=n.nextSibling,i=0;else{s.moveToElementText(n.nextSibling?n:t);var a=n.parentNode,d=a.insertBefore(n.ownerDocument.createTextNode(" "),n.nextSibling);s.collapse(!1),a.removeChild(d)}}else s.moveToElementText(t),s.collapse(!0);if(3==t.nodeType){var l=o.adjacentNoneTextNode(t),h=l[0];r=l[1],h?(s.moveToElementText(h),s.collapse(!1),"inherit"!=h.contentEditable&&r++):(s.moveToElementText(t.parentNode),s.collapse(!0),s.move("character",1),s.move("character",-1)),(i+=r)>0&&s.move("character",i)!=i&&console.error("Error when moving!")}return s},decomposeTextRange:function(e){var t=n.getEndPoint(e),i=t[0],o=t[1],r=t[0],s=t[1];return e.htmlText.length&&(e.htmlText==e.text?s=o+e.text.length:(t=n.getEndPoint(e,!0),r=t[0],s=t[1])),[i,o,r,s]},setRange:function(e,t,i,o,r,s){var a=n.setEndPoint(e,t,i);if(e.setEndPoint("StartToStart",a),!s)var d=n.setEndPoint(e,o,r);return e.setEndPoint("EndToEnd",d||a),e}},r=o.W3CRange=t(null,{constructor:function(){arguments.length>0?(this.setStart(arguments[0][0],arguments[0][1]),this.setEnd(arguments[0][2],arguments[0][3])):(this.commonAncestorContainer=null,this.startContainer=null,this.startOffset=0,this.endContainer=null,this.endOffset=0,this.collapsed=!0)},_updateInternal:function(){this.startContainer!==this.endContainer?this.commonAncestorContainer=o.getCommonAncestor(this.startContainer,this.endContainer):this.commonAncestorContainer=this.startContainer,this.collapsed=this.startContainer===this.endContainer&&this.startOffset==this.endOffset},setStart:function(e,t){t=parseInt(t),this.startContainer===e&&this.startOffset==t||(delete this._cachedBookmark,this.startContainer=e,this.startOffset=t,this.endContainer?this._updateInternal():this.setEnd(e,t))},setEnd:function(e,t){t=parseInt(t),this.endContainer===e&&this.endOffset==t||(delete this._cachedBookmark,this.endContainer=e,this.endOffset=t,this.startContainer?this._updateInternal():this.setStart(e,t))},setStartAfter:function(e,t){this._setPoint("setStart",e,t,1)},setStartBefore:function(e,t){this._setPoint("setStart",e,t,0)},setEndAfter:function(e,t){this._setPoint("setEnd",e,t,1)},setEndBefore:function(e,t){this._setPoint("setEnd",e,t,0)},_setPoint:function(e,t,i,n){var r=o.getIndex(t,t.parentNode).o;this[e](t.parentNode,r.pop()+n)},_getIERange:function(){var e=(this._body||this.endContainer.ownerDocument.body).createTextRange();return n.setRange(e,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed),e},getBookmark:function(){return this._getIERange(),this._cachedBookmark},_select:function(){var e=this._getIERange();e.select()},deleteContents:function(){var e=this.startContainer,t=this._getIERange();3!==e.nodeType||this.startOffset||this.setStartBefore(e),t.pasteHTML(""),this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.collapsed=!0},cloneRange:function(){var e=new r([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);return e._body=this._body,e},detach:function(){this._body=null,this.commonAncestorContainer=null,this.startContainer=null,this.startOffset=0,this.endContainer=null,this.endOffset=0,this.collapsed=!0}});return i.setObject("dijit.range",o),o}),define("dijit/_editor/html",["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(e,t,i){var o={};t.setObject("dijit._editor.html",o);var n=o.escapeXml=function(e,t){return e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),t||(e=e.replace(/'/gm,"&#39;")),e};return o.getNodeHtml=function(e){var t=[];return o.getNodeHtmlHelper(e,t),t.join("")},o.getNodeHtmlHelper=function(t,r){switch(t.nodeType){case 1:var s=t.nodeName.toLowerCase();if(!s||"/"==s.charAt(0))return"";r.push("<",s);var a,d=[],l={};if(i("dom-attributes-explicit")||i("dom-attributes-specified-flag"))for(var h=0;a=t.attributes[h++];){var c=a.name;if("_dj"!==c.substr(0,3)&&(!i("dom-attributes-specified-flag")||a.specified)&&!(c in l)){var u=a.value;"src"!=c&&"href"!=c||t.getAttribute("_djrealurl")&&(u=t.getAttribute("_djrealurl")),8===i("ie")&&"style"===c&&(u=u.replace("HEIGHT:","height:").replace("WIDTH:","width:")),d.push([c,u]),l[c]=u}}else{var f=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),p=f.outerHTML,m=p.match(/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi);p=p.substr(0,p.indexOf(">")),e.forEach(m,function(e){if(e){var i=e.indexOf("=");if(i>0){var o=e.substring(0,i);if("_dj"!=o.substr(0,3)){if(("src"==o||"href"==o)&&t.getAttribute("_djrealurl"))return void d.push([o,t.getAttribute("_djrealurl")]);var n,r;switch(o){case"style":n=t.style.cssText.toLowerCase();break;case"class":n=t.className;break;case"width":if("img"===s){(r=/width=(\S+)/i.exec(p))&&(n=r[1]);break}case"height":if("img"===s){(r=/height=(\S+)/i.exec(p))&&(n=r[1]);break}default:n=t.getAttribute(o)}null!=n&&d.push([o,n.toString()])}}}},this)}d.sort(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1});for(var g=0;a=d[g++];)r.push(" ",a[0],'="',"string"==typeof a[1]?n(a[1],!0):a[1],'"');switch(s){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":r.push(" />");break;case"script":r.push(">",t.innerHTML,"</",s,">");break;default:r.push(">"),t.hasChildNodes()&&o.getChildrenHtmlHelper(t,r),r.push("</",s,">")}break;case 4:case 3:r.push(n(t.nodeValue,!0));break;case 8:r.push("\x3c!--",n(t.nodeValue,!0),"--\x3e");break;default:r.push("\x3c!-- Element not recognized - Type: ",t.nodeType," Name: ",t.nodeName,"--\x3e")}},o.getChildrenHtml=function(e){var t=[];return o.getChildrenHtmlHelper(e,t),t.join("")},o.getChildrenHtmlHelper=function(e,t){if(e)for(var n,r=e.childNodes||e,s=!i("ie")||r!==e,a=0;n=r[a++];)s&&n.parentNode!=e||o.getNodeHtmlHelper(n,t)},o}),define("dijit/_editor/RichText",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x,w,j,N,S,D){var T=i("dijit._editor.RichText",[C,x],{constructor:function(e){this.contentPreFilters=[],this.contentPostFilters=[],this.contentDomPreFilters=[],this.contentDomPostFilters=[],this.editingAreaStyleSheets=[],this.events=[].concat(this.events),this._keyHandlers={},e&&u.isString(e.value)&&(this.value=e.value),this.onLoadDeferred=new o},baseClass:"dijitEditor",inheritWidth:!1,focusOnLoad:!1,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:!0,isLoaded:!1,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:!1,disableSpellCheck:!1,postCreate:function(){"textarea"===this.domNode.tagName.toLowerCase()&&console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs."),this.contentPreFilters=[u.trim,u.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters),g("mozilla")&&(this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters),this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters)),g("webkit")&&(this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters),this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters)),(g("ie")||g("trident"))&&(this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters),this.contentDomPostFilters=[u.hitch(this,"_stripBreakerNodes")].concat(this.contentDomPostFilters)),this.contentDomPostFilters=[u.hitch(this,"_stripTrailingEmptyNodes")].concat(this.contentDomPostFilters),this.inherited(arguments),_.publish(D._scopeName+"._editor.RichText::init",this)},startup:function(){this.inherited(arguments),this.open(),this.setupDefaultShortcuts()},setupDefaultShortcuts:function(){var e,t=u.hitch(this,function(e,t){return function(){return!this.execCommand(e,t)}}),i={b:t("bold"),i:t("italic"),u:t("underline"),a:t("selectall"),s:function(){this.save(!0)},m:function(){this.isTabIndent=!this.isTabIndent},1:t("formatblock","h1"),2:t("formatblock","h2"),3:t("formatblock","h3"),4:t("formatblock","h4"),"\\":t("insertunorderedlist")};for(e in g("ie")||(i.Z=t("redo")),i)this.addKeyHandler(e,!0,!1,i[e])},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:!1,_localizeEditorCommands:function(){if(T._editorCommandsLocalized)return this._local2NativeFormatNames=T._local2NativeFormatNames,void(this._native2LocalFormatNames=T._native2LocalFormatNames);T._editorCommandsLocalized=!0,T._local2NativeFormatNames={},T._native2LocalFormatNames={},this._local2NativeFormatNames=T._local2NativeFormatNames,this._native2LocalFormatNames=T._native2LocalFormatNames;for(var e,t=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"],i="",o=0;e=t[o++];)"l"!==e.charAt(1)?i+="<"+e+"><span>content</span></"+e+"><br/>":i+="<"+e+"><li>content</li></"+e+"><br/>";var n=a.create("div",{style:{position:"absolute",top:"0px",zIndex:10,opacity:.01},innerHTML:i});this.ownerDocumentBody.appendChild(n);var r=u.hitch(this,function(){for(var e=n.firstChild;e;)try{this.selection.selectElement(e.firstChild);var t=e.tagName.toLowerCase();this._local2NativeFormatNames[t]=document.queryCommandValue("formatblock"),this._native2LocalFormatNames[this._local2NativeFormatNames[t]]=t,e=e.nextSibling.nextSibling}catch(e){}a.destroy(n)});this.defer(r)},open:function(e){(!this.onLoadDeferred||this.onLoadDeferred.fired>=0)&&(this.onLoadDeferred=new o),this.isClosed||this.close(),_.publish(D._scopeName+"._editor.RichText::open",this),1===arguments.length&&e.nodeName&&(this.domNode=e);var i,d=this.domNode;if(u.isString(this.value))i=this.value,d.innerHTML="";else if(d.nodeName&&"textarea"==d.nodeName.toLowerCase()){var h=this.textarea=d;this.name=h.name,i=h.value,(d=this.domNode=this.ownerDocument.createElement("div")).setAttribute("widgetId",this.id),h.removeAttribute("widgetId"),d.cssText=h.cssText,d.className+=" "+h.className,a.place(d,h,"before");var c=u.hitch(this,function(){if(l.set(h,{display:"block",position:"absolute",top:"-1000px"}),g("ie")){var e=h.style;this.__overflow=e.overflow,e.overflow="hidden"}});if(g("ie")?this.defer(c,10):c(),h.form){var p=h.value;this.reset=function(){var e=this.getValue();e!==p&&this.replaceValue(p)},f(h.form,"submit",u.hitch(this,function(){r.set(h,"disabled",this.disabled),h.value=this.getValue()}))}}else i=N.getChildrenHtml(d),d.innerHTML="";if(this.value=i,d.nodeName&&"LI"===d.nodeName&&(d.innerHTML=" <br>"),this.header=d.ownerDocument.createElement("div"),d.appendChild(this.header),this.editingArea=d.ownerDocument.createElement("div"),d.appendChild(this.editingArea),this.footer=d.ownerDocument.createElement("div"),d.appendChild(this.footer),this.name||(this.name=this.id+"_AUTOGEN"),""!==this.name&&(!t.useXDomain||t.allowXdRichTextSave)){var m=n.byId(D._scopeName+"._editor.RichText.value");if(m&&""!==m.value)for(var b,y=m.value.split(this._SEPARATOR),C=0;b=y[C++];){var x=b.split(this._NAME_CONTENT_SEP);if(x[0]===this.name){this.value=x[1],y=y.splice(C,1),m.value=y.join(this._SEPARATOR);break}}T._globalSaveHandler||(T._globalSaveHandler={},v.addOnUnload(function(){var e;for(e in T._globalSaveHandler){var t=T._globalSaveHandler[e];u.isFunction(t)&&t()}})),T._globalSaveHandler[this.id]=u.hitch(this,"_saveContent")}this.isClosed=!1;var j=this.editorObject=this.iframe=this.ownerDocument.createElement("iframe");j.id=this.id+"_iframe",j.style.border="none",j.style.width="100%",this._layoutMode?j.style.height="100%":g("ie")>=7?(this.height&&(j.style.height=this.height),this.minHeight&&(j.style.minHeight=this.minHeight)):j.style.height=this.height?this.height:this.minHeight,j.frameBorder=0,j._loadFunc=u.hitch(this,function(e){this.window=e,this.document=e.document,this.selection=new w.SelectionManager(e),g("ie")&&this._localizeEditorCommands(),this.onLoad(this.get("value"))});var S,k=this._getIframeDocTxt().replace(/\\/g,"\\\\").replace(/'/g,"\\'");S=g("ie")<11?'javascript:document.open();try{parent.window;}catch(e){document.domain="'+document.domain+"\";}document.write('"+k+"');document.close()":"javascript: '"+k+"'",9==g("ie")?(this.editingArea.appendChild(j),j.src=S):(j.setAttribute("src",S),this.editingArea.appendChild(j)),"LI"===d.nodeName&&(d.lastChild.style.marginTop="-1.2em"),s.add(this.domNode,this.baseClass)},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var e=l.getComputedStyle(this.domNode),t=[e.fontWeight,e.fontSize,e.fontFamily].join(" "),i=e.lineHeight;i=i.indexOf("px")>=0?parseFloat(i)/parseFloat(e.fontSize):i.indexOf("em")>=0?parseFloat(i):"normal";var o="",r=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/gi,function(e){var t=(e=e.replace(/^;/gi,"")+";").split(":")[0];if(t){var i;t=(t=u.trim(t)).toLowerCase();var n="";for(i=0;i<t.length;i++){var s=t.charAt(i);switch(s){case"-":i++,s=t.charAt(i).toUpperCase();default:n+=s}}l.set(r.domNode,n,"")}o+=e+";"});var s=p('label[for="'+this.id+'"]'),a="";return s.length?a=s[0].innerHTML:this["aria-label"]?a=this["aria-label"]:this["aria-labelledby"]&&(a=n.byId(this["aria-labelledby"]).innerHTML),this.iframe.setAttribute("title",a),["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",a?"<title>"+a+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html,#dijitEditorBody { outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody,#dijitEditorBody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",t,";\n",this.height||g("opera")?"":"\t\tposition: fixed;\n","\t\tline-height:",i,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",g("ie")||g("trident")?"":"\tli{ min-height:1.2em; }\n","</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ","onload='try{frameElement && frameElement._loadFunc(window,document)}catch(e){document.domain=\""+document.domain+"\";frameElement._loadFunc(window,document)}' ","style='"+o+"'>","<div id='dijitEditorBody'></div>","</body>\n</html>"].join("")},_applyEditingAreaStyleSheets:function(){var e=[];this.styleSheets&&(e=this.styleSheets.split(";"),this.styleSheets=""),e=e.concat(this.editingAreaStyleSheets),this.editingAreaStyleSheets=[];for(var t,i="",o=0,n=y.get(this.ownerDocument);t=e[o++];){var r=new b(n.location,t).toString();this.editingAreaStyleSheets.push(r),i+='<link rel="stylesheet" type="text/css" href="'+r+'"/>'}return i},addStyleSheet:function(t){var i=t.toString(),o=y.get(this.ownerDocument);("."===i.charAt(0)||"/"!==i.charAt(0)&&!t.host)&&(i=new b(o.location,i).toString()),e.indexOf(this.editingAreaStyleSheets,i)>-1||(this.editingAreaStyleSheets.push(i),this.onLoadDeferred.then(u.hitch(this,function(){if(this.document.createStyleSheet)this.document.createStyleSheet(i);else{var e=this.document.getElementsByTagName("head")[0],t=this.document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=i,e.appendChild(t)}})))},removeStyleSheet:function(t){var i=t.toString(),o=y.get(this.ownerDocument);("."===i.charAt(0)||"/"!==i.charAt(0)&&!t.host)&&(i=new b(o.location,i).toString());var n=e.indexOf(this.editingAreaStyleSheets,i);-1!==n&&(delete this.editingAreaStyleSheets[n],p('link[href="'+i+'"]',this.window.document).orphan())},disabled:!1,_mozSettingProps:{styleWithCSS:!1},_setDisabledAttr:function(e){if(e=!!e,this._set("disabled",e),this.isLoaded){var t=g("ie")&&(this.isLoaded||!this.focusOnLoad);if(t&&(this.editNode.unselectable="on"),this.editNode.contentEditable=!e,this.editNode.tabIndex=e?"-1":this.tabIndex,t&&this.defer(function(){this.editNode&&(this.editNode.unselectable="off")}),g("mozilla")&&!e&&this._mozSettingProps){var i,o=this._mozSettingProps;for(i in o)if(o.hasOwnProperty(i))try{this.document.execCommand(i,!1,o[i])}catch(e){}}this._disabledOK=!0}},onLoad:function(t){this.window.__registeredWindow||(this.window.__registeredWindow=!0,this._iframeRegHandle=S.registerIframe(this.iframe)),this.editNode=this.document.body.firstChild;var i=this;this.beforeIframeNode=a.place("<div tabIndex=-1></div>",this.iframe,"before"),this.afterIframeNode=a.place("<div tabIndex=-1></div>",this.iframe,"after"),this.iframe.onfocus=this.document.onfocus=function(){i.editNode.focus()},this.focusNode=this.editNode;var o=this.events.concat(this.captureEvents),n=this.iframe?this.document:this.editNode;if(this.own.apply(this,e.map(o,function(e){var t=e.toLowerCase().replace(/^on/,"");return f(n,t,u.hitch(this,e))},this)),this.own(f(n,"mouseup",u.hitch(this,"onClick"))),g("ie")&&(this.own(f(this.document,"mousedown",u.hitch(this,"_onIEMouseDown"))),this.editNode.style.zoom=1),g("webkit")&&(this._webkitListener=this.own(f(this.document,"mouseup",u.hitch(this,"onDisplayChanged")))[0],this.own(f(this.document,"mousedown",u.hitch(this,function(e){var t=e.target;!t||t!==this.document.body&&t!==this.document||this.defer("placeCursorAtEnd")})))),g("ie"))try{this.document.execCommand("RespectVisibilityInDesign",!0,null)}catch(e){}this.isLoaded=!0,this.set("disabled",this.disabled);var r=u.hitch(this,function(){this.setValue(t),this.onLoadDeferred&&!this.onLoadDeferred.isFulfilled()&&this.onLoadDeferred.resolve(!0),this.onDisplayChanged(),this.focusOnLoad&&m(u.hitch(this,"defer","focus",this.updateInterval)),this.value=this.getValue(!0)});this.setValueDeferred?this.setValueDeferred.then(r):r()},onKeyDown:function(t){if(t.keyCode===c.SHIFT||t.keyCode===c.ALT||t.keyCode===c.META||t.keyCode===c.CTRL)return!0;if(t.keyCode===c.TAB&&this.isTabIndent&&(t.stopPropagation(),t.preventDefault(),this.queryCommandEnabled(t.shiftKey?"outdent":"indent")&&this.execCommand(t.shiftKey?"outdent":"indent")),t.keyCode==c.TAB&&!this.isTabIndent&&!t.ctrlKey&&!t.altKey)return t.shiftKey?this.beforeIframeNode.focus():this.afterIframeNode.focus(),!0;g("ie")<9&&t.keyCode===c.BACKSPACE&&"Control"===this.document.selection.type&&(t.stopPropagation(),t.preventDefault(),this.execCommand("delete")),g("ff")&&(t.keyCode!==c.PAGE_UP&&t.keyCode!==c.PAGE_DOWN||this.editNode.clientHeight>=this.editNode.scrollHeight&&t.preventDefault());var i=this._keyHandlers[t.keyCode],o=arguments;return i&&!t.altKey&&e.some(i,function(e){if(!(e.shift^t.shiftKey||e.ctrl^(t.ctrlKey||t.metaKey)))return e.handler.apply(this,o)||t.preventDefault(),!0},this),this.defer("onKeyPressed",1),!0},onKeyUp:function(){},setDisabled:function(e){h.deprecated("dijit.Editor::setDisabled is deprecated",'use dijit.Editor::attr("disabled",boolean) instead',2),this.set("disabled",e)},_setValueAttr:function(e){this.setValue(e)},_setDisableSpellCheckAttr:function(e){this.document?r.set(this.document.body,"spellcheck",!e):this.onLoadDeferred.then(u.hitch(this,function(){r.set(this.document.body,"spellcheck",!e)})),this._set("disableSpellCheck",e)},addKeyHandler:function(e,t,i,o){"string"==typeof e&&(e=e.toUpperCase().charCodeAt(0)),u.isArray(this._keyHandlers[e])||(this._keyHandlers[e]=[]),this._keyHandlers[e].push({shift:i||!1,ctrl:t||!1,handler:o})},onKeyPressed:function(){this.onDisplayChanged()},onClick:function(e){this.onDisplayChanged(e)},_onIEMouseDown:function(){this.focused||this.disabled||this.focus()},_onBlur:function(e){(g("ie")||g("trident"))&&this.defer(function(){S.curNode||this.ownerDocumentBody.focus()}),this.inherited(arguments);var t=this.getValue(!0);t!==this.value&&this.onChange(t),this._set("value",t)},_onFocus:function(e){this.disabled||(this._disabledOK||this.set("disabled",!1),this.inherited(arguments))},blur:function(){!g("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus?this.window.document.documentElement.focus():this.ownerDocumentBody.focus&&this.ownerDocumentBody.focus()},focus:function(){this.isLoaded?g("ie")<9?this.iframe.fireEvent("onfocus",document.createEventObject()):this.editNode.focus():this.focusOnLoad=!0},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){this._updateTimer&&this._updateTimer.remove(),this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval)},onNormalizedDisplayChanged:function(){delete this._updateTimer},onChange:function(){},_normalizeCommand:function(e,t){var i=e.toLowerCase();return"formatblock"===i?g("safari")&&void 0===t&&(i="heading"):"hilitecolor"!==i||g("mozilla")||(i="backcolor"),i},_qcaCache:{},queryCommandAvailable:function(e){var t=this._qcaCache[e];return void 0!==t?t:this._qcaCache[e]=this._queryCommandAvailable(e)},_queryCommandAvailable:function(e){var t=1,i=2,o=4,n=8;function r(e){return{ie:Boolean(e&t),mozilla:Boolean(e&i),webkit:Boolean(e&o),opera:Boolean(e&n)}}var s=null;switch(e.toLowerCase()){case"bold":case"italic":case"underline":case"subscript":case"superscript":case"fontname":case"fontsize":case"forecolor":case"hilitecolor":case"justifycenter":case"justifyfull":case"justifyleft":case"justifyright":case"delete":case"selectall":case"toggledir":s=r(i|t|o|n);break;case"createlink":case"unlink":case"removeformat":case"inserthorizontalrule":case"insertimage":case"insertorderedlist":case"insertunorderedlist":case"indent":case"outdent":case"formatblock":case"inserthtml":case"undo":case"redo":case"strikethrough":case"tabindent":s=r(i|t|n|o);break;case"blockdirltr":case"blockdirrtl":case"dirltr":case"dirrtl":case"inlinedirltr":case"inlinedirrtl":s=r(t);break;case"cut":case"copy":case"paste":s=r(t|i|o|n);break;case"inserttable":s=r(i|t);break;case"insertcell":case"insertcol":case"insertrow":case"deletecells":case"deletecols":case"deleterows":case"mergecells":case"splitcell":s=r(t|i);break;default:return!1}return(g("ie")||g("trident"))&&s.ie||g("mozilla")&&s.mozilla||g("webkit")&&s.webkit||g("opera")&&s.opera},execCommand:function(e,t){var i;if(this.focused&&this.focus(),e=this._normalizeCommand(e,t),void 0!==t){if("heading"===e)throw new Error("unimplemented");"formatblock"===e&&(g("ie")||g("trident"))&&(t="<"+t+">")}var o="_"+e+"Impl";return this[o]?i=this[o](t):((t=arguments.length>1?t:null)||"createlink"!==e)&&(i=this.document.execCommand(e,!1,t)),this.onDisplayChanged(),i},queryCommandEnabled:function(e){if(this.disabled||!this._disabledOK)return!1;var t="_"+(e=this._normalizeCommand(e))+"EnabledImpl";return this[t]?this[t](e):this._browserQueryCommandEnabled(e)},queryCommandState:function(e){if(this.disabled||!this._disabledOK)return!1;e=this._normalizeCommand(e);try{return this.document.queryCommandState(e)}catch(e){return!1}},queryCommandValue:function(e){if(this.disabled||!this._disabledOK)return!1;var t;if(e=this._normalizeCommand(e),(g("ie")||g("trident"))&&"formatblock"===e)t=this._native2LocalFormatNames[this.document.queryCommandValue(e)];else if(g("mozilla")&&"hilitecolor"===e){var i;try{i=this.document.queryCommandValue("styleWithCSS")}catch(e){i=!1}this.document.execCommand("styleWithCSS",!1,!0),t=this.document.queryCommandValue(e),this.document.execCommand("styleWithCSS",!1,i)}else t=this.document.queryCommandValue(e);return t},_sCall:function(e,t){return this.selection[e].apply(this.selection,t)},placeCursorAtStart:function(){this.focus();var e=!1;if(g("mozilla"))for(var t=this.editNode.firstChild;t;){if(3===t.nodeType){if(t.nodeValue.replace(/^\s+|\s+$/g,"").length>0){e=!0,this.selection.selectElement(t);break}}else if(1===t.nodeType){e=!0;var i=t.tagName?t.tagName.toLowerCase():"";/br|input|img|base|meta|area|basefont|hr|link/.test(i)?this.selection.selectElement(t):this.selection.selectElementChildren(t);break}t=t.nextSibling}else e=!0,this.selection.selectElementChildren(this.editNode);e&&this.selection.collapse(!0)},placeCursorAtEnd:function(){this.focus();var e=!1;if(g("mozilla"))for(var t=this.editNode.lastChild;t;){if(3===t.nodeType){if(t.nodeValue.replace(/^\s+|\s+$/g,"").length>0){e=!0,this.selection.selectElement(t);break}}else if(1===t.nodeType){e=!0,this.selection.selectElement(t.lastChild||t);break}t=t.previousSibling}else e=!0,this.selection.selectElementChildren(this.editNode);e&&this.selection.collapse(!1)},getValue:function(e){return!this.textarea||!this.isClosed&&this.isLoaded?this.isLoaded?this._postFilterContent(null,e):this.value:this.textarea.value},_getValueAttr:function(){return this.getValue(!0)},setValue:function(e){if(this.isLoaded){if(!this.textarea||!this.isClosed&&this.isLoaded){e=this._preFilterContent(e);var t=this.isClosed?this.domNode:this.editNode;t.innerHTML=e,this._preDomFilterContent(t)}else this.textarea.value=e;this.onDisplayChanged(),this._set("value",this.getValue(!0))}else this.onLoadDeferred.then(u.hitch(this,function(){this.setValue(e)}))},replaceValue:function(e){this.isClosed?this.setValue(e):this.window&&this.window.getSelection&&!g("mozilla")?this.setValue(e):this.window&&this.window.getSelection?(e=this._preFilterContent(e),this.execCommand("selectall"),this.execCommand("inserthtml",e),this._preDomFilterContent(this.editNode)):this.document&&this.document.selection&&this.setValue(e),this._set("value",this.getValue(!0))},_preFilterContent:function(t){var i=t;return e.forEach(this.contentPreFilters,function(e){e&&(i=e(i))}),i},_preDomFilterContent:function(t){t=t||this.editNode,e.forEach(this.contentDomPreFilters,function(e){e&&u.isFunction(e)&&e(t)},this)},_postFilterContent:function(t,i){var o;return u.isString(t)?o=t:(t=t||this.editNode,this.contentDomPostFilters.length&&(i&&(t=u.clone(t)),e.forEach(this.contentDomPostFilters,function(e){t=e(t)})),o=N.getChildrenHtml(t)),u.trim(o.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length||(o=""),e.forEach(this.contentPostFilters,function(e){o=e(o)}),o},_saveContent:function(){var e=n.byId(D._scopeName+"._editor.RichText.value");e&&(e.value&&(e.value+=this._SEPARATOR),e.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(!0))},escapeXml:function(e,t){return e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),t||(e=e.replace(/'/gm,"&#39;")),e},getNodeHtml:function(e){return h.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2),N.getNodeHtml(e)},getNodeChildrenHtml:function(e){return h.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2),N.getChildrenHtml(e)},close:function(e){if(!this.isClosed){if(arguments.length||(e=!0),e&&this._set("value",this.getValue(!0)),this.interval&&clearInterval(this.interval),this._webkitListener&&(this._webkitListener.remove(),delete this._webkitListener),g("ie")&&(this.iframe.onfocus=null),this.iframe._loadFunc=null,this._iframeRegHandle&&(this._iframeRegHandle.remove(),delete this._iframeRegHandle),this.textarea){var t=this.textarea.style;t.position="",t.left=t.top="",g("ie")&&(t.overflow=this.__overflow,this.__overflow=null),this.textarea.value=this.value,a.destroy(this.domNode),this.domNode=this.textarea}else this.domNode.innerHTML=this.value;delete this.iframe,s.remove(this.domNode,this.baseClass),this.isClosed=!0,this.isLoaded=!1,delete this.editNode,delete this.focusNode,this.window&&this.window._frameElement&&(this.window._frameElement=null),this.window=null,this.document=null,this.editingArea=null,this.editorObject=null}},destroy:function(){this.isClosed||this.close(!1),this._updateTimer&&this._updateTimer.remove(),this.inherited(arguments),T._globalSaveHandler&&delete T._globalSaveHandler[this.id]},_removeMozBogus:function(e){return e.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"")},_removeWebkitBogus:function(e){return e=(e=(e=e.replace(/\sclass="webkit-block-placeholder"/gi,"")).replace(/\sclass="apple-style-span"/gi,"")).replace(/<meta charset=\"utf-8\" \/>/gi,"")},_normalizeFontStyle:function(e){return e.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2")},_preFixUrlAttributes:function(e){return e.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2")},_browserQueryCommandEnabled:function(e){if(!e)return!1;var t=g("ie")<9?this.document.selection.createRange():this.document;try{return t.queryCommandEnabled(e)}catch(e){return!1}},_createlinkEnabledImpl:function(){var e=!0;if(g("opera")){var t=this.window.getSelection();e=!!t.isCollapsed||this.document.queryCommandEnabled("createlink")}else e=this._browserQueryCommandEnabled("createlink");return e},_unlinkEnabledImpl:function(){return g("mozilla")||g("webkit")?this.selection.hasAncestorElement("a"):this._browserQueryCommandEnabled("unlink")},_inserttableEnabledImpl:function(){return!(!g("mozilla")&&!g("webkit"))||this._browserQueryCommandEnabled("inserttable")},_cutEnabledImpl:function(){var e=!0;if(g("webkit")){var t=this.window.getSelection();t&&(t=t.toString()),e=!!t}else e=this._browserQueryCommandEnabled("cut");return e},_copyEnabledImpl:function(){var e=!0;if(g("webkit")){var t=this.window.getSelection();t&&(t=t.toString()),e=!!t}else e=this._browserQueryCommandEnabled("copy");return e},_pasteEnabledImpl:function(){return!!g("webkit")||this._browserQueryCommandEnabled("paste")},_inserthorizontalruleImpl:function(e){return g("ie")?this._inserthtmlImpl("<hr>"):this.document.execCommand("inserthorizontalrule",!1,e)},_unlinkImpl:function(e){if(this.queryCommandEnabled("unlink")&&(g("mozilla")||g("webkit"))){var t=this.selection.getAncestorElement("a");return this.selection.selectElement(t),this.document.execCommand("unlink",!1,null)}return this.document.execCommand("unlink",!1,e)},_hilitecolorImpl:function(e){var t,i=this._handleTextColorOrProperties("hilitecolor",e);return i||(g("mozilla")?(this.document.execCommand("styleWithCSS",!1,!0),console.log("Executing color command."),t=this.document.execCommand("hilitecolor",!1,e),this.document.execCommand("styleWithCSS",!1,!1)):t=this.document.execCommand("hilitecolor",!1,e)),t},_backcolorImpl:function(e){g("ie")&&(e=e||null);var t=this._handleTextColorOrProperties("backcolor",e);return t||(t=this.document.execCommand("backcolor",!1,e)),t},_forecolorImpl:function(e){g("ie")&&(e=e||null);var t=!1;return(t=this._handleTextColorOrProperties("forecolor",e))||(t=this.document.execCommand("forecolor",!1,e)),t},_inserthtmlImpl:function(e){e=this._preFilterContent(e);var t=!0;if(g("ie")<9){var i=this.document.selection.createRange();if("CONTROL"===this.document.selection.type.toUpperCase()){for(var o=i.item(0);i.length;)i.remove(i.item(0));o.outerHTML=e}else i.pasteHTML(e);i.select()}else if(g("trident")<8){var n=j.getSelection(this.window);if(n&&n.rangeCount&&n.getRangeAt){(i=n.getRangeAt(0)).deleteContents();var r,s,d=a.create("div");d.innerHTML=e;for(var o=this.document.createDocumentFragment();r=d.firstChild;)s=o.appendChild(r);i.insertNode(o),s&&((i=i.cloneRange()).setStartAfter(s),i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}else g("mozilla")&&!e.length?this.selection.remove():t=this.document.execCommand("inserthtml",!1,e);return t},_boldImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("bold")),t||(t=this.document.execCommand("bold",!1,e)),t},_italicImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("italic")),t||(t=this.document.execCommand("italic",!1,e)),t},_underlineImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("underline")),t||(t=this.document.execCommand("underline",!1,e)),t},_strikethroughImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("strikethrough")),t||(t=this.document.execCommand("strikethrough",!1,e)),t},_superscriptImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("superscript")),t||(t=this.document.execCommand("superscript",!1,e)),t},_subscriptImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(this._adaptIESelection(),t=this._adaptIEFormatAreaAndExec("subscript")),t||(t=this.document.execCommand("subscript",!1,e)),t},_fontnameImpl:function(e){var t;return(g("ie")||g("trident"))&&(t=this._handleTextColorOrProperties("fontname",e)),t||(t=this.document.execCommand("fontname",!1,e)),t},_fontsizeImpl:function(e){var t;return(g("ie")||g("trident"))&&(t=this._handleTextColorOrProperties("fontsize",e)),t||(t=this.document.execCommand("fontsize",!1,e)),t},_insertorderedlistImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(t=this._adaptIEList("insertorderedlist",e)),t||(t=this.document.execCommand("insertorderedlist",!1,e)),t},_insertunorderedlistImpl:function(e){var t=!1;return(g("ie")||g("trident"))&&(t=this._adaptIEList("insertunorderedlist",e)),t||(t=this.document.execCommand("insertunorderedlist",!1,e)),t},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header)},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer)},_getNodeChildrenHeight:function(e){var t,i=0;if(e&&e.childNodes)for(t=0;t<e.childNodes.length;t++){var o=d.position(e.childNodes[t]);i+=o.h}return i},_isNodeEmpty:function(e,t){return 1===e.nodeType?!(e.childNodes.length>0)||this._isNodeEmpty(e.childNodes[0],t):3===e.nodeType&&""===e.nodeValue.substring(t)},_removeStartingRangeFromRange:function(e,t){if(e.nextSibling)t.setStart(e.nextSibling,0);else{for(var i=e.parentNode;i&&null==i.nextSibling;)i=i.parentNode;i&&t.setStart(i.nextSibling,0)}return t},_adaptIESelection:function(){var e=j.getSelection(this.window);if(e&&e.rangeCount&&!e.isCollapsed){for(var t=e.getRangeAt(0),i=t.startContainer,o=t.startOffset;3===i.nodeType&&o>=i.length&&i.nextSibling;)o-=i.length,i=i.nextSibling;for(var n=null;this._isNodeEmpty(i,o)&&i!==n;)n=i,t=this._removeStartingRangeFromRange(i,t),i=t.startContainer,o=0;e.removeAllRanges(),e.addRange(t)}},_adaptIEFormatAreaAndExec:function(t){var i,o,n,r,s,d,l,h,c=j.getSelection(this.window),u=this.document;if(!(t&&c&&c.isCollapsed))return!1;var f=this.queryCommandValue(t);if(f){var p,m=this._tagNamesForCommand(t),g=(n=c.getRangeAt(0)).startContainer;if(3===g.nodeType){var _=n.endOffset;g.length<_&&(o=this._adjustNodeAndOffset(i,_),g=o.node,_=o.offset)}for(;g&&g!==this.editNode;){var v=g.tagName?g.tagName.toLowerCase():"";if(e.indexOf(m,v)>-1){p=g;break}g=g.parentNode}if(p){i=n.startContainer;var b=u.createElement(p.tagName);if(a.place(b,p,"after"),i&&3===i.nodeType){var y,C,x=n.endOffset;i.length<x&&(o=this._adjustNodeAndOffset(i,x),i=o.node,x=o.offset),r=i.nodeValue,s=u.createTextNode(r.substring(0,x));var w=r.substring(x,r.length);w&&(d=u.createTextNode(w)),a.place(s,i,"before"),d&&((l=u.createElement("span")).className="ieFormatBreakerSpan",a.place(l,i,"after"),a.place(d,l,"after"),d=l),a.destroy(i);for(var N,S=s.parentNode,D=[];S!==p;){var T=S.tagName;N={tagName:T},D.push(N);var k=u.createElement(T);if(S.style&&k.style&&S.style.cssText&&(k.style.cssText=S.style.cssText,N.cssText=S.style.cssText),"FONT"===S.tagName&&(S.color&&(k.color=S.color,N.color=S.color),S.face&&(k.face=S.face,N.face=S.face),S.size&&(k.size=S.size,N.size=S.size)),S.className&&(k.className=S.className,N.className=S.className),d)for(y=d;y;)C=y.nextSibling,k.appendChild(y),y=C;k.tagName==S.tagName?((l=u.createElement("span")).className="ieFormatBreakerSpan",a.place(l,S,"after"),a.place(k,l,"after")):a.place(k,S,"after"),s=S,d=k,S=S.parentNode}if(d)for((1===(y=d).nodeType||3===y.nodeType&&y.nodeValue)&&(b.innerHTML="");y;)C=y.nextSibling,b.appendChild(y),y=C;if(D.length){N=D.pop();var A=u.createElement(N.tagName);for(N.cssText&&A.style&&(A.style.cssText=N.cssText),N.className&&(A.className=N.className),"FONT"===N.tagName&&(N.color&&(A.color=N.color),N.face&&(A.face=N.face),N.size&&(A.size=N.size)),a.place(A,b,"before");D.length;){N=D.pop();var E=u.createElement(N.tagName);N.cssText&&E.style&&(E.style.cssText=N.cssText),N.className&&(E.className=N.className),"FONT"===N.tagName&&(N.color&&(E.color=N.color),N.face&&(E.face=N.face),N.size&&(E.size=N.size)),A.appendChild(E),A=E}h=u.createTextNode("."),l.appendChild(h),A.appendChild(h),(M=j.create(this.window)).setStart(h,0),M.setEnd(h,h.length),c.removeAllRanges(),c.addRange(M),this.selection.collapse(!1),h.parentNode.innerHTML=""}else(l=u.createElement("span")).className="ieFormatBreakerSpan",h=u.createTextNode("."),l.appendChild(h),a.place(l,b,"before"),(M=j.create(this.window)).setStart(h,0),M.setEnd(h,h.length),c.removeAllRanges(),c.addRange(M),this.selection.collapse(!1),h.parentNode.innerHTML="";return b.firstChild||a.destroy(b),!0}}return!1}if(n=c.getRangeAt(0),(i=n.startContainer)&&3===i.nodeType){var _=n.startOffset;i.length<_&&(o=this._adjustNodeAndOffset(i,_),i=o.node,_=o.offset),r=i.nodeValue,s=u.createTextNode(r.substring(0,_));var w=r.substring(_);""!==w&&(d=u.createTextNode(r.substring(_))),l=u.createElement("span"),h=u.createTextNode("."),l.appendChild(h),s.length?a.place(s,i,"after"):s=i,a.place(l,s,"after"),d&&a.place(d,l,"after"),a.destroy(i);var M=j.create(this.window);return M.setStart(h,0),M.setEnd(h,h.length),c.removeAllRanges(),c.addRange(M),u.execCommand(t),a.place(l.firstChild,l,"before"),a.destroy(l),M.setStart(h,0),M.setEnd(h,h.length),c.removeAllRanges(),c.addRange(M),this.selection.collapse(!1),h.parentNode.innerHTML="",!0}},_adaptIEList:function(e){var t=j.getSelection(this.window);if(t.isCollapsed&&t.rangeCount&&!this.queryCommandValue(e)){var i=t.getRangeAt(0),o=i.startContainer;if(o&&3==o.nodeType&&!i.startOffset){var n="ul";"insertorderedlist"===e&&(n="ol");var r=this.document.createElement(n),s=a.create("li",null,r);a.place(r,o,"before"),s.appendChild(o),a.create("br",null,r,"after");var d=j.create(this.window);return d.setStart(o,0),d.setEnd(o,o.length),t.removeAllRanges(),t.addRange(d),this.selection.collapse(!0),!0}}return!1},_handleTextColorOrProperties:function(e,t){var i,o,n,r,s,d,h,c,u=j.getSelection(this.window),f=this.document;if(t=t||null,e&&u&&u.isCollapsed&&u.rangeCount&&(n=u.getRangeAt(0),(i=n.startContainer)&&3===i.nodeType)){var p=n.startOffset;i.length<p&&(o=this._adjustNodeAndOffset(i,p),i=o.node,p=o.offset),r=i.nodeValue,s=f.createTextNode(r.substring(0,p));var m=r.substring(p);""!==m&&(d=f.createTextNode(r.substring(p))),h=f.createElement("span"),c=f.createTextNode("."),h.appendChild(c);var _=f.createElement("span");h.appendChild(_),s.length?a.place(s,i,"after"):s=i,a.place(h,s,"after"),d&&a.place(d,h,"after"),a.destroy(i);var v=j.create(this.window);if(v.setStart(c,0),v.setEnd(c,c.length),u.removeAllRanges(),u.addRange(v),g("webkit")){var b="color";"hilitecolor"!==e&&"backcolor"!==e||(b="backgroundColor"),l.set(h,b,t),this.selection.remove(),a.destroy(_),h.innerHTML="&#160;",this.selection.selectElement(h),this.focus()}else this.execCommand(e,t),a.place(h.firstChild,h,"before"),a.destroy(h),v.setStart(c,0),v.setEnd(c,c.length),u.removeAllRanges(),u.addRange(v),this.selection.collapse(!1),c.parentNode.removeChild(c);return!0}return!1},_adjustNodeAndOffset:function(e,t){for(;e.length<t&&e.nextSibling&&3===e.nextSibling.nodeType;)t-=e.length,e=e.nextSibling;return{node:e,offset:t}},_tagNamesForCommand:function(e){return"bold"===e?["b","strong"]:"italic"===e?["i","em"]:"strikethrough"===e?["s","strike"]:"superscript"===e?["sup"]:"subscript"===e?["sub"]:"underline"===e?["u"]:[]},_stripBreakerNodes:function(e){if(this.isLoaded)return p(".ieFormatBreakerSpan",e).forEach(function(e){for(;e.firstChild;)a.place(e.firstChild,e,"before");a.destroy(e)}),e},_stripTrailingEmptyNodes:function(e){function t(e){return/^(p|div|br)$/i.test(e.nodeName)&&0==e.children.length&&/^[\s\xA0]*$/.test(e.textContent||e.innerText||"")||3===e.nodeType&&/^[\s\xA0]*$/.test(e.nodeValue)}for(;e.lastChild&&t(e.lastChild);)a.destroy(e.lastChild);return e},_setTextDirAttr:function(e){this._set("textDir",e),this.onLoadDeferred.then(u.hitch(this,function(){this.editNode.dir=e}))}});return T}),define("dijit/_editor/plugins/EnterKeyHandling",["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range"],function(e,t,i,o,n,r,s,a,d,l,h){return e("dijit._editor.plugins.EnterKeyHandling",d,{blockNodeForEnter:"BR",constructor:function(e){e&&("blockNodeForEnter"in e&&(e.blockNodeForEnter=e.blockNodeForEnter.toUpperCase()),o.mixin(this,e))},setEditor:function(e){if(this.editor!==e)if(this.editor=e,"BR"==this.blockNodeForEnter)this.editor.customUndo=!0,e.onLoadDeferred.then(o.hitch(this,function(t){return this.own(n(e.document,"keydown",o.hitch(this,function(e){if(e.keyCode==i.ENTER){var t=o.mixin({},e);t.shiftKey=!0,this.handleEnterKey(t)||(e.stopPropagation(),e.preventDefault())}}))),r("ie")>=9&&r("ie")<=10&&this.own(n(e.document,"paste",o.hitch(this,function(e){setTimeout(o.hitch(this,function(){var e=this.editor.document.selection.createRange();e.move("character",-1),e.select(),e.move("character",1),e.select()}),0)}))),t}));else if(this.blockNodeForEnter){var t=o.hitch(this,"handleEnterKey");e.addKeyHandler(13,0,0,t),e.addKeyHandler(13,0,1,t),this.own(this.editor.on("KeyPressed",o.hitch(this,"onKeyPressed")))}},onKeyPressed:function(){if(this._checkListLater){if(this.editor.selection.isCollapsed()){var e=this.editor.selection.getAncestorElement("LI");if(e){r("mozilla")&&"LI"==e.parentNode.parentNode.nodeName&&(e=e.parentNode.parentNode);var t=e.firstChild;if(t&&1==t.nodeType&&("UL"==t.nodeName||"OL"==t.nodeName)){e.insertBefore(t.ownerDocument.createTextNode(""),t);var i=h.create(this.editor.window);i.setStart(e.firstChild,0);var o=h.getSelection(this.editor.window,!0);o.removeAllRanges(),o.addRange(i)}}else{l.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var n=this.editor.selection.getAncestorElement(this.blockNodeForEnter);if(n){if(n.innerHTML=this.bogusHtmlContent,r("ie")<=9){var s=this.editor.document.selection.createRange();s.move("character",-1),s.select()}}else console.error("onKeyPressed: Cannot find the new block node")}}this._checkListLater=!1}this._pressedEnterInBlock&&(this._pressedEnterInBlock.previousSibling&&this.removeTrailingBr(this._pressedEnterInBlock.previousSibling),delete this._pressedEnterInBlock)},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var i,o,n,s,d,c,u,f=this.editor.document;if(e.shiftKey){var p=this.editor.selection.getParentElement(),m=h.getAncestor(p,this.blockNodes);if(m){if("LI"==m.tagName)return!0;if(i=h.getSelection(this.editor.window),(o=i.getRangeAt(0)).collapsed||(o.deleteContents(),i=h.getSelection(this.editor.window),o=i.getRangeAt(0)),h.atBeginningOfContainer(m,o.startContainer,o.startOffset))d=f.createElement("br"),n=h.create(this.editor.window),m.insertBefore(d,m.firstChild),n.setStartAfter(d),i.removeAllRanges(),i.addRange(n);else{if(!h.atEndOfContainer(m,o.startContainer,o.startOffset))return!(c=o.startContainer)||3!=c.nodeType||(u=c.nodeValue,s=f.createTextNode(u.substring(0,o.startOffset)),b=f.createTextNode(u.substring(o.startOffset)),v=f.createElement("br"),""==b.nodeValue&&r("webkit")&&(b=f.createTextNode("")),t.place(s,c,"after"),t.place(v,s,"after"),t.place(b,v,"after"),t.destroy(c),(n=h.create(this.editor.window)).setStart(b,0),i.removeAllRanges(),i.addRange(n),!1);n=h.create(this.editor.window),d=f.createElement("br"),m.appendChild(d),m.appendChild(f.createTextNode("")),n.setStart(m.lastChild,0),i.removeAllRanges(),i.addRange(n)}}else if((i=h.getSelection(this.editor.window)).rangeCount){if((o=i.getRangeAt(0))&&o.startContainer)if(o.collapsed||(o.deleteContents(),i=h.getSelection(this.editor.window),o=i.getRangeAt(0)),(c=o.startContainer)&&3==c.nodeType){var g=o.startOffset;c.length<g&&(S=this._adjustNodeAndOffset(c,g),c=S.node,g=S.offset),u=c.nodeValue,s=f.createTextNode(u.substring(0,g)),b=f.createTextNode(u.substring(g)),v=f.createElement("br"),b.length||(b=f.createTextNode("")),s.length?t.place(s,c,"after"):s=c,t.place(v,s,"after"),t.place(b,v,"after"),t.destroy(c),(n=h.create(this.editor.window)).setStart(b,0),n.setEnd(b,b.length),i.removeAllRanges(),i.addRange(n),this.editor.selection.collapse(!0)}else{var _;o.startOffset>=0&&(_=c.childNodes[o.startOffset]);var v=f.createElement("br"),b=f.createTextNode("");_?(t.place(v,_,"before"),t.place(b,v,"after")):(c.appendChild(v),c.appendChild(b)),(n=h.create(this.editor.window)).setStart(b,0),n.setEnd(b,b.length),i.removeAllRanges(),i.addRange(n),this.editor.selection.collapse(!0)}}else l.prototype.execCommand.call(this.editor,"inserthtml","<br>");return!1}var y=!0;i=h.getSelection(this.editor.window),(o=i.getRangeAt(0)).collapsed||(o.deleteContents(),i=h.getSelection(this.editor.window),o=i.getRangeAt(0));var C=h.getBlockAncestor(o.endContainer,null,this.editor.editNode),x=C.blockNode;if(this._checkListLater=x&&("LI"==x.nodeName||"LI"==x.parentNode.nodeName))return r("mozilla")&&(this._pressedEnterInBlock=x),/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(x.innerHTML)&&(x.innerHTML="",r("webkit")&&((n=h.create(this.editor.window)).setStart(x,0),i.removeAllRanges(),i.addRange(n)),this._checkListLater=!1),!0;if(!C.blockNode||C.blockNode===this.editor.editNode){try{l.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter)}catch(e){}if((C={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode}).blockNode){if(C.blockNode!=this.editor.editNode&&!(C.blockNode.textContent||C.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)return this.removeTrailingBr(C.blockNode),!1}else C.blockNode=this.editor.editNode;i=h.getSelection(this.editor.window),o=i.getRangeAt(0)}var w=f.createElement(this.blockNodeForEnter);w.innerHTML=this.bogusHtmlContent,this.removeTrailingBr(C.blockNode);var j=o.endOffset,N=o.endContainer;if(N.length<j){var S=this._adjustNodeAndOffset(N,j);N=S.node,j=S.offset}if(h.atEndOfContainer(C.blockNode,N,j))C.blockNode===C.blockContainer?C.blockNode.appendChild(w):t.place(w,C.blockNode,"after"),y=!1,(n=h.create(this.editor.window)).setStart(w,0),i.removeAllRanges(),i.addRange(n),this.editor.height&&a.scrollIntoView(w);else if(h.atBeginningOfContainer(C.blockNode,o.startContainer,o.startOffset))t.place(w,C.blockNode,C.blockNode===C.blockContainer?"first":"before"),w.nextSibling&&this.editor.height&&((n=h.create(this.editor.window)).setStart(w.nextSibling,0),i.removeAllRanges(),i.addRange(n),a.scrollIntoView(w.nextSibling)),y=!1;else{var D,T;if(C.blockNode===C.blockContainer?C.blockNode.appendChild(w):t.place(w,C.blockNode,"after"),y=!1,C.blockNode.style&&w.style&&C.blockNode.style.cssText&&(w.style.cssText=C.blockNode.style.cssText),(c=o.startContainer)&&3==c.nodeType){var k,A;j=o.endOffset,c.length<j&&(S=this._adjustNodeAndOffset(c,j),c=S.node,j=S.offset),u=c.nodeValue,s=f.createTextNode(u.substring(0,j)),b=f.createTextNode(u.substring(j,u.length)),t.place(s,c,"before"),t.place(b,c,"after"),t.destroy(c);for(var E=s.parentNode;E!==C.blockNode;){var M=E.tagName,I=f.createElement(M);for(E.style&&I.style&&E.style.cssText&&(I.style.cssText=E.style.cssText),"FONT"===E.tagName&&(E.color&&(I.color=E.color),E.face&&(I.face=E.face),E.size&&(I.size=E.size)),k=b;k;)A=k.nextSibling,I.appendChild(k),k=A;t.place(I,E,"after"),s=E,b=I,E=E.parentNode}for((1==(k=b).nodeType||3==k.nodeType&&k.nodeValue)&&(w.innerHTML=""),D=k;k;)A=k.nextSibling,w.appendChild(k),k=A}n=h.create(this.editor.window);var L=D;if("BR"!==this.blockNodeForEnter){for(;L;)T=L,A=L.firstChild,L=A;T&&T.parentNode?(w=T.parentNode,n.setStart(w,0),i.removeAllRanges(),i.addRange(n),this.editor.height&&a.scrollIntoView(w),r("mozilla")&&(this._pressedEnterInBlock=C.blockNode)):y=!0}else n.setStart(w,0),i.removeAllRanges(),i.addRange(n),this.editor.height&&a.scrollIntoView(w),r("mozilla")&&(this._pressedEnterInBlock=C.blockNode)}return y},_adjustNodeAndOffset:function(e,t){for(;e.length<t&&e.nextSibling&&3==e.nextSibling.nodeType;)t-=e.length,e=e.nextSibling;return{node:e,offset:t}},removeTrailingBr:function(e){var i=/P|DIV|LI/i.test(e.tagName)?e:this.editor.selection.getParentOfType(e,["P","DIV","LI"]);i&&(i.lastChild&&(i.childNodes.length>1&&3==i.lastChild.nodeType&&/^[\s\xAD]*$/.test(i.lastChild.nodeValue)||"BR"==i.lastChild.tagName)&&t.destroy(i.lastChild),i.childNodes.length||(i.innerHTML=this.bogusHtmlContent))}})}),define("dijit/Editor",["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x,w,j){var N=i("dijit.Editor",w,{plugins:null,extraPlugins:null,constructor:function(){h.isArray(this.plugins)||(this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",y]),this._plugins=[],this._editInterval=1e3*this.editActionInterval,(c("ie")||c("trident"))&&(this.events.push("onBeforeDeactivate"),this.events.push("onBeforeActivate"))},postMixInProperties:function(){this.setValueDeferred=new o,this.inherited(arguments)},postCreate:function(){this.inherited(arguments),this._steps=this._steps.slice(0),this._undoedSteps=this._undoedSteps.slice(0),h.isArray(this.extraPlugins)&&(this.plugins=this.plugins.concat(this.extraPlugins)),this.commands=n.getLocalization("dijit._editor","commands",this.lang),c("webkit")&&d.set(this.domNode,"KhtmlUserSelect","none")},startup:function(){this.inherited(arguments),this.toolbar||(this.toolbar=new m({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id}),this.header.appendChild(this.toolbar.domNode)),t.forEach(this.plugins,this.addPlugin,this),this.setValueDeferred.resolve(!0),s.add(this.iframe.parentNode,"dijitEditorIFrameContainer"),s.add(this.iframe,"dijitEditorIFrame"),r.set(this.iframe,"allowTransparency",!0),this.toolbar.startup(),this.onNormalizedDisplayChanged()},destroy:function(){t.forEach(this._plugins,function(e){e&&e.destroy&&e.destroy()}),this._plugins=[],this.toolbar.destroyRecursive(),delete this.toolbar,this.inherited(arguments)},addPlugin:function(t,i){var o=h.isString(t)?{name:t}:h.isFunction(t)?{ctor:t}:t;if(!o.setEditor){var n={args:o,plugin:null,editor:this};if(o.name&&(b.registry[o.name]?n.plugin=b.registry[o.name](o):f.publish(j._scopeName+".Editor.getPlugin",n)),!n.plugin)try{var r=o.ctor||h.getObject(o.name)||e(o.name);r&&(n.plugin=new r(o))}catch(e){throw new Error(this.id+": cannot find plugin ["+o.name+"]")}if(!n.plugin)throw new Error(this.id+": cannot find plugin ["+o.name+"]");t=n.plugin}arguments.length>1?this._plugins[i]=t:this._plugins.push(t),t.setEditor(this),h.isFunction(t.setToolbar)&&t.setToolbar(this.toolbar)},resize:function(e){e&&_.prototype.resize.apply(this,arguments)},layout:function(){var e=this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+a.getPadBorderExtents(this.iframe.parentNode).h+a.getMarginExtents(this.iframe.parentNode).h);this.editingArea.style.height=e+"px",this.iframe&&(this.iframe.style.height="100%"),this._layoutMode=!0},_onIEMouseDown:function(e){var t,i=this.document.body,o=i.clientWidth,n=i.clientHeight,r=i.clientLeft,s=i.offsetWidth,a=i.offsetHeight,d=i.offsetLeft;/^rtl$/i.test(i.dir||"")?o<s&&e.x>o&&e.x<s&&(t=!0):e.x<r&&e.x>d&&(t=!0),t||n<a&&e.y>n&&e.y<a&&(t=!0),t||(delete this._cursorToStart,delete this._savedSelection,"BODY"==e.target.tagName&&this.defer("placeCursorAtEnd"),this.inherited(arguments))},onBeforeActivate:function(){this._restoreSelection()},onBeforeDeactivate:function(e){this.customUndo&&this.endEditing(!0),"BODY"!=e.target.tagName&&this._saveSelection()},customUndo:!0,editActionInterval:3,beginEditing:function(e){this._inEditing||(this._inEditing=!0,this._beginEditing(e)),this.editActionInterval>0&&(this._editTimer&&this._editTimer.remove(),this._editTimer=this.defer("endEditing",this._editInterval))},_steps:[],_undoedSteps:[],execCommand:function(e){if(!this.customUndo||"undo"!=e&&"redo"!=e){this.customUndo&&(this.endEditing(),this._beginEditing());var t=this.inherited(arguments);return this.customUndo&&this._endEditing(),t}return this[e]()},_pasteImpl:function(){return this._clipboardCommand("paste")},_cutImpl:function(){return this._clipboardCommand("cut")},_copyImpl:function(){return this._clipboardCommand("copy")},_clipboardCommand:function(e){var t;try{if(t=this.document.execCommand(e,!1,null),c("webkit")&&!t)throw{code:1011}}catch(o){if(1011==o.code||9==o.code&&c("opera")){var i=u.substitute;alert(i(this.commands.systemShortcut,[this.commands[e],i(this.commands[c("mac")?"appleKey":"ctrlKey"],[{cut:"X",copy:"C",paste:"V"}[e]])]))}t=!1}return t},queryCommandEnabled:function(e){return!this.customUndo||"undo"!=e&&"redo"!=e?this.inherited(arguments):"undo"==e?this._steps.length>1:this._undoedSteps.length>0},_moveToBookmark:function(e){var i,o,n,r,s=e.mark,a=e.mark,d=e.isCollapsed;a&&(c("ie")<9||9===c("ie")&&c("quirks")?h.isArray(a)?(s=[],t.forEach(a,function(e){s.push(x.getNode(e,this.editNode))},this),this.selection.moveToBookmark({mark:s,isCollapsed:d})):a.startContainer&&a.endContainer&&(r=x.getSelection(this.window))&&r.removeAllRanges&&(r.removeAllRanges(),i=x.create(this.window),o=x.getNode(a.startContainer,this.editNode),n=x.getNode(a.endContainer,this.editNode),o&&n&&(i.setStart(o,a.startOffset),i.setEnd(n,a.endOffset),r.addRange(i))):(r=x.getSelection(this.window))&&r.removeAllRanges&&(r.removeAllRanges(),i=x.create(this.window),o=x.getNode(a.startContainer,this.editNode),n=x.getNode(a.endContainer,this.editNode),o&&n&&(i.setStart(o,a.startOffset),i.setEnd(n,a.endOffset),r.addRange(i))))},_changeToStep:function(e,t){this.setValue(t.text);var i=t.bookmark;i&&this._moveToBookmark(i)},undo:function(){var e=!1;if(!this._undoRedoActive){this._undoRedoActive=!0,this.endEditing(!0);var t=this._steps.pop();t&&this._steps.length>0&&(this.focus(),this._changeToStep(t,this._steps[this._steps.length-1]),this._undoedSteps.push(t),this.onDisplayChanged(),delete this._undoRedoActive,e=!0),delete this._undoRedoActive}return e},redo:function(){var e=!1;if(!this._undoRedoActive){this._undoRedoActive=!0,this.endEditing(!0);var t=this._undoedSteps.pop();t&&this._steps.length>0&&(this.focus(),this._changeToStep(this._steps[this._steps.length-1],t),this._steps.push(t),this.onDisplayChanged(),e=!0),delete this._undoRedoActive}return e},endEditing:function(e){this._editTimer&&(this._editTimer=this._editTimer.remove()),this._inEditing&&(this._endEditing(e),this._inEditing=!1)},_getBookmark:function(){var e=this.selection.getBookmark(),i=[];if(e&&e.mark){var o=e.mark;if(c("ie")<9||9===c("ie")&&c("quirks")){var n,r=x.getSelection(this.window);if(h.isArray(o))t.forEach(e.mark,function(e){i.push(x.getIndex(e,this.editNode).o)},this),e.mark=i;else if(r)r.rangeCount&&(n=r.getRangeAt(0)),e.mark=n?n.cloneRange():this.selection.getBookmark()}try{e.mark&&e.mark.startContainer&&(i=x.getIndex(e.mark.startContainer,this.editNode).o,e.mark={startContainer:i,startOffset:e.mark.startOffset,endContainer:e.mark.endContainer===e.mark.startContainer?i:x.getIndex(e.mark.endContainer,this.editNode).o,endOffset:e.mark.endOffset})}catch(t){e.mark=null}}return e},_beginEditing:function(){0===this._steps.length&&this._steps.push({text:C.getChildrenHtml(this.editNode),bookmark:this._getBookmark()})},_endEditing:function(){var e=C.getChildrenHtml(this.editNode);this._undoedSteps=[],this._steps.push({text:e,bookmark:this._getBookmark()})},onKeyDown:function(e){if(c("ie")||this.iframe||e.keyCode!=l.TAB||this.tabIndent||this._saveSelection(),this.customUndo){var t=e.keyCode;if(e.ctrlKey&&!e.shiftKey&&!e.altKey){if(90==t||122==t)return e.stopPropagation(),e.preventDefault(),void this.undo();if(89==t||121==t)return e.stopPropagation(),e.preventDefault(),void this.redo()}switch(this.inherited(arguments),t){case l.ENTER:case l.BACKSPACE:case l.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing(),88==e.keyCode?this.beginEditing("cut"):this.beginEditing("paste"),this.defer("endEditing",1);break}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<l.F1||e.keyCode>l.F15)){this.beginEditing();break}case l.ALT:this.endEditing();break;case l.UP_ARROW:case l.DOWN_ARROW:case l.LEFT_ARROW:case l.RIGHT_ARROW:case l.HOME:case l.END:case l.PAGE_UP:case l.PAGE_DOWN:this.endEditing(!0);break;case l.CTRL:case l.SHIFT:case l.TAB:}}else this.inherited(arguments)},_onBlur:function(){this.inherited(arguments),this.endEditing(!0)},_saveSelection:function(){try{this._savedSelection=this._getBookmark()}catch(e){}},_restoreSelection:function(){this._savedSelection&&(delete this._cursorToStart,this.selection.isCollapsed()&&this._moveToBookmark(this._savedSelection),delete this._savedSelection)},onClick:function(){this.endEditing(!0),this.inherited(arguments)},replaceValue:function(e){this.customUndo?this.isClosed?this.setValue(e):(this.beginEditing(),e||(e="&#160;"),this.setValue(e),this.endEditing()):this.inherited(arguments)},_setDisabledAttr:function(e){this.setValueDeferred.then(h.hitch(this,function(){!this.disabled&&e||!this._buttonEnabledPlugins&&e?t.forEach(this._plugins,function(e){e.set("disabled",!0)}):this.disabled&&!e&&t.forEach(this._plugins,function(e){e.set("disabled",!1)})})),this.inherited(arguments)},_setStateClass:function(){try{this.inherited(arguments),this.document&&this.document.body&&d.set(this.document.body,"color",d.get(this.iframe,"color"))}catch(e){}}});function S(e){return new b({command:e.name})}function D(e){return new b({buttonClass:v,command:e.name})}return h.mixin(b.registry,{undo:S,redo:S,cut:S,copy:S,paste:S,insertOrderedList:S,insertUnorderedList:S,indent:S,outdent:S,justifyCenter:S,justifyFull:S,justifyLeft:S,justifyRight:S,delete:S,selectAll:S,removeFormat:S,unlink:S,insertHorizontalRule:S,bold:D,italic:D,underline:D,strikethrough:D,subscript:D,superscript:D,"|":function(){return new b({setEditor:function(e){this.editor=e,this.button=new g({ownerDocument:e.ownerDocument})}})}}),N}),define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(e,t,i){var o=function(n){if(!n)return n;var r=!!n.then;function s(t){n[t]=function(){var s=arguments,a=i(n,function(i){return Array.prototype.unshift.call(s,i),o(e[t].apply(e,s))});if("forEach"!==t||r)return a}}return r&&(n=t.delegate(n)),s("forEach"),s("filter"),s("map"),null==n.total&&(n.total=i(n,function(e){return e.length})),n};return t.setObject("dojo.store.util.QueryResults",o),o}),define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(e){return function(t,i){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var o=t;t=function(e){for(var t in o){var i=o[t];if(i&&i.test){if(!i.test(e[t],e))return!1}else if(i!=e[t])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function n(o){var n=e.filter(o,t),r=i&&i.sort;if(r&&n.sort("function"==typeof r?r:function(e,t){for(var i,o=0;i=r[o];o++){var n=e[i.attribute],s=t[i.attribute];if(n=null!=n?n.valueOf():n,s=null!=s?s.valueOf():s,n!=s)return!!i.descending==(null==n||n>s)?-1:1}return 0}),i&&(i.start||i.count)){var s=n.length;(n=n.slice(i.start||0,(i.start||0)+(i.count||1/0))).total=s}return n}return n.matches=t,n}}),define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,t,i){return e("dojo.store.Memory",null,{constructor:function(e){for(var t in e)this[t]=e[t];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:i,get:function(e){return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty]},put:function(e,t){var i=this.data,o=this.index,n=this.idProperty,r=e[n]=t&&"id"in t?t.id:n in e?e[n]:Math.random();if(r in o){if(t&&!1===t.overwrite)throw new Error("Object already exists");i[o[r]]=e}else o[r]=i.push(e)-1;return r},add:function(e,t){return(t=t||{}).overwrite=!1,this.put(e,t)},remove:function(e){var t=this.index,i=this.data;if(e in t)return i.splice(t[e],1),this.setData(i),!0},query:function(e,i){return t(this.queryEngine(e,i)(this.data))},setData:function(e){e.items?(this.idProperty=e.identifier||this.idProperty,e=this.data=e.items):this.data=e,this.index={};for(var t=0,i=e.length;t<i;t++)this.index[e[t][this.idProperty]]=t}})}),define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(e,t,i,o,n,r,s,a){var d=t("dijit.form._TextBoxMixin"+(o("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(e,t,i){var o;void 0!==e&&(o=this.filter(e),"string"!=typeof i&&(i=null===o||"number"==typeof o&&isNaN(o)?"":this.filter(this.format(o,this.constraints)),0!=this.compare(o,this.filter(this.parse(i,this.constraints)))&&(i=null))),null==i||"number"==typeof i&&isNaN(i)||this.textbox.value==i||(this.textbox.value=i,this._set("displayedValue",this.get("displayedValue"))),this.inherited(arguments,[o,t])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(e){null==e?e="":"string"!=typeof e&&(e=String(e)),this.textbox.value=e,this._setValueAttr(this.get("value"),void 0),this._set("displayedValue",this.get("displayedValue"))},format:function(e){return null==e?"":e.toString?e.toString():e},parse:function(e){return e},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(e){this._processInput(e),this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(e){this._refreshState(),this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments),this.own(s(this.textbox,"keydown, keypress, paste, cut, input, compositionend",r.hitch(this,function(e){var t;if("keydown"==e.type){switch(t=e.keyCode){case n.SHIFT:case n.ALT:case n.CTRL:case n.META:case n.CAPS_LOCK:case n.NUM_LOCK:case n.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(t){case n.NUMPAD_0:case n.NUMPAD_1:case n.NUMPAD_2:case n.NUMPAD_3:case n.NUMPAD_4:case n.NUMPAD_5:case n.NUMPAD_6:case n.NUMPAD_7:case n.NUMPAD_8:case n.NUMPAD_9:case n.NUMPAD_MULTIPLY:case n.NUMPAD_PLUS:case n.NUMPAD_ENTER:case n.NUMPAD_MINUS:case n.NUMPAD_PERIOD:case n.NUMPAD_DIVIDE:return}if(t>=65&&t<=90||t>=48&&t<=57||t==n.SPACE)return;var i=!1;for(var o in n)if(n[o]===e.keyCode){i=!0;break}if(!i)return}}(t=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode)||(t=e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode==n.SPACE?String.fromCharCode(e.keyCode):e.keyCode);t||(t=229);if("keypress"==e.type){if("string"!=typeof t)return;if((t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||" "===t)&&(e.ctrlKey||e.metaKey||e.altKey))return}if("input"==e.type){if(this.__skipInputEvent)return void(this.__skipInputEvent=!1)}else this.__skipInputEvent=!0;var s,a={faux:!0};for(s in e)if(!/^(layer[XY]|returnValue|keyLocation)$/.test(s)){var d=e[s];"function"!=typeof d&&void 0!==d&&(a[s]=d)}r.mixin(a,{charOrCode:t,_wasConsumed:!1,preventDefault:function(){a._wasConsumed=!0,e.preventDefault()},stopPropagation:function(){e.stopPropagation()}}),!1===this.onInput(a)&&(a.preventDefault(),a.stopPropagation());if(a._wasConsumed)return;this.defer(function(){this._onInput(a)})})),s(this.domNode,"keypress",function(e){e.stopPropagation()}))},_blankValue:"",filter:function(e){return null===e?this._blankValue:"string"!=typeof e?e:(this.trim&&(e=r.trim(e)),this.uppercase&&(e=e.toUpperCase()),this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(e){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(e){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=s.once(this.domNode,"mouseup, touchend",r.hitch(this,function(e){this._isTextSelected()||d.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="",this.inherited(arguments)}});return o("dojo-bidi")&&(d=t("dijit.form._TextBoxMixin",d,{_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments)}})),d._setSelectionRange=a._setSelectionRange=function(e,t,i){e.setSelectionRange&&e.setSelectionRange(t,i)},d.selectInputText=a.selectInputText=function(e,t,o){e=i.byId(e),isNaN(t)&&(t=0),isNaN(o)&&(o=e.value?e.value.length:0);try{e.focus(),d._setSelectionRange(e,t,o)}catch(e){}},d}),define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(e,t,i,o,n,r,s,a,d,l,h){var c=e("dijit.form.TextBox"+(s("dojo-bidi")?"_NoBidi":""),[a,d],{templateString:l,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:s("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var e=this.type.toLowerCase();(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==e||"file"==e)&&this.templateString==this.constructor.prototype.templateString)&&(this.templateString=this._singleNodeTemplate),this.inherited(arguments)},postCreate:function(){this.inherited(arguments),s("ie")<9&&this.defer(function(){try{var e=i.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){var o=this.domNode.getElementsByTagName("INPUT");if(o)for(var n=0;n<o.length;n++)o[n].style.fontFamily=t}}}catch(e){}})},_setPlaceHolderAttr:function(e){this._set("placeHolder",e),this._phspan||(this._attachPoints.push("_phspan"),this._phspan=t.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(r(this._phspan,"mousedown",function(e){e.preventDefault()}),r(this._phspan,"touchend, pointerup, MSPointerUp",n.hitch(this,function(){this.focus()})))),this._phspan.innerHTML="",this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(e)),this._updatePlaceHolder()},_onInput:function(e){this.inherited(arguments),this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(e,t,i){this.inherited(arguments),this._updatePlaceHolder()},getDisplayedValue:function(){return o.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0"),this.get("displayedValue")},setDisplayedValue:function(e){o.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0"),this.set("displayedValue",e)},_onBlur:function(e){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),s("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(e){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});return s("ie")<9&&(c.prototype._isTextSelected=function(){var e=this.ownerDocument.selection.createRange(),t=e.parentElement();return t==this.textbox&&e.text.length>0},h._setSelectionRange=d._setSelectionRange=function(e,t,i){if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",-99999),o.moveStart("character",t),o.moveEnd("character",i-t),o.select()}}),s("dojo-bidi")&&(c=e("dijit.form.TextBox",c,{_setPlaceHolderAttr:function(e){this.inherited(arguments),this.applyTextDir(this._phspan)}})),c}),define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_){var v=t("dijit._MasterTooltip",[f,p],{duration:c.defaultDuration,templateString:g,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.bgIframe=new m(this.domNode),this.fadeIn=i.fadeIn({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onShow")}),this.fadeOut=i.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,"_onHide")})},show:function(e,t,i,o,n,r,d){if(!this.aroundNode||this.aroundNode!==t||this.containerNode.innerHTML!=e)if("playing"!=this.fadeOut.status()){this.containerNode.innerHTML=e,n&&this.set("textDir",n),this.containerNode.align=o?"right":"left";var l=u.around(this.domNode,t,i&&i.length?i:C.defaultPosition,!o,a.hitch(this,"orient")),h=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=h.y+(h.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=h.x+(h.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top=""),s.set(this.domNode,"opacity",0),this.fadeIn.play(),this.isShowingNow=!0,this.aroundNode=t,this.onMouseEnter=r||y,this.onMouseLeave=d||y}else this._onDeck=arguments},orient:function(e,t,i,o,n){this.connectorNode.style.top="";var s=o.h,a=o.w;e.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[t+"-"+i],this.domNode.style.width="auto";var d=r.position(this.domNode);(h("ie")||h("trident"))&&(d.w+=2);var l=Math.min(Math.max(a,1),d.w);if(r.setMarginBox(this.domNode,{w:l}),"B"==i.charAt(0)&&"B"==t.charAt(0)){var c=r.position(e),u=this.connectorNode.offsetHeight;if(c.h>s){var f=s-(n.h+u>>1);this.connectorNode.style.top=f+"px",this.connectorNode.style.bottom=""}else this.connectorNode.style.bottom=Math.min(Math.max(n.h/2-u/2,0),c.h-u)+"px",this.connectorNode.style.top=""}else this.connectorNode.style.top="",this.connectorNode.style.bottom="";return Math.max(0,d.w-a)},_onShow:function(){h("ie")&&(this.domNode.style.filter="")},hide:function(e){this._onDeck&&this._onDeck[1]==e?this._onDeck=null:this.aroundNode===e&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()),this.onMouseEnter=this.onMouseLeave=y},_onHide:function(){this.domNode.style.cssText="",this.containerNode.innerHTML="",this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});h("dojo-bidi")&&v.extend({_setAutoTextDir:function(t){this.applyTextDir(t),e.forEach(t.children,function(e){this._setAutoTextDir(e)},this)},_setTextDirAttr:function(e){this._set("textDir",e),"auto"==e?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}}),_.showTooltip=function(t,i,o,n,r,s,a){return o&&(o=e.map(o,function(e){return{after:"after-centered",before:"before-centered"}[e]||e})),C._masterTT||(_._masterTT=C._masterTT=new v),C._masterTT.show(t,i,o,n,r,s,a)},_.hideTooltip=function(e){return C._masterTT&&C._masterTT.hide(e)};var b="DORMANT";function y(){}var C=t("dijit.Tooltip",f,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(t){e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})},this),this._connectIds=e.filter(a.isArrayLike(t)?t:t?[t]:[],function(e){return o.byId(e,this.ownerDocument)},this),this._connections=e.map(this._connectIds,function(e){var t=o.byId(e,this.ownerDocument),i=this.selector,n=i?function(e){return l.selector(i,e)}:function(e){return e},r=this;return[l(t,n(d.enter),function(){r._onHover(this)}),l(t,n("focusin"),function(){r._onHover(this)}),l(t,n(d.leave),a.hitch(r,"_onUnHover")),l(t,n("focusout"),a.hitch(r,"set","state",b))]},this),this._set("connectId",t)},addTarget:function(t){var i=t.id||t;-1==e.indexOf(this._connectIds,i)&&this.set("connectId",this._connectIds.concat(i))},removeTarget:function(t){var i=t.id||t,o=e.indexOf(this._connectIds,i);o>=0&&(this._connectIds.splice(o,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments),n.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var t=this.connectId;e.forEach(a.isArrayLike(t)?t:[t],this.addTarget,this)},getContent:function(e){return this.label||this.domNode.innerHTML},state:b,_setStateAttr:function(e){if(!(this.state==e||"SHOW TIMER"==e&&"SHOWING"==this.state||"HIDE TIMER"==e&&this.state==b)){switch(this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer),this._showTimer&&(this._showTimer.remove(),delete this._showTimer),e){case b:this._connectNode&&(C.hide(this._connectNode),delete this._connectNode,this.onHide());break;case"SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case"SHOWING":var t=this.getContent(this._connectNode);if(!t)return void this.set("state",b);C.show(t,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,a.hitch(this,"set","state","SHOWING"),a.hitch(this,"set","state","HIDE TIMER")),this.onShow(this._connectNode,this.position);break;case"HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state",b)},this.hideDelay)}this._set("state",e)}},_onHover:function(e){this._connectNode&&e!=this._connectNode&&this.set("state",b),this._connectNode=e,this.set("state","SHOW TIMER")},_onUnHover:function(e){this.set("state","HIDE TIMER")},open:function(e){this.set("state",b),this._connectNode=e,this.set("state","SHOWING")},close:function(){this.set("state",b)},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",b),e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})},this),this.inherited(arguments)}});return C._MasterTooltip=v,C.show=_.showTooltip,C.hide=_.hideTooltip,C.defaultPosition=["after-centered","before-centered"],C}),define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(e,t,i,o,n,r,s){var a;return a=e("dijit.form.ValidationTextBox",n,{templateString:s,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(e,i){i!=a.prototype[e]&&(t.deprecated("ValidationTextBox id="+this.id+", set('"+e+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",i))},_setRegExpGenAttr:function(e){this._deprecateRegExp("regExpGen",e),this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(e){this._deprecateRegExp("regExp",e)},_setValueAttr:function(){this.inherited(arguments),this._refreshState()},validator:function(e,t){return new RegExp("^(?:"+this._computeRegexp(t)+")"+(this.required?"":"?")+"$").test(e)&&(!this.required||!this._isEmpty(e))&&(this._isEmpty(e)||void 0!==this.parse(e,t))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(e){return(this.trim?/^\s*$/:/^$/).test(e)},getErrorMessage:function(){var e="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,t="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:e;return this.required&&this._isEmpty(this.textbox.value)?t:e},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(e){var t="",i=this.disabled||this.isValid(e);i&&(this._maskValidSubsetError=!0);var o=this._isEmpty(this.textbox.value),n=!i&&e&&this._isValidSubset();return this._set("state",i?"":((!this._hasBeenBlurred||e)&&o||n)&&(this._maskValidSubsetError||n&&!this._hasBeenBlurred&&e)?"Incomplete":"Error"),this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false"),"Error"==this.state?(this._maskValidSubsetError=e&&n,t=this.getErrorMessage(e)):"Incomplete"==this.state?(t=this.getPromptMessage(e),this._maskValidSubsetError=!this._hasBeenBlurred||e):o&&(t=this.getPromptMessage(e)),this.set("message",t),i},displayMessage:function(e){e&&this.focused?r.show(e,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused),this.inherited(arguments)},constructor:function(e){this.constraints=i.clone(this.constraints),this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments),this._refreshState()},_setConstraintsAttr:function(e){!e.locale&&this.lang&&(e.locale=this.lang),this._set("constraints",e),this._refreshState()},_setPatternAttr:function(e){this._set("pattern",e),this._refreshState()},_computeRegexp:function(e){var t=this.pattern;if("function"==typeof t&&(t=t.call(this,e)),t!=this._lastRegExp){var i="";this._lastRegExp=t,".*"!=t&&t.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(e){switch(e.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":i+=e;break;case")":i+="|$)";break;default:i+="(?:"+e+"|$)"}});try{"".search(i)}catch(e){i=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+i+")$"}return t},postMixInProperties:function(){this.inherited(arguments),this.messages=o.getLocalization("dijit.form","validate",this.lang),this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(e){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){this._set("required",e),this.focusNode.setAttribute("aria-required",e),this._refreshState()},_setMessageAttr:function(e){this._set("message",e),this.displayMessage(e)},reset:function(){this._maskValidSubsetError=!0,this.inherited(arguments)},_onBlur:function(){this.displayMessage(""),this.inherited(arguments)},destroy:function(){r.hide(this.domNode),this.inherited(arguments)}})}),define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(e,t,i,o){return e("dijit.form.MappedTextBox",o,{postMixInProperties:function(){this.inherited(arguments),this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(e){return e.toString?e.toString():""},toString:function(){var e=this.filter(this.get("value"));return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):""},validate:function(){return this.valueNode.value=this.toString(),this.inherited(arguments)},buildRendering:function(){this.inherited(arguments),this.valueNode=i.place("<input type='hidden'"+(this.name&&!t("msapp")?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="",this.inherited(arguments)}})}),define("dojo/regexp",["./_base/kernel","./_base/lang"],function(e,t){var i={};return t.setObject("dojo.regexp",i),i.escapeString=function(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(e){return t&&-1!=t.indexOf(e)?e:"\\"+e})},i.buildGroupRE=function(e,t,o){if(!(e instanceof Array))return t(e);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return i.group(n.join("|"),o)},i.group=function(e,t){return"("+(t?"?:":"")+e+")"},i}),define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(e,t,i,o,n,r){function s(e){return{id:e.value,value:e.value,name:i.trim(e.innerText||e.textContent||"")}}return e("dijit.form.DataList",n,{constructor:function(e,n){this.domNode=t.byId(n),i.mixin(this,e),this.id&&r.add(this),this.domNode.style.display="none",this.inherited(arguments,[{data:o("option",this.domNode).map(s)}])},destroy:function(){r.remove(this.id)},fetchSelectedItem:function(){var e=o("> option[selected]",this.domNode)[0]||o("> option",this.domNode)[0];return e&&s(e)}})}),define("dijit/form/_SearchMixin",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(e,t,i,o,n,r,s){return e("dijit.form._SearchMixin",null,{pageSize:1/0,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(e){this._set("list",e)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(e){return new RegExp("^"+e.replace(/(\\.)|(\*)|(\?)|\W/g,function(e,t,i,o){return i?".*":o?".":t||"\\"+e})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove()),this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove()),this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(e){if(!this.disabled&&!this.readOnly){var i=e.charOrCode;if(!("type"in e&&"key"==e.type.substring(0,3)&&(e.altKey||(e.ctrlKey||e.metaKey)&&"x"!=i&&"v"!=i||i==t.SHIFT))){var o=!1;switch(this._prev_key_backspace=!1,i){case t.DELETE:case t.BACKSPACE:this._prev_key_backspace=!0,this._maskValidSubsetError=!0,o=!0;break;default:o="string"==typeof i||229==i}o&&(this.store?this.searchTimer=this.defer("_startSearchFromInput",1):this.onSearch())}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(e){this._abortQuery();var t,o=this,s=i.clone(this.query),a={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},d=n.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),l=function(){var e=o._fetchHandle=o.store.query(s,a);o.disabled||o.readOnly||t!==o._lastQuery||r(e,function(i){o._fetchHandle=null,o.disabled||o.readOnly||t!==o._lastQuery||r(e.total,function(e){i.total=e;var t=o.pageSize;(isNaN(t)||t>i.total)&&(t=i.total),i.nextPage=function(e){a.direction=e=!1!==e,a.count=t,e?(a.start+=i.length,a.start>=i.total&&(a.count=0)):(a.start-=t,a.start<0&&(a.count=Math.max(t+a.start,0),a.start=0)),a.count<=0?(i.length=0,o.onSearch(i,s,a)):l()},o.onSearch(i,s,a)})},function(e){o._fetchHandle=null,o._cancelingQuery||console.error(o.declaredClass+" "+e.toString())})};i.mixin(a,this.fetchProperties),this.store._oldAPI?t=d:(t=this._patternToRegExp(d)).toString=function(){return d},this._lastQuery=s[this.searchAttr]=t,this._queryDeferHandle=this.defer(l,this.searchDelay)},constructor:function(){this.query={},this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var e=this.list;e&&(this.store=s.byId(e))}this.inherited(arguments)}})}),define("dijit/form/_AutoCompleterMixin",["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(e,t,i,o,n,r,s,a,d,l,h){var c=t("dijit.form._AutoCompleterMixin",h,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(e){var t=0;if("number"==typeof e.selectionStart)t=e.selectionStart;else if(a("ie")){var i=e.ownerDocument.selection.createRange().duplicate(),o=e.createTextRange();i.move("character",0),o.move("character",0);try{o.setEndPoint("EndToEnd",i),t=String(o.text).replace(/\r/g,"").length}catch(e){}}return t},_setCaretPos:function(e,t){t=parseInt(t),l.selectInputText(e,t,t)},_setDisabledAttr:function(e){this.inherited(arguments),this.domNode.setAttribute("aria-disabled",e?"true":"false")},_onKey:function(e){if(!(e.charCode>=32)){var t=e.charCode||e.keyCode;if(t!=o.ALT&&t!=o.CTRL&&t!=o.META&&t!=o.SHIFT){var i=this.dropDown,n=null;if(this._abortQuery(),this.inherited(arguments),!(e.altKey||e.ctrlKey||e.metaKey))switch(this._opened&&(n=i.getHighlightedOption()),t){case o.PAGE_DOWN:case o.DOWN_ARROW:case o.PAGE_UP:case o.UP_ARROW:this._opened&&this._announceOption(n),e.stopPropagation(),e.preventDefault();break;case o.ENTER:if(n){if(n==i.nextButton){this._nextSearch(1),e.stopPropagation(),e.preventDefault();break}if(n==i.previousButton){this._nextSearch(-1),e.stopPropagation(),e.preventDefault();break}e.stopPropagation(),e.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case o.TAB:var r=this.get("displayedValue");if(i&&(r==i._messages.previousMessage||r==i._messages.nextMessage))break;n&&this._selectOption(n);case o.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(e){var t=this.focusNode;l.selectInputText(t,t.value.length);var i=this.ignoreCase?"toLowerCase":"substr";if(0==e[i](0).indexOf(this.focusNode.value[i](0))){var o=this.autoComplete?this._getCaretPos(t):t.value.length;o+1>t.value.length&&(t.value=e,l.selectInputText(t,o))}else t.value=e,l.selectInputText(t)},_openResultList:function(e,t,i){var o=this.dropDown.getHighlightedOption();this.dropDown.clearResultList(),e.length||0!=i.start?(this._nextSearch=this.dropDown.onPage=n.hitch(this,function(t){e.nextPage(-1!==t),this.focus()}),this.dropDown.createOptions(e,i,n.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in i?(i.direction?this.dropDown.highlightFirstOption():i.direction||this.dropDown.highlightLastOption(),o&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(t[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0),this.openDropDown(),this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery(),this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var e=this.get("displayedValue"),t=this.dropDown;!t||e!=t._messages.previousMessage&&e!=t._messages.nextMessage?void 0===this.item?(this.item=null,this.set("displayedValue",e)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0),this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(e,t,i){var o="";e&&(i||(i=this.store._oldAPI?this.store.getValue(e,this.searchAttr):e[this.searchAttr]),o=this._getValueField()!=this.searchAttr?this.store.getIdentity(e):i),this.set("value",o,t,i,e)},_announceOption:function(e){if(e){var t;if(e==this.dropDown.nextButton||e==this.dropDown.previousButton)t=e.innerHTML,this.item=void 0,this.value="";else{var o=this.dropDown.items[e.getAttribute("item")];t=(this.store._oldAPI?this.store.getValue(o,this.searchAttr):o[this.searchAttr]).toString(),this.set("item",o,!1,t)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length),this.focusNode.setAttribute("aria-activedescendant",i.get(e,"id")),this._autoCompleteText(t)}},_selectOption:function(e){this.closeDropDown(),e&&this._announceOption(e),this._setCaretPos(this.focusNode,this.focusNode.value.length),this._handleOnChange(this.value,!0),this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0,this.inherited(arguments)},_startSearch:function(e){if(!this.dropDown){var t=this.id+"_popup",i=n.isString(this.dropDownClass)?n.getObject(this.dropDownClass,!1):this.dropDownClass;this.dropDown=new i({onChange:n.hitch(this,this._selectOption),id:t,dir:this.dir,textDir:this.textDir})}this._lastInput=e,this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){if(this.inherited(arguments),!this.store&&this.srcNodeRef){var e=this.srcNodeRef;if(this.store=new d({},e),!("value"in this.params)){var t=this.item=this.store.fetchSelectedItem();if(t){var i=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(t,i):t[i]}}}},postCreate:function(){var t=r('label[for="'+this.id+'"]');t.length&&(t[0].id||(t[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",t[0].id)),this.inherited(arguments),e.after(this,"onSearch",n.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(e){var t=this.labelFunc(e,this.store),i=this.labelType;return"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(t=this.doHighlight(t,this._lastInput),i="html"),{html:"html"==i,label:t}},doHighlight:function(e,t){var i=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),o=this.queryExpr.indexOf("${0}");return t=s.escapeString(t),this._escapeHtml(e.replace(new RegExp((0==o?"^":"")+"("+t+")"+(o==this.queryExpr.length-4?"$":""),i),"$1")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(e){return e=String(e).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null,this.inherited(arguments)},labelFunc:function(e,t){return(t._oldAPI?t.getValue(e,this.labelAttr||this.searchAttr):e[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(e,t,i,o){this._set("item",o||null),null==e&&(e=""),this.inherited(arguments)}});return a("dojo-bidi")&&c.extend({_setTextDirAttr:function(e){this.inherited(arguments),this.dropDown&&this.dropDown._set("textDir",e)}}),c}),define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(e,t,i,o,n){var r=t("dijit.form._ComboBoxMenuMixin"+(o("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments),this._messages=n.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments),this.previousButton.innerHTML=this._messages.previousMessage,this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(e){this._set("value",e),this.onChange(e)},onClick:function(e){e==this.previousButton?(this._setSelectedAttr(null),this.onPage(-1)):e==this.nextButton?(this._setSelectedAttr(null),this.onPage(1)):this.onChange(e)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(e,t){var i=this._createMenuItem(),o=t(e);return o.html?i.innerHTML=o.label:i.appendChild(i.ownerDocument.createTextNode(o.label)),""==i.innerHTML&&(i.innerHTML="&#160;"),i},createOptions:function(t,o,n){this.items=t,this.previousButton.style.display=0==o.start?"none":"",i.set(this.previousButton,"id",this.id+"_prev"),e.forEach(t,function(e,t){var o=this._createOption(e,n);o.setAttribute("item",t),i.set(o,"id",this.id+t),this.nextButton.parentNode.insertBefore(o,this.nextButton)},this);var r=!1;t.total&&!t.total.then&&-1!=t.total?o.start+o.count<t.total?r=!0:o.start+o.count>t.total&&o.count==t.length&&(r=!0):o.count==t.length&&(r=!0),this.nextButton.style.display=r?"":"none",i.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var e=this.containerNode;e.childNodes.length>2;)e.removeChild(e.childNodes[e.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments),this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments),this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});return o("dojo-bidi")&&(r=t("dijit.form._ComboBoxMenuMixin",r,{_createOption:function(){var e=this.inherited(arguments);return this.applyTextDir(e),e}})),r}),define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(e,t,i){return e("dijit.form._ListBase",null,{selected:null,_listConnect:function(e,i){var o=this;return o.own(t(o.containerNode,t.selector(function(e,t,i){return e.parentNode==i},e),function(e){o[i](e,this)}))},selectFirstNode:function(){for(var e=this.containerNode.firstChild;e&&"none"==e.style.display;)e=e.nextSibling;this._setSelectedAttr(e,!0)},selectLastNode:function(){for(var e=this.containerNode.lastChild;e&&"none"==e.style.display;)e=e.previousSibling;this._setSelectedAttr(e,!0)},selectNextNode:function(){var e=this.selected;if(e){for(var t=e.nextSibling;t&&"none"==t.style.display;)t=t.nextSibling;t?this._setSelectedAttr(t,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var e=this.selected;if(e){for(var t=e.previousSibling;t&&"none"==t.style.display;)t=t.previousSibling;t?this._setSelectedAttr(t,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(e,t){if(this.selected!=e){var o=this.selected;o&&this.onDeselect(o),e&&(t&&i.scrollIntoView(e),this.onSelect(e)),this._set("selected",e)}else e&&this.onSelect(e)}})}),define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(e,t,i,o){return e("dijit.form._ListMouseMixin",o,{postCreate:function(){this.inherited(arguments),this.domNode.dojoClick=!0,this._listConnect("click","_onClick"),this._listConnect("mousedown","_onMouseDown"),this._listConnect("mouseup","_onMouseUp"),this._listConnect("mouseover","_onMouseOver"),this._listConnect("mouseout","_onMouseOut")},_onClick:function(e,t){this._setSelectedAttr(t,!1),this._deferredClick&&this._deferredClick.remove(),this._deferredClick=this.defer(function(){this._deferredClick=null,this.onClick(t)})},_onMouseDown:function(e,t){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null),this._isDragging=!0,this._setSelectedAttr(t,!1)},_onMouseUp:function(e,t){this._isDragging=!1;var i=this.selected,o=this._hoveredNode;i&&t==i?this.defer(function(){this._onClick(e,i)}):o&&this.defer(function(){this._onClick(e,o)})},_onMouseOut:function(e,t){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null),this._isDragging&&(this._cancelDrag=(new Date).getTime()+1e3)},_onMouseOver:function(e,t){if(this._cancelDrag){var i=(new Date).getTime();i>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null}this._hoveredNode=t,this.onHover(t),this._isDragging&&this._setSelectedAttr(t,!1)}})}),define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(e,t,i,o,n,r,s,a){return e("dijit.form._ComboBoxMenu",[n,r,a,s],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments),this.isLeftToRight()||(t.add(this.previousButton,"dijitMenuItemRtl"),t.add(this.nextButton,"dijitMenuItemRtl")),this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var e=this.ownerDocument.createElement("div");return e.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),e.setAttribute("role","option"),e},onHover:function(e){t.add(e,"dijitMenuItemHover")},onUnhover:function(e){t.remove(e,"dijitMenuItemHover")},onSelect:function(e){t.add(e,"dijitMenuItemSelected")},onDeselect:function(e){t.remove(e,"dijitMenuItemSelected")},_page:function(e){var t=0,o=this.domNode.scrollTop,n=i.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();t<n;){var r=this.getHighlightedOption();if(e){if(!r.previousSibling||"none"==r.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!r.nextSibling||"none"==r.nextSibling.style.display)break;this.selectNextNode()}var s=this.domNode.scrollTop;t+=(s-o)*(e?-1:1),o=s}},handleKey:function(e){switch(e.keyCode){case o.DOWN_ARROW:return this.selectNextNode(),!1;case o.PAGE_DOWN:return this._page(!1),!1;case o.UP_ARROW:return this.selectPreviousNode(),!1;case o.PAGE_UP:return this._page(!0),!1;default:return!0}}})}),define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){return e("dijit._HasDropDown",m,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(e){this.disabled||this.readOnly||("MSPointerDown"!=e.type&&"pointerdown"!=e.type&&e.preventDefault(),this.own(h.once(this.ownerDocument,c.release,l.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(e){var t=this.dropDown,i=!1;if(e&&this._opened){var o=r.position(this._buttonNode,!0);if(!(e.pageX>=o.x&&e.pageX<=o.x+o.w&&e.pageY>=o.y&&e.pageY<=o.y+o.h)){for(var s=e.target;s&&!i;)n.contains(s,"dijitPopup")?i=!0:s=s.parentNode;if(i){if(s=e.target,t.onItemClick){for(var a;s&&!(a=u.byNode(s));)s=s.parentNode;a&&a.onClick&&a.getParent&&a.getParent().onItemClick(a,e)}return}}}this._opened?t.focus&&(!1!==t.autoFocus||"mouseup"==e.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){t.focus(),delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(e){this._stopClickEvents&&(e.stopPropagation(),e.preventDefault())},buildRendering:function(){this.inherited(arguments),this._buttonNode=this._buttonNode||this.focusNode||this.domNode,this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var e={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";n.add(this._arrowWrapperNode||this._buttonNode,"dijit"+e+"ArrowButton")},postCreate:function(){this.inherited(arguments);var e=this.focusNode||this.domNode;this.own(h(this._buttonNode,c.press,l.hitch(this,"_onDropDownMouseDown")),h(this._buttonNode,"click",l.hitch(this,"_onDropDownClick")),h(e,"keydown",l.hitch(this,"_onKey")),h(e,"keyup",l.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0),this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown),this.inherited(arguments)},_onKey:function(e){if(!this.disabled&&!this.readOnly){var t=this.dropDown,i=e.target;if(t&&this._opened&&t.handleKey&&!1===t.handleKey(e))return e.stopPropagation(),void e.preventDefault();t&&this._opened&&e.keyCode==d.ESCAPE?(this.closeDropDown(),e.stopPropagation(),e.preventDefault()):!this._opened&&(e.keyCode==d.DOWN_ARROW||(e.keyCode==d.ENTER||e.keyCode==d.SPACE&&(!this._searchTimer||e.ctrlKey||e.altKey||e.metaKey))&&("input"!==(i.tagName||"").toLowerCase()||i.type&&"text"!==i.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,e.stopPropagation(),e.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp,this.toggleDropDown();var e=this.dropDown;e&&e.focus&&this.defer(l.hitch(e,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1),this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(e){e()},loadAndOpenDropDown:function(){var e=new t,i=l.hitch(this,function(){this.openDropDown(),e.resolve(this.dropDown)});return this.isLoaded()?i():this.loadDropDown(i),e},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var e=this.dropDown,t=e.domNode,i=this._aroundNode||this.domNode,s=this,a=p.open({parent:this,popup:e,around:i,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){s.closeDropDown(!0)},onCancel:function(){s.closeDropDown(!0)},onClose:function(){o.set(s._popupStateNode,"popupActive",!1),n.remove(s._popupStateNode,"dijitHasDropDownOpen"),s._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&i.offsetWidth>e._popupWrapper.offsetWidth){var d=i.offsetWidth-e._popupWrapper.offsetWidth,h={w:e.domNode.offsetWidth+d};l.isFunction(e.resize)?e.resize(h):r.setMarginBox(t,h),"R"==a.corner[1]&&(e._popupWrapper.style.left=e._popupWrapper.style.left.replace("px","")-d+"px")}return o.set(this._popupStateNode,"popupActive","true"),n.add(this._popupStateNode,"dijitHasDropDownOpen"),this._set("_opened",!0),this._popupStateNode.setAttribute("aria-expanded","true"),this._popupStateNode.setAttribute("aria-owns",e.id),"presentation"===t.getAttribute("role")||t.getAttribute("aria-labelledby")||t.setAttribute("aria-labelledby",this.id),a},closeDropDown:function(e){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer),this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),e&&this.focus&&this.focus(),p.close(this.dropDown),this._opened=!1)}})}),define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,i,o,n,r,s,a,d){return e("dijit.form.ComboBoxMixin",[a,r],{dropDownClass:s,hasDownArrow:!0,templateString:d,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(e){this._set("hasDownArrow",e),this._buttonNode.style.display=e?"":"none"},_showResultList:function(){this.displayMessage(""),this.inherited(arguments)},_setStoreAttr:function(e){e.get||o.mixin(e,{_oldAPI:!0,get:function(e){var i=new t;return this.fetchItemByIdentity({identity:e,onItem:function(e){i.resolve(e)},onError:function(e){i.reject(e)}}),i.promise},query:function(e,i){var r=new t(function(){s.abort&&s.abort()});r.total=new t;var s=this.fetch(o.mixin({query:e,onBegin:function(e){r.total.resolve(e)},onComplete:function(e){r.resolve(e)},onError:function(e){r.reject(e)}},i));return n(r)}}),this._set("store",e)},postMixInProperties:function(){var e=this.params.store||this.store;if(e&&this._setStoreAttr(e),this.inherited(arguments),!this.params.store&&this.store&&!this.store._oldAPI){var t=this.declaredClass;o.mixin(this.store,{getValue:function(e,o){return i.deprecated(t+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0"),e[o]},getLabel:function(e){return i.deprecated(t+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0"),e.name},fetch:function(e){i.deprecated(t+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],o.hitch(this,function(t){new t({objectStore:this}).fetch(e)}))}})}},buildRendering:function(){this.inherited(arguments),this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list")}})}),define("dijit/form/FilteringSelect",["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(e,t,i,o,n){return e("dijit.form.FilteringSelect",[o,n],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(e,t,i,o){t&&t[this.searchAttr]!==this._lastQuery||!t&&e.length&&this.store.getIdentity(e[0])!=this._lastQuery||(e.length?this.set("item",e[0],o):this.set("value","",o||void 0===o&&!this.focused,this.textbox.value,null))},_openResultList:function(e,t,i){t[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(e,o,n,r){if(this._onChangeActive||(o=null),void 0===r){if((null===e||""===e)&&(e="",!t.isString(n)))return void this._setDisplayedValueAttr(n||"",o);var s=this;this._lastQuery=e,i(this.store.get(e),function(e){s._callbackSetLabel(e?[e]:[],void 0,void 0,o)})}else this.valueNode.value=e,this.inherited(arguments,[e,o,n,r])},_setItemAttr:function(e,t,i){this.inherited(arguments),this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(e){return e.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(e,o){if(null==e&&(e=""),!this._created){if(!("displayedValue"in this.params))return;o=!1}if(this.store){this.closeDropDown();var n,r=t.clone(this.query),s=this._getDisplayQueryString(e);this.store._oldAPI?n=s:(n=this._patternToRegExp(s)).toString=function(){return s},this._lastQuery=r[this.searchAttr]=n,this.textbox.value=e,this._lastDisplayedValue=e,this._set("displayedValue",e);var a=this,d={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};t.mixin(d,this.fetchProperties),this._fetchHandle=this.store.query(r,d),i(this._fetchHandle,function(e){a._fetchHandle=null,a._callbackSetLabel(e||[],r,d,o)},function(e){a._fetchHandle=null,a._cancelingQuery||console.error("dijit.form.FilteringSelect: "+e.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})}),define("dijit/_editor/plugins/FontChoice",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f){var p=i("dijit._editor.plugins._FontDropDown",[d,l,h],{label:"",plainText:!1,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'><label class='dijitLeft dijitInline' for='${selectId}'>${label}</label><input data-dojo-type='../../form/FilteringSelect' required='false' data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' class='${comboClass}' tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/></span>",contextRequire:e,postMixInProperties:function(){this.inherited(arguments),this.strings=n.getLocalization("dijit._editor","FontChoice"),this.label=this.strings[this.command],this.id=a.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.selectId=this.id+"_select",this.inherited(arguments)},postCreate:function(){this.select.set("store",new s({idProperty:"value",data:t.map(this.values,function(e){var t=this.strings[e]||e;return{label:this.getLabel(e,t),name:t,value:e}},this)})),this.select.set("value","",!1),this.disabled=this.select.get("disabled")},_setValueAttr:function(e,i){i=!1!==i,this.select.set("value",t.indexOf(this.values,e)<0?"":e,i),i||(this.select._lastValueReported=null)},_getValueAttr:function(){return this.select.get("value")},focus:function(){this.select.focus()},_setDisabledAttr:function(e){this._set("disabled",e),this.select.set("disabled",e)}}),m=i("dijit._editor.plugins._FontNameDropDown",p,{generic:!1,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){this.values||(this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"]),this.inherited(arguments)},getLabel:function(e,t){return this.plainText?t:"<div style='font-family: "+e+"'>"+t+"</div>"},_setValueAttr:function(e,t){if(t=!1!==t,this.generic){e={Arial:"sans-serif",Helvetica:"sans-serif",Myriad:"sans-serif",Times:"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive",Courier:"monospace","Courier New":"monospace",Papyrus:"fantasy","Estrangelo Edessa":"cursive",Gabriola:"fantasy"}[e]||e}this.inherited(arguments,[e,t])}}),g=i("dijit._editor.plugins._FontSizeDropDown",p,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(e,t){return this.plainText?t:"<font size="+e+"'>"+t+"</font>"},_setValueAttr:function(e,t){if(t=!1!==t,e.indexOf&&-1!=e.indexOf("px")){var i=parseInt(e,10);e={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[i]||e}this.inherited(arguments,[e,t])}}),_=i("dijit._editor.plugins._FormatBlockDropDown",p,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments),this.set("value","noFormat",!1)},getLabel:function(e,t){return this.plainText||"noFormat"==e?t:"<"+e+">"+t+"</"+e+">"},_execCommand:function(e,i,o){if("noFormat"===o){var n,s,a=f.getSelection(e.window);if(a&&a.rangeCount>0){var d,l,h=a.getRangeAt(0);if(h){for(n=h.startContainer,s=h.endContainer;n&&n!==e.editNode&&n!==e.document.body&&1!==n.nodeType;)n=n.parentNode;for(;s&&s!==e.editNode&&s!==e.document.body&&1!==s.nodeType;)s=s.parentNode;var c=r.hitch(this,function(i,o){var n;if(i.childNodes&&i.childNodes.length)for(n=0;n<i.childNodes.length;n++){var r=i.childNodes[n];if(1==r.nodeType&&e.selection.inSelection(r)){var s=r.tagName?r.tagName.toLowerCase():"";-1!==t.indexOf(this.values,s)&&o.push(r),c(r,o)}}}),u=r.hitch(this,function(t){if(t&&t.length){for(e.beginEditing();t.length;)this._removeFormat(e,t.pop());e.endEditing()}}),p=[];if(n==s){var m;for(d=n;d&&d!==e.editNode&&d!==e.document.body;){if(1==d.nodeType&&(l=d.tagName?d.tagName.toLowerCase():"",-1!==t.indexOf(this.values,l))){m=d;break}d=d.parentNode}c(n,p),m&&(p=[m].concat(p)),u(p)}else{for(d=n;e.selection.inSelection(d);)1==d.nodeType&&(l=d.tagName?d.tagName.toLowerCase():"",-1!==t.indexOf(this.values,l)&&p.push(d),c(d,p)),d=d.nextSibling;u(p)}e.onDisplayChanged()}}}else e.execCommand(i,o)},_removeFormat:function(e,t){if(e.customUndo){for(;t.firstChild;)o.place(t.firstChild,t,"before");t.parentNode.removeChild(t)}else{e.selection.selectElementChildren(t);var i=e.selection.getSelectedHtml();e.selection.selectElement(t),e.execCommand("inserthtml",i||"")}}}),v=i("dijit._editor.plugins.FontChoice",u,{useDefaultCommand:!1,_initButton:function(){var e={fontName:m,fontSize:g,formatBlock:_}[this.command],t=this.params;this.params.custom&&(t.values=this.params.custom);var i=this.editor;this.button=new e(r.delegate({dir:i.dir,lang:i.lang},t)),this.own(this.button.select.on("change",r.hitch(this,function(e){this.editor.focused&&this.editor.focus(),"fontName"==this.command&&-1!=e.indexOf(" ")&&(e="'"+e+"'"),this.button._execCommand?this.button._execCommand(this.editor,this.command,e):this.editor.execCommand(this.command,e)})))},updateState:function(){var e=this.editor,i=this.command;if(e&&e.isLoaded&&i.length&&this.button){var o,n=this.get("disabled");if(this.button.set("disabled",n),n)return;try{o=e.queryCommandValue(i)||""}catch(e){o=""}var s=r.isString(o)&&(o.match(/'([^']*)'/)||o.match(/"([^"]*)"/));if(s&&(o=s[1]),"formatBlock"===i)if(o&&"p"!=o)t.indexOf(this.button.values,o)<0&&(o="noFormat");else{var a;o=null;var d=f.getSelection(this.editor.window);if(d&&d.rangeCount>0){var l=d.getRangeAt(0);l&&(a=l.endContainer)}for(;a&&a!==e.editNode&&a!==e.document;){var h=a.tagName?a.tagName.toLowerCase():"";if(h&&t.indexOf(this.button.values,h)>-1){o=h;break}a=a.parentNode}o||(o="noFormat")}o!==this.button.get("value")&&this.button.set("value",o,!1)}}});return t.forEach(["fontName","fontSize","formatBlock"],function(e){u.registry[e]=function(t){return new v({command:e,plainText:t.plainText})}}),v._FontDropDown=p,v._FontNameDropDown=m,v._FontSizeDropDown=g,v._FormatBlockDropDown=_,v}),define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(e,t,i,o,n,r,s,a,d){return e("dijit.form.DropDownButton",[r,s,a],{baseClass:"dijitDropDownButton",templateString:d,_fillContent:function(){if(this.srcNodeRef){var e=i("*",this.srcNodeRef);this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var e=i("[widgetId]",this.dropDownContainer)[0];e&&(this.dropDown=o.byNode(e)),delete this.dropDownContainer}this.dropDown&&n.hide(this.dropDown),this.inherited(arguments)}},isLoaded:function(){var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},loadDropDown:function(e){var i=this.dropDown,o=i.on("load",t.hitch(this,function(){o.remove(),e()}));i.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})}),define("dijit/_editor/plugins/LinkDialog",["require","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/query","dojo/string","../_Plugin","../../form/DropDownButton","../range"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=t("dijit._editor.plugins.LinkDialog",l,{buttonClass:h,useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:'<a href="${urlInput}" _djrealurl="${urlInput}" target="${targetSelect}">${textInput}</a>',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments),this.button.loadDropDown=n.hitch(this,"_loadDropDown"),this._connectTagEvents()},_loadDropDown:function(t){e(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],n.hitch(this,function(e,i,s){var a=this;this.tag="insertImage"==this.command?"img":"a";var l=n.delegate(e.getLocalization("dijit","common",this.lang),e.getLocalization("dijit._editor","LinkDialog",this.lang)),h=this.dropDown=this.button.dropDown=new i({title:l[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:n.hitch(this,"setValue"),onOpen:function(){a._onOpenDialog(),i.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(n.hitch(a,"_onCloseDialog"),0)}});l.urlRegExp=this.urlRegExp,l.id=s.getUniqueId(this.editor.id),this._uniqueId=l.id,this._setContent(h.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+d.substitute(this.linkDialogTemplate,l)),h.startup(),this._urlInput=s.byId(this._uniqueId+"_urlInput"),this._textInput=s.byId(this._uniqueId+"_textInput"),this._setButton=s.byId(this._uniqueId+"_setButton"),this.own(s.byId(this._uniqueId+"_cancelButton").on("click",n.hitch(this.dropDown,"onCancel"))),this._urlInput&&this.own(this._urlInput.on("change",n.hitch(this,"_checkAndFixInput"))),this._textInput&&this.own(this._textInput.on("change",n.hitch(this,"_checkAndFixInput"))),this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i"),this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i"),this._urlInput.isValid=n.hitch(this,function(){var e=this._urlInput.get("value");return this._urlRegExp.test(e)||this._emailRegExp.test(e)}),this.own(r(h.domNode,"keydown",n.hitch(this,n.hitch(this,function(e){!e||e.keyCode!=o.ENTER||e.shiftKey||e.metaKey||e.ctrlKey||e.altKey||this._setButton.get("disabled")||(h.onExecute(),h.execute(h.get("value")))})))),t()}))},_checkAndFixInput:function(){var e=this,t=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null),this._delayedCheck=setTimeout(function(){!function(t){var i=!1,o=!1;t&&t.length>1&&0!==(t=n.trim(t)).indexOf("mailto:")&&(t.indexOf("/")>0?-1===t.indexOf("://")&&"/"!==t.charAt(0)&&t.indexOf("./")&&0!==t.indexOf("../")&&e._hostRxp.test(t)&&(i=!0):e._userAtRxp.test(t)&&(o=!0));i&&e._urlInput.set("value","http://"+t);o&&e._urlInput.set("value","mailto:"+t);e._setButton.set("disabled",!e._isValid())}(t)},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(n.hitch(this,function(){this.own(r(this.editor.editNode,"dblclick",n.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(e){this.dropDown.set({parserScope:"dojo",content:e})},_checkValues:function(e){return e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"&quot;")),e},setValue:function(e){if(this._onCloseDialog(),s("ie")<9){var t=c.getSelection(this.editor.window),o=t.getRangeAt(0),n=o.endContainer;3===n.nodeType&&(n=n.parentNode),n&&n.nodeName&&n.nodeName.toLowerCase()!==this.tag&&(n=this.editor.selection.getSelectedElement(this.tag)),n&&n.nodeName&&n.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(n),this.editor.execCommand("unlink"))}e=this._checkValues(e),this.editor.execCommand("inserthtml",d.substitute(this.htmlTemplate,e)),a("a",this.editor.document).forEach(function(e){e.innerHTML||i.has(e,"name")||e.parentNode.removeChild(e)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(e){var t,i,o;return e&&e.tagName.toLowerCase()===this.tag?(t=e.getAttribute("_djrealurl")||e.getAttribute("href"),o=e.getAttribute("target")||"_self",i=e.textContent||e.innerText,this.editor.selection.selectElement(e,!0)):i=this.editor.selection.getSelectedText(),{urlInput:t||"",textInput:i||"",targetSelect:o||""}},_onOpenDialog:function(){var e,t,i;if(s("ie")){var o=c.getSelection(this.editor.window);if(o.rangeCount){var n=o.getRangeAt(0);3===(e=n.endContainer).nodeType&&(e=e.parentNode),e&&e.nodeName&&e.nodeName.toLowerCase()!==this.tag&&(e=this.editor.selection.getSelectedElement(this.tag)),(!e||e.nodeName&&e.nodeName.toLowerCase()!==this.tag)&&((t=this.editor.selection.getAncestorElement(this.tag))&&t.nodeName&&t.nodeName.toLowerCase()==this.tag?(e=t,this.editor.selection.selectElement(e)):n.startContainer===n.endContainer&&(i=n.startContainer.firstChild)&&i.nodeName&&i.nodeName.toLowerCase()==this.tag&&(e=i,this.editor.selection.selectElement(e)))}}else e=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset(),this._setButton.set("disabled",!0),this.dropDown.set("value",this._getCurrentValues(e))},_onDblClick:function(e){if(e&&e.target){var t=e.target,o=t.tagName?t.tagName.toLowerCase():"";if(o===this.tag&&i.get(t,"href")){var n=this.editor;this.editor.selection.selectElement(t),n.onDisplayChanged(),n._updateTimer&&(n._updateTimer.remove(),delete n._updateTimer),n.onNormalizedDisplayChanged();var r=this.button;setTimeout(function(){r.set("disabled",!1),r.loadAndOpenDropDown().then(function(){r.dropDown.focus&&r.dropDown.focus()})},10)}}}}),f=t("dijit._editor.plugins.ImgLinkDialog",[u],{linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:'<img src="${urlInput}" _djrealurl="${urlInput}" alt="${textInput}" />',tag:"img",_getCurrentValues:function(e){var t,i;return e&&e.tagName.toLowerCase()===this.tag?(t=e.getAttribute("_djrealurl")||e.getAttribute("src"),i=e.getAttribute("alt"),this.editor.selection.selectElement(e,!0)):i=this.editor.selection.getSelectedText(),{urlInput:t||"",textInput:i||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments),this.editor.onLoadDeferred.then(n.hitch(this,function(){this.own(r(this.editor.editNode,"mousedown",n.hitch(this,"_selectTag")))}))},_selectTag:function(e){if(e&&e.target){var t=e.target,i=t.tagName?t.tagName.toLowerCase():"";i===this.tag&&this.editor.selection.selectElement(t)}},_checkValues:function(e){return e&&e.urlInput&&(e.urlInput=e.urlInput.replace(/"/g,"&quot;")),e&&e.textInput&&(e.textInput=e.textInput.replace(/"/g,"&quot;")),e},_onDblClick:function(e){if(e&&e.target){var t=e.target,o=t.tagName?t.tagName.toLowerCase():"";if(o===this.tag&&i.get(t,"src")){var n=this.editor;this.editor.selection.selectElement(t),n.onDisplayChanged(),n._updateTimer&&(n._updateTimer.remove(),delete n._updateTimer),n.onNormalizedDisplayChanged();var r=this.button;setTimeout(function(){r.set("disabled",!1),r.loadAndOpenDropDown().then(function(){r.dropDown.focus&&r.dropDown.focus()})},10)}}}});return l.registry.createLink=function(){return new u({command:"createLink"})},l.registry.insertImage=function(){return new f({command:"insertImage"})},u.ImgLinkDialog=f,u}),define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p){return t("dijit._MenuBase",[c,p,f,u],{selected:null,_setSelectedAttr:function(e){this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){n.toggle(this.domNode,"dijitMenuActive",e),n.toggle(this.domNode,"dijitMenuPassive",!e),this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:1/0,autoFocus:!1,childSelector:function(e){var t=h.byNode(e);return e.parentNode==this.containerNode&&t&&t.focus},postCreate:function(){var e=this,t="string"==typeof this.childSelector?this.childSelector:r.hitch(this,"childSelector");this.own(a(this.containerNode,a.selector(t,s.enter),function(){e.onItemHover(h.byNode(this))}),a(this.containerNode,a.selector(t,s.leave),function(){e.onItemUnhover(h.byNode(this))}),a(this.containerNode,a.selector(t,l),function(t){e.onItemClick(h.byNode(this),t),t.stopPropagation()}),a(this.containerNode,a.selector(t,"focusin"),function(){e._onItemFocus(h.byNode(this))})),this.inherited(arguments)},onKeyboardSearch:function(e,t,i,o){this.inherited(arguments),e&&(-1==o||e.popup&&1==o)&&this.onItemClick(e,t)},_keyboardSearchCompare:function(e,t){return e.shortcutKey?t==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else{var t=this._getTopMenu();t&&t._isMenuBar&&t.focusNext()}},_onPopupHover:function(){this.set("selected",this.currentPopupItem),this._stopPendingCloseTimer()},onItemHover:function(e){this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(e)},this.popupDelay))):this.passivePopupDelay<1/0&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"})},this.passivePopupDelay)),this._hoveredChild=e,e._set("hovering",!0)},_onChildDeselect:function(e){this._stopPopupTimer(),this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null,this.currentPopupItem=null,e._closePopup()},this.popupDelay))},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null),this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null),e._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,t){if(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.focusChild(e),e.disabled)return!1;if(e.popup){this.set("selected",e),this.set("activated",!0);var i=/^key/.test(t._origType||t.type)||0==t.clientX&&0==t.clientY;this._openItemPopup(e,i)}else this.onExecute(),e._onClick?e._onClick(t):e.onClick(t)},_openItemPopup:function(e,t){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup()),this._stopPopupTimer();var i=e.popup;i.parentMenu=this,this.own(this._mouseoverHandle=a.once(i.domNode,"mouseover",r.hitch(this,"_onPopupHover")));var o=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){t&&o.focusChild(e),o._cleanUp()},onExecute:r.hitch(this,"_cleanUp",!0),onClose:function(){o._mouseoverHandle&&(o._mouseoverHandle.remove(),delete o._mouseoverHandle)}},t),this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0,this.set("activated",!0)},onClose:function(){this.set("activated",!1),this.set("selected",null),this.isShowingNow=!1,this.parentMenu=null},_closeChild:function(){this._stopPopupTimer(),this.currentPopupItem&&(this.focused&&(o.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(e){this._hoveredChild&&this._hoveredChild!=e&&this.onItemUnhover(this._hoveredChild),this.set("selected",e)},_onBlur:function(){this._cleanUp(!0),this.inherited(arguments)},_cleanUp:function(e){this._closeChild(),void 0===this.isShowingNow&&this.set("activated",!1),e&&this.set("selected",null)}})}),define("dijit/DropDownMenu",["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(e,t,i,o){return e("dijit.DropDownMenu",o,{templateString:i,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(e){this._moveToPopup(e),e.stopPropagation(),e.preventDefault()},_onLeftArrow:function(e){this.parentMenu?this.parentMenu._isMenuBar?this.parentMenu.focusPrev():this.onCancel(!1):(e.stopPropagation(),e.preventDefault())}})}),define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){return h("dijit-legacy-requires")&&m(0,function(){e(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])}),i("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):t.forEach(this.targetNodeIds,this.bindDomNode,this),this.inherited(arguments)},_iframeContentWindow:function(e){return u.get(this._iframeContentDocument(e))||this._iframeContentDocument(e).__parent__||e.name&&document.frames[e.name]||null},_iframeContentDocument:function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.name&&document.frames[e.name]&&document.frames[e.name].document||null},bindDomNode:function(e){var t;if("iframe"==(e=o.byId(e,this.ownerDocument)).tagName.toLowerCase()){var i=e,r=this._iframeContentWindow(i);t=c.body(r.document)}else t=e==c.body(this.ownerDocument)?this.ownerDocument.documentElement:e;var s={node:e,iframe:i};n.set(e,"_dijitMenu"+this.id,this._bindings.push(s));var h=d.hitch(this,function(e){var t=this.selector,o=t?function(e){return l.selector(t,e)}:function(e){return e},n=this;return[l(e,o(this.leftClickToOpen?"click":"contextmenu"),function(e){e.stopPropagation(),e.preventDefault(),(new Date).getTime()<this._lastKeyDown+500||n._scheduleOpen(this,i,{x:e.pageX,y:e.pageY},e.target)}),l(e,o("keydown"),function(e){(93==e.keyCode||e.shiftKey&&e.keyCode==a.F10||this.leftClickToOpen&&e.keyCode==a.SPACE)&&(e.stopPropagation(),e.preventDefault(),n._scheduleOpen(this,i,null,e.target),this._lastKeyDown=(new Date).getTime())})]});s.connects=t?h(t):[],i&&(s.onloadHandler=d.hitch(this,function(){var e=this._iframeContentWindow(i),t=c.body(e.document);s.connects=h(t)}),i.addEventListener?i.addEventListener("load",s.onloadHandler,!1):i.attachEvent("onload",s.onloadHandler))},unBindDomNode:function(e){var t;try{t=o.byId(e,this.ownerDocument)}catch(e){return}var i="_dijitMenu"+this.id;if(t&&n.has(t,i)){for(var r,s=n.get(t,i)-1,a=this._bindings[s];r=a.connects.pop();)r.remove();var d=a.iframe;d&&(d.removeEventListener?d.removeEventListener("load",a.onloadHandler,!1):d.detachEvent("onload",a.onloadHandler)),n.remove(t,i),delete this._bindings[s]}},_scheduleOpen:function(e,t,i,o){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer,this._openMyself({target:o,delegatedTarget:e,iframe:t,coords:i})},1))},_openMyself:function(e){var t=e.target,i=e.iframe,n=e.coords,a=!n;if(this.currentTarget=e.delegatedTarget,n){if(i){var d=r.position(i,!0),l=this._iframeContentWindow(i),c=r.docScroll(l.document),u=s.getComputedStyle(i),p=s.toPixelValue,m=(h("ie")&&h("quirks")?0:p(i,u.paddingLeft))+(h("ie")&&h("quirks")?p(i,u.borderLeftWidth):0),g=(h("ie")&&h("quirks")?0:p(i,u.paddingTop))+(h("ie")&&h("quirks")?p(i,u.borderTopWidth):0);n.x+=d.x+m-c.x,n.y+=d.y+g-c.y}}else(n=r.position(t,!0)).x+=10,n.y+=10;var _=this,v=this._focusManager.get("prevNode"),b=this._focusManager.get("curNode"),y=!b||o.isDescendant(b,this.domNode)?v:b;function C(){_.refocus&&y&&y.focus(),f.close(_)}f.open({popup:this,x:n.x,y:n.y,onExecute:C,onCancel:C,orient:this.isLeftToRight()?"L":"R"}),this.focus(),a||this.defer(function(){this._cleanUp(!0)}),this._onBlur=function(){this.inherited("_onBlur",arguments),f.close(this)}},destroy:function(){t.forEach(this._bindings,function(e){e&&this.unBindDomNode(e.node)},this),this.inherited(arguments)}})}),define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=e("dijit.MenuItem"+(r("dojo-bidi")?"_NoBidi":""),[a,d,l,h],{templateString:c,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(e){this._set("label",e);var t,i="",o=e.search(/{\S}/);if(o>=0){i=e.charAt(o+1);var n=e.substr(0,o),r=e.substr(o+3);t=n+i+r,e=n+'<span class="dijitMenuItemShortcutKey">'+i+"</span>"+r}else t=e;this.domNode.setAttribute("aria-label",t+" "+this.accelKey),this.containerNode.innerHTML=e,this._set("shortcutKey",i)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(e){!e||"label"in this.params||this._set("label",e.innerHTML)},buildRendering:function(){this.inherited(arguments);var e=this.id+"_text";i.set(this.containerNode,"id",e),this.accelKeyNode&&i.set(this.accelKeyNode,"id",this.id+"_accel"),t.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==r("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(e){}},_setSelected:function(e){o.toggle(this.domNode,"dijitMenuItemSelected",e)},setLabel:function(e){n.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),this.set("label",e)},setDisabled:function(e){n.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0"),this.set("disabled",e)},_setDisabledAttr:function(e){this.focusNode.setAttribute("aria-disabled",e?"true":"false"),this._set("disabled",e)},_setAccelKeyAttr:function(e){this.accelKeyNode&&(this.accelKeyNode.style.display=e?"":"none",this.accelKeyNode.innerHTML=e,i.set(this.containerNode,"colSpan",e?"1":"2")),this._set("accelKey",e)}});return r("dojo-bidi")&&(u=e("dijit.MenuItem",u,{_setLabelAttr:function(e){this.inherited(arguments),"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}})),u}),define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(e,t,i,o,n,r,s){return e("dijit.PopupMenuItem",s,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var e=o("*",this.srcNodeRef);this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},_openPopup:function(e,t){var o=this.popup;n.open(i.delegate(e,{popup:this.popup,around:this.domNode})),t&&o.focus&&o.focus()},_closePopup:function(){n.close(this.popup),this.popup.parentMenu=null},startup:function(){if(!this._started){if(this.inherited(arguments),!this.popup){var e=o("[widgetId]",this.dropDownContainer)[0];this.popup=r.byNode(e)}this.ownerDocumentBody.appendChild(this.popup.domNode),this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id),this.popup.startup(),this.popup.domNode.style.display="none",this.arrowWrapper&&t.set(this.arrowWrapper,"visibility",""),this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(e){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(e),delete this.popup),this.inherited(arguments)}})}),define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(e,t,i,o){return e("dijit.CheckedMenuItem",i,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:o,checked:!1,_setCheckedAttr:function(e){this.domNode.setAttribute("aria-checked",e?"true":"false"),this._set("checked",e)},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){},_onClick:function(e){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked)),this.onClick(e)}})}),define("dijit/MenuBar",["dojo/_base/declare","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(e,t,i,o){return e("dijit.MenuBar",i,{templateString:o,baseClass:"dijitMenuBar",popupDelay:0,_isMenuBar:!0,_orient:["below"],_moveToPopup:function(e){this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled&&this.onItemClick(this.focusedChild,e)},focusChild:function(e){this.inherited(arguments),this.activated&&e.popup&&!e.disabled&&this._openItemPopup(e,!0)},_onChildDeselect:function(e){this.currentPopupItem==e&&(this.currentPopupItem=null,e._closePopup()),this.inherited(arguments)},_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()},_onDownArrow:function(e){this._moveToPopup(e)},_onUpArrow:function(){},onItemClick:function(e,i){!e.popup||!e.popup.isShowingNow||/^key/.test(i.type)&&i.keyCode===t.DOWN_ARROW?this.inherited(arguments):(e.focusNode.focus(),this._cleanUp(!0))}})}),define("dijit/MenuBarItem",["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(e,t,i){var o=e("dijit._MenuBarItemMixin",null,{templateString:i,_setIconClassAttr:null}),n=e("dijit.MenuBarItem",[t,o],{});return n._MenuBarItemMixin=o,n}),define("dijit/PopupMenuBarItem",["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(e,t,i){var o=i._MenuBarItemMixin;return e("dijit.PopupMenuBarItem",[t,o],{})}),define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(e,t,i,o,n,r){return e("dijit.MenuSeparator",[i,o,n],{templateString:r,buildRendering:function(){this.inherited(arguments),t.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})}),define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(e,t,i,o,n){var r={};if(e.setObject("dojo.number",r),r.format=function(i,o){o=e.mixin({},o||{});var n=t.normalizeLocale(o.locale),s=t.getLocalization("dojo.cldr","number",n);o.customs=s;var a=o.pattern||s[(o.type||"decimal")+"Format"];return isNaN(i)||Math.abs(i)==1/0?null:r._applyPattern(i,a,o)},r._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/,r._applyPattern=function(e,t,i){var o=(i=i||{}).customs.group,n=i.customs.decimal,s=t.split(";"),a=s[0];if(-1!=(t=s[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!=t.indexOf(""))e*=1e3;else if(-1!=t.indexOf(""))o=i.customs.currencyGroup||o,n=i.customs.currencyDecimal||n,t=t.replace(/\u00a4{1,3}/,function(e){var t=["symbol","currency","displayName"][e.length-1];return i[t]||i.currency||""});else if(-1!=t.indexOf("E"))throw new Error("exponential notation not supported");var d=r._numberPatternRE,l=a.match(d);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return!1===i.fractional&&(i.places=0),t.replace(d,r._formatAbsolute(e,l[0],{decimal:n,group:o,places:i.places,round:i.round}))},r.round=function(e,t,i){var o=10/(i||10);return(o*+e).toFixed(t)/o},0==.9.toFixed()){var s=r.round;r.round=function(e,t,i){var o=Math.pow(10,-t||0),n=Math.abs(e);return!e||n>=o?o=0:((n/=o)<.5||n>=.95)&&(o=0),s(e,t,i)+(e>0?o:-o)}}return r._formatAbsolute=function(e,t,i){!0===(i=i||{}).places&&(i.places=0),i.places===1/0&&(i.places=6);var n=t.split("."),s="string"==typeof i.places&&i.places.indexOf(","),a=i.places;s?a=i.places.substring(s+1):a>=0||(a=(n[1]||[]).length),i.round<0||(e=r.round(e,a,i.round));var d=String(Math.abs(e)).split("."),l=d[1]||"";if(n[1]||i.places){s&&(i.places=i.places.substring(0,s));var h=void 0!==i.places?i.places:n[1]&&n[1].lastIndexOf("0")+1;h>l.length&&(d[1]=o.pad(l,h,"0",!0)),a<l.length&&(d[1]=l.substr(0,a))}else d[1]&&d.pop();var c=n[0].replace(",","");-1!=(h=c.indexOf("0"))&&((h=c.length-h)>d[0].length&&(d[0]=o.pad(d[0],h)),-1==c.indexOf("#")&&(d[0]=d[0].substr(d[0].length-h)));var u,f,p=n[0].lastIndexOf(",");if(-1!=p){u=n[0].length-p-1;var m=n[0].substr(0,p);-1!=(p=m.lastIndexOf(","))&&(f=m.length-p-1)}for(var g=[],_=d[0];_;){var v=_.length-u;g.push(v>0?_.substr(v):_),_=v>0?_.slice(0,v):"",f&&(u=f,delete f)}return d[0]=g.reverse().join(i.group||","),d.join(i.decimal||".")},r.regexp=function(e){return r._parseInfo(e).regexp},r._parseInfo=function(e){e=e||{};var i=t.normalizeLocale(e.locale),o=t.getLocalization("dojo.cldr","number",i),s=e.pattern||o[(e.type||"decimal")+"Format"],a=o.group,d=o.decimal,l=1;if(-1!=s.indexOf("%"))l/=100;else if(-1!=s.indexOf(""))l/=1e3;else{var h=-1!=s.indexOf("");h&&(a=o.currencyGroup||a,d=o.currencyDecimal||d)}var c=s.split(";");1==c.length&&c.push("-"+c[0]);var u=n.buildGroupRE(c,function(t){return(t="(?:"+n.escapeString(t,".")+")").replace(r._numberPatternRE,function(t){var i={signed:!1,separator:e.strict?a:[a,""],fractional:e.fractional,decimal:d,exponent:!1},o=t.split("."),n=e.places;1==o.length&&1!=l&&(o[1]="###"),1==o.length||0===n?i.fractional=!1:(void 0===n&&(n=e.pattern?o[1].lastIndexOf("0")+1:1/0),n&&void 0==e.fractional&&(i.fractional=!0),!e.places&&n<o[1].length&&(n+=","+o[1].length),i.places=n);var s=o[0].split(",");return s.length>1&&(i.groupSize=s.pop().length,s.length>1&&(i.groupSize2=s.pop().length)),"("+r._realNumberRegexp(i)+")"})},!0);return h&&(u=u.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(t,i,o,r){var s=["symbol","currency","displayName"][o.length-1],a=n.escapeString(e[s]||e.currency||"");return i=i?"[\\s\\xa0]":"",r=r?"[\\s\\xa0]":"",e.strict?i+a+r:(i&&(i+="*"),r&&(r+="*"),"(?:"+i+a+r+")?")})),{regexp:u.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:a,decimal:d,factor:l}},r.parse=function(e,t){var i=r._parseInfo(t),o=new RegExp("^"+i.regexp+"$").exec(e);if(!o)return NaN;var n=o[1];if(!o[1]){if(!o[2])return NaN;n=o[2],i.factor*=-1}return(n=n.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."))*i.factor},r._realNumberRegexp=function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(e.places)||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=r._integerRegexp(e),i=n.buildGroupRE(e.fractional,function(t){var i="";return t&&0!==e.places&&(i="\\"+e.decimal,e.places==1/0?i="(?:"+i+"\\d+)?":i+="\\d{"+e.places+"}"),i},!0),o=n.buildGroupRE(e.exponent,function(t){return t?"([eE]"+r._integerRegexp({signed:e.eSigned})+")":""}),s=t+i;return i&&(s="(?:(?:"+s+")|(?:"+i+"))"),s+o},r._integerRegexp=function(e){"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="";var t=n.buildGroupRE(e.signed,function(e){return e?"[-+]":""},!0),i=n.buildGroupRE(e.separator,function(t){if(!t)return"(?:\\d+)";" "==(t=n.escapeString(t))?t="\\s":""==t&&(t="\\s\\xa0");var i=e.groupSize,o=e.groupSize2;if(o){var r="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+t+"]\\d{"+o+"})*["+t+"]\\d{"+i+"})";return i-o>0?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":r}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0);return t+i},r}),define("dijit/ProgressBar",["require","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/number","./_Widget","./_TemplatedMixin","dojo/text!./templates/ProgressBar.html"],function(e,t,i,o,n,r,s,a){return t("dijit.ProgressBar",[r,s],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:a,_indeterminateHighContrastImagePath:e.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments),this.params&&"value"in this.params||(this.value=this.indeterminate?1/0:this.progress)},buildRendering:function(){this.inherited(arguments),this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString()),this.update()},_setDirAttr:function(e){var t="rtl"==e.toLowerCase();i.toggle(this.domNode,"dijitProgressBarRtl",t),i.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&t),this.inherited(arguments)},update:function(e){o.mixin(this,e||{});var t=this.internalProgress,n=this.domNode,r=1;this.indeterminate?n.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(r=Math.min(parseFloat(this.progress)/100,1),this.progress=r*this.maximum):(this.progress=Math.min(this.progress,this.maximum),r=this.maximum?this.progress/this.maximum:0),n.setAttribute("aria-valuenow",this.progress)),n.setAttribute("aria-labelledby",this.labelNode.id),n.setAttribute("aria-valuemin",0),n.setAttribute("aria-valuemax",this.maximum),this.labelNode.innerHTML=this.report(r),i.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate),i.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight()),t.style.width=100*r+"%",this.onChange()},_setValueAttr:function(e){this._set("value",e),e==1/0?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:e})},_setLabelAttr:function(e){this._set("label",e),this.update()},_setIndeterminateAttr:function(e){this._set("indeterminate",e),this.update()},report:function(e){return this.label?this.label:this.indeterminate?"&#160;":n.format(e,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})}),define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(e,t,i,o,n,r,s,a,d,l,h){i.isAsync||l(0,function(){h(["./fx/Toggler"])});var c=i.fx={},u={_fire:function(e,t){return this[e]&&this[e].apply(this,t||[]),this}},f=function(e){this._index=-1,this._animations=e||[],this._current=this._onAnimateCtx=this._onEndCtx=null,this.duration=0,o.forEach(this._animations,function(e){this.duration+=e.duration,e.delay&&(this.duration+=e.delay)},this)};f.prototype=new t,e.extend(f,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove(),this._onEndCtx.remove(),this._onAnimateCtx=this._onEndCtx=null,this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=n.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),this._onEndCtx=n.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(t,i){if(this._current||(this._current=this._animations[this._index=0]),!i&&"playing"==this._current.status())return this;var o=n.after(this._current,"beforeBegin",e.hitch(this,function(){this._fire("beforeBegin")}),!0),r=n.after(this._current,"onBegin",e.hitch(this,function(e){this._fire("onBegin",arguments)}),!0),s=n.after(this._current,"onPlay",e.hitch(this,function(e){this._fire("onPlay",arguments),o.remove(),r.remove(),s.remove()}));return this._onAnimateCtx&&this._onAnimateCtx.remove(),this._onAnimateCtx=n.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),this._onEndCtx&&this._onEndCtx.remove(),this._onEndCtx=n.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),this._current.play.apply(this._current,arguments),this},pause:function(){if(this._current){var t=n.after(this._current,"onPause",e.hitch(this,function(e){this._fire("onPause",arguments),t.remove()}),!0);this._current.pause()}return this},gotoPercent:function(e,t){this.pause();var i=this.duration*e;return this._current=null,o.some(this._animations,function(e,t){return i<=e.duration?(this._current=e,this._index=t,!0):(i-=e.duration,!1)},this),this._current&&this._current.gotoPercent(i/this._current.duration),t&&this.play(),this},stop:function(t){if(this._current){if(t){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var i=n.after(this._current,"onStop",e.hitch(this,function(e){this._fire("onStop",arguments),i.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop(),this._onAnimateCtx&&this._onAnimateCtx.remove(),this._onEndCtx&&this._onEndCtx.remove()}}),e.extend(f,u),c.chain=function(e){return new f(e)};var p=function(t){this._animations=t||[],this._connects=[],this._finished=0,this.duration=0,o.forEach(t,function(t){var i=t.duration;t.delay&&(i+=t.delay),this.duration<i&&(this.duration=i),this._connects.push(n.after(t,"onEnd",e.hitch(this,"_onEnd"),!0))},this),this._pseudoAnimation=new r.Animation({curve:[0,1],duration:this.duration});var i=this;o.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(e){i._connects.push(n.after(i._pseudoAnimation,e,function(){i._fire(e,arguments)},!0))})};return e.extend(p,{_doAction:function(e,t){return o.forEach(this._animations,function(i){i[e].apply(i,t)}),this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(e,t){var i=this._pseudoAnimation;i[e].apply(i,t)},play:function(e,t){return this._finished=0,this._doAction("play",arguments),this._call("play",arguments),this},pause:function(){return this._doAction("pause",arguments),this._call("pause",arguments),this},gotoPercent:function(e,t){var i=this.duration*e;return o.forEach(this._animations,function(e){e.gotoPercent(e.duration<i?1:i/e.duration,t)}),this._call("gotoPercent",arguments),this},stop:function(e){return this._doAction("stop",arguments),this._call("stop",arguments),this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop(),o.forEach(this._connects,function(e){e.remove()})}}),e.extend(p,u),c.combine=function(e){return new p(e)},c.wipeIn=function(t){var i,o=t.node=s.byId(t.node),d=o.style,l=r.animateProperty(e.mixin({properties:{height:{start:function(){if(i=d.overflow,d.overflow="hidden","hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var e=a.get(o,"height");return Math.max(e,1)},end:function(){return o.scrollHeight}}}},t)),h=function(){d.height="auto",d.overflow=i};return n.after(l,"onStop",h,!0),n.after(l,"onEnd",h,!0),l},c.wipeOut=function(t){var i,o=t.node=s.byId(t.node),a=o.style,d=r.animateProperty(e.mixin({properties:{height:{end:1}}},t));n.after(d,"beforeBegin",function(){i=a.overflow,a.overflow="hidden",a.display=""},!0);var l=function(){a.overflow=i,a.height="auto",a.display="none"};return n.after(d,"onStop",l,!0),n.after(d,"onEnd",l,!0),d},c.slideTo=function(t){var i,o=t.node=s.byId(t.node),l=null,h=null,c=(i=o,function(){var e=a.getComputedStyle(i),t=e.position;if(l="absolute"==t?i.offsetTop:parseInt(e.top)||0,h="absolute"==t?i.offsetLeft:parseInt(e.left)||0,"absolute"!=t&&"relative"!=t){var o=d.position(i,!0);l=o.y,h=o.x,i.style.position="absolute",i.style.top=l+"px",i.style.left=h+"px"}});c();var u=r.animateProperty(e.mixin({properties:{top:t.top||0,left:t.left||0}},t));return n.after(u,"beforeBegin",c,!0),u},c}),define("dijit/TitlePane",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager","./a11yclick"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p){var m=t("dijit.TitlePane",[u,c,h],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:p.defaultDuration,baseClass:"dijitTitlePane",templateString:f,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments),i.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments),this.toggleable&&this._trackMouseState(this.titleBarNode,this.baseClass+"Title");var e=this.hideNode,t=this.wipeNode;this._wipeIn=s.wipeIn({node:t,duration:this.duration,beforeBegin:function(){e.style.display=""}}),this._wipeOut=s.wipeOut({node:t,duration:this.duration,onEnd:function(){e.style.display="none"}})},_setOpenAttr:function(t,i){if(e.forEach([this._wipeIn,this._wipeOut],function(e){e&&"playing"==e.status()&&e.stop()}),i){var o=this[t?"_wipeIn":"_wipeOut"];o.play()}else this.hideNode.style.display=this.wipeNode.style.display=t?"":"none";this._started&&(t?this._onShow():this.onHide()),this.containerNode.setAttribute("aria-hidden",t?"false":"true"),this.focusNode.setAttribute("aria-pressed",t?"true":"false"),this._set("open",t),this._setCss()},_setToggleableAttr:function(e){this.focusNode.setAttribute("role",e?"button":"heading"),e?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(o.remove(this.focusNode,"aria-controls"),o.remove(this.focusNode,"tabIndex"),o.remove(this.focusNode,"aria-pressed")),this._set("toggleable",e),this._setCss()},_setContentAttr:function(e){this.open&&this._wipeOut&&"playing"!=this._wipeOut.status()?(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),r.setMarginBox(this.wipeNode,{h:r.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display=""):this.inherited(arguments)},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var e=this.titleBarNode||this.focusNode,t=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed"),n.replace(e,this._titleBarClass,t||""),n.replace(e,this._titleBarClass.replace("TitlePaneTitle",""),(t||"").replace("TitlePaneTitle","")),this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(e){e.keyCode==l.DOWN_ARROW&&this.open&&(this.containerNode.focus(),e.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(e){d.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0"),this.set("title",e)}});return a("dojo-bidi")&&m.extend({_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTooltipAttr:function(e){this._set("tooltip",e),this.textDir&&(e=this.enforceTextDirWithUcc(null,e)),o.set(this.focusNode,"title",e)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title),this.set("tooltip",this.tooltip))}}),m}),define("dojo/cookie",["./_base/kernel","./regexp"],function(e,t){return e.cookie=function(e,i,o){var n,r=document.cookie;if(1==arguments.length){var s=r.match(new RegExp("(?:^|; )"+t.escapeString(e)+"=([^;]*)"));n=s?decodeURIComponent(s[1]):void 0}else{var a=(o=o||{}).expires;if("number"==typeof a){var d=new Date;d.setTime(d.getTime()+24*a*60*60*1e3),a=o.expires=d}a&&a.toUTCString&&(o.expires=a.toUTCString()),i=encodeURIComponent(i);var l,h=e+"="+i;for(l in o){h+="; "+l;var c=o[l];!0!==c&&(h+="="+c)}document.cookie=h}return n},e.cookie.isSupported=function(){return"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1})),navigator.cookieEnabled},e.cookie}),define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(e,t,i,o){return i("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(e){o.mixin(this,e),this.connects=[];var i=this.store;if(!i.getFeatures()["dojo.data.api.Identity"])throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");i.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([t.after(i,"onNew",o.hitch(this,"onNewItem"),!0),t.after(i,"onDelete",o.hitch(this,"onDeleteItem"),!0),t.after(i,"onSet",o.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var e;e=this.connects.pop();)e.remove()},getRoot:function(e,t){this.root?e(this.root):this.store.fetch({query:this.query,onComplete:o.hitch(this,function(t){if(1!=t.length)throw new Error("dijit.tree.TreeStoreModel: root query returned "+t.length+" items, but must return exactly one");this.root=t[0],e(this.root)}),onError:t})},mayHaveChildren:function(t){return e.some(this.childrenAttrs,function(e){return this.store.hasAttribute(t,e)},this)},getChildren:function(t,i,n){var r=this.store;if(r.isItemLoaded(t)){for(var s=[],a=0;a<this.childrenAttrs.length;a++){var d=r.getValues(t,this.childrenAttrs[a]);s=s.concat(d)}var l=0;this.deferItemLoadingUntilExpand||e.forEach(s,function(e){r.isItemLoaded(e)||l++}),0==l?i(s):e.forEach(s,function(e,t){r.isItemLoaded(e)||r.loadItem({item:e,onItem:function(e){s[t]=e,0==--l&&i(s)},onError:n})})}else{var h=o.hitch(this,arguments.callee);r.loadItem({item:t,onItem:function(e){h(e,i,n)},onError:n})}},isItem:function(e){return this.store.isItem(e)},fetchItemByIdentity:function(e){this.store.fetchItemByIdentity(e)},getIdentity:function(e){return this.store.getIdentity(e)},getLabel:function(e){return this.labelAttr?this.store.getValue(e,this.labelAttr):this.store.getLabel(e)},newItem:function(e,t,i){var o,n={parent:t,attribute:this.childrenAttrs[0]};this.newItemIdAttr&&e[this.newItemIdAttr]?this.fetchItemByIdentity({identity:e[this.newItemIdAttr],scope:this,onItem:function(r){r?this.pasteItem(r,null,t,!0,i):(o=this.store.newItem(e,n))&&void 0!=i&&this.pasteItem(o,t,t,!1,i)}}):(o=this.store.newItem(e,n))&&void 0!=i&&this.pasteItem(o,t,t,!1,i)},pasteItem:function(t,i,o,n,r){var s=this.store,a=this.childrenAttrs[0];if(i&&e.forEach(this.childrenAttrs,function(o){if(s.containsValue(i,o,t)){if(!n){var r=e.filter(s.getValues(i,o),function(e){return e!=t});s.setValues(i,o,r)}a=o}}),o)if("number"==typeof r){var d=s.getValues(o,a).slice();d.splice(r,0,t),s.setValues(o,a,d)}else s.setValues(o,a,s.getValues(o,a).concat(t))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(e,t){t&&this.getChildren(t.item,o.hitch(this,function(e){this.onChildrenChange(t.item,e)}))},onDeleteItem:function(e){this.onDelete(e)},onSetItem:function(t,i){-1!=e.indexOf(this.childrenAttrs,i)?this.getChildren(t,o.hitch(this,function(e){this.onChildrenChange(t,e)})):this.onChange(t)}})}),define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(e,t,i,o,n){return t("dijit.tree.ForestStoreModel",n,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(e){this.root={store:this,root:!0,id:e.rootId,label:e.rootLabel,children:e.rootChildren}},mayHaveChildren:function(e){return e===this.root||this.inherited(arguments)},getChildren:function(e,t,i){e===this.root?this.root.children?t(this.root.children):this.store.fetch({query:this.query,onComplete:o.hitch(this,function(e){this.root.children=e,t(e)}),onError:i}):this.inherited(arguments)},isItem:function(e){return e===this.root||this.inherited(arguments)},fetchItemByIdentity:function(e){if(e.identity==this.root.id){var t=e.scope||i.global;e.onItem&&e.onItem.call(t,this.root)}else this.inherited(arguments)},getIdentity:function(e){return e===this.root?this.root.id:this.inherited(arguments)},getLabel:function(e){return e===this.root?this.root.label:this.inherited(arguments)},newItem:function(e,t,i){return t===this.root?(this.onNewRootItem(e),this.store.newItem(e)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(e,t,i,o,n){t===this.root&&(o||this.onLeaveRoot(e)),this.inherited(arguments,[e,t===this.root?null:t,i===this.root?null:i,o,n]),i===this.root&&this.onAddToRoot(e)},onAddToRoot:function(e){console.log(this,": item ",e," added to root")},onLeaveRoot:function(e){console.log(this,": item ",e," removed from root")},_requeryTop:function(){var t=this.root.children||[];this.store.fetch({query:this.query,onComplete:o.hitch(this,function(i){this.root.children=i,(t.length!=i.length||e.some(t,function(e,t){return i[t]!=e}))&&this.onChildrenChange(this.root,i)})})},onNewItem:function(e,t){this._requeryTop(),this.inherited(arguments)},onDeleteItem:function(t){-1!=e.indexOf(this.root.children,t)&&this._requeryTop(),this.inherited(arguments)},onSetItem:function(e,t,i,o){this._requeryTop(),this.inherited(arguments)}})}),define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(e,t,i,o,n,r){return t("dijit.tree._dndContainer",null,{constructor:function(t,s){this.tree=t,this.node=t.domNode,o.mixin(this,s),this.containerState="",i.add(this.node,"dojoDndContainer"),this.events=[n(this.node,r.enter,o.hitch(this,"onOverEvent")),n(this.node,r.leave,o.hitch(this,"onOutEvent")),e.after(this.tree,"_onNodeMouseEnter",o.hitch(this,"onMouseOver"),!0),e.after(this.tree,"_onNodeMouseLeave",o.hitch(this,"onMouseOut"),!0),n(this.node,"dragstart, selectstart",function(e){e.preventDefault()})]},destroy:function(){for(var e;e=this.events.pop();)e.remove();this.node=this.parent=null},onMouseOver:function(e){this.current=e},onMouseOut:function(){this.current=null},_changeState:function(e,t){var o="dojoDnd"+e,n=e.toLowerCase()+"State";i.replace(this.node,o+t,o+this[n]),this[n]=t},_addItemClass:function(e,t){i.add(e,"dojoDndItem"+t)},_removeItemClass:function(e,t){i.remove(e,"dojoDndItem"+t)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})}),define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dnd/common","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(e,t,i,o,n,r,s,a,d,l,h){return t("dijit.tree._dndSelector",h,{constructor:function(){this.selection={},this.anchor=null,this.events.push(a(this.tree.domNode,d.press,o.hitch(this,"onMouseDown")),a(this.tree.domNode,d.release,o.hitch(this,"onMouseUp")),a(this.tree.domNode,d.move,o.hitch(this,"onMouseMove")),a(this.tree.domNode,l.press,o.hitch(this,"onClickPress")),a(this.tree.domNode,l.release,o.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var e=[],t=this.selection;for(var i in t)e.push(t[i]);return e},selectNone:function(){return this.setSelection([]),this},destroy:function(){this.inherited(arguments),this.selection=this.anchor=null},addTreeNode:function(e,t){return this.setSelection(this.getSelectedTreeNodes().concat([e])),t&&(this.anchor=e),e},removeTreeNode:function(t){var i=e.filter(this.getSelectedTreeNodes(),function(e){return!r.isDescendant(e.domNode,t.domNode)});return this.setSelection(i),t},isTreeNodeSelected:function(e){return e.id&&!!this.selection[e.id]},setSelection:function(t){var i=this.getSelectedTreeNodes();e.forEach(this._setDifference(i,t),o.hitch(this,function(e){e.setSelected(!1),this.anchor==e&&delete this.anchor,delete this.selection[e.id]})),e.forEach(this._setDifference(t,i),o.hitch(this,function(e){e.setSelected(!0),this.selection[e.id]=e})),this._updateSelectionProperties()},_setDifference:function(t,i){e.forEach(i,function(e){e.__exclude__=!0});var o=e.filter(t,function(e){return!e.__exclude__});return e.forEach(i,function(e){delete e.__exclude__}),o},_updateSelectionProperties:function(){var t=this.getSelectedTreeNodes(),i=[],o=[];e.forEach(t,function(e){var t=e.getTreePath();o.push(e),i.push(t)},this);var n=e.map(o,function(e){return e.item});this.tree._set("paths",i),this.tree._set("path",i[0]||[]),this.tree._set("selectedNodes",o),this.tree._set("selectedNode",o[0]||null),this.tree._set("selectedItems",n),this.tree._set("selectedItem",n[0]||null)},onClickPress:function(e){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current))){"mousedown"==e.type&&s.isLeft(e)&&e.preventDefault();var t="keydown"==e.type?this.tree.focusedChild:this.current;if(t){var i=n.getCopyKeyState(e),o=t.id;this.singular||e.shiftKey||!this.selection[o]?(this._doDeselect=!1,this.userSelect(t,i,e.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(e){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==e.type?this.tree.focusedChild:this.current,n.getCopyKeyState(e),e.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(e,t){if(e===t)return 0;if("sourceIndex"in document.documentElement)return e.sourceIndex-t.sourceIndex;if("compareDocumentPosition"in document.documentElement)return 2&e.compareDocumentPosition(t)?1:-1;if(document.createRange){var i=doc.createRange();i.setStartBefore(e);var o=doc.createRange();return o.setStartBefore(t),i.compareBoundaryPoints(i.END_TO_END,o)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser")},userSelect:function(e,t,i){if(this.singular)this.anchor==e&&t?this.selectNone():(this.setSelection([e]),this.anchor=e);else if(i&&this.anchor){var o,n,r=this._compareNodes(this.anchor.rowNode,e.rowNode),s=this.anchor;r<0?(o=s,n=e):(o=e,n=s);for(var a=[];o!=n;)a.push(o),o=this.tree._getNext(o);a.push(n),this.setSelection(a)}else this.selection[e.id]&&t?this.removeTreeNode(e):t?this.addTreeNode(e,!0):(this.setSelection([e]),this.anchor=e)},getItem:function(e){var t=this.selection[e];return{data:t,type:["treeNode"]}},forInSelectedItems:function(e,t){for(var o in t=t||i.global,this.selection)e.call(t,this.getItem(o),o,this)}})}),define("dijit/Tree",["dojo/_base/array","dojo/aspect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x,w,j,N,S,D,T,k,A,E,M,I,L){function R(e){return m.delegate(e.promise||e,{addCallback:function(e){this.then(e)},addErrback:function(e){this.otherwise(e)}})}var B=o("dijit._TreeNode",[j,N,S,D,T],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(e){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=e,this._set("label",e)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:A,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments),this._setExpando(),this._updateItemClasses(this.item),this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded),this.setSelected(!1)},_setIndentAttr:function(t){var i=Math.max(t,0)*this.tree._nodePixelIndent+"px";l.set(this.domNode,"backgroundPosition",i+" 0px"),l.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",i),e.forEach(this.getChildren(),function(e){e.set("indent",t+1)}),this._set("indent",t)},markProcessing:function(){this.state="Loading",this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(e){var t=this.tree,i=t.model;t._v10Compat&&e===i.root&&(e=null),this._applyClassAndStyle(e,"icon","Icon"),this._applyClassAndStyle(e,"label","Label"),this._applyClassAndStyle(e,"row","Row"),this.tree._startPaint(!0)},_applyClassAndStyle:function(e,t,i){var o="_"+t+"Class",n=t+"Node",r=this[o];this[o]=this.tree["get"+i+"Class"](e,this.isExpanded),a.replace(this[n],this[o]||"",r||""),l.set(this[n],this.tree["get"+i+"Style"](e,this.isExpanded)||{})},_updateLayout:function(){var e=this.getParent(),t=!e||!e.rowNode||"none"==e.rowNode.style.display;a.toggle(this.domNode,"dijitTreeIsRoot",t),a.toggle(this.domNode,"dijitTreeIsLast",!t&&!this.getNextSibling())},_setExpando:function(e){var t=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],i=e?0:this.isExpandable?this.isExpanded?1:2:3;a.replace(this.expandoNode,t[i],t),this.expandoNodeText.innerHTML=["*","-","+","*"][i]},expand:function(){if(this._expandDeferred)return R(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred),this.isExpanded=!0,this.labelNode.setAttribute("aria-expanded","true"),(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role","group"),a.add(this.contentNode,"dijitTreeContentExpanded"),this._setExpando(),this._updateItemClasses(this.item),this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var e=c.wipeIn({node:this.containerNode,duration:w.defaultDuration}),i=this._expandDeferred=new n(function(){e.stop()});return t.after(e,"onEnd",function(){i.resolve(!0)},!0),e.play(),R(i)},collapse:function(){if(this._collapseDeferred)return R(this._collapseDeferred);this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred),this.isExpanded=!1,this.labelNode.setAttribute("aria-expanded","false"),this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false"),a.remove(this.contentNode,"dijitTreeContentExpanded"),this._setExpando(),this._updateItemClasses(this.item);var e=c.wipeOut({node:this.containerNode,duration:w.defaultDuration}),i=this._collapseDeferred=new n(function(){e.stop()});return t.after(e,"onEnd",function(){i.resolve(!0)},!0),e.play(),R(i)},indent:0,setChildItems:function(t){var i=this.tree,o=i.model,n=[],a=i.focusedChild,d=this.getChildren();e.forEach(d,function(e){S.prototype.removeChild.call(this,e)},this),this.defer(function(){e.forEach(d,function(t){if(!t._destroyed&&!t.getParent()){if(i.dndController.removeTreeNode(t),function t(n){var r=o.getIdentity(n.item),s=i._itemNodesMap[r];if(1==s.length)delete i._itemNodesMap[r];else{var a=e.indexOf(s,n);-1!=a&&s.splice(a,1)}e.forEach(n.getChildren(),t)}(t),i.persist){var n=e.map(t.getTreePath(),function(e){return i.model.getIdentity(e)}).join("/");for(var r in i._openedNodes)r.substr(0,n.length)==n&&delete i._openedNodes[r];i._saveExpandedNodes()}i.lastFocusedChild&&!s.isDescendant(i.lastFocusedChild,i.domNode)&&delete i.lastFocusedChild,a&&!s.isDescendant(a,i.domNode)&&i.focus(),t.destroyRecursive()}})}),this.state="Loaded",t&&t.length>0?(this.isExpandable=!0,e.forEach(t,function(e){var t,r=o.getIdentity(e),s=i._itemNodesMap[r];if(s)for(var a=0;a<s.length;a++)if(s[a]&&!s[a].getParent()){(t=s[a]).set("indent",this.indent+1);break}t||(t=this.tree._createTreeNode({item:e,tree:i,isExpandable:o.mayHaveChildren(e),label:i.getLabel(e),labelType:i.model&&i.model.labelType||"text",tooltip:i.getTooltip(e),ownerDocument:i.ownerDocument,dir:i.dir,lang:i.lang,textDir:i.textDir,indent:this.indent+1}),s?s.push(t):i._itemNodesMap[r]=[t]),this.addChild(t),(this.tree.autoExpand||this.tree._state(t))&&n.push(i._expandNode(t))},this),e.forEach(this.getChildren(),function(e){e._updateLayout()})):this.isExpandable=!1,this._setExpando&&this._setExpando(!1),this._updateItemClasses(this.item);var l=r(n);return this.tree._startPaint(l),R(l)},getTreePath:function(){for(var e=this,t=[];e&&e!==this.tree.rootNode;)t.unshift(e.item),e=e.getParent();return t.unshift(this.tree.rootNode.item),t},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(t){this.inherited(arguments);var i=this.getChildren();0==i.length&&(this.isExpandable=!1,this.collapse()),e.forEach(i,function(e){e._updateLayout()})},makeExpandable:function(){this.isExpandable=!0,this._setExpando(!1)},setSelected:function(e){this.labelNode.setAttribute("aria-selected",e?"true":"false"),a.toggle(this.rowNode,"dijitTreeRowSelected",e)},focus:function(){C.focus(this.focusNode)}});u("dojo-bidi")&&B.extend({_setTextDirAttr:function(t){!t||this.textDir==t&&this._created||(this._set("textDir",t),this.applyTextDir(this.labelNode),e.forEach(this.getChildren(),function(e){e.set("textDir",t)},this))}});var P=o("dijit.Tree",[j,k,N,T],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:E,persist:!1,autoExpand:!1,dndController:L,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(e,t){_.publish(this.id,m.mixin({tree:this,event:e},t||{}))},postMixInProperties:function(){this.tree=this,this.autoExpand&&(this.persist=!1),this._itemNodesMap={},!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie"),this.expandChildrenDeferred=new n,this.pendingCommandsPromise=this.expandChildrenDeferred.promise,this.inherited(arguments)},postCreate:function(){this._initState();var e=this;if(this.own(g(this.containerNode,g.selector(".dijitTreeNode",v.enter),function(t){e._onNodeMouseEnter(x.byNode(this),t)}),g(this.containerNode,g.selector(".dijitTreeNode",v.leave),function(t){e._onNodeMouseLeave(x.byNode(this),t)}),g(this.containerNode,g.selector(".dijitTreeRow",y.press),function(t){e._onNodePress(x.getEnclosingWidget(this),t)}),g(this.containerNode,g.selector(".dijitTreeRow",y),function(t){e._onClick(x.getEnclosingWidget(this),t)}),g(this.containerNode,g.selector(".dijitTreeRow","dblclick"),function(t){e._onDblClick(x.getEnclosingWidget(this),t)})),this.model||this._store2model(),this.own(t.after(this.model,"onChange",m.hitch(this,"_onItemChange"),!0),t.after(this.model,"onChildrenChange",m.hitch(this,"_onItemChildrenChange"),!0),t.after(this.model,"onDelete",m.hitch(this,"_onItemDelete"),!0)),this.inherited(arguments),this.dndController){m.isString(this.dndController)&&(this.dndController=m.getObject(this.dndController));for(var i={},o=0;o<this.dndParams.length;o++)this[this.dndParams[o]]&&(i[this.dndParams[o]]=this[this.dndParams[o]]);this.dndController=new this.dndController(this,i)}this._load(),this.onLoadDeferred=R(this.pendingCommandsPromise),this.onLoadDeferred.then(m.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0,f.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var e={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(e.mayHaveChildren=m.hitch(this,"mayHaveChildren")),this.params.getItemChildren&&(e.getChildren=m.hitch(this,function(e,t,i){this.getItemChildren(this._v10Compat&&e===this.model.root?null:e,t,i)})),this.model=new I(e),this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(m.hitch(this,function(e){var t=this.rootNode=this.tree._createTreeNode({item:e,tree:this,isExpandable:!0,label:this.label||this.getLabel(e),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(t.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(t.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(t.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),t.labelNode.setAttribute("role","presentation"),t.containerNode.setAttribute("role","tree"),t.containerNode.setAttribute("aria-expanded","true"),t.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular)),this.containerNode.appendChild(t.domNode);var i=this.model.getIdentity(e);this._itemNodesMap[i]?this._itemNodesMap[i].push(t):this._itemNodesMap[i]=[t],t._updateLayout(),this._expandNode(t).then(m.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),m.hitch(this,function(e){console.error(this,": error loading root: ",e)}))},getNodesByItem:function(e){if(!e)return[];var t=m.isString(e)?e:this.model.getIdentity(e);return[].concat(this._itemNodesMap[t])},_setSelectedItemAttr:function(e){this.set("selectedItems",[e])},_setSelectedItemsAttr:function(t){var i=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(m.hitch(this,function(){var o=e.map(t,function(e){return!e||m.isString(e)?e:i.model.getIdentity(e)}),n=[];e.forEach(o,function(e){n=n.concat(i._itemNodesMap[e]||[])}),this.set("selectedNodes",n)}))},_setPathAttr:function(e){return e.length?R(this.set("paths",[e]).then(function(e){return e[0]})):R(this.set("paths",[]).then(function(e){return e[0]}))},_setPathsAttr:function(t){var i=this;return R(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return r(e.map(t,function(t){if((t=e.map(t,function(e){return m.isString(e)?e:i.model.getIdentity(e)})).length)return function t(o,n){var r=o.shift();var s=e.filter(n,function(e){return e.getIdentity()==r})[0];if(s)return o.length?i._expandNode(s).then(function(){return t(o,s.getChildren())}):s;throw new P.PathError("Could not expand path at "+r)}(t,[i.rootNode]);throw new P.PathError("Empty path")}))}).then(function(e){return i.set("selectedNodes",e),i.paths}))},_setSelectedNodeAttr:function(e){this.set("selectedNodes",[e])},_setSelectedNodesAttr:function(e){this.dndController.setSelection(e)},expandAll:function(){var t=this;return R(function i(o){return t._expandNode(o).then(function(){var t=e.filter(o.getChildren()||[],function(e){return e.isExpandable});return r(e.map(t,i))})}(this.rootNode))},collapseAll:function(){var t=this;return R(function i(o){var n=e.filter(o.getChildren()||[],function(e){return e.isExpandable}),s=r(e.map(n,i));return!o.isExpanded||o==t.rootNode&&!t.showRoot?s:s.then(function(){return t._collapseNode(o)})}(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(e){return this.model.getLabel(e)},getIconClass:function(e,t){return!e||this.model.mayHaveChildren(e)?t?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(e,t){var i=this._getNext(t);i&&i.isTreeNode&&this.focusNode(i)},_onUpArrow:function(e,t){var i=t.getPreviousSibling();if(i)for(t=i;t.isExpandable&&t.isExpanded&&t.hasChildren();){var o=t.getChildren();t=o[o.length-1]}else{var n=t.getParent();(this.showRoot||n!==this.rootNode)&&(t=n)}t&&t.isTreeNode&&this.focusNode(t)},_onRightArrow:function(e,t){t.isExpandable&&!t.isExpanded?this._expandNode(t):t.hasChildren()&&(t=t.getChildren()[0])&&t.isTreeNode&&this.focusNode(t)},_onLeftArrow:function(e,t){if(t.isExpandable&&t.isExpanded)this._collapseNode(t);else{var i=t.getParent();i&&i.isTreeNode&&(this.showRoot||i!==this.rootNode)&&this.focusNode(i)}},focusLastChild:function(){var e=this._getLast();e&&e.isTreeNode&&this.focusNode(e)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var e=this.rootNode;e.isExpanded;){var t=e.getChildren();if(!t.length)break;e=t[t.length-1]}return e},_getNext:function(e){if(e.isExpandable&&e.isExpanded&&e.hasChildren())return e.getChildren()[0];for(;e&&e.isTreeNode;){var t=e.getNextSibling();if(t)return t;e=e.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(e,t){return s.isDescendant(e,t.expandoNode)||s.isDescendant(e,t.expandoNodeText)},_onNodePress:function(e,t){this.focusNode(e)},__click:function(e,t,i,o){var n=t.target,r=this.isExpandoNode(n,e);e.isExpandable&&(i||r)?this._onExpandoClick({node:e}):(this._publish("execute",{item:e.item,node:e,evt:t}),this[o](e.item,e,t),this.focusNode(e)),t.stopPropagation(),t.preventDefault()},_onClick:function(e,t){this.__click(e,t,this.openOnClick,"onClick")},_onDblClick:function(e,t){this.__click(e,t,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(e){var t=e.node;this.focusNode(t),t.isExpanded?this._collapseNode(t):this._expandNode(t)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(e){return f.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0"),this._getNext(e)},_getRootOrFirstNode:function(){return f.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0"),this._getFirst()},_collapseNode:function(e){if(e._expandNodeDeferred&&delete e._expandNodeDeferred,"Loading"!=e.state&&e.isExpanded){var t=e.collapse();return this.onClose(e.item,e),this._state(e,!1),this._startPaint(t),t}},_expandNode:function(e){if(e._expandNodeDeferred)return e._expandNodeDeferred;var t=this.model,i=e.item,o=this;e._loadDeferred||(e.markProcessing(),e._loadDeferred=new n,t.getChildren(i,function(t){e.unmarkProcessing(),e.setChildItems(t).then(function(){e._loadDeferred.resolve(t)})},function(t){console.error(o,": error loading "+e.label+" children: ",t),e._loadDeferred.reject(t)}));var r=e._loadDeferred.then(m.hitch(this,function(){var t=e.expand();return this.onOpen(e.item,e),this._state(e,!0),t}));return this._startPaint(r),r},focusNode:function(e){var t=this.domNode.scrollLeft;this.focusChild(e),this.domNode.scrollLeft=t},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(t){var i=this.model,o=i.getIdentity(t),n=this._itemNodesMap[o];if(n){var r=this.getLabel(t),s=this.getTooltip(t);e.forEach(n,function(e){e.set({item:t,label:r,tooltip:s}),e._updateItemClasses(t)})}},_onItemChildrenChange:function(t,i){var o=this.model,n=o.getIdentity(t),r=this._itemNodesMap[n];r&&e.forEach(r,function(e){e.setChildItems(i)})},_onItemDelete:function(t){var i=this.model,o=i.getIdentity(t),n=this._itemNodesMap[o];n&&(e.forEach(n,function(e){this.dndController.removeTreeNode(e);var t=e.getParent();t&&t.removeChild(e),this.lastFocusedChild&&!s.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild,this.focusedChild&&!s.isDescendant(this.focusedChild,this.domNode)&&this.focus(),e.destroyRecursive()},this),delete this._itemNodesMap[o])},_initState:function(){if(this._openedNodes={},this.persist&&this.cookieName){var t=i(this.cookieName);t&&e.forEach(t.split(","),function(e){this._openedNodes[e]=!0},this)}},_state:function(t,i){if(!this.persist)return!1;var o=e.map(t.getTreePath(),function(e){return this.model.getIdentity(e)},this).join("/");if(1===arguments.length)return this._openedNodes[o];i?this._openedNodes[o]=!0:delete this._openedNodes[o],this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var e=[];for(var t in this._openedNodes)e.push(t);i(this.cookieName,e.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch),this.rootNode&&this.rootNode.destroyRecursive(),this.dndController&&!m.isString(this.dndController)&&this.dndController.destroy(),this.rootNode=null,this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(e){e&&d.setMarginBox(this.domNode,e),this._nodePixelIndent=d.position(this.tree.indentDetector).w||this._nodePixelIndent,this.expandChildrenDeferred.then(m.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1),this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(e){this._outstandingPaintOperations++,this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var t=m.hitch(this,function(){this._outstandingPaintOperations--,this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});b(e,t,t)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer),this.containerNode.style.width="auto",this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(e){return new B(e)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});return u("dojo-bidi")&&P.extend({_setTextDirAttr:function(e){e&&this.textDir!=e&&(this._set("textDir",e),this.rootNode.set("textDir",e))}}),P.PathError=h("TreePathError"),P._TreeNode=B,P}),define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/when","./a11yclick","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x,w,j){var N=o("dijit._InlineEditor",[_,v,b],{templateString:j,contextRequire:e,postMixInProperties:function(){this.inherited(arguments),this.messages=d.getLocalization("dijit","common",this.lang),t.forEach(["buttonSave","buttonCancel"],function(e){this[e]||(this[e]=this.messages[e])},this)},buildRendering:function(){this.inherited(arguments);var i="string"==typeof this.editor?c.getObject(this.editor)||e(this.editor):this.editor,o=this.sourceStyle,n="line-height:"+o.lineHeight+";",r=a.getComputedStyle(this.domNode);t.forEach(["Weight","Family","Size","Style"],function(e){var t=o["font"+e],i=r["font"+e];i!=t&&(n+="font-"+e+":"+o["font"+e]+";")},this),t.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(e){this.domNode.style[e]=o[e]},this);var d=this.inlineEditBox.width;"100%"==d?(n+="width:100%;",this.domNode.style.display="block"):n+="width:"+d+(Number(d)==d?"px":"")+";";var l=c.delegate(this.inlineEditBox.editorParams,{style:n,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new i(l,this.editorPlaceholder),this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,s.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var e=this.editWidget;this.inlineEditBox.autoSave?this.own(i.after(e,"onChange",c.hitch(this,"_onChange"),!0),u(e,"keydown",c.hitch(this,"_onKeyDown"))):"intermediateChanges"in e&&(e.set("intermediateChanges",!0),this.own(i.after(e,"onChange",c.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup(),this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0),this.inherited(arguments)},getValue:function(){var e=this.editWidget;return String(e.get("displayedValue"in e||"_getDisplayedValueAttr"in e?"displayedValue":"value"))},_onKeyDown:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey)return;e.keyCode==h.ESCAPE?(e.stopPropagation(),e.preventDefault(),this.cancel(!0)):e.keyCode==h.ENTER&&"INPUT"==e.target.tagName&&(e.stopPropagation(),e.preventDefault(),this._onChange())}},_onBlur:function(){this.inherited(arguments),this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()&&g.focus(this.inlineEditBox.displayNode)},enableSave:function(){return!this.editWidget.isValid||this.editWidget.isValid()},focus:function(){this.editWidget.focus(),this.editWidget.focusNode&&(g._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){x.selectInputText(this.editWidget.focusNode)}))}}),S=o("dijit.InlineEditBox"+(f("dojo-bidi")?"_NoBidi":""),_,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",renderAsHtml:!1,editor:w,editorWrapper:N,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:f("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={}},postMixInProperties:function(){this.inherited(arguments),this.displayNode=this.srcNodeRef,this.own(u(this.displayNode,m,c.hitch(this,"_onClick")),u(this.displayNode,"mouseover, focus",c.hitch(this,"_onMouseOver")),u(this.displayNode,"mouseout, blur",c.hitch(this,"_onMouseOut"))),this.displayNode.setAttribute("role","button"),this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0),this.value||"value"in this.params||(this.value=c.trim(this.renderAsHtml?this.displayNode.innerHTML:this.displayNode.innerText||this.displayNode.textContent||"")),this.value||(this.displayNode.innerHTML=this.noValueIndicator),r.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(e){l.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0"),this.set("disabled",e)},_setDisabledAttr:function(e){this.domNode.setAttribute("aria-disabled",e?"true":"false"),e?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",0),r.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",e),this._set("disabled",e)},_onMouseOver:function(){this.disabled||r.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){r.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(e){this.disabled||(e&&(e.stopPropagation(),e.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){if(this._set("editing",!0),this._savedTabIndex=n.get(this.displayNode,"tabIndex")||"0",!this.wrapperWidget){var e=s.create("span",null,this.domNode,"before"),t="string"==typeof this.editorWrapper?c.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new t({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:a.getComputedStyle(this.displayNode),save:c.hitch(this,"save"),cancel:c.hitch(this,"cancel"),textDir:this.textDir},e),this.wrapperWidget._started||this.wrapperWidget.startup(),this._started||this.startup()}var i=this.wrapperWidget;r.add(this.displayNode,"dijitOffScreen"),r.remove(i.domNode,"dijitOffScreen"),a.set(i.domNode,{visibility:"visible"}),n.set(this.displayNode,"tabIndex","-1");var o=i.editWidget,d=this;p(o.onLoadDeferred,c.hitch(i,function(){o.set("displayedValue"in o||"_setDisplayedValueAttr"in o?"displayedValue":"value",d.value),this.defer(function(){i.saveButton&&i.saveButton.set("disabled","intermediateChanges"in o),this.focus(),this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments),this.editing},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget),this.inherited(arguments)},_showText:function(e){var t=this.wrapperWidget;a.set(t.domNode,{visibility:"hidden"}),r.add(t.domNode,"dijitOffScreen"),r.remove(this.displayNode,"dijitOffScreen"),n.set(this.displayNode,"tabIndex",this._savedTabIndex),e&&g.focus(this.displayNode)},save:function(e){if(!this.disabled&&this.editing){this._set("editing",!1);var t=this.wrapperWidget,i=t.getValue();this.set("value",i),this._showText(e)}},setValue:function(e){return l.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(e){e=c.trim(e);var t=this.renderAsHtml?e:e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=t||this.noValueIndicator,this._set("value",e),this._started&&this.defer(function(){this.onChange(e)})},getValue:function(){return l.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0"),this.get("value")},cancel:function(e){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(e))}});return f("dojo-bidi")&&(S=o("dijit.InlineEditBox",S,{_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.displayNode)}})),S._InlineEditor=N,S}),define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(e,t,i,o,n,r,s,a){return e("dijit.form.Form",[n,r,s,a],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"",this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(e){t.set(this.domNode,"encType",e),o("ie")&&(this.domNode.encoding=e),this._set("encType",e)},reset:function(e){var t={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};!1!==this.onReset(t)&&t.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(e){return this.reset(e),e.stopPropagation(),e.preventDefault(),!1},_onSubmit:function(e){var t=this.constructor.prototype;this.execute==t.execute&&this.onExecute==t.onExecute||(i.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues())),!1===this.onSubmit(e)&&(e.stopPropagation(),e.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})}),define("dijit/form/ComboButton",["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(e,t,i,o,n){return e("dijit.form.ComboButton",o,{templateString:n,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(e){e.keyCode==t[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(i.focus(this._popupStateNode),e.stopPropagation(),e.preventDefault())},_onArrowKeyDown:function(e){e.keyCode==t[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(i.focus(this.titleNode),e.stopPropagation(),e.preventDefault())},focus:function(e){this.disabled||i.focus("start"==e?this.titleNode:this._popupStateNode)}})}),define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){return e("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(e){this._set("readOnly",e),t.set(this.focusNode,"readOnly",e)},_setLabelAttr:void 0,_getSubmitValue:function(e){return null==e||""===e?"on":e},_setValueAttr:function(e){e=this._getSubmitValue(e),this._set("value",e),t.set(this.focusNode,"value",e)},reset:function(){this.inherited(arguments),this._set("value",this._getSubmitValue(this.params.value)),t.set(this.focusNode,"value",this.value)},_onClick:function(e){return this.readOnly?(e.stopPropagation(),e.preventDefault(),!1):this.inherited(arguments)}})}),define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(e,t,i,o,n,r,s,a,d){return o("dijit-legacy-requires")&&r(0,function(){e(["dijit/form/RadioButton"])}),t("dijit.form.CheckBox",[s,a],{templateString:d,baseClass:"dijitCheckBox",_setValueAttr:function(e,t){"string"==typeof e&&(this.inherited(arguments),e=!0),this._created&&this.set("checked",e,t)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments),this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&n("label[for='"+this.id+"']").addClass("dijitFocusedLabel"),this.inherited(arguments)},_onBlur:function(){this.id&&n("label[for='"+this.id+"']").removeClass("dijitFocusedLabel"),this.inherited(arguments)}})}),define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query!css2","../registry"],function(e,t,i,o,n,r){return t("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var e=[];return n("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(o.hitch(this,function(t){if(t.name==this.name&&t.form==this.focusNode.form){var i=r.getEnclosingWidget(t);i&&e.push(i)}})),e},_setCheckedAttr:function(t){this.inherited(arguments),this._created&&t&&e.forEach(this._getRelatedWidgets(),o.hitch(this,function(e){e!=this&&e.checked&&e.set("checked",!1)}))},_getSubmitValue:function(e){return null==e?"on":e},_onClick:function(t){return this.checked||this.disabled?(t.stopPropagation(),t.preventDefault(),!1):this.readOnly?(t.stopPropagation(),t.preventDefault(),e.forEach(this._getRelatedWidgets(),o.hitch(this,function(e){i.set(this.focusNode||this.domNode,"checked",e.checked)})),!1):this.inherited(arguments)}})}),define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(e,t,i){return e("dijit.form.RadioButton",[t,i],{baseClass:"dijitRadio"})}),define("dojo/cldr/monetary",["../_base/kernel","../_base/lang"],function(e,t){var i={};return t.setObject("dojo.cldr.monetary",i),i.getData=function(e){var t={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0}[e],i={}[e];return void 0===t&&(t=2),void 0===i&&(i=0),{places:t,round:i}},i}),define("dojo/currency",["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(e,t,i,o,n,r){var s={};return t.setObject("dojo.currency",s),s._mixInDefaults=function(i){(i=i||{}).type="currency";var n=o.getLocalization("dojo.cldr","currency",i.locale)||{},s=i.currency,a=r.getData(s);return e.forEach(["displayName","symbol","group","decimal"],function(e){a[e]=n[s+"_"+e]}),a.fractional=[!0,!1],t.mixin(a,i)},s.format=function(e,t){return i.format(e,s._mixInDefaults(t))},s.regexp=function(e){return i.regexp(s._mixInDefaults(e))},s.parse=function(e,t){return i.parse(e,s._mixInDefaults(t))},s}),define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(e,t,i){var o=e("dijit.form.RangeBoundTextBox",i,{rangeMessage:"",rangeCheck:function(e,t){return!("min"in t&&!(this.compare(e,t.min)>=0)||"max"in t&&!(this.compare(e,t.max)<=0))},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var e=this.get("value");if(null==e)return!1;var t=!1;if("min"in this.constraints){var i=this.constraints.min;t=this.compare(e,"number"==typeof i&&i>=0&&0!=e?0:i)<0}if(!t&&"max"in this.constraints){var o=this.constraints.max;t=this.compare(e,"number"!=typeof o||o>0?o:0)>0}return t},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(e){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(e))},getErrorMessage:function(e){var t=this.get("value");return null==t||""===t||"number"==typeof t&&isNaN(t)||this.isInRange(e)?this.inherited(arguments):this.rangeMessage},postMixInProperties:function(){this.inherited(arguments),this.rangeMessage||(this.messages=t.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}});return o}),define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/i18n","dojo/string","dojo/number","./RangeBoundTextBox"],function(e,t,i,o,n,r){var s=function(e){var t,e=e||{},o=i.getLocalization("dojo.cldr","number",i.normalizeLocale(e.locale)),n=e.pattern?e.pattern:o[(e.type||"decimal")+"Format"];return t="number"==typeof e.places?e.places:"string"==typeof e.places&&e.places.length>0?e.places.replace(/.*,/,""):-1!=n.indexOf(".")?n.split(".")[1].replace(/[^#0]/g,"").length:0,{sep:o.decimal,places:t}},a=e("dijit.form.NumberTextBoxMixin",null,{pattern:function(e){return"("+(this.focused&&this.editOptions?this._regExpGenerator(t.delegate(e,this.editOptions))+"|":"")+this._regExpGenerator(e)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:n.format,_regExpGenerator:n.regexp,_decimalInfo:s(),postMixInProperties:function(){this.inherited(arguments),this._set("type","text")},_setConstraintsAttr:function(e){var t="number"==typeof e.places?e.places:0;t&&t++,"number"!=typeof e.max&&(e.max=9*Math.pow(10,15-t)),"number"!=typeof e.min&&(e.min=-9*Math.pow(10,15-t)),this.inherited(arguments,[e]),this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value),this._decimalInfo=s(e)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var e=this.get("value");if("number"==typeof e&&!isNaN(e)){var t=this.format(e,this.constraints);void 0!==t&&(this.textbox.value=t)}this.inherited(arguments)}},format:function(e,i){var o=String(e);return"number"!=typeof e?o:isNaN(e)?"":"rangeCheck"in this&&this.rangeCheck(e,i)||!1===i.exponent||!/\de[-+]?\d/i.test(o)?(this.editOptions&&this.focused&&(i=t.mixin({},i,this.editOptions)),this._formatter(e,i)):o},_parser:n.parse,parse:function(e,i){var o=this._parser(e,t.mixin({},i,this.editOptions&&this.focused?this.editOptions:{}));return this.editOptions&&this.focused&&isNaN(o)&&(o=this._parser(e,i)),o},_getDisplayedValueAttr:function(){var e=this.inherited(arguments);return isNaN(e)?this.textbox.value:e},filter:function(e){return null==e||"string"==typeof e&&""==e?NaN:("number"!=typeof e||isNaN(e)||0==e||(e=n.round(e,this._decimalInfo.places)),this.inherited(arguments,[e]))},serialize:function(e,t){return"number"!=typeof e||isNaN(e)?"":this.inherited(arguments)},_setBlurValue:function(){var e=t.hitch(t.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(e,!0)},_setValueAttr:function(e,t,i){void 0!==e&&void 0===i&&(i=String(e),"number"==typeof e?isNaN(e)?i="":("rangeCheck"in this&&this.rangeCheck(e,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(i))&&(i=void 0):e?e=void 0:(i="",e=NaN)),this.inherited(arguments,[e,t,i])},_getValueAttr:function(){var e=this.inherited(arguments);if(!isNaN(e)||""===this.textbox.value)return e;if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&new RegExp("^"+n._realNumberRegexp(t.delegate(this.constraints))+"$").test(this.textbox.value)){var i=Number(this.textbox.value);return isNaN(i)?void 0:i}},isValid:function(e){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var t=this.get("value");return!(isNaN(t)||!this.rangeCheck(t,this.constraints))&&(!(!1===this.constraints.exponent||!/\de[-+]?\d/i.test(this.textbox.value))||this.inherited(arguments))},_isValidSubset:function(){var e="number"==typeof this.constraints.min,t="number"==typeof this.constraints.max,i=this.get("value");if(isNaN(i)||!e&&!t)return this.inherited(arguments);var n=0|i,r=i<0,s=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),a=this.maxLength||20,d=a-this.textbox.value.length,l=s?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",h=s?n+"."+l:n+"",c=o.rep("9",d),u=i,f=i;return r?u=Number(h+c):f=Number(h+c),!(e&&f<this.constraints.min||t&&u>this.constraints.max)}}),d=e("dijit.form.NumberTextBox",[r,a],{baseClass:"dijitTextBox dijitNumberTextBox"});return d.Mixin=a,d}),define("dijit/form/CurrencyTextBox",["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(e,t,i,o){return t("dijit.form.CurrencyTextBox",o,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",_formatter:e.format,_parser:e.parse,_regExpGenerator:e.regexp,parse:function(e,t){var n=this.inherited(arguments);return isNaN(n)&&/\d+/.test(e)&&(n=i.hitch(i.delegate(this,{_parser:o.prototype._parser}),"inherited")(arguments)),n},_setConstraintsAttr:function(t){!t.currency&&this.currency&&(t.currency=this.currency),this.inherited(arguments,[e._mixInDefaults(i.mixin(t,{exponent:!1}))])}})}),define("dojo/date",["./has","./_base/lang"],function(e,t){var i={getDaysInMonth:function(e){var t=e.getMonth();return 1==t&&i.isLeapYear(e)?29:[31,28,31,30,31,30,31,31,30,31,30,31][t]},isLeapYear:function(e){var t=e.getFullYear();return!(t%400&&(t%4||!(t%100)))},getTimezoneName:function(e){var t,i=e.toString(),o="",n=i.indexOf("(");if(n>-1)o=i.substring(++n,i.indexOf(")"));else{var r=/([A-Z\/]+) \d{4}$/;(t=i.match(r))?o=t[1]:(i=e.toLocaleString(),r=/ ([A-Z\/]+)$/,(t=i.match(r))&&(o=t[1]))}return"AM"==o||"PM"==o?"":o},compare:function(e,t,i){return e=new Date(+e),t=new Date(+(t||new Date)),"date"==i?(e.setHours(0,0,0,0),t.setHours(0,0,0,0)):"time"==i&&(e.setFullYear(0,0,0),t.setFullYear(0,0,0)),e>t?1:e<t?-1:0},add:function(e,t,i){var o=new Date(+e),n=!1,r="Date";switch(t){case"day":break;case"weekday":var s,a,d=i%5;d?(s=d,a=parseInt(i/5)):(s=i>0?5:-5,a=i>0?(i-5)/5:(i+5)/5);var l=e.getDay(),h=0;6==l&&i>0?h=1:0==l&&i<0&&(h=-1);var c=l+s;0!=c&&6!=c||(h=i>0?2:-2),i=7*a+s+h;break;case"year":r="FullYear",n=!0;break;case"week":i*=7;break;case"quarter":i*=3;case"month":n=!0,r="Month";break;default:r="UTC"+t.charAt(0).toUpperCase()+t.substring(1)+"s"}return r&&o["set"+r](o["get"+r]()+i),n&&o.getDate()<e.getDate()&&o.setDate(0),o},difference:function(e,t,o){t=t||new Date,o=o||"day";var n=t.getFullYear()-e.getFullYear(),r=1;switch(o){case"quarter":var s=e.getMonth(),a=t.getMonth(),d=Math.floor(s/3)+1,l=Math.floor(a/3)+1;r=(l+=4*n)-d;break;case"weekday":var h=Math.round(i.difference(e,t,"day")),c=parseInt(i.difference(e,t,"week")),u=h%7;if(0==u)h=5*c;else{var f=0,p=e.getDay(),m=t.getDay();c=parseInt(h/7),u=h%7;var g=new Date(e);g.setDate(g.getDate()+7*c);var _=g.getDay();if(h>0)switch(!0){case 6==p:f=-1;break;case 0==p:f=0;break;case 6==m:f=-1;break;case 0==m:f=-2;break;case _+u>5:f=-2}else if(h<0)switch(!0){case 6==p:f=0;break;case 0==p:f=1;break;case 6==m:f=2;break;case 0==m:f=1;break;case _+u<0:f=2}h+=f,h-=2*c}r=h;break;case"year":r=n;break;case"month":r=t.getMonth()-e.getMonth()+12*n;break;case"week":r=parseInt(i.difference(e,t,"day")/7);break;case"day":r/=24;case"hour":r/=60;case"minute":r/=60;case"second":r/=1e3;case"millisecond":r*=t.getTime()-e.getTime()}return Math.round(r)}};return e("extend-dojo")&&t.mixin(t.getObject("dojo.date",!0),i),i}),define("dojo/cldr/supplemental",["../_base/lang","../i18n"],function(e,t){var i={};return e.setObject("dojo.cldr.supplemental",i),i.getFirstDayOfWeek=function(e){var t=i._region(e),o={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,do:0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,in:0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[t];return void 0===o?1:o},i._region=function(e){var i=(e=t.normalizeLocale(e)).split("-"),o=i[1];return o?4==o.length&&(o=i[2]):o={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us",in:"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de",new:"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[i[0]],o},i.getWeekend=function(e){var t=i._region(e),o={in:0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[t],n={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[t];return void 0===o&&(o=6),void 0===n&&(n=0),{start:o,end:n}},i}),define("dojo/date/locale",["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(e,t,i,o,n,r,s,a,d){var l={};function h(e,t,i,n){return n.replace(/([a-z])\1*/gi,function(r){var a,d,h=r.charAt(0),c=r.length,u=["abbr","wide","narrow"];switch(h){case"G":a=t[c<4?"eraAbbr":"eraNames"][e.getFullYear()<0?0:1];break;case"y":switch(a=e.getFullYear(),c){case 1:break;case 2:if(!i.fullYear){a=(a=String(a)).substr(a.length-2);break}default:d=!0}break;case"Q":case"q":a=Math.ceil((e.getMonth()+1)/3),d=!0;break;case"M":case"L":var f=e.getMonth();if(c<3)a=f+1,d=!0;else{var p=["months","L"==h?"standAlone":"format",u[c-3]].join("-");a=t[p][f]}break;case"w":a=l._getWeekOfYear(e,0),d=!0;break;case"d":a=e.getDate(),d=!0;break;case"D":a=l._getDayOfYear(e),d=!0;break;case"e":case"c":var m=e.getDay();if(c<2){a=(m-o.getFirstDayOfWeek(i.locale)+8)%7;break}case"E":if(m=e.getDay(),c<3)a=m+1,d=!0;else{var g=["days","c"==h?"standAlone":"format",u[c-3]].join("-");a=t[g][m]}break;case"a":var _=e.getHours()<12?"am":"pm";a=i[_]||t["dayPeriods-format-wide-"+_];break;case"h":case"H":case"K":case"k":var v=e.getHours();switch(h){case"h":a=v%12||12;break;case"H":a=v;break;case"K":a=v%12;break;case"k":a=v||24}d=!0;break;case"m":a=e.getMinutes(),d=!0;break;case"s":a=e.getSeconds(),d=!0;break;case"S":a=Math.round(e.getMilliseconds()*Math.pow(10,c-3)),d=!0;break;case"v":case"z":if(a=l._getZone(e,!0,i))break;c=4;case"Z":var b=l._getZone(e,!1,i),y=[b<=0?"+":"-",s.pad(Math.floor(Math.abs(b)/60),2),s.pad(Math.abs(b)%60,2)];4==c&&(y.splice(0,0,"GMT"),y.splice(3,0,":")),a=y.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+n)}return d&&(a=s.pad(a,c)),a})}function c(e,i,o,n){var r=function(e){return e};i=i||r,o=o||r,n=n||r;var s=e.match(/(''|[^'])+/g),a="'"==e.charAt(0);return t.forEach(s,function(e,t){e?(s[t]=(a?o:i)(e.replace(/''/g,"'")),a=!a):s[t]=""}),n(s.join(""))}function u(e,t,i,o){return o=r.escapeString(o),i.strict||(o=o.replace(" a"," ?a")),o.replace(/([a-z])\1*/gi,function(o){var n,r=o.charAt(0),s=o.length,a="",d="";switch(i.strict?(s>1&&(a="0{"+(s-1)+"}"),s>2&&(d="0{"+(s-2)+"}")):(a="0?",d="0{0,2}"),r){case"y":n="\\d{2,4}";break;case"M":case"L":n=s>2?"\\S+?":"1[0-2]|"+a+"[1-9]";break;case"D":n="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+a+"[1-9][0-9]|"+d+"[1-9]";break;case"d":n="3[01]|[12]\\d|"+a+"[1-9]";break;case"w":n="[1-4][0-9]|5[0-3]|"+a+"[1-9]";break;case"E":case"e":case"c":n=".+?";break;case"h":n="1[0-2]|"+a+"[1-9]";break;case"k":n="1[01]|"+a+"\\d";break;case"H":n="1\\d|2[0-3]|"+a+"\\d";break;case"K":n="1\\d|2[0-4]|"+a+"[1-9]";break;case"m":case"s":n="[0-5]\\d";break;case"S":n="\\d{"+s+"}";break;case"a":var l=i.am||t["dayPeriods-format-wide-am"],h=i.pm||t["dayPeriods-format-wide-pm"];n=l+"|"+h,i.strict||(l!=l.toLowerCase()&&(n+="|"+l.toLowerCase()),h!=h.toLowerCase()&&(n+="|"+h.toLowerCase()),-1!=n.indexOf(".")&&(n+="|"+n.replace(/\./g,""))),n=n.replace(/\./g,"\\.");break;default:n=".*"}return e&&e.push(o),"("+n+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}e.setObject(d.id.replace(/\//g,"."),l),l._getZone=function(e,t,o){return t?i.getTimezoneName(e):e.getTimezoneOffset()},l.format=function(t,i){i=i||{};var o,r=n.normalizeLocale(i.locale),s=i.formatLength||"short",a=l._getGregorianBundle(r),d=[],u=e.hitch(this,h,t,a,i);return"year"==i.selector?c(a["dateFormatItem-yyyy"]||"yyyy",u):("date"!=i.selector&&(o=i.timePattern||a["timeFormat-"+s])&&d.push(c(o,u)),"time"!=i.selector&&(o=i.datePattern||a["dateFormat-"+s])&&d.push(c(o,u)),1==d.length?d[0]:a["dateTimeFormat-"+s].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(e,t){return d[t]}))},l.regexp=function(e){return l._parseInfo(e).regexp},l._parseInfo=function(t){t=t||{};var i=n.normalizeLocale(t.locale),o=l._getGregorianBundle(i),r=t.formatLength||"short",s=t.datePattern||o["dateFormat-"+r],a=t.timePattern||o["timeFormat-"+r],d=[],h=c("date"==t.selector?s:"time"==t.selector?a:o["dateTimeFormat-"+r].replace(/\{(\d+)\}/g,function(e,t){return[a,s][t]}),e.hitch(this,u,d,o,t));return{regexp:h,tokens:d,bundle:o}},l.parse=function(e,o){var n=/[\u200E\u200F\u202A\u202E]/g,r=l._parseInfo(o),s=r.tokens,a=r.bundle,d=new RegExp("^"+r.regexp.replace(n,"")+"$",r.strict?"":"i"),h=d.exec(e&&e.replace(n,""));if(!h)return null;var c=["abbr","wide","narrow"],u=[1970,0,1,0,0,0,0],f="",p=t.every(h,function(e,i){if(!i)return!0;var n=s[i-1],r=n.length,d=n.charAt(0);switch(d){case"y":if(2!=r&&o.strict)u[0]=e;else if(e<100){e=Number(e);var l=""+(new Date).getFullYear(),h=100*l.substring(0,2),p=Math.min(Number(l.substring(2,4))+20,99);u[0]=e<p?h+e:h-100+e}else{if(o.strict)return!1;u[0]=e}break;case"M":case"L":if(r>2){var m=a["months-"+("L"==d?"standAlone":"format")+"-"+c[r-3]].concat();if(o.strict||(e=e.replace(".","").toLowerCase(),m=t.map(m,function(e){return e.replace(".","").toLowerCase()})),-1==(e=t.indexOf(m,e)))return!1}else e--;u[1]=e;break;case"E":case"e":case"c":var g=a["days-"+("c"==d?"standAlone":"format")+"-"+c[r-3]].concat();if(o.strict||(e=e.toLowerCase(),g=t.map(g,function(e){return e.toLowerCase()})),-1==(e=t.indexOf(g,e)))return!1;break;case"D":u[1]=0;case"d":u[2]=e;break;case"a":var _=o.am||a["dayPeriods-format-wide-am"],v=o.pm||a["dayPeriods-format-wide-pm"];if(!o.strict){var b=/\./g;e=e.replace(b,"").toLowerCase(),_=_.replace(b,"").toLowerCase(),v=v.replace(b,"").toLowerCase()}if(o.strict&&e!=_&&e!=v)return!1;f=e==v?"p":e==_?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":if(e>23)return!1;u[3]=e;break;case"m":u[4]=e;break;case"s":u[5]=e;break;case"S":u[6]=e}return!0}),m=+u[3];"p"===f&&m<12?u[3]=m+12:"a"===f&&12==m&&(u[3]=0);var g=new Date(u[0],u[1],u[2],u[3],u[4],u[5],u[6]);o.strict&&g.setFullYear(u[0]);var _=s.join(""),v=-1!=_.indexOf("d"),b=-1!=_.indexOf("M");return!p||b&&g.getMonth()>u[1]||v&&g.getDate()>u[2]?null:((b&&g.getMonth()<u[1]||v&&g.getDate()<u[2])&&(g=i.add(g,"hour",1)),g)};var f=[];return l.addCustomFormats=function(e,t){f.push({pkg:e,name:t})},l._getGregorianBundle=function(i){var o={};return t.forEach(f,function(t){var r=n.getLocalization(t.pkg,t.name,i);o=e.mixin(o,r)},this),o},l.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian"),l.getNames=function(e,t,i,o){var n,r=l._getGregorianBundle(o),s=[e,i,t];if("standAlone"==i){var a=s.join("-");1==(n=r[a])[0]&&(n=void 0)}return s[1]="format",(n||r[s.join("-")]).concat()},l.isWeekend=function(e,t){var i=o.getWeekend(t),n=(e||new Date).getDay();return i.end<i.start&&(i.end+=7,n<i.start&&(n+=7)),n>=i.start&&n<=i.end},l._getDayOfYear=function(e){return i.difference(new Date(e.getFullYear(),0,1,e.getHours()),e)+1},l._getWeekOfYear=function(e,t){1==arguments.length&&(t=0);var i=new Date(e.getFullYear(),0,1).getDay(),o=(i-t+7)%7,n=Math.floor((l._getDayOfYear(e)+o-1)/7);return i==t&&n++,n},l}),define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p){var m=t("dijit.CalendarLite",[u,f],{templateString:p,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader" scope="col"><span class="dijitCalendarDayLabel">${d}</span></th>',dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(e){return e&&!isNaN(e)&&"object"==typeof e&&e.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var e=this._get("value");if(e&&!isNaN(e)){var t=new this.dateClassObj(e);return t.setHours(0,0,0,0),t.getDate()<e.getDate()&&(t=this.dateModule.add(t,"hour",1)),t}return null},_setValueAttr:function(e,t){"string"==typeof e&&(e=r.fromISOString(e)),e=this._patchDate(e),this._isValidDate(e)&&!this.isDisabledDate(e,this.lang)?(this._set("value",e),this.set("currentFocus",e),this._markSelectedDates([e]),this._created&&(t||void 0===t)&&this.onChange(this.get("value"))):(this._set("value",null),this._markSelectedDates([]))},_patchDate:function(e){return e&&(e=new this.dateClassObj(e)).setHours(1,0,0,0),e},_setText:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(e.ownerDocument.createTextNode(t))},_populateGrid:function(){var t=new this.dateClassObj(this.currentFocus);t.setDate(1);var o=(t=this._patchDate(t)).getDay(),n=this.dateModule.getDaysInMonth(t),r=this.dateModule.getDaysInMonth(this.dateModule.add(t,"month",-1)),s=new this.dateClassObj,a=i.getFirstDayOfWeek(this.lang);if(a>o&&(a-=7),!this.summary){var d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t);this.gridNode.setAttribute("summary",d[t.getMonth()])}this._date2cell={},e.forEach(this.dateCells,function(e,i){var d,l=i+a,h=new this.dateClassObj(t),c="dijitCalendar",u=0;l<o?(d=r-o+l+1,u=-1,c+="Previous"):l>=o+n?(d=l-o-n+1,u=1,c+="Next"):(d=l-o+1,c+="Current"),u&&(h=this.dateModule.add(h,"month",u)),h.setDate(d),this.dateModule.compare(h,s,"date")||(c="dijitCalendarCurrentDate "+c),this.isDisabledDate(h,this.lang)?(c="dijitCalendarDisabledDate "+c,e.setAttribute("aria-disabled","true")):(c="dijitCalendarEnabledDate "+c,e.removeAttribute("aria-disabled"),e.setAttribute("aria-selected","false"));var f=this.getClassForDate(h,this.lang);f&&(c=f+" "+c),e.className=c+"Month dijitCalendarDateTemplate";var p=h.valueOf();this._date2cell[p]=e,e.dijitDateValue=p,this._setText(this.dateLabels[i],h.getDateLocalized?h.getDateLocalized(this.lang):h.getDate())},this)},_populateControls:function(){var t=new this.dateClassObj(this.currentFocus);t.setDate(1),this.monthWidget.set("month",t);var i=t.getFullYear()-1,o=new this.dateClassObj;e.forEach(["previous","current","next"],function(e){o.setFullYear(i++),this._setText(this[e+"YearLabelNode"],this.dateLocaleModule.format(o,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(e){this.dateModule=e.datePackage?d.getObject(e.datePackage,!1):o,this.dateClassObj=this.dateModule.Date||Date,this.dateLocaleModule=e.datePackage?d.getObject(e.datePackage+".locale",!1):n},_createMonthWidget:function(){return m._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var e=this.dowTemplateString,t=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),o=i.getFirstDayOfWeek(this.lang);this.dayCellsHtml=c.substitute([e,e,e,e,e,e,e].join(""),{d:""},function(){return t[o++%7]});var n=c.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[n,n,n,n,n,n].join(""),this.dateCells=[],this.dateLabels=[],this.inherited(arguments),s.setSelectable(this.domNode,!1);var r=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget(),this.set("currentFocus",r,!1)},postCreate:function(){this.inherited(arguments),this._connectControls()},_connectControls:function(){var e=d.hitch(this,function(e,t,i){return this[e].dojoClick=!0,l(this[e],"click",d.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,t,i))}))});this.own(e("incrementMonth","month",1),e("decrementMonth","month",-1),e("nextYearLabelNode","year",1),e("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(e,t){var i=this.currentFocus,o=this._getNodeByDate(i);e=this._patchDate(e),this._set("currentFocus",e),this._date2cell&&0==this.dateModule.difference(i,e,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));var n=this._getNodeByDate(e);n.setAttribute("tabIndex",this.tabIndex),(this.focused||t)&&n.focus(),o&&o!=n&&(h("webkit")?o.setAttribute("tabIndex","-1"):o.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(e){e.stopPropagation(),e.preventDefault();for(var t=e.target;t&&!t.dijitDateValue;t=t.parentNode);t&&!a.contains(t,"dijitCalendarDisabledDate")&&this.set("value",t.dijitDateValue)},_getNodeByDate:function(e){return(e=this._patchDate(e))&&this._date2cell?this._date2cell[e.valueOf()]:null},_markSelectedDates:function(t){function i(e,t){a.toggle(t,"dijitCalendarSelectedDate",e),t.setAttribute("aria-selected",e?"true":"false")}e.forEach(this._selectedCells||[],d.partial(i,!1)),this._selectedCells=e.filter(e.map(t,this._getNodeByDate,this),function(e){return e}),e.forEach(this._selectedCells,d.partial(i,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});return m._MonthWidget=t("dijit.CalendarLite._MonthWidget",u,{_setMonthAttr:function(t){var i=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t),o=6==h("ie")?"":"<div class='dijitSpacer'>"+e.map(i,function(e){return"<div>"+e+"</div>"}).join("")+"</div>";this.domNode.innerHTML=o+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+i[t.getMonth()]+"</div>"}}),m}),define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g){var _=o("dijit.Calendar",[u,f,p],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(e){a.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_createMonthWidget:function(){return new _._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:l.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments),this.own(h(this.domNode,"keydown",l.hitch(this,"_onKeyDown")),h(this.dateRowsNode,"mouseover",l.hitch(this,"_onDayMouseOver")),h(this.dateRowsNode,"mouseout",l.hitch(this,"_onDayMouseOut")),h(this.dateRowsNode,"mousedown",l.hitch(this,"_onDayMouseDown")),h(this.dateRowsNode,"mouseup",l.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(e){var t=new this.dateClassObj(this.currentFocus);t.setDate(1),t.setMonth(e);var i=this.dateModule.getDaysInMonth(t),o=this.currentFocus.getDate();t.setDate(Math.min(o,i)),this._setCurrentFocusAttr(t)},_onDayMouseOver:function(e){var t=r.contains(e.target,"dijitCalendarDateLabel")?e.target.parentNode:e.target;t&&(t.dijitDateValue&&!r.contains(t,"dijitCalendarDisabledDate")||t==this.previousYearLabelNode||t==this.nextYearLabelNode)&&(r.add(t,"dijitCalendarHoveredDate"),this._currentNode=t)},_onDayMouseOut:function(e){if(this._currentNode&&(!e.relatedTarget||e.relatedTarget.parentNode!=this._currentNode)){var t="dijitCalendarHoveredDate";r.contains(this._currentNode,"dijitCalendarActiveDate")&&(t+=" dijitCalendarActiveDate"),r.remove(this._currentNode,t),this._currentNode=null}},_onDayMouseDown:function(e){var t=e.target.parentNode;t&&t.dijitDateValue&&!r.contains(t,"dijitCalendarDisabledDate")&&(r.add(t,"dijitCalendarActiveDate"),this._currentNode=t)},_onDayMouseUp:function(e){var t=e.target.parentNode;t&&t.dijitDateValue&&r.remove(t,"dijitCalendarActiveDate")},handleKey:function(e){var t,i=-1,o=this.currentFocus;switch(e.keyCode){case d.RIGHT_ARROW:i=1;case d.LEFT_ARROW:t="day",this.isLeftToRight()||(i*=-1);break;case d.DOWN_ARROW:i=1;case d.UP_ARROW:t="week";break;case d.PAGE_DOWN:i=1;case d.PAGE_UP:t=e.ctrlKey||e.altKey?"year":"month";break;case d.END:o=this.dateModule.add(o,"month",1),t="day";case d.HOME:(o=new this.dateClassObj(o)).setDate(1);break;default:return!0}return t&&(o=this.dateModule.add(o,t,i)),this._setCurrentFocusAttr(o),!1},_onKeyDown:function(e){this.handleKey(e)||(e.stopPropagation(),e.preventDefault())},onValueSelected:function(){},onChange:function(e){this.onValueSelected(e)},getClassForDate:function(){}});return _._MonthDropDownButton=o("dijit.Calendar._MonthDropDownButton",g,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments),this.dropDown=new _._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(e){var t=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,e);this.dropDown.set("months",t),this.containerNode.innerHTML=(6==c("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+t[e.getMonth()]+"</div>"}}),_._MonthDropDown=o("dijit.Calendar._MonthDropDown",[f,m,p],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(t){this.domNode.innerHTML="",e.forEach(t,function(e,t){var i=s.create("div",{className:"dijitCalendarMonthLabel",month:t,innerHTML:e},this.domNode);i._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(e){this.onChange(n.get(e.target,"month"))},onChange:function(){}}),_}),define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,i,o,n,r,s,a){new Date("X");var d=o("dijit.form._DateTimeTextBox",[r,s],{templateString:a,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:t.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments),this._set("type","text")},compare:function(t,i){var o=this._isInvalidDate(t),n=this._isInvalidDate(i);if(o||n)return o&&n?0:o?-1:1;var r=this.format(t,this._unboundedConstraints),s=this.format(i,this._unboundedConstraints),a=this.parse(r,this._unboundedConstraints),d=this.parse(s,this._unboundedConstraints);return r==s?0:e.compare(a,d,this._selector)},autoWidth:!0,format:function(e,t){return e?this.dateLocaleModule.format(e,t):""},parse:function(e,t){return this.dateLocaleModule.parse(e,t)||(this._isEmpty(e)?null:void 0)},serialize:function(e,t){return e.toGregorian&&(e=e.toGregorian()),i.toISOString(e,t)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(i){i=i||{},this.dateModule=i.datePackage?n.getObject(i.datePackage,!1):e,this.dateClassObj=this.dateModule.Date||Date,this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value)),this.dateLocaleModule=i.datePackage?n.getObject(i.datePackage+".locale",!1):t,this._set("pattern",this.dateLocaleModule.regexp),this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments),this.hasDownArrow||(this._buttonNode.style.display="none"),this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(e){e.selector=this._selector,e.fullYear=!0;var t=i.fromISOString;"string"==typeof e.min&&(e.min=t(e.min),this.dateClassObj instanceof Date||(e.min=new this.dateClassObj(e.min))),"string"==typeof e.max&&(e.max=t(e.max),this.dateClassObj instanceof Date||(e.max=new this.dateClassObj(e.max))),this.inherited(arguments),this._unboundedConstraints=n.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(e){return!e||isNaN(e)||"object"!=typeof e||e.toString()==this._invalidDate},_setValueAttr:function(e,t,o){void 0!==e&&("string"==typeof e&&(e=i.fromISOString(e)),this._isInvalidDate(e)&&(e=null),e instanceof Date&&!(this.dateClassObj instanceof Date)&&(e=new this.dateClassObj(e))),this.inherited(arguments,[e,t,o]),this.value instanceof Date&&(this.filterString=""),this.dropDown&&this.dropDown.set("value",e,!1)},_set:function(e,t){if("value"==e){t instanceof Date&&!(this.dateClassObj instanceof Date)&&(t=new this.dateClassObj(t));var i=this._get("value");if(i instanceof this.dateClassObj&&0==this.compare(t,i))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(e){this._isInvalidDate(e)&&(e=new this.dateClassObj),this._set("dropDownDefaultValue",e)},openDropDown:function(e){this.dropDown&&this.dropDown.destroy();var t=n.isString(this.popupClass)?n.getObject(this.popupClass,!1):this.popupClass,i=this,o=this.get("value");this.dropDown=new t({onChange:function(e){i.set("value",e,!0)},id:this.id+"_popup",dir:i.dir,lang:i.lang,value:o,textDir:i.textDir,currentFocus:this._isInvalidDate(o)?this.dropDownDefaultValue:o,constraints:i.constraints,filterString:i.filterString,datePackage:i.datePackage,isDisabledDate:function(e){return!i.rangeCheck(e,i.constraints)}}),this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(e,t){this._setValueAttr(this.parse(e,this.constraints),t,e)}});return d}),define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(e,t,i){return e("dijit.form.DateTextBox",i,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:t,_selector:"date",maxHeight:1/0,value:new Date("")})}),define("dijit/_TimePicker",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){var g=n("dijit._TimePicker",[p,m],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:o.toISOString,buildRendering:function(){this.inherited(arguments),this.containerNode=this.domNode,this.timeMenu=this.domNode},setValue:function(e){a.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(e){this._set("value",e),this._showText()},_setFilterStringAttr:function(e){this._set("filterString",e),this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(e,t,i,o){for(var n=[],r=0;r<this._maxIncrement;r++){var s=this._createOption(r);s&&n.push(s)}return n},_showText:function(){var t=o.fromISOString;this.domNode.innerHTML="",this._clickableIncrementDate=t(this.clickableIncrement),this._visibleIncrementDate=t(this.visibleIncrement);var i=function(e){return 60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()},n=i(this._clickableIncrementDate),r=i(this._visibleIncrementDate);(this.value||this.currentFocus).getTime();this._refDate=t(this.pickerMin),this._refDate.setFullYear(1970,0,1),this._clickableIncrement=1,this._visibleIncrement=r/n;var s=t(this.pickerMax);s.setFullYear(1970,0,1);var a=.001*(s.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((a+1)/n);var d=this._getFilteredNodes();e.forEach(d,function(e){this.domNode.appendChild(e)},this),!d.length&&this.filterString&&(this.filterString="",this._showText())},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments),this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(e){for(var t in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})t in e&&(this[t]=e[t]);e.locale||(e.locale=this.lang)},_createOption:function(e){var o=new Date(this._refDate),n=this._clickableIncrementDate;o.setHours(o.getHours()+n.getHours()*e,o.getMinutes()+n.getMinutes()*e,o.getSeconds()+n.getSeconds()*e),"time"==this.constraints.selector&&o.setFullYear(1970,0,1);var a=i.format(o,this.constraints);if(this.filterString&&0!==a.toLowerCase().indexOf(this.filterString))return null;var d=this.ownerDocument.createElement("div");return d.className=this.baseClass+"Item",d.date=o,d.idx=e,s.create("div",{class:this.baseClass+"ItemInner",innerHTML:a},d),e%this._visibleIncrement<1&&e%this._visibleIncrement>-1?r.add(d,this.baseClass+"Marker"):e%this._clickableIncrement||r.add(d,this.baseClass+"Tick"),this.isDisabledDate(o)&&r.add(d,this.baseClass+"ItemDisabled"),this.value&&!t.compare(this.value,o,this.constraints.selector)&&(d.selected=!0,r.add(d,this.baseClass+"ItemSelected"),this._selectedDiv=d,r.contains(d,this.baseClass+"Marker")?r.add(d,this.baseClass+"MarkerSelected"):r.add(d,this.baseClass+"TickSelected"),this._highlightOption(d,!0)),d},onOpen:function(){this.inherited(arguments),this.set("selected",this._selectedDiv)},_onOptionSelected:function(e){var t=e.target.date||e.target.parentNode.date;t&&!this.isDisabledDate(t)&&(this._highlighted_option=null,this.set("value",t),this.onChange(t))},onChange:function(){},_highlightOption:function(e,t){if(e){if(t)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=e;else{if(this._highlighted_option!==e)return;this._highlighted_option=null}r.toggle(e,this.baseClass+"ItemHover",t),r.contains(e,this.baseClass+"Marker")?r.toggle(e,this.baseClass+"MarkerHover",t):r.toggle(e,this.baseClass+"TickHover",t)}},handleKey:function(e){return e.keyCode==d.DOWN_ARROW?(this.selectNextNode(),e.stopPropagation(),e.preventDefault(),!1):e.keyCode==d.UP_ARROW?(this.selectPreviousNode(),e.stopPropagation(),e.preventDefault(),!1):e.keyCode==d.ENTER||e.keyCode===d.TAB?!this._keyboardSelected&&e.keyCode===d.TAB||(this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option}),e.keyCode===d.TAB):void 0},onHover:function(e){this._highlightOption(e,!0)},onUnhover:function(e){this._highlightOption(e,!1)},onSelect:function(e){this._highlightOption(e,!0)},onDeselect:function(e){this._highlightOption(e,!1)},onClick:function(e){this._onOptionSelected({target:e})}});return g}),define("dijit/form/TimeTextBox",["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(e,t,i,o,n){return e("dijit.form.TimeTextBox",n,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:o,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(e){if(!this.disabled&&!this.readOnly)switch(this.inherited(arguments),e.keyCode){case t.ENTER:case t.TAB:case t.ESCAPE:case t.DOWN_ARROW:case t.UP_ARROW:break;default:this.defer(function(){var e=this.get("displayedValue");this.filterString=e&&!this.parse(e,this.constraints)?e.toLowerCase():"",this._opened&&this.closeDropDown(),this.openDropDown()})}}})}),define("dijit/form/_Spinner",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","dojo/on","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(e,t,i,o,n,r,s,a,d,l){return e("dijit.form._Spinner",a,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:.9,smallDelta:1,largeDelta:10,templateString:d,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(e){return e},_arrowPressed:function(e,t,i){this.disabled||this.readOnly||(this._setValueAttr(this.adjust(this.get("value"),t*i),!1),l.selectInputText(this.textbox,this.textbox.value.length))},_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(e,i,o){var n=this.smallDelta;if(i==this.textbox){var r=o.keyCode;n=r==t.PAGE_UP||r==t.PAGE_DOWN?this.largeDelta:this.smallDelta,i=r==t.UP_ARROW||r==t.PAGE_UP?this.upArrowNode:this.downArrowNode}-1==e?this._arrowReleased(i):this._arrowPressed(i,i==this.upArrowNode?1:-1,n)},_wheelTimer:null,_mouseWheeled:function(e){e.stopPropagation(),e.preventDefault();var t=e.wheelDelta/120;Math.floor(t)!=t&&(t=e.wheelDelta>0?1:-1);var i=e.detail?-1*e.detail:t;if(0!==i){var o=this[i>0?"upArrowNode":"downArrowNode"];this._arrowPressed(o,i,this.smallDelta),this._wheelTimer&&this._wheelTimer.remove(),this._wheelTimer=this.defer(function(){this._arrowReleased(o)},50)}},_setConstraintsAttr:function(e){this.inherited(arguments),this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(e,t){this.focusNode.setAttribute("aria-valuenow",e),this.inherited(arguments)},postCreate:function(){this.inherited(arguments),this.own(r(this.domNode,n.wheel,i.hitch(this,"_mouseWheeled")),s.addListener(this.upArrowNode,this.textbox,{keyCode:t.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),s.addListener(this.downArrowNode,this.textbox,{keyCode:t.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),s.addListener(this.upArrowNode,this.textbox,{keyCode:t.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),s.addListener(this.downArrowNode,this.textbox,{keyCode:t.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})}),define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(e,t,i,o){return e("dijit.form.NumberSpinner",[i,o.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(e,t){var i=this.constraints,o=isNaN(e),n=!isNaN(i.max),r=!isNaN(i.min);o&&0!=t&&(e=t>0?r?i.min:n?i.max:0:n?this.constraints.max:r?i.min:0);var s=e+t;return o||isNaN(s)?e:(n&&s>i.max&&(s=i.max),r&&s<i.min&&(s=i.min),s)},_onKeyDown:function(e){if(!(this.disabled||this.readOnly||e.keyCode!=t.HOME&&e.keyCode!=t.END||e.ctrlKey||e.altKey||e.metaKey||void 0===this.get("value"))){var i=this.constraints[e.keyCode==t.HOME?"min":"max"];"number"==typeof i&&this._setValueAttr(i,!1),e.stopPropagation(),e.preventDefault()}}})}),define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(e,t,i){return e("dijit.form.ComboBox",[t,i],{})}),define("dijit/form/MultiSelect",["dojo/_base/array","dojo/_base/declare","dojo/dom-geometry","dojo/sniff","dojo/query","./_FormValueWidget","dojo/NodeList-dom"],function(e,t,i,o,n,r){var s=t("dijit.form.MultiSelect"+(o("dojo-bidi")?"_NoBidi":""),r,{size:7,baseClass:"dijitMultiSelect",templateString:"<select multiple='multiple' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>",addSelected:function(e){e.getSelected().forEach(function(t){this.containerNode.appendChild(t),this.domNode.scrollTop=this.domNode.offsetHeight;var i=e.domNode.scrollTop;e.domNode.scrollTop=0,e.domNode.scrollTop=i},this),this._set("value",this.get("value"))},getSelected:function(){return n("option",this.containerNode).filter(function(e){return e.selected})},_getValueAttr:function(){return e.map(this.getSelected(),function(e){return e.value})},multiple:!0,_setMultipleAttr:function(e){},_setValueAttr:function(t){o("android")?n("option",this.containerNode).orphan().forEach(function(i){var o=i.ownerDocument.createElement("option");o.value=i.value,o.selected=-1!=e.indexOf(t,i.value),o.text=i.text,o.originalText=i.originalText,this.containerNode.appendChild(o)},this):n("option",this.containerNode).forEach(function(i){i.selected=-1!=e.indexOf(t,i.value)}),this.inherited(arguments)},invertSelection:function(e){var t=[];n("option",this.containerNode).forEach(function(e){e.selected||t.push(e.value)}),this._setValueAttr(t,!(!1===e||null==e))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(e){e&&i.setMarginBox(this.domNode,e)},postCreate:function(){this._set("value",this.get("value")),this.inherited(arguments)}});return o("dojo-bidi")&&(s=t("dijit.form.MultiSelect",s,{addSelected:function(e){e.getSelected().forEach(function(e){e.text=this.enforceTextDirWithUcc(this.restoreOriginalText(e),e.text)},this),this.inherited(arguments)},_setTextDirAttr:function(e){this.textDir==e&&this._created||!this.enforceTextDirWithUcc||(this._set("textDir",e),n("option",this.containerNode).forEach(function(e){this._created||e.value!==e.text||(e.value=e.text),e.text=this.enforceTextDirWithUcc(e,e.originalText||e.text)},this))}})),s}),define("dojo/data/util/sorter",["../../_base/lang"],function(e){var t={};return e.setObject("dojo.data.util.sorter",t),t.basicComparator=function(e,t){var i=-1;return null===e&&(e=void 0),null===t&&(t=void 0),e==t?i=0:(e>t||null==e)&&(i=1),i},t.createSortFunction=function(e,i){var o,n=[];function r(e,t,i,o){return function(n,r){var s=o.getValue(n,e),a=o.getValue(r,e);return t*i(s,a)}}for(var s=i.comparatorMap,a=t.basicComparator,d=0;d<e.length;d++){var l=(o=e[d]).attribute;if(l){var h=o.descending?-1:1,c=a;s&&("string"!=typeof l&&"toString"in l&&(l=l.toString()),c=s[l]||a),n.push(r(l,h,c,i))}}return function(e,t){for(var i=0;i<n.length;){var o=n[i++](e,t);if(0!==o)return o}return 0}},t}),define("dijit/form/_FormSelectWidget",["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(e,t,i,o,n,r,s,a,d,l,h,c,u){var f=n("dijit.form._FormSelectWidget",u,{multiple:!1,options:null,store:null,_setStoreAttr:function(e){this._created&&this._deprecatedSetStore(e)},query:null,_setQueryAttr:function(e){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:e})},queryOptions:null,_setQueryOptionsAttr:function(e){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:e})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(t){var i=this.options||[];return null==t?i:d.isArray(t)?e.map(t,"return this.getOptions(item);",this):(d.isString(t)&&(t={value:t}),d.isObject(t)&&(e.some(i,function(e,i){for(var o in t)if(!(o in e)||e[o]!=t[o])return!1;return t=i,!0})||(t=-1)),t>=0&&t<i.length?i[t]:null)},addOption:function(t){e.forEach(d.isArray(t)?t:[t],function(e){e&&d.isObject(e)&&this.options.push(e)},this),this._loadChildren()},removeOption:function(t){var i=this.getOptions(d.isArray(t)?t:[t]);e.forEach(i,function(t){t&&(this.options=e.filter(this.options,function(e){return e.value!==t.value||e.label!==t.label}),this._removeOptionItem(t))},this),this._loadChildren()},updateOption:function(t){e.forEach(d.isArray(t)?t:[t],function(e){var t,i=this.getOptions({value:e.value});if(i)for(t in e)i[t]=e[t]},this),this._loadChildren()},setStore:function(e,t,i){a.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0"),this._deprecatedSetStore(e,t,i)},_deprecatedSetStore:function(n,r,s){var a=this.store;if(s=s||{},a!==n){for(var l;l=this._notifyConnections.pop();)l.remove();n.get||(d.mixin(n,{_oldAPI:!0,get:function(e){var i=new t;return this.fetchItemByIdentity({identity:e,onItem:function(e){i.resolve(e)},onError:function(e){i.reject(e)}}),i.promise},query:function(e,i){var o=new t(function(){n.abort&&n.abort()});o.total=new t;var n=this.fetch(d.mixin({query:e,onBegin:function(e){o.total.resolve(e)},onComplete:function(e){o.resolve(e)},onError:function(e){o.reject(e)}},i));return new c(o)}}),n.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[i.after(n,"onNew",d.hitch(this,"_onNewItem"),!0),i.after(n,"onDelete",d.hitch(this,"_onDeleteItem"),!0),i.after(n,"onSet",d.hitch(this,"_onSetItem"),!0)])),this._set("store",n)}return this.options&&this.options.length&&this.removeOption(this.options),this._queryRes&&this._queryRes.close&&this._queryRes.close(),this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null),s.query&&this._set("query",s.query),s.queryOptions&&this._set("queryOptions",s.queryOptions),n&&n.query&&(this._loadingStore=!0,this.onLoadDeferred=new t,this._queryRes=n.query(this.query,this.queryOptions),h(this._queryRes,d.hitch(this,function(t){if(this.sortByLabel&&!s.sort&&t.length)if(n.getValue)t.sort(o.createSortFunction([{attribute:n.getLabelAttributes(t[0])[0]}],n));else{var i=this.labelAttr;t.sort(function(e,t){return e[i]>t[i]?1:t[i]>e[i]?-1:0})}s.onFetch&&(t=s.onFetch.call(this,t,s)),e.forEach(t,function(e){this._addOptionForItem(e)},this),this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(d.hitch(this,function(e,t,i){t==i?this._onSetItem(e):(-1!=t&&this._onDeleteItem(e),-1!=i&&this._onNewItem(e))}),!0)),this._loadingStore=!1,this.set("value","_pendingValue"in this?this._pendingValue:r),delete this._pendingValue,this.loadChildrenOnOpen?this._pseudoLoadChildren(t):this._loadChildren(),this.onLoadDeferred.resolve(!0),this.onSetStore()}),function(e){console.error("dijit.form.Select: "+e.toString()),this.onLoadDeferred.reject(e)})),a},_setValueAttr:function(t,i){if(this._onChangeActive||(i=null),this._loadingStore)this._pendingValue=t;else if(null!=t){t=d.isArray(t)?e.map(t,function(e){return d.isObject(e)?e:{value:e}}):d.isObject(t)?[t]:[{value:t}],t=e.filter(this.getOptions(t),function(e){return e&&e.value});var o=this.getOptions()||[];this.multiple||t[0]&&t[0].value||!o.length||(t[0]=o[0]),e.forEach(o,function(i){i.selected=e.some(t,function(e){return e.value===i.value})});var n=e.map(t,function(e){return e.value});if(void 0!==n&&void 0!==n[0]){var r=e.map(t,function(e){return e.label});this._setDisplay(this.multiple?r:r[0]),this.inherited(arguments,[this.multiple?n:n[0],i]),this._updateSelection()}}},_getDisplayedValueAttr:function(){var t=e.map([].concat(this.get("selectedOptions")),function(e){return e&&"label"in e?e.label:e?e.value:null},this);return this.multiple?t:t[0]},_setDisplayedValueAttr:function(e){this.set("value",this.getOptions("string"==typeof e?{label:e}:e))},_loadChildren:function(){this._loadingStore||(e.forEach(this._getChildren(),function(e){e.destroyRecursive()}),e.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null,this._set("value",this._getValueFromOpts());var t=[].concat(this.value);if(t&&t[0]){var i=this;e.forEach(this._getChildren(),function(o){var n=e.some(t,function(e){return o.option&&e===o.option.value});n&&!i.multiple&&(i.focusedChild=o),s.toggle(o.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),n),o.domNode.setAttribute("aria-selected",n?"true":"false")},this)}},_getValueFromOpts:function(){var t=this.getOptions()||[];if(!this.multiple&&t.length){var i=e.filter(t,function(e){return e.selected})[0];return i&&i.value?i.value:(t[0].selected=!0,t[0].value)}return this.multiple?e.map(e.filter(t,function(e){return e.selected}),function(e){return e.value})||[]:""},_onNewItem:function(e,t){t&&t.parent||this._addOptionForItem(e)},_onDeleteItem:function(e){var t=this.store;this.removeOption({value:t.getIdentity(e)})},_onSetItem:function(e){this.updateOption(this._getOptionObjForItem(e))},_getOptionObjForItem:function(e){var t=this.store,i=this.labelAttr&&this.labelAttr in e?e[this.labelAttr]:t.getLabel(e),o=i?t.getIdentity(e):null;return{value:o,label:i,item:e}},_addOptionForItem:function(e){var t=this.store;if(!t.isItemLoaded||t.isItemLoaded(e)){var i=this._getOptionObjForItem(e);this.addOption(i)}else t.loadItem({item:e,onItem:function(e){this._addOptionForItem(e)},scope:this})},constructor:function(e){this._oValue=(e||{}).value||null,this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments),r.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?l("> *",this.srcNodeRef).map(function(e){return"separator"===e.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:e.getAttribute("data-"+a._scopeName+"-value")||e.getAttribute("value"),label:String(e.innerHTML),selected:e.getAttribute("selected")||!1,disabled:e.getAttribute("disabled")||!1}},this):[]),this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments),i.after(this,"onChange",d.hitch(this,"_updateSelection"));var e=this.store;e&&(e.getIdentity||e.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(e,this._oValue,{query:this.query,queryOptions:this.queryOptions})),this._storeInitialized=!0},startup:function(){this._loadChildren(),this.inherited(arguments)},destroy:function(){for(var e;e=this._notifyConnections.pop();)e.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close(),this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null),this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}});return f}),define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v){var b=t("dijit.form._SelectMenu",u,{autoFocus:!0,buildRendering:function(){this.inherited(arguments),this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments),this.own(d(this.domNode,"selectstart",function(e){e.preventDefault(),e.stopPropagation()}))},focus:function(){var t=!1,i=this.parentWidget.value;a.isArray(i)&&(i=i[i.length-1]),i&&e.forEach(this.parentWidget._getChildren(),function(e){e.option&&i===e.option.value&&(t=!0,this.focusChild(e,!1))},this),t||this.inherited(arguments)}}),y=t("dijit.form.Select"+(l("dojo-bidi")?"_NoBidi":""),[h,c,g],{baseClass:"dijitSelect dijitValidationTextBox",templateString:v,_buttonInputDisabled:l("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){if(this.inherited(arguments),this.options.length&&!this.value&&this.srcNodeRef){var e=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[e>=0?e:0].value)}this.dropDown=new b({id:this.id+"_menu",parentWidget:this}),o.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(e){if(e.value||e.label){var t=a.hitch(this,"_setValueAttr",e),i=new f({option:e,label:("text"===this.labelType?(e.label||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;"):e.label)||this.emptyLabel,onClick:t,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:e.disabled||!1});return i.focusNode.setAttribute("role","option"),i}return new p({ownerDocument:this.ownerDocument})},_addOptionItem:function(e){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(e))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},focusChild:function(e){e&&this.set("value",e.option)},_getFirst:function(){var e=this._getChildren();return e.length?e[0]:null},_getLast:function(){var e=this._getChildren();return e.length?e[e.length-1]:null},childSelector:function(e){var e=_.byNode(e);return e&&e.getParent()==this.dropDown},onKeyboardSearch:function(e,t,i,o){e&&this.focusChild(e)},_loadChildren:function(t){if(!0===t)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{e.forEach(this._getChildren(),function(e){e.destroyRecursive()});var i=new f({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(i)}else this._updateSelection();this._isLoaded=!1,this._childrenLoaded=!0,this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments),this._refreshState()},_setValueAttr:function(e){this.inherited(arguments),i.set(this.valueNode,"value",this.get("value")),this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(e){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){this._set("required",e),this.focusNode.setAttribute("aria-required",e),this._refreshState()},_setOptionsAttr:function(e){this._isLoaded=!1,this._set("options",e)},_setDisplay:function(e){var t=("text"===this.labelType?(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;"):e)||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+t+"</span>"},validate:function(e){var t=this.disabled||this.isValid(e);this._set("state",t?"":this._hasBeenBlurred?"Error":"Incomplete"),this.focusNode.setAttribute("aria-invalid",t?"false":"true");var i=t?"":this._missingMsg;return i&&this.focused&&this._hasBeenBlurred?m.show(i,this.domNode,this.tooltipPosition,!this.isLeftToRight()):m.hide(this.domNode),this._set("message",i),t},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments),m.hide(this.domNode),this._refreshState()},postMixInProperties:function(){this.inherited(arguments),this._missingMsg=r.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments),this.own(d(this.domNode,"selectstart",function(e){e.preventDefault(),e.stopPropagation()})),this.domNode.setAttribute("aria-expanded","false");var e=this._keyNavCodes;delete e[s.LEFT_ARROW],delete e[s.RIGHT_ARROW]},_setStyleAttr:function(e){this.inherited(arguments),o.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(e){this._loadChildren(!0),this._isLoaded=!0,e()},destroy:function(e){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(e),delete this.dropDown),m.hide(this.domNode),this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){m.hide(this.domNode),this.inherited(arguments),this.validate(!1)}});function C(e){return function(t){this._isLoaded?this.inherited(e,arguments):this.loadDropDown(a.hitch(this,e,t))}}return l("dojo-bidi")&&(y=t("dijit.form.Select",y,{_setDisplay:function(e){this.inherited(arguments),this.applyTextDir(this.containerNode)}})),y._Menu=b,y.prototype._onContainerKeydown=C("_onContainerKeydown"),y.prototype._onContainerKeypress=C("_onContainerKeypress"),y}),define("dojo/dnd/move",["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(e,t,i,o,n,r){var s=e("dojo.dnd.move.constrainedMoveable",r,{constraints:function(){},within:!1,constructor:function(e,t){t||(t={}),this.constraints=t.constraints,this.within=t.within},onFirstMove:function(e){var i=this.constraintBox=this.constraints.call(this,e);if(i.r=i.l+i.w,i.b=i.t+i.h,this.within){var o=t.getMarginSize(e.node);i.r-=o.w,i.b-=o.h}},onMove:function(e,t){var i=this.constraintBox,o=e.node.style;this.onMoving(e,t),t.l=t.l<i.l?i.l:i.r<t.l?i.r:t.l,t.t=t.t<i.t?i.t:i.b<t.t?i.b:t.t,o.left=t.l+"px",o.top=t.t+"px",this.onMoved(e,t)}}),a=e("dojo.dnd.move.boxConstrainedMoveable",s,{box:{},constructor:function(e,t){var i=t&&t.box;this.constraints=function(){return i}}}),d=e("dojo.dnd.move.parentConstrainedMoveable",s,{area:"content",constructor:function(e,o){var n=o&&o.area;this.constraints=function(){var e=this.node.parentNode,o=i.getComputedStyle(e),r=t.getMarginBox(e,o);if("margin"==n)return r;var s=t.getMarginExtents(e,o);return r.l+=s.l,r.t+=s.t,r.w-=s.w,r.h-=s.h,"border"==n?r:(s=t.getBorderExtents(e,o),r.l+=s.l,r.t+=s.t,r.w-=s.w,r.h-=s.h,"padding"==n?r:(s=t.getPadExtents(e,o),r.l+=s.l,r.t+=s.t,r.w-=s.w,r.h-=s.h,r))}}});return{constrainedMoveable:s,boxConstrainedMoveable:a,parentConstrainedMoveable:d}}),define("dijit/form/HorizontalSlider",["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","dojo/mouse","dojo/on","../_base/manager","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y){var C=t("dijit.form._SliderMover",h,{onMouseMove:function(e){var t=this.widget,i=t._abspos;i||(i=t._abspos=n.position(t.sliderBarContainer,!0),t._setPixelValue_=a.hitch(t,"_setPixelValue"),t._isReversed_=t._isReversed());var o=e[t._mousePixelCoord]-i[t._startingPixelCoord];t._setPixelValue_(t._isReversed_?i[t._pixelCount]-o:o,i[t._pixelCount],!1)},destroy:function(e){h.prototype.destroy.apply(this,arguments);var t=this.widget;t._abspos=null,t._setValueAttr(t.value,!0)}}),x=t("dijit.form.HorizontalSlider",[v,b],{templateString:y,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:1/0,pageIncrement:2,clickSelect:!0,slideDuration:p.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(e){if(!(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey)){switch(e.keyCode){case s.HOME:this._setValueAttr(this.minimum,!1);break;case s.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?s.RIGHT_ARROW:s.LEFT_ARROW:case!1===this._descending?s.DOWN_ARROW:s.UP_ARROW:case!1===this._descending?s.PAGE_DOWN:s.PAGE_UP:this.increment(e);break;case this._descending||this.isLeftToRight()?s.LEFT_ARROW:s.RIGHT_ARROW:case!1===this._descending?s.UP_ARROW:s.DOWN_ARROW:case!1===this._descending?s.PAGE_UP:s.PAGE_DOWN:this.decrement(e);break;default:return}e.stopPropagation(),e.preventDefault()}},_onHandleClick:function(e){this.disabled||this.readOnly||(d("ie")||m.focus(this.sliderHandle),e.stopPropagation(),e.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(e){if(!this.disabled&&!this.readOnly&&this.clickSelect){m.focus(this.sliderHandle),e.stopPropagation(),e.preventDefault();var t=n.position(this.sliderBarContainer,!0),i=e[this._mousePixelCoord]-t[this._startingPixelCoord];this._setPixelValue(this._isReversed()?t[this._pixelCount]-i:i,t[this._pixelCount],!0),this._movable.onMouseDown(e)}},_setPixelValue:function(e,t,i){if(!this.disabled&&!this.readOnly){var o=this.discreteValues;(o<=1||o==1/0)&&(o=t);var n=t/--o,r=Math.round(e/n);this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*r/o+this.minimum,this.maximum),this.minimum),i)}},_setValueAttr:function(e,t){this._set("value",e),this.valueNode.value=e,this.focusNode.setAttribute("aria-valuenow",e),this.inherited(arguments);var i=this.maximum>this.minimum?(e-this.minimum)/(this.maximum-this.minimum):0,n=!1===this._descending?this.remainingBar:this.progressBar,r=!1===this._descending?this.progressBar:this.remainingBar;if(this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),t&&this.slideDuration>0&&n.style[this._progressPixelSize]){var s=this,a={},d=parseFloat(n.style[this._progressPixelSize]),l=this.slideDuration*(i-d/100);if(0==l)return;l<0&&(l=0-l),a[this._progressPixelSize]={start:d,end:100*i,units:"%"},this._inProgressAnim=o.animateProperty({node:n,duration:l,onAnimate:function(e){r.style[s._progressPixelSize]=100-parseFloat(e[s._progressPixelSize])+"%"},onEnd:function(){delete s._inProgressAnim},properties:a}),this._inProgressAnim.play()}else n.style[this._progressPixelSize]=100*i+"%",r.style[this._progressPixelSize]=100*(1-i)+"%"},_bumpValue:function(e,t){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var i=r.getComputedStyle(this.sliderBarContainer),o=n.getContentBox(this.sliderBarContainer,i),s=this.discreteValues;(s<=1||s==1/0)&&(s=o[this._pixelCount]),s--;var a=(this.value-this.minimum)*s/(this.maximum-this.minimum)+e;a<0&&(a=0),a>s&&(a=s),a=a*(this.maximum-this.minimum)/s+this.minimum,this._setValueAttr(a,t)}},_onClkBumper:function(e){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(e,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(e){this._bumpValue(e.keyCode==s.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(e){this._bumpValue(e.keyCode==s.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(e){e.stopPropagation(),e.preventDefault(),this._bumpValue(e.wheelDelta<0?-1:1,!0)},startup:function(){this._started||(e.forEach(this.getChildren(),function(e){this[e.container]!=this.containerNode&&this[e.container].appendChild(e.domNode)},this),this.inherited(arguments))},_typematicCallback:function(e,t,i){-1==e?this._setValueAttr(this.value,!0):this[t==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](i)},buildRendering:function(){this.inherited(arguments),this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var e=c('label[for="'+this.id+'"]');e.length&&(e[0].id||(e[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",e[0].id)),this.focusNode.setAttribute("aria-valuemin",this.minimum),this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments),this.showButtons&&this.own(g.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),g.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500)),this.own(f(this.domNode,u.wheel,a.hitch(this,"_mouseWheeled")));var e=t(C,{widget:this});this._movable=new l(this.sliderHandle,{mover:e}),this._layoutHackIE7()},destroy:function(){this._movable.destroy(),this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),this.inherited(arguments)}});return x._Mover=C,x}),define("dijit/form/VerticalSlider",["dojo/_base/declare","./HorizontalSlider","dojo/text!./templates/VerticalSlider.html"],function(e,t,i){return e("dijit.form.VerticalSlider",t,{templateString:i,_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:!0,_isReversed:function(){return this._descending}})}),define("dijit/form/HorizontalRule",["dojo/_base/declare","../_Widget","../_TemplatedMixin"],function(e,t,i){return e("dijit.form.HorizontalRule",[t,i],{templateString:'<div class="dijitRuleContainer dijitRuleContainerH"></div>',count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'<div class="dijitRuleMark dijitRuleMarkH" style="left:',_positionSuffix:"%;",_suffix:'"></div>',_genHTML:function(e){return this._positionPrefix+e+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){var e;if(this.inherited(arguments),1==this.count)e=this._genHTML(50,0);else{var t,i=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){for(e=this._genHTML(0,0),t=1;t<this.count-1;t++)e+=this._genHTML(i*t,t);e+=this._genHTML(100,this.count-1)}else{for(e=this._genHTML(100,0),t=1;t<this.count-1;t++)e+=this._genHTML(100-i*t,t);e+=this._genHTML(0,this.count-1)}}this.domNode.innerHTML=e}})}),define("dijit/form/VerticalRule",["dojo/_base/declare","./HorizontalRule"],function(e,t){return e("dijit.form.VerticalRule",t,{templateString:'<div class="dijitRuleContainer dijitRuleContainerV"></div>',_positionPrefix:'<div class="dijitRuleMark dijitRuleMarkV" style="top:',_isHorizontal:!1})}),define("dijit/form/HorizontalRuleLabels",["dojo/_base/declare","dojo/has","dojo/number","dojo/query","dojo/_base/lang","./HorizontalRule"],function(e,t,i,o,n,r){var s=e("dijit.form.HorizontalRuleLabels",r,{templateString:'<div class="dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"></div>',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'<div class="dijitRuleLabelContainer dijitRuleLabelContainerH" style="left:',_labelPrefix:'"><div class="dijitRuleLabel dijitRuleLabelH">',_suffix:"</div></div>",_calcPosition:function(e){return e},_genHTML:function(e,t){var i=this.labels[t];return this._positionPrefix+this._calcPosition(e)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(i)+this._labelPrefix+i+this._suffix},_genDirectionHTML:function(e){return""},getLabels:function(){var e=this.labels;if(!e.length&&this.srcNodeRef&&(e=o("> li",this.srcNodeRef).map(function(e){return String(e.innerHTML)})),!e.length&&this.count>1)for(var t=this.minimum,n=(this.maximum-t)/(this.count-1),r=0;r<this.count;r++)e.push(r<this.numericMargin||r>=this.count-this.numericMargin?"":i.format(t,this.constraints)),t+=n;return e},postMixInProperties:function(){this.inherited(arguments),this.labels=this.getLabels(),this.count=this.labels.length}});return t("dojo-bidi")&&s.extend({_setTextDirAttr:function(e){this.textDir!=e&&(this._set("textDir",e),o(".dijitRuleLabelContainer",this.domNode).forEach(n.hitch(this,function(e){e.style.direction=this.getTextDir(e.innerText||e.textContent||"")})))},_genDirectionHTML:function(e){return this.textDir?"direction:"+this.getTextDir(e)+";":""}}),s}),define("dijit/form/VerticalRuleLabels",["dojo/_base/declare","./HorizontalRuleLabels"],function(e,t){return e("dijit.form.VerticalRuleLabels",t,{templateString:'<div class="dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV"></div>',_positionPrefix:'<div class="dijitRuleLabelContainer dijitRuleLabelContainerV" style="top:',_labelPrefix:'"><span class="dijitRuleLabel dijitRuleLabelV">',_calcPosition:function(e){return 100-e},_isHorizontal:!1})}),define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(e,t,i,o){return e("dijit.form.SimpleTextarea",o,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value),this.inherited(arguments)},buildRendering:function(){this.inherited(arguments),i("ie")&&this.cols&&t.add(this.textbox,"dijitTextAreaCols")},filter:function(e){return e&&(e=e.replace(/\r/g,"")),this.inherited(arguments)},_onInput:function(e){if(this.maxLength){var t=parseInt(this.maxLength),o=this.textbox.value.replace(/\r/g,""),n=o.length-t;if(n>0){var r=this.textbox;if(r.selectionStart){var s=r.selectionStart,a=0;i("opera")&&(a=(this.textbox.value.substring(0,s).match(/\r/g)||[]).length),this.textbox.value=o.substring(0,s-n-a)+o.substring(s-a),r.setSelectionRange(s-n,s-n)}else if(this.ownerDocument.selection){r.focus();var d=this.ownerDocument.selection.createRange();d.moveStart("character",-n),d.text="",d.select()}}}this.inherited(arguments)}})}),define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(e,t,i,o,n,r,s){return i.add("textarea-needs-help-shrinking",function(){var e=r.body(),i=t.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},e,"last"),o=i.scrollHeight>=i.clientHeight;return e.removeChild(i),o}),e("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments),this.resize()},postCreate:function(){this.inherited(arguments);var e=this.textbox;e.style.overflowY="hidden",this.own(n(e,"focus, resize",o.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments),this.own(s.on("resize",o.hitch(this,"_resizeLater"))),this._resizeLater()},_onInput:function(e){this.inherited(arguments),this.resize()},_estimateHeight:function(){var e=this.textbox;e.rows=(e.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){var e=this.textbox;function t(){var t=!1;""===e.value&&(e.value=" ",t=!0);var i=e.scrollHeight;return t&&(e.value=""),i}if("hidden"==e.style.overflowY&&(e.scrollTop=0),!this.busyResizing){if(this.busyResizing=!0,t()||e.offsetHeight){var o=t()+Math.max(e.offsetHeight-e.clientHeight,0),n=o+"px";if(n!=e.style.height&&(e.style.height=n,e.rows=1),i("textarea-needs-help-shrinking")){var r,s=t(),a=s,d=e.style.minHeight,l=4,h=e.scrollTop;for(e.style.minHeight=n,e.style.height="auto";o>0;){e.style.minHeight=Math.max(o-l,4)+"px",r=t();var c=a-r;if(o-=c,c<l)break;a=r,l<<=1}e.style.height=o+"px",e.style.minHeight=d,e.scrollTop=h}e.style.overflowY=t()>e.clientHeight?"auto":"hidden","hidden"==e.style.overflowY&&(e.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})}),define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(e,t,i,o){return e("dijit.form.Textarea",[o,i],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments),t.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})}),define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f){r("dijit-legacy-requires")&&d(0,function(){require(["dijit/layout/StackController"])});var p=i("dijit.layout.StackContainer",f,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments),o.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments),this.own(a(this.domNode,"keydown",s.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var i=this.getChildren();e.forEach(i,this._setupChild,this),this.persist?this.selectedChildWidget=c.byId(t(this.id+"_selectedChild")):e.some(i,function(e){return e.selected&&(this.selectedChildWidget=e),e.selected},this);var o=this.selectedChildWidget;!o&&i[0]&&((o=this.selectedChildWidget=i[0]).selected=!0),l.publish(this.id+"-startup",{children:i,selected:o,textDir:this.textDir}),this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var e=this.selectedChildWidget;e&&this._showChild(e)}this.inherited(arguments)},_setupChild:function(e){var t=e.domNode,i=n.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",e.domNode,"replace"),o=e["aria-label"]||e.title||e.label;o&&i.setAttribute("aria-label",o),n.place(t,i),e._wrapper=i,this.inherited(arguments),"none"==t.style.display&&(t.style.display="block"),e.domNode.removeAttribute("title")},addChild:function(e,t){this.inherited(arguments),this._started&&(l.publish(this.id+"-addChild",e,t),this.layout(),this.selectedChildWidget||this.selectChild(e))},removeChild:function(t){var i=e.indexOf(this.getChildren(),t);if(this.inherited(arguments),n.destroy(t._wrapper),delete t._wrapper,this._started&&l.publish(this.id+"-removeChild",t),!this._descendantsBeingDestroyed){if(this.selectedChildWidget===t&&(this.selectedChildWidget=void 0,this._started)){var o=this.getChildren();o.length&&this.selectChild(o[Math.max(i-1,0)])}this._started&&this.layout()}},selectChild:function(e,i){var o;return e=c.byId(e),this.selectedChildWidget!=e&&(o=this._transition(e,this.selectedChildWidget,i),this._set("selectedChildWidget",e),l.publish(this.id+"-selectChild",e),this.persist&&t(this.id+"_selectedChild",this.selectedChildWidget.id)),h(o||!0)},_transition:function(e,t){t&&this._hideChild(t);var i=this._showChild(e);return e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize()),i},_adjacent:function(t){var i=this.getChildren(),o=e.indexOf(i,this.selectedChildWidget);return o+=t?1:i.length-1,i[o%i.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(e){l.publish(this.id+"-containerKeyDown",{e:e,page:this})},layout:function(){var e=this.selectedChildWidget;e&&e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize())},_showChild:function(e){var t=this.getChildren();return e.isFirstChild=e==t[0],e.isLastChild=e==t[t.length-1],e._set("selected",!0),e._wrapper&&o.replace(e._wrapper,"dijitVisible","dijitHidden"),e._onShow&&e._onShow()||!0},_hideChild:function(e){e._set("selected",!1),e._wrapper&&o.replace(e._wrapper,"dijitHidden","dijitVisible"),e.onHide&&e.onHide()},closeChild:function(e){var t=e.onClose&&e.onClose(this,e);t&&(this.removeChild(e),e.destroyRecursive())},destroyDescendants:function(t){this._descendantsBeingDestroyed=!0,this.selectedChildWidget=void 0,e.forEach(this.getChildren(),function(e){t||this.removeChild(e),e.destroyRecursive(t)},this),this._descendantsBeingDestroyed=!1}});return p.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0},s.extend(u,p.ChildWidgetProperties),p}),define("dijit/layout/AccordionContainer",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b,y,C,x){var w=i("dijit.layout._AccordionButton",[g,v,b],{templateString:x,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent},buildRendering:function(){this.inherited(arguments);var e=this.id.replace(" ","_");r.set(this.titleTextNode,"id",e+"_title"),this.focusNode.setAttribute("aria-labelledby",r.get(this.titleTextNode,"id")),n.setSelectable(this.domNode,!1)},getTitleHeight:function(){return d.getMarginSize(this.domNode).h},_onTitleClick:function(){var e=this.getParent();e.selectChild(this.contentWidget,!0),f.focus(this.focusNode)},_onTitleKeyDown:function(e){return this.getParent()._onKeyDown(e,this.contentWidget)},_setSelectedAttr:function(e){this._set("selected",e),this.focusNode.setAttribute("aria-expanded",e?"true":"false"),this.focusNode.setAttribute("aria-selected",e?"true":"false"),this.focusNode.setAttribute("tabIndex",e?"0":"-1")}});c("dojo-bidi")&&w.extend({_setLabelAttr:function(e){this._set("label",e),r.set(this.titleTextNode,"innerHTML",e),this.applyTextDir(this.titleTextNode)},_setTitleAttr:function(e){this._set("title",e),r.set(this.titleTextNode,"title",e),this.applyTextDir(this.titleTextNode)}});var j=i("dijit.layout._AccordionInnerContainer"+(c("dojo-bidi")?"_NoBidi":""),[g,b],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:!0,buildRendering:function(){this.domNode=a.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var e=this.contentWidget,t=h.isString(this.buttonWidget)?h.getObject(this.buttonWidget):this.buttonWidget;this.button=e._buttonWidget=new t({contentWidget:e,label:e.title,title:e.tooltip,dir:e.dir,lang:e.lang,textDir:e.textDir||this.textDir,iconClass:e.iconClass,id:e.id+"_button",parent:this.parent}).placeAt(this.domNode),this.containerNode=a.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode),this.containerNode.setAttribute("aria-labelledby",this.button.id),a.place(this.contentWidget.domNode,this.containerNode)},postCreate:function(){this.inherited(arguments);var e=this.button,t=this.contentWidget;this._contentWidgetWatches=[t.watch("title",h.hitch(this,function(t,i,o){e.set("label",o)})),t.watch("tooltip",h.hitch(this,function(t,i,o){e.set("title",o)})),t.watch("iconClass",h.hitch(this,function(t,i,o){e.set("iconClass",o)}))]},_setSelectedAttr:function(e){if(this._set("selected",e),this.button.set("selected",e),e){var t=this.contentWidget;t.onSelected&&t.onSelected()}},startup:function(){this.contentWidget.startup()},destroy:function(){this.button.destroyRecursive(),t.forEach(this._contentWidgetWatches||[],function(e){e.unwatch()}),delete this.contentWidget._buttonWidget,delete this.contentWidget._wrapperWidget,this.inherited(arguments)},destroyDescendants:function(e){this.contentWidget.destroyRecursive(e)}});c("dojo-bidi")&&(j=i("dijit.layout._AccordionInnerContainer",j,{postCreate:function(){this.inherited(arguments);var e=this.button;this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(t,i,o){e.set("textDir",o)}))}}));var N=i("dijit.layout.AccordionContainer",y,{duration:p.defaultDuration,buttonWidget:w,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments),this.domNode.style.overflow="hidden",this.domNode.setAttribute("role","tablist")},startup:function(){this._started||(this.inherited(arguments),this.selectedChildWidget&&this.selectedChildWidget._wrapperWidget.set("selected",!0))},layout:function(){var e=this.selectedChildWidget;if(e){var i=e._wrapperWidget.domNode,o=d.getMarginExtents(i),n=d.getPadBorderExtents(i),r=e._wrapperWidget.containerNode,s=d.getMarginExtents(r),a=d.getPadBorderExtents(r),l=this._contentBox,h=0;t.forEach(this.getChildren(),function(t){t!=e&&(h+=d.getMarginSize(t._wrapperWidget.domNode).h)}),this._verticalSpace=l.h-h-o.h-n.h-s.h-a.h-e._buttonWidget.getTitleHeight(),this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-o.w-n.w-s.w-a.w},e&&e.resize(this._containerContentBox)}},_setupChild:function(e){e._wrapperWidget=j({contentWidget:e,buttonWidget:this.buttonWidget,id:e.id+"_wrapper",dir:e.dir,lang:e.lang,textDir:e.textDir||this.textDir,parent:this}),this.inherited(arguments),a.place(e.domNode,e._wrapper,"replace")},removeChild:function(e){e._wrapperWidget&&(a.place(e.domNode,e._wrapperWidget.domNode,"after"),e._wrapperWidget.destroy(),delete e._wrapperWidget),s.remove(e.domNode,"dijitHidden"),this.inherited(arguments)},getChildren:function(){return t.map(this.inherited(arguments),function(e){return"dijit.layout._AccordionInnerContainer"==e.declaredClass?e.contentWidget:e},this)},destroy:function(){this._animation&&this._animation.stop(),t.forEach(this.getChildren(),function(e){e._wrapperWidget?e._wrapperWidget.destroy():e.destroyRecursive()}),this.inherited(arguments)},_showChild:function(e){return e._wrapperWidget.containerNode.style.display="block",this.inherited(arguments)},_hideChild:function(e){e._wrapperWidget.containerNode.style.display="none",this.inherited(arguments)},_transition:function(e,t,i){c("ie")<8&&(i=!1),this._animation&&(this._animation.stop(!0),delete this._animation);var n=this;if(e){e._wrapperWidget.set("selected",!0);var r=this._showChild(e);this.doLayout&&e.resize&&e.resize(this._containerContentBox)}if(t&&(t._wrapperWidget.set("selected",!1),i||this._hideChild(t)),i){var s=e._wrapperWidget.containerNode,a=t._wrapperWidget.containerNode,l=e._wrapperWidget.containerNode,h=d.getMarginExtents(l),u=d.getPadBorderExtents(l),f=h.h+u.h;a.style.height=n._verticalSpace-f+"px",this._animation=new o.Animation({node:s,duration:this.duration,curve:[1,this._verticalSpace-f-1],onAnimate:function(e){e=Math.floor(e),s.style.height=e+"px",a.style.height=n._verticalSpace-f-e+"px"},onEnd:function(){delete n._animation,s.style.height="auto",t._wrapperWidget.containerNode.style.display="none",a.style.height="auto",n._hideChild(t)}}),this._animation.onStop=this._animation.onEnd,this._animation.play()}return r},_onKeyDown:function(e,t){if(!this.disabled&&!e.altKey&&(t||e.ctrlKey)){var i=e.keyCode;t&&(i==l.LEFT_ARROW||i==l.UP_ARROW)||e.ctrlKey&&i==l.PAGE_UP?(this._adjacent(!1)._buttonWidget._onTitleClick(),e.stopPropagation(),e.preventDefault()):(t&&(i==l.RIGHT_ARROW||i==l.DOWN_ARROW)||e.ctrlKey&&(i==l.PAGE_DOWN||i==l.TAB))&&(this._adjacent(!0)._buttonWidget._onTitleClick(),e.stopPropagation(),e.preventDefault())}}});return c("dijit-legacy-requires")&&m(0,function(){e(["dijit/layout/AccordionPane"])}),N._InnerContainer=j,N._Button=w,N}),define("dijit/layout/LayoutContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(e,t,i,o,n,r,s,a){var d=t("dijit.layout.LayoutContainer",s,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(e.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(e){this.inherited(arguments);var t=e.region;t&&i.add(e.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var t=e.map(this.getChildren(),function(e,t){return{pane:e,weight:["center"==e.region?1/0:0,e.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(e.region)?1:-1),t]}},this);return t.sort(function(e,t){for(var i=e.weight,o=t.weight,n=0;n<i.length;n++)if(i[n]!=o[n])return i[n]-o[n];return 0}),e.map(t,function(e){return e.pane})},layout:function(){a.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(e,t){this.inherited(arguments),this._started&&this.layout()},removeChild:function(e){this.inherited(arguments),this._started&&this.layout(),i.remove(e.domNode,this.baseClass+"Pane"),o.set(e.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"}),o.set(e.domNode,/top|bottom/.test(e.region)?"width":"height","auto")}});return d.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0},n.extend(r,d.ChildWidgetProperties),d}),define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){var g=i("dijit.layout._Splitter",[u,f],{live:!0,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region),this._factor=/top|left/.test(this.region)?1:-1,this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){if(this.inherited(arguments),o.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")),this.container.persist){var e=t(this._cookieName);e&&(this.child.domNode.style[this.horizontal?"height":"width"]=e)}},_computeMaxSize:function(){var t=this.horizontal?"h":"w",i=r.getMarginBox(this.child.domNode)[t],o=e.filter(this.container.getChildren(),function(e){return"center"==e.region})[0],n=r.getContentBox(o.domNode)[t]-10;return Math.min(this.child.maxSize,i+n)},_startDrag:function(e){this.cover||(this.cover=n.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after")),o.add(this.cover,"dijitSplitterCoverActive"),this.fake&&n.destroy(this.fake),(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),o.add(this.domNode,"dijitSplitterShadow"),n.place(this.fake,this.domNode,"after")),o.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active"),this.fake&&o.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var t=this._factor,i=this.horizontal,a=i?"pageY":"pageX",c=e[a],u=this.domNode.style,f=i?"h":"w",p=s.getComputedStyle(this.child.domNode),m=r.getMarginBox(this.child.domNode,p)[f],g=this._computeMaxSize(),_=Math.max(this.child.minSize,r.getPadBorderExtents(this.child.domNode,p)[f]+10),v=this.region,b="top"==v||"bottom"==v?"top":"left",y=parseInt(u[b],10),C=this._resize,x=d.hitch(this.container,"_layoutChildren",this.child.id),w=this.ownerDocument;this._handlers=this._handlers.concat([l(w,h.move,this._drag=function(e,i){var o=e[a]-c,n=t*o+m,r=Math.max(Math.min(n,g),_);(C||i)&&x(r),u[b]=o+y+t*(r-n)+"px"}),l(w,"dragstart",function(e){e.stopPropagation(),e.preventDefault()}),l(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation(),e.preventDefault()}),l(w,h.release,d.hitch(this,"_stopDrag"))]),e.stopPropagation(),e.preventDefault()},_onMouse:function(e){var t="mouseover"==e.type||"mouseenter"==e.type;o.toggle(this.domNode,"dijitSplitterHover",t),o.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",t)},_stopDrag:function(e){try{this.cover&&o.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&n.destroy(this.fake),o.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(e),this._drag(e,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&t(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var e;e=this._handlers.pop();)e.remove()},_onKeyDown:function(e){this._resize=!0;var t=this.horizontal,i=1;switch(e.keyCode){case t?a.UP_ARROW:a.LEFT_ARROW:i*=-1;case t?a.DOWN_ARROW:a.RIGHT_ARROW:break;default:return}var o=r.getMarginSize(this.child.domNode)[t?"h":"w"]+this._factor*i;this.container._layoutChildren(this.child.id,Math.max(Math.min(o,this._computeMaxSize()),this.child.minSize)),e.stopPropagation(),e.preventDefault()},destroy:function(){this._cleanupHandlers(),delete this.child,delete this.container,delete this.cover,delete this.fake,this.inherited(arguments)}}),_=i("dijit.layout._Gutter",[u,f],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments),o.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}}),v=i("dijit.layout.BorderContainer",p,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:g,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter"),this.inherited(arguments)},_setupChild:function(e){this.inherited(arguments);var t=e.region,i=e.isLeftToRight();if("leading"==t&&(t=i?"left":"right"),"trailing"==t&&(t=i?"right":"left"),t&&"center"!=t&&(e.splitter||this.gutters)&&!e._splitterWidget){var o=e.splitter?this._splitterClass:_;d.isString(o)&&(o=d.getObject(o));var r=new o({id:e.id+"_splitter",container:this,child:e,region:t,live:this.liveSplitters});r.isSplitter=!0,e._splitterWidget=r;var s="bottom"==t||t==(this.isLeftToRight()?"right":"left");n.place(r.domNode,e.domNode,s?"before":"after"),r.startup()}},layout:function(){this._layoutChildren()},removeChild:function(e){var t=e._splitterWidget;t&&(t.destroy(),delete e._splitterWidget),this.inherited(arguments)},getChildren:function(){return e.filter(this.inherited(arguments),function(e){return!e.isSplitter})},getSplitter:function(t){return e.filter(this.getChildren(),function(e){return e.region==t})[0]._splitterWidget},resize:function(e,t){if(!this.cs||!this.pe){var i=this.domNode;this.cs=s.getComputedStyle(i),this.pe=r.getPadExtents(i,this.cs),this.pe.r=s.toPixelValue(i,this.cs.paddingRight),this.pe.b=s.toPixelValue(i,this.cs.paddingBottom),s.set(i,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(t,i){if(this._borderBox&&this._borderBox.h){var o=[];e.forEach(this._getOrderedChildren(),function(e){o.push(e),e._splitterWidget&&o.push(e._splitterWidget)});var n={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};m.layoutChildren(this.domNode,n,o,t,i)}},destroyRecursive:function(){e.forEach(this.getChildren(),function(e){var t=e._splitterWidget;t&&t.destroy(),delete e._splitterWidget}),this.inherited(arguments)}});return v.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:1/0},d.mixin(v.ChildWidgetProperties,p.ChildWidgetProperties),d.extend(c,v.ChildWidgetProperties),v._Splitter=g,v._Gutter=_,v}),define("dijit/layout/LinkPane",["./ContentPane","../_TemplatedMixin","dojo/_base/declare"],function(e,t,i){return i("dijit.layout.LinkPane",[e,t],{templateString:'<div class="dijitLinkPane" data-dojo-attach-point="containerNode"></div>',postMixInProperties:function(){this.srcNodeRef&&(this.title+=this.srcNodeRef.innerHTML),this.inherited(arguments)},_fillContent:function(){}})}),define("dijit/layout/SplitContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","../registry","../_WidgetBase","./_LayoutWidget"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){var g=i("dijit.layout.SplitContainer",m,{constructor:function(){l.deprecated("dijit.layout.SplitContainer is deprecated","use BorderContainer with splitter instead",2)},activeSizing:!1,sizerWidth:7,orientation:"horizontal",persist:!0,baseClass:"dijitSplitContainer",postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.isHorizontal="horizontal"==this.orientation},postCreate:function(){if(this.inherited(arguments),this.sizers=[],u("mozilla")&&(this.domNode.style.overflow="-moz-scrollbars-none"),"object"==typeof this.sizerWidth)try{this.sizerWidth=parseInt(this.sizerWidth.toString())}catch(e){this.sizerWidth=7}var e=this.ownerDocument.createElement("div");this.virtualSizer=e,e.style.position="relative",e.style.zIndex=10,e.className=this.isHorizontal?"dijitSplitContainerVirtualSizerH":"dijitSplitContainerVirtualSizerV",this.domNode.appendChild(e),o.setSelectable(e,!1)},destroy:function(){if(delete this.virtualSizer,this._ownconnects)for(var e;e=this._ownconnects.pop();)e.remove();this.inherited(arguments)},startup:function(){this._started||(e.forEach(this.getChildren(),function(e,t,i){this._setupChild(e),t<i.length-1&&this._addSizer()},this),this.persist&&this._restoreState(),this.inherited(arguments))},_setupChild:function(e){this.inherited(arguments),e.domNode.style.position="absolute",n.add(e.domNode,"dijitSplitPane")},_onSizerMouseDown:function(e){if(e.target.id){for(var t=0;t<this.sizers.length&&this.sizers[t].id!=e.target.id;t++);t<this.sizers.length&&this.beginSizing(e,t)}},_addSizer:function(e){e=void 0===e?this.sizers.length:e;var t=this.ownerDocument.createElement("div");t.id=f.getUniqueId("dijit_layout_SplitterContainer_Splitter"),this.sizers.splice(e,0,t),this.domNode.appendChild(t),t.className=this.isHorizontal?"dijitSplitContainerSizerH":"dijitSplitContainerSizerV";var i=this.ownerDocument.createElement("div");i.className="thumb",t.appendChild(i),this.connect(t,"onmousedown","_onSizerMouseDown"),o.setSelectable(t,!1)},removeChild:function(t){if(this.sizers.length){var i=e.indexOf(this.getChildren(),t);-1!=i&&(i==this.sizers.length&&i--,r.destroy(this.sizers[i]),this.sizers.splice(i,1))}this.inherited(arguments),this._started&&this.layout()},addChild:function(e,t){if(void 0!==t&&"last"!=t||(t=this.getChildren().length),this.inherited(arguments,[e,t]),this._started){var i=this.getChildren();i.length>1&&this._addSizer(t),this.layout()}},layout:function(){this.paneWidth=this._contentBox.w,this.paneHeight=this._contentBox.h;var t=this.getChildren();if(t.length){var i=this.isHorizontal?this.paneWidth:this.paneHeight;t.length>1&&(i-=this.sizerWidth*(t.length-1));var o=0;e.forEach(t,function(e){o+=e.sizeShare});var n=i/o,r=0;e.forEach(t.slice(0,t.length-1),function(e){var t=Math.round(n*e.sizeShare);e.sizeActual=t,r+=t}),t[t.length-1].sizeActual=i-r,this._checkSizes();var s=0,a=t[0].sizeActual;this._movePanel(t[0],s,a),t[0].position=s,s+=a,this.sizers&&e.some(t.slice(1),function(e,t){if(!this.sizers[t])return!0;this._moveSlider(this.sizers[t],s,this.sizerWidth),this.sizers[t].position=s,s+=this.sizerWidth,a=e.sizeActual,this._movePanel(e,s,a),e.position=s,s+=a},this)}},_movePanel:function(e,t,i){var o;this.isHorizontal?(e.domNode.style.left=t+"px",e.domNode.style.top=0,o={w:i,h:this.paneHeight},e.resize?e.resize(o):s.setMarginBox(e.domNode,o)):(e.domNode.style.left=0,e.domNode.style.top=t+"px",o={w:this.paneWidth,h:i},e.resize?e.resize(o):s.setMarginBox(e.domNode,o))},_moveSlider:function(e,t,i){this.isHorizontal?(e.style.left=t+"px",e.style.top=0,s.setMarginBox(e,{w:i,h:this.paneHeight})):(e.style.left=0,e.style.top=t+"px",s.setMarginBox(e,{w:this.paneWidth,h:i}))},_growPane:function(e,t){return e>0&&t.sizeActual>t.sizeMin&&(t.sizeActual-t.sizeMin>e?(t.sizeActual=t.sizeActual-e,e=0):(e-=t.sizeActual-t.sizeMin,t.sizeActual=t.sizeMin)),e},_checkSizes:function(){var t=0,i=0,o=this.getChildren();if(e.forEach(o,function(e){i+=e.sizeActual,t+=e.sizeMin}),t<=i){var n=0;if(e.forEach(o,function(e){e.sizeActual<e.sizeMin&&(n+=e.sizeMin-e.sizeActual,e.sizeActual=e.sizeMin)}),n>0){var r=this.isDraggingLeft?o.reverse():o;e.forEach(r,function(e){n=this._growPane(n,e)},this)}}else e.forEach(o,function(e){e.sizeActual=Math.round(i*(e.sizeMin/t))})},beginSizing:function(e,t){var i=this.getChildren();this.paneBefore=i[t],this.paneAfter=i[t+1],this.paneBefore.sizeBeforeDrag=this.paneBefore.sizeActual,this.paneAfter.sizeBeforeDrag=this.paneAfter.sizeActual,this.paneAfter.positionBeforeDrag=this.paneAfter.position,this.isSizing=!0,this.sizingSplitter=this.sizers[t],this.sizingSplitter.positionBeforeDrag=a.get(this.sizingSplitter,this.isHorizontal?"left":"top"),this.cover?this.cover.style.zIndex=5:this.cover=r.create("div",{style:{position:"absolute",zIndex:5,top:0,left:0,width:"100%",height:"100%"}},this.domNode),this.sizingSplitter.style.zIndex=6,this.startPoint=this.lastPoint=this.isHorizontal?e.pageX:e.pageY,this.maxDelta=this.paneAfter.sizeActual-this.paneAfter.sizeMin,this.minDelta=-1*(this.paneBefore.sizeActual-this.paneBefore.sizeMin),this.activeSizing||this._showSizingLine(),this._ownconnects=[c(this.ownerDocument.documentElement,"mousemove",h.hitch(this,"changeSizing")),c(this.ownerDocument.documentElement,"mouseup",h.hitch(this,"endSizing"))],d.stop(e)},changeSizing:function(e){if(this.isSizing){this.lastPoint=this.isHorizontal?e.pageX:e.pageY;var t=Math.max(Math.min(this.lastPoint-this.startPoint,this.maxDelta),this.minDelta);this.activeSizing?this._updateSize(t):this._moveSizingLine(t),d.stop(e)}},endSizing:function(){if(this.isSizing){this.cover&&(this.cover.style.zIndex=-1),this.activeSizing||this._hideSizingLine();var e,t=Math.max(Math.min(this.lastPoint-this.startPoint,this.maxDelta),this.minDelta);for(this._updateSize(t),this.isSizing=!1,this.persist&&this._saveState(this);e=this._ownconnects.pop();)e.remove()}},_updateSize:function(t){this.paneBefore.sizeActual=this.paneBefore.sizeBeforeDrag+t,this.paneAfter.position=this.paneAfter.positionBeforeDrag+t,this.paneAfter.sizeActual=this.paneAfter.sizeBeforeDrag-t,e.forEach(this.getChildren(),function(e){e.sizeShare=e.sizeActual}),this._started&&this.layout()},_showSizingLine:function(){this._moveSizingLine(0),s.setMarginBox(this.virtualSizer,this.isHorizontal?{w:this.sizerWidth,h:this.paneHeight}:{w:this.paneWidth,h:this.sizerWidth}),this.virtualSizer.style.display="block"},_hideSizingLine:function(){this.virtualSizer.style.display="none"},_moveSizingLine:function(e){var t=e+this.sizingSplitter.positionBeforeDrag;a.set(this.virtualSizer,this.isHorizontal?"left":"top",t+"px")},_getCookieName:function(e){return this.id+"_"+e},_restoreState:function(){e.forEach(this.getChildren(),function(e,i){var o=this._getCookieName(i),n=t(o);if(n){var r=parseInt(n);"number"==typeof r&&(e.sizeShare=r)}},this)},_saveState:function(){this.persist&&e.forEach(this.getChildren(),function(e,i){t(this._getCookieName(i),e.sizeShare,{expires:365})},this)}});return g.ChildWidgetProperties={sizeMin:10,sizeShare:10},h.extend(p,g.ChildWidgetProperties),g}),define("dijit/layout/_TabContainerBase",["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","./StackContainer","./utils","../registry","../_TemplatedMixin","dojo/text!./templates/TabContainer.html"],function(e,t,i,o,n,r,s,a,d){return e("dijit.layout._TabContainerBase",[n,a],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:d,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,""),this.srcNodeRef&&o.set(this.srcNodeRef,"visibility","hidden"),this.inherited(arguments)},buildRendering:function(){this.inherited(arguments),this.tablist=this._makeController(this.tablistNode),this.doLayout||t.add(this.domNode,"dijitTabContainerNoLayout"),this.nested?(t.add(this.domNode,"dijitTabContainerNested"),t.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),t.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),t.add(this.containerNode,"dijitTabPaneWrapperNested")):t.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(e){t.add(e.domNode,"dijitTabPane"),this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&void 0!==this._contentBox.l){var e=this.selectedChildWidget;if(this.doLayout){var t=this.tabPosition.replace(/-h/,"");this.tablist.region=t;var o=[this.tablist,{domNode:this.tablistSpacer,region:t},{domNode:this.containerNode,region:"center"}];r.layoutChildren(this.domNode,this._contentBox,o),this._containerContentBox=r.marginBox2contentBox(this.containerNode,o[2]),e&&e.resize&&e.resize(this._containerContentBox)}else{if(this.tablist.resize){var n=this.tablist.domNode.style;n.width="0";var s=i.getContentBox(this.domNode).w;n.width="",this.tablist.resize({w:s})}e&&e.resize&&e.resize()}}},destroy:function(e){this.tablist&&this.tablist.destroy(e),this.inherited(arguments)},selectChild:function(e,t){return this._focused&&(e=s.byId(e),this.tablist.pane2button(e.id).focus()),this.inherited(arguments)}})}),define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f){var p=t("dijit.layout._StackButton",f,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(e){this.inherited(arguments),(this.focusNode||this.domNode).setAttribute("role","tab")}}),m=t("dijit.layout.StackController",[h,c,u],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:p,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(e){return l.byId(this.id+"_"+e)},postCreate:function(){this.inherited(arguments),this.own(a.subscribe(this.containerId+"-startup",r.hitch(this,"onStartup")),a.subscribe(this.containerId+"-addChild",r.hitch(this,"onAddChild")),a.subscribe(this.containerId+"-removeChild",r.hitch(this,"onRemoveChild")),a.subscribe(this.containerId+"-selectChild",r.hitch(this,"onSelectChild")),a.subscribe(this.containerId+"-containerKeyDown",r.hitch(this,"onContainerKeyDown"))),this.containerNode.dojoClick=!0,this.own(s(this.containerNode,"click",r.hitch(this,function(e){var t=l.getEnclosingWidget(e.target);if(t!=this.containerNode&&!t.disabled&&t.page)for(var o=e.target;o!==this.containerNode;o=o.parentNode){if(i.contains(o,this.buttonWidgetCloseClass)){this.onCloseButtonClick(t.page);break}if(o==t.domNode){this.onButtonClick(t.page);break}}})))},onStartup:function(t){this.textDir=t.textDir,e.forEach(t.children,this.onAddChild,this),t.selected&&this.onSelectChild(t.selected);var i=l.byId(this.containerId).containerNode,o=r.hitch(this,"pane2button"),n={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"},a=function(e,t){return s(i,"attrmodified-"+e,function(e){var i=o(e.detail&&e.detail.widget&&e.detail.widget.id);i&&i.set(t,e.detail.newValue)})};for(var d in n)this.own(a(d,n[d]))},destroy:function(e){this.destroyDescendants(e),this.inherited(arguments)},onAddChild:function(e,t){var i=r.isString(this.buttonWidget)?r.getObject(this.buttonWidget):this.buttonWidget,o=new i({id:this.id+"_"+e.id,name:this.id+"_"+e.id,label:e.title,disabled:e.disabled,ownerDocument:this.ownerDocument,dir:e.dir,lang:e.lang,textDir:e.textDir||this.textDir,showLabel:e.showTitle,iconClass:e.iconClass,closeButton:e.closable,title:e.tooltip,page:e});this.addChild(o,t),e.controlButton=o,this._currentChild||this.onSelectChild(e);var n=e._wrapper.getAttribute("aria-labelledby")?e._wrapper.getAttribute("aria-labelledby")+" "+o.id:o.id;e._wrapper.removeAttribute("aria-label"),e._wrapper.setAttribute("aria-labelledby",n)},onRemoveChild:function(e){this._currentChild===e&&(this._currentChild=null);var t=this.pane2button(e.id);t&&(this.removeChild(t),t.destroy()),delete e.controlButton},onSelectChild:function(e){if(e){if(this._currentChild){var t=this.pane2button(this._currentChild.id);t.set("checked",!1),t.focusNode.setAttribute("tabIndex","-1")}var i=this.pane2button(e.id);i.set("checked",!0),this._currentChild=e,i.focusNode.setAttribute("tabIndex","0");l.byId(this.containerId)}},onButtonClick:function(e){var t=this.pane2button(e.id);d.focus(t.focusNode),this._currentChild&&this._currentChild.id===e.id&&t.set("checked",!0);var i=l.byId(this.containerId);i.selectChild(e)},onCloseButtonClick:function(e){var t=l.byId(this.containerId);if(t.closeChild(e),this._currentChild){var i=this.pane2button(this._currentChild.id);i&&d.focus(i.focusNode||i.domNode)}},adjacent:function(t){this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(t=!t);var i,o=this.getChildren(),n=e.indexOf(o,this.pane2button(this._currentChild.id)),r=o[n];do{n=(n+(t?1:o.length-1))%o.length,i=o[n]}while(i.disabled&&i!=r);return i},onkeydown:function(e,t){if(!this.disabled&&!e.altKey){var i=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case n.LEFT_ARROW:case n.UP_ARROW:e._djpage||(i=!1);break;case n.PAGE_UP:e.ctrlKey&&(i=!1);break;case n.RIGHT_ARROW:case n.DOWN_ARROW:e._djpage||(i=!0);break;case n.PAGE_DOWN:e.ctrlKey&&(i=!0);break;case n.HOME:for(var o=this.getChildren(),r=0;r<o.length;r++){var s=o[r];if(!s.disabled){this.onButtonClick(s.page);break}}e.stopPropagation(),e.preventDefault();break;case n.END:for(var o=this.getChildren(),r=o.length-1;r>=0;r--){var s=o[r];if(!s.disabled){this.onButtonClick(s.page);break}}e.stopPropagation(),e.preventDefault();break;case n.DELETE:case"W".charCodeAt(0):this._currentChild.closable&&(e.keyCode==n.DELETE||e.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),e.stopPropagation(),e.preventDefault());break;case n.TAB:e.ctrlKey&&(this.onButtonClick(this.adjacent(!e.shiftKey).page),e.stopPropagation(),e.preventDefault())}null!==i&&(this.onButtonClick(this.adjacent(i).page),e.stopPropagation(),e.preventDefault())}}},onContainerKeyDown:function(e){e.e._djpage=e.page,this.onkeydown(e.e)}});return m.StackButton=p,m}),define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(e,t,i,o,n,r,s,a,d,l,h,c){var u=e("dijit.layout._TabButton"+(n("dojo-bidi")?"_NoBidi":""),a.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:c,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments),t.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var e=this.domNode;this.defer(function(){e.className=e.className},1)},_setCloseButtonAttr:function(e){if(this._set("closeButton",e),o.toggle(this.domNode,"dijitClosable",e),this.closeNode.style.display=e?"":"none",e){var t=r.getLocalization("dijit","common");this.closeNode&&i.set(this.closeNode,"title",t.itemClose)}},_setDisabledAttr:function(e){if(this.inherited(arguments),this.closeNode)if(e)i.remove(this.closeNode,"title");else{var t=r.getLocalization("dijit","common");i.set(this.closeNode,"title",t.itemClose)}},_setLabelAttr:function(e){this.inherited(arguments),this.showLabel||this.params.title||(this.iconNode.alt=s.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});n("dojo-bidi")&&(u=e("dijit.layout._TabButton",u,{_setLabelAttr:function(e){this.inherited(arguments),this.applyTextDir(this.iconNode,this.iconNode.alt)}}));var f=e("dijit.layout.TabController",a,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:u,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var e=new l({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(e){return o.contains(e,"dijitClosable")&&!o.contains(e,"dijitTabDisabled")}});this.own(e);var t=r.getLocalization("dijit","common"),i=this;e.addChild(new h({label:t.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(e){var t=d.byNode(this.getParent().currentTarget);i.onCloseButtonClick(t.page)}}))}});return f.TabButton=u,f}),define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_,v,b){var y=t("dijit.layout.ScrollingTabController",[f,m],{baseClass:"dijitTabController dijitScrollingTabController",templateString:c,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var e=this.domNode;this.scrollNode=this.tablistWrapper,this._initButtons(),this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None",i.add(e,"tabStrip-disabled")),i.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments),n.set(this.domNode,"visibility",""),this._postStartup=!0,this.own(a(this.containerNode,"attrmodified-label, attrmodified-iconclass",s.hitch(this,function(e){this._dim&&this.resize(this._dim)})))},onAddChild:function(e,t){this.inherited(arguments),n.set(this.containerNode,"width",n.get(this.containerNode,"width")+200+"px")},onRemoveChild:function(e,t){var i=this.pane2button(e.id);this._selectedTab===i.domNode&&(this._selectedTab=null),this.inherited(arguments)},_initButtons:function(){this._btnWidth=0,this._buttons=d("> .tabStripButton",this.domNode).filter(function(e){return this.useMenu&&e==this._menuBtn.domNode||this.useSlider&&(e==this._rightBtn.domNode||e==this._leftBtn.domNode)?(this._btnWidth+=o.getMarginSize(e).w,!0):(n.set(e,"display","none"),!1)},this)},_getTabsWidth:function(){var e=this.getChildren();if(e.length){var t=e[this.isLeftToRight()?0:e.length-1].domNode,i=e[this.isLeftToRight()?e.length-1:0].domNode;return i.offsetLeft+i.offsetWidth-t.offsetLeft}return 0},_enableBtn:function(e){var t=this._getTabsWidth();return e=e||n.get(this.scrollNode,"width"),t>0&&e<t},resize:function(e){this._dim=e,this.scrollNode.style.height="auto";var t=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:e.w});t.h=this.scrollNode.offsetHeight,o.setContentSize(this.domNode,t);var i=this._enableBtn(this._contentBox.w);return this._buttons.style("display",i?"":"none"),this._leftBtn.region="left",this._rightBtn.region="right",this._menuBtn.region=this.isLeftToRight()?"right":"left",p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]),this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab())),this._setButtonClass(this._getScroll()),this._postResize=!0,{h:this._contentBox.h,w:e.w}},_getScroll:function(){return this.isLeftToRight()||l("ie")<8||l("ie")&&l("quirks")||l("webkit")?this.scrollNode.scrollLeft:n.get(this.containerNode,"width")-n.get(this.scrollNode,"width")+(l("ie")>=8?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(e){if(this.isLeftToRight()||l("ie")<8||l("ie")&&l("quirks")||l("webkit"))return e;var t=n.get(this.containerNode,"width")-n.get(this.scrollNode,"width");return(l("ie")>=8?-1:1)*(e-t)},onSelectChild:function(e){var t=this.pane2button(e.id);if(t){var i=t.domNode;if(i!=this._selectedTab&&(this._selectedTab=i,this._postResize)){var o=this._getScroll();(o>i.offsetLeft||o+n.get(this.scrollNode,"width")<i.offsetLeft+n.get(i,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var e=this.getChildren(),t=n.get(this.scrollNode,"width"),i=n.get(this.containerNode,"width"),o=i-t,r=this._getTabsWidth();if(e.length&&r>t)return{min:this.isLeftToRight()?0:e[e.length-1].domNode.offsetLeft,max:this.isLeftToRight()?e[e.length-1].domNode.offsetLeft+e[e.length-1].domNode.offsetWidth-t:o};var s=this.isLeftToRight()?0:o;return{min:s,max:s}},_getScrollForSelectedTab:function(){this.scrollNode;var e=this._selectedTab,t=n.get(this.scrollNode,"width"),i=this._getScrollBounds(),o=e.offsetLeft+n.get(e,"width")/2-t/2;return o=Math.min(Math.max(o,i.min),i.max)},createSmoothScroll:function(e){if(arguments.length>0){var t=this._getScrollBounds();e=Math.min(Math.max(e,t.min),t.max)}else e=this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var i=this,o=this.scrollNode,n=new r.Animation({beforeBegin:function(){this.curve&&delete this.curve;var t=o.scrollLeft,s=i._convertToScrollLeft(e);n.curve=new r._Line(t,s)},onAnimate:function(e){o.scrollLeft=e}});return this._anim=n,this._setButtonClass(e),n},_getBtnNode:function(e){for(var t=e.target;t&&!i.contains(t,"tabStripButton");)t=t.parentNode;return t},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e))},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e))},doSlide:function(e,t){if(!t||!i.contains(t,"dijitTabDisabled")){var o=n.get(this.scrollNode,"width"),r=.75*o*e,s=this._getScroll()+r;this._setButtonClass(s),this.createSmoothScroll(s).play()}},_setButtonClass:function(e){var t=this._getScrollBounds();this._leftBtn.set("disabled",e<=t.min),this._rightBtn.set("disabled",e>=t.max)}}),C=t("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:u,tabIndex:"",isFocusable:function(){return!1}});return t("dijit.layout._ScrollingTabControllerButton",[v,C]),t("dijit.layout._ScrollingTabControllerMenuButton",[v,b,C],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(t){this.dropDown=new g({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var i=h.byId(this.containerId);e.forEach(i.getChildren(),function(e){var t=new _({id:e.id+"_stcMi",label:e.title,iconClass:e.iconClass,disabled:e.disabled,ownerDocument:this.ownerDocument,dir:e.dir,lang:e.lang,textDir:e.textDir||i.textDir,onClick:function(){i.selectChild(e)}});this.dropDown.addChild(t)},this),t()},closeDropDown:function(e){this.inherited(arguments),this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}}),y}),define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(e,t,i,o,n){return t("dijit.layout.TabContainer",i,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(t){var i=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),o="string"==typeof this.controllerWidget?e.getObject(this.controllerWidget):this.controllerWidget;return new o({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,class:i,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},t)},postMixInProperties:function(){this.inherited(arguments),this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?o:n)}})}),define("dijit/dijit-all",["./main","./dijit","./ColorPalette","./Declaration","./Dialog","./DialogUnderlay","./TooltipDialog","./Editor","./_editor/plugins/FontChoice","./_editor/plugins/LinkDialog","./Menu","./MenuItem","./PopupMenuItem","./CheckedMenuItem","./MenuBar","./MenuBarItem","./PopupMenuBarItem","./MenuSeparator","./ProgressBar","./TitlePane","./Toolbar","./Tooltip","./Tree","./InlineEditBox","./form/Form","./form/Button","./form/DropDownButton","./form/ComboButton","./form/ToggleButton","./form/CheckBox","./form/RadioButton","./form/TextBox","./form/ValidationTextBox","./form/CurrencyTextBox","./form/DateTextBox","./form/TimeTextBox","./form/NumberSpinner","./form/NumberTextBox","./form/ComboBox","./form/FilteringSelect","./form/MultiSelect","./form/Select","./form/HorizontalSlider","./form/VerticalSlider","./form/HorizontalRule","./form/VerticalRule","./form/HorizontalRuleLabels","./form/VerticalRuleLabels","./form/SimpleTextarea","./form/Textarea","./layout/AccordionContainer","./layout/ContentPane","./layout/BorderContainer","./layout/LayoutContainer","./layout/LinkPane","./layout/SplitContainer","./layout/StackContainer","./layout/TabContainer"],function(e){return console.warn("dijit-all may include much more code than your application actually requires. We strongly recommend that you investigate a custom build or the web build tool"),e}),define("dijit/RadioMenuItem",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/query!css2","./CheckedMenuItem","./registry"],function(e,t,i,o,n,r){return t("dijit.RadioButtonMenuItem",n,{baseClass:"dijitMenuItem dijitRadioMenuItem",role:"menuitemradio",checkedChar:"*",group:"",_setGroupAttr:"domNode",_setCheckedAttr:function(t){this.inherited(arguments),this._created&&t&&this.group&&e.forEach(this._getRelatedWidgets(),function(e){e!=this&&e.checked&&e.set("checked",!1)},this)},_onClick:function(e){this.disabled||this.checked||(this.set("checked",!0),this.onChange(!0)),this.onClick(e)},_getRelatedWidgets:function(){var e=[];return o("[group="+this.group+"][role="+this.role+"]").forEach(function(t){var i=r.getEnclosingWidget(t);i&&e.push(i)}),e}})}),define("dijit/_editor/plugins/FullScreen",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../../registry","dojo/i18n!../nls/commands"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m){var g=t("dijit._editor.plugins.FullScreen",f,{zIndex:500,_origState:null,_origiFrameState:null,_resizeHandle:null,isFullscreen:!1,toggle:function(){this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var e=r.getLocalization("dijit._editor","commands"),t=this.editor;this.button=new p({label:e.fullScreen,ownerDocument:t.ownerDocument,dir:t.dir,lang:t.lang,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"FullScreen",tabIndex:"-1",onChange:a.hitch(this,"_setFullScreen")})},setEditor:function(e){this.editor=e,this._initButton(),this.editor.addKeyHandler(s.F11,!0,!0,a.hitch(this,function(e){return this.toggle(),e.stopPropagation(),e.preventDefault(),this.editor.defer("focus",250),!0})),this.own(d(this.editor.domNode,"keydown",a.hitch(this,"_containFocus")))},_containFocus:function(e){if(this.isFullscreen){var t=this.editor;if(!t.isTabIndent&&t._fullscreen_oldOnKeyDown&&e.keyCode===s.TAB){var i=u.curNode,o=this._getAltViewNode();i==t.iframe||o&&i===o?setTimeout(a.hitch(this,function(){t.toolbar.focus()}),10):o&&"none"===n.get(t.iframe,"display")?setTimeout(a.hitch(this,function(){u.focus(o)}),10):setTimeout(a.hitch(this,function(){t.focus()}),10),event.stopPropagation(),event.preventDefault()}else t._fullscreen_oldOnKeyDown&&t._fullscreen_oldOnKeyDown(e)}},_resizeEditor:function(){var e=c.getBox(this.editor.ownerDocument);o.setMarginBox(this.editor.domNode,{w:e.w,h:e.h});var t=this.editor.getHeaderHeight(),i=this.editor.getFooterHeight(),n=o.getPadBorderExtents(this.editor.domNode),r=o.getPadBorderExtents(this.editor.iframe.parentNode),s=o.getMarginExtents(this.editor.iframe.parentNode),a=e.h-(t+n.h+i);o.setMarginBox(this.editor.iframe.parentNode,{h:a,w:e.w}),o.setMarginBox(this.editor.iframe,{h:a-(r.h+s.h)})},_getAltViewNode:function(){},_setFullScreen:function(t){var r=this.editor,s=r.ownerDocumentBody,h=r.domNode.parentNode,u=c.getBox(r.ownerDocument);if(this.isFullscreen=t,t){for(;h&&h!==s;)i.add(h,"dijitForceStatic"),h=h.parentNode;this._editorResizeHolder=this.editor.resize,r.resize=function(){},r._fullscreen_oldOnKeyDown=r.onKeyDown,r.onKeyDown=a.hitch(this,this._containFocus),this._origState={},this._origiFrameState={};var f=r.domNode,p=f&&f.style||{};this._origState={width:p.width||"",height:p.height||"",top:n.get(f,"top")||"",left:n.get(f,"left")||"",position:n.get(f,"position")||"static",marginBox:o.getMarginBox(r.domNode)};var g=r.iframe,_=g&&g.style||{},v=n.get(r.iframe,"backgroundColor");if(this._origiFrameState={backgroundColor:v||"transparent",width:_.width||"auto",height:_.height||"auto",zIndex:_.zIndex||""},n.set(r.domNode,{position:"absolute",top:"0px",left:"0px",zIndex:this.zIndex,width:u.w+"px",height:u.h+"px"}),n.set(r.iframe,{height:"100%",width:"100%",zIndex:this.zIndex,backgroundColor:"transparent"!==v&&"rgba(0, 0, 0, 0)"!==v?v:"white"}),n.set(r.iframe.parentNode,{height:"95%",width:"100%"}),s.style&&s.style.overflow?this._oldOverflow=n.get(s,"overflow"):this._oldOverflow="",l("ie")&&!l("quirks")){if(s.parentNode&&s.parentNode.style&&s.parentNode.style.overflow)this._oldBodyParentOverflow=s.parentNode.style.overflow;else try{this._oldBodyParentOverflow=n.get(s.parentNode,"overflow")}catch(e){this._oldBodyParentOverflow="scroll"}n.set(s.parentNode,"overflow","hidden")}n.set(s,"overflow","hidden");this._resizeHandle=d(window,"resize",a.hitch(this,function(){var e=c.getBox(r.ownerDocument);if("_prevW"in this&&"_prevH"in this){if(e.w===this._prevW&&e.h===this._prevH)return}else this._prevW=e.w,this._prevH=e.h;this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizer=setTimeout(a.hitch(this,function(){delete this._resizer,this._resizeEditor()}),10)})),this._resizeHandle2=e.after(r,"onResize",a.hitch(this,function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(a.hitch(this,function(){delete this._resizer,this._resizeEditor()}),10)})),this._resizeEditor();var b=this.editor.toolbar.domNode;setTimeout(function(){c.scrollIntoView(b)},250)}else{for(this._resizeHandle&&(this._resizeHandle.remove(),this._resizeHandle=null),this._resizeHandle2&&(this._resizeHandle2.remove(),this._resizeHandle2=null),this._rst&&(clearTimeout(this._rst),this._rst=null);h&&h!==s;)i.remove(h,"dijitForceStatic"),h=h.parentNode;if(this._editorResizeHolder&&(this.editor.resize=this._editorResizeHolder),!this._origState&&!this._origiFrameState)return;r._fullscreen_oldOnKeyDown&&(r.onKeyDown=r._fullscreen_oldOnKeyDown,delete r._fullscreen_oldOnKeyDown);var y=this;setTimeout(function(){var e=y._origState.marginBox,t=y._origState.height;l("ie")&&!l("quirks")&&(s.parentNode.style.overflow=y._oldBodyParentOverflow,delete y._oldBodyParentOverflow),n.set(s,"overflow",y._oldOverflow),delete y._oldOverflow,n.set(r.domNode,y._origState),n.set(r.iframe.parentNode,{height:"",width:""}),n.set(r.iframe,y._origiFrameState),delete y._origState,delete y._origiFrameState;var i=m.getEnclosingWidget(r.domNode.parentNode);i&&i.resize?i.resize():(!t||t.indexOf("%")<0)&&setTimeout(a.hitch(this,function(){r.resize({h:e.h})}),0),c.scrollIntoView(y.editor.toolbar.domNode)},100)}},updateState:function(){this.button.set("disabled",this.get("disabled"))},destroy:function(){this._resizeHandle&&(this._resizeHandle.remove(),this._resizeHandle=null),this._resizeHandle2&&(this._resizeHandle2.remove(),this._resizeHandle2=null),this._resizer&&(clearTimeout(this._resizer),this._resizer=null),this.inherited(arguments)}});return f.registry.fullScreen=f.registry.fullscreen=function(e){return new g({zIndex:"zIndex"in e?e.zIndex:500})},g}),define("dijit/_editor/plugins/TabIndent",["dojo/_base/declare","dojo/_base/kernel","../_Plugin","../../form/ToggleButton"],function(e,t,i,o){t.experimental("dijit._editor.plugins.TabIndent");var n=e("dijit._editor.plugins.TabIndent",i,{useDefaultCommand:!1,buttonClass:o,command:"tabIndent",_initButton:function(){this.inherited(arguments);var e=this.editor;this.own(this.button.on("change",function(t){e.set("isTabIndent",t)})),this.updateState()},updateState:function(){var e=this.get("disabled");this.button.set("disabled",e),e||this.button.set("checked",this.editor.isTabIndent,!1)}});return i.registry.tabIndent=function(){return new n({command:"tabIndent"})},n}),define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(e,t,i,o,n,r){var s=i("dijit._editor.plugins.TextColor",n,{buttonClass:r,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name,this.inherited(arguments);var t=this;this.button.loadDropDown=function(i){function o(e){t.button.dropDown=new e({dir:t.editor.dir,ownerDocument:t.editor.ownerDocument,value:t.value,onChange:function(e){t.editor.execCommand(t.command,e)},onExecute:function(){t.editor.execCommand(t.command,this.get("value"))}}),i()}"string"==typeof t.colorPicker?e([t.colorPicker],o):o(t.colorPicker)}},updateState:function(){var e=this.editor,i=this.command;if(e&&e.isLoaded&&i.length){if(this.button){var o,n=this.get("disabled");if(this.button.set("disabled",n),n)return;try{o=e.queryCommandValue(i)||""}catch(e){o=""}}""==o&&(o="#000000"),"transparent"==o&&(o="#ffffff"),"string"==typeof o?o.indexOf("rgb")>-1&&(o=t.fromRgb(o).toHex()):(o=(o=(255&o)<<16|65280&o|(16711680&o)>>>16).toString(16),o="#000000".slice(0,7-o.length)+o),this.value=o;var r=this.button.dropDown;r&&r.get&&o!==r.get("value")&&r.set("value",o,!1)}}});return n.registry.foreColor=function(e){return new s(e)},n.registry.hiliteColor=function(e){return new s(e)},s}),define("dijit/_editor/plugins/ViewSource",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../..","../../registry","dojo/i18n!../nls/commands"],function(e,t,i,o,n,r,s,a,d,l,h,c,u,f,p,m,g,_){var v=i("dijit._editor.plugins.ViewSource",p,{stripScripts:!0,stripComments:!0,stripIFrames:!0,readOnly:!1,_fsPlugin:null,toggle:function(){c("webkit")&&(this._vsFocused=!0),this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var e=a.getLocalization("dijit._editor","commands"),t=this.editor;this.button=new m({label:e.viewSource,ownerDocument:t.ownerDocument,dir:t.dir,lang:t.lang,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:l.hitch(this,"_showSource")}),7==c("ie")&&(this._ieFixNode=n.create("div",{style:{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}},t.ownerDocumentBody)),this.button.set("readOnly",!1)},setEditor:function(e){this.editor=e,this._initButton(),this.editor.addKeyHandler(d.F12,!0,!0,l.hitch(this,function(e){this.button.focus(),this.toggle(),e.stopPropagation(),e.preventDefault(),setTimeout(l.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(i){var o,n=this.editor,r=n._plugins;this._sourceShown=i;var a=this;try{if(this.sourceArea||this._createSourceView(),i){n._sourceQueryCommandEnabled=n.queryCommandEnabled,n.queryCommandEnabled=function(e){return"viewsource"===e.toLowerCase()},this.editor.onDisplayChanged(),o=n.get("value"),o=this._filter(o),n.set("value",o),e.forEach(r,function(e){!e||e instanceof v||!e.isInstanceOf(p)||e.set("disabled",!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return a.sourceArea}),this.sourceArea.value=o,this.sourceArea.style.height=n.iframe.style.height,this.sourceArea.style.width=n.iframe.style.width,s.set(n.iframe,"display","none"),s.set(this.sourceArea,{display:"block"});this._resizeHandle=h(window,"resize",l.hitch(this,function(){var e=u.getBox(n.ownerDocument);if("_prevW"in this&&"_prevH"in this){if(e.w===this._prevW&&e.h===this._prevH)return;this._prevW=e.w,this._prevH=e.h}else this._prevW=e.w,this._prevH=e.h;this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizer=setTimeout(l.hitch(this,function(){delete this._resizer,this._resize()}),10)})),setTimeout(l.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=l.hitch(this,function(){var e=this.sourceArea.value;return e=this._filter(e)}),this._setListener=t.after(this.editor,"setValue",l.hitch(this,function(e){e=e||"",e=this._filter(e),this.sourceArea.value=e}),!0)}else{if(!n._sourceQueryCommandEnabled)return;this._setListener.remove(),delete this._setListener,this._resizeHandle.remove(),delete this._resizeHandle,this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue),n.queryCommandEnabled=n._sourceQueryCommandEnabled,this._readOnly||(o=this.sourceArea.value,o=this._filter(o),n.beginEditing(),n.set("value",o),n.endEditing()),e.forEach(r,function(e){e&&e.isInstanceOf(p)&&e.set("disabled",!1)}),s.set(this.sourceArea,"display","none"),s.set(n.iframe,"display","block"),delete n._sourceQueryCommandEnabled,this.editor.onDisplayChanged()}setTimeout(l.hitch(this,function(){var e=n.domNode.parentNode;if(e){var t=_.getEnclosingWidget(e);t&&t.resize&&t.resize()}n.resize()}),300)}catch(e){console.log(e)}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var e=this.editor,t=e.getHeaderHeight(),i=e.getFooterHeight(),o=r.position(e.domNode),n=r.getPadBorderExtents(e.iframe.parentNode),s=r.getMarginExtents(e.iframe.parentNode),a=r.getPadBorderExtents(e.domNode),d={w:o.w-a.w,h:o.h-(t+a.h+i)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var l=u.getBox(e.ownerDocument);d.w=l.w-a.w,d.h=l.h-(t+a.h+i)}if(c("ie")&&(d.h-=2),this._ieFixNode){var h=-this._ieFixNode.offsetTop/1e3;d.w=Math.floor((d.w+.9)/h),d.h=Math.floor((d.h+.9)/h)}r.setMarginBox(this.sourceArea,{w:d.w-(n.w+s.w),h:d.h-(n.h+s.h)}),r.setMarginBox(e.iframe.parentNode,{h:d.h})},_createSourceView:function(){var e=this.editor,t=e._plugins;this.sourceArea=n.create("textarea"),this.readOnly&&(o.set(this.sourceArea,"readOnly",!0),this._readOnly=!0),s.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"}),o.set(this.sourceArea,"aria-label",this.editor.id),n.place(this.sourceArea,e.iframe,"before"),c("ie")&&e.iframe.parentNode.lastChild!==e.iframe&&s.set(e.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"}),e._viewsource_oldFocus=e.focus;var i,r,a=this;for(e.focus=function(){if(a._sourceShown)a.setSourceAreaCaret();else try{this._vsFocused?(delete this._vsFocused,f.focus(e.editNode)):e._viewsource_oldFocus()}catch(e){console.log(e)}},i=0;i<t.length;i++)if((r=t[i])&&("dijit._editor.plugins.FullScreen"===r.declaredClass||r.declaredClass===g._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=r;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return a._sourceShown?a.sourceArea:this._viewsource_getAltViewNode()}),this.own(h(this.sourceArea,"keydown",l.hitch(this,function(t){this._sourceShown&&t.keyCode==d.F12&&t.ctrlKey&&t.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(l.hitch(this,function(){e.focus()}),100),t.stopPropagation(),t.preventDefault())})))},_stripScripts:function(e){return e&&(e=(e=(e=e.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/gi,"")).replace(/<\s*script\b([^<>]|\s)*>?/gi,"")).replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/gi,"")),e},_stripComments:function(e){return e&&(e=e.replace(/<!--(.|\s){1,}?-->/g,"")),e},_stripIFrames:function(e){return e&&(e=e.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/gi,"")),e},_filter:function(e){return e&&(this.stripScripts&&(e=this._stripScripts(e)),this.stripComments&&(e=this._stripComments(e)),this.stripIFrames&&(e=this._stripIFrames(e))),e},setSourceAreaCaret:function(){var e=this.sourceArea;if(f.focus(e),this._sourceShown&&!this.readOnly)if(e.setSelectionRange)e.setSelectionRange(0,0);else if(this.sourceArea.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveStart("character",-99999),t.moveStart("character",0),t.moveEnd("character",0),t.select()}},destroy:function(){this._ieFixNode&&n.destroy(this._ieFixNode),this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizeHandle&&(this._resizeHandle.remove(),delete this._resizeHandle),this._setListener&&(this._setListener.remove(),delete this._setListener),this.inherited(arguments)}});return p.registry.viewSource=p.registry.viewsource=function(e){return new v({readOnly:"readOnly"in e&&e.readOnly,stripComments:!("stripComments"in e)||e.stripComments,stripScripts:!("stripScripts"in e)||e.stripScripts,stripIFrames:!("stripIFrames"in e)||e.stripIFrames})},v}),define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(e,t,i){return e("dijit.layout.AccordionPane",i,{constructor:function(){t.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0")},onSelected:function(){}})}),define("dijit/tree/ObjectStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/_base/lang","dojo/when","../Destroyable"],function(e,t,i,o,n,r,s){return i("dijit.tree.ObjectStoreModel",s,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(e){n.mixin(this,e),this.childrenCache={}},getRoot:function(e,t){if(this.root)e(this.root);else{var i=this.store.query(this.query);i.then&&this.own(i),r(i,n.hitch(this,function(t){if(1!=t.length)throw new Error("dijit.tree.ObjectStoreModel: root query returned "+t.length+" items, but must return exactly one");this.root=t[0],e(this.root),i.observe&&i.observe(n.hitch(this,function(e){this.onChange(e)}),!0)}),t)}},mayHaveChildren:function(){return!0},getChildren:function(e,t,i){var o=this.store.getIdentity(e);if(this.childrenCache[o])r(this.childrenCache[o],t,i);else{var s=this.childrenCache[o]=this.store.getChildren(e);s.then&&this.own(s),s.observe&&this.own(s.observe(n.hitch(this,function(t,i,o){this.onChange(t),i!=o&&r(s,n.hitch(this,"onChildrenChange",e))}),!0)),r(s,t,i)}},isItem:function(){return!0},getIdentity:function(e){return this.store.getIdentity(e)},getLabel:function(e){return e[this.labelAttr]},newItem:function(e,t,i,o){return this.store.put(e,{parent:t,before:o})},pasteItem:function(t,i,r,s,a,d){var l=new o;return i!==r||s||d?(i&&!s?this.getChildren(i,n.hitch(this,function(o){o=[].concat(o);var n=e.indexOf(o,t);o.splice(n,1),this.onChildrenChange(i,o),l.resolve(this.store.put(t,{overwrite:!0,parent:r,oldParent:i,before:d}))})):l.resolve(this.store.put(t,{overwrite:!0,parent:r,oldParent:i,before:d})),l):(l.resolve(!0),l)},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})}),define("dijit/main",["dojo/_base/kernel","dijit/dijit-all","dijit/RadioMenuItem","dijit/_editor/plugins/FullScreen","dijit/_editor/plugins/TabIndent","dijit/_editor/plugins/TextColor","dijit/_editor/plugins/ViewSource","dijit/layout/AccordionPane","dijit/tree/ObjectStoreModel"],function(e){return e.dijit}),define("dijit",["dijit/main"],function(e){return e})}(define,require),!isAmd){var skylarkjs=require("skylark-langx/skylark");isCmd?module.exports=skylarkjs:globals.skylarkjs=skylarkjs}}(0,this);
//# sourceMappingURL=sourcemaps/dijit-all.js.map
